angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(e){var n=e.storageKey(),a=e.storage(),t=function(){var t=e.preferredLanguage();angular.isString(t)?e.use(t):a.put(n,e.use())};a?a.get(n)?e.use(a.get(n)).catch(t):t():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(t){var C,u,D,T,S,E,O,e,M,A,P,I,F,L,U,N={},d=[],V=t,H=[],z=!1,j="translate-cloak",R=!1,n=function(){var t,e,n=window.navigator,a=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(n.languages))for(t=0;t<n.languages.length;t++)if((e=n.languages[t])&&e.length)return e;for(t=0;t<a.length;t++)if((e=n[a[t]])&&e.length)return e;return null};n.displayName="angular-translate/service: getFirstBrowserLanguage";var a=function(){return(n()||"").split("-").join("_")};a.displayName="angular-translate/service: getLocale";var _=function(t,e){for(var n=0,a=t.length;n<a;n++)if(t[n]===e)return n;return-1},q=function(){return this.replace(/^\s+|\s+$/g,"")},B=function(t){for(var e,n=[],a=angular.lowercase(t),i=0,o=d.length;i<o;i++)n.push(angular.lowercase(d[i]));if(-1<_(n,a))return t;if(u)for(var r in u){var s=!1,l=Object.prototype.hasOwnProperty.call(u,r)&&angular.lowercase(r)===angular.lowercase(t);if("*"===r.slice(-1)&&(s=r.slice(0,-1)===t.slice(0,r.length-1)),(l||s)&&(e=u[r],-1<_(n,angular.lowercase(e))))return e}var c=t.split("_");return 1<c.length&&-1<_(n,angular.lowercase(c[0]))?c[0]:t},W=function(t,e){if(!t&&!e)return N;if(t&&!e){if(angular.isString(t))return N[t]}else angular.isObject(N[t])||(N[t]={}),angular.extend(N[t],G(e));return this};this.translations=W,this.cloakClassName=function(t){return t?(j=t,this):j};var G=function(t,e,n,a){var i,o,r;for(i in e||(e=[]),n||(n={}),t)Object.prototype.hasOwnProperty.call(t,i)&&(r=t[i],angular.isObject(r)?G(r,e.concat(i),n,i):(o=e.length?e.join(".")+"."+i:i,e.length&&i===a&&(n[""+e.join(".")]="@:"+o),n[o]=r));return n};this.addInterpolation=function(t){return H.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return A=t,this},this.useSanitizeValueStrategy=function(t){return z=t,this},this.preferredLanguage=function(t){return K(t),this};var K=function(t){return t&&(C=t),C};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(F=t,this):F},this.translationNotFoundIndicatorRight=function(t){return t?(L=t,this):L},this.fallbackLanguage=function(t){return Y(t),this};var Y=function(t){return t?(angular.isString(t)?(T=!0,D=[t]):angular.isArray(t)&&(T=!1,D=t),angular.isString(C)&&_(D,C)<0&&D.push(C),this):T?D[0]:D};this.use=function(t){if(t){if(!N[t]&&!P)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return S=t,this}return S};var X=function(t){if(!t)return e?e+V:V;V=t};this.storageKey=X,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return P=t,I=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return O=t,this},this.storagePrefix=function(t){return t?(e=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return M=t,this},this.usePostCompiling=function(t){return R=!!t,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():a();return C=d.length?B(e):e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(d=t,e&&(u=e),this):d},this.useLoaderCache=function(t){return!1===t?U=void 0:!0===t?U=!0:void 0===t?U="$translationCache":t&&(U=t),this},this.$get=["$log","$injector","$rootScope","$q",function(t,i,l,d){var a,p,f,m=i.get(A||"$translateDefaultInterpolation"),h=!1,g={},c={},v=function(t,r,s){if(angular.isArray(t)){return function(t){for(var a={},e=[],n=function(e){var n=d.defer(),t=function(t){a[e]=t,n.resolve([e,t])};return v(e,r,s).then(t,t),n.promise},i=0,o=t.length;i<o;i++)e.push(n(t[i]));return d.all(e).then(function(){return a})}(t)}var e=d.defer();t&&(t=q.apply(t));var n=function(){var t=C?c[C]:c[S];if(p=0,O&&!t){var e=a.get(V);if(t=c[e],D&&D.length){var n=_(D,e);p=0===n?1:0,_(D,C)<0&&D.push(C)}}return t}();return n?n.then(function(){o(t,r,s).then(e.resolve,e.reject)},e.reject):o(t,r,s).then(e.resolve,e.reject),e.promise},b=function(t){return F&&(t=[F,t].join(" ")),L&&(t=[t,L].join(" ")),t},u=function(t){S=t,l.$emit("$translateChangeSuccess",{language:t}),O&&a.put(v.storageKey(),S),m.setLocale(S),angular.forEach(g,function(t,e){g[e].setLocale(S)}),l.$emit("$translateChangeEnd",{language:t})},y=function(n){if(!n)throw"No language key specified for loading.";var a=d.defer();l.$emit("$translateLoadingStart",{language:n}),h=!0;var t=U;"string"==typeof t&&(t=i.get(t));var e=angular.extend({},I,{key:n,$http:angular.extend({},{cache:t},I.$http)});return i.get(P)(e).then(function(t){var e={};l.$emit("$translateLoadingSuccess",{language:n}),angular.isArray(t)?angular.forEach(t,function(t){angular.extend(e,G(t))}):angular.extend(e,G(t)),h=!1,a.resolve({key:n,table:e}),l.$emit("$translateLoadingEnd",{language:n})},function(t){l.$emit("$translateLoadingError",{language:t}),a.reject(t),l.$emit("$translateLoadingEnd",{language:t})}),a.promise};if(O&&(!(a=i.get(O)).get||!a.put))throw new Error("Couldn't use storage '"+O+"', missing get() or put() method!");angular.isFunction(m.useSanitizeValueStrategy)&&m.useSanitizeValueStrategy(z),H.length&&angular.forEach(H,function(t){var e=i.get(t);e.setLocale(C||S),angular.isFunction(e.useSanitizeValueStrategy)&&e.useSanitizeValueStrategy(z),g[e.getInterpolationIdentifier()]=e});var r=function(e,n,a,i){var t,o,r=d.defer();return(t=e,o=d.defer(),Object.prototype.hasOwnProperty.call(N,t)?o.resolve(N[t]):c[t]?c[t].then(function(t){W(t.key,t.table),o.resolve(t.table)},o.reject):o.reject(),o.promise).then(function(t){Object.prototype.hasOwnProperty.call(t,n)?(i.setLocale(e),r.resolve(i.interpolate(t[n],a)),i.setLocale(S)):r.reject()},r.reject),r.promise},$=function(t){if(M){var e=i.get(M)(t,S);return void 0!==e?e:t}return t},w=function(t,e,n,a){var i=d.defer();if(t<D.length){var o=D[t];r(o,e,n,a).then(i.resolve,function(){w(t+1,e,n,a).then(i.resolve)})}else i.resolve($(e));return i.promise},x=function(t,e,n,a){var i,o,r,s,l,c,u;if(t<D.length){var d=D[t];r=e,s=n,l=a,(u=N[o=d])&&Object.prototype.hasOwnProperty.call(u,r)&&(l.setLocale(o),c=l.interpolate(u[r],s),l.setLocale(S)),(i=c)||(i=x(t+1,e,n,a))}return i},o=function(t,e,n){var a,i,o,r=d.defer(),s=S?N[S]:N,l=n?g[n]:m;if(s&&Object.prototype.hasOwnProperty.call(s,t)){var c=s[t];"@:"===c.substr(0,2)?v(c.substr(2),e,n).then(r.resolve,r.reject):r.resolve(l.interpolate(c,e))}else{var u;M&&!h&&(u=$(t)),S&&D&&D.length?(a=t,i=e,o=l,w(0<f?f:p,a,i,o)).then(function(t){r.resolve(t)},function(t){r.reject(b(t))}):M&&!h&&u?r.resolve(u):r.reject(b(t))}return r.promise},k=function(t,e,n){var a,i=S?N[S]:N,o=n?g[n]:m;if(i&&Object.prototype.hasOwnProperty.call(i,t)){var r=i[t];a="@:"===r.substr(0,2)?k(r.substr(2),e,n):o.interpolate(r,e)}else{var s;M&&!h&&(s=$(t)),a=S&&D&&D.length?x((p=0)<f?f:p,t,e,o):M&&!h&&s?s:b(t)}return a};if(v.preferredLanguage=function(t){return t&&K(t),C},v.cloakClassName=function(){return j},v.fallbackLanguage=function(t){if(null!=t){if(Y(t),P&&D&&D.length)for(var e=0,n=D.length;e<n;e++)c[D[e]]||(c[D[e]]=y(D[e]));v.use(v.use())}return T?D[0]:D},v.useFallbackLanguage=function(t){if(null!=t)if(t){var e=_(D,t);-1<e&&(f=e)}else f=0},v.proposedLanguage=function(){return E},v.storage=function(){return a},v.use=function(e){if(!e)return S;var n=d.defer();l.$emit("$translateChangeStart",{language:e});var t=B(e);return t&&(e=t),N[e]||!P||c[e]?(n.resolve(e),u(e)):c[E=e]=y(e).then(function(t){return W(t.key,t.table),n.resolve(t.key),u(t.key),E===e&&(E=void 0),t},function(t){E===t&&(E=void 0),l.$emit("$translateChangeError",{language:t}),n.reject(t),l.$emit("$translateChangeEnd",{language:t})}),n.promise},v.storageKey=function(){return X()},v.isPostCompilingEnabled=function(){return R},v.refresh=function(e){if(!P)throw new Error("Couldn't refresh translation table, no loader registered!");var t=d.defer();function n(){t.resolve(),l.$emit("$translateRefreshEnd",{language:e})}function a(){t.reject(),l.$emit("$translateRefreshEnd",{language:e})}if(l.$emit("$translateRefreshStart",{language:e}),e)N[e]?y(e).then(function(t){W(t.key,t.table),e===S&&u(S),n()},a):a();else{var i=[],o={};if(D&&D.length)for(var r=0,s=D.length;r<s;r++)i.push(y(D[r])),o[D[r]]=!0;S&&!o[S]&&i.push(y(S)),d.all(i).then(function(t){angular.forEach(t,function(t){N[t.key]&&delete N[t.key],W(t.key,t.table)}),S&&u(S),n()})}return t.promise},v.instant=function(t,e,n){if(null===t||angular.isUndefined(t))return t;if(angular.isArray(t)){for(var a={},i=0,o=t.length;i<o;i++)a[t[i]]=v.instant(t[i],e,n);return a}if(angular.isString(t)&&t.length<1)return t;t&&(t=q.apply(t));var r,s=[];C&&s.push(C),S&&s.push(S),D&&D.length&&(s=s.concat(D));for(var l=0,c=s.length;l<c;l++){var u=s[l];if(N[u]&&void 0!==N[u][t]&&(r=k(t,e,n)),void 0!==r)break}return r||""===r||(r=m.interpolate(t,e),M&&!h&&(r=$(t))),r},v.versionInfo=function(){return"2.5.2"},v.loaderCache=function(){return U},P&&(angular.equals(N,{})&&v.use(v.use()),D&&D.length))for(var e=function(t){return W(t.key,t.table),l.$emit("$translateChangeEnd",{language:t.key}),t},n=0,s=D.length;n<s;n++)c[D[n]]=y(D[n]).then(e);return v}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(a){var t={},i=null,o={escaped:function(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=angular.element("<div></div>").text(t[n]).html());return e}};return t.setLocale=function(t){t},t.getInterpolationIdentifier=function(){return"default"},t.useSanitizeValueStrategy=function(t){return i=t,this},t.interpolate=function(t,e){var n;return i&&(n=e,e=angular.isFunction(o[i])?o[i](n):n),a(t)(e||{})},t}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(y,t,$,w,x,k){return{restrict:"AE",scope:!0,compile:function(t,f){var m=f.translateValues?f.translateValues:void 0,h=f.translateInterpolation?f.translateInterpolation:void 0,g=t[0].outerHTML.match(/translate-value-+/i),v="^(.*)("+$.startSymbol()+".*"+$.endSymbol()+")(.*)",b="^(.*)"+$.startSymbol()+"(.*)"+$.endSymbol()+"(.*)";return function(a,l,c){a.interpolateParams={},a.preText="",a.postText="";var n={},e=function(t){if(angular.equals(t,"")||!angular.isDefined(t)){var e=l.text().match(v);angular.isArray(e)?(a.preText=e[1],a.postText=e[3],n.translate=$(e[2])(a.$parent),watcherMatches=l.text().match(b),angular.isArray(watcherMatches)&&watcherMatches[2]&&watcherMatches[2].length&&a.$watch(watcherMatches[2],function(t){n.translate=t,s()})):n.translate=l.text().replace(/^\s+|\s+$/g,"")}else n.translate=t;s()},t=function(e){c.$observe(e,function(t){n[e]=t,s()})};for(var i in c.$observe("translate",function(t){e(t)}),c)c.hasOwnProperty(i)&&"translateAttr"===i.substr(0,13)&&t(i);if(c.$observe("translateDefault",function(t){a.defaultText=t}),m&&c.$observe("translateValues",function(t){t&&a.$parent.$watch(function(){angular.extend(a.interpolateParams,x(t)(a.$parent))})}),g){var o=function(n){c.$observe(n,function(t){var e=angular.lowercase(n.substr(14,1))+n.substr(15);a.interpolateParams[e]=t})};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&"translateValue"===r.substr(0,14)&&"translateValues"!==r&&o(r)}var s=function(){for(var t in n)n.hasOwnProperty(t)&&n[t]&&u(t,n[t],a,a.interpolateParams)},u=function(e,t,n,a){y(t,a,h).then(function(t){d(t,n,!0,e)},function(t){d(t,n,!1,e)})},d=function(t,e,n,a){if("translate"===a){n||void 0===e.defaultText||(t=e.defaultText),l.html(e.preText+t+e.postText);var i=y.isPostCompilingEnabled(),o=void 0!==f.translateCompile,r=o&&"false"!==f.translateCompile;(i&&!o||r)&&w(l.contents())(e)}else{n||void 0===e.defaultText||(t=e.defaultText);var s=c.$attr[a].substr(15);l.attr(s,t)}};a.$watch("interpolateParams",s,!0);var p=k.$on("$translateChangeSuccess",s);l.text().length&&e(""),s(),a.$on("$destroy",p)}}}}]),angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(n,o){return{compile:function(t){var a=function(){t.addClass(o.cloakClassName())},i=function(){t.removeClass(o.cloakClassName())},e=n.$on("$translateChangeEnd",function(){i(),e(),e=null});return a(),function(t,e,n){n.translateCloak&&n.translateCloak.length&&n.$observe("translateCloak",function(t){o(t).then(i,a)})}}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(a,i){var t=function(t,e,n){return angular.isObject(e)||(e=a(e)(this)),i.instant(t,e,n)};return t.$stateful=!0,t}]),function(t,p,e){"use strict";var u=p.$$minErr("$sanitize");var d=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,f=/^<\/\s*([\w:-]+)[^>]*>/,m=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,h=/^</,g=/^<\//,v=/<!--(.*?)-->/g,b=/<!DOCTYPE([^>]*?)>/i,y=/<!\[CDATA\[(.*?)]]>/g,n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a=/([^\#-~| |!])/g,$=S("area,br,col,hr,img,wbr"),i=S("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),o=S("rp,rt"),w=p.extend({},o,i),x=p.extend({},i,S("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),k=p.extend({},o,S("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),r=S("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),C=S("script,style"),s=p.extend({},$,x,k,w,r),l=S("background,cite,href,longdesc,src,usemap,xlink:href"),c=S("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),D=S("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),T=p.extend({},l,D,c);function S(t){var e,n={},a=t.split(",");for(e=0;e<a.length;e++)n[a[e]]=!0;return n}var E=document.createElement("pre");function O(t){return t?(E.innerHTML=t.replace(/</g,"&lt;"),E.textContent):""}function M(t){return t.replace(/&/g,"&amp;").replace(n,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(a,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function A(t,o){var n=!1,r=p.bind(t,t.push);return{start:function(i,t,e){i=p.lowercase(i),!n&&C[i]&&(n=i),n||!0!==s[i]||(r("<"),r(i),p.forEach(t,function(t,e){var n=p.lowercase(e),a="img"===i&&"src"===n||"background"===n;!0!==T[n]||!0===l[n]&&!o(t,a)||(r(" "),r(e),r('="'),r(M(t)),r('"'))}),r(e?"/>":">"))},end:function(t){t=p.lowercase(t),n||!0!==s[t]||(r("</"),r(t),r(">")),t==n&&(n=!1)},chars:function(t){n||r(M(t))}}}p.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(n){return function(t){var e=[];return function(t,i){"string"!=typeof t&&(t=null==t?"":""+t);var e,n,a,o,s=[],r=t;for(s.last=function(){return s[s.length-1]};t;){if(n=!(o=""),s.last()&&C[s.last()]?(t=t.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+s.last()+"[^>]*>","i"),function(t,e){return e=e.replace(v,"$1").replace(y,"$1"),i.chars&&i.chars(O(e)),""}),c("",s.last())):(0===t.indexOf("\x3c!--")?0<=(e=t.indexOf("--",4))&&t.lastIndexOf("--\x3e",e)===e&&(i.comment&&i.comment(t.substring(4,e)),t=t.substring(e+3),n=!1):b.test(t)?(a=t.match(b))&&(t=t.replace(a[0],""),n=!1):g.test(t)?(a=t.match(f))&&(t=t.substring(a[0].length),a[0].replace(f,c),n=!1):h.test(t)&&((a=t.match(d))?(a[4]&&(t=t.substring(a[0].length),a[0].replace(d,l)),n=!1):(o+="<",t=t.substring(1))),n&&(e=t.indexOf("<"),o+=e<0?t:t.substring(0,e),t=e<0?"":t.substring(e),i.chars&&i.chars(O(o)))),t==r)throw u("badparse","The sanitizer was unable to parse the following block of html: {0}",t);r=t}function l(t,e,n,a){if(e=p.lowercase(e),x[e])for(;s.last()&&k[s.last()];)c("",s.last());w[e]&&s.last()==e&&c("",e),(a=$[e]||!!a)||s.push(e);var r={};n.replace(m,function(t,e,n,a,i){var o=n||a||i||"";r[e]=O(o)}),i.start&&i.start(e,r,a)}function c(t,e){var n,a=0;if(e=p.lowercase(e))for(a=s.length-1;0<=a&&s[a]!=e;a--);if(0<=a){for(n=s.length-1;a<=n;n--)i.end&&i.end(s[n]);s.length=a}}c()}(t,A(e,function(t,e){return!/^unsafe/.test(n(t,e))})),e.join("")}}]}),p.module("ngSanitize").filter("linky",["$sanitize",function(c){var u=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/i,d=/^mailto:/i;return function(t,n){if(!t)return t;for(var e,a,i,o=t,r=[];e=o.match(u);)a=e[0],e[2]||e[4]||(a=(e[3]?"http://":"mailto:")+a),i=e.index,s(o.substr(0,i)),l(a,e[0].replace(d,"")),o=o.substring(i+e[0].length);return s(o),c(r.join(""));function s(t){var e,n;t&&r.push((e=t,A(n=[],p.noop).chars(e),n.join("")))}function l(t,e){r.push("<a "),p.isDefined(n)&&r.push('target="',n,'" '),r.push('href="',t.replace(/"/g,"&quot;"),'">'),s(e),r.push("</a>")}}}])}(window,window.angular),function(){"use strict";angular.module("angularLoad",[]).service("angularLoad",["$document","$q","$timeout",function(t,o,r){var n=t[0];function e(a){var i={};return function(t){if(void 0===i[t]){var e=o.defer(),n=a(t);n.onload=n.onreadystatechange=function(t){n.readyState&&"complete"!==n.readyState&&"loaded"!==n.readyState||r(function(){e.resolve(t)})},n.onerror=function(t){r(function(){e.reject(t)})},i[t]=e.promise}return i[t]}}this.loadScript=e(function(t){var e=n.createElement("script");return e.src=t,n.body.appendChild(e),e}),this.loadCSS=e(function(t){var e=n.createElement("link");return e.rel="stylesheet",e.type="text/css",e.href=t,n.head.appendChild(e),e})}])}(),angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(t,a){return function(e){if(!e||!angular.isString(e.prefix)||!angular.isString(e.suffix))throw new Error("Couldn't load static files, no prefix or suffix specified!");var n=t.defer();return a(angular.extend({url:[e.prefix,e.key,e.suffix].join(""),method:"GET",params:""},e.$http)).success(function(t){n.resolve(t)}).error(function(t){n.reject(e.key)}),n.promise}}]),angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(n,i){return function(t){if(!t||!angular.isString(t.prefix)||!angular.isString(t.suffix))throw new Error('Couldn"t load static files, no prefix or suffix specified!');var e=n.defer();return function e(n,a){i(angular.extend({url:[n.prefix,n.key.toLowerCase(),n.suffix].join(""),method:"GET",params:""},n.$http)).success(function(t){a.resolve(t)}).error(function(){if(0<=n.key.indexOf("_")){var t=n.key.substr(0,n.key.lastIndexOf("_"));e(angular.extend({},n,{key:t}),a)}else a.resolve("{}")})}(t,e),e.promise}}]),angular.module("risevision.common.i18n",["pascalprecht.translate","risevision.common.i18n.config"]).config(["$translateProvider","LOCALES_PREFIX","LOCALES_SUFIX",function(t,e,n){t.useStaticFilesLoader({prefix:e,suffix:n}),t.determinePreferredLanguage().fallbackLanguage("en")}]);var xmlToJSON=function(){this.version="1.3";var m={mergeCDATA:!0,grokAttr:!0,grokText:!0,normalize:!0,xmlns:!0,namespaceKey:"_ns",textKey:"_text",valueKey:"_value",attrKey:"_attr",cdataKey:"_cdata",attrsAsObject:!0,stripAttrPrefix:!0,stripElemPrefix:!0,childrenAsArray:!0},h=new RegExp(/(?!xmlns)^.*:/),g=new RegExp(/^\s+|\s+$/g);return this.grokType=function(t){return/^\s*$/.test(t)?null:/^(?:true|false)$/i.test(t)?"true"===t.toLowerCase():isFinite(t)?parseFloat(t):t},this.parseString=function(t,e){return this.parseXML(this.stringToXML(t),e)},this.parseXML=function(t,e){for(var n in e)m[n]=e[n];var a={},i=0,o="";if(m.xmlns&&t.namespaceURI&&(a[m.namespaceKey]=t.namespaceURI),t.attributes&&0<t.attributes.length){for(var r={};i<t.attributes.length;i++){var s=t.attributes.item(i);d={};var l="";l=m.stripAttrPrefix?s.name.replace(h,""):s.name,m.grokAttr?d[m.valueKey]=this.grokType(s.value.replace(g,"")):d[m.valueKey]=s.value.replace(g,""),m.xmlns&&s.namespaceURI&&(d[m.namespaceKey]=s.namespaceURI),m.attrsAsObject?r[l]=d:a[m.attrKey+l]=d}m.attrsAsObject&&(a[m.attrKey]=r)}if(t.hasChildNodes())for(var c,u,d,p=0;p<t.childNodes.length;p++)4===(c=t.childNodes.item(p)).nodeType?m.mergeCDATA?o+=c.nodeValue:a.hasOwnProperty(m.cdataKey)?(a[m.cdataKey].constructor!==Array&&(a[m.cdataKey]=[a[m.cdataKey]]),a[m.cdataKey].push(c.nodeValue)):m.childrenAsArray?(a[m.cdataKey]=[],a[m.cdataKey].push(c.nodeValue)):a[m.cdataKey]=c.nodeValue:3===c.nodeType?o+=c.nodeValue:1===c.nodeType&&(0===i&&(a={}),u=m.stripElemPrefix?c.nodeName.replace(h,""):c.nodeName,d=xmlToJSON.parseXML(c),a.hasOwnProperty(u)?(a[u].constructor!==Array&&(a[u]=[a[u]]),a[u].push(d)):(m.childrenAsArray?(a[u]=[],a[u].push(d)):a[u]=d,i++));else o||(m.childrenAsArray?(a[m.textKey]=[],a[m.textKey].push(null)):a[m.textKey]=null);if(o)if(m.grokText){var f=this.grokType(o.replace(g,""));null!=f&&(a[m.textKey]=f)}else m.normalize?a[m.textKey]=o.replace(g,"").replace(/\s+/g," "):a[m.textKey]=o.replace(g,"");return a},this.xmlToString=function(t){try{return t.xml?t.xml:(new XMLSerializer).serializeToString(t)}catch(t){return null}},this.stringToXML=function(t){try{var e=null;return window.DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async=!1,e.loadXML(t),e)}catch(t){return null}},this}.call({});if("undefined"!=typeof module&&null!==module&&module.exports?module.exports=xmlToJSON:"function"==typeof define&&define.amd&&define(function(){return xmlToJSON}),function(c){"use strict";var u=function(t,e){this.options=c.extend({},u.DEFAULTS,e),this.$target=c(this.options.target).on("scroll.bs.affix.data-api",c.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",c.proxy(this.checkPositionWithEventLoop,this)),this.$element=c(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};function n(a){return this.each(function(){var t=c(this),e=t.data("bs.affix"),n="object"==typeof a&&a;e||t.data("bs.affix",e=new u(this,n)),"string"==typeof a&&e[a]()})}u.VERSION="3.2.0",u.RESET="affix affix-top affix-bottom",u.DEFAULTS={offset:0,target:window},u.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(u.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},u.prototype.checkPositionWithEventLoop=function(){setTimeout(c.proxy(this.checkPosition,this),1)},u.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=c(document).height(),e=this.$target.scrollTop(),n=this.$element.offset(),a=this.options.offset,i=a.top,o=a.bottom;"object"!=typeof a&&(o=i=a),"function"==typeof i&&(i=a.top(this.$element)),"function"==typeof o&&(o=a.bottom(this.$element));var r=!(null!=this.unpin&&e+this.unpin<=n.top)&&(null!=o&&n.top+this.$element.height()>=t-o?"bottom":null!=i&&e<=i&&"top");if(this.affixed!==r){null!=this.unpin&&this.$element.css("top","");var s="affix"+(r?"-"+r:""),l=c.Event(s+".bs.affix");this.$element.trigger(l),l.isDefaultPrevented()||(this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(u.RESET).addClass(s).trigger(c.Event(s.replace("affix","affixed"))),"bottom"==r&&this.$element.offset({top:t-this.$element.height()-o}))}}};var t=c.fn.affix;c.fn.affix=n,c.fn.affix.Constructor=u,c.fn.affix.noConflict=function(){return c.fn.affix=t,this},c(window).on("load",function(){c('[data-spy="affix"]').each(function(){var t=c(this),e=t.data();e.offset=e.offset||{},e.offsetBottom&&(e.offset.bottom=e.offsetBottom),e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(o){"use strict";var e='[data-dismiss="alert"]',a=function(t){o(t).on("click",e,this.close)};a.VERSION="3.2.0",a.prototype.close=function(t){var e=o(this),n=e.attr("data-target");n||(n=(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,""));var a=o(n);function i(){a.detach().trigger("closed.bs.alert").remove()}t&&t.preventDefault(),a.length||(a=e.hasClass("alert")?e:e.parent()),a.trigger(t=o.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),o.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(150):i())};var t=o.fn.alert;o.fn.alert=function(n){return this.each(function(){var t=o(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new a(this)),"string"==typeof n&&e[n].call(t)})},o.fn.alert.Constructor=a,o.fn.alert.noConflict=function(){return o.fn.alert=t,this},o(document).on("click.bs.alert.data-api",e,a.prototype.close)}(jQuery),function(o){"use strict";var i=function(t,e){this.$element=o(t),this.options=o.extend({},i.DEFAULTS,e),this.isLoading=!1};function n(a){return this.each(function(){var t=o(this),e=t.data("bs.button"),n="object"==typeof a&&a;e||t.data("bs.button",e=new i(this,n)),"toggle"==a?e.toggle():a&&e.setState(a)})}i.VERSION="3.2.0",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var e="disabled",n=this.$element,a=n.is("input")?"val":"html",i=n.data();t+="Text",null==i.resetText&&n.data("resetText",n[a]()),n[a](null==i[t]?this.options[t]:i[t]),setTimeout(o.proxy(function(){"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var t=o.fn.button;o.fn.button=n,o.fn.button.Constructor=i,o.fn.button.noConflict=function(){return o.fn.button=t,this},o(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=o(t.target);e.hasClass("btn")||(e=e.closest(".btn")),n.call(e,"toggle"),t.preventDefault()})}(jQuery),function(p){"use strict";var o=function(t,e){this.$element=p(t).on("keydown.bs.carousel",p.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",p.proxy(this.pause,this)).on("mouseleave.bs.carousel",p.proxy(this.cycle,this))};function r(i){return this.each(function(){var t=p(this),e=t.data("bs.carousel"),n=p.extend({},o.DEFAULTS,t.data(),"object"==typeof i&&i),a="string"==typeof i?i:n.slide;e||t.data("bs.carousel",e=new o(this,n)),"number"==typeof i?e.to(i):a?e[a]():n.interval&&e.pause().cycle()})}o.VERSION="3.2.0",o.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},o.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},o.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(p.proxy(this.next,this),this.options.interval)),this},o.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},o.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",p(this.$items[t]))},o.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&p.support.transition&&(this.$element.trigger(p.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},o.prototype.next=function(){if(!this.sliding)return this.slide("next")},o.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},o.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),a=e||n[t](),i=this.interval,o="next"==t?"left":"right",r="next"==t?"first":"last",s=this;if(!a.length){if(!this.options.wrap)return;a=this.$element.find(".item")[r]()}if(a.hasClass("active"))return this.sliding=!1;var l=a[0],c=p.Event("slide.bs.carousel",{relatedTarget:l,direction:o});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,i&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=p(this.$indicators.children()[this.getItemIndex(a)]);u&&u.addClass("active")}var d=p.Event("slid.bs.carousel",{relatedTarget:l,direction:o});return p.support.transition&&this.$element.hasClass("slide")?(a.addClass(t),a[0].offsetWidth,n.addClass(o),a.addClass(o),n.one("bsTransitionEnd",function(){a.removeClass([t,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),s.sliding=!1,setTimeout(function(){s.$element.trigger(d)},0)}).emulateTransitionEnd(1e3*n.css("transition-duration").slice(0,-1))):(n.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(d)),i&&this.cycle(),this}};var t=p.fn.carousel;p.fn.carousel=r,p.fn.carousel.Constructor=o,p.fn.carousel.noConflict=function(){return p.fn.carousel=t,this},p(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var e,n=p(this),a=p(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var i=p.extend({},a.data(),n.data()),o=n.attr("data-slide-to");o&&(i.interval=!1),r.call(a,i),o&&a.data("bs.carousel").to(o),t.preventDefault()}}),p(window).on("load",function(){p('[data-ride="carousel"]').each(function(){var t=p(this);r.call(t,t.data())})})}(jQuery),function(c){"use strict";var i=function(t,e){this.$element=c(t),this.options=c.extend({},i.DEFAULTS,e),this.transitioning=null,this.options.parent&&(this.$parent=c(this.options.parent)),this.options.toggle&&this.toggle()};function u(a){return this.each(function(){var t=c(this),e=t.data("bs.collapse"),n=c.extend({},i.DEFAULTS,t.data(),"object"==typeof a&&a);!e&&n.toggle&&"show"==a&&(a=!a),e||t.data("bs.collapse",e=new i(this,n)),"string"==typeof a&&e[a]()})}i.VERSION="3.2.0",i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=c.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.$parent&&this.$parent.find("> .panel > .in");if(e&&e.length){var n=e.data("bs.collapse");if(n&&n.transitioning)return;u.call(e,"hide"),n||e.data("bs.collapse",null)}var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0),this.transitioning=1;var i=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!c.support.transition)return i.call(this);var o=c.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",c.proxy(i,this)).emulateTransitionEnd(350)[a](this.$element[0][o])}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=c.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!c.support.transition)return n.call(this);this.$element[e](0).one("bsTransitionEnd",c.proxy(n,this)).emulateTransitionEnd(350)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var t=c.fn.collapse;c.fn.collapse=u,c.fn.collapse.Constructor=i,c.fn.collapse.noConflict=function(){return c.fn.collapse=t,this},c(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e,n=c(this),a=n.attr("data-target")||t.preventDefault()||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),i=c(a),o=i.data("bs.collapse"),r=o?"toggle":n.data(),s=n.attr("data-parent"),l=s&&c(s);o&&o.transitioning||(l&&l.find('[data-toggle="collapse"][data-parent="'+s+'"]').not(n).addClass("collapsed"),n[i.hasClass("in")?"addClass":"removeClass"]("collapsed")),u.call(i,r)})}(jQuery),function(s){"use strict";var l='[data-toggle="dropdown"]',a=function(t){s(t).on("click.bs.dropdown",this.toggle)};function o(n){n&&3===n.which||(s(".dropdown-backdrop").remove(),s(l).each(function(){var t=c(s(this)),e={relatedTarget:this};t.hasClass("open")&&(t.trigger(n=s.Event("hide.bs.dropdown",e)),n.isDefaultPrevented()||t.removeClass("open").trigger("hidden.bs.dropdown",e))}))}function c(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&s(e);return n&&n.length?n:t.parent()}a.VERSION="3.2.0",a.prototype.toggle=function(t){var e=s(this);if(!e.is(".disabled, :disabled")){var n=c(e),a=n.hasClass("open");if(o(),!a){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&s('<div class="dropdown-backdrop"/>').insertAfter(s(this)).on("click",o);var i={relatedTarget:this};if(n.trigger(t=s.Event("show.bs.dropdown",i)),t.isDefaultPrevented())return;e.trigger("focus"),n.toggleClass("open").trigger("shown.bs.dropdown",i)}return!1}},a.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=c(e),a=n.hasClass("open");if(!a||a&&27==t.keyCode)return 27==t.which&&n.find(l).trigger("focus"),e.trigger("click");var i=" li:not(.divider):visible a",o=n.find('[role="menu"]'+i+', [role="listbox"]'+i);if(o.length){var r=o.index(o.filter(":focus"));38==t.keyCode&&0<r&&r--,40==t.keyCode&&r<o.length-1&&r++,~r||(r=0),o.eq(r).trigger("focus")}}}};var t=s.fn.dropdown;s.fn.dropdown=function(n){return this.each(function(){var t=s(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new a(this)),"string"==typeof n&&e[n].call(t)})},s.fn.dropdown.Constructor=a,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=t,this},s(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",l,a.prototype.toggle).on("keydown.bs.dropdown.data-api",l+', [role="menu"], [role="listbox"]',a.prototype.keydown)}(jQuery),function(r){"use strict";var a=function(t){this.element=r(t)};function e(n){return this.each(function(){var t=r(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new a(this)),"string"==typeof n&&e[n]()})}a.VERSION="3.2.0",a.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var a=e.find(".active:last a")[0],i=r.Event("show.bs.tab",{relatedTarget:a});if(t.trigger(i),!i.isDefaultPrevented()){var o=r(n);this.activate(t.closest("li"),e),this.activate(o,o.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:a})})}}},a.prototype.activate=function(t,e,n){var a=e.find("> .active"),i=n&&r.support.transition&&a.hasClass("fade");function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),i?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),n&&n()}i?a.one("bsTransitionEnd",o).emulateTransitionEnd(150):o(),a.removeClass("in")};var t=r.fn.tab;r.fn.tab=e,r.fn.tab.Constructor=a,r.fn.tab.noConflict=function(){return r.fn.tab=t,this},r(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e.call(r(this),"show")})}(jQuery),function(a){"use strict";a.fn.emulateTransitionEnd=function(t){var e=!1,n=this;a(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||a(n).trigger(a.support.transition.end)},t),this},a(function(){a.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(t){if(a(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(o){"use strict";function i(t,e){var n=o.proxy(this.process,this);this.$body=o("body"),this.$scrollElement=o(t).is("body")?o(window):o(t),this.options=o.extend({},i.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",n),this.refresh(),this.process()}function e(a){return this.each(function(){var t=o(this),e=t.data("bs.scrollspy"),n="object"==typeof a&&a;e||t.data("bs.scrollspy",e=new i(this,n)),"string"==typeof a&&e[a]()})}i.VERSION="3.2.0",i.DEFAULTS={offset:10},i.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},i.prototype.refresh=function(){var a="offset",i=0;o.isWindow(this.$scrollElement[0])||(a="position",i=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var t=this;this.$body.find(this.selector).map(function(){var t=o(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&o(e);return n&&n.length&&n.is(":visible")&&[[n[a]().top+i,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},i.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),a=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,r=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),a<=e)return r!=(t=o[o.length-1])&&this.activate(t);if(r&&e<=i[0])return r!=(t=o[0])&&this.activate(t);for(t=i.length;t--;)r!=o[t]&&e>=i[t]&&(!i[t+1]||e<=i[t+1])&&this.activate(o[t])},i.prototype.activate=function(t){this.activeTarget=t,o(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=o(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")};var t=o.fn.scrollspy;o.fn.scrollspy=e,o.fn.scrollspy.Constructor=i,o.fn.scrollspy.noConflict=function(){return o.fn.scrollspy=t,this},o(window).on("load.bs.scrollspy.data-api",function(){o('[data-spy="scroll"]').each(function(){var t=o(this);e.call(t,t.data())})})}(jQuery),function(o){"use strict";var r=function(t,e){this.options=e,this.$body=o(document.body),this.$element=o(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,o.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function s(a,i){return this.each(function(){var t=o(this),e=t.data("bs.modal"),n=o.extend({},r.DEFAULTS,t.data(),"object"==typeof a&&a);e||t.data("bs.modal",e=new r(this,n)),"string"==typeof a?e[a](i):n.show&&e.show(i)})}r.VERSION="3.2.0",r.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},r.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},r.prototype.show=function(n){var a=this,t=o.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',o.proxy(this.hide,this)),this.backdrop(function(){var t=o.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(a.$body),a.$element.show().scrollTop(0),t&&a.$element[0].offsetWidth,a.$element.addClass("in").attr("aria-hidden",!1),a.enforceFocus();var e=o.Event("shown.bs.modal",{relatedTarget:n});t?a.$element.find(".modal-dialog").one("bsTransitionEnd",function(){a.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(300):a.$element.trigger("focus").trigger(e)}))},r.prototype.hide=function(t){t&&t.preventDefault(),t=o.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),o.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",o.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},r.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",o.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},r.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",o.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},r.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},r.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},r.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=o.support.transition&&n;if(this.$backdrop=o('<div class="modal-backdrop '+n+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",o.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;a?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var i=function(){e.removeBackdrop(),t&&t()};o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(150):i()}else t&&t()},r.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},r.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},r.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},r.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=o.fn.modal;o.fn.modal=s,o.fn.modal.Constructor=r,o.fn.modal.noConflict=function(){return o.fn.modal=t,this},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=o(this),n=e.attr("href"),a=o(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),i=a.data("bs.modal")?"toggle":o.extend({remote:!/#/.test(n)&&n},a.data(),e.data());e.is("a")&&t.preventDefault(),a.one("show.bs.modal",function(t){t.isDefaultPrevented()||a.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),s.call(a,i,this)})}(jQuery),function(g){"use strict";var i=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};i.VERSION="3.2.0",i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(t,e,n){this.enabled=!0,this.type=t,this.$element=g(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&g(this.options.viewport.selector||this.options.viewport);for(var a=this.options.trigger.split(" "),i=a.length;i--;){var o=a[i];if("click"==o)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=o){var r="hover"==o?"mouseenter":"focusin",s="hover"==o?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(t){return(t=g.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},i.prototype.getDelegateOptions=function(){var n={},a=this.getDefaults();return this._options&&g.each(this._options,function(t,e){a[t]!=e&&(n[t]=e)}),n},i.prototype.enter=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)},i.prototype.leave=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)},i.prototype.show=function(){var t=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=g.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,a=this.tip(),i=this.getUID(this.type);this.setContent(),a.attr("id",i),this.$element.attr("aria-describedby",i),this.options.animation&&a.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,s=r.test(o);s&&(o=o.replace(r,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element);var l=this.getPosition(),c=a[0].offsetWidth,u=a[0].offsetHeight;if(s){var d=o,p=this.$element.parent(),f=this.getPosition(p);o="bottom"==o&&l.top+l.height+u-f.scroll>f.height?"top":"top"==o&&l.top-f.scroll-u<0?"bottom":"right"==o&&l.right+c>f.width?"left":"left"==o&&l.left-c<f.left?"right":o,a.removeClass(d).addClass(o)}var m=this.getCalculatedOffset(o,l,c,u);this.applyPlacement(m,o);var h=function(){n.$element.trigger("shown.bs."+n.type),n.hoverState=null};g.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",h).emulateTransitionEnd(150):h()}},i.prototype.applyPlacement=function(t,e){var n=this.tip(),a=n[0].offsetWidth,i=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),r=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(r)&&(r=0),t.top=t.top+o,t.left=t.left+r,g.offset.setOffset(n[0],g.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var s=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=i&&(t.top=t.top+i-l);var c=this.getViewportAdjustedDelta(e,t,s,l);c.left?t.left+=c.left:t.top+=c.top;var u=c.left?2*c.left-a+s:2*c.top-i+l,d=c.left?"left":"top",p=c.left?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(u,n[0][p],d)},i.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(){var t=this,e=this.tip(),n=g.Event("hide.bs."+this.type);function a(){"in"!=t.hoverState&&e.detach(),t.$element.trigger("hidden.bs."+t.type)}if(this.$element.removeAttr("aria-describedby"),this.$element.trigger(n),!n.isDefaultPrevented())return e.removeClass("in"),g.support.transition&&this.$tip.hasClass("fade")?e.one("bsTransitionEnd",a).emulateTransitionEnd(150):a(),this.hoverState=null,this},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName;return g.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():null,{scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:n?g(window).width():t.outerWidth(),height:n?g(window).height():t.outerHeight()},n?{top:0,left:0}:t.offset())},i.prototype.getCalculatedOffset=function(t,e,n,a){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-a,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-a/2,left:e.left-n}:{top:e.top+e.height/2-a/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,n,a){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-r.scroll,l=e.top+o-r.scroll+a;s<r.top?i.top=r.top-s:l>r.top+r.height&&(i.top=r.top+r.height-l)}else{var c=e.left-o,u=e.left+o+n;c<r.left?i.left=r.left-c:u>r.width&&(i.left=r.left+r.width-u)}return i},i.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},i.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},i.prototype.tip=function(){return this.$tip=this.$tip||g(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(t){var e=this;t&&((e=g(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e))),e.tip().hasClass("in")?e.leave(e):e.enter(e)},i.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var t=g.fn.tooltip;g.fn.tooltip=function(a){return this.each(function(){var t=g(this),e=t.data("bs.tooltip"),n="object"==typeof a&&a;(e||"destroy"!=a)&&(e||t.data("bs.tooltip",e=new i(this,n)),"string"==typeof a&&e[a]())})},g.fn.tooltip.Constructor=i,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=t,this}}(jQuery),function(i){"use strict";var o=function(t,e){this.init("popover",t,e)};if(!i.fn.tooltip)throw new Error("Popover requires tooltip.js");o.VERSION="3.2.0",o.DEFAULTS=i.extend({},i.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((o.prototype=i.extend({},i.fn.tooltip.Constructor.prototype)).constructor=o).prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},o.prototype.hasContent=function(){return this.getTitle()||this.getContent()},o.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},o.prototype.tip=function(){return this.$tip||(this.$tip=i(this.options.template)),this.$tip};var t=i.fn.popover;i.fn.popover=function(a){return this.each(function(){var t=i(this),e=t.data("bs.popover"),n="object"==typeof a&&a;(e||"destroy"!=a)&&(e||t.data("bs.popover",e=new o(this,n)),"string"==typeof a&&e[a]())})},i.fn.popover.Constructor=o,i.fn.popover.noConflict=function(){return i.fn.popover=t,this}}(jQuery),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(o){return{link:function(t,e,n){function a(){e.removeClass("collapsing"),e.css({height:"auto"})}function i(){e.css({height:"0"}),e.removeClass("collapsing"),e.addClass("collapse")}t.$watch(n.collapse,function(t){t?function(){if(!e.hasClass("collapse")&&!e.hasClass("in"))return i();e.css({height:e[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),o.removeClass(e,"in",{to:{height:"0"}}).then(i)}():(e.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),o.addClass(e,"in",{to:{height:e[0].scrollHeight+"px"}}).then(a))})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,n,a){this.groups=[],this.closeOthers=function(e){(angular.isDefined(n.closeOthers)?t.$eval(n.closeOthers):a.closeOthers)&&angular.forEach(this.groups,function(t){t!==e&&(t.isOpen=!1)})},this.addGroup=function(e){var n=this;this.groups.push(e),e.$on("$destroy",function(t){n.removeGroup(e)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(t,e){return e.templateUrl||"template/accordion/accordion.html"}}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(t,e){return e.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(e,n,t,a){a.addGroup(e),e.openClass=t.openClass||"panel-open",e.panelClass=t.panelClass,e.$watch("isOpen",function(t){n.toggleClass(e.openClass,t),t&&a.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(t,e,n,a,i){a.setHeading(i(t,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,a){t.$watch(function(){return a[n.accordionTransclude]},function(t){t&&(e.find("span").html(""),e.find("span").append(t))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable=!!e.close,this.close=t.close}]).directive("alert",function(){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(t,e){return e.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(i){return{require:"alert",link:function(t,e,n,a){i(function(){a.close()},parseInt(n.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(a,i){return function(t,e,n){i||a.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),e.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),t.$watch(n.bindHtmlUnsafe,function(t){e.html(t||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(e,n,a,t){var i=t[0],o=t[1];n.find("input").css({display:"none"}),o.$render=function(){n.toggleClass(i.activeClass,angular.equals(o.$modelValue,e.$eval(a.btnRadio)))},n.bind(i.toggleEvent,function(){if(!a.disabled){var t=n.hasClass(i.activeClass);t&&!angular.isDefined(a.uncheckable)||e.$apply(function(){o.$setViewValue(t?null:e.$eval(a.btnRadio)),o.$render()})}})}}}).directive("btnCheckbox",["$document",function(c){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(a,e,n,t){var i=t[0],o=t[1];function r(){return l(n.btnCheckboxTrue,!0)}function s(){return l(n.btnCheckboxFalse,!1)}function l(t,e){var n=a.$eval(t);return angular.isDefined(n)?n:e}e.find("input").css({display:"none"}),o.$render=function(){e.toggleClass(i.activeClass,angular.equals(o.$modelValue,r()))},e.bind(i.toggleEvent,function(){n.disabled||a.$apply(function(){o.$setViewValue(e.hasClass(i.activeClass)?s():r()),o.$render()})}),e.on("keypress",function(t){n.disabled||32!==t.which||c[0].activeElement!==e[0]||a.$apply(function(){o.$setViewValue(e.hasClass(i.activeClass)?s():r()),o.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(a,e,n,i){var o,r,s=this,l=s.slides=a.slides=[],c=4<=angular.version.minor,u="uib-slideDirection",d=-1;s.currentSlide=null;var p=!1;function f(t){if(angular.isUndefined(l[t].index))return l[t];var e;l.length;for(e=0;e<l.length;++e)if(l[e].index==t)return l[e]}function m(){h();var t=+a.interval;!isNaN(t)&&0<t&&(o=n(g,t))}function h(){o&&(n.cancel(o),o=null)}function g(){var t=+a.interval;r&&!isNaN(t)&&0<t&&l.length?a.next():a.pause()}s.select=a.select=function(t,e){var n=a.indexOfSlide(t);void 0===e&&(e=n>s.getCurrentIndex()?"next":"prev"),t&&t!==s.currentSlide&&!a.$currentTransition&&function(t,e,n){if(p)return;angular.extend(t,{direction:n,active:!0}),angular.extend(s.currentSlide||{},{direction:n,active:!1}),i.enabled()&&!a.noTransition&&!a.$currentTransition&&t.$element&&1<s.slides.length&&(t.$element.data(u,t.direction),s.currentSlide&&s.currentSlide.$element&&s.currentSlide.$element.data(u,t.direction),a.$currentTransition=!0,c?i.on("addClass",t.$element,function(t,e){"close"===e&&(a.$currentTransition=null,i.off("addClass",t))}):t.$element.one("$animate:close",function(){a.$currentTransition=null}));s.currentSlide=t,d=e,m()}(t,n,e)},a.$on("$destroy",function(){p=!0}),s.getCurrentIndex=function(){return s.currentSlide&&angular.isDefined(s.currentSlide.index)?+s.currentSlide.index:d},a.indexOfSlide=function(t){return angular.isDefined(t.index)?+t.index:l.indexOf(t)},a.next=function(){var t=(s.getCurrentIndex()+1)%l.length;if(0!==t||!a.noWrap())return s.select(f(t),"next");a.pause()},a.prev=function(){var t=s.getCurrentIndex()-1<0?l.length-1:s.getCurrentIndex()-1;if(!a.noWrap()||t!==l.length-1)return s.select(f(t),"prev");a.pause()},a.isActive=function(t){return s.currentSlide===t},a.$watch("interval",m),a.$on("$destroy",h),a.play=function(){r||(r=!0,m())},a.pause=function(){a.noPause||(r=!1,h())},s.addSlide=function(t,e){t.$element=e,l.push(t),1===l.length||t.active?(s.select(l[l.length-1]),1==l.length&&a.play()):t.active=!1},s.removeSlide=function(t){angular.isDefined(t.index)&&l.sort(function(t,e){return+t.index>+e.index});var e=l.indexOf(t);l.splice(e,1),0<l.length&&t.active?e>=l.length?s.select(l[e-1]):s.select(l[e]):e<d&&d--,0===l.length&&(s.currentSlide=null)},a.$watch("noTransition",function(t){e.data("uib-noTransition",t)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(t,e){return e.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(t,e){return e.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,n,a){a.addSlide(e,t),e.$on("$destroy",function(){a.removeSlide(e)}),e.$watch("active",function(t){t&&a.select(e)})}}}).animation(".item",["$injector","$animate",function(t,s){var l="uib-noTransition",c="uib-slideDirection",u=null;function d(t,e,n){t.removeClass(e),n&&n()}return t.has("$animateCss")&&(u=t.get("$animateCss")),{beforeAddClass:function(t,e,n){if("active"==e&&t.parent()&&!t.parent().data(l)){var a=!1,i=t.data(c),o="next"==i?"left":"right",r=d.bind(this,t,o+" "+i,n);return t.addClass(i),u?u(t,{addClass:o}).start().done(r):s.addClass(t,o).then(function(){a||r(),n()}),function(){a=!0}}n()},beforeRemoveClass:function(t,e,n){if("active"===e&&t.parent()&&!t.parent().data(l)){var a=!1,i="next"==t.data(c)?"left":"right",o=d.bind(this,t,i,n);return u?u(t,{addClass:i}).start().done(o):s.addClass(t,i).then(function(){a||o(),n()}),function(){a=!0}}n()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(h,g,v){var b=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var y={yyyy:{regex:"\\d{4}",apply:function(t){this.year=+t}},yy:{regex:"\\d{2}",apply:function(t){this.year=+t+2e3}},y:{regex:"\\d{1,4}",apply:function(t){this.year=+t}},MMMM:{regex:g.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=g.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:g.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=g.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1}},M:{regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},EEEE:{regex:g.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:g.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t}},hh:{regex:"0[0-9]|1[0-2]",apply:function(t){this.hours=+t}},H:{regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t}},h:{regex:"[0-9]|1[0-2]",apply:function(t){this.hours=+t}},mm:{regex:"[0-5][0-9]",apply:function(t){this.minutes=+t}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t}},sss:{regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t}},ss:{regex:"[0-5][0-9]",apply:function(t){this.seconds=+t}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t}},a:{regex:g.DATETIME_FORMATS.AMPMS.join("|"),apply:function(t){12===this.hours&&(this.hours=0),"PM"===t&&(this.hours+=12)}}};this.parse=function(t,e,n){if(!angular.isString(t)||!e)return t;var o,r,s;e=(e=g.DATETIME_FORMATS[e]||e).replace(b,"\\$&"),this.parsers[e]||(this.parsers[e]=(r=[],s=(o=e).split(""),angular.forEach(y,function(t,e){var n=o.indexOf(e);if(-1<n){o=o.split(""),s[n]="("+t.regex+")",o[n]="$";for(var a=n+1,i=n+e.length;a<i;a++)s[a]="",o[a]="$";o=o.join(""),r.push({index:n,apply:t.apply})}}),{regex:new RegExp("^"+s.join("")+"$"),map:v(r,"index")}));var a=this.parsers[e],i=a.regex,l=a.map,c=t.match(i);if(c&&c.length){var u,d;angular.isDate(n)&&!isNaN(n.getTime())?u={year:n.getFullYear(),month:n.getMonth(),date:n.getDate(),hours:n.getHours(),minutes:n.getMinutes(),seconds:n.getSeconds(),milliseconds:n.getMilliseconds()}:(n&&h.warn("dateparser:","baseDate is not a valid date"),u={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var p=1,f=c.length;p<f;p++){var m=l[p-1];m.apply&&m.apply.call(u,c[p])}return function(t,e,n){if(n<1)return!1;if(1===e&&28<n)return 29===n&&(t%4==0&&t%100!=0||t%400==0);if(3===e||5===e||8===e||10===e)return n<31;return!0}(u.year,u.month,u.date)&&(d=new Date(u.year,u.month,u.date,u.hours,u.minutes,u.seconds,u.milliseconds||0)),d}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(o,a){function r(t){return"static"===(n="position",((e=t).currentStyle?e.currentStyle[n]:a.getComputedStyle?a.getComputedStyle(e)[n]:e.style[n])||"static");var e,n}return{position:function(t){var e=this.offset(t),n={top:0,left:0},a=function(t){for(var e=o[0],n=t.offsetParent||e;n&&n!==e&&r(n);)n=n.offsetParent;return n||e}(t[0]);a!=o[0]&&((n=this.offset(angular.element(a))).top+=a.clientTop-a.scrollTop,n.left+=a.clientLeft-a.scrollLeft);var i=t[0].getBoundingClientRect();return{width:i.width||t.prop("offsetWidth"),height:i.height||t.prop("offsetHeight"),top:e.top-n.top,left:e.left-n.left}},offset:function(t){var e=t[0].getBoundingClientRect();return{width:e.width||t.prop("offsetWidth"),height:e.height||t.prop("offsetHeight"),top:e.top+(a.pageYOffset||o[0].documentElement.scrollTop),left:e.left+(a.pageXOffset||o[0].documentElement.scrollLeft)}},positionElements:function(t,e,n,a){var i,o,r,s,l=n.split("-"),c=l[0],u=l[1]||"center";i=a?this.offset(t):this.position(t),o=e.prop("offsetWidth"),r=e.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-r/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":s={top:p[u](),left:d[c]()};break;case"left":s={top:p[u](),left:i.left-o};break;case"bottom":s={top:p[c](),left:d[u]()};break;default:s={top:i.top-r,left:d[u]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function(n,a,t,i,e,o,r,s){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(t,e){l[t]=angular.isDefined(a[t])?e<6?i(a[t])(n.$parent):n.$parent.$eval(a[t]):r[t]}),angular.forEach(["minDate","maxDate"],function(e){a[e]?n.$parent.$watch(t(a[e]),function(t){l[e]=t?new Date(t):null,l.refreshView()}):l[e]=r[e]?new Date(r[e]):null}),angular.forEach(["minMode","maxMode"],function(e){a[e]?n.$parent.$watch(t(a[e]),function(t){l[e]=angular.isDefined(t)?t:a[e],n[e]=l[e],("minMode"==e&&l.modes.indexOf(n.datepickerMode)<l.modes.indexOf(l[e])||"maxMode"==e&&l.modes.indexOf(n.datepickerMode)>l.modes.indexOf(l[e]))&&(n.datepickerMode=l[e])}):(l[e]=r[e]||null,n[e]=l[e])}),n.datepickerMode=n.datepickerMode||r.datepickerMode,n.uniqueId="datepicker-"+n.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(a.initDate)?(this.activeDate=n.$parent.$eval(a.initDate)||new Date,n.$parent.$watch(a.initDate,function(t){t&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(l.activeDate=t,l.refreshView())})):this.activeDate=new Date,n.isActive=function(t){return 0===l.compare(t.date,l.activeDate)&&(n.activeDateId=t.uid,!0)},this.init=function(t){(c=t).$render=function(){l.render()}},this.render=function(){if(c.$viewValue){var t=new Date(c.$viewValue);!isNaN(t)?this.activeDate=t:s||e.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var t=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:t,label:o(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),current:0===this.compare(t,new Date),customClass:this.customClass(t)}},this.isDisabled=function(t){return this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&0<this.compare(t,this.maxDate)||a.dateDisabled&&n.dateDisabled({date:t,mode:n.datepickerMode})},this.customClass=function(t){return n.customClass({date:t,mode:n.datepickerMode})},this.split=function(t,e){for(var n=[];0<t.length;)n.push(t.splice(0,e));return n},this.fixTimeZone=function(t){var e=t.getHours();t.setHours(23===e?e+2:0)},n.select=function(t){if(n.datepickerMode===l.minMode){var e=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(e),c.$render()}else l.activeDate=t,n.datepickerMode=l.modes[l.modes.indexOf(n.datepickerMode)-1]},n.move=function(t){var e=l.activeDate.getFullYear()+t*(l.step.years||0),n=l.activeDate.getMonth()+t*(l.step.months||0);l.activeDate.setFullYear(e,n,1),l.refreshView()},n.toggleMode=function(t){t=t||1,n.datepickerMode===l.maxMode&&1===t||n.datepickerMode===l.minMode&&-1===t||(n.datepickerMode=l.modes[l.modes.indexOf(n.datepickerMode)+t])},n.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){l.element[0].focus()};n.$on("datepicker.focus",u),n.keydown=function(t){var e=n.keys[t.which];if(e&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),l.shortcutPropagation||t.stopPropagation(),"enter"===e||"space"===e){if(l.isDisabled(l.activeDate))return;n.select(l.activeDate),u()}else!t.ctrlKey||"up"!==e&&"down"!==e?(l.handleKeyDown(e,t),l.refreshView()):(n.toggleMode("up"===e?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(t,e){return e.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(t,e,n,a){var i=a[0],o=a[1];i.init(o)}}}).directive("daypicker",["dateFilter",function(h){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(p,t,e,f){p.showWeeks=f.showWeeks,f.step={months:1},f.element=t;var n=[31,28,31,30,31,30,31,31,30,31,30,31];function i(t,e){return 1!==e||t%4!=0||t%100==0&&t%400!=0?n[e]:29}function m(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}f._refreshView=function(){var t=f.activeDate.getFullYear(),e=f.activeDate.getMonth(),n=new Date(t,e,1),a=f.startingDay-n.getDay(),i=0<a?7-a:-a,o=new Date(n);0<i&&o.setDate(1-i);for(var r=function(t,e){for(var n,a=new Array(e),i=new Date(t),o=0;o<e;)n=new Date(i),f.fixTimeZone(n),a[o++]=n,i.setDate(i.getDate()+1);return a}(o,42),s=0;s<42;s++)r[s]=angular.extend(f.createDateObject(r[s],f.formatDay),{secondary:r[s].getMonth()!==e,uid:p.uniqueId+"-"+s});p.labels=new Array(7);for(var l=0;l<7;l++)p.labels[l]={abbr:h(r[l].date,f.formatDayHeader),full:h(r[l].date,"EEEE")};if(p.title=h(f.activeDate,f.formatDayTitle),p.rows=f.split(r,7),p.showWeeks){p.weekNumbers=[];for(var c=(11-f.startingDay)%7,u=p.rows.length,d=0;d<u;d++)p.weekNumbers.push(m(p.rows[d][c].date))}},f.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},f.handleKeyDown=function(t,e){var n=f.activeDate.getDate();if("left"===t)n-=1;else if("up"===t)n-=7;else if("right"===t)n+=1;else if("down"===t)n+=7;else if("pageup"===t||"pagedown"===t){var a=f.activeDate.getMonth()+("pageup"===t?-1:1);f.activeDate.setMonth(a,1),n=Math.min(i(f.activeDate.getFullYear(),f.activeDate.getMonth()),n)}else"home"===t?n=1:"end"===t&&(n=i(f.activeDate.getFullYear(),f.activeDate.getMonth()));f.activeDate.setDate(n)},f.refreshView()}}}]).directive("monthpicker",["dateFilter",function(r){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(i,t,e,o){o.step={years:1},o.element=t,o._refreshView=function(){for(var t,e=new Array(12),n=o.activeDate.getFullYear(),a=0;a<12;a++)t=new Date(n,a,1),o.fixTimeZone(t),e[a]=angular.extend(o.createDateObject(t,o.formatMonth),{uid:i.uniqueId+"-"+a});i.title=r(o.activeDate,o.formatMonthTitle),i.rows=o.split(e,3)},o.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},o.handleKeyDown=function(t,e){var n=o.activeDate.getMonth();if("left"===t)n-=1;else if("up"===t)n-=3;else if("right"===t)n+=1;else if("down"===t)n+=3;else if("pageup"===t||"pagedown"===t){var a=o.activeDate.getFullYear()+("pageup"===t?-1:1);o.activeDate.setFullYear(a)}else"home"===t?n=0:"end"===t&&(n=11);o.activeDate.setMonth(n)},o.refreshView()}}}]).directive("yearpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(i,t,e,o){var r=o.yearRange;function s(t){return parseInt((t-1)/r,10)*r+1}o.step={years:r},o.element=t,o._refreshView=function(){for(var t,e=new Array(r),n=0,a=s(o.activeDate.getFullYear());n<r;n++)t=new Date(a+n,0,1),o.fixTimeZone(t),e[n]=angular.extend(o.createDateObject(t,o.formatYear),{uid:i.uniqueId+"-"+n});i.title=[e[0].label,e[r-1].label].join(" - "),i.rows=o.split(e,5)},o.compare=function(t,e){return t.getFullYear()-e.getFullYear()},o.handleKeyDown=function(t,e){var n=o.activeDate.getFullYear();"left"===t?n-=1:"up"===t?n-=5:"right"===t?n+=1:"down"===t?n+=5:"pageup"===t||"pagedown"===t?n+=("pageup"===t?-1:1)*o.step.years:"home"===t?n=s(o.activeDate.getFullYear()):"end"===t&&(n=s(o.activeDate.getFullYear())+r-1),o.activeDate.setFullYear(n)},o.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(y,$,w,x,k,C,D,T,S){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(a,n,i,o){var r,s=angular.isDefined(i.closeOnDateSelection)?a.$parent.$eval(i.closeOnDateSelection):T.closeOnDateSelection,e=angular.isDefined(i.datepickerAppendToBody)?a.$parent.$eval(i.datepickerAppendToBody):T.appendToBody,l=angular.isDefined(i.onOpenFocus)?a.$parent.$eval(i.onOpenFocus):T.onOpenFocus,t=angular.isDefined(i.datepickerPopupTemplateUrl)?i.datepickerPopupTemplateUrl:T.datepickerPopupTemplateUrl,c=angular.isDefined(i.datepickerTemplateUrl)?i.datepickerTemplateUrl:T.datepickerTemplateUrl,u={};a.showButtonBar=angular.isDefined(i.showButtonBar)?a.$parent.$eval(i.showButtonBar):T.showButtonBar,a.getText=function(t){return a[t+"Text"]||T[t+"Text"]},a.isDisabled=function(t){return"today"===t&&(t=new Date),a.watchData.minDate&&a.compare(t,u.minDate)<0||a.watchData.maxDate&&0<a.compare(t,u.maxDate)};var d=!(a.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())});if(T.html5Types[i.type]?(r=T.html5Types[i.type],d=!0):(r=i.datepickerPopup||T.datepickerPopup,i.$observe("datepickerPopup",function(t,e){var n=t||T.datepickerPopup;if(n!==r&&(r=n,o.$modelValue=null,!r))throw new Error("datepickerPopup must have a date format specified.")})),!r)throw new Error("datepickerPopup must have a date format specified.");if(d&&i.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var p=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");function f(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}p.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":t});var m=angular.element(p.children()[0]);if(m.attr("template-url",c),d&&"month"===i.type&&(m.attr("datepicker-mode",'"month"'),m.attr("min-mode","month")),i.datepickerOptions){var h=a.$parent.$eval(i.datepickerOptions);h&&h.initDate&&(a.initDate=h.initDate,m.attr("init-date","initDate"),delete h.initDate),angular.forEach(h,function(t,e){m.attr(f(e),t)})}a.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(i[e]){var t=$(i[e]);if(a.$parent.$watch(t,function(t){a.watchData[e]=t,"minDate"!==e&&"maxDate"!==e||(u[e]=new Date(t))}),m.attr(f(e),"watchData."+e),"datepickerMode"===e){var n=t.assign;a.$watch("watchData."+e,function(t,e){angular.isFunction(n)&&t!==e&&n(a.$parent,t)})}}}),i.dateDisabled&&m.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),i.showWeeks&&m.attr("show-weeks",i.showWeeks),i.customClass&&m.attr("custom-class","customClass({ date: date, mode: mode })"),d?o.$formatters.push(function(t){return a.date=t}):(o.$$parserName="date",o.$validators.date=function(t,e){var n=t||e;if(!i.ngRequired&&!n)return!0;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var a=D.parse(n,r);return!isNaN(a)}return!1}return!0},o.$parsers.unshift(function(t){if(angular.isNumber(t)&&(t=new Date(t)),!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=D.parse(t,r,a.date);return isNaN(e)?void 0:e}}),o.$formatters.push(function(t){return a.date=t,o.$isEmpty(t)?t:C(t,r)})),a.dateSelection=function(t){angular.isDefined(t)&&(a.date=t);var e=a.date?C(a.date,r):null;n.val(e),o.$setViewValue(e),s&&(a.isOpen=!1,n[0].focus())},o.$viewChangeListeners.push(function(){a.date=D.parse(o.$viewValue,r,a.date)});var g=function(t){!a.isOpen||n[0].contains(t.target)||p[0].contains(t.target)||a.$apply(function(){a.isOpen=!1})},v=function(t){27===t.which&&a.isOpen?(t.preventDefault(),t.stopPropagation(),a.$apply(function(){a.isOpen=!1}),n[0].focus()):40!==t.which||a.isOpen||(t.preventDefault(),t.stopPropagation(),a.$apply(function(){a.isOpen=!0}))};n.bind("keydown",v),a.keydown=function(t){27===t.which&&(a.isOpen=!1,n[0].focus())},a.$watch("isOpen",function(t){t?(a.position=e?k.offset(n):k.position(n),a.position.top=a.position.top+n.prop("offsetHeight"),S(function(){l&&a.$broadcast("datepicker.focus"),w.bind("click",g)},0,!1)):w.unbind("click",g)}),a.select=function(t){if("today"===t){var e=new Date;angular.isDate(a.date)?(t=new Date(a.date)).setFullYear(e.getFullYear(),e.getMonth(),e.getDate()):t=new Date(e.setHours(0,0,0,0))}a.dateSelection(t)},a.close=function(){a.isOpen=!1,n[0].focus()};var b=y(p)(a);p.remove(),e?w.find("body").append(b):n.after(b),a.$on("$destroy",function(){!0===a.isOpen&&(x.$$phase||a.$apply(function(){a.isOpen=!1})),b.remove(),n.unbind("keydown",v),w.unbind("click",g)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(e,a){var i=null;this.open=function(t){i||(e.bind("click",n),e.bind("keydown",o)),i&&i!==t&&(i.isOpen=!1),i=t},this.close=function(t){i===t&&(i=null,e.unbind("click",n),e.unbind("keydown",o))};var n=function(t){if(i&&(!t||"disabled"!==i.getAutoClose())){var e=i.getToggleElement();if(!(t&&e&&e[0].contains(t.target))){var n=i.getDropdownElement();t&&"outsideClick"===i.getAutoClose()&&n&&n[0].contains(t.target)||(i.isOpen=!1,a.$$phase||i.$apply())}}},o=function(t){27===t.which?(i.focusToggleElement(),n()):i.isKeynavEnabled()&&/(38|40)/.test(t.which)&&i.isOpen&&(t.preventDefault(),t.stopPropagation(),i.focusDropdownEntry(t.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(r,e,n,t,s,l,c,a,u,d){var p,i,f=this,m=r.$new(),h=t.openClass,g=angular.noop,v=e.onToggle?n(e.onToggle):angular.noop,b=!1,o=!1,y=a.find("body");this.init=function(t){f.$element=t,e.isOpen&&(i=n(e.isOpen),g=i.assign,r.$watch(i,function(t){m.isOpen=!!t})),b=angular.isDefined(e.dropdownAppendToBody),o=angular.isDefined(e.keyboardNav),b&&f.dropdownMenu&&(y.append(f.dropdownMenu),y.addClass("dropdown"),t.on("$destroy",function(){f.dropdownMenu.remove()}))},this.toggle=function(t){return m.isOpen=arguments.length?!!t:!m.isOpen},this.isOpen=function(){return m.isOpen},m.getToggleElement=function(){return f.toggleElement},m.getAutoClose=function(){return e.autoClose||"always"},m.getElement=function(){return f.$element},m.isKeynavEnabled=function(){return o},m.focusDropdownEntry=function(t){var e=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):angular.element(f.$element).find("ul").eq(0).find("a");switch(t){case 40:angular.isNumber(f.selectedOption)?f.selectedOption=f.selectedOption===e.length-1?f.selectedOption:f.selectedOption+1:f.selectedOption=0;break;case 38:angular.isNumber(f.selectedOption)?f.selectedOption=0===f.selectedOption?0:f.selectedOption-1:f.selectedOption=e.length-1}e[f.selectedOption].focus()},m.getDropdownElement=function(){return f.dropdownMenu},m.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},m.$watch("isOpen",function(t,e){if(b&&f.dropdownMenu){var n=c.positionElements(f.$element,f.dropdownMenu,"bottom-left",!0),a={top:n.top+"px",display:t?"block":"none"};f.dropdownMenu.hasClass("dropdown-menu-right")?(a.left="auto",a.right=window.innerWidth-(n.left+f.$element.prop("offsetWidth"))+"px"):(a.left=n.left+"px",a.right="auto"),f.dropdownMenu.css(a)}var i=b?y:f.$element;if(l[t?"addClass":"removeClass"](i,h).then(function(){angular.isDefined(t)&&t!==e&&v(r,{open:!!t})}),t)f.dropdownMenuTemplateUrl&&d(f.dropdownMenuTemplateUrl).then(function(t){p=m.$new(),u(t.trim())(p,function(t){var e=t;f.dropdownMenu.replaceWith(e),f.dropdownMenu=e})}),m.focusToggleElement(),s.open(m);else{if(f.dropdownMenuTemplateUrl){p&&p.$destroy();var o=angular.element('<ul class="dropdown-menu"></ul>');f.dropdownMenu.replaceWith(o),f.dropdownMenu=o}s.close(m),f.selectedOption=null}angular.isFunction(g)&&g(r,t)}),r.$on("$locationChangeSuccess",function(){"disabled"!==m.getAutoClose()&&(m.isOpen=!1)});var $=r.$on("$destroy",function(){m.$destroy()});m.$on("$destroy",$)}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(t,e,n,a){a.init(e),e.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(t,e,n,a){if(a){var i=n.templateUrl;i&&(a.dropdownMenuTemplateUrl=i),a.dropdownMenu||(a.dropdownMenu=e)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(t,e,n,a){e.bind("keydown",function(t){if(-1!==[38,40].indexOf(t.which)){t.preventDefault(),t.stopPropagation();var e=a.dropdownMenu.find("a");switch(t.which){case 40:angular.isNumber(a.selectedOption)?a.selectedOption=a.selectedOption===e.length-1?a.selectedOption:a.selectedOption+1:a.selectedOption=0;break;case 38:angular.isNumber(a.selectedOption)?a.selectedOption=0===a.selectedOption?0:a.selectedOption-1:a.selectedOption=e.length-1}e[a.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,n,a,i){if(i){n.addClass("dropdown-toggle"),i.toggleElement=n;var t=function(t){t.preventDefault(),n.hasClass("disabled")||a.disabled||e.$apply(function(){i.toggle()})};n.bind("click",t),n.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(t){n.attr("aria-expanded",!!t)}),e.$on("$destroy",function(){n.unbind("click",t)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(t,e){a.push({key:t,value:e})},get:function(t){for(var e=0;e<a.length;e++)if(t==a[e].key)return a[e]},keys:function(){for(var t=[],e=0;e<a.length;e++)t.push(a[e].key);return t},top:function(){return a[a.length-1]},remove:function(t){for(var e=-1,n=0;n<a.length;n++)if(t==a[n].key){e=n;break}return a.splice(e,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).factory("$$multiMap",function(){return{createNew:function(){var i={};return{entries:function(){return Object.keys(i).map(function(t){return{key:t,value:i[t]}})},get:function(t){return i[t]},hasKey:function(t){return!!i[t]},keys:function(){return Object.keys(i)},put:function(t,e){i[t]||(i[t]=[]),i[t].push(e)},remove:function(t,e){var n=i[t];if(n){var a=n.indexOf(e);-1!==a&&n.splice(a,1),n.length||delete i[t]}}}}}}).directive("modalBackdrop",["$animate","$injector","$modalStack",function(o,t,e){var r=null;return t.has("$animateCss")&&(r=t.get("$animateCss")),{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(t,e){return t.addClass(e.backdropClass),n}};function n(t,a,i){i.modalInClass&&(r?r(a,{addClass:i.modalInClass}).start():o.addClass(a,i.modalInClass),t.$on(e.NOW_CLOSING_EVENT,function(t,e){var n=e();r?r(a,{removeClass:i.modalInClass}).start().then(n):o.removeClass(a,i.modalInClass).then(n)}))}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector",function(o,r,s,t){var l=null;return t.has("$animateCss")&&(l=t.get("$animateCss")),{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/modal/window.html"},link:function(n,a,i){a.addClass(i.windowClass||""),n.size=i.size,n.close=function(t){var e=o.getTop();e&&e.value.backdrop&&"static"!==e.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),o.dismiss(e.key,"backdrop click"))},n.$isRendered=!0;var e=r.defer();i.$observe("modalRender",function(t){"true"==t&&e.resolve()}),e.promise.then(function(){var t=null;i.modalInClass&&(t=l?l(a,{addClass:i.modalInClass}).start():s.addClass(a,i.modalInClass),n.$on(o.NOW_CLOSING_EVENT,function(t,e){var n=e();l?l(a,{removeClass:i.modalInClass}).start().then(n):s.removeClass(a,i.modalInClass).then(n)})),r.when(t).then(function(){var t=a[0].querySelectorAll("[autofocus]");t.length?t[0].focus():a[0].focus()});var e=o.getTop();e&&o.modalRendered(e.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(t,e,n,a,i){i(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(o,t,c,u,d,r,e,n,a){var s=null;e.has("$animateCss")&&(s=e.get("$animateCss"));var p,f,i,m="modal-open",h=a.createNew(),g=n.createNew(),v={NOW_CLOSING_EVENT:"modal.stack.now-closing"};function b(){for(var t=-1,e=h.keys(),n=0;n<e.length;n++)h.get(e[n]).value.backdrop&&(t=n);return t}function l(e,t){var n=c.find("body").eq(0),a=h.get(e).value;h.remove(e),y(a.modalDomEl,a.modalScope,function(){var t=a.openedClass||m;g.remove(t,e),n.toggleClass(t,g.hasKey(t))}),function(){if(p&&-1==b()){y(p,f,function(){null}),f=p=void 0}}(),t&&t.focus?t.focus():n.focus()}function y(e,n,a){var t,i=null;return n.$broadcast(v.NOW_CLOSING_EVENT,function(){return t||(t=r.defer(),i=t.promise),function(){t.resolve()}}),r.when(i).then(function t(){if(t.done)return;t.done=!0;s?s(e,{event:"leave"}).start().then(function(){e.remove()}):o.leave(e);n.$destroy();a&&a()})}function $(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}return d.$watch(b,function(t){f&&(f.index=t)}),c.bind("keydown",function(t){if(t.isDefaultPrevented())return t;var e=h.top();if(e&&e.value.keyboard)switch(t.which){case 27:t.preventDefault(),d.$apply(function(){v.dismiss(e.key,"escape key press")});break;case 9:v.loadFocusElementList(e);var n=!1;t.shiftKey?v.isFocusInFirstItem(t)&&(n=v.focusLastFocusableElement()):v.isFocusInLastItem(t)&&(n=v.focusFirstFocusableElement()),n&&(t.preventDefault(),t.stopPropagation())}}),v.open=function(t,e){var n=c[0].activeElement,a=e.openedClass||m;h.add(t,{deferred:e.deferred,renderDeferred:e.renderDeferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard,openedClass:e.openedClass}),g.put(a,t);var i=c.find("body").eq(0),o=b();if(0<=o&&!p){(f=d.$new(!0)).index=o;var r=angular.element('<div modal-backdrop="modal-backdrop"></div>');r.attr("backdrop-class",e.backdropClass),e.animation&&r.attr("modal-animation","true"),p=u(r)(f),i.append(p)}var s=angular.element('<div modal-window="modal-window"></div>');s.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:h.length()-1,animate:"animate"}).html(e.content),e.animation&&s.attr("modal-animation","true");var l=u(s)(e.scope);h.top().value.modalDomEl=l,h.top().value.modalOpener=n,i.append(l),i.addClass(a),v.clearFocusListCache()},v.close=function(t,e){var n=h.get(t);return n&&$(n,e,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(e),l(t,n.value.modalOpener),!0):!n},v.dismiss=function(t,e){var n=h.get(t);return n&&$(n,e,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(e),l(t,n.value.modalOpener),!0):!n},v.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},v.getTop=function(){return h.top()},v.modalRendered=function(t){var e=h.get(t);e&&e.value.renderDeferred.resolve()},v.focusFirstFocusableElement=function(){return 0<i.length&&(i[0].focus(),!0)},v.focusLastFocusableElement=function(){return 0<i.length&&(i[i.length-1].focus(),!0)},v.isFocusInFirstItem=function(t){return 0<i.length&&(t.target||t.srcElement)==i[0]},v.isFocusInLastItem=function(t){return 0<i.length&&(t.target||t.srcElement)==i[i.length-1]},v.clearFocusListCache=function(){i=[],0},v.loadFocusElementList=function(t){if((void 0===i||!i.length0)&&t){var e=t.value.modalDomEl;e&&e.length&&(i=e[0].querySelectorAll("a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]"))}},v}]).provider("$modal",function(){var v={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(u,d,p,f,m,h){var t={};var g=null;return t.getPromiseChain=function(){return g},t.open=function(o){var r=p.defer(),s=p.defer(),l=p.defer(),c={result:r.promise,opened:s.promise,rendered:l.promise,close:function(t){return h.close(c,t)},dismiss:function(t){return h.dismiss(c,t)}};if((o=angular.extend({},v.options,o)).resolve=o.resolve||{},!o.template&&!o.templateUrl)throw new Error("One of template or templateUrl options is required.");var t,e,n,a,i=p.all([(n=o,n.template?p.when(n.template):f(angular.isFunction(n.templateUrl)?n.templateUrl():n.templateUrl))].concat((t=o.resolve,e=[],angular.forEach(t,function(t){angular.isFunction(t)||angular.isArray(t)?e.push(p.when(u.invoke(t))):angular.isString(t)?e.push(p.when(u.get(t))):e.push(p.when(t))}),e)));return a=g=p.all([g]).then(function(){return i},function(){return i}).then(function(n){var t=(o.scope||d).$new();t.$close=c.close,t.$dismiss=c.dismiss,t.$on("$destroy",function(){t.$$uibDestructionScheduled||t.$dismiss("$uibUnscheduledDestruction")});var e,a={},i=1;o.controller&&(a.$scope=t,a.$modalInstance=c,angular.forEach(o.resolve,function(t,e){a[e]=n[i++]}),e=m(o.controller,a),o.controllerAs&&(o.bindToController&&angular.extend(e,t),t[o.controllerAs]=e)),h.open(c,{scope:t,deferred:r,renderDeferred:l,content:n[0],animation:o.animation,backdrop:o.backdrop,keyboard:o.keyboard,backdropClass:o.backdropClass,windowClass:o.windowClass,windowTemplateUrl:o.windowTemplateUrl,size:o.size,openedClass:o.openedClass}),s.resolve(!0)},function(t){s.reject(t),r.reject(t)}).finally(function(){g===a&&(g=null)}),c},t}]};return v}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(n,a,i){var o=this,r={$setViewValue:angular.noop},s=a.numPages?i(a.numPages).assign:angular.noop;this.init=function(t,e){r=t,this.config=e,r.$render=function(){o.render()},a.itemsPerPage?n.$parent.$watch(i(a.itemsPerPage),function(t){o.itemsPerPage=parseInt(t,10),n.totalPages=o.calculateTotalPages()}):this.itemsPerPage=e.itemsPerPage,n.$watch("totalItems",function(){n.totalPages=o.calculateTotalPages()}),n.$watch("totalPages",function(t){s(n.$parent,t),n.page>t?n.selectPage(t):r.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(n.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){n.page=parseInt(r.$viewValue,10)||1},n.selectPage=function(t,e){e&&e.preventDefault(),(!n.ngDisabled||!e)&&n.page!==t&&0<t&&t<=n.totalPages&&(e&&e.target&&e.target.blur(),r.$setViewValue(t),r.$render())},n.getText=function(t){return n[t+"Text"]||o.config[t+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(s,l){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(t,e){return e.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(t,e,n,a){var i=a[0],o=a[1];if(o){var u=angular.isDefined(n.maxSize)?t.$parent.$eval(n.maxSize):l.maxSize,d=angular.isDefined(n.rotate)?t.$parent.$eval(n.rotate):l.rotate;t.boundaryLinks=angular.isDefined(n.boundaryLinks)?t.$parent.$eval(n.boundaryLinks):l.boundaryLinks,t.directionLinks=angular.isDefined(n.directionLinks)?t.$parent.$eval(n.directionLinks):l.directionLinks,i.init(o,l),n.maxSize&&t.$parent.$watch(s(n.maxSize),function(t){u=parseInt(t,10),i.render()});var r=i.render;i.render=function(){r(),0<t.page&&t.page<=t.totalPages&&(t.pages=function(t,e){var n=[],a=1,i=e,o=angular.isDefined(u)&&u<e;o&&(d?e<(i=(a=Math.max(t-Math.floor(u/2),1))+u-1)&&(a=(i=e)-u+1):(a=(Math.ceil(t/u)-1)*u+1,i=Math.min(a+u-1,e)));for(var r=a;r<=i;r++){var s=p(r,r,r===t);n.push(s)}if(o&&!d){if(1<a){var l=p(a-1,"...",!1);n.unshift(l)}if(i<e){var c=p(i+1,"...",!1);n.push(c)}}return n}(t.page,t.totalPages))}}function p(t,e,n){return{number:t,text:e,active:n}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(r){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(t,e){return e.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,e,n,a){var i=a[0],o=a[1];o&&(t.align=angular.isDefined(n.align)?t.$parent.$eval(n.align):r.align,i.init(o,r))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){var s={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},l={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},c={};this.options=function(t){angular.extend(c,t)},this.setTriggers=function(t){angular.extend(l,t)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate","$rootScope","$parse",function(t,o,P,I,F,r,L,U){return function(E,O,a,M){function A(t){var e=(t||M.trigger||a).split(" "),n=e.map(function(t){return l[t]||t});return{show:e,hide:n}}M=angular.extend({},s,c,M);var t=E.replace(/[A-Z]/g,function(t,e){return(e?"-":"")+t.toLowerCase()}),e=r.startSymbol(),n=r.endSymbol(),i="<div "+t+'-popup title="'+e+"title"+n+'" '+(M.useContentExp?'content-exp="contentExp()" ':'content="'+e+"content"+n+'" ')+'placement="'+e+"placement"+n+'" popup-class="'+e+"popupClass"+n+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(t,e){var S=o(i);return function(n,a,i,t){var o,e,r,s,l,c=!!angular.isDefined(M.appendToBody)&&M.appendToBody,u=A(void 0),d=angular.isDefined(i[O+"Enable"]),p=n.$new(!0),f=!1,m=!!angular.isDefined(i[O+"IsOpen"])&&U(i[O+"IsOpen"]),h=function(){o&&(l||(l=P(function(){o.css({top:0,left:0,width:"auto",height:"auto"});var t=F.position(o),e=F.positionElements(a,o,p.placement,c);e.top+="px",e.left+="px",e.width=t.width+"px",e.height=t.height+"px",o.css(e),l=null},0,!1)))};function g(){p.isOpen?b():v()}function v(){var t,e;d&&!n.$eval(i[O+"Enable"])||(p.popupClass=i[O+"Class"],x(),t=i[O+"PopupDelay"],e=parseInt(t,10),p.popupDelay=isNaN(e)?M.popupDelay:e,p.popupDelay?s||(s=P(y,p.popupDelay,!1)):y())}function b(){$(),L.$$phase||L.$digest()}function y(){if(s=null,r&&(P.cancel(r),r=null),!(M.useContentExp?p.contentExp():p.content))return angular.noop;!function(){o&&w();e=p.$new(),o=S(e,function(t){c?I.find("body").append(t):a.after(t)}),M.useContentExp&&(e.$watch("contentExp()",function(t){!t&&p.isOpen&&$()}),e.$watch(function(){f||(f=!0,e.$$postDigest(function(){f=!1,p.isOpen&&h()}))}))}(),p.isOpen=!0,m&&m.assign(p.origScope,p.isOpen),L.$$phase||p.$apply(),o.css({display:"block"}),h()}function $(){p.isOpen=!1,m&&m.assign(p.origScope,p.isOpen),P.cancel(s),s=null,P.cancel(l),l=null,p.animation?r||(r=P(w,500)):w()}function w(){r=null,o&&(o.remove(),o=null),e&&(e.$destroy(),e=null)}function x(){var t=i[O+"Placement"];p.placement=angular.isDefined(t)?t:M.placement}p.origScope=n,p.isOpen=!1,p.contentExp=function(){return n.$eval(i[E])},M.useContentExp||i.$observe(E,function(t){!(p.content=t)&&p.isOpen?$():h()}),i.$observe("disabled",function(t){s&&t&&(P.cancel(s),s=null),t&&p.isOpen&&$()}),i.$observe(O+"Title",function(t){p.title=t,h()}),i.$observe(O+"Placement",function(){p.isOpen&&(x(),h())}),m&&n.$watch(m,function(t){t!==p.isOpen&&g()});var k,C=function(){u.show.forEach(function(t){a.unbind(t,v)}),u.hide.forEach(function(t){a.unbind(t,b)})};k=i[O+"Trigger"],C(),"none"!==(u=A(k)).show&&u.show.forEach(function(t,e){t===u.hide[e]?a[0].addEventListener(t,g):t&&(a[0].addEventListener(t,v),a[0].addEventListener(u.hide[e],b))});var D=n.$eval(i[O+"Animation"]);p.animation=angular.isDefined(D)?!!D:M.animation;var T=n.$eval(i[O+"AppendToBody"]);(c=angular.isDefined(T)?T:c)&&n.$on("$locationChangeSuccess",function(){p.isOpen&&$()}),n.$on("$destroy",function(){P.cancel(r),P.cancel(s),P.cancel(l),C(),w(),p=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(d,a,p,f){return{link:function(t,o,e){var r,n,s,l=t.$eval(e.tooltipTemplateTranscludeScope),c=0,u=function(){n&&(n.remove(),n=null),r&&(r.$destroy(),r=null),s&&(d.leave(s).then(function(){n=null}),n=s,s=null)};t.$watch(a.parseAsResourceUrl(e.tooltipTemplateTransclude),function(a){var i=++c;a?(f(a,!0).then(function(t){if(i===c){var e=l.$new(),n=p(t)(e,function(t){u(),d.enter(t,o)});s=n,(r=e).$emit("$includeContentLoaded",a)}},function(){i===c&&(u(),t.$emit("$includeContentError",a))}),t.$emit("$includeContentRequested",a)):u()}),t.$on("$destroy",u)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(t,e,n){t.placement&&e.addClass(t.placement),t.popupClass&&e.addClass(t.popupClass),t.animation()&&e.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(t){return t("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(t){return t("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(t,e,n){return e||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(t){return t("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html"}}).directive("popoverHtml",["$tooltip",function(t){return t("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","progressConfig",function(n,t,e){var a=this,i=angular.isDefined(t.animate)?n.$parent.$eval(t.animate):e.animate;this.bars=[],n.max=angular.isDefined(n.max)?n.max:e.max,this.addBar=function(e,t){i||t.css({transition:"none"}),this.bars.push(e),e.max=n.max,e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){e.percent=+(100*e.value/e.max).toFixed(2);var t=a.bars.reduce(function(t,e){return t+e.percent},0);100<t&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,a.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1)},n.$watch("max",function(t){a.bars.forEach(function(t){t.max=n.max,t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("progress",["$log","$progressSuppressWarning",function(t,e){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html",link:function(){e&&t.warn("progress is now deprecated. Use uib-progress instead")}}}]).directive("uibBar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,a){a.addBar(t,e)}}}).directive("bar",["$log","$progressSuppressWarning",function(i,o){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,a){o&&i.warn("bar is now deprecated. Use uib-bar instead"),a.addBar(t,e)}}}]).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,a){a.addBar(t,angular.element(e.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("RatingController",["$scope","$attrs","ratingConfig",function(a,i,o){var r={$setViewValue:angular.noop};this.init=function(t){(r=t).$render=this.render,r.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(i.stateOn)?a.$parent.$eval(i.stateOn):o.stateOn,this.stateOff=angular.isDefined(i.stateOff)?a.$parent.$eval(i.stateOff):o.stateOff;var e=angular.isDefined(i.titles)?a.$parent.$eval(i.titles):o.titles;this.titles=angular.isArray(e)&&0<e.length?e:o.titles;var n=angular.isDefined(i.ratingStates)?a.$parent.$eval(i.ratingStates):new Array(angular.isDefined(i.max)?a.$parent.$eval(i.max):o.max);a.range=this.buildTemplateObjects(n)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;e<n;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(e)},t[e]);return t},this.getTitle=function(t){return t>=this.titles.length?t+1:this.titles[t]},a.rate=function(t){!a.readonly&&0<=t&&t<=a.range.length&&(r.$setViewValue(r.$viewValue===t?0:t),r.$render())},a.enter=function(t){a.readonly||(a.value=t),a.onHover({value:t})},a.reset=function(){a.value=r.$viewValue,a.onLeave()},a.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),a.rate(a.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){a.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(t,e,n,a){var i=a[0],o=a[1];i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var a,i=this,o=i.tabs=t.tabs=[];i.select=function(e){angular.forEach(o,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect(),e.selectCalled=!1)}),e.active=!0,e.selectCalled||(e.onSelect(),e.selectCalled=!0)},i.addTab=function(t){o.push(t),1===o.length&&!1!==t.active?t.active=!0:t.active?i.select(t):t.active=!1},i.removeTab=function(t){var e=o.indexOf(t);if(t.active&&1<o.length&&!a){var n=e==o.length-1?e-1:e+1;i.select(o[n])}o.splice(e,1)},t.$on("$destroy",function(){a=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=!!angular.isDefined(n.vertical)&&t.$parent.$eval(n.vertical),t.justified=!!angular.isDefined(n.justified)&&t.$parent.$eval(n.justified)}}}).directive("tab",["$parse","$log",function(o,r){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(e,t,n,a,i){e.$watch("active",function(t){t&&a.select(e)}),e.disabled=!1,n.disable&&e.$parent.$watch(o(n.disable),function(t){e.disabled=!!t}),n.disabled&&(r.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),e.$parent.$watch(o(n.disabled),function(t){e.disabled=!!t})),e.select=function(){e.disabled||(e.active=!0)},a.addTab(e),e.$on("$destroy",function(){a.removeTab(e)}),e.$transcludeFn=i}}}]).directive("tabHeadingTransclude",function(){return{restrict:"A",require:"^tab",link:function(t,e,n,a){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}).directive("tabContentTransclude",function(){return{restrict:"A",require:"^tabset",link:function(t,n,e){var a=t.$eval(e.tabContentTransclude);a.$transcludeFn(a.$parent,function(t){angular.forEach(t,function(t){var e;(e=t).tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())?a.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(i,o,t,e,n,r){var a=new Date,s={$setViewValue:angular.noop},l=angular.isDefined(o.meridians)?i.$parent.$eval(o.meridians):r.meridians||n.DATETIME_FORMATS.AMPMS;this.init=function(t,e){(s=t).$render=this.render,s.$formatters.unshift(function(t){return t?new Date(t):null});var n=e.eq(0),a=e.eq(1);(angular.isDefined(o.mousewheel)?i.$parent.$eval(o.mousewheel):r.mousewheel)&&this.setupMousewheelEvents(n,a),(angular.isDefined(o.arrowkeys)?i.$parent.$eval(o.arrowkeys):r.arrowkeys)&&this.setupArrowkeyEvents(n,a),i.readonlyInput=angular.isDefined(o.readonlyInput)?i.$parent.$eval(o.readonlyInput):r.readonlyInput,this.setupInputEvents(n,a)};var c=r.hourStep;o.hourStep&&i.$parent.$watch(t(o.hourStep),function(t){c=parseInt(t,10)});var u,d,p=r.minuteStep;function f(){var t=parseInt(i.hours,10);if(i.showMeridian?0<t&&t<13:0<=t&&t<24)return i.showMeridian&&(12===t&&(t=0),i.meridian===l[1]&&(t+=12)),t}function m(){var t=parseInt(i.minutes,10);return 0<=t&&t<60?t:void 0}function h(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t.toString()}function g(t){v(),s.$setViewValue(new Date(a)),b(t)}function v(){s.$setValidity("time",!0),i.invalidHours=!1,i.invalidMinutes=!1}function b(t){var e=a.getHours(),n=a.getMinutes();i.showMeridian&&(e=0===e||12===e?12:e%12),i.hours="h"===t?e:h(e),"m"!==t&&(i.minutes=h(n)),i.meridian=a.getHours()<12?l[0]:l[1]}function y(t,e){var n=new Date(t.getTime()+6e4*e),a=new Date(t);return a.setHours(n.getHours(),n.getMinutes()),a}function $(t){a=y(a,t),g()}o.minuteStep&&i.$parent.$watch(t(o.minuteStep),function(t){p=parseInt(t,10)}),i.$parent.$watch(t(o.min),function(t){var e=new Date(t);u=isNaN(e)?void 0:e}),i.$parent.$watch(t(o.max),function(t){var e=new Date(t);d=isNaN(e)?void 0:e}),i.noIncrementHours=function(){var t=y(a,60*c);return d<t||t<a&&t<u},i.noDecrementHours=function(){var t=y(a,60*-c);return t<u||a<t&&d<t},i.noIncrementMinutes=function(){var t=y(a,p);return d<t||t<a&&t<u},i.noDecrementMinutes=function(){var t=y(a,-p);return t<u||a<t&&d<t},i.noToggleMeridian=function(){return a.getHours()<13?y(a,720)>d:y(a,-720)<u},i.showMeridian=r.showMeridian,o.showMeridian&&i.$parent.$watch(t(o.showMeridian),function(t){if(i.showMeridian=!!t,s.$error.time){var e=f(),n=m();angular.isDefined(e)&&angular.isDefined(n)&&(a.setHours(e),g())}else b()}),this.setupMousewheelEvents=function(t,e){var n=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||0<e};t.bind("mousewheel wheel",function(t){i.$apply(n(t)?i.incrementHours():i.decrementHours()),t.preventDefault()}),e.bind("mousewheel wheel",function(t){i.$apply(n(t)?i.incrementMinutes():i.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,e){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),i.incrementHours(),i.$apply()):40===t.which&&(t.preventDefault(),i.decrementHours(),i.$apply())}),e.bind("keydown",function(t){38===t.which?(t.preventDefault(),i.incrementMinutes(),i.$apply()):40===t.which&&(t.preventDefault(),i.decrementMinutes(),i.$apply())})},this.setupInputEvents=function(t,e){if(i.readonlyInput)return i.updateHours=angular.noop,void(i.updateMinutes=angular.noop);var n=function(t,e){s.$setViewValue(null),s.$setValidity("time",!1),angular.isDefined(t)&&(i.invalidHours=t),angular.isDefined(e)&&(i.invalidMinutes=e)};i.updateHours=function(){var t=f(),e=m();angular.isDefined(t)&&angular.isDefined(e)?(a.setHours(t),a<u||d<a?n(!0):g("h")):n(!0)},t.bind("blur",function(t){!i.invalidHours&&i.hours<10&&i.$apply(function(){i.hours=h(i.hours)})}),i.updateMinutes=function(){var t=m(),e=f();angular.isDefined(t)&&angular.isDefined(e)?(a.setMinutes(t),a<u||d<a?n(void 0,!0):g("m")):n(void 0,!0)},e.bind("blur",function(t){!i.invalidMinutes&&i.minutes<10&&i.$apply(function(){i.minutes=h(i.minutes)})})},this.render=function(){var t=s.$viewValue;isNaN(t)?(s.$setValidity("time",!1),e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(a=t),a<u||d<a?(s.$setValidity("time",!1),i.invalidHours=!0,i.invalidMinutes=!0):v(),b())},i.showSpinners=angular.isDefined(o.showSpinners)?i.$parent.$eval(o.showSpinners):r.showSpinners,i.incrementHours=function(){i.noIncrementHours()||$(60*c)},i.decrementHours=function(){i.noDecrementHours()||$(60*-c)},i.incrementMinutes=function(){i.noIncrementMinutes()||$(p)},i.decrementMinutes=function(){i.noDecrementMinutes()||$(-p)},i.toggleMeridian=function(){i.noToggleMeridian()||$(720*(a.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(t,e){return e.templateUrl||"template/timepicker/timepicker.html"},link:function(t,e,n,a){var i=a[0],o=a[1];o&&i.init(o,e.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(r,s,l,t,e){e||t.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var c=function(e,t,n){n=n||{};var a=r.defer(),i=c[n.animation?"animationEndEventName":"transitionEndEventName"],o=function(t){l.$apply(function(){e.unbind(i,o),a.resolve(e)})};return i&&e.bind(i,o),s(function(){angular.isString(t)?e.addClass(t):angular.isFunction(t)?t(e):angular.isObject(t)&&e.css(t),i||a.resolve(e)}),a.promise.cancel=function(){i&&e.unbind(i,o),a.reject("Transition cancelled")},a.promise},n=document.createElement("trans");function a(t){for(var e in t)if(void 0!==n.style[e])return t[e]}return c.transitionEndEventName=a({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}),c.animationEndEventName=a({WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"}),c}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(n){var a=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(t){var e=t.match(a);if(!e)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+t+'".');return{itemName:e[3],source:n(e[4]),viewMapper:n(e[2]||e[1]),modelMapper:n(e[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(U,N,V,H,z,j,R,_,q){var B=[9,13,27,38,40];return{require:["ngModel","^?ngModelOptions"],link:function(s,l,r,t){var c=t[0],u=t[1],n=s.$eval(r.typeaheadMinLength);n||0===n||(n=1);var d,p,a=s.$eval(r.typeaheadWaitMs)||0,i=!1!==s.$eval(r.typeaheadEditable),f=N(r.typeaheadLoading).assign||angular.noop,m=N(r.typeaheadOnSelect),e=!!angular.isDefined(r.typeaheadSelectOnBlur)&&s.$eval(r.typeaheadSelectOnBlur),h=N(r.typeaheadNoResults).assign||angular.noop,o=r.typeaheadInputFormatter?N(r.typeaheadInputFormatter):void 0,g=!!r.typeaheadAppendToBody&&s.$eval(r.typeaheadAppendToBody),v=!1!==s.$eval(r.typeaheadFocusFirst),b=!!r.typeaheadSelectOnExact&&s.$eval(r.typeaheadSelectOnExact),y=N(r.ngModel),$=N(r.ngModel+"($$$p)"),w=q.parse(r.typeahead),x=s.$new(),k=s.$on("$destroy",function(){x.$destroy()});x.$on("$destroy",k);var C="typeahead-"+x.$id+"-"+Math.floor(1e4*Math.random());l.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":C});var D=angular.element("<div typeahead-popup></div>");D.attr({id:C,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(r.typeaheadTemplateUrl)&&D.attr("template-url",r.typeaheadTemplateUrl),angular.isDefined(r.typeaheadPopupTemplateUrl)&&D.attr("popup-template-url",r.typeaheadPopupTemplateUrl);var T=function(){x.matches=[],x.activeIdx=-1,l.attr("aria-expanded",!1)},S=function(t){return C+"-option-"+t};x.$watch("activeIdx",function(t){t<0?l.removeAttr("aria-activedescendant"):l.attr("aria-activedescendant",S(t))});var E,O,M=function(o){var r={$viewValue:o};f(s,!0),h(s,!1),V.when(w.source(s,r)).then(function(t){var e,n,a=o===c.$viewValue;if(a&&d)if(t&&0<t.length){x.activeIdx=v?0:-1,h(s,!1);for(var i=x.matches.length=0;i<t.length;i++)r[w.itemName]=t[i],x.matches.push({id:S(i),label:w.viewMapper(x,r),model:t[i]});x.query=o,P(),l.attr("aria-expanded",!0),b&&1===x.matches.length&&(e=o,n=0,x.matches.length>n&&e&&e.toUpperCase()===x.matches[n].label.toUpperCase())&&x.select(0)}else T(),h(s,!0);a&&f(s,!1)},function(){T(),f(s,!1),h(s,!0)})};function A(){x.moveInProgress||(x.moveInProgress=!0,x.$digest()),E&&H.cancel(E),E=H(function(){x.matches.length&&P(),x.moveInProgress=!1,x.$digest()},200)}function P(){x.position=g?_.offset(l):_.position(l),x.position.top+=l.prop("offsetHeight")}g&&(angular.element(j).bind("resize",A),z.find("body").bind("scroll",A)),x.moveInProgress=!1,T(),x.query=void 0;var I=function(){O&&H.cancel(O)};c.$parsers.unshift(function(t){var e;return d=!0,0===n||t&&t.length>=n?0<a?(I(),e=t,O=H(function(){M(e)},a)):M(t):(f(s,!1),I(),T()),i?t:t?void c.$setValidity("editable",!1):(c.$setValidity("editable",!0),null)}),c.$formatters.push(function(t){var e,n={};return i||c.$setValidity("editable",!0),o?(n.$model=t,o(s,n)):(n[w.itemName]=t,e=w.viewMapper(s,n),n[w.itemName]=void 0,e!==w.viewMapper(s,n)?e:t)}),x.select=function(t){var e,n,a,i,o={};p=!0,o[w.itemName]=n=x.matches[t].model,e=w.modelMapper(s,o),a=s,i=e,angular.isFunction(y(s))&&u&&u.$options&&u.$options.getterSetter?$(a,{$$$p:i}):y.assign(a,i),c.$setValidity("editable",!0),c.$setValidity("parse",!0),m(s,{$item:n,$model:e,$label:w.viewMapper(s,o)}),T(),!1!==x.$eval(r.typeaheadFocusOnSelect)&&H(function(){l[0].focus()},0,!1)},l.bind("keydown",function(t){if(0!==x.matches.length&&-1!==B.indexOf(t.which)){if(-1===x.activeIdx&&(9===t.which||13===t.which))return T(),void x.$digest();t.preventDefault(),40===t.which?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):38===t.which?(x.activeIdx=(0<x.activeIdx?x.activeIdx:x.matches.length)-1,x.$digest()):13===t.which||9===t.which?x.$apply(function(){x.select(x.activeIdx)}):27===t.which&&(t.stopPropagation(),T(),x.$digest())}}),l.bind("blur",function(){e&&x.matches.length&&-1!==x.activeIdx&&!p&&(p=!0,x.$apply(function(){x.select(x.activeIdx)})),p=d=!1});var F=function(t){l[0]!==t.target&&3!==t.which&&0!==x.matches.length&&(T(),R.$$phase||x.$digest())};z.bind("click",F),s.$on("$destroy",function(){z.unbind("click",F),g&&L.remove(),D.remove()});var L=U(D)(x);g?z.find("body").append(L):l.after(L)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(t,e){return e.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return 0<e.matches.length},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(i,o,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(e,n,t){var a=r(t.templateUrl)(e.$parent)||"template/typeahead/typeahead-match.html";i(a).then(function(t){o(t.trim())(e,function(t){n.replaceWith(t)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log",function(n,t,a){var i;return i=t.has("$sanitize"),function(t,e){return!i&&/<.*>/g.test(t)&&a.warn("Unsafe use of typeahead please use ngSanitize"),t=e?(""+t).replace(new RegExp(e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):t,i||(t=n.trustAsHtml(t)),t}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(t){t.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n\tng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" ></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),void 0===TEMPLATES)var TEMPLATES={};TEMPLATES["alignment.html"]='<div class="btn-group alignment">\n  <button type="button" class="btn btn-default btn-sm btn-alignment dropdown-toggle"\n    data-toggle="dropdown" data-wysihtml5-command-value="left">\n    <i class="fa fa-align-left"></i>\n    <span class="caret"></span>\n  </button>\n  <div class="dropdown-menu" role="menu">\n    <div class="btn-group">\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="left" tabindex="-1">\n        <i class="fa fa-align-left"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="center" tabindex="-1">\n        <i class="fa fa-align-center"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="right" tabindex="-1">\n        <i class="fa fa-align-right"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="justify" tabindex="-1">\n        <i class="fa fa-align-justify"></i>\n      </button>\n    </div>\n  </div>\n</div>\n',function(a,t,e,r,n){"use strict";var i="alignment";function o(t,e){var i=a(t),o=null;function n(t){var e=i.find(".btn-alignment .fa"),n=e.attr("class").match(/fa-align-[a-z]+/g),a="fa-align-"+t;n&&0<n.length&&e.removeClass(n[0]),e.addClass(a),o.data("wysihtml5-command-value",t)}return e=a.extend({},{align:"left"},e),i.append(r["alignment.html"]),o=i.find(".btn-alignment"),n(e.align),i.find(".dropdown-menu button").on("click",function(){var t=a(this).data("wysihtml5-command-value");n(t),i.trigger("alignmentChanged",t)}),{getAlignment:function(){return o.data("wysihtml5-command-value")},setAlignment:n,reset:function(){n("left")}}}a.fn.alignment=function(t){return this.each(function(){a.data(this,"plugin_"+i)||a.data(this,"plugin_"+i,new o(this,t))})}}(jQuery,window,document,TEMPLATES);var WIDGET_SETTINGS_UI_CONFIG={families:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;",sizes:"8px 9px 10px 11px 12px 14px 18px 24px 30px 36px 48px 60px 72px 96px"};!function(){"use strict";angular.module("risevision.widget.common.url-field",["risevision.common.i18n","risevision.widget.common.tooltip"]).directive("urlField",["$templateCache","$log",function(t,o){return{restrict:"E",require:"?ngModel",scope:{url:"=",hideLabel:"@",fileType:"@"},template:t.get("_angular/url-field/url-field.html"),link:function(a,t,e,n){function i(t){var e,n;return e=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,-1===t.indexOf("://")&&(t="http://"+t),(n=e.test(t))&&void 0!==a.fileType?(n=function(t,e){var n,a=t.toLowerCase();switch(e){case"image":n=[".jpg",".jpeg",".png",".bmp",".svg",".gif"];break;case"video":n=[".webm",".mp4",".ogv",".ogg"];break;default:n=[]}for(var i=0,o=n.length;i<o;i++)if(-1!==a.indexOf(n[i]))return!0;return!1}(t,a.fileType))||(a.invalidType=a.fileType):a.invalidType="url",n&&function(){if("undefined"!==a.fileType&&"undefined"!==a.url&&"image"===a.fileType){var t=new Image;t.onload=function(){a.valid=!0,a.$apply()},t.onerror=function(){a.valid=!1,a.invalidType=a.fileType,a.$apply()},t.src=a.url}}(),n}a.doValidation=!0,a.forcedValid=!1,a.valid=!0,a.invalidType="url",a.allowInitEmpty=void 0!==e.initEmpty,a.blur=function(){a.$emit("urlFieldBlur")},a.$watch("url",function(t){null!=t&&(""!==t&&a.allowInitEmpty&&(a.allowInitEmpty=!1),a.doValidation&&!a.allowInitEmpty&&(a.valid=i(a.url)))}),a.$watch("valid",function(t){n&&(o.info("Calling $setValidity() on parent controller"),n.$setValidity("valid",t))}),a.$watch("doValidation",function(t){void 0!==a.url&&(t?(a.forcedValid=!1,a.allowInitEmpty||(a.valid=i(a.url))):(a.forcedValid=!0,a.valid=!0))})}}}])}(),function(e){try{e=angular.module("risevision.widget.common.url-field")}catch(t){e=angular.module("risevision.widget.common.url-field",[])}e.run(["$templateCache",function(t){"use strict";t.put("_angular/url-field/url-field.html",'<div class="form-group" >\n  <label ng-if="!hideLabel">{{ "url.label" | translate }}</label>\n  <div>\n    <input name="url" type="text" ng-model="url" ng-blur="blur()" class="form-control" placeholder="http://">\n  </div>\n  <p ng-if="!valid && invalidType === \'url\'" class="text-danger">{{ "url.errors.url" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'image\'" class="text-danger">{{ "url.errors.image" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'video\'" class="text-danger">{{ "url.errors.video" | translate }}</p>\n  <div class="checkbox" ng-show="forcedValid || !valid">\n    <label>\n      <input name="validate-url" ng-click="doValidation = !doValidation" type="checkbox"\n             value="validate-url"> {{"url.validate.label" | translate}}\n    </label>\n  </div>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.font-setting",["angularLoad","ui.tinymce","risevision.common.i18n","risevision.widget.common.url-field"]).directive("fontSetting",["$templateCache","$log","$window","googleFontLoader",function(t,e,n,a){return{restrict:"AE",scope:{fontData:"=",previewText:"@",verticalAlign:"@"},template:t.get("_angular/font-setting/font-setting.html"),transclude:!1,link:function(i,t){var o=$(t),r=o.find(".custom-font"),s=o.find(".custom-font-size"),l=!0;i.googleFontList="",i.defaultFont={font:{family:"verdana,geneva,sans-serif",type:"standard",url:""},size:"24px",customSize:"",align:"left",verticalAlign:"middle",bold:!1,italic:!1,underline:!1,forecolor:"black",backcolor:"transparent"},a.getFonts().then(function(t){i.googleFontList=t}),i.customFontSize=null,i.applyCustomFont=function(){var t=p();null!==t&&(f(t),i.fontData.font.family=t,i.fontData.font.type="custom",d(i.fontData)),r.modal("hide")},i.applyCustomFontSize=function(){s.modal("hide"),null!==i.customFontSize&&8<=i.customFontSize&&i.customFontSize+"px"!==i.fontData.size&&(i.fontData.size=i.customFontSize+"px",-1!==WIDGET_SETTINGS_UI_CONFIG.sizes.indexOf(i.fontData.size)||i.fontData.customSize===i.fontData.size?n.tinymce.activeEditor.execCommand("FontSize",!1,i.fontData.size):(i.fontData.customSize=i.customFontSize+"px",i.tinymceOptions.fontsize_formats="Custom "+(""!==i.fontData.customSize?i.fontData.customSize+" ":"")+WIDGET_SETTINGS_UI_CONFIG.sizes)),i.customFontSize=null},i.defaults=function(t){if(t)for(var e=1,n=arguments.length;e<n;e++){var a=arguments[e];for(var i in a)void 0===t[i]&&(t[i]=a[i])}return t};var c=i.$watchGroup(["fontData","googleFontList"],function(t){var e=null,n=t[0],a=t[1];n&&a&&(i.defaults(n,i.defaultFont),i.fontData.font.url&&null!==(e=p())&&f(e),d(n),i.tinymceOptions={font_formats:"Use Custom Font=custom;"+WIDGET_SETTINGS_UI_CONFIG.families+i.googleFontList,fontsize_formats:"Custom "+(""!==i.fontData.customSize?i.fontData.customSize+" ":"")+WIDGET_SETTINGS_UI_CONFIG.sizes,menubar:!1,plugins:"textcolor colorpicker",skin_url:"//s3.amazonaws.com/rise-common/styles/tinymce/rise",statusbar:!1,toolbar:"fontselect fontsizeselect | alignleft aligncenter alignright alignjustify"+(i.verticalAlign?" aligntop alignmiddle alignbottom":"")+" | forecolor backcolor | bold italic underline",setup:function(t){var e;i.verticalAlign&&((e=t).addButton("aligntop",{image:"//s3.amazonaws.com/Rise-Images/Icons/align-top.svg",tooltip:"Align Top",onclick:function(){e.execCommand("mceToggleVertical",!1,"top")}}),e.addButton("alignmiddle",{image:"//s3.amazonaws.com/Rise-Images/Icons/align-vertical-middle.svg",tooltip:"Align Middle",onclick:function(){e.execCommand("mceToggleVertical",!1,"middle")}}),e.addButton("alignbottom",{image:"//s3.amazonaws.com/Rise-Images/Icons/align-bottom.svg",tooltip:"Align Bottom",onclick:function(){e.execCommand("mceToggleVertical",!1,"bottom")}}),e.addCommand("mceToggleVertical",function(){})),t.on("init",function(){!function(t){if(i.fontData){switch("custom"===i.fontData.font.type&&i.fontData.font.url?t.execCommand("FontName",!1,"custom"):t.execCommand("FontName",!1,i.fontData.font.family),t.execCommand("FontSize",!1,i.fontData.size),i.fontData.align){case"left":t.execCommand("JustifyLeft",!1);break;case"center":t.execCommand("JustifyCenter",!1);break;case"right":t.execCommand("JustifyRight",!1);break;case"justify":t.execCommand("JustifyFull",!1)}i.verticalAlign&&t.execCommand("mceToggleVertical",!1,i.fontData.verticalAlign),o.find(".mce-colorbutton[aria-label='Text color'] span").css("background-color",i.fontData.forecolor),o.find(".mce-colorbutton[aria-label='Background color'] span").css("background-color",i.fontData.backcolor),i.fontData.bold&&u(o.find(".mce-btn[aria-label='Bold']")),i.fontData.italic&&u(o.find(".mce-btn[aria-label='Italic']")),i.fontData.underline&&u(o.find(".mce-btn[aria-label='Underline']"))}}(t),l=!1}),t.on("ExecCommand",function(t){!function(t,e){switch(e.command){case"FontName":if(l)return;if("custom"===e.value)return r.modal("show");i.fontData.font.family=e.value,i.fontData.font.type=(n=e.value,-1!==WIDGET_SETTINGS_UI_CONFIG.families.indexOf(n)?"standard":-1!==i.googleFontList.indexOf(n)?"google":"custom");break;case"FontSize":if(l)return;if("Custom"===e.value)return s.modal("show");i.fontData.size=e.value;break;case"JustifyLeft":i.fontData.align="left";break;case"JustifyCenter":i.fontData.align="center";break;case"JustifyRight":i.fontData.align="right";break;case"JustifyFull":i.fontData.align="justify";break;case"mceToggleVertical":e.value?(m(e.value),i.fontData.verticalAlign!==e.value&&m(i.fontData.verticalAlign)):m(i.defaultFont.verticalAlign),i.fontData.verticalAlign=e.value?e.value:i.defaultFont.verticalAlign;break;case"forecolor":i.fontData.forecolor=e.value?e.value:i.defaultFont.forecolor;break;case"hilitecolor":i.fontData.backcolor=e.value?e.value:i.defaultFont.backcolor;break;case"mceToggleFormat":"bold"===e.value?(i.fontData.bold=!i.fontData.bold,u(o.find(".mce-btn[aria-label='Bold']"))):"italic"===e.value?(i.fontData.italic=!i.fontData.italic,u(o.find(".mce-btn[aria-label='Italic']"))):"underline"===e.value&&(i.fontData.underline=!i.fontData.underline,u(o.find(".mce-btn[aria-label='Underline']")))}var n;d(i.fontData)}(0,t)})},init_instance_callback:function(i){var o=i.formatter.apply,r=i.formatter.remove;i.formatter.apply=function(t,e,n){var a={command:t,value:e.value};o(t,e,n),i.fire("ExecCommand",a)},i.formatter.remove=function(t,e,n){var a={command:t,value:e&&e.value?e.value:null};r(t,e,n),i.fire("ExecCommand",a)}}},c(),i.previewText&&i.$watch("fontData",d,!0))});function u(t){t.toggleClass("mce-active")}function d(t){var e=o.find(".text-container"),n=o.find(".text");i.previewText&&t&&(n.css("fontFamily",t.font.family),n.css("fontSize",t.size),n.css("fontWeight",t.bold?"bold":"normal"),n.css("fontStyle",t.italic?"italic":"normal"),n.css("textDecoration",t.underline?"underline":"none"),n.css("color",t.forecolor),n.css("backgroundColor",t.backcolor),e.css("textAlign",t.align))}function p(){return i.fontData.font.url?decodeURI(i.fontData.font.url.trim()).split("/").pop().split(".")[0]:null}function f(t){var e=null,n="font-family: "+t+"; src: url('"+$.trim(i.fontData.font.url)+"');";null!==(e=document.styleSheets[0])&&e.addRule("@font-face",n)}function m(t){switch(t){case"top":u(o.find(".mce-btn[aria-label='Align Top']"));break;case"middle":u(o.find(".mce-btn[aria-label='Align Middle']"));break;case"bottom":u(o.find(".mce-btn[aria-label='Align Bottom']"))}}i.$watch("tinymceOptions.fontsize_formats",function(t){void 0===t||l||i.$broadcast("$tinymce:refresh")})}}}])}(),function(){"use strict";angular.module("risevision.widget.common.font-setting").factory("googleFontLoader",["$http","angularLoad",function(t,o){var r=["Buda","Coda Caption","Open Sans Condensed","UnifrakturCook","Molle"],s=",sans-serif;",e={getFonts:function(){return t.get("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBXxVK_IOV7LNQMuVVo_l7ZvN53ejN86zY",{cache:!0}).then(function(t){var e="",n="",a=!1;if(t.data&&t.data.items)for(var i=0;i<t.data.items.length;i++)e=t.data.items[i].family,-1===r.indexOf(e)&&(o.loadCSS("//fonts.googleapis.com/css?family="+e).then(function(){}),/\s/.test(e)&&(a=!0),n+=a?e+"='"+e+"'"+s:e+"="+e+s);return n})}};return e}])}(),function(e){try{e=angular.module("risevision.widget.common.font-setting")}catch(t){e=angular.module("risevision.widget.common.font-setting",[])}e.run(["$templateCache",function(t){"use strict";t.put("_angular/font-setting/font-setting.html",'<div class="font-setting">\n  <div class="row">\n    <div class="col-md-12">\n      <div ng-class="{\'form-group\': !previewText}">\n        <textarea ui-tinymce="tinymceOptions" ng-model="tinymceModel" ng-if="tinymceOptions"></textarea>\n      </div>\n    </div>\n  </div>\n  <div class="row" ng-if="previewText">\n    <div class="col-md-12">\n      <div class="text-container form-group">\n        <span class="text">{{previewText}}</span>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Custom Font --\x3e\n  <div class="custom-font modal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="false">\n    <div class="modal-dialog">\n      <div class="modal-content">\n\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal">\n            <i class="fa fa-times half-top"></i>\n          </button>\n          <h2 class="modal-title">{{"font-setting.custom-font" | translate}}</h2>\n        </div>\n\n        <form role="form" name="customFontForm">\n          <div class="modal-body">\n            <url-field url="fontData.font.url" ng-model="customFont" init-empty></url-field>\n          </div>\n\n          <div class="modal-footer">\n            <button type="button" class="select btn btn-primary btn-fixed-width" ng-click="applyCustomFont()" ng-disabled="customFontForm.$invalid">\n              <span>{{"common.select" | translate}}</span>\n              <i class="fa fa-white fa-check icon-right"></i>\n            </button>\n            <button type="button" class="cancel btn btn-default btn-fixed-width" data-dismiss="modal">\n              <span>{{"common.cancel" | translate}}</span>\n              <i class="fa fa-white fa-times icon-right"></i>\n            </button>\n          </div>\n        </form>\n\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Custom Font Size --\x3e\n  <div class="custom-font-size modal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="false">\n    <div class="modal-dialog">\n      <div class="modal-content">\n\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal">\n            <i class="fa fa-times half-top"></i>\n          </button>\n          <h2 class="modal-title">{{"font-setting.custom-font-size" | translate}}</h2>\n        </div>\n\n        <form role="form" name="customFontSizeForm">\n          <div class="modal-body">\n            <div class="row">\n              <div class="col-md-3">\n                <div class="input-group">\n                  <input type="number" ng-model="customFontSize" class="form-control" />\n                  <span class="input-group-addon">{{\'common.units.pixels\' | translate}}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class="modal-footer">\n            <button type="button" class="select btn btn-primary btn-fixed-width" ng-click="applyCustomFontSize()" ng-disabled="customFontSizeForm.$invalid">\n              <span>{{"common.select" | translate}}</span>\n              <i class="fa fa-white fa-check icon-right"></i>\n            </button>\n            <button type="button" class="cancel btn btn-default btn-fixed-width" data-dismiss="modal">\n              <span>{{"common.cancel" | translate}}</span>\n              <i class="fa fa-white fa-times icon-right"></i>\n            </button>\n          </div>\n        </form>\n\n      </div>\n    </div>\n  </div>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.transition-setting",["risevision.common.i18n","risevision.widget.common.tooltip"]).directive("transitionSetting",["$templateCache","$log",function(t){return{restrict:"E",scope:{transition:"=",hideFade:"@"},template:t.get("_angular/transition-setting/transition-setting.html"),link:function(e){e.defaultSetting={type:"none",direction:"up",duration:10,pud:10,resume:5,speed:"medium"},e.defaults=function(t){if(t)for(var e=1,n=arguments.length;e<n;e++){var a=arguments[e];for(var i in a)void 0===t[i]&&(t[i]=a[i])}return t},e.$watch("transition",function(t){e.defaults(t,e.defaultSetting)})}}}])}(),function(e){try{e=angular.module("risevision.widget.common.transition-setting")}catch(t){e=angular.module("risevision.widget.common.transition-setting",[])}e.run(["$templateCache",function(t){"use strict";t.put("_angular/transition-setting/transition-setting.html",'<div class="row">\n  <div class="col-md-3">\n    <div class="form-group">\n      <label class="control-label">{{"transition.heading" | translate}}</label>\n      <select name="transition-by" ng-model="transition.type" class="form-control">\n        <option value="none">{{"transition.type.none" | translate}}</option>\n        <option value="fade" ng-if="!hideFade">{{"transition.type.fade" | translate}}</option>\n        <option value="scroll">{{"transition.type.scroll" | translate}}</option>\n        <option value="page">{{"transition.type.page" | translate}}</option>\n      </select>\n    </div>\n  </div>\n</div>\n<div class="row">\n  <div class="col-md-3" ng-if="transition.type !== \'scroll\'">\n    <div class="form-group">\n      <label class="control-label">{{"transition.duration" | translate }}</label>\n      <div class="input-group">\n        <input name="transition-duration" type="number"  class="form-control" ng-model="transition.duration">\n        <span class="input-group-addon">sec</span>\n      </div>\n    </div>\n  </div>\n  <div class="col-md-3" ng-if="transition.type === \'scroll\'">\n    <div class="form-group">\n      <label class="control-label">{{"transition.direction.label" | translate}}</label>\n      <select name="transition-direction" ng-model="transition.direction" class="form-control">\n        <option value="up">{{"transition.direction.up" | translate}}</option>\n        <option value="left">{{"transition.direction.left" | translate}}</option>\n      </select>\n    </div>\n  </div>\n  <div class="col-md-3" ng-if="transition.type === \'scroll\'">\n    <div class="form-group">\n      <label class="control-label">{{"transition.speed.label" | translate}}</label>\n      <select name="transition-speed" ng-model="transition.speed" class="form-control">\n        <option value="slow">{{"transition.speed.slow" | translate}}</option>\n        <option value="medium">{{"transition.speed.medium" | translate}}</option>\n        <option value="fast">{{"transition.speed.fast" | translate}}</option>\n      </select>\n    </div>\n  </div>\n  <div class="col-md-3" ng-if="transition.type === \'scroll\' && transition.direction === \'up\' || transition.type === \'page\'">\n    <div class="form-group">\n      <label class="control-label">{{"transition.resume.label" | translate}}</label>\n      <span popover="{{\'transition.resume.tooltip\' | translate}}" popover-trigger="click"\n            popover-placement="right" rv-tooltip></span>\n      <div class="input-group">\n        <input name="transition-resume" type="number" ng-model="transition.resume" class="form-control" />\n        <span class="input-group-addon">{{"common.units.seconds" | translate}}</span>\n      </div>\n    </div>\n  </div>\n  <div class="col-md-3" ng-if="transition.type === \'scroll\' && transition.direction === \'up\' || transition.type === \'page\'">\n    <div class="form-group">\n      <label class="control-label">{{"transition.pud.label" | translate}}</label>\n      <span popover="{{\'transition.pud.tooltip\' | translate}}" popover-trigger="click"\n            popover-placement="right" rv-tooltip></span>\n      <div class="input-group">\n        <input name="transition-pud" type="number" ng-model="transition.pud" class="form-control" />\n        <span class="input-group-addon">{{"common.units.seconds" | translate}}</span>\n      </div>\n    </div>\n  </div>\n</div>\n')}])}(),angular.module("colorpicker.module",[]).factory("Helper",function(){"use strict";return{closestSlider:function(t){return(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector).bind(t)("I")?t.parentNode:t},getOffset:function(t,e){for(var n=0,a=0,i=t.getBoundingClientRect();t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e||"BODY"!==t.tagName?(n+=t.scrollLeft,a+=t.scrollTop):(n+=document.documentElement.scrollLeft||t.scrollLeft,a+=document.documentElement.scrollTop||t.scrollTop),t=t.offsetParent;return{top:i.top+window.pageYOffset,left:i.left+window.pageXOffset,scrollX:n,scrollY:a}},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}]}}).factory("Color",["Helper",function(o){"use strict";return{value:{h:1,s:1,b:1,a:1},rgb:function(){var t=this.toRGB();return"rgb("+t.r+","+t.g+","+t.b+")"},rgba:function(){var t=this.toRGB();return"rgba("+t.r+","+t.g+","+t.b+","+t.a+")"},hex:function(){return this.toHex()},RGBtoHSB:function(t,e,n,a){var i,o;return t/=255,e/=255,n/=255,{h:((0===(o=(i=Math.max(t,e,n))-Math.min(t,e,n))?null:i===t?(e-n)/o:i===e?(n-t)/o+2:(t-e)/o+4)+360)%6*60/360||1,s:0===o?0:o/i,b:i,a:a||1}},setColor:function(t){for(var e in t=t?t.toLowerCase():t,o.stringParsers)if(o.stringParsers.hasOwnProperty(e)){var n=o.stringParsers[e],a=n.re.exec(t),i=a&&n.parse(a);if(i)return this.value=this.RGBtoHSB.apply(null,i),!1}},setHue:function(t){this.value.h=1-t},setSaturation:function(t){this.value.s=t},setLightness:function(t){this.value.b=1-t},setAlpha:function(t){this.value.a=parseInt(100*(1-t),10)/100},toRGB:function(t,e,n,a){var i,o,r,s,l;return t||(t=this.value.h,e=this.value.s,n=this.value.b),t=(t*=360)%360/60,i=o=r=n-(l=n*e),i+=[l,s=l*(1-Math.abs(t%2-1)),0,0,s,l][t=~~t],o+=[s,l,l,s,0,0][t],r+=[0,0,s,l,l,s][t],{r:Math.round(255*i),g:Math.round(255*o),b:Math.round(255*r),a:a||this.value.a}},toHex:function(t,e,n,a){var i=this.toRGB(t,e,n,a);return"#"+(1<<24|parseInt(i.r,10)<<16|parseInt(i.g,10)<<8|parseInt(i.b,10)).toString(16).substr(1)}}}]).factory("Slider",["Helper",function(s){"use strict";var l={maxLeft:0,maxTop:0,callLeft:null,callTop:null,knob:{top:0,left:0}},c={};return{getSlider:function(){return l},getLeftPosition:function(t){return Math.max(0,Math.min(l.maxLeft,l.left+((t.pageX||c.left)-c.left)))},getTopPosition:function(t){return Math.max(0,Math.min(l.maxTop,l.top+((t.pageY||c.top)-c.top)))},setSlider:function(t,e){var n=s.closestSlider(t.target),a=s.getOffset(n,e),i=n.getBoundingClientRect(),o=t.clientX-i.left,r=t.clientY-i.top;l.knob=n.children[0].style,l.left=t.pageX-a.left-window.pageXOffset+a.scrollX,l.top=t.pageY-a.top-window.pageYOffset+a.scrollY,c={left:t.pageX-(o-l.left),top:t.pageY-(r-l.top)}},setSaturation:function(t,e){l={maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setLightness"},this.setSlider(t,e)},setHue:function(t,e){l={maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},this.setSlider(t,e)},setAlpha:function(t,e){l={maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"},this.setSlider(t,e)},setKnob:function(t,e){l.knob.top=t+"px",l.knob.left=e+"px"}}}]).directive("colorpicker",["$document","$compile","Color","Slider","Helper",function(M,A,P,I,F){"use strict";return{require:"?ngModel",restrict:"A",link:function(o,r,n,s){var t,l=n.colorpicker?n.colorpicker:"hex",e=!!angular.isDefined(n.backgroundSetting),a=angular.isDefined(n.colorpickerPosition)?n.colorpickerPosition:"bottom",i=!!angular.isDefined(n.colorpickerInline)&&n.colorpickerInline,c=!!angular.isDefined(n.colorpickerFixedPosition)&&n.colorpickerFixedPosition,u=angular.isDefined(n.colorpickerParent)?r.parent():angular.element(document.body),d=!!angular.isDefined(n.colorpickerWithInput)&&n.colorpickerWithInput,p=d?'<input type="text" name="colorpicker-input" spellcheck="false">':"",f=e?'<div class="colorpicker dropdown"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha>'+p+"</div></div>":'<div class="colorpicker dropdown"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha><colorpicker-preview></colorpicker-preview>'+p+(i?"":'<button type="button" class="close close-colorpicker">&times;</button>')+"</div></div>",m=angular.element(f),h=P,g=m.find("colorpicker-hue"),v=m.find("colorpicker-saturation"),b=m.find("colorpicker-preview"),y=m.find("i");if(A(m)(o),d){var $=m.find("input");$.on("mousedown",function(t){t.stopPropagation()}).on("keyup",function(){var t=this.value;r.val(t),s&&s.$modelValue!==t&&(o.$apply(s.$setViewValue(t)),D(!0))})}function w(){M.on("mousemove",k),M.on("mouseup",C)}function x(){try{b.css("backgroundColor",h[l]())}catch(t){b.css("backgroundColor",h.toHex())}v.css("backgroundColor",h.toHex(h.value.h,1,1,1)),"rgba"===l&&(t.css.backgroundColor=h.toHex())}function k(t){var e=I.getLeftPosition(t),n=I.getTopPosition(t),a=I.getSlider();I.setKnob(n,e),a.callLeft&&h[a.callLeft].call(h,e/100),a.callTop&&h[a.callTop].call(h,n/100),x();var i=h[l]();return r.val(i),s&&o.$apply(s.$setViewValue(i)),d&&$.val(i),!1}function C(){E("colorpicker-selected"),M.off("mousemove",k),M.off("mouseup",C)}function D(t){h.setColor(r.val()),d&&!t&&$.val(r.val()),y.eq(0).css({left:100*h.value.s+"px",top:100-100*h.value.b+"px"}),y.eq(1).css("top",100*(1-h.value.h)+"px"),y.eq(2).css("top",100*(1-h.value.a)+"px"),x()}function T(){O()}function S(){var t,e;m.hasClass("colorpicker-visible")||(D(),m.addClass("colorpicker-visible").css((e=F.getOffset(r[0]),angular.isDefined(n.colorpickerParent)&&(e.left=0,e.top=0),"top"===a?t={top:e.top-147,left:e.left}:"right"===a?t={top:e.top,left:e.left+126}:"bottom"===a?t={top:e.top+r[0].offsetHeight+2,left:e.left}:"left"===a&&(t={top:e.top,left:e.left-150}),{top:t.top+"px",left:t.left+"px"})),E("colorpicker-shown"),!1===i&&M.on("mousedown",T),n.colorpickerIsOpen&&(o[n.colorpickerIsOpen]=!0,o.$$phase||o.$digest()))}function E(t){s&&o.$emit(t,{name:n.ngModel,value:s.$modelValue})}function O(){m.hasClass("colorpicker-visible")&&(m.removeClass("colorpicker-visible"),E("colorpicker-closed"),M.off("mousedown",T),n.colorpickerIsOpen&&(o[n.colorpickerIsOpen]=!1,o.$$phase||o.$digest()))}"rgba"===l&&(m.addClass("alpha"),(t=m.find("colorpicker-alpha")).on("click",function(t){I.setAlpha(t,c),k(t)}).on("mousedown",function(t){I.setAlpha(t,c),w()}).on("mouseup",function(t){E("colorpicker-selected-alpha")})),g.on("click",function(t){I.setHue(t,c),k(t)}).on("mousedown",function(t){I.setHue(t,c),w()}).on("mouseup",function(t){E("colorpicker-selected-hue")}),v.on("click",function(t){I.setSaturation(t,c),k(t),angular.isDefined(n.colorpickerCloseOnSelect)&&O()}).on("mousedown",function(t){I.setSaturation(t,c),w()}).on("mouseup",function(t){E("colorpicker-selected-saturation")}),c&&m.addClass("colorpicker-fixed-position"),m.addClass("colorpicker-position-"+a),"true"===i&&m.addClass("colorpicker-inline"),u.append(m),s&&(s.$render=function(){r.val(s.$viewValue),D()}),r.on("blur keyup change",function(){D()}),r.on("$destroy",function(){m.remove()}),!1===i?r.on("click",S):S(),m.on("mousedown",function(t){t.stopPropagation(),t.preventDefault()}),m.find("button").on("click",function(){O()}),n.colorpickerIsOpen&&o.$watch(n.colorpickerIsOpen,function(t){!0===t?S():!1===t&&O()})}}}]),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig","uiTinymceService",function(g,v,b,y,$,w,x){return(w=w||{}).baseUrl&&(tinymce.baseURL=w.baseUrl),{require:["ngModel","^?form"],priority:599,link:function(o,r,s,t){if(y.tinymce){var e,n,a=t[0],i=t[1]||null,l={debounce:!0},c=function(t){var e=t.getContent({format:l.format}).trim();e=$.trustAsHtml(e),a.$setViewValue(e),g.$$phase||o.$digest()},u=x.getUniqueId();s.$set("id",u),e={},angular.extend(e,o.$eval(s.uiTinymce));var d,p=function(e){b.cancel(d),d=b(function(){var t;(t=e).isDirty()&&(t.save(),c(t))},400)},f={setup:function(t){t.on("init",function(){a.$render(),a.$setPristine(),a.$setUntouched(),i&&i.$setPristine()}),t.on("ExecCommand change NodeChange ObjectResized",function(){if(!l.debounce)return t.save(),void c(t);p(t)}),t.on("blur",function(){r[0].blur(),a.$setTouched(),g.$$phase||o.$digest()}),t.on("remove",function(){r.remove()}),w.setup&&w.setup(t,{updateView:c}),e.setup&&e.setup(t,{updateView:c})},format:e.format||"html",selector:"#"+s.id};angular.extend(l,w,e,f),b(function(){l.baseURL&&(tinymce.baseURL=l.baseURL);var t=tinymce.init(l);t&&"function"==typeof t.then?t.then(function(){m(o.$eval(s.ngDisabled))}):m(o.$eval(s.ngDisabled))}),a.$formatters.unshift(function(t){return t?$.trustAsHtml(t):""}),a.$parsers.unshift(function(t){return t?$.getTrustedHtml(t):""}),a.$render=function(){h();var t=a.$viewValue?$.getTrustedHtml(a.$viewValue):"";n&&n.getDoc()&&(n.setContent(t),n.fire("change"))},s.$observe("disabled",m),o.$on("$tinymce:refresh",function(t,e){var n=s.id;if(angular.isUndefined(e)||e===n){var a=r.parent(),i=r.clone();i.removeAttr("id"),i.removeAttr("style"),i.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,n),a.append(v(i)(o))}}),o.$on("$destroy",function(){h(),n&&(n.remove(),n=null)})}function m(t){t?(h(),n&&n.getBody().setAttribute("contenteditable",!1)):(h(),n&&!n.settings.readonly&&n.getDoc()&&n.getBody().setAttribute("contenteditable",!0))}function h(){n||(n=tinymce.get(s.id))}}}}]).service("uiTinymceService",[function(){return new function(){var t=0;return{getUniqueId:function(){return"ui-tinymce-"+ ++t}}}}]),function(){"use strict";angular.module("risevision.widget.common.widget-button-toolbar",["risevision.common.i18n"]).directive("widgetButtonToolbar",["$templateCache",function(t){return{restrict:"E",scope:{save:"&",cancel:"&",disableSave:"&"},template:t.get("_angular/widget-button-toolbar/widget-button-toolbar.html")}}])}(),function(e){try{e=angular.module("risevision.widget.common.widget-button-toolbar")}catch(t){e=angular.module("risevision.widget.common.widget-button-toolbar",[])}e.run(["$templateCache",function(t){"use strict";t.put("_angular/widget-button-toolbar/widget-button-toolbar.html",'<div class="pull-right">\n  <button id="save" class="btn btn-primary btn-fixed-width" type="button" ng-click="save()" ng-disabled="disableSave()">\n    <span>{{"common.save" | translate}}</span>\n    <i class="fa fa-white fa-check icon-right"></i>\n  </button>\n  <button id="cancel" class="btn btn-default btn-fixed-width" type="button" ng-click="cancel()">\n    <span>{{"common.cancel" | translate}}</span>\n    <i class="fa fa-white fa-times icon-right"></i>\n  </button>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.tooltip",["ui.bootstrap"]).directive("rvTooltip",[function(){return{restrict:"A",link:function(t,e){e.addClass("fa"),e.addClass("fa-question-circle"),e.addClass("fa-lg")}}}])}();var config={};"undefined"!=typeof angular&&(angular.module("risevision.widget.rss.config",[]).value("layout4x1","https://s3.amazonaws.com/widget-rss/1.0.0/dist/layout-4x1.html").value("layout2x1","https://s3.amazonaws.com/widget-rss/1.0.0/dist/layout-2x1.html").value("layout1x2","https://s3.amazonaws.com/widget-rss/1.0.0/dist/layout-1x2.html"),angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json")),angular.module("risevision.widget.rss.settings",["risevision.common.i18n","risevision.widget.rss.config","risevision.widget.common","risevision.widget.common.widget-button-toolbar","risevision.widget.common.tooltip","risevision.widget.common.font-setting","risevision.widget.common.transition-setting","colorpicker.module"]),angular.module("risevision.widget.common",[]),angular.module("risevision.widget.common").controller("settingsController",["$scope","settingsSaver","settingsGetter","settingsCloser",function(a,t,e,n){a.settings={params:{},additionalParams:{}},a.alerts=[],a.getAdditionalParam=function(t,e){var n=a.settings.additionalParams[t];return angular.isUndefined(n)?e:n},a.setAdditionalParam=function(t,e){a.settings.additionalParams[t]=e},a.loadAdditionalParams=function(){e.getAdditionalParams().then(function(t){a.settings.additionalParams=t,a.$broadcast("loadAdditionalParams",t)},function(t){alert(t)})},a.setAdditionalParams=function(t,e){a.settings.additionalParams[t]=e},a.saveSettings=function(){a.alerts=[],a.$broadcast("collectAdditionalParams"),t.saveSettings(a.settings).then(function(){},function(t){a.alerts=t.alerts})},a.closeSettings=function(){n.closeSettings().then(function(){},function(t){a.alerts=t.alerts})},a.settings.params=e.getParams(),a.loadAdditionalParams()}]).directive("scrollOnAlerts",function(){return{restrict:"A",scope:!1,link:function(t,n){t.$watchCollection("alerts",function(t,e){0<t.length&&0===e.length&&$("body").animate({scrollTop:n.offset().top},"fast")})}}}),angular.module("risevision.widget.common").constant("STORAGE_FILE_URL_BASE","storage.googleapis.com/risemedialibrary-").constant("STORAGE_FOLDER_URL_BASE","googleapis.com/storage/").factory("commonSettings",["$log","STORAGE_FILE_URL_BASE","STORAGE_FOLDER_URL_BASE",function(t,c,u){return{getStorageUrlData:function(t){var e,n,a,i,o={};function r(t){return-1!==t.indexOf(c)?"file":-1!==t.indexOf(u)?"folder":null}function s(t){var e=t.split("risemedialibrary-");return e[1].slice(0,e[1].indexOf("/"))}if("file"===r(t))e=t.split(c)[1],n=(e=decodeURIComponent(e.slice(e.indexOf("/")+1))).split("/"),o.companyId=s(t),o.fileName=n.pop(),o.folder=0<n.length?n.join("/"):"",""!==o.folder&&(o.folder+="/");else if("folder"===r(t)){a=t.split("?");for(var l=0;l<a.length;l++)if("prefix"===(i=a[l].split("="))[0]&&void 0!==i[1]&&""!==i[1]){o.companyId=s(t),o.folder=decodeURIComponent(i[1]),o.fileName="";break}}return o}}}]),angular.module("risevision.widget.common").factory("gadgetsApi",["$window",function(t){return t.gadgets}]),angular.module("risevision.widget.common").factory("googleFontLoader",["$http","angularLoad",function(t,l){var e={},c=[];function i(){for(var t="",e="",n="",a=[],i=!1,o=",sans-serif;",r=["Buda","Coda Caption","Open Sans Condensed","UnifrakturCook","Molle"],s=0;s<c.length;s++)t=c[s],-1===r.indexOf(t)&&(n="//fonts.googleapis.com/css?family="+t,l.loadCSS(n),a.push(n),/\s/.test(t)&&(i=!0),e+=i?t+"='"+t+"'"+o:t+"="+t+o);return{fonts:e,urls:a}}return e.getGoogleFonts=function(){return 0===c.length?t.get("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBXxVK_IOV7LNQMuVVo_l7ZvN53ejN86zY&sort=alpha",{cache:!0}).then(function(t){var e=null;if(t.data&&t.data.items){for(var n=0,a=t.data.items.length;n<a;n++)(e=t.data.items[n]).subsets&&1===e.subsets.length&&"khmer"===e.subsets[0].toLowerCase()||c.push(e.family);return i()}}):i()},e.getFontsUsed=function(e){var n=[];return angular.forEach(c,function(t){-1!==e.indexOf(t)&&n.push(t)}),n},e}]),angular.module("risevision.widget.common").service("i18nLoader",["$window","$q",function(t,e){var n=e.defer();t.i18n.init({fallbackLng:"en",resGetPath:"locales/__ns_____lng__.json"},function(){n.resolve(t.i18n)}),this.get=function(){return n.promise}}]),angular.module("risevision.widget.common").factory("imageValidator",["$q",function(a){return{isImage:function(t){var e=a.defer(),n=new Image;return n.onload=function(){e.resolve(!0)},n.onerror=function(){e.resolve(!1)},n.src=t,e.promise}}}]),angular.module("risevision.widget.common").service("settingsSaver",["$q","$log","gadgetsApi","settingsParser",function(l,c,u,d){this.saveSettings=function(e,t){var n,a,i=l.defer(),o=[],r="";n=e,delete(a=angular.copy(n)).params.id,delete a.params.companyId,delete a.params.rsW,delete a.params.rsH,e=a,t&&(o=t(e)),0<o.length&&(c.debug("Validation failed.",o),i.reject({alerts:o})),e.params.hasOwnProperty("layoutURL")&&(r+=e.params.layoutURL+"?",delete e.params.layoutURL),r+=d.encodeParams(e.params);var s=d.encodeAdditionalParams(e.additionalParams);return u.rpc.call("","rscmd_saveSettings",function(t){c.debug("encoded settings",JSON.stringify(t)),c.debug("Settings saved. ",e),i.resolve(t)},{params:r,additionalParams:s}),i.promise}}]).service("settingsGetter",["$q","gadgetsApi","$log","settingsParser","$window","defaultSettings",function(t,a,i,o,e,r){this.getAdditionalParams=function(){var e=t.defer(),n=r.additionalParams||{};return a.rpc.call("","rscmd_getAdditionalParams",function(t){t=t?o.parseAdditionalParams(t):{},i.debug("getAdditionalParams returns ",t),e.resolve($.extend(!0,n,t))}),e.promise},this.getParams=function(){var t=r.params||{};return angular.extend(t,o.parseParams(e.location.search))}}]).service("settingsParser",[function(){this.parseAdditionalParams=function(t){return t?JSON.parse(t):{}},this.encodeAdditionalParams=function(t){return JSON.stringify(t)},this.encodeParams=function(t){var e=[];for(var n in t){var a;if(t.hasOwnProperty(n))a="object"==typeof t[n]?JSON.stringify(t[n]):t[n],e.push("up_"+encodeURIComponent(n)+"="+encodeURIComponent(a))}return e.join("&")},this.parseParams=function(t){"?"===t[0]&&(t=t.slice(1));for(var e,n={},a=t.split("&"),i=0;i<a.length;i++){var o=a[i].split("="),r=0===(e=decodeURIComponent(o[0])).indexOf("up_")?e.slice(3):null;if(r)try{n[r]=JSON.parse(decodeURIComponent(o[1]))}catch(t){n[r]=decodeURIComponent(o[1])}}return n}}]).service("settingsCloser",["$q","$log","gadgetsApi",function(e,t,n){this.closeSettings=function(){var t=e.defer();return n.rpc.call("","rscmd_closeSettings",function(){t.resolve(!0)}),t.promise}}]).value("defaultSettings",{}),function(t){"use strict";angular.module("risevision.widget.common.visualization",[]).factory("visualizationApi",["$q","$window",function(t,e){var n,a=t.defer();return{get:function(){return n||(n=a.promise,e.google.visualization?a.resolve(e.google.visualization):e.google.setOnLoadCallback(function(){a.resolve(e.google.visualization)})),n}}}])}(),angular.module("risevision.widget.rss.settings").controller("rssSettingsController",["$scope","$log","feedValidator",function(n,t,e){function a(){return"left"===n.settings.additionalParams.transition.direction&&"scroll"===n.settings.additionalParams.transition.type}n.feedValid=!0,n.requiresAuthentication=!1,n.notAFeed=!1,n.horizontalScrolling=!1,n.validateFeed=function(){e.isValid(n.settings.additionalParams.url).then(function(t){n.feedValid=t})},n.checkWithFeedParser=function(){n.settings.additionalParams.url&&n.settingsForm.rssUrl.$valid?e.isParsable(n.settings.additionalParams.url).then(function(t){"401 Unauthorized"===t?n.requiresAuthentication=!0:"Not a feed"===t&&(n.notAFeed=!0),t||(n.requiresAuthentication=!1,n.notAFeed=!1,n.validateFeed())}):(n.requiresAuthentication=!1,n.notAFeed=!1,n.feedValid=!0)},n.$on("urlFieldBlur",function(){n.checkWithFeedParser()}),n.$watch("settings.additionalParams.url",function(t,e){void 0===e&&t&&""!==t?n.checkWithFeedParser():void 0!==t&&(n.feedValid=!0,n.requiresAuthentication=!1)}),n.$watch("settings.additionalParams.transition.type",function(t){void 0!==t&&(n.horizontalScrolling=a())}),n.$watch("settings.additionalParams.transition.direction",function(t){void 0!==t&&(n.horizontalScrolling=a())}),n.$watch("settings.additionalParams.dataSelection.showTitle",function(t){void 0===t||""===t||t||(n.settings.additionalParams.headline.fontStyle={})}),n.$watch("settings.additionalParams.dataSelection.showTimestamp",function(t){void 0===t||""===t||t||(n.settings.additionalParams.timestamp.fontStyle={})}),n.$watch("settings.additionalParams.dataSelection.showAuthor",function(t){void 0===t||""===t||t||(n.settings.additionalParams.author.fontStyle={})}),n.$watch("settings.additionalParams.dataSelection.showDescription",function(t){void 0!==t&&"snippet"!==t&&(n.settings.additionalParams.dataSelection.snippetLength?n.settings.additionalParams.dataSelection.snippetLength=n.settings.additionalParams.dataSelection.snippetLength:n.settings.additionalParams.dataSelection.snippetLength=120)})}]).filter("escape",function(){return window.encodeURIComponent}).value("defaultSettings",{params:{},additionalParams:{url:"",itemsInQueue:5,itemsToShow:1,headline:{fontStyle:{font:{family:"verdana,geneva,sans-serif",type:"standard",url:""},size:"24px",customSize:"",align:"left",bold:!0,italic:!1,underline:!1,forecolor:"black",backcolor:"transparent"}},story:{fontStyle:{font:{family:"verdana,geneva,sans-serif",type:"standard",url:""},size:"18px",customSize:"",align:"left",bold:!0,italic:!1,underline:!1,forecolor:"black",backcolor:"transparent"}},timestamp:{fontStyle:{font:{family:"verdana,geneva,sans-serif",type:"standard",url:""},size:"14px",customSize:"",align:"left",bold:!0,italic:!1,underline:!1,forecolor:"#969696",backcolor:"transparent"}},author:{fontStyle:{font:{family:"verdana,geneva,sans-serif",type:"standard",url:""},size:"14px",customSize:"",align:"left",bold:!0,italic:!1,underline:!1,forecolor:"#969696",backcolor:"transparent"}},transition:{},dataSelection:{showTitle:!0,showTimestamp:!0,showAuthor:!0,showImage:!0,showDescription:"snippet",snippetLength:120},layout:"layout-4x1",layoutUrl:"",separator:{show:!0,size:1,color:"rgb(238,238,238)"}}}),angular.module("risevision.widget.rss.settings").factory("feedValidator",["$log","$http","$window",function(e,n,a){return{isValid:function(t){return n({method:"GET",url:"https://proxy.risevision.com/https://validator.w3.org/feed/check.cgi?url="+t+"&output=soap12"}).then(function(t){if(t&&t.data)return a.xmlToJSON.parseString(t.data).Envelope[0].Body[0].feedvalidationresponse[0].validity[0]._text},function(t){e.debug("Validation request failed with status code "+t.status+": "+t.statusText)})},isParsable:function(t){return n({method:"GET",url:"https://feed-parser.risevision.com/"+t}).then(function(t){return t&&t.data&&t.data.Error?t.data.Error:null},function(t){return e.debug("Feed parser check failed with status code "+t.status+": "+t.statusText),null})}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3NldHRpbmdzLm1pbi5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwicnVuIiwiJHRyYW5zbGF0ZSIsImtleSIsInN0b3JhZ2VLZXkiLCJzdG9yYWdlIiwiZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlIiwicHJlZmVycmVkIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJpc1N0cmluZyIsInVzZSIsInB1dCIsImdldCIsInByb3ZpZGVyIiwiJFNUT1JBR0VfS0VZIiwiJHByZWZlcnJlZExhbmd1YWdlIiwiJGxhbmd1YWdlS2V5QWxpYXNlcyIsIiRmYWxsYmFja0xhbmd1YWdlIiwiJGZhbGxiYWNrV2FzU3RyaW5nIiwiJHVzZXMiLCIkbmV4dExhbmciLCIkc3RvcmFnZUZhY3RvcnkiLCIkc3RvcmFnZVByZWZpeCIsIiRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSIsIiRpbnRlcnBvbGF0aW9uRmFjdG9yeSIsIiRsb2FkZXJGYWN0b3J5IiwiJGxvYWRlck9wdGlvbnMiLCIkbm90Rm91bmRJbmRpY2F0b3JMZWZ0IiwiJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQiLCJsb2FkZXJDYWNoZSIsIiR0cmFuc2xhdGlvblRhYmxlIiwiJGF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsIiRzdG9yYWdlS2V5IiwiJGludGVycG9sYXRvckZhY3RvcmllcyIsIiRpbnRlcnBvbGF0aW9uU2FuaXRpemF0aW9uU3RyYXRlZ3kiLCIkY2xvYWtDbGFzc05hbWUiLCIkcG9zdENvbXBpbGluZ0VuYWJsZWQiLCJnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSIsImkiLCJsYW5ndWFnZSIsIm5hdiIsIndpbmRvdyIsIm5hdmlnYXRvciIsImJyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5cyIsImlzQXJyYXkiLCJsYW5ndWFnZXMiLCJsZW5ndGgiLCJkaXNwbGF5TmFtZSIsImdldExvY2FsZSIsInNwbGl0Iiwiam9pbiIsImluZGV4T2YiLCJhcnJheSIsInNlYXJjaEVsZW1lbnQiLCJsZW4iLCJ0cmltIiwidGhpcyIsInJlcGxhY2UiLCJuZWdvdGlhdGVMb2NhbGUiLCJhbGlhcyIsImF2YWlsIiwibG9jYWxlIiwibG93ZXJjYXNlIiwibiIsInB1c2giLCJsYW5nS2V5QWxpYXMiLCJoYXNXaWxkY2FyZEtleSIsImhhc0V4YWN0S2V5IiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwic2xpY2UiLCJwYXJ0cyIsInRyYW5zbGF0aW9ucyIsImxhbmdLZXkiLCJ0cmFuc2xhdGlvblRhYmxlIiwiaXNPYmplY3QiLCJleHRlbmQiLCJmbGF0T2JqZWN0IiwiY2xvYWtDbGFzc05hbWUiLCJuYW1lIiwiZGF0YSIsInBhdGgiLCJyZXN1bHQiLCJwcmV2S2V5Iiwia2V5V2l0aFBhdGgiLCJ2YWwiLCJjb25jYXQiLCJhZGRJbnRlcnBvbGF0aW9uIiwiZmFjdG9yeSIsInVzZU1lc3NhZ2VGb3JtYXRJbnRlcnBvbGF0aW9uIiwidXNlSW50ZXJwb2xhdGlvbiIsInVzZVNhbml0aXplVmFsdWVTdHJhdGVneSIsInZhbHVlIiwic2V0dXBQcmVmZXJyZWRMYW5ndWFnZSIsInRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3IiLCJpbmRpY2F0b3IiLCJ0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdCIsInRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JSaWdodCIsImZhbGxiYWNrTGFuZ3VhZ2UiLCJmYWxsYmFja1N0YWNrIiwiRXJyb3IiLCJ1c2VVcmxMb2FkZXIiLCJ1cmwiLCJvcHRpb25zIiwidXNlTG9hZGVyIiwidXNlU3RhdGljRmlsZXNMb2FkZXIiLCJsb2FkZXJGYWN0b3J5IiwidXNlTG9jYWxTdG9yYWdlIiwidXNlU3RvcmFnZSIsInVzZUNvb2tpZVN0b3JhZ2UiLCJzdG9yYWdlRmFjdG9yeSIsInN0b3JhZ2VQcmVmaXgiLCJwcmVmaXgiLCJ1c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nIiwidXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlciIsInVzZVBvc3RDb21waWxpbmciLCJkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSIsImZuIiwiaXNGdW5jdGlvbiIsInJlZ2lzdGVyQXZhaWxhYmxlTGFuZ3VhZ2VLZXlzIiwibGFuZ3VhZ2VLZXlzIiwiYWxpYXNlcyIsInVzZUxvYWRlckNhY2hlIiwiY2FjaGUiLCJ1bmRlZmluZWQiLCIkZ2V0IiwiJGxvZyIsIiRpbmplY3RvciIsIiRyb290U2NvcGUiLCIkcSIsIlN0b3JhZ2UiLCJmYWxsYmFja0luZGV4Iiwic3RhcnRGYWxsYmFja0l0ZXJhdGlvbiIsImRlZmF1bHRJbnRlcnBvbGF0b3IiLCJwZW5kaW5nTG9hZGVyIiwiaW50ZXJwb2xhdG9ySGFzaE1hcCIsImxhbmdQcm9taXNlcyIsInRyYW5zbGF0aW9uSWQiLCJpbnRlcnBvbGF0ZVBhcmFtcyIsImludGVycG9sYXRpb25JZCIsInRyYW5zbGF0aW9uSWRzIiwicmVzdWx0cyIsInByb21pc2VzIiwidHJhbnNsYXRlIiwiZGVmZXJyZWQiLCJkZWZlciIsInJlZ2FyZGxlc3MiLCJyZXNvbHZlIiwidGhlbiIsInByb21pc2UiLCJjIiwiYWxsIiwidHJhbnNsYXRlQWxsIiwiYXBwbHkiLCJwcm9taXNlVG9XYWl0Rm9yIiwiaW5kZXgiLCJkZXRlcm1pbmVUcmFuc2xhdGlvbiIsInJlamVjdCIsImFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzIiwidXNlTGFuZ3VhZ2UiLCIkZW1pdCIsInNldExvY2FsZSIsImZvckVhY2giLCJpbnRlcnBvbGF0b3IiLCJpZCIsImxvYWRBc3luYyIsImxvYWRlck9wdGlvbnMiLCIkaHR0cCIsInRhYmxlIiwiaW50ZXJwb2xhdG9yRmFjdG9yeSIsImdldEludGVycG9sYXRpb25JZGVudGlmaWVyIiwiZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbiIsIkludGVycG9sYXRvciIsImludGVycG9sYXRlIiwidHJhbnNsYXRlQnlIYW5kbGVyIiwicmVzdWx0U3RyaW5nIiwicmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UiLCJmYWxsYmFja0xhbmd1YWdlSW5kZXgiLCJyZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnQiLCJ0cmFuc2xhdGlvbiIsInN1YnN0ciIsIm1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbiIsIl90cmFuc2xhdGlvbklkIiwiZGV0ZXJtaW5lVHJhbnNsYXRpb25JbnN0YW50IiwidXNlRmFsbGJhY2tMYW5ndWFnZSIsImxhbmdLZXlQb3NpdGlvbiIsInByb3Bvc2VkTGFuZ3VhZ2UiLCJhbGlhc2VkS2V5IiwiaXNQb3N0Q29tcGlsaW5nRW5hYmxlZCIsInJlZnJlc2giLCJ0YWJsZXMiLCJsb2FkaW5nS2V5cyIsInRhYmxlRGF0YSIsImluc3RhbnQiLCJpc1VuZGVmaW5lZCIsInBvc3NpYmxlTGFuZ0tleXMiLCJqIiwiZCIsInBvc3NpYmxlTGFuZ0tleSIsInZlcnNpb25JbmZvIiwiZXF1YWxzIiwicHJvY2Vzc0FzeW5jUmVzdWx0IiwiJGludGVycG9sYXRlIiwiJHRyYW5zbGF0ZUludGVycG9sYXRvciIsIiRzYW5pdGl6ZVZhbHVlU3RyYXRlZ3kiLCJzYW5pdGl6ZVZhbHVlU3RyYXRlZ2llcyIsImVzY2FwZWQiLCJwYXJhbXMiLCJlbGVtZW50IiwidGV4dCIsImh0bWwiLCJzdHJpbmciLCJjb25zdGFudCIsImRpcmVjdGl2ZSIsIiRjb21waWxlIiwiJHBhcnNlIiwicmVzdHJpY3QiLCJzY29wZSIsImNvbXBpbGUiLCJ0RWxlbWVudCIsInRBdHRyIiwidHJhbnNsYXRlVmFsdWVzRXhpc3QiLCJ0cmFuc2xhdGVWYWx1ZXMiLCJ0cmFuc2xhdGVJbnRlcnBvbGF0aW9uIiwidHJhbnNsYXRlVmFsdWVFeGlzdCIsIm91dGVySFRNTCIsIm1hdGNoIiwiaW50ZXJwb2xhdGVSZWdFeHAiLCJzdGFydFN5bWJvbCIsImVuZFN5bWJvbCIsIndhdGNoZXJSZWdFeHAiLCJpRWxlbWVudCIsImlBdHRyIiwicHJlVGV4dCIsInBvc3RUZXh0Iiwib2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbiIsImlzRGVmaW5lZCIsImludGVycG9sYXRlTWF0Y2hlcyIsIiRwYXJlbnQiLCJ3YXRjaGVyTWF0Y2hlcyIsIiR3YXRjaCIsIm5ld1ZhbHVlIiwidXBkYXRlVHJhbnNsYXRpb25zIiwib2JzZXJ2ZUF0dHJpYnV0ZVRyYW5zbGF0aW9uIiwidHJhbnNsYXRlQXR0ciIsIiRvYnNlcnZlIiwiZGVmYXVsdFRleHQiLCJvYnNlcnZlVmFsdWVBdHRyaWJ1dGUiLCJhdHRyTmFtZSIsImF0dHJpYnV0ZU5hbWUiLCJhdHRyIiwidXBkYXRlVHJhbnNsYXRpb24iLCJhcHBseVRyYW5zbGF0aW9uIiwic3VjY2Vzc2Z1bCIsImdsb2JhbGx5RW5hYmxlZCIsImxvY2FsbHlEZWZpbmVkIiwidHJhbnNsYXRlQ29tcGlsZSIsImxvY2FsbHlFbmFibGVkIiwiY29udGVudHMiLCIkYXR0ciIsInVuYmluZCIsIiRvbiIsImFwcGx5Q2xvYWsiLCJhZGRDbGFzcyIsInJlbW92ZUNsb2FrIiwicmVtb3ZlQ2xhc3MiLCJyZW1vdmVMaXN0ZW5lciIsInRyYW5zbGF0ZUNsb2FrIiwiZmlsdGVyIiwidHJhbnNsYXRlRmlsdGVyIiwiaW50ZXJwb2xhdGlvbiIsIiRzdGF0ZWZ1bCIsIiRzYW5pdGl6ZU1pbkVyciIsIiQkbWluRXJyIiwiU1RBUlRfVEFHX1JFR0VYUCIsIkVORF9UQUdfUkVHRVhQIiwiQVRUUl9SRUdFWFAiLCJCRUdJTl9UQUdfUkVHRVhQIiwiQkVHSU5HX0VORF9UQUdFX1JFR0VYUCIsIkNPTU1FTlRfUkVHRVhQIiwiRE9DVFlQRV9SRUdFWFAiLCJDREFUQV9SRUdFWFAiLCJTVVJST0dBVEVfUEFJUl9SRUdFWFAiLCJOT05fQUxQSEFOVU1FUklDX1JFR0VYUCIsInZvaWRFbGVtZW50cyIsIm1ha2VNYXAiLCJvcHRpb25hbEVuZFRhZ0Jsb2NrRWxlbWVudHMiLCJvcHRpb25hbEVuZFRhZ0lubGluZUVsZW1lbnRzIiwib3B0aW9uYWxFbmRUYWdFbGVtZW50cyIsImJsb2NrRWxlbWVudHMiLCJpbmxpbmVFbGVtZW50cyIsInN2Z0VsZW1lbnRzIiwic3BlY2lhbEVsZW1lbnRzIiwidmFsaWRFbGVtZW50cyIsInVyaUF0dHJzIiwiaHRtbEF0dHJzIiwic3ZnQXR0cnMiLCJ2YWxpZEF0dHJzIiwic3RyIiwib2JqIiwiaXRlbXMiLCJoaWRkZW5QcmUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJkZWNvZGVFbnRpdGllcyIsImlubmVySFRNTCIsInRleHRDb250ZW50IiwiZW5jb2RlRW50aXRpZXMiLCJjaGFyQ29kZUF0IiwiaHRtbFNhbml0aXplV3JpdGVyIiwiYnVmIiwidXJpVmFsaWRhdG9yIiwiaWdub3JlIiwib3V0IiwiYmluZCIsInN0YXJ0IiwidGFnIiwiYXR0cnMiLCJ1bmFyeSIsImxrZXkiLCJpc0ltYWdlIiwiZW5kIiwiY2hhcnMiLCIkJHNhbml0aXplVXJpIiwiaGFuZGxlciIsInN0YWNrIiwibGFzdCIsIlJlZ0V4cCIsInBhcnNlRW5kVGFnIiwibGFzdEluZGV4T2YiLCJjb21tZW50Iiwic3Vic3RyaW5nIiwidGVzdCIsInBhcnNlU3RhcnRUYWciLCJ0YWdOYW1lIiwicmVzdCIsImRvdWJsZVF1b3RlZFZhbHVlIiwic2luZ2xlUXVvdGVkVmFsdWUiLCJ1bnF1b3RlZFZhbHVlIiwicG9zIiwiaHRtbFBhcnNlciIsInVyaSIsIiRzYW5pdGl6ZSIsIkxJTktZX1VSTF9SRUdFWFAiLCJNQUlMVE9fUkVHRVhQIiwidGFyZ2V0IiwicmF3IiwiYWRkVGV4dCIsImFkZExpbmsiLCJub29wIiwic2VydmljZSIsIiRkb2N1bWVudCIsIiR0aW1lb3V0IiwibG9hZGVyIiwib25sb2FkIiwib25yZWFkeXN0YXRlY2hhbmdlIiwiZSIsInJlYWR5U3RhdGUiLCJvbmVycm9yIiwibG9hZFNjcmlwdCIsInNyYyIsInNjcmlwdCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImxvYWRDU1MiLCJocmVmIiwic3R5bGUiLCJyZWwiLCJ0eXBlIiwiaGVhZCIsInN1ZmZpeCIsIm1ldGhvZCIsInN1Y2Nlc3MiLCJlcnJvciIsImxvYWRUcmFuc2xhdGlvbkZpbGUiLCJ0b0xvd2VyQ2FzZSIsImNvbmZpZyIsIiR0cmFuc2xhdGVQcm92aWRlciIsIkxPQ0FMRVNfUFJFRklYIiwiTE9DQUxFU19TVUZJWCIsInhtbFRvSlNPTiIsInZlcnNpb24iLCJtZXJnZUNEQVRBIiwiZ3Jva0F0dHIiLCJncm9rVGV4dCIsIm5vcm1hbGl6ZSIsInhtbG5zIiwibmFtZXNwYWNlS2V5IiwidGV4dEtleSIsInZhbHVlS2V5IiwiYXR0cktleSIsImNkYXRhS2V5IiwiYXR0cnNBc09iamVjdCIsInN0cmlwQXR0clByZWZpeCIsInN0cmlwRWxlbVByZWZpeCIsImNoaWxkcmVuQXNBcnJheSIsInByZWZpeE1hdGNoIiwidHJpbU1hdGNoIiwiZ3Jva1R5cGUiLCJzVmFsdWUiLCJpc0Zpbml0ZSIsInBhcnNlRmxvYXQiLCJwYXJzZVN0cmluZyIsInhtbFN0cmluZyIsIm9wdCIsInBhcnNlWE1MIiwic3RyaW5nVG9YTUwiLCJvWE1MUGFyZW50IiwidlJlc3VsdCIsIm5MZW5ndGgiLCJzQ29sbGVjdGVkVHh0IiwibmFtZXNwYWNlVVJJIiwiYXR0cmlidXRlcyIsInZBdHRyaWJzIiwib0F0dHJpYiIsIml0ZW0iLCJ2Q29udGVudCIsImF0dHJpYk5hbWUiLCJoYXNDaGlsZE5vZGVzIiwib05vZGUiLCJzUHJvcCIsIm5JdGVtIiwiY2hpbGROb2RlcyIsIm5vZGVUeXBlIiwibm9kZVZhbHVlIiwiY29uc3RydWN0b3IiLCJBcnJheSIsIm5vZGVOYW1lIiwieG1sVG9TdHJpbmciLCJ4bWxEb2MiLCJ4bWwiLCJYTUxTZXJpYWxpemVyIiwic2VyaWFsaXplVG9TdHJpbmciLCJlcnIiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJBY3RpdmVYT2JqZWN0IiwiYXN5bmMiLCJsb2FkWE1MIiwiZXhwb3J0cyIsImRlZmluZSIsImFtZCIsIiQiLCJBZmZpeCIsIkRFRkFVTFRTIiwiJHRhcmdldCIsIm9uIiwicHJveHkiLCJjaGVja1Bvc2l0aW9uIiwiY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AiLCIkZWxlbWVudCIsImFmZml4ZWQiLCJ1bnBpbiIsInBpbm5lZE9mZnNldCIsIlBsdWdpbiIsIm9wdGlvbiIsImVhY2giLCIkdGhpcyIsIlZFUlNJT04iLCJSRVNFVCIsIm9mZnNldCIsImdldFBpbm5lZE9mZnNldCIsInNjcm9sbFRvcCIsInBvc2l0aW9uIiwidG9wIiwic2V0VGltZW91dCIsImlzIiwic2Nyb2xsSGVpZ2h0IiwiaGVpZ2h0Iiwib2Zmc2V0VG9wIiwib2Zmc2V0Qm90dG9tIiwiYm90dG9tIiwiYWZmaXgiLCJjc3MiLCJhZmZpeFR5cGUiLCJFdmVudCIsInRyaWdnZXIiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJvbGQiLCJDb25zdHJ1Y3RvciIsIm5vQ29uZmxpY3QiLCIkc3B5IiwialF1ZXJ5IiwiZGlzbWlzcyIsIkFsZXJ0IiwiZWwiLCJjbG9zZSIsInNlbGVjdG9yIiwicmVtb3ZlRWxlbWVudCIsImRldGFjaCIsInJlbW92ZSIsInByZXZlbnREZWZhdWx0IiwiaGFzQ2xhc3MiLCJwYXJlbnQiLCJzdXBwb3J0IiwidHJhbnNpdGlvbiIsIm9uZSIsImVtdWxhdGVUcmFuc2l0aW9uRW5kIiwiYWxlcnQiLCJCdXR0b24iLCJpc0xvYWRpbmciLCJ0b2dnbGUiLCJzZXRTdGF0ZSIsImxvYWRpbmdUZXh0Iiwic3RhdGUiLCIkZWwiLCJyZXNldFRleHQiLCJyZW1vdmVBdHRyIiwiY2hhbmdlZCIsImNsb3Nlc3QiLCIkaW5wdXQiLCJmaW5kIiwicHJvcCIsInRvZ2dsZUNsYXNzIiwiYnV0dG9uIiwiJGJ0biIsIkNhcm91c2VsIiwia2V5ZG93biIsIiRpbmRpY2F0b3JzIiwicGF1c2VkIiwic2xpZGluZyIsImludGVydmFsIiwiJGFjdGl2ZSIsIiRpdGVtcyIsInBhdXNlIiwiY3ljbGUiLCJhY3Rpb24iLCJzbGlkZSIsInRvIiwid3JhcCIsIndoaWNoIiwicHJldiIsIm5leHQiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJnZXRJdGVtSW5kZXgiLCJjaGlsZHJlbiIsInRoYXQiLCJhY3RpdmVJbmRleCIsIiRuZXh0IiwiaXNDeWNsaW5nIiwiZGlyZWN0aW9uIiwiZmFsbGJhY2siLCJyZWxhdGVkVGFyZ2V0Iiwic2xpZGVFdmVudCIsIiRuZXh0SW5kaWNhdG9yIiwic2xpZEV2ZW50Iiwib2Zmc2V0V2lkdGgiLCJjYXJvdXNlbCIsInNsaWRlSW5kZXgiLCIkY2Fyb3VzZWwiLCJDb2xsYXBzZSIsInRyYW5zaXRpb25pbmciLCJkaW1lbnNpb24iLCJzaG93Iiwic3RhcnRFdmVudCIsImFjdGl2ZXMiLCJoYXNEYXRhIiwiY29tcGxldGUiLCJzY3JvbGxTaXplIiwiY2FtZWxDYXNlIiwiaGlkZSIsIm9mZnNldEhlaWdodCIsImNvbGxhcHNlIiwibm90IiwiRHJvcGRvd24iLCJjbGVhck1lbnVzIiwiZ2V0UGFyZW50IiwiaXNBY3RpdmUiLCJkb2N1bWVudEVsZW1lbnQiLCJpbnNlcnRBZnRlciIsImtleUNvZGUiLCJzdG9wUHJvcGFnYXRpb24iLCJkZXNjIiwiZXEiLCJkcm9wZG93biIsIlRhYiIsIiR1bCIsInByZXZpb3VzIiwiYWN0aXZhdGUiLCJjb250YWluZXIiLCJjYWxsYmFjayIsInRhYiIsImR1cmF0aW9uIiwiY2FsbGVkIiwidHJhbnNFbmRFdmVudE5hbWVzIiwiV2Via2l0VHJhbnNpdGlvbiIsIk1velRyYW5zaXRpb24iLCJPVHJhbnNpdGlvbiIsInRyYW5zaXRpb25FbmQiLCJldmVudCIsInNwZWNpYWwiLCJic1RyYW5zaXRpb25FbmQiLCJiaW5kVHlwZSIsImRlbGVnYXRlVHlwZSIsImhhbmRsZSIsImhhbmRsZU9iaiIsImFyZ3VtZW50cyIsIlNjcm9sbFNweSIsInByb2Nlc3MiLCIkYm9keSIsIiRzY3JvbGxFbGVtZW50Iiwib2Zmc2V0cyIsInRhcmdldHMiLCJhY3RpdmVUYXJnZXQiLCJnZXRTY3JvbGxIZWlnaHQiLCJNYXRoIiwibWF4Iiwib2Zmc2V0TWV0aG9kIiwib2Zmc2V0QmFzZSIsImlzV2luZG93Iiwic2VsZiIsIm1hcCIsIiRocmVmIiwic29ydCIsImEiLCJiIiwibWF4U2Nyb2xsIiwicGFyZW50c1VudGlsIiwiYWN0aXZlIiwicGFyZW50cyIsInNjcm9sbHNweSIsIk1vZGFsIiwiJGJhY2tkcm9wIiwiaXNTaG93biIsInNjcm9sbGJhcldpZHRoIiwicmVtb3RlIiwibG9hZCIsIl9yZWxhdGVkVGFyZ2V0IiwiYmFja2Ryb3AiLCJrZXlib2FyZCIsImNoZWNrU2Nyb2xsYmFyIiwic2V0U2Nyb2xsYmFyIiwiZXNjYXBlIiwiYXBwZW5kVG8iLCJlbmZvcmNlRm9jdXMiLCJyZXNldFNjcm9sbGJhciIsIm9mZiIsImhpZGVNb2RhbCIsImhhcyIsInJlbW92ZUJhY2tkcm9wIiwiYW5pbWF0ZSIsImRvQW5pbWF0ZSIsImN1cnJlbnRUYXJnZXQiLCJmb2N1cyIsImNhbGxiYWNrUmVtb3ZlIiwiY2xpZW50V2lkdGgiLCJpbm5lcldpZHRoIiwibWVhc3VyZVNjcm9sbGJhciIsImJvZHlQYWQiLCJwYXJzZUludCIsInNjcm9sbERpdiIsImNsYXNzTmFtZSIsImFwcGVuZCIsInJlbW92ZUNoaWxkIiwibW9kYWwiLCJzaG93RXZlbnQiLCJUb29sdGlwIiwiZW5hYmxlZCIsInRpbWVvdXQiLCJob3ZlclN0YXRlIiwiaW5pdCIsImFuaW1hdGlvbiIsInBsYWNlbWVudCIsInRlbXBsYXRlIiwidGl0bGUiLCJkZWxheSIsInZpZXdwb3J0IiwicGFkZGluZyIsImdldE9wdGlvbnMiLCIkdmlld3BvcnQiLCJ0cmlnZ2VycyIsImV2ZW50SW4iLCJldmVudE91dCIsImVudGVyIiwibGVhdmUiLCJfb3B0aW9ucyIsImZpeFRpdGxlIiwiZ2V0RGVmYXVsdHMiLCJnZXREZWxlZ2F0ZU9wdGlvbnMiLCJkZWZhdWx0cyIsImNsZWFyVGltZW91dCIsImhhc0NvbnRlbnQiLCJpbkRvbSIsImNvbnRhaW5zIiwiJHRpcCIsInRpcCIsInRpcElkIiwiZ2V0VUlEIiwic2V0Q29udGVudCIsImF1dG9Ub2tlbiIsImF1dG9QbGFjZSIsImxlZnQiLCJkaXNwbGF5IiwiZ2V0UG9zaXRpb24iLCJhY3R1YWxXaWR0aCIsImFjdHVhbEhlaWdodCIsIm9yZ1BsYWNlbWVudCIsInBhcmVudERpbSIsInNjcm9sbCIsInJpZ2h0Iiwid2lkdGgiLCJjYWxjdWxhdGVkT2Zmc2V0IiwiZ2V0Q2FsY3VsYXRlZE9mZnNldCIsImFwcGx5UGxhY2VtZW50IiwibWFyZ2luVG9wIiwibWFyZ2luTGVmdCIsImlzTmFOIiwic2V0T2Zmc2V0IiwidXNpbmciLCJwcm9wcyIsInJvdW5kIiwiZGVsdGEiLCJnZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEiLCJhcnJvd0RlbHRhIiwiYXJyb3dQb3NpdGlvbiIsImFycm93T2Zmc2V0UG9zaXRpb24iLCJyZXBsYWNlQXJyb3ciLCJhcnJvdyIsImdldFRpdGxlIiwiJGUiLCJpc0JvZHkiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJvdXRlcldpZHRoIiwib3V0ZXJIZWlnaHQiLCJ2aWV3cG9ydFBhZGRpbmciLCJ2aWV3cG9ydERpbWVuc2lvbnMiLCJ0b3BFZGdlT2Zmc2V0IiwiYm90dG9tRWRnZU9mZnNldCIsImxlZnRFZGdlT2Zmc2V0IiwicmlnaHRFZGdlT2Zmc2V0IiwibyIsInJhbmRvbSIsImdldEVsZW1lbnRCeUlkIiwiJGFycm93IiwidmFsaWRhdGUiLCJwYXJlbnROb2RlIiwiZW5hYmxlIiwiZGlzYWJsZSIsInRvZ2dsZUVuYWJsZWQiLCJkZXN0cm95IiwicmVtb3ZlRGF0YSIsInRvb2x0aXAiLCJQb3BvdmVyIiwiY29udGVudCIsImdldENvbnRlbnQiLCJlbXB0eSIsInBvcG92ZXIiLCIkYW5pbWF0ZSIsImxpbmsiLCJleHBhbmREb25lIiwiY29sbGFwc2VEb25lIiwic2hvdWxkQ29sbGFwc2UiLCJjbG9zZU90aGVycyIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkYXR0cnMiLCJhY2NvcmRpb25Db25maWciLCJncm91cHMiLCJvcGVuR3JvdXAiLCIkZXZhbCIsImdyb3VwIiwiaXNPcGVuIiwiYWRkR3JvdXAiLCJncm91cFNjb3BlIiwicmVtb3ZlR3JvdXAiLCJzcGxpY2UiLCJjb250cm9sbGVyQXMiLCJ0cmFuc2NsdWRlIiwidGVtcGxhdGVVcmwiLCJyZXF1aXJlIiwiaGVhZGluZyIsImlzRGlzYWJsZWQiLCJzZXRIZWFkaW5nIiwiYWNjb3JkaW9uQ3RybCIsIm9wZW5DbGFzcyIsInBhbmVsQ2xhc3MiLCJ0b2dnbGVPcGVuIiwiJGV2ZW50IiwiYWNjb3JkaW9uR3JvdXBDdHJsIiwiYWNjb3JkaW9uVHJhbnNjbHVkZSIsImNsb3NlYWJsZSIsImFsZXJ0Q3RybCIsImRpc21pc3NPblRpbWVvdXQiLCIkYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQiLCJ3YXJuIiwiYmluZEh0bWxVbnNhZmUiLCJhY3RpdmVDbGFzcyIsInRvZ2dsZUV2ZW50IiwiYnV0dG9uQ29uZmlnIiwiY3RybHMiLCJidXR0b25zQ3RybCIsIm5nTW9kZWxDdHJsIiwiJHJlbmRlciIsIiRtb2RlbFZhbHVlIiwiYnRuUmFkaW8iLCJkaXNhYmxlZCIsInVuY2hlY2thYmxlIiwiJGFwcGx5IiwiJHNldFZpZXdWYWx1ZSIsImdldFRydWVWYWx1ZSIsImdldENoZWNrYm94VmFsdWUiLCJidG5DaGVja2JveFRydWUiLCJnZXRGYWxzZVZhbHVlIiwiYnRuQ2hlY2tib3hGYWxzZSIsImF0dHJpYnV0ZVZhbHVlIiwiZGVmYXVsdFZhbHVlIiwiYWN0aXZlRWxlbWVudCIsIiRpbnRlcnZhbCIsImN1cnJlbnRJbnRlcnZhbCIsImlzUGxheWluZyIsInNsaWRlcyIsIk5FV19BTklNQVRFIiwibWlub3IiLCJTTElERV9ESVJFQ1RJT04iLCJjdXJyZW50SW5kZXgiLCJjdXJyZW50U2xpZGUiLCJkZXN0cm95ZWQiLCJnZXRTbGlkZUJ5SW5kZXgiLCJyZXN0YXJ0VGltZXIiLCJyZXNldFRpbWVyIiwidGltZXJGbiIsImNhbmNlbCIsInNlbGVjdCIsIm5leHRTbGlkZSIsIm5leHRJbmRleCIsImluZGV4T2ZTbGlkZSIsImdldEN1cnJlbnRJbmRleCIsIiRjdXJyZW50VHJhbnNpdGlvbiIsIm5vVHJhbnNpdGlvbiIsInBoYXNlIiwiZ29OZXh0IiwibmV3SW5kZXgiLCJub1dyYXAiLCJwbGF5Iiwibm9QYXVzZSIsImFkZFNsaWRlIiwicmVtb3ZlU2xpZGUiLCJhY3R1YWwiLCJjYXJvdXNlbEN0cmwiLCJOT19UUkFOU0lUSU9OIiwiJGFuaW1hdGVDc3MiLCJiZWZvcmVBZGRDbGFzcyIsImRvbmUiLCJzdG9wcGVkIiwiZGlyZWN0aW9uQ2xhc3MiLCJyZW1vdmVDbGFzc0ZuIiwiYmVmb3JlUmVtb3ZlQ2xhc3MiLCIkbG9jYWxlIiwib3JkZXJCeUZpbHRlciIsIlNQRUNJQUxfQ0hBUkFDVEVSU19SRUdFWFAiLCJwYXJzZXJzIiwiZm9ybWF0Q29kZVRvUmVnZXgiLCJ5eXl5IiwicmVnZXgiLCJ5ZWFyIiwieXkiLCJ5IiwiTU1NTSIsIkRBVEVUSU1FX0ZPUk1BVFMiLCJNT05USCIsIm1vbnRoIiwiTU1NIiwiU0hPUlRNT05USCIsIk1NIiwiTSIsImRkIiwiZGF0ZSIsIkVFRUUiLCJEQVkiLCJFRUUiLCJTSE9SVERBWSIsIkhIIiwiaG91cnMiLCJoaCIsIkgiLCJoIiwibW0iLCJtaW51dGVzIiwibSIsInNzcyIsIm1pbGxpc2Vjb25kcyIsInNzIiwic2Vjb25kcyIsInMiLCJBTVBNUyIsInBhcnNlIiwiaW5wdXQiLCJmb3JtYXQiLCJiYXNlRGF0ZSIsImNvZGUiLCJwYXJzZXIiLCJmaWVsZHMiLCJkdCIsImlzRGF0ZSIsImdldFRpbWUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJnZXRNaWxsaXNlY29uZHMiLCJtYXBwZXIiLCJpc1ZhbGlkIiwiRGF0ZSIsIiR3aW5kb3ciLCJpc1N0YXRpY1Bvc2l0aW9uZWQiLCJjc3Nwcm9wIiwiY3VycmVudFN0eWxlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImVsQkNSIiwib2Zmc2V0UGFyZW50QkNSIiwib2Zmc2V0UGFyZW50RWwiLCJkb2NEb21FbCIsIm9mZnNldFBhcmVudCIsInBhcmVudE9mZnNldEVsIiwiY2xpZW50VG9wIiwiY2xpZW50TGVmdCIsInNjcm9sbExlZnQiLCJib3VuZGluZ0NsaWVudFJlY3QiLCJwYWdlWU9mZnNldCIsInBhZ2VYT2Zmc2V0IiwicG9zaXRpb25FbGVtZW50cyIsImhvc3RFbCIsInRhcmdldEVsIiwicG9zaXRpb25TdHIiLCJhcHBlbmRUb0JvZHkiLCJob3N0RWxQb3MiLCJ0YXJnZXRFbFdpZHRoIiwidGFyZ2V0RWxIZWlnaHQiLCJ0YXJnZXRFbFBvcyIsInBvc2l0aW9uU3RyUGFydHMiLCJwb3MwIiwicG9zMSIsInNoaWZ0V2lkdGgiLCJjZW50ZXIiLCJzaGlmdEhlaWdodCIsImZvcm1hdERheSIsImZvcm1hdE1vbnRoIiwiZm9ybWF0WWVhciIsImZvcm1hdERheUhlYWRlciIsImZvcm1hdERheVRpdGxlIiwiZm9ybWF0TW9udGhUaXRsZSIsImRhdGVwaWNrZXJNb2RlIiwibWluTW9kZSIsIm1heE1vZGUiLCJzaG93V2Vla3MiLCJzdGFydGluZ0RheSIsInllYXJSYW5nZSIsIm1pbkRhdGUiLCJtYXhEYXRlIiwic2hvcnRjdXRQcm9wYWdhdGlvbiIsImRhdGVGaWx0ZXIiLCJkYXRlcGlja2VyQ29uZmlnIiwiJGRhdGVwaWNrZXJTdXBwcmVzc0Vycm9yIiwibW9kZXMiLCJyZWZyZXNoVmlldyIsInVuaXF1ZUlkIiwiJGlkIiwiZmxvb3IiLCJpbml0RGF0ZSIsImFjdGl2ZURhdGUiLCIkaXNFbXB0eSIsIiRpbnZhbGlkIiwiZGF0ZU9iamVjdCIsImNvbXBhcmUiLCJhY3RpdmVEYXRlSWQiLCJ1aWQiLCJuZ01vZGVsQ3RybF8iLCJyZW5kZXIiLCIkdmlld1ZhbHVlIiwiX3JlZnJlc2hWaWV3IiwiJHNldFZhbGlkaXR5IiwiY3JlYXRlRGF0ZU9iamVjdCIsIm1vZGVsIiwibGFiZWwiLCJzZWxlY3RlZCIsImN1cnJlbnQiLCJjdXN0b21DbGFzcyIsImRhdGVEaXNhYmxlZCIsIm1vZGUiLCJhcnIiLCJzaXplIiwiYXJyYXlzIiwiZml4VGltZVpvbmUiLCJzZXRIb3VycyIsInNldEZ1bGxZZWFyIiwibW92ZSIsInN0ZXAiLCJ5ZWFycyIsIm1vbnRocyIsInRvZ2dsZU1vZGUiLCJrZXlzIiwiMTMiLCIzMiIsIjMzIiwiMzQiLCIzNSIsIjM2IiwiMzciLCIzOCIsIjM5IiwiNDAiLCJmb2N1c0VsZW1lbnQiLCJldnQiLCJzaGlmdEtleSIsImFsdEtleSIsImN0cmxLZXkiLCJoYW5kbGVLZXlEb3duIiwiZGF0ZXBpY2tlckN0cmwiLCJjdHJsIiwiREFZU19JTl9NT05USCIsImdldERheXNJbk1vbnRoIiwiZ2V0SVNPODYwMVdlZWtOdW1iZXIiLCJjaGVja0RhdGUiLCJzZXREYXRlIiwiZ2V0RGF5IiwidGltZSIsInNldE1vbnRoIiwiZmlyc3REYXlPZk1vbnRoIiwiZGlmZmVyZW5jZSIsIm51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoIiwiZmlyc3REYXRlIiwiZGF5cyIsInN0YXJ0RGF0ZSIsImRhdGVzIiwiZ2V0RGF0ZXMiLCJzZWNvbmRhcnkiLCJsYWJlbHMiLCJhYmJyIiwiZnVsbCIsInJvd3MiLCJ3ZWVrTnVtYmVycyIsInRodXJzZGF5SW5kZXgiLCJudW1XZWVrcyIsImN1cldlZWsiLCJkYXRlMSIsImRhdGUyIiwibWluIiwicmFuZ2UiLCJnZXRTdGFydGluZ1llYXIiLCJkYXRlcGlja2VyUG9wdXAiLCJkYXRlcGlja2VyUG9wdXBUZW1wbGF0ZVVybCIsImRhdGVwaWNrZXJUZW1wbGF0ZVVybCIsImh0bWw1VHlwZXMiLCJkYXRldGltZS1sb2NhbCIsImN1cnJlbnRUZXh0IiwiY2xlYXJUZXh0IiwiY2xvc2VUZXh0IiwiY2xvc2VPbkRhdGVTZWxlY3Rpb24iLCJzaG93QnV0dG9uQmFyIiwib25PcGVuRm9jdXMiLCIkcG9zaXRpb24iLCJkYXRlUGFyc2VyIiwiZGF0ZXBpY2tlclBvcHVwQ29uZmlnIiwibmdNb2RlbCIsImRhdGVGb3JtYXQiLCJkYXRlcGlja2VyQXBwZW5kVG9Cb2R5IiwiZ2V0VGV4dCIsIndhdGNoRGF0YSIsImlzSHRtbDVEYXRlSW5wdXQiLCJvbGRWYWx1ZSIsIm5ld0RhdGVGb3JtYXQiLCJwb3B1cEVsIiwiY2FtZWx0b0Rhc2giLCIkMSIsIm5nLW1vZGVsIiwibmctY2hhbmdlIiwidGVtcGxhdGUtdXJsIiwiZGF0ZXBpY2tlckVsIiwiZGF0ZXBpY2tlck9wdGlvbnMiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJhc3NpZ24iLCJvbGR2YWx1ZSIsIiRmb3JtYXR0ZXJzIiwiJCRwYXJzZXJOYW1lIiwiJHZhbGlkYXRvcnMiLCJtb2RlbFZhbHVlIiwidmlld1ZhbHVlIiwibmdSZXF1aXJlZCIsImlzTnVtYmVyIiwiJHBhcnNlcnMiLCJ1bnNoaWZ0IiwiZGF0ZVNlbGVjdGlvbiIsIiR2aWV3Q2hhbmdlTGlzdGVuZXJzIiwiZG9jdW1lbnRDbGlja0JpbmQiLCJpbnB1dEtleWRvd25CaW5kIiwiJGJyb2FkY2FzdCIsInRvZGF5IiwiJHBvcHVwIiwiYWZ0ZXIiLCIkJHBoYXNlIiwib3BlblNjb3BlIiwib3BlbiIsImRyb3Bkb3duU2NvcGUiLCJjbG9zZURyb3Bkb3duIiwia2V5YmluZEZpbHRlciIsImdldEF1dG9DbG9zZSIsInRvZ2dsZUVsZW1lbnQiLCJnZXRUb2dnbGVFbGVtZW50IiwiZHJvcGRvd25FbGVtZW50IiwiZ2V0RHJvcGRvd25FbGVtZW50IiwiZm9jdXNUb2dnbGVFbGVtZW50IiwiaXNLZXluYXZFbmFibGVkIiwiZm9jdXNEcm9wZG93bkVudHJ5IiwiZHJvcGRvd25Db25maWciLCJkcm9wZG93blNlcnZpY2UiLCIkdGVtcGxhdGVSZXF1ZXN0IiwidGVtcGxhdGVTY29wZSIsImdldElzT3BlbiIsIiRuZXciLCJzZXRJc09wZW4iLCJ0b2dnbGVJbnZva2VyIiwib25Ub2dnbGUiLCJrZXluYXZFbmFibGVkIiwiZHJvcGRvd25BcHBlbmRUb0JvZHkiLCJrZXlib2FyZE5hdiIsImRyb3Bkb3duTWVudSIsImF1dG9DbG9zZSIsImdldEVsZW1lbnQiLCJlbGVtcyIsInNlbGVjdGVkT3B0aW9uIiwid2FzT3BlbiIsIm9wZW5Db250YWluZXIiLCJkcm9wZG93bk1lbnVUZW1wbGF0ZVVybCIsInRwbENvbnRlbnQiLCJuZXdFbCIsInJlcGxhY2VXaXRoIiwiJGRlc3Ryb3kiLCJvZmZEZXN0cm95IiwiZHJvcGRvd25DdHJsIiwidHBsVXJsIiwidG9nZ2xlRHJvcGRvd24iLCJhcmlhLWhhc3BvcHVwIiwiYXJpYS1leHBhbmRlZCIsImNyZWF0ZU5ldyIsImFkZCIsImlkeCIsInJlbW92ZVRvcCIsImVudHJpZXMiLCJoYXNLZXkiLCJ2YWx1ZXMiLCIkbW9kYWxTdGFjayIsInRBdHRycyIsImJhY2tkcm9wQ2xhc3MiLCJsaW5rRm4iLCJtb2RhbEluQ2xhc3MiLCJOT1dfQ0xPU0lOR19FVkVOVCIsInNldElzQXN5bmMiLCJ3aW5kb3dDbGFzcyIsImdldFRvcCIsIiRpc1JlbmRlcmVkIiwibW9kYWxSZW5kZXJEZWZlck9iaiIsImFuaW1hdGlvblByb21pc2UiLCJ3aGVuIiwiaW5wdXRzV2l0aEF1dG9mb2N1cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtb2RhbFJlbmRlcmVkIiwibW9kYWxBbmltYXRpb24iLCJtb2RhbEFuaW1hdGlvbkNsYXNzIiwiJHRyYW5zY2x1ZGUiLCJjbG9uZSIsIiQkbXVsdGlNYXAiLCIkJHN0YWNrZWRNYXAiLCJiYWNrZHJvcERvbUVsIiwiYmFja2Ryb3BTY29wZSIsImZvY3VzYWJsZUVsZW1lbnRMaXN0IiwiT1BFTkVEX01PREFMX0NMQVNTIiwib3BlbmVkV2luZG93cyIsIm9wZW5lZENsYXNzZXMiLCJiYWNrZHJvcEluZGV4IiwidG9wQmFja2Ryb3BJbmRleCIsIm9wZW5lZCIsInJlbW92ZU1vZGFsV2luZG93IiwibW9kYWxJbnN0YW5jZSIsImVsZW1lbnRUb1JlY2VpdmVGb2N1cyIsIm1vZGFsV2luZG93IiwicmVtb3ZlQWZ0ZXJBbmltYXRlIiwibW9kYWxEb21FbCIsIm1vZGFsU2NvcGUiLCJtb2RhbEJvZHlDbGFzcyIsIm9wZW5lZENsYXNzIiwiY2hlY2tSZW1vdmVCYWNrZHJvcCIsImRvbUVsIiwiYXN5bmNEZWZlcnJlZCIsImFzeW5jUHJvbWlzZSIsImFmdGVyQW5pbWF0aW5nIiwiYnJvYWRjYXN0Q2xvc2luZyIsInJlc3VsdE9yUmVhc29uIiwiY2xvc2luZyIsImRlZmF1bHRQcmV2ZW50ZWQiLCJuZXdCYWNrZHJvcEluZGV4IiwibG9hZEZvY3VzRWxlbWVudExpc3QiLCJmb2N1c0NoYW5nZWQiLCJpc0ZvY3VzSW5GaXJzdEl0ZW0iLCJmb2N1c0xhc3RGb2N1c2FibGVFbGVtZW50IiwiaXNGb2N1c0luTGFzdEl0ZW0iLCJmb2N1c0ZpcnN0Rm9jdXNhYmxlRWxlbWVudCIsIm1vZGFsT3BlbmVyIiwicmVuZGVyRGVmZXJyZWQiLCJjdXJyQmFja2Ryb3BJbmRleCIsImFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwiLCJhbmd1bGFyRG9tRWwiLCJ3aW5kb3dUZW1wbGF0ZVVybCIsIndpbmRvdy1jbGFzcyIsImNsZWFyRm9jdXNMaXN0Q2FjaGUiLCIkJHVpYkRlc3RydWN0aW9uU2NoZWR1bGVkIiwicmVhc29uIiwiZGlzbWlzc0FsbCIsInRvcE1vZGFsIiwic3JjRWxlbWVudCIsImxlbmd0aDAiLCJtb2RhbERvbUUxIiwiJG1vZGFsUHJvdmlkZXIiLCIkY29udHJvbGxlciIsIiRtb2RhbCIsInByb21pc2VDaGFpbiIsImdldFByb21pc2VDaGFpbiIsIm1vZGFsT3B0aW9ucyIsIm1vZGFsUmVzdWx0RGVmZXJyZWQiLCJtb2RhbE9wZW5lZERlZmVycmVkIiwibW9kYWxSZW5kZXJEZWZlcnJlZCIsInJlbmRlcmVkIiwicmVzb2x2ZXMiLCJwcm9taXNlc0FyciIsInNhbWVQcm9taXNlIiwidGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZSIsImludm9rZSIsInRwbEFuZFZhcnMiLCIkY2xvc2UiLCIkZGlzbWlzcyIsImN0cmxJbnN0YW5jZSIsImN0cmxMb2NhbHMiLCJyZXNvbHZlSXRlciIsIiRtb2RhbEluc3RhbmNlIiwiYmluZFRvQ29udHJvbGxlciIsImZpbmFsbHkiLCJzZXROdW1QYWdlcyIsIm51bVBhZ2VzIiwiaXRlbXNQZXJQYWdlIiwidG90YWxQYWdlcyIsImNhbGN1bGF0ZVRvdGFsUGFnZXMiLCJwYWdlIiwic2VsZWN0UGFnZSIsImNlaWwiLCJ0b3RhbEl0ZW1zIiwibmdEaXNhYmxlZCIsImJsdXIiLCJub1ByZXZpb3VzIiwibm9OZXh0IiwiYm91bmRhcnlMaW5rcyIsImRpcmVjdGlvbkxpbmtzIiwiZmlyc3RUZXh0IiwicHJldmlvdXNUZXh0IiwibmV4dFRleHQiLCJsYXN0VGV4dCIsInJvdGF0ZSIsInBhZ2luYXRpb25Db25maWciLCJwYWdpbmF0aW9uQ3RybCIsIm1heFNpemUiLCJvcmlnaW5hbFJlbmRlciIsInBhZ2VzIiwiY3VycmVudFBhZ2UiLCJzdGFydFBhZ2UiLCJlbmRQYWdlIiwiaXNNYXhTaXplZCIsIm51bWJlciIsIm1ha2VQYWdlIiwicHJldmlvdXNQYWdlU2V0IiwibmV4dFBhZ2VTZXQiLCJnZXRQYWdlcyIsImFsaWduIiwicGFnZXJDb25maWciLCJkZWZhdWx0T3B0aW9ucyIsInBvcHVwRGVsYXkiLCJ1c2VDb250ZW50RXhwIiwidHJpZ2dlck1hcCIsIm1vdXNlZW50ZXIiLCJjbGljayIsIm5vbmUiLCJnbG9iYWxPcHRpb25zIiwic2V0VHJpZ2dlcnMiLCJkZWZhdWx0VHJpZ2dlclNob3ciLCJnZXRUcmlnZ2VycyIsImRpcmVjdGl2ZU5hbWUiLCJsZXR0ZXIiLCJzdGFydFN5bSIsImVuZFN5bSIsInRFbGVtIiwidG9vbHRpcExpbmtlciIsInRvb2x0aXBDdHJsIiwidG9vbHRpcExpbmtlZFNjb3BlIiwidHJhbnNpdGlvblRpbWVvdXQiLCJwb3B1cFRpbWVvdXQiLCJwb3NpdGlvblRpbWVvdXQiLCJoYXNFbmFibGVFeHAiLCJ0dFNjb3BlIiwicmVwb3NpdGlvblNjaGVkdWxlZCIsImlzT3BlbkV4cCIsInBvc2l0aW9uVG9vbHRpcCIsInR0Qm94IiwidHRDc3MiLCJ0b2dnbGVUb29sdGlwQmluZCIsImhpZGVUb29sdGlwQmluZCIsInNob3dUb29sdGlwQmluZCIsInBvcHVwQ2xhc3MiLCJwcmVwUGxhY2VtZW50IiwiJGRpZ2VzdCIsImNvbnRlbnRFeHAiLCJyZW1vdmVUb29sdGlwIiwiJCRwb3N0RGlnZXN0IiwiY3JlYXRlVG9vbHRpcCIsIm9yaWdTY29wZSIsInVucmVnaXN0ZXJUcmlnZ2VycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJhcHBlbmRUb0JvZHlWYWwiLCIkc2NlIiwiZWxlbSIsImN1cnJlbnRTY29wZSIsInByZXZpb3VzRWxlbWVudCIsImN1cnJlbnRFbGVtZW50IiwidG9vbHRpcFRlbXBsYXRlVHJhbnNjbHVkZVNjb3BlIiwiY2hhbmdlQ291bnRlciIsImNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQiLCJwYXJzZUFzUmVzb3VyY2VVcmwiLCJ0b29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlIiwidGhpc0NoYW5nZUlkIiwicmVzcG9uc2UiLCJuZXdTY29wZSIsInRvb2x0aXBBbmltYXRpb25DbGFzcyIsIiR0b29sdGlwIiwib3JpZ2luU2NvcGUiLCJ0b29sdGlwSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCIsInByb2dyZXNzQ29uZmlnIiwiYmFycyIsImFkZEJhciIsImJhciIsInJlY2FsY3VsYXRlUGVyY2VudGFnZSIsInBlcmNlbnQiLCJ0b0ZpeGVkIiwidG90YWxQZXJjZW50YWdlIiwicmVkdWNlIiwidG90YWwiLCJyZW1vdmVCYXIiLCIkcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmciLCJwcm9ncmVzc0N0cmwiLCJzdGF0ZU9uIiwic3RhdGVPZmYiLCJ0aXRsZXMiLCJyYXRpbmdDb25maWciLCJ0bXBUaXRsZXMiLCJyYXRpbmdTdGF0ZXMiLCJidWlsZFRlbXBsYXRlT2JqZWN0cyIsInN0YXRlcyIsInJhdGUiLCJyZWFkb25seSIsIm9uSG92ZXIiLCJyZXNldCIsIm9uTGVhdmUiLCJvbktleWRvd24iLCJyYXRpbmdDdHJsIiwidGFicyIsInNlbGVjdGVkVGFiIiwib25EZXNlbGVjdCIsInNlbGVjdENhbGxlZCIsIm9uU2VsZWN0IiwiYWRkVGFiIiwicmVtb3ZlVGFiIiwibmV3QWN0aXZlSW5kZXgiLCJ2ZXJ0aWNhbCIsImp1c3RpZmllZCIsImVsbSIsInRhYnNldEN0cmwiLCIkdHJhbnNjbHVkZUZuIiwidGFiQ3RybCIsInRhYkNvbnRlbnRUcmFuc2NsdWRlIiwibm9kZSIsImhhc0F0dHJpYnV0ZSIsImhlYWRpbmdFbGVtZW50IiwiaG91clN0ZXAiLCJtaW51dGVTdGVwIiwic2hvd01lcmlkaWFuIiwibWVyaWRpYW5zIiwicmVhZG9ubHlJbnB1dCIsIm1vdXNld2hlZWwiLCJhcnJvd2tleXMiLCJzaG93U3Bpbm5lcnMiLCJ0aW1lcGlja2VyQ29uZmlnIiwiaW5wdXRzIiwiaG91cnNJbnB1dEVsIiwibWludXRlc0lucHV0RWwiLCJzZXR1cE1vdXNld2hlZWxFdmVudHMiLCJzZXR1cEFycm93a2V5RXZlbnRzIiwic2V0dXBJbnB1dEV2ZW50cyIsImdldEhvdXJzRnJvbVRlbXBsYXRlIiwibWVyaWRpYW4iLCJnZXRNaW51dGVzRnJvbVRlbXBsYXRlIiwicGFkIiwidG9TdHJpbmciLCJrZXlib2FyZENoYW5nZSIsIm1ha2VWYWxpZCIsInVwZGF0ZVRlbXBsYXRlIiwiaW52YWxpZEhvdXJzIiwiaW52YWxpZE1pbnV0ZXMiLCJhZGRNaW51dGVzIiwibmV3RGF0ZSIsImFkZE1pbnV0ZXNUb1NlbGVjdGVkIiwibm9JbmNyZW1lbnRIb3VycyIsImluY3JlbWVudGVkU2VsZWN0ZWQiLCJub0RlY3JlbWVudEhvdXJzIiwiZGVjcmVtZW50ZWRTZWxlY3RlZCIsIm5vSW5jcmVtZW50TWludXRlcyIsIm5vRGVjcmVtZW50TWludXRlcyIsIm5vVG9nZ2xlTWVyaWRpYW4iLCIkZXJyb3IiLCJpc1Njcm9sbGluZ1VwIiwib3JpZ2luYWxFdmVudCIsIndoZWVsRGVsdGEiLCJkZWx0YVkiLCJkZXRhaWwiLCJpbmNyZW1lbnRIb3VycyIsImRlY3JlbWVudEhvdXJzIiwiaW5jcmVtZW50TWludXRlcyIsImRlY3JlbWVudE1pbnV0ZXMiLCJ1cGRhdGVIb3VycyIsInVwZGF0ZU1pbnV0ZXMiLCJpbnZhbGlkYXRlIiwic2V0TWludXRlcyIsInRvZ2dsZU1lcmlkaWFuIiwidGltZXBpY2tlckN0cmwiLCIkdHJhbnNpdGlvblN1cHByZXNzRGVwcmVjYXRlZCIsIiR0cmFuc2l0aW9uIiwiZW5kRXZlbnROYW1lIiwidHJhbnNpdGlvbkVuZEhhbmRsZXIiLCJ0cmFuc0VsZW1lbnQiLCJmaW5kRW5kRXZlbnROYW1lIiwiZW5kRXZlbnROYW1lcyIsInRyYW5zaXRpb25FbmRFdmVudE5hbWUiLCJhbmltYXRpb25FbmRFdmVudE5hbWUiLCJUWVBFQUhFQURfUkVHRVhQIiwiaXRlbU5hbWUiLCJzb3VyY2UiLCJ2aWV3TWFwcGVyIiwibW9kZWxNYXBwZXIiLCJ0eXBlYWhlYWRQYXJzZXIiLCJIT1RfS0VZUyIsIm9yaWdpbmFsU2NvcGUiLCJtb2RlbEN0cmwiLCJuZ01vZGVsT3B0aW9ucyIsIm1pbkxlbmd0aCIsInR5cGVhaGVhZE1pbkxlbmd0aCIsImhhc0ZvY3VzIiwid2FpdFRpbWUiLCJ0eXBlYWhlYWRXYWl0TXMiLCJpc0VkaXRhYmxlIiwidHlwZWFoZWFkRWRpdGFibGUiLCJpc0xvYWRpbmdTZXR0ZXIiLCJ0eXBlYWhlYWRMb2FkaW5nIiwib25TZWxlY3RDYWxsYmFjayIsInR5cGVhaGVhZE9uU2VsZWN0IiwiaXNTZWxlY3RPbkJsdXIiLCJ0eXBlYWhlYWRTZWxlY3RPbkJsdXIiLCJpc05vUmVzdWx0c1NldHRlciIsInR5cGVhaGVhZE5vUmVzdWx0cyIsImlucHV0Rm9ybWF0dGVyIiwidHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXIiLCJ0eXBlYWhlYWRBcHBlbmRUb0JvZHkiLCJmb2N1c0ZpcnN0IiwidHlwZWFoZWFkRm9jdXNGaXJzdCIsInNlbGVjdE9uRXhhY3QiLCJ0eXBlYWhlYWRTZWxlY3RPbkV4YWN0IiwicGFyc2VkTW9kZWwiLCJpbnZva2VNb2RlbFNldHRlciIsInBhcnNlclJlc3VsdCIsInR5cGVhaGVhZCIsInBvcHVwSWQiLCJhcmlhLWF1dG9jb21wbGV0ZSIsImFyaWEtb3ducyIsInBvcFVwRWwiLCJtYXRjaGVzIiwibW92ZS1pbi1wcm9ncmVzcyIsInF1ZXJ5IiwidHlwZWFoZWFkVGVtcGxhdGVVcmwiLCJ0eXBlYWhlYWRQb3B1cFRlbXBsYXRlVXJsIiwicmVzZXRNYXRjaGVzIiwiYWN0aXZlSWR4IiwiZ2V0TWF0Y2hJZCIsInRpbWVvdXRFdmVudFByb21pc2UiLCJ0aW1lb3V0UHJvbWlzZSIsImdldE1hdGNoZXNBc3luYyIsImlucHV0VmFsdWUiLCJsb2NhbHMiLCJvbkN1cnJlbnRSZXF1ZXN0IiwicmVjYWxjdWxhdGVQb3NpdGlvbiIsInRvVXBwZXJDYXNlIiwiZmlyZVJlY2FsY3VsYXRpbmciLCJtb3ZlSW5Qcm9ncmVzcyIsImNhbmNlbFByZXZpb3VzVGltZW91dCIsImNhbmRpZGF0ZVZpZXdWYWx1ZSIsIiRtb2RlbCIsIiRvcHRpb25zIiwiZ2V0dGVyU2V0dGVyIiwiJCQkcCIsIiRpdGVtIiwiJGxhYmVsIiwidHlwZWFoZWFkRm9jdXNPblNlbGVjdCIsImRpc21pc3NDbGlja0hhbmRsZXIiLCJwb3B1cFRlbXBsYXRlVXJsIiwibWF0Y2hJZHgiLCJzZWxlY3RBY3RpdmUiLCJzZWxlY3RNYXRjaCIsImNsb25lZEVsZW1lbnQiLCJpc1Nhbml0aXplUHJlc2VudCIsIm1hdGNoSXRlbSIsInRydXN0QXNIdG1sIiwiJHRlbXBsYXRlQ2FjaGUiLCIkJGNzcCIsInByZXBlbmQiLCJURU1QTEFURVMiLCJfcGx1Z2luTmFtZSIsIiRidG5BbGlnbm1lbnQiLCJzZXRBbGlnbm1lbnQiLCJhbGlnbm1lbnQiLCIkcHJpbWFyeUljb24iLCJjdXJyZW50Q2xhc3MiLCJuZXdDbGFzcyIsImdldEFsaWdubWVudCIsIldJREdFVF9TRVRUSU5HU19VSV9DT05GSUciLCJmYW1pbGllcyIsInNpemVzIiwiaGlkZUxhYmVsIiwiZmlsZVR5cGUiLCJ0ZXN0VXJsIiwidXJsUmVnRXhwIiwiZXh0ZW5zaW9ucyIsImhhc1ZhbGlkRXh0ZW5zaW9uIiwiaW52YWxpZFR5cGUiLCJpbWFnZSIsIkltYWdlIiwidmFsaWQiLCJ0ZXN0SW1hZ2UiLCJkb1ZhbGlkYXRpb24iLCJmb3JjZWRWYWxpZCIsImFsbG93SW5pdEVtcHR5IiwiaW5pdEVtcHR5IiwiaW5mbyIsImdvb2dsZUZvbnRMb2FkZXIiLCJmb250RGF0YSIsInByZXZpZXdUZXh0IiwidmVydGljYWxBbGlnbiIsIiRjdXN0b21Gb250IiwiJGN1c3RvbUZvbnRTaXplIiwiX2lzTG9hZGluZyIsImdvb2dsZUZvbnRMaXN0IiwiZGVmYXVsdEZvbnQiLCJmb250IiwiZmFtaWx5IiwiY3VzdG9tU2l6ZSIsImJvbGQiLCJpdGFsaWMiLCJ1bmRlcmxpbmUiLCJmb3JlY29sb3IiLCJiYWNrY29sb3IiLCJnZXRGb250cyIsImZvbnRzIiwiY3VzdG9tRm9udFNpemUiLCJhcHBseUN1c3RvbUZvbnQiLCJnZXRDdXN0b21Gb250RmFtaWx5IiwibG9hZEN1c3RvbUZvbnQiLCJ1cGRhdGVQcmV2aWV3IiwiYXBwbHlDdXN0b21Gb250U2l6ZSIsInRpbnltY2UiLCJhY3RpdmVFZGl0b3IiLCJleGVjQ29tbWFuZCIsInRpbnltY2VPcHRpb25zIiwiZm9udHNpemVfZm9ybWF0cyIsIndhdGNoIiwiJHdhdGNoR3JvdXAiLCJuZXdWYWx1ZXMiLCJmb250X2Zvcm1hdHMiLCJtZW51YmFyIiwicGx1Z2lucyIsInNraW5fdXJsIiwic3RhdHVzYmFyIiwidG9vbGJhciIsInNldHVwIiwiZWRpdG9yIiwiYWRkQnV0dG9uIiwib25jbGljayIsImFkZENvbW1hbmQiLCJ0b2dnbGVCdXR0b24iLCJpbml0VG9vbGJhciIsImFyZ3MiLCJjb21tYW5kIiwidG9nZ2xlVmVydGljYWxCdXR0b25zIiwiaW5pdENvbW1hbmRzIiwiaW5pdF9pbnN0YW5jZV9jYWxsYmFjayIsIm9sZEFwcGx5IiwiZm9ybWF0dGVyIiwib2xkUmVtb3ZlIiwidmFycyIsImZpcmUiLCIkdGV4dENvbnRhaW5lciIsIiR0ZXh0IiwiZGVjb2RlVVJJIiwicG9wIiwic2hlZXQiLCJydWxlIiwic3R5bGVTaGVldHMiLCJhZGRSdWxlIiwiYW5ndWxhckxvYWQiLCJleGNsdWRlIiwic3BhY2VzIiwiaGlkZUZhZGUiLCJkZWZhdWx0U2V0dGluZyIsInB1ZCIsInJlc3VtZSIsInNwZWVkIiwiY2xvc2VzdFNsaWRlciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwibWF0Y2hlc1NlbGVjdG9yIiwiZ2V0T2Zmc2V0IiwiZml4ZWRQb3NpdGlvbiIsInNjcm9sbFgiLCJzY3JvbGxZIiwicmVjdCIsIm9mZnNldExlZnQiLCJzdHJpbmdQYXJzZXJzIiwicmUiLCJleGVjUmVzdWx0IiwiSGVscGVyIiwicmdiIiwidG9SR0IiLCJyIiwiZyIsInJnYmEiLCJoZXgiLCJ0b0hleCIsIlJHQnRvSFNCIiwiViIsIkMiLCJzZXRDb2xvciIsImV4ZWMiLCJzZXRIdWUiLCJzZXRTYXR1cmF0aW9uIiwic2V0TGlnaHRuZXNzIiwic2V0QWxwaGEiLCJSIiwiRyIsIkIiLCJYIiwiYWJzIiwic2xpZGVyIiwibWF4TGVmdCIsIm1heFRvcCIsImNhbGxMZWZ0IiwiY2FsbFRvcCIsImtub2IiLCJwb2ludGVyIiwiZ2V0U2xpZGVyIiwiZ2V0TGVmdFBvc2l0aW9uIiwicGFnZVgiLCJnZXRUb3BQb3NpdGlvbiIsInBhZ2VZIiwic2V0U2xpZGVyIiwidGFyZ2V0T2Zmc2V0Iiwib2Zmc2V0WCIsImNsaWVudFgiLCJvZmZzZXRZIiwiY2xpZW50WSIsInNldEtub2IiLCJDb2xvciIsIlNsaWRlciIsInNsaWRlckFscGhhIiwidGhpc0Zvcm1hdCIsImNvbG9ycGlja2VyIiwiaXNCYWNrZ3JvdW5kU2V0dGluZyIsImJhY2tncm91bmRTZXR0aW5nIiwiY29sb3JwaWNrZXJQb3NpdGlvbiIsImlubGluZSIsImNvbG9ycGlja2VySW5saW5lIiwiY29sb3JwaWNrZXJGaXhlZFBvc2l0aW9uIiwiY29sb3JwaWNrZXJQYXJlbnQiLCJ3aXRoSW5wdXQiLCJjb2xvcnBpY2tlcldpdGhJbnB1dCIsImlucHV0VGVtcGxhdGUiLCJjb2xvcnBpY2tlclRlbXBsYXRlIiwicGlja2VyQ29sb3IiLCJzbGlkZXJIdWUiLCJzbGlkZXJTYXR1cmF0aW9uIiwiY29sb3JwaWNrZXJQcmV2aWV3IiwicGlja2VyQ29sb3JQb2ludGVycyIsInBpY2tlckNvbG9ySW5wdXQiLCJuZXdDb2xvciIsInVwZGF0ZSIsImJpbmRNb3VzZUV2ZW50cyIsIm1vdXNlbW92ZSIsIm1vdXNldXAiLCJwcmV2aWV3Q29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJlbWl0RXZlbnQiLCJvbWl0SW5uZXJJbnB1dCIsImRvY3VtZW50TW91c2Vkb3duSGFuZGxlciIsImhpZGVDb2xvcnBpY2tlclRlbXBsYXRlIiwic2hvd0NvbG9ycGlja2VyVGVtcGxhdGUiLCJwb3NpdGlvblZhbHVlIiwicG9zaXRpb25PZmZzZXQiLCJjb2xvcnBpY2tlcklzT3BlbiIsImNvbG9ycGlja2VyQ2xvc2VPblNlbGVjdCIsInNob3VsZEJlT3BlbiIsInVpVGlueW1jZUNvbmZpZyIsInVpVGlueW1jZVNlcnZpY2UiLCJiYXNlVXJsIiwiYmFzZVVSTCIsInByaW9yaXR5IiwiZXhwcmVzc2lvbiIsInRpbnlJbnN0YW5jZSIsImZvcm0iLCJkZWJvdW5jZSIsInVwZGF0ZVZpZXciLCJnZXRVbmlxdWVJZCIsIiRzZXQiLCJ1aVRpbnltY2UiLCJkZWJvdW5jZWRVcGRhdGVUaW1lciIsImRlYm91bmNlZFVwZGF0ZSIsImVkIiwiaXNEaXJ0eSIsInNhdmUiLCJzZXR1cE9wdGlvbnMiLCIkc2V0UHJpc3RpbmUiLCIkc2V0VW50b3VjaGVkIiwiJHNldFRvdWNoZWQiLCJtYXliZUluaXRQcm9taXNlIiwidG9nZ2xlRGlzYWJsZSIsImdldFRydXN0ZWRIdG1sIiwiZW5zdXJlSW5zdGFuY2UiLCJnZXREb2MiLCJlaWQiLCJwYXJlbnRFbGVtZW50IiwiZ2V0Qm9keSIsInNldHRpbmdzIiwiSURfQVRUUiIsImRpc2FibGVTYXZlIiwic2V0dGluZ3NTYXZlciIsInNldHRpbmdzR2V0dGVyIiwic2V0dGluZ3NDbG9zZXIiLCJhZGRpdGlvbmFsUGFyYW1zIiwiYWxlcnRzIiwiZ2V0QWRkaXRpb25hbFBhcmFtIiwiZGVmYXVsdFZhbCIsInNldEFkZGl0aW9uYWxQYXJhbSIsImxvYWRBZGRpdGlvbmFsUGFyYW1zIiwiZ2V0QWRkaXRpb25hbFBhcmFtcyIsInNldEFkZGl0aW9uYWxQYXJhbXMiLCJzYXZlU2V0dGluZ3MiLCJjbG9zZVNldHRpbmdzIiwiZ2V0UGFyYW1zIiwiJGVsbSIsIiR3YXRjaENvbGxlY3Rpb24iLCJuZXdBbGVydHMiLCJvbGRBbGVydHMiLCJTVE9SQUdFX0ZJTEVfVVJMX0JBU0UiLCJTVE9SQUdFX0ZPTERFUl9VUkxfQkFTRSIsImdldFN0b3JhZ2VVcmxEYXRhIiwicGFpciIsImdldFN0b3JhZ2VUeXBlIiwic3RvcmFnZVVybCIsImdldENvbXBhbnlJZCIsInAiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjb21wYW55SWQiLCJmaWxlTmFtZSIsImZvbGRlciIsImdhZGdldHMiLCJhbGxGb250cyIsImxvYWRGb250cyIsInVybHMiLCJnZXRHb29nbGVGb250cyIsInJlc3AiLCJzdWJzZXRzIiwiZ2V0Rm9udHNVc2VkIiwiZmFtaWx5TGlzdCIsImZvbnRzVXNlZCIsImkxOG4iLCJmYWxsYmFja0xuZyIsInJlc0dldFBhdGgiLCJnYWRnZXRzQXBpIiwic2V0dGluZ3NQYXJzZXIiLCJ2YWxpZGF0b3IiLCJuZXdTZXR0aW5ncyIsImNvcHkiLCJyc1ciLCJyc0giLCJkZWJ1ZyIsImxheW91dFVSTCIsImVuY29kZVBhcmFtcyIsImFkZGl0aW9uYWxQYXJhbXNTdHIiLCJlbmNvZGVBZGRpdGlvbmFsUGFyYW1zIiwicnBjIiwiSlNPTiIsInN0cmluZ2lmeSIsImRlZmF1bHRTZXR0aW5ncyIsImRlZmF1bHRBZGRpdGlvbmFsUGFyYW1zIiwicGFyc2VBZGRpdGlvbmFsUGFyYW1zIiwiZGVmYXVsdFBhcmFtcyIsInBhcnNlUGFyYW1zIiwibG9jYXRpb24iLCJzZWFyY2giLCJlbmNvZGVVUklDb21wb25lbnQiLCJwYXJhbXNTdHIiLCJnb29nbGUiLCJ2aXN1YWxpemF0aW9uIiwic2V0T25Mb2FkQ2FsbGJhY2siLCJmZWVkVmFsaWRhdG9yIiwiaXNIb3Jpem9udGFsQ29uZmlndXJlZCIsImZlZWRWYWxpZCIsInJlcXVpcmVzQXV0aGVudGljYXRpb24iLCJub3RBRmVlZCIsImhvcml6b250YWxTY3JvbGxpbmciLCJ2YWxpZGF0ZUZlZWQiLCJjaGVja1dpdGhGZWVkUGFyc2VyIiwic2V0dGluZ3NGb3JtIiwicnNzVXJsIiwiJHZhbGlkIiwiaXNQYXJzYWJsZSIsIm5ld1ZhbCIsIm9sZFZhbCIsImhlYWRsaW5lIiwiZm9udFN0eWxlIiwidGltZXN0YW1wIiwiYXV0aG9yIiwiZGF0YVNlbGVjdGlvbiIsInNuaXBwZXRMZW5ndGgiLCJpdGVtc0luUXVldWUiLCJpdGVtc1RvU2hvdyIsInN0b3J5Iiwic2hvd1RpdGxlIiwic2hvd1RpbWVzdGFtcCIsInNob3dBdXRob3IiLCJzaG93SW1hZ2UiLCJzaG93RGVzY3JpcHRpb24iLCJsYXlvdXQiLCJsYXlvdXRVcmwiLCJzZXBhcmF0b3IiLCJjb2xvciIsIkVudmVsb3BlIiwiQm9keSIsImZlZWR2YWxpZGF0aW9ucmVzcG9uc2UiLCJ2YWxpZGl0eSIsIl90ZXh0Iiwic3RhdHVzIiwic3RhdHVzVGV4dCJdLCJtYXBwaW5ncyI6IkFBWUFBLFFBQVFDLE9BQU8seUJBQTBCLENBQUMsT0FFekNDLElBQUksQ0FBQyxhQUFjLFNBQVVDLEdBRTVCLElBQUlDLEVBQU1ELEVBQVdFLGFBQ2pCQyxFQUFVSCxFQUFXRyxVQUVyQkMsRUFBb0MsV0FDdEMsSUFBSUMsRUFBWUwsRUFBV00sb0JBQ3ZCVCxRQUFRVSxTQUFTRixHQUNuQkwsRUFBV1EsSUFBSUgsR0FJZkYsRUFBUU0sSUFBSVIsRUFBS0QsRUFBV1EsUUFJNUJMLEVBQ0dBLEVBQVFPLElBQUlULEdBR2ZELEVBQVdRLElBQUlMLEVBQVFPLElBQUlULElBQWEsTUFBRUcsR0FGMUNBLElBSU9QLFFBQVFVLFNBQVNQLEVBQVdNLHNCQUNyQ04sRUFBV1EsSUFBSVIsRUFBV00sd0JBYTlCVCxRQUFRQyxPQUFPLDBCQUEwQmEsU0FB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TUFBTyw2Q0FBK0NwZCxFQUFTNmdCLE9BQVMsS0FBTzdnQixFQUFTOGdCLFlBRXRGIiwiZmlsZSI6ImpzL3NldHRpbmdzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogYW5ndWxhci10cmFuc2xhdGUgLSB2Mi41LjIgLSAyMDE0LTEyLTEwXG4gKiBodHRwOi8vZ2l0aHViLmNvbS9hbmd1bGFyLXRyYW5zbGF0ZS9hbmd1bGFyLXRyYW5zbGF0ZVxuICogQ29weXJpZ2h0IChjKSAyMDE0IDsgTGljZW5zZWQgTUlUXG4gKi9cbi8qKlxuICogQG5nZG9jIG92ZXJ2aWV3XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgbWFpbiBtb2R1bGUgd2hpY2ggaG9sZHMgZXZlcnl0aGluZyB0b2dldGhlci5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnLCBbJ25nJ10pXG5cbi5ydW4oWyckdHJhbnNsYXRlJywgZnVuY3Rpb24gKCR0cmFuc2xhdGUpIHtcblxuICB2YXIga2V5ID0gJHRyYW5zbGF0ZS5zdG9yYWdlS2V5KCksXG4gICAgICBzdG9yYWdlID0gJHRyYW5zbGF0ZS5zdG9yYWdlKCk7XG5cbiAgdmFyIGZhbGxiYWNrRnJvbUluY29ycmVjdFN0b3JhZ2VWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwcmVmZXJyZWQgPSAkdHJhbnNsYXRlLnByZWZlcnJlZExhbmd1YWdlKCk7XG4gICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcocHJlZmVycmVkKSkge1xuICAgICAgJHRyYW5zbGF0ZS51c2UocHJlZmVycmVkKTtcbiAgICAgIC8vICR0cmFuc2xhdGUudXNlKCkgd2lsbCBhbHNvIHJlbWVtYmVyIHRoZSBsYW5ndWFnZS5cbiAgICAgIC8vIFNvLCB3ZSBkb24ndCBuZWVkIHRvIGNhbGwgc3RvcmFnZS5wdXQoKSBoZXJlLlxuICAgIH0gZWxzZSB7XG4gICAgICBzdG9yYWdlLnB1dChrZXksICR0cmFuc2xhdGUudXNlKCkpO1xuICAgIH1cbiAgfTtcblxuICBpZiAoc3RvcmFnZSkge1xuICAgIGlmICghc3RvcmFnZS5nZXQoa2V5KSkge1xuICAgICAgZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0cmFuc2xhdGUudXNlKHN0b3JhZ2UuZ2V0KGtleSkpWydjYXRjaCddKGZhbGxiYWNrRnJvbUluY29ycmVjdFN0b3JhZ2VWYWx1ZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoJHRyYW5zbGF0ZS5wcmVmZXJyZWRMYW5ndWFnZSgpKSkge1xuICAgICR0cmFuc2xhdGUudXNlKCR0cmFuc2xhdGUucHJlZmVycmVkTGFuZ3VhZ2UoKSk7XG4gIH1cbn1dKTtcblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogJHRyYW5zbGF0ZVByb3ZpZGVyIGFsbG93cyBkZXZlbG9wZXJzIHRvIHJlZ2lzdGVyIHRyYW5zbGF0aW9uLXRhYmxlcywgYXN5bmNocm9ub3VzIGxvYWRlcnNcbiAqIGFuZCBzaW1pbGFyIHRvIGNvbmZpZ3VyZSB0cmFuc2xhdGlvbiBiZWhhdmlvciBkaXJlY3RseSBpbnNpZGUgb2YgYSBtb2R1bGUuXG4gKlxuICovXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpLnByb3ZpZGVyKCckdHJhbnNsYXRlJywgWyckU1RPUkFHRV9LRVknLCBmdW5jdGlvbiAoJFNUT1JBR0VfS0VZKSB7XG5cbiAgdmFyICR0cmFuc2xhdGlvblRhYmxlID0ge30sXG4gICAgICAkcHJlZmVycmVkTGFuZ3VhZ2UsXG4gICAgICAkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzID0gW10sXG4gICAgICAkbGFuZ3VhZ2VLZXlBbGlhc2VzLFxuICAgICAgJGZhbGxiYWNrTGFuZ3VhZ2UsXG4gICAgICAkZmFsbGJhY2tXYXNTdHJpbmcsXG4gICAgICAkdXNlcyxcbiAgICAgICRuZXh0TGFuZyxcbiAgICAgICRzdG9yYWdlRmFjdG9yeSxcbiAgICAgICRzdG9yYWdlS2V5ID0gJFNUT1JBR0VfS0VZLFxuICAgICAgJHN0b3JhZ2VQcmVmaXgsXG4gICAgICAkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnksXG4gICAgICAkaW50ZXJwb2xhdGlvbkZhY3RvcnksXG4gICAgICAkaW50ZXJwb2xhdG9yRmFjdG9yaWVzID0gW10sXG4gICAgICAkaW50ZXJwb2xhdGlvblNhbml0aXphdGlvblN0cmF0ZWd5ID0gZmFsc2UsXG4gICAgICAkbG9hZGVyRmFjdG9yeSxcbiAgICAgICRjbG9ha0NsYXNzTmFtZSA9ICd0cmFuc2xhdGUtY2xvYWsnLFxuICAgICAgJGxvYWRlck9wdGlvbnMsXG4gICAgICAkbm90Rm91bmRJbmRpY2F0b3JMZWZ0LFxuICAgICAgJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQsXG4gICAgICAkcG9zdENvbXBpbGluZ0VuYWJsZWQgPSBmYWxzZSxcbiAgICAgIE5FU1RFRF9PQkpFQ1RfREVMSU1JVEVSID0gJy4nLFxuICAgICAgbG9hZGVyQ2FjaGU7XG5cbiAgdmFyIHZlcnNpb24gPSAnMi41LjInO1xuXG4gIC8vIHRyaWVzIHRvIGRldGVybWluZSB0aGUgYnJvd3NlcnMgbGFuZ3VhZ2VcbiAgdmFyIGdldEZpcnN0QnJvd3Nlckxhbmd1YWdlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBuYXYgPSB3aW5kb3cubmF2aWdhdG9yLFxuICAgICAgICBicm93c2VyTGFuZ3VhZ2VQcm9wZXJ0eUtleXMgPSBbJ2xhbmd1YWdlJywgJ2Jyb3dzZXJMYW5ndWFnZScsICdzeXN0ZW1MYW5ndWFnZScsICd1c2VyTGFuZ3VhZ2UnXSxcbiAgICAgICAgaSxcbiAgICAgICAgbGFuZ3VhZ2U7XG5cbiAgICAvLyBzdXBwb3J0IGZvciBIVE1MIDUuMSBcIm5hdmlnYXRvci5sYW5ndWFnZXNcIlxuICAgIGlmIChhbmd1bGFyLmlzQXJyYXkobmF2Lmxhbmd1YWdlcykpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBuYXYubGFuZ3VhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxhbmd1YWdlID0gbmF2Lmxhbmd1YWdlc1tpXTtcbiAgICAgICAgaWYgKGxhbmd1YWdlICYmIGxhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBsYW5ndWFnZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHN1cHBvcnQgZm9yIG90aGVyIHdlbGwga25vd24gcHJvcGVydGllcyBpbiBicm93c2Vyc1xuICAgIGZvciAoaSA9IDA7IGkgPCBicm93c2VyTGFuZ3VhZ2VQcm9wZXJ0eUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxhbmd1YWdlID0gbmF2W2Jyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5c1tpXV07XG4gICAgICBpZiAobGFuZ3VhZ2UgJiYgbGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBsYW5ndWFnZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UuZGlzcGxheU5hbWUgPSAnYW5ndWxhci10cmFuc2xhdGUvc2VydmljZTogZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UnO1xuXG4gIC8vIHRyaWVzIHRvIGRldGVybWluZSB0aGUgYnJvd3NlcnMgbG9jYWxlXG4gIHZhciBnZXRMb2NhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSgpIHx8ICcnKS5zcGxpdCgnLScpLmpvaW4oJ18nKTtcbiAgfTtcbiAgZ2V0TG9jYWxlLmRpc3BsYXlOYW1lID0gJ2FuZ3VsYXItdHJhbnNsYXRlL3NlcnZpY2U6IGdldExvY2FsZSc7XG5cbiAgLyoqXG4gICAqIEBuYW1lIGluZGV4T2ZcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIGluZGV4T2YgcG9seWZpbGwuIEtpbmRhIHNvcnRhLlxuICAgKlxuICAgKiBAcGFyYW0ge2FycmF5fSBhcnJheSBBcnJheSB0byBzZWFyY2ggaW4uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWFyY2hFbGVtZW50IEVsZW1lbnQgdG8gc2VhcmNoIGZvci5cbiAgICpcbiAgICogQHJldHVybnMge2ludH0gSW5kZXggb2Ygc2VhcmNoIGVsZW1lbnQuXG4gICAqL1xuICB2YXIgaW5kZXhPZiA9IGZ1bmN0aW9uKGFycmF5LCBzZWFyY2hFbGVtZW50KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoYXJyYXlbaV0gPT09IHNlYXJjaEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICAvKipcbiAgICogQG5hbWUgdHJpbVxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogdHJpbSBwb2x5ZmlsbFxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgc3RyaW5nIHN0cmlwcGVkIG9mIHdoaXRlc3BhY2UgZnJvbSBib3RoIGVuZHNcbiAgICovXG4gIHZhciB0cmltID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xuICB9O1xuXG4gIHZhciBuZWdvdGlhdGVMb2NhbGUgPSBmdW5jdGlvbiAocHJlZmVycmVkKSB7XG5cbiAgICB2YXIgYXZhaWwgPSBbXSxcbiAgICAgICAgbG9jYWxlID0gYW5ndWxhci5sb3dlcmNhc2UocHJlZmVycmVkKSxcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIG4gPSAkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzLmxlbmd0aDtcblxuICAgIGZvciAoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBhdmFpbC5wdXNoKGFuZ3VsYXIubG93ZXJjYXNlKCRhdmFpbGFibGVMYW5ndWFnZUtleXNbaV0pKTtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXhPZihhdmFpbCwgbG9jYWxlKSA+IC0xKSB7XG4gICAgICByZXR1cm4gcHJlZmVycmVkO1xuICAgIH1cblxuICAgIGlmICgkbGFuZ3VhZ2VLZXlBbGlhc2VzKSB7XG4gICAgICB2YXIgYWxpYXM7XG4gICAgICBmb3IgKHZhciBsYW5nS2V5QWxpYXMgaW4gJGxhbmd1YWdlS2V5QWxpYXNlcykge1xuICAgICAgICB2YXIgaGFzV2lsZGNhcmRLZXkgPSBmYWxzZTtcbiAgICAgICAgdmFyIGhhc0V4YWN0S2V5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCRsYW5ndWFnZUtleUFsaWFzZXMsIGxhbmdLZXlBbGlhcykgJiZcbiAgICAgICAgICBhbmd1bGFyLmxvd2VyY2FzZShsYW5nS2V5QWxpYXMpID09PSBhbmd1bGFyLmxvd2VyY2FzZShwcmVmZXJyZWQpO1xuXG4gICAgICAgIGlmIChsYW5nS2V5QWxpYXMuc2xpY2UoLTEpID09PSAnKicpIHtcbiAgICAgICAgICBoYXNXaWxkY2FyZEtleSA9IGxhbmdLZXlBbGlhcy5zbGljZSgwLCAtMSkgPT09IHByZWZlcnJlZC5zbGljZSgwLCBsYW5nS2V5QWxpYXMubGVuZ3RoLTEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNFeGFjdEtleSB8fCBoYXNXaWxkY2FyZEtleSkge1xuICAgICAgICAgIGFsaWFzID0gJGxhbmd1YWdlS2V5QWxpYXNlc1tsYW5nS2V5QWxpYXNdO1xuICAgICAgICAgIGlmIChpbmRleE9mKGF2YWlsLCBhbmd1bGFyLmxvd2VyY2FzZShhbGlhcykpID4gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBhbGlhcztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcGFydHMgPSBwcmVmZXJyZWQuc3BsaXQoJ18nKTtcblxuICAgIGlmIChwYXJ0cy5sZW5ndGggPiAxICYmIGluZGV4T2YoYXZhaWwsIGFuZ3VsYXIubG93ZXJjYXNlKHBhcnRzWzBdKSkgPiAtMSkge1xuICAgICAgcmV0dXJuIHBhcnRzWzBdO1xuICAgIH1cblxuICAgIC8vIElmIGV2ZXJ5dGhpbmcgZmFpbHMsIGp1c3QgcmV0dXJuIHRoZSBwcmVmZXJyZWQsIHVuY2hhbmdlZC5cbiAgICByZXR1cm4gcHJlZmVycmVkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdHJhbnNsYXRpb25zXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXJzIGEgbmV3IHRyYW5zbGF0aW9uIHRhYmxlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBrZXkuXG4gICAqXG4gICAqIFRvIHJlZ2lzdGVyIGEgdHJhbnNsYXRpb24gdGFibGUgZm9yIHNwZWNpZmljIGxhbmd1YWdlLCBwYXNzIGEgZGVmaW5lZCBsYW5ndWFnZVxuICAgKiBrZXkgYXMgZmlyc3QgcGFyYW1ldGVyLlxuICAgKlxuICAgKiA8cHJlPlxuICAgKiAgLy8gcmVnaXN0ZXIgdHJhbnNsYXRpb24gdGFibGUgZm9yIGxhbmd1YWdlOiAnZGVfREUnXG4gICAqICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdkZV9ERScsIHtcbiAgICogICAgJ0dSRUVUSU5HJzogJ0hhbGxvIFdlbHQhJ1xuICAgKiAgfSk7XG4gICAqXG4gICAqICAvLyByZWdpc3RlciBhbm90aGVyIG9uZVxuICAgKiAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZW5fVVMnLCB7XG4gICAqICAgICdHUkVFVElORyc6ICdIZWxsbyB3b3JsZCEnXG4gICAqICB9KTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIFdoZW4gcmVnaXN0ZXJpbmcgbXVsdGlwbGUgdHJhbnNsYXRpb24gdGFibGVzIGZvciBmb3IgdGhlIHNhbWUgbGFuZ3VhZ2Uga2V5LFxuICAgKiB0aGUgYWN0dWFsIHRyYW5zbGF0aW9uIHRhYmxlIGdldHMgZXh0ZW5kZWQuIFRoaXMgYWxsb3dzIHlvdSB0byBkZWZpbmUgbW9kdWxlXG4gICAqIHNwZWNpZmljIHRyYW5zbGF0aW9uIHdoaWNoIG9ubHkgZ2V0IGFkZGVkLCBvbmNlIGEgc3BlY2lmaWMgbW9kdWxlIGlzIGxvYWRlZCBpblxuICAgKiB5b3VyIGFwcC5cbiAgICpcbiAgICogSW52b2tpbmcgdGhpcyBtZXRob2Qgd2l0aCBubyBhcmd1bWVudHMgcmV0dXJucyB0aGUgdHJhbnNsYXRpb24gdGFibGUgd2hpY2ggd2FzXG4gICAqIHJlZ2lzdGVyZWQgd2l0aCBubyBsYW5ndWFnZSBrZXkuIEludm9raW5nIGl0IHdpdGggYSBsYW5ndWFnZSBrZXkgcmV0dXJucyB0aGVcbiAgICogcmVsYXRlZCB0cmFuc2xhdGlvbiB0YWJsZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBBIGxhbmd1YWdlIGtleS5cbiAgICogQHBhcmFtIHtvYmplY3R9IHRyYW5zbGF0aW9uVGFibGUgQSBwbGFpbiBvbGQgSmF2YVNjcmlwdCBvYmplY3QgdGhhdCByZXByZXNlbnRzIGEgdHJhbnNsYXRpb24gdGFibGUuXG4gICAqXG4gICAqL1xuICB2YXIgdHJhbnNsYXRpb25zID0gZnVuY3Rpb24gKGxhbmdLZXksIHRyYW5zbGF0aW9uVGFibGUpIHtcblxuICAgIGlmICghbGFuZ0tleSAmJiAhdHJhbnNsYXRpb25UYWJsZSkge1xuICAgICAgcmV0dXJuICR0cmFuc2xhdGlvblRhYmxlO1xuICAgIH1cblxuICAgIGlmIChsYW5nS2V5ICYmICF0cmFuc2xhdGlvblRhYmxlKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhsYW5nS2V5KSkge1xuICAgICAgICByZXR1cm4gJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghYW5ndWxhci5pc09iamVjdCgkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSkpIHtcbiAgICAgICAgJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0gPSB7fTtcbiAgICAgIH1cbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKCR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldLCBmbGF0T2JqZWN0KHRyYW5zbGF0aW9uVGFibGUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdGhpcy50cmFuc2xhdGlvbnMgPSB0cmFuc2xhdGlvbnM7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNjbG9ha0NsYXNzTmFtZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIExldCdzIHlvdSBjaGFuZ2UgdGhlIGNsYXNzIG5hbWUgZm9yIGB0cmFuc2xhdGUtY2xvYWtgIGRpcmVjdGl2ZS5cbiAgICogRGVmYXVsdCBjbGFzcyBuYW1lIGlzIGB0cmFuc2xhdGUtY2xvYWtgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSB0cmFuc2xhdGUtY2xvYWsgY2xhc3MgbmFtZVxuICAgKi9cbiAgdGhpcy5jbG9ha0NsYXNzTmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICByZXR1cm4gJGNsb2FrQ2xhc3NOYW1lO1xuICAgIH1cbiAgICAkY2xvYWtDbGFzc05hbWUgPSBuYW1lO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmFtZSBmbGF0T2JqZWN0XG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBGbGF0cyBhbiBvYmplY3QuIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBmbGF0dGVuIGdpdmVuIHRyYW5zbGF0aW9uIGRhdGEgd2l0aFxuICAgKiBuYW1lc3BhY2VzLCBzbyB0aGV5IGFyZSBsYXRlciBhY2Nlc3NpYmxlIHZpYSBkb3Qgbm90YXRpb24uXG4gICAqL1xuICB2YXIgZmxhdE9iamVjdCA9IGZ1bmN0aW9uIChkYXRhLCBwYXRoLCByZXN1bHQsIHByZXZLZXkpIHtcbiAgICB2YXIga2V5LCBrZXlXaXRoUGF0aCwga2V5V2l0aFNob3J0UGF0aCwgdmFsO1xuXG4gICAgaWYgKCFwYXRoKSB7XG4gICAgICBwYXRoID0gW107XG4gICAgfVxuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICByZXN1bHQgPSB7fTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gZGF0YSkge1xuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhbCA9IGRhdGFba2V5XTtcbiAgICAgIGlmIChhbmd1bGFyLmlzT2JqZWN0KHZhbCkpIHtcbiAgICAgICAgZmxhdE9iamVjdCh2YWwsIHBhdGguY29uY2F0KGtleSksIHJlc3VsdCwga2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGtleVdpdGhQYXRoID0gcGF0aC5sZW5ndGggPyAoJycgKyBwYXRoLmpvaW4oTkVTVEVEX09CSkVDVF9ERUxJTUlURVIpICsgTkVTVEVEX09CSkVDVF9ERUxJTUlURVIgKyBrZXkpIDoga2V5O1xuICAgICAgICBpZihwYXRoLmxlbmd0aCAmJiBrZXkgPT09IHByZXZLZXkpe1xuICAgICAgICAgIC8vIENyZWF0ZSBzaG9ydGN1dCBwYXRoIChmb28uYmFyID09IGZvby5iYXIuYmFyKVxuICAgICAgICAgIGtleVdpdGhTaG9ydFBhdGggPSAnJyArIHBhdGguam9pbihORVNURURfT0JKRUNUX0RFTElNSVRFUik7XG4gICAgICAgICAgLy8gTGluayBpdCB0byBvcmlnaW5hbCBwYXRoXG4gICAgICAgICAgcmVzdWx0W2tleVdpdGhTaG9ydFBhdGhdID0gJ0A6JyArIGtleVdpdGhQYXRoO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtrZXlXaXRoUGF0aF0gPSB2YWw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNhZGRJbnRlcnBvbGF0aW9uXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQWRkcyBpbnRlcnBvbGF0aW9uIHNlcnZpY2VzIHRvIGFuZ3VsYXItdHJhbnNsYXRlLCBzbyBpdCBjYW4gbWFuYWdlIHRoZW0uXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBmYWN0b3J5IEludGVycG9sYXRpb24gc2VydmljZSBmYWN0b3J5XG4gICAqL1xuICB0aGlzLmFkZEludGVycG9sYXRpb24gPSBmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICRpbnRlcnBvbGF0b3JGYWN0b3JpZXMucHVzaChmYWN0b3J5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZU1lc3NhZ2VGb3JtYXRJbnRlcnBvbGF0aW9uXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGludGVycG9sYXRpb24gZnVuY3Rpb25hbGl0eSBvZiBtZXNzYWdlZm9ybWF0LmpzLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGhhdmluZyBoaWdoIGxldmVsIHBsdXJhbGl6YXRpb24gYW5kIGdlbmRlciBzZWxlY3Rpb24uXG4gICAqL1xuICB0aGlzLnVzZU1lc3NhZ2VGb3JtYXRJbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVzZUludGVycG9sYXRpb24oJyR0cmFuc2xhdGVNZXNzYWdlRm9ybWF0SW50ZXJwb2xhdGlvbicpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlSW50ZXJwb2xhdGlvblxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHdoaWNoIGludGVycG9sYXRpb24gc3R5bGUgdG8gdXNlIGFzIGRlZmF1bHQsIGFwcGxpY2F0aW9uLXdpZGUuXG4gICAqIFNpbXBseSBwYXNzIGEgZmFjdG9yeS9zZXJ2aWNlIG5hbWUuIFRoZSBpbnRlcnBvbGF0aW9uIHNlcnZpY2UgaGFzIHRvIGltcGxlbWVudFxuICAgKiB0aGUgY29ycmVjdCBpbnRlcmZhY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWN0b3J5IEludGVycG9sYXRpb24gc2VydmljZSBuYW1lLlxuICAgKi9cbiAgdGhpcy51c2VJbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICAkaW50ZXJwb2xhdGlvbkZhY3RvcnkgPSBmYWN0b3J5O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlU2FuaXRpemVTdHJhdGVneVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNpbXBseSBzZXRzIGEgc2FuaXRhdGlvbiBzdHJhdGVneSB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgU3RyYXRlZ3kgdHlwZS5cbiAgICovXG4gIHRoaXMudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgJGludGVycG9sYXRpb25TYW5pdGl6YXRpb25TdHJhdGVneSA9IHZhbHVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNwcmVmZXJyZWRMYW5ndWFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIHRoZSBtb2R1bGUgd2hpY2ggb2YgdGhlIHJlZ2lzdGVyZWQgdHJhbnNsYXRpb24gdGFibGVzIHRvIHVzZSBmb3IgdHJhbnNsYXRpb25cbiAgICogYXQgaW5pdGlhbCBzdGFydHVwIGJ5IHBhc3NpbmcgYSBsYW5ndWFnZSBrZXkuIFNpbWlsYXIgdG8gYCR0cmFuc2xhdGVQcm92aWRlciN1c2VgXG4gICAqIG9ubHkgdGhhdCBpdCBzYXlzIHdoaWNoIGxhbmd1YWdlIHRvICoqcHJlZmVyKiouXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nS2V5IEEgbGFuZ3VhZ2Uga2V5LlxuICAgKlxuICAgKi9cbiAgdGhpcy5wcmVmZXJyZWRMYW5ndWFnZSA9IGZ1bmN0aW9uKGxhbmdLZXkpIHtcbiAgICBzZXR1cFByZWZlcnJlZExhbmd1YWdlKGxhbmdLZXkpO1xuICAgIHJldHVybiB0aGlzO1xuXG4gIH07XG4gIHZhciBzZXR1cFByZWZlcnJlZExhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICBpZiAobGFuZ0tleSkge1xuICAgICAgJHByZWZlcnJlZExhbmd1YWdlID0gbGFuZ0tleTtcbiAgICB9XG4gICAgcmV0dXJuICRwcmVmZXJyZWRMYW5ndWFnZTtcbiAgfTtcbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBhbiBpbmRpY2F0b3Igd2hpY2ggaXMgdXNlZCB3aGVuIGEgdHJhbnNsYXRpb24gaXNuJ3QgZm91bmQuIEUuZy4gd2hlblxuICAgKiBzZXR0aW5nIHRoZSBpbmRpY2F0b3IgYXMgJ1gnIGFuZCBvbmUgdHJpZXMgdG8gdHJhbnNsYXRlIGEgdHJhbnNsYXRpb24gaWRcbiAgICogY2FsbGVkIGBOT1RfRk9VTkRgLCB0aGlzIHdpbGwgcmVzdWx0IGluIGBYIE5PVF9GT1VORCBYYC5cbiAgICpcbiAgICogSW50ZXJuYWxseSB0aGlzIG1ldGhvZHMgc2V0cyBhIGxlZnQgaW5kaWNhdG9yIGFuZCBhIHJpZ2h0IGluZGljYXRvciB1c2luZ1xuICAgKiBgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JMZWZ0KClgIGFuZFxuICAgKiBgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JSaWdodCgpYC5cbiAgICpcbiAgICogKipOb3RlKio6IFRoZXNlIG1ldGhvZHMgYXV0b21hdGljYWxseSBhZGQgYSB3aGl0ZXNwYWNlIGJldHdlZW4gdGhlIGluZGljYXRvcnNcbiAgICogYW5kIHRoZSB0cmFuc2xhdGlvbiBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGluZGljYXRvciBBbiBpbmRpY2F0b3IsIGNvdWxkIGJlIGFueSBzdHJpbmcuXG4gICAqL1xuICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3IgPSBmdW5jdGlvbiAoaW5kaWNhdG9yKSB7XG4gICAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdChpbmRpY2F0b3IpO1xuICAgIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvclJpZ2h0KGluZGljYXRvcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3RyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JMZWZ0XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBhbiBpbmRpY2F0b3Igd2hpY2ggaXMgdXNlZCB3aGVuIGEgdHJhbnNsYXRpb24gaXNuJ3QgZm91bmQgbGVmdCB0byB0aGVcbiAgICogdHJhbnNsYXRpb24gaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbmRpY2F0b3IgQW4gaW5kaWNhdG9yLlxuICAgKi9cbiAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdCA9IGZ1bmN0aW9uIChpbmRpY2F0b3IpIHtcbiAgICBpZiAoIWluZGljYXRvcikge1xuICAgICAgcmV0dXJuICRub3RGb3VuZEluZGljYXRvckxlZnQ7XG4gICAgfVxuICAgICRub3RGb3VuZEluZGljYXRvckxlZnQgPSBpbmRpY2F0b3I7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3RyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JMZWZ0XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBhbiBpbmRpY2F0b3Igd2hpY2ggaXMgdXNlZCB3aGVuIGEgdHJhbnNsYXRpb24gaXNuJ3QgZm91bmQgcmlnaHQgdG8gdGhlXG4gICAqIHRyYW5zbGF0aW9uIGlkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW5kaWNhdG9yIEFuIGluZGljYXRvci5cbiAgICovXG4gIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvclJpZ2h0ID0gZnVuY3Rpb24gKGluZGljYXRvcikge1xuICAgIGlmICghaW5kaWNhdG9yKSB7XG4gICAgICByZXR1cm4gJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQ7XG4gICAgfVxuICAgICRub3RGb3VuZEluZGljYXRvclJpZ2h0ID0gaW5kaWNhdG9yO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjZmFsbGJhY2tMYW5ndWFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIHRoZSBtb2R1bGUgd2hpY2ggb2YgdGhlIHJlZ2lzdGVyZWQgdHJhbnNsYXRpb24gdGFibGVzIHRvIHVzZSB3aGVuIG1pc3NpbmcgdHJhbnNsYXRpb25zXG4gICAqIGF0IGluaXRpYWwgc3RhcnR1cCBieSBwYXNzaW5nIGEgbGFuZ3VhZ2Uga2V5LiBTaW1pbGFyIHRvIGAkdHJhbnNsYXRlUHJvdmlkZXIjdXNlYFxuICAgKiBvbmx5IHRoYXQgaXQgc2F5cyB3aGljaCBsYW5ndWFnZSB0byAqKmZhbGxiYWNrKiouXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfHxhcnJheX0gbGFuZ0tleSBBIGxhbmd1YWdlIGtleS5cbiAgICpcbiAgICovXG4gIHRoaXMuZmFsbGJhY2tMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgZmFsbGJhY2tTdGFjayhsYW5nS2V5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB2YXIgZmFsbGJhY2tTdGFjayA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgaWYgKGxhbmdLZXkpIHtcbiAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGxhbmdLZXkpKSB7XG4gICAgICAgICRmYWxsYmFja1dhc1N0cmluZyA9IHRydWU7XG4gICAgICAgICRmYWxsYmFja0xhbmd1YWdlID0gWyBsYW5nS2V5IF07XG4gICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNBcnJheShsYW5nS2V5KSkge1xuICAgICAgICAkZmFsbGJhY2tXYXNTdHJpbmcgPSBmYWxzZTtcbiAgICAgICAgJGZhbGxiYWNrTGFuZ3VhZ2UgPSBsYW5nS2V5O1xuICAgICAgfVxuICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoJHByZWZlcnJlZExhbmd1YWdlKSAgJiYgaW5kZXhPZigkZmFsbGJhY2tMYW5ndWFnZSwgJHByZWZlcnJlZExhbmd1YWdlKSA8IDApIHtcbiAgICAgICAgJGZhbGxiYWNrTGFuZ3VhZ2UucHVzaCgkcHJlZmVycmVkTGFuZ3VhZ2UpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCRmYWxsYmFja1dhc1N0cmluZykge1xuICAgICAgICByZXR1cm4gJGZhbGxiYWNrTGFuZ3VhZ2VbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJGZhbGxiYWNrTGFuZ3VhZ2U7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0IHdoaWNoIHRyYW5zbGF0aW9uIHRhYmxlIHRvIHVzZSBmb3IgdHJhbnNsYXRpb24gYnkgZ2l2ZW4gbGFuZ3VhZ2Uga2V5LiBXaGVuXG4gICAqIHRyeWluZyB0byAndXNlJyBhIGxhbmd1YWdlIHdoaWNoIGlzbid0IHByb3ZpZGVkLCBpdCdsbCB0aHJvdyBhbiBlcnJvci5cbiAgICpcbiAgICogWW91IGFjdHVhbGx5IGRvbid0IGhhdmUgdG8gdXNlIHRoaXMgbWV0aG9kIHNpbmNlIGAkdHJhbnNsYXRlUHJvdmlkZXIjcHJlZmVycmVkTGFuZ3VhZ2VgXG4gICAqIGRvZXMgdGhlIGpvYiB0b28uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nS2V5IEEgbGFuZ3VhZ2Uga2V5LlxuICAgKi9cbiAgdGhpcy51c2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgIGlmIChsYW5nS2V5KSB7XG4gICAgICBpZiAoISR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldICYmICghJGxvYWRlckZhY3RvcnkpKSB7XG4gICAgICAgIC8vIG9ubHkgdGhyb3cgYW4gZXJyb3IsIHdoZW4gbm90IGxvYWRpbmcgdHJhbnNsYXRpb24gZGF0YSBhc3luY2hyb25vdXNseVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIkdHJhbnNsYXRlUHJvdmlkZXIgY291bGRuJ3QgZmluZCB0cmFuc2xhdGlvblRhYmxlIGZvciBsYW5nS2V5OiAnXCIgKyBsYW5nS2V5ICsgXCInXCIpO1xuICAgICAgfVxuICAgICAgJHVzZXMgPSBsYW5nS2V5O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiAkdXNlcztcbiAgfTtcblxuIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjc3RvcmFnZUtleVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIHRoZSBtb2R1bGUgd2hpY2gga2V5IG11c3QgcmVwcmVzZW50IHRoZSBjaG9vc2VkIGxhbmd1YWdlIGJ5IGEgdXNlciBpbiB0aGUgc3RvcmFnZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBBIGtleSBmb3IgdGhlIHN0b3JhZ2UuXG4gICAqL1xuICB2YXIgc3RvcmFnZUtleSA9IGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICgha2V5KSB7XG4gICAgICBpZiAoJHN0b3JhZ2VQcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuICRzdG9yYWdlUHJlZml4ICsgJHN0b3JhZ2VLZXk7XG4gICAgICB9XG4gICAgICByZXR1cm4gJHN0b3JhZ2VLZXk7XG4gICAgfVxuICAgICRzdG9yYWdlS2V5ID0ga2V5O1xuICB9O1xuXG4gIHRoaXMuc3RvcmFnZUtleSA9IHN0b3JhZ2VLZXk7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VVcmxMb2FkZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYCR0cmFuc2xhdGVVcmxMb2FkZXJgIGV4dGVuc2lvbiBzZXJ2aWNlIGFzIGxvYWRlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBVcmxcbiAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAqL1xuICB0aGlzLnVzZVVybExvYWRlciA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy51c2VMb2FkZXIoJyR0cmFuc2xhdGVVcmxMb2FkZXInLCBhbmd1bGFyLmV4dGVuZCh7IHVybDogdXJsIH0sIG9wdGlvbnMpKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVN0YXRpY0ZpbGVzTG9hZGVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGAkdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXJgIGV4dGVuc2lvbiBzZXJ2aWNlIGFzIGxvYWRlci5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAqL1xuICB0aGlzLnVzZVN0YXRpY0ZpbGVzTG9hZGVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy51c2VMb2FkZXIoJyR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlcicsIG9wdGlvbnMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTG9hZGVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGFueSBvdGhlciBzZXJ2aWNlIGFzIGxvYWRlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvYWRlckZhY3RvcnkgRmFjdG9yeSBuYW1lIHRvIHVzZVxuICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICovXG4gIHRoaXMudXNlTG9hZGVyID0gZnVuY3Rpb24gKGxvYWRlckZhY3RvcnksIG9wdGlvbnMpIHtcbiAgICAkbG9hZGVyRmFjdG9yeSA9IGxvYWRlckZhY3Rvcnk7XG4gICAgJGxvYWRlck9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTG9jYWxTdG9yYWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGAkdHJhbnNsYXRlTG9jYWxTdG9yYWdlYCBzZXJ2aWNlIGFzIHN0b3JhZ2UgbGF5ZXIuXG4gICAqXG4gICAqL1xuICB0aGlzLnVzZUxvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VTdG9yYWdlKCckdHJhbnNsYXRlTG9jYWxTdG9yYWdlJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VDb29raWVTdG9yYWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGAkdHJhbnNsYXRlQ29va2llU3RvcmFnZWAgc2VydmljZSBhcyBzdG9yYWdlIGxheWVyLlxuICAgKi9cbiAgdGhpcy51c2VDb29raWVTdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVzZVN0b3JhZ2UoJyR0cmFuc2xhdGVDb29raWVTdG9yYWdlJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VTdG9yYWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGN1c3RvbSBzZXJ2aWNlIGFzIHN0b3JhZ2UgbGF5ZXIuXG4gICAqL1xuICB0aGlzLnVzZVN0b3JhZ2UgPSBmdW5jdGlvbiAoc3RvcmFnZUZhY3RvcnkpIHtcbiAgICAkc3RvcmFnZUZhY3RvcnkgPSBzdG9yYWdlRmFjdG9yeTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3N0b3JhZ2VQcmVmaXhcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHByZWZpeCBmb3Igc3RvcmFnZSBrZXkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXggU3RvcmFnZSBrZXkgcHJlZml4XG4gICAqL1xuICB0aGlzLnN0b3JhZ2VQcmVmaXggPSBmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgaWYgKCFwcmVmaXgpIHtcbiAgICAgIHJldHVybiBwcmVmaXg7XG4gICAgfVxuICAgICRzdG9yYWdlUHJlZml4ID0gcHJlZml4O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZ1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBidWlsdC1pbiBsb2cgaGFuZGxlciB3aGVuIHRyeWluZyB0byB0cmFuc2xhdGVcbiAgICogYSB0cmFuc2xhdGlvbiBJZCB3aGljaCBkb2Vzbid0IGV4aXN0LlxuICAgKlxuICAgKiBUaGlzIGlzIGFjdHVhbGx5IGEgc2hvcnRjdXQgbWV0aG9kIGZvciBgdXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlcigpYC5cbiAgICpcbiAgICovXG4gIHRoaXMudXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyKCckdHJhbnNsYXRlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZycpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEV4cGVjdHMgYSBmYWN0b3J5IG5hbWUgd2hpY2ggbGF0ZXIgZ2V0cyBpbnN0YW50aWF0ZWQgd2l0aCBgJGluamVjdG9yYC5cbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgdG8gdGVsbCBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYSBjdXN0b21cbiAgICogbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlci4gSnVzdCBidWlsZCBhIGZhY3Rvcnkgd2hpY2ggcmV0dXJucyBhIGZ1bmN0aW9uXG4gICAqIGFuZCBleHBlY3RzIGEgdHJhbnNsYXRpb24gaWQgYXMgYXJndW1lbnQuXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqIDxwcmU+XG4gICAqICBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcbiAgICogICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIoJ2N1c3RvbUhhbmRsZXInKTtcbiAgICogIH0pO1xuICAgKlxuICAgKiAgYXBwLmZhY3RvcnkoJ2N1c3RvbUhhbmRsZXInLCBmdW5jdGlvbiAoZGVwMSwgZGVwMikge1xuICAgKiAgICByZXR1cm4gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICogICAgICAvLyBzb21ldGhpbmcgd2l0aCB0cmFuc2xhdGlvbklkIGFuZCBkZXAxIGFuZCBkZXAyXG4gICAqICAgIH07XG4gICAqICB9KTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWN0b3J5IEZhY3RvcnkgbmFtZVxuICAgKi9cbiAgdGhpcy51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyID0gZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICAkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgPSBmYWN0b3J5O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlUG9zdENvbXBpbGluZ1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIElmIHBvc3QgY29tcGlsaW5nIGlzIGVuYWJsZWQsIGFsbCB0cmFuc2xhdGVkIHZhbHVlcyB3aWxsIGJlIHByb2Nlc3NlZFxuICAgKiBhZ2FpbiB3aXRoIEFuZ3VsYXJKUycgJGNvbXBpbGUuXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqIDxwcmU+XG4gICAqICBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcbiAgICogICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVBvc3RDb21waWxpbmcodHJ1ZSk7XG4gICAqICB9KTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWN0b3J5IEZhY3RvcnkgbmFtZVxuICAgKi9cbiAgdGhpcy51c2VQb3N0Q29tcGlsaW5nID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgJHBvc3RDb21waWxpbmdFbmFibGVkID0gISghdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB0cnkgdG8gZGV0ZXJtaW5lIG9uIGl0cyBvd24gd2hpY2ggbGFuZ3VhZ2Uga2V5XG4gICAqIHRvIHNldCBhcyBwcmVmZXJyZWQgbGFuZ3VhZ2UuIFdoZW4gYGZuYCBpcyBnaXZlbiwgYW5ndWxhci10cmFuc2xhdGUgdXNlcyBpdFxuICAgKiB0byBkZXRlcm1pbmUgYSBsYW5ndWFnZSBrZXksIG90aGVyd2lzZSBpdCB1c2VzIHRoZSBidWlsdC1pbiBgZ2V0TG9jYWxlKClgXG4gICAqIG1ldGhvZC5cbiAgICpcbiAgICogVGhlIGBnZXRMb2NhbGUoKWAgcmV0dXJucyBhIGxhbmd1YWdlIGtleSBpbiB0aGUgZm9ybWF0IGBbbGFuZ11fW2NvdW50cnldYCBvclxuICAgKiBgW2xhbmddYCBkZXBlbmRpbmcgb24gd2hhdCB0aGUgYnJvd3NlciBwcm92aWRlcy5cbiAgICpcbiAgICogVXNlIHRoaXMgbWV0aG9kIGF0IHlvdXIgb3duIHJpc2ssIHNpbmNlIG5vdCBhbGwgYnJvd3NlcnMgcmV0dXJuIGEgdmFsaWRcbiAgICogbG9jYWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdD19IGZuIEZ1bmN0aW9uIHRvIGRldGVybWluZSBhIGJyb3dzZXIncyBsb2NhbGVcbiAgICovXG4gIHRoaXMuZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoZm4pIHtcblxuICAgIHZhciBsb2NhbGUgPSAoZm4gJiYgYW5ndWxhci5pc0Z1bmN0aW9uKGZuKSkgPyBmbigpIDogZ2V0TG9jYWxlKCk7XG5cbiAgICBpZiAoISRhdmFpbGFibGVMYW5ndWFnZUtleXMubGVuZ3RoKSB7XG4gICAgICAkcHJlZmVycmVkTGFuZ3VhZ2UgPSBsb2NhbGU7XG4gICAgfSBlbHNlIHtcbiAgICAgICRwcmVmZXJyZWRMYW5ndWFnZSA9IG5lZ290aWF0ZUxvY2FsZShsb2NhbGUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjcmVnaXN0ZXJBdmFpbGFibGVMYW5ndWFnZUtleXNcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlcnMgYSBzZXQgb2YgbGFuZ3VhZ2Uga2V5cyB0aGUgYXBwIHdpbGwgd29yayB3aXRoLiBVc2UgdGhpcyBtZXRob2QgaW5cbiAgICogY29tYmluYXRpb24gd2l0aFxuICAgKiB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UgZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2V9LlxuICAgKiBXaGVuIGF2YWlsYWJsZSBsYW5ndWFnZXMga2V5cyBhcmUgcmVnaXN0ZXJlZCwgYW5ndWxhci10cmFuc2xhdGVcbiAgICogdHJpZXMgdG8gZmluZCB0aGUgYmVzdCBmaXR0aW5nIGxhbmd1YWdlIGtleSBkZXBlbmRpbmcgb24gdGhlIGJyb3dzZXJzIGxvY2FsZSxcbiAgICogY29uc2lkZXJpbmcgeW91ciBsYW5ndWFnZSBrZXkgY29udmVudGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGxhbmd1YWdlS2V5cyBBcnJheSBvZiBsYW5ndWFnZSBrZXlzIHRoZSB5b3VyIGFwcCB3aWxsIHVzZVxuICAgKiBAcGFyYW0ge29iamVjdD19IGFsaWFzZXMgQWxpYXMgbWFwLlxuICAgKi9cbiAgdGhpcy5yZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5cyA9IGZ1bmN0aW9uIChsYW5ndWFnZUtleXMsIGFsaWFzZXMpIHtcbiAgICBpZiAobGFuZ3VhZ2VLZXlzKSB7XG4gICAgICAkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzID0gbGFuZ3VhZ2VLZXlzO1xuICAgICAgaWYgKGFsaWFzZXMpIHtcbiAgICAgICAgJGxhbmd1YWdlS2V5QWxpYXNlcyA9IGFsaWFzZXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuICRhdmFpbGFibGVMYW5ndWFnZUtleXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VMb2FkZXJDYWNoZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVycyBhIGNhY2hlIGZvciBpbnRlcm5hbCAkaHR0cCBiYXNlZCBsb2FkZXJzLlxuICAgKiB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UgZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2V9LlxuICAgKiBXaGVuIGZhbHNlIHRoZSBjYWNoZSB3aWxsIGJlIGRpc2FibGVkIChkZWZhdWx0KS4gV2hlbiB0cnVlIG9yIHVuZGVmaW5lZFxuICAgKiB0aGUgY2FjaGUgd2lsbCBiZSBhIGRlZmF1bHQgKHNlZSAkY2FjaGVGYWN0b3J5KS4gV2hlbiBhbiBvYmplY3QgaXQgd2lsbFxuICAgKiBiZSB0cmVhdCBhcyBhIGNhY2hlIG9iamVjdCBpdHNlbGY6IHRoZSB1c2FnZSBpcyAkaHR0cCh7Y2FjaGU6IGNhY2hlfSlcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGNhY2hlIGJvb2xlYW4sIHN0cmluZyBvciBjYWNoZS1vYmplY3RcbiAgICovXG4gIHRoaXMudXNlTG9hZGVyQ2FjaGUgPSBmdW5jdGlvbiAoY2FjaGUpIHtcbiAgICBpZiAoY2FjaGUgPT09IGZhbHNlKSB7XG4gICAgICAvLyBkaXNhYmxlIGNhY2hlXG4gICAgICBsb2FkZXJDYWNoZSA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKGNhY2hlID09PSB0cnVlKSB7XG4gICAgICAvLyBlbmFibGUgY2FjaGUgdXNpbmcgQUpTIGRlZmF1bHRzXG4gICAgICBsb2FkZXJDYWNoZSA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YoY2FjaGUpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gZW5hYmxlIGNhY2hlIHVzaW5nIGRlZmF1bHRcbiAgICAgIGxvYWRlckNhY2hlID0gJyR0cmFuc2xhdGlvbkNhY2hlJztcbiAgICB9IGVsc2UgaWYgKGNhY2hlKSB7XG4gICAgICAvLyBlbmFibGUgY2FjaGUgdXNpbmcgZ2l2ZW4gb25lIChzZWUgJGNhY2hlRmFjdG9yeSlcbiAgICAgIGxvYWRlckNhY2hlID0gY2FjaGU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2Mgb2JqZWN0XG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgKiBAcmVxdWlyZXMgJGludGVycG9sYXRlXG4gICAqIEByZXF1aXJlcyAkbG9nXG4gICAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gICAqIEByZXF1aXJlcyAkcVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhlIGAkdHJhbnNsYXRlYCBzZXJ2aWNlIGlzIHRoZSBhY3R1YWwgY29yZSBvZiBhbmd1bGFyLXRyYW5zbGF0ZS4gSXQgZXhwZWN0cyBhIHRyYW5zbGF0aW9uIGlkXG4gICAqIGFuZCBvcHRpb25hbCBpbnRlcnBvbGF0ZSBwYXJhbWV0ZXJzIHRvIHRyYW5zbGF0ZSBjb250ZW50cy5cbiAgICpcbiAgICogPHByZT5cbiAgICogICR0cmFuc2xhdGUoJ0hFQURMSU5FX1RFWFQnKS50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgKiAgICAkc2NvcGUudHJhbnNsYXRlZFRleHQgPSB0cmFuc2xhdGlvbjtcbiAgICogIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8YXJyYXl9IHRyYW5zbGF0aW9uSWQgQSB0b2tlbiB3aGljaCByZXByZXNlbnRzIGEgdHJhbnNsYXRpb24gaWRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBjYW4gYmUgb3B0aW9uYWxseSBhbiBhcnJheSBvZiB0cmFuc2xhdGlvbiBpZHMgd2hpY2hcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyB0aGF0IHRoZSBmdW5jdGlvbiByZXR1cm5zIGFuIG9iamVjdCB3aGVyZSBlYWNoIGtleVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyB0aGUgdHJhbnNsYXRpb24gaWQgYW5kIHRoZSB2YWx1ZSB0aGUgdHJhbnNsYXRpb24uXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gaW50ZXJwb2xhdGVQYXJhbXMgQW4gb2JqZWN0IGhhc2ggZm9yIGR5bmFtaWMgdmFsdWVzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbnRlcnBvbGF0aW9uSWQgVGhlIGlkIG9mIHRoZSBpbnRlcnBvbGF0aW9uIHRvIHVzZVxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBwcm9taXNlXG4gICAqL1xuICB0aGlzLiRnZXQgPSBbXG4gICAgJyRsb2cnLFxuICAgICckaW5qZWN0b3InLFxuICAgICckcm9vdFNjb3BlJyxcbiAgICAnJHEnLFxuICAgIGZ1bmN0aW9uICgkbG9nLCAkaW5qZWN0b3IsICRyb290U2NvcGUsICRxKSB7XG5cbiAgICAgIHZhciBTdG9yYWdlLFxuICAgICAgICAgIGRlZmF1bHRJbnRlcnBvbGF0b3IgPSAkaW5qZWN0b3IuZ2V0KCRpbnRlcnBvbGF0aW9uRmFjdG9yeSB8fCAnJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uJyksXG4gICAgICAgICAgcGVuZGluZ0xvYWRlciA9IGZhbHNlLFxuICAgICAgICAgIGludGVycG9sYXRvckhhc2hNYXAgPSB7fSxcbiAgICAgICAgICBsYW5nUHJvbWlzZXMgPSB7fSxcbiAgICAgICAgICBmYWxsYmFja0luZGV4LFxuICAgICAgICAgIHN0YXJ0RmFsbGJhY2tJdGVyYXRpb247XG5cbiAgICAgIHZhciAkdHJhbnNsYXRlID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpIHtcblxuICAgICAgICAvLyBEdWNrIGRldGVjdGlvbjogSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGFuIGFycmF5LCBhIGJ1bmNoIG9mIHRyYW5zbGF0aW9ucyB3YXMgcmVxdWVzdGVkLlxuICAgICAgICAvLyBUaGUgcmVzdWx0IGlzIGFuIG9iamVjdC5cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheSh0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgIC8vIEluc3BpcmVkIGJ5IFEuYWxsU2V0dGxlZCBieSBLcmlzIEtvd2FsXG4gICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL2Jsb2IvYjBmYTcyOTgwNzE3ZGMyMDJmZmMzY2JmMDNiOTM2ZTEwZWJiYjlkNy9xLmpzI0wxNTUzLTE1NjNcbiAgICAgICAgICAvLyBUaGlzIHRyYW5zZm9ybXMgYWxsIHByb21pc2VzIHJlZ2FyZGxlc3MgcmVzb2x2ZWQgb3IgcmVqZWN0ZWRcbiAgICAgICAgICB2YXIgdHJhbnNsYXRlQWxsID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWRzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0cyA9IHt9OyAvLyBzdG9yaW5nIHRoZSBhY3R1YWwgcmVzdWx0c1xuICAgICAgICAgICAgdmFyIHByb21pc2VzID0gW107IC8vIHByb21pc2VzIHRvIHdhaXQgZm9yXG4gICAgICAgICAgICAvLyBXcmFwcyB0aGUgcHJvbWlzZSBhKSBiZWluZyBhbHdheXMgcmVzb2x2ZWQgYW5kIGIpIHN0b3JpbmcgdGhlIGxpbmsgaWQtPnZhbHVlXG4gICAgICAgICAgICB2YXIgdHJhbnNsYXRlID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgICAgdmFyIHJlZ2FyZGxlc3MgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzW3RyYW5zbGF0aW9uSWRdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShbdHJhbnNsYXRpb25JZCwgdmFsdWVdKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgLy8gd2UgZG9uJ3QgY2FyZSB3aGV0aGVyIHRoZSBwcm9taXNlIHdhcyByZXNvbHZlZCBvciByZWplY3RlZDsganVzdCBzdG9yZSB0aGUgdmFsdWVzXG4gICAgICAgICAgICAgICR0cmFuc2xhdGUodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCkudGhlbihyZWdhcmRsZXNzLCByZWdhcmRsZXNzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGMgPSB0cmFuc2xhdGlvbklkcy5sZW5ndGg7IGkgPCBjOyBpKyspIHtcbiAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaCh0cmFuc2xhdGUodHJhbnNsYXRpb25JZHNbaV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdhaXQgZm9yIGFsbCAoaW5jbHVkaW5nIHN0b3JpbmcgdG8gcmVzdWx0cylcbiAgICAgICAgICAgIHJldHVybiAkcS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAvLyByZXR1cm4gdGhlIHJlc3VsdHNcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGVBbGwodHJhbnNsYXRpb25JZCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIC8vIHRyaW0gb2ZmIGFueSB3aGl0ZXNwYWNlXG4gICAgICAgIGlmICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgdHJhbnNsYXRpb25JZCA9IHRyaW0uYXBwbHkodHJhbnNsYXRpb25JZCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHJvbWlzZVRvV2FpdEZvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHByb21pc2UgPSAkcHJlZmVycmVkTGFuZ3VhZ2UgP1xuICAgICAgICAgICAgbGFuZ1Byb21pc2VzWyRwcmVmZXJyZWRMYW5ndWFnZV0gOlxuICAgICAgICAgICAgbGFuZ1Byb21pc2VzWyR1c2VzXTtcblxuICAgICAgICAgIGZhbGxiYWNrSW5kZXggPSAwO1xuXG4gICAgICAgICAgaWYgKCRzdG9yYWdlRmFjdG9yeSAmJiAhcHJvbWlzZSkge1xuICAgICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGVyZSdzIG5vIHBlbmRpbmcgcHJvbWlzZSBmb3IgJHByZWZlcnJlZExhbmd1YWdlIG9yXG4gICAgICAgICAgICAvLyAkdXNlcy4gTWF5YmUgdGhlcmUncyBvbmUgcGVuZGluZyBmb3IgYSBsYW5ndWFnZSB0aGF0IGNvbWVzIGZyb21cbiAgICAgICAgICAgIC8vIHN0b3JhZ2UuXG4gICAgICAgICAgICB2YXIgbGFuZ0tleSA9IFN0b3JhZ2UuZ2V0KCRzdG9yYWdlS2V5KTtcbiAgICAgICAgICAgIHByb21pc2UgPSBsYW5nUHJvbWlzZXNbbGFuZ0tleV07XG5cbiAgICAgICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBpbmRleE9mKCRmYWxsYmFja0xhbmd1YWdlLCBsYW5nS2V5KTtcbiAgICAgICAgICAgICAgICAvLyBtYXliZSB0aGUgbGFuZ3VhZ2UgZnJvbSBzdG9yYWdlIGlzIGFsc28gZGVmaW5lZCBhcyBmYWxsYmFjayBsYW5ndWFnZVxuICAgICAgICAgICAgICAgIC8vIHdlIGluY3JlYXNlIHRoZSBmYWxsYmFjayBsYW5ndWFnZSBpbmRleCB0byBub3Qgc2VhcmNoIGluIHRoYXQgbGFuZ3VhZ2VcbiAgICAgICAgICAgICAgICAvLyBhcyBmYWxsYmFjaywgc2luY2UgaXQncyBwcm9iYWJseSB0aGUgZmlyc3QgdXNlZCBsYW5ndWFnZVxuICAgICAgICAgICAgICAgIC8vIGluIHRoYXQgY2FzZSB0aGUgaW5kZXggc3RhcnRzIGFmdGVyIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgZmFsbGJhY2tJbmRleCA9IChpbmRleCA9PT0gMCkgPyAxIDogMDtcblxuICAgICAgICAgICAgICAgIC8vIGJ1dCB3ZSBjYW4gbWFrZSBzdXJlIHRvIEFMV0FZUyBmYWxsYmFjayB0byBwcmVmZXJyZWQgbGFuZ3VhZ2UgYXQgbGVhc3RcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXhPZigkZmFsbGJhY2tMYW5ndWFnZSwgJHByZWZlcnJlZExhbmd1YWdlKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICRmYWxsYmFja0xhbmd1YWdlLnB1c2goJHByZWZlcnJlZExhbmd1YWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9KCkpO1xuXG4gICAgICAgIGlmICghcHJvbWlzZVRvV2FpdEZvcikge1xuICAgICAgICAgIC8vIG5vIHByb21pc2UgdG8gd2FpdCBmb3I/IG9rYXkuIFRoZW4gdGhlcmUncyBubyBsb2FkZXIgcmVnaXN0ZXJlZFxuICAgICAgICAgIC8vIG5vciBpcyBhIG9uZSBwZW5kaW5nIGZvciBsYW5ndWFnZSB0aGF0IGNvbWVzIGZyb20gc3RvcmFnZS5cbiAgICAgICAgICAvLyBXZSBjYW4ganVzdCB0cmFuc2xhdGUuXG4gICAgICAgICAgZGV0ZXJtaW5lVHJhbnNsYXRpb24odHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCkudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb21pc2VUb1dhaXRGb3IudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXRlcm1pbmVUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKS50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgICAgfSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgYXBwbHlOb3RGb3VuZEluZGljYXRvcnNcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBBcHBsaWVzIG5vdCBmb3VudCBpbmRpY2F0b3JzIHRvIGdpdmVuIHRyYW5zbGF0aW9uIGlkLCBpZiBuZWVkZWQuXG4gICAgICAgKiBUaGlzIGZ1bmN0aW9uIGdldHMgb25seSBleGVjdXRlZCwgaWYgYSB0cmFuc2xhdGlvbiBpZCBkb2Vzbid0IGV4aXN0LFxuICAgICAgICogd2hpY2ggaXMgd2h5IGEgdHJhbnNsYXRpb24gaWQgaXMgZXhwZWN0ZWQgYXMgYXJndW1lbnQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zbGF0aW9uSWQgVHJhbnNsYXRpb24gaWQuXG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBTYW1lIGFzIGdpdmVuIHRyYW5zbGF0aW9uIGlkIGJ1dCBhcHBsaWVkIHdpdGggbm90IGZvdW5kXG4gICAgICAgKiBpbmRpY2F0b3JzLlxuICAgICAgICovXG4gICAgICB2YXIgYXBwbHlOb3RGb3VuZEluZGljYXRvcnMgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAvLyBhcHBseWluZyBub3RGb3VuZEluZGljYXRvcnNcbiAgICAgICAgaWYgKCRub3RGb3VuZEluZGljYXRvckxlZnQpIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbklkID0gWyRub3RGb3VuZEluZGljYXRvckxlZnQsIHRyYW5zbGF0aW9uSWRdLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQpIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbklkID0gW3RyYW5zbGF0aW9uSWQsICRub3RGb3VuZEluZGljYXRvclJpZ2h0XS5qb2luKCcgJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uSWQ7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIHVzZUxhbmd1YWdlXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogTWFrZXMgYWN0dWFsIHVzZSBvZiBhIGxhbmd1YWdlIGJ5IHNldHRpbmcgYSBnaXZlbiBsYW5ndWFnZSBrZXkgYXMgdXNlZFxuICAgICAgICogbGFuZ3VhZ2UgYW5kIGluZm9ybXMgcmVnaXN0ZXJlZCBpbnRlcnBvbGF0b3JzIHRvIGFsc28gdXNlIHRoZSBnaXZlblxuICAgICAgICoga2V5IGFzIGxvY2FsZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2tleX0gTG9jYWxlIGtleS5cbiAgICAgICAqL1xuICAgICAgdmFyIHVzZUxhbmd1YWdlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAkdXNlcyA9IGtleTtcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZVN1Y2Nlc3MnLCB7bGFuZ3VhZ2U6IGtleX0pO1xuXG4gICAgICAgIGlmICgkc3RvcmFnZUZhY3RvcnkpIHtcbiAgICAgICAgICBTdG9yYWdlLnB1dCgkdHJhbnNsYXRlLnN0b3JhZ2VLZXkoKSwgJHVzZXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluZm9ybSBkZWZhdWx0IGludGVycG9sYXRvclxuICAgICAgICBkZWZhdWx0SW50ZXJwb2xhdG9yLnNldExvY2FsZSgkdXNlcyk7XG4gICAgICAgIC8vIGluZm9ybSBhbGwgb3RoZXJzIHRvbyFcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKGludGVycG9sYXRvckhhc2hNYXAsIGZ1bmN0aW9uIChpbnRlcnBvbGF0b3IsIGlkKSB7XG4gICAgICAgICAgaW50ZXJwb2xhdG9ySGFzaE1hcFtpZF0uc2V0TG9jYWxlKCR1c2VzKTtcbiAgICAgICAgfSk7XG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VFbmQnLCB7bGFuZ3VhZ2U6IGtleX0pO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSBsb2FkQXN5bmNcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBLaWNrcyBvZiByZWdpc3RlcmVkIGFzeW5jIGxvYWRlciB1c2luZyBgJGluamVjdG9yYCBhbmQgYXBwbGllcyBleGlzdGluZ1xuICAgICAgICogbG9hZGVyIG9wdGlvbnMuIFdoZW4gcmVzb2x2ZWQsIGl0IHVwZGF0ZXMgdHJhbnNsYXRpb24gdGFibGVzIGFjY29yZGluZ2x5XG4gICAgICAgKiBvciByZWplY3RzIHdpdGggZ2l2ZW4gbGFuZ3VhZ2Uga2V5LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgTGFuZ3VhZ2Uga2V5LlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlLlxuICAgICAgICovXG4gICAgICB2YXIgbG9hZEFzeW5jID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgIHRocm93ICdObyBsYW5ndWFnZSBrZXkgc3BlY2lmaWVkIGZvciBsb2FkaW5nLic7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nU3RhcnQnLCB7bGFuZ3VhZ2U6IGtleX0pO1xuICAgICAgICBwZW5kaW5nTG9hZGVyID0gdHJ1ZTtcblxuICAgICAgICB2YXIgY2FjaGUgPSBsb2FkZXJDYWNoZTtcbiAgICAgICAgaWYgKHR5cGVvZihjYWNoZSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgLy8gZ2V0dGluZyBvbi1kZW1hbmQgaW5zdGFuY2Ugb2YgbG9hZGVyXG4gICAgICAgICAgY2FjaGUgPSAkaW5qZWN0b3IuZ2V0KGNhY2hlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsb2FkZXJPcHRpb25zID0gYW5ndWxhci5leHRlbmQoe30sICRsb2FkZXJPcHRpb25zLCB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgJGh0dHA6IGFuZ3VsYXIuZXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICBjYWNoZTogY2FjaGVcbiAgICAgICAgICB9LCAkbG9hZGVyT3B0aW9ucy4kaHR0cClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGluamVjdG9yLmdldCgkbG9hZGVyRmFjdG9yeSkobG9hZGVyT3B0aW9ucykudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIHZhciB0cmFuc2xhdGlvblRhYmxlID0ge307XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdTdWNjZXNzJywge2xhbmd1YWdlOiBrZXl9KTtcblxuICAgICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChkYXRhLCBmdW5jdGlvbiAodGFibGUpIHtcbiAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQodHJhbnNsYXRpb25UYWJsZSwgZmxhdE9iamVjdCh0YWJsZSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHRyYW5zbGF0aW9uVGFibGUsIGZsYXRPYmplY3QoZGF0YSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwZW5kaW5nTG9hZGVyID0gZmFsc2U7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh7XG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIHRhYmxlOiB0cmFuc2xhdGlvblRhYmxlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdFbmQnLCB7bGFuZ3VhZ2U6IGtleX0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdFcnJvcicsIHtsYW5ndWFnZToga2V5fSk7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGtleSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdFbmQnLCB7bGFuZ3VhZ2U6IGtleX0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICBpZiAoJHN0b3JhZ2VGYWN0b3J5KSB7XG4gICAgICAgIFN0b3JhZ2UgPSAkaW5qZWN0b3IuZ2V0KCRzdG9yYWdlRmFjdG9yeSk7XG5cbiAgICAgICAgaWYgKCFTdG9yYWdlLmdldCB8fCAhU3RvcmFnZS5wdXQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkblxcJ3QgdXNlIHN0b3JhZ2UgXFwnJyArICRzdG9yYWdlRmFjdG9yeSArICdcXCcsIG1pc3NpbmcgZ2V0KCkgb3IgcHV0KCkgbWV0aG9kIScpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGFwcGx5IGFkZGl0aW9uYWwgc2V0dGluZ3NcbiAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oZGVmYXVsdEludGVycG9sYXRvci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kpKSB7XG4gICAgICAgIGRlZmF1bHRJbnRlcnBvbGF0b3IudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5KCRpbnRlcnBvbGF0aW9uU2FuaXRpemF0aW9uU3RyYXRlZ3kpO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiB3ZSBoYXZlIGFkZGl0aW9uYWwgaW50ZXJwb2xhdGlvbnMgdGhhdCB3ZXJlIGFkZGVkIHZpYVxuICAgICAgLy8gJHRyYW5zbGF0ZVByb3ZpZGVyLmFkZEludGVycG9sYXRpb24oKSwgd2UgaGF2ZSB0byBtYXAnZW1cbiAgICAgIGlmICgkaW50ZXJwb2xhdG9yRmFjdG9yaWVzLmxlbmd0aCkge1xuICAgICAgICBhbmd1bGFyLmZvckVhY2goJGludGVycG9sYXRvckZhY3RvcmllcywgZnVuY3Rpb24gKGludGVycG9sYXRvckZhY3RvcnkpIHtcbiAgICAgICAgICB2YXIgaW50ZXJwb2xhdG9yID0gJGluamVjdG9yLmdldChpbnRlcnBvbGF0b3JGYWN0b3J5KTtcbiAgICAgICAgICAvLyBzZXR0aW5nIGluaXRpYWwgbG9jYWxlIGZvciBlYWNoIGludGVycG9sYXRpb24gc2VydmljZVxuICAgICAgICAgIGludGVycG9sYXRvci5zZXRMb2NhbGUoJHByZWZlcnJlZExhbmd1YWdlIHx8ICR1c2VzKTtcbiAgICAgICAgICAvLyBhcHBseSBhZGRpdGlvbmFsIHNldHRpbmdzXG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihpbnRlcnBvbGF0b3IudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5KSkge1xuICAgICAgICAgICAgaW50ZXJwb2xhdG9yLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSgkaW50ZXJwb2xhdGlvblNhbml0aXphdGlvblN0cmF0ZWd5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gbWFrZSdlbSByZWNvZ25pemFibGUgdGhyb3VnaCBpZFxuICAgICAgICAgIGludGVycG9sYXRvckhhc2hNYXBbaW50ZXJwb2xhdG9yLmdldEludGVycG9sYXRpb25JZGVudGlmaWVyKCldID0gaW50ZXJwb2xhdG9yO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSBnZXRUcmFuc2xhdGlvblRhYmxlXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgdHJhbnNsYXRpb24gdGFibGVcbiAgICAgICAqIG9yIGlzIHJlamVjdGVkIGlmIGFuIGVycm9yIG9jY3VycmVkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBsYW5nS2V5XG4gICAgICAgKiBAcmV0dXJucyB7US5wcm9taXNlfVxuICAgICAgICovXG4gICAgICB2YXIgZ2V0VHJhbnNsYXRpb25UYWJsZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoJHRyYW5zbGF0aW9uVGFibGUsIGxhbmdLZXkpKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSk7XG4gICAgICAgIH0gZWxzZSBpZiAobGFuZ1Byb21pc2VzW2xhbmdLZXldKSB7XG4gICAgICAgICAgbGFuZ1Byb21pc2VzW2xhbmdLZXldLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9ucyhkYXRhLmtleSwgZGF0YS50YWJsZSk7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEudGFibGUpO1xuICAgICAgICAgIH0sIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIGdldEZhbGxiYWNrVHJhbnNsYXRpb25cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSB0byB0aGUgdHJhbnNsYXRpb25cbiAgICAgICAqIG9yIGJlIHJlamVjdGVkIGlmIG5vIHRyYW5zbGF0aW9uIHdhcyBmb3VuZCBmb3IgdGhlIGxhbmd1YWdlLlxuICAgICAgICogVGhpcyBmdW5jdGlvbiBpcyBjdXJyZW50bHkgb25seSB1c2VkIGZvciBmYWxsYmFjayBsYW5ndWFnZSB0cmFuc2xhdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gbGFuZ0tleSBUaGUgbGFuZ3VhZ2UgdG8gdHJhbnNsYXRlIHRvLlxuICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAgICogQHJldHVybnMge1EucHJvbWlzZX1cbiAgICAgICAqL1xuICAgICAgdmFyIGdldEZhbGxiYWNrVHJhbnNsYXRpb24gPSBmdW5jdGlvbiAobGFuZ0tleSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIGdldFRyYW5zbGF0aW9uVGFibGUobGFuZ0tleSkudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb25UYWJsZSkge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodHJhbnNsYXRpb25UYWJsZSwgdHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICAgIEludGVycG9sYXRvci5zZXRMb2NhbGUobGFuZ0tleSk7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvblRhYmxlW3RyYW5zbGF0aW9uSWRdLCBpbnRlcnBvbGF0ZVBhcmFtcykpO1xuICAgICAgICAgICAgSW50ZXJwb2xhdG9yLnNldExvY2FsZSgkdXNlcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgZGVmZXJyZWQucmVqZWN0KTtcblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnRcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIGEgdHJhbnNsYXRpb25cbiAgICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY3VycmVudGx5IG9ubHkgdXNlZCBmb3IgZmFsbGJhY2sgbGFuZ3VhZ2UgdHJhbnNsYXRpb24uXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIGxhbmdLZXkgVGhlIGxhbmd1YWdlIHRvIHRyYW5zbGF0ZSB0by5cbiAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRyYW5zbGF0aW9uXG4gICAgICAgKi9cbiAgICAgIHZhciBnZXRGYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudCA9IGZ1bmN0aW9uIChsYW5nS2V5LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKSB7XG4gICAgICAgIHZhciByZXN1bHQsIHRyYW5zbGF0aW9uVGFibGUgPSAkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XTtcblxuICAgICAgICBpZiAodHJhbnNsYXRpb25UYWJsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodHJhbnNsYXRpb25UYWJsZSwgdHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICBJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKGxhbmdLZXkpO1xuICAgICAgICAgIHJlc3VsdCA9IEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvblRhYmxlW3RyYW5zbGF0aW9uSWRdLCBpbnRlcnBvbGF0ZVBhcmFtcyk7XG4gICAgICAgICAgSW50ZXJwb2xhdG9yLnNldExvY2FsZSgkdXNlcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIHRyYW5zbGF0ZUJ5SGFuZGxlclxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBUcmFuc2xhdGUgYnkgbWlzc2luZyB0cmFuc2xhdGlvbiBoYW5kbGVyLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICAgKiBAcmV0dXJucyB0cmFuc2xhdGlvbiBjcmVhdGVkIGJ5ICRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyIG9yIHRyYW5zbGF0aW9uSWQgaXMgJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIgaXNcbiAgICAgICAqIGFic2VudFxuICAgICAgICovXG4gICAgICB2YXIgdHJhbnNsYXRlQnlIYW5kbGVyID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIGhhbmRsZXIgZmFjdG9yeSAtIHdlIG1pZ2h0IGFsc28gY2FsbCBpdCBoZXJlIHRvIGRldGVybWluZSBpZiBpdCBwcm92aWRlc1xuICAgICAgICAvLyBhIGRlZmF1bHQgdGV4dCBmb3IgYSB0cmFuc2xhdGlvbmlkIHRoYXQgY2FuJ3QgYmUgZm91bmQgYW55d2hlcmUgaW4gb3VyIHRhYmxlc1xuICAgICAgICBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5KSB7XG4gICAgICAgICAgdmFyIHJlc3VsdFN0cmluZyA9ICRpbmplY3Rvci5nZXQoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5KSh0cmFuc2xhdGlvbklkLCAkdXNlcyk7XG4gICAgICAgICAgaWYgKHJlc3VsdFN0cmluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0U3RyaW5nO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uSWQ7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogUmVjdXJzaXZlIGhlbHBlciBmdW5jdGlvbiBmb3IgZmFsbGJhY2tUcmFuc2xhdGlvbiB0aGF0IHdpbGwgc2VxdWVudGlhbGx5IGxvb2tcbiAgICAgICAqIGZvciBhIHRyYW5zbGF0aW9uIGluIHRoZSBmYWxsYmFja0xhbmd1YWdlcyBzdGFydGluZyB3aXRoIGZhbGxiYWNrTGFuZ3VhZ2VJbmRleC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gZmFsbGJhY2tMYW5ndWFnZUluZGV4XG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICAgKiBAcmV0dXJucyB7US5wcm9taXNlfSBQcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIHRvIHRoZSB0cmFuc2xhdGlvbi5cbiAgICAgICAqL1xuICAgICAgdmFyIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlID0gZnVuY3Rpb24gKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIGlmIChmYWxsYmFja0xhbmd1YWdlSW5kZXggPCAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgbGFuZ0tleSA9ICRmYWxsYmFja0xhbmd1YWdlW2ZhbGxiYWNrTGFuZ3VhZ2VJbmRleF07XG4gICAgICAgICAgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbihsYW5nS2V5LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKS50aGVuKFxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgLy8gTG9vayBpbiB0aGUgbmV4dCBmYWxsYmFjayBsYW5ndWFnZSBmb3IgYSB0cmFuc2xhdGlvbi5cbiAgICAgICAgICAgICAgLy8gSXQgZGVsYXlzIHRoZSByZXNvbHZpbmcgYnkgcGFzc2luZyBhbm90aGVyIHByb21pc2UgdG8gcmVzb2x2ZS5cbiAgICAgICAgICAgICAgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UoZmFsbGJhY2tMYW5ndWFnZUluZGV4ICsgMSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikudGhlbihkZWZlcnJlZC5yZXNvbHZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE5vIHRyYW5zbGF0aW9uIGZvdW5kIGluIGFueSBmYWxsYmFjayBsYW5ndWFnZVxuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJhbnNsYXRlQnlIYW5kbGVyKHRyYW5zbGF0aW9uSWQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIFJlY3Vyc2l2ZSBoZWxwZXIgZnVuY3Rpb24gZm9yIGZhbGxiYWNrVHJhbnNsYXRpb24gdGhhdCB3aWxsIHNlcXVlbnRpYWxseSBsb29rXG4gICAgICAgKiBmb3IgYSB0cmFuc2xhdGlvbiBpbiB0aGUgZmFsbGJhY2tMYW5ndWFnZXMgc3RhcnRpbmcgd2l0aCBmYWxsYmFja0xhbmd1YWdlSW5kZXguXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIGZhbGxiYWNrTGFuZ3VhZ2VJbmRleFxuICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAgICogQHJldHVybnMge3N0cmluZ30gdHJhbnNsYXRpb25cbiAgICAgICAqL1xuICAgICAgdmFyIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlSW5zdGFudCA9IGZ1bmN0aW9uIChmYWxsYmFja0xhbmd1YWdlSW5kZXgsIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgICBpZiAoZmFsbGJhY2tMYW5ndWFnZUluZGV4IDwgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGxhbmdLZXkgPSAkZmFsbGJhY2tMYW5ndWFnZVtmYWxsYmFja0xhbmd1YWdlSW5kZXhdO1xuICAgICAgICAgIHJlc3VsdCA9IGdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50KGxhbmdLZXksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpO1xuICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnQoZmFsbGJhY2tMYW5ndWFnZUluZGV4ICsgMSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zbGF0ZXMgd2l0aCB0aGUgdXNhZ2Ugb2YgdGhlIGZhbGxiYWNrIGxhbmd1YWdlcy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICAgKiBAcmV0dXJucyB7US5wcm9taXNlfSBQcm9taXNlLCB0aGF0IHJlc29sdmVzIHRvIHRoZSB0cmFuc2xhdGlvbi5cbiAgICAgICAqL1xuICAgICAgdmFyIGZhbGxiYWNrVHJhbnNsYXRpb24gPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikge1xuICAgICAgICAvLyBTdGFydCB3aXRoIHRoZSBmYWxsYmFja0xhbmd1YWdlIHdpdGggaW5kZXggMFxuICAgICAgICByZXR1cm4gcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UoKHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24+MCA/IHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gOiBmYWxsYmFja0luZGV4KSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcik7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zbGF0ZXMgd2l0aCB0aGUgdXNhZ2Ugb2YgdGhlIGZhbGxiYWNrIGxhbmd1YWdlcy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB0cmFuc2xhdGlvblxuICAgICAgICovXG4gICAgICB2YXIgZmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikge1xuICAgICAgICAvLyBTdGFydCB3aXRoIHRoZSBmYWxsYmFja0xhbmd1YWdlIHdpdGggaW5kZXggMFxuICAgICAgICByZXR1cm4gcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50KChzdGFydEZhbGxiYWNrSXRlcmF0aW9uPjAgPyBzdGFydEZhbGxiYWNrSXRlcmF0aW9uIDogZmFsbGJhY2tJbmRleCksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGRldGVybWluZVRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpIHtcblxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIHZhciB0YWJsZSA9ICR1c2VzID8gJHRyYW5zbGF0aW9uVGFibGVbJHVzZXNdIDogJHRyYW5zbGF0aW9uVGFibGUsXG4gICAgICAgICAgICBJbnRlcnBvbGF0b3IgPSAoaW50ZXJwb2xhdGlvbklkKSA/IGludGVycG9sYXRvckhhc2hNYXBbaW50ZXJwb2xhdGlvbklkXSA6IGRlZmF1bHRJbnRlcnBvbGF0b3I7XG5cbiAgICAgICAgLy8gaWYgdGhlIHRyYW5zbGF0aW9uIGlkIGV4aXN0cywgd2UgY2FuIGp1c3QgaW50ZXJwb2xhdGUgaXRcbiAgICAgICAgaWYgKHRhYmxlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YWJsZSwgdHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSB0YWJsZVt0cmFuc2xhdGlvbklkXTtcblxuICAgICAgICAgIC8vIElmIHVzaW5nIGxpbmssIHJlcnVuICR0cmFuc2xhdGUgd2l0aCBsaW5rZWQgdHJhbnNsYXRpb25JZCBhbmQgcmV0dXJuIGl0XG4gICAgICAgICAgaWYgKHRyYW5zbGF0aW9uLnN1YnN0cigwLCAyKSA9PT0gJ0A6Jykge1xuXG4gICAgICAgICAgICAkdHJhbnNsYXRlKHRyYW5zbGF0aW9uLnN1YnN0cigyKSwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZClcbiAgICAgICAgICAgICAgLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb24sIGludGVycG9sYXRlUGFyYW1zKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb247XG4gICAgICAgICAgLy8gZm9yIGxvZ2dpbmcgcHVycG9zZXMgb25seSAoYXMgaW4gJHRyYW5zbGF0ZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2cpLCB2YWx1ZSBpcyBub3QgcmV0dXJuZWQgdG8gcHJvbWlzZVxuICAgICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIpIHtcbiAgICAgICAgICAgIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbiA9IHRyYW5zbGF0ZUJ5SGFuZGxlcih0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBzaW5jZSB3ZSBjb3VsZG4ndCB0cmFuc2xhdGUgdGhlIGluaXRhbCByZXF1ZXN0ZWQgdHJhbnNsYXRpb24gaWQsXG4gICAgICAgICAgLy8gd2UgdHJ5IGl0IG5vdyB3aXRoIG9uZSBvciBtb3JlIGZhbGxiYWNrIGxhbmd1YWdlcywgaWYgZmFsbGJhY2sgbGFuZ3VhZ2UocykgaXNcbiAgICAgICAgICAvLyBjb25maWd1cmVkLlxuICAgICAgICAgIGlmICgkdXNlcyAmJiAkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZhbGxiYWNrVHJhbnNsYXRpb24odHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcilcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJhbnNsYXRpb24pO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChfdHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzKF90cmFuc2xhdGlvbklkKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIgJiYgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICAvLyBsb29rcyBsaWtlIHRoZSByZXF1ZXN0ZWQgdHJhbnNsYXRpb24gaWQgZG9lc24ndCBleGlzdHMuXG4gICAgICAgICAgICAvLyBOb3csIGlmIHRoZXJlIGlzIGEgcmVnaXN0ZXJlZCBoYW5kbGVyIGZvciBtaXNzaW5nIHRyYW5zbGF0aW9ucyBhbmQgbm9cbiAgICAgICAgICAgIC8vIGFzeW5jTG9hZGVyIGlzIHBlbmRpbmcsIHdlIGV4ZWN1dGUgdGhlIGhhbmRsZXJcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUobWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzKHRyYW5zbGF0aW9uSWQpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZGV0ZXJtaW5lVHJhbnNsYXRpb25JbnN0YW50ID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpIHtcblxuICAgICAgICB2YXIgcmVzdWx0LCB0YWJsZSA9ICR1c2VzID8gJHRyYW5zbGF0aW9uVGFibGVbJHVzZXNdIDogJHRyYW5zbGF0aW9uVGFibGUsXG4gICAgICAgICAgICBJbnRlcnBvbGF0b3IgPSAoaW50ZXJwb2xhdGlvbklkKSA/IGludGVycG9sYXRvckhhc2hNYXBbaW50ZXJwb2xhdGlvbklkXSA6IGRlZmF1bHRJbnRlcnBvbGF0b3I7XG5cbiAgICAgICAgLy8gaWYgdGhlIHRyYW5zbGF0aW9uIGlkIGV4aXN0cywgd2UgY2FuIGp1c3QgaW50ZXJwb2xhdGUgaXRcbiAgICAgICAgaWYgKHRhYmxlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YWJsZSwgdHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSB0YWJsZVt0cmFuc2xhdGlvbklkXTtcblxuICAgICAgICAgIC8vIElmIHVzaW5nIGxpbmssIHJlcnVuICR0cmFuc2xhdGUgd2l0aCBsaW5rZWQgdHJhbnNsYXRpb25JZCBhbmQgcmV0dXJuIGl0XG4gICAgICAgICAgaWYgKHRyYW5zbGF0aW9uLnN1YnN0cigwLCAyKSA9PT0gJ0A6Jykge1xuICAgICAgICAgICAgcmVzdWx0ID0gZGV0ZXJtaW5lVHJhbnNsYXRpb25JbnN0YW50KHRyYW5zbGF0aW9uLnN1YnN0cigyKSwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvbiwgaW50ZXJwb2xhdGVQYXJhbXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uO1xuICAgICAgICAgIC8vIGZvciBsb2dnaW5nIHB1cnBvc2VzIG9ubHkgKGFzIGluICR0cmFuc2xhdGVNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nKSwgdmFsdWUgaXMgbm90IHJldHVybmVkIHRvIHByb21pc2VcbiAgICAgICAgICBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyKSB7XG4gICAgICAgICAgICBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24gPSB0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gc2luY2Ugd2UgY291bGRuJ3QgdHJhbnNsYXRlIHRoZSBpbml0YWwgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkLFxuICAgICAgICAgIC8vIHdlIHRyeSBpdCBub3cgd2l0aCBvbmUgb3IgbW9yZSBmYWxsYmFjayBsYW5ndWFnZXMsIGlmIGZhbGxiYWNrIGxhbmd1YWdlKHMpIGlzXG4gICAgICAgICAgLy8gY29uZmlndXJlZC5cbiAgICAgICAgICBpZiAoJHVzZXMgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICBmYWxsYmFja0luZGV4ID0gMDtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50KHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyICYmIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbikge1xuICAgICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGUgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkIGRvZXNuJ3QgZXhpc3RzLlxuICAgICAgICAgICAgLy8gTm93LCBpZiB0aGVyZSBpcyBhIHJlZ2lzdGVyZWQgaGFuZGxlciBmb3IgbWlzc2luZyB0cmFuc2xhdGlvbnMgYW5kIG5vXG4gICAgICAgICAgICAvLyBhc3luY0xvYWRlciBpcyBwZW5kaW5nLCB3ZSBleGVjdXRlIHRoZSBoYW5kbGVyXG4gICAgICAgICAgICByZXN1bHQgPSBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb247XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzKHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3ByZWZlcnJlZExhbmd1YWdlXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHRoZSBsYW5ndWFnZSBrZXkgZm9yIHRoZSBwcmVmZXJyZWQgbGFuZ3VhZ2UuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgbGFuZ3VhZ2UgU3RyaW5nIG9yIEFycmF5IHRvIGJlIHVzZWQgYXMgcHJlZmVycmVkTGFuZ3VhZ2UgKGNoYW5naW5nIGF0IHJ1bnRpbWUpXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBwcmVmZXJyZWQgbGFuZ3VhZ2Uga2V5XG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUucHJlZmVycmVkTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgICBpZihsYW5nS2V5KSB7XG4gICAgICAgICAgc2V0dXBQcmVmZXJyZWRMYW5ndWFnZShsYW5nS2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJHByZWZlcnJlZExhbmd1YWdlO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNjbG9ha0NsYXNzTmFtZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB0aGUgY29uZmlndXJlZCBjbGFzcyBuYW1lIGZvciBgdHJhbnNsYXRlLWNsb2FrYCBkaXJlY3RpdmUuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBjbG9ha0NsYXNzTmFtZVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLmNsb2FrQ2xhc3NOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJGNsb2FrQ2xhc3NOYW1lO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNmYWxsYmFja0xhbmd1YWdlXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHRoZSBsYW5ndWFnZSBrZXkgZm9yIHRoZSBmYWxsYmFjayBsYW5ndWFnZXMgb3Igc2V0cyBhIG5ldyBmYWxsYmFjayBzdGFjay5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZz19IGxhbmdLZXkgbGFuZ3VhZ2UgU3RyaW5nIG9yIEFycmF5IG9mIGZhbGxiYWNrIGxhbmd1YWdlcyB0byBiZSB1c2VkICh0byBjaGFuZ2Ugc3RhY2sgYXQgcnVudGltZSlcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd8fGFycmF5fSBmYWxsYmFjayBsYW5ndWFnZSBrZXlcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5mYWxsYmFja0xhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgICAgaWYgKGxhbmdLZXkgIT09IHVuZGVmaW5lZCAmJiBsYW5nS2V5ICE9PSBudWxsKSB7XG4gICAgICAgICAgZmFsbGJhY2tTdGFjayhsYW5nS2V5KTtcblxuICAgICAgICAgIC8vIGFzIHdlIG1pZ2h0IGhhdmUgYW4gYXN5bmMgbG9hZGVyIGluaXRpYXRlZCBhbmQgYSBuZXcgdHJhbnNsYXRpb24gbGFuZ3VhZ2UgbWlnaHQgaGF2ZSBiZWVuIGRlZmluZWRcbiAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGFkZCB0aGUgcHJvbWlzZSB0byB0aGUgc3RhY2sgYWxzby4gU28gLSBpdGVyYXRlLlxuICAgICAgICAgIGlmICgkbG9hZGVyRmFjdG9yeSkge1xuICAgICAgICAgICAgaWYgKCRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIWxhbmdQcm9taXNlc1skZmFsbGJhY2tMYW5ndWFnZVtpXV0pIHtcbiAgICAgICAgICAgICAgICAgIGxhbmdQcm9taXNlc1skZmFsbGJhY2tMYW5ndWFnZVtpXV0gPSBsb2FkQXN5bmMoJGZhbGxiYWNrTGFuZ3VhZ2VbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAkdHJhbnNsYXRlLnVzZSgkdHJhbnNsYXRlLnVzZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJGZhbGxiYWNrV2FzU3RyaW5nKSB7XG4gICAgICAgICAgcmV0dXJuICRmYWxsYmFja0xhbmd1YWdlWzBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiAkZmFsbGJhY2tMYW5ndWFnZTtcbiAgICAgICAgfVxuXG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3VzZUZhbGxiYWNrTGFuZ3VhZ2VcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFNldHMgdGhlIGZpcnN0IGtleSBvZiB0aGUgZmFsbGJhY2sgbGFuZ3VhZ2Ugc3RhY2sgdG8gYmUgdXNlZCBmb3IgdHJhbnNsYXRpb24uXG4gICAgICAgKiBUaGVyZWZvcmUgYWxsIGxhbmd1YWdlcyBpbiB0aGUgZmFsbGJhY2sgYXJyYXkgQkVGT1JFIHRoaXMga2V5IHdpbGwgYmUgc2tpcHBlZCFcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZz19IGxhbmdLZXkgQ29udGFpbnMgdGhlIGxhbmdLZXkgdGhlIGl0ZXJhdGlvbiBzaGFsbCBzdGFydCB3aXRoLiBTZXQgdG8gZmFsc2UgaWYgeW91IHdhbnQgdG9cbiAgICAgICAqIGdldCBiYWNrIHRvIHRoZSB3aG9sZSBzdGFja1xuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLnVzZUZhbGxiYWNrTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgICBpZiAobGFuZ0tleSAhPT0gdW5kZWZpbmVkICYmIGxhbmdLZXkgIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAoIWxhbmdLZXkpIHtcbiAgICAgICAgICAgIHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gPSAwO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbGFuZ0tleVBvc2l0aW9uID0gaW5kZXhPZigkZmFsbGJhY2tMYW5ndWFnZSwgbGFuZ0tleSk7XG4gICAgICAgICAgICBpZiAobGFuZ0tleVBvc2l0aW9uID4gLTEpIHtcbiAgICAgICAgICAgICAgc3RhcnRGYWxsYmFja0l0ZXJhdGlvbiA9IGxhbmdLZXlQb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3Byb3Bvc2VkTGFuZ3VhZ2VcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgdGhlIGxhbmd1YWdlIGtleSBvZiBsYW5ndWFnZSB0aGF0IGlzIGN1cnJlbnRseSBsb2FkZWQgYXN5bmNocm9ub3VzbHkuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBsYW5ndWFnZSBrZXlcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5wcm9wb3NlZExhbmd1YWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJG5leHRMYW5nO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNzdG9yYWdlXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHJlZ2lzdGVyZWQgc3RvcmFnZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFN0b3JhZ2VcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5zdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gU3RvcmFnZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjdXNlXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB3aGljaCBsYW5ndWFnZSB0byB1c2UgYnkgZ2l2ZW4gbGFuZ3VhZ2Uga2V5LiBUaGlzIG1ldGhvZCBpc1xuICAgICAgICogdXNlZCB0byBjaGFuZ2UgbGFuZ3VhZ2UgYXQgcnVudGltZS4gSXQgYWxzbyB0YWtlcyBjYXJlIG9mIHN0b3JpbmcgdGhlIGxhbmd1YWdlXG4gICAgICAgKiBrZXkgaW4gYSBjb25maWd1cmVkIHN0b3JlIHRvIGxldCB5b3VyIGFwcCByZW1lbWJlciB0aGUgY2hvb3NlZCBsYW5ndWFnZS5cbiAgICAgICAqXG4gICAgICAgKiBXaGVuIHRyeWluZyB0byAndXNlJyBhIGxhbmd1YWdlIHdoaWNoIGlzbid0IGF2YWlsYWJsZSBpdCB0cmllcyB0byBsb2FkIGl0XG4gICAgICAgKiBhc3luY2hyb25vdXNseSB3aXRoIHJlZ2lzdGVyZWQgbG9hZGVycy5cbiAgICAgICAqXG4gICAgICAgKiBSZXR1cm5zIHByb21pc2Ugb2JqZWN0IHdpdGggbG9hZGVkIGxhbmd1YWdlIGZpbGUgZGF0YVxuICAgICAgICogQGV4YW1wbGVcbiAgICAgICAqICR0cmFuc2xhdGUudXNlKFwiZW5fVVNcIikudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICAgICAqICAgJHNjb3BlLnRleHQgPSAkdHJhbnNsYXRlKFwiSEVMTE9cIik7XG4gICAgICAgKiB9KTtcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IExhbmd1YWdlIGtleVxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBMYW5ndWFnZSBrZXlcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS51c2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgcmV0dXJuICR1c2VzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlU3RhcnQnLCB7bGFuZ3VhZ2U6IGtleX0pO1xuXG4gICAgICAgIC8vIFRyeSB0byBnZXQgdGhlIGFsaWFzZWQgbGFuZ3VhZ2Uga2V5XG4gICAgICAgIHZhciBhbGlhc2VkS2V5ID0gbmVnb3RpYXRlTG9jYWxlKGtleSk7XG4gICAgICAgIGlmIChhbGlhc2VkS2V5KSB7XG4gICAgICAgICAga2V5ID0gYWxpYXNlZEtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzbid0IGEgdHJhbnNsYXRpb24gdGFibGUgZm9yIHRoZSBsYW5ndWFnZSB3ZSd2ZSByZXF1ZXN0ZWQsXG4gICAgICAgIC8vIHdlIGxvYWQgaXQgYXN5bmNocm9ub3VzbHlcbiAgICAgICAgaWYgKCEkdHJhbnNsYXRpb25UYWJsZVtrZXldICYmICRsb2FkZXJGYWN0b3J5ICYmICFsYW5nUHJvbWlzZXNba2V5XSkge1xuICAgICAgICAgICRuZXh0TGFuZyA9IGtleTtcbiAgICAgICAgICBsYW5nUHJvbWlzZXNba2V5XSA9IGxvYWRBc3luYyhrZXkpLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbnModHJhbnNsYXRpb24ua2V5LCB0cmFuc2xhdGlvbi50YWJsZSk7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRyYW5zbGF0aW9uLmtleSk7XG5cbiAgICAgICAgICAgIHVzZUxhbmd1YWdlKHRyYW5zbGF0aW9uLmtleSk7XG4gICAgICAgICAgICBpZiAoJG5leHRMYW5nID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgJG5leHRMYW5nID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGlmICgkbmV4dExhbmcgPT09IGtleSkge1xuICAgICAgICAgICAgICAkbmV4dExhbmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlRXJyb3InLCB7bGFuZ3VhZ2U6IGtleX0pO1xuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGtleSk7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlRW5kJywge2xhbmd1YWdlOiBrZXl9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGtleSk7XG4gICAgICAgICAgdXNlTGFuZ3VhZ2Uoa2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNzdG9yYWdlS2V5XG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHRoZSBrZXkgZm9yIHRoZSBzdG9yYWdlLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gc3RvcmFnZSBrZXlcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5zdG9yYWdlS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3RvcmFnZUtleSgpO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNpc1Bvc3RDb21waWxpbmdFbmFibGVkXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHdoZXRoZXIgcG9zdCBjb21waWxpbmcgaXMgZW5hYmxlZCBvciBub3RcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtib29sfSBzdG9yYWdlIGtleVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLmlzUG9zdENvbXBpbGluZ0VuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkcG9zdENvbXBpbGluZ0VuYWJsZWQ7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3JlZnJlc2hcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJlZnJlc2hlcyBhIHRyYW5zbGF0aW9uIHRhYmxlIHBvaW50ZWQgYnkgdGhlIGdpdmVuIGxhbmdLZXkuIElmIGxhbmdLZXkgaXMgbm90IHNwZWNpZmllZCxcbiAgICAgICAqIHRoZSBtb2R1bGUgd2lsbCBkcm9wIGFsbCBleGlzdGVudCB0cmFuc2xhdGlvbiB0YWJsZXMgYW5kIGxvYWQgbmV3IHZlcnNpb24gb2YgdGhvc2Ugd2hpY2hcbiAgICAgICAqIGFyZSBjdXJyZW50bHkgaW4gdXNlLlxuICAgICAgICpcbiAgICAgICAqIFJlZnJlc2ggbWVhbnMgdGhhdCB0aGUgbW9kdWxlIHdpbGwgZHJvcCB0YXJnZXQgdHJhbnNsYXRpb24gdGFibGUgYW5kIHRyeSB0byBsb2FkIGl0IGFnYWluLlxuICAgICAgICpcbiAgICAgICAqIEluIGNhc2UgdGhlcmUgYXJlIG5vIGxvYWRlcnMgcmVnaXN0ZXJlZCB0aGUgcmVmcmVzaCgpIG1ldGhvZCB3aWxsIHRocm93IGFuIEVycm9yLlxuICAgICAgICpcbiAgICAgICAqIElmIHRoZSBtb2R1bGUgaXMgYWJsZSB0byByZWZyZXNoIHRyYW5zbGF0aW9uIHRhYmxlcyByZWZyZXNoKCkgbWV0aG9kIHdpbGwgYnJvYWRjYXN0XG4gICAgICAgKiAkdHJhbnNsYXRlUmVmcmVzaFN0YXJ0IGFuZCAkdHJhbnNsYXRlUmVmcmVzaEVuZCBldmVudHMuXG4gICAgICAgKlxuICAgICAgICogQGV4YW1wbGVcbiAgICAgICAqIC8vIHRoaXMgd2lsbCBkcm9wIGFsbCBjdXJyZW50bHkgZXhpc3RlbnQgdHJhbnNsYXRpb24gdGFibGVzIGFuZCByZWxvYWQgdGhvc2Ugd2hpY2ggYXJlXG4gICAgICAgKiAvLyBjdXJyZW50bHkgaW4gdXNlXG4gICAgICAgKiAkdHJhbnNsYXRlLnJlZnJlc2goKTtcbiAgICAgICAqIC8vIHRoaXMgd2lsbCByZWZyZXNoIGEgdHJhbnNsYXRpb24gdGFibGUgZm9yIHRoZSBlbl9VUyBsYW5ndWFnZVxuICAgICAgICogJHRyYW5zbGF0ZS5yZWZyZXNoKCdlbl9VUycpO1xuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nS2V5IEEgbGFuZ3VhZ2Uga2V5IG9mIHRoZSB0YWJsZSwgd2hpY2ggaGFzIHRvIGJlIHJlZnJlc2hlZFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3Byb21pc2V9IFByb21pc2UsIHdoaWNoIHdpbGwgYmUgcmVzb2x2ZWQgaW4gY2FzZSBhIHRyYW5zbGF0aW9uIHRhYmxlcyByZWZyZXNoaW5nXG4gICAgICAgKiBwcm9jZXNzIGlzIGZpbmlzaGVkIHN1Y2Nlc3NmdWxseSwgYW5kIHJlamVjdCBpZiBub3QuXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUucmVmcmVzaCA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgICAgIGlmICghJGxvYWRlckZhY3RvcnkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkblxcJ3QgcmVmcmVzaCB0cmFuc2xhdGlvbiB0YWJsZSwgbm8gbG9hZGVyIHJlZ2lzdGVyZWQhJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmUoKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVSZWZyZXNoRW5kJywge2xhbmd1YWdlOiBsYW5nS2V5fSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZWplY3QoKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZVJlZnJlc2hFbmQnLCB7bGFuZ3VhZ2U6IGxhbmdLZXl9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVSZWZyZXNoU3RhcnQnLCB7bGFuZ3VhZ2U6IGxhbmdLZXl9KTtcblxuICAgICAgICBpZiAoIWxhbmdLZXkpIHtcbiAgICAgICAgICAvLyBpZiB0aGVyZSdzIG5vIGxhbmd1YWdlIGtleSBzcGVjaWZpZWQgd2UgcmVmcmVzaCBBTEwgVEhFIFRISU5HUyFcbiAgICAgICAgICB2YXIgdGFibGVzID0gW10sIGxvYWRpbmdLZXlzID0ge307XG5cbiAgICAgICAgICAvLyByZWxvYWQgcmVnaXN0ZXJlZCBmYWxsYmFjayBsYW5ndWFnZXNcbiAgICAgICAgICBpZiAoJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgdGFibGVzLnB1c2gobG9hZEFzeW5jKCRmYWxsYmFja0xhbmd1YWdlW2ldKSk7XG4gICAgICAgICAgICAgIGxvYWRpbmdLZXlzWyRmYWxsYmFja0xhbmd1YWdlW2ldXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcmVsb2FkIGN1cnJlbnRseSB1c2VkIGxhbmd1YWdlXG4gICAgICAgICAgaWYgKCR1c2VzICYmICFsb2FkaW5nS2V5c1skdXNlc10pIHtcbiAgICAgICAgICAgIHRhYmxlcy5wdXNoKGxvYWRBc3luYygkdXNlcykpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICRxLmFsbCh0YWJsZXMpLnRoZW4oZnVuY3Rpb24gKHRhYmxlRGF0YSkge1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRhYmxlRGF0YSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgaWYgKCR0cmFuc2xhdGlvblRhYmxlW2RhdGEua2V5XSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSAkdHJhbnNsYXRpb25UYWJsZVtkYXRhLmtleV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdHJhbnNsYXRpb25zKGRhdGEua2V5LCBkYXRhLnRhYmxlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCR1c2VzKSB7XG4gICAgICAgICAgICAgIHVzZUxhbmd1YWdlKCR1c2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICB9IGVsc2UgaWYgKCR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldKSB7XG5cbiAgICAgICAgICBsb2FkQXN5bmMobGFuZ0tleSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25zKGRhdGEua2V5LCBkYXRhLnRhYmxlKTtcbiAgICAgICAgICAgIGlmIChsYW5nS2V5ID09PSAkdXNlcykge1xuICAgICAgICAgICAgICB1c2VMYW5ndWFnZSgkdXNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSwgcmVqZWN0KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNpbnN0YW50XG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIGEgdHJhbnNsYXRpb24gaW5zdGFudGx5IGZyb20gdGhlIGludGVybmFsIHN0YXRlIG9mIGxvYWRlZCB0cmFuc2xhdGlvbi4gQWxsIHJ1bGVzXG4gICAgICAgKiByZWdhcmRpbmcgdGhlIGN1cnJlbnQgbGFuZ3VhZ2UsIHRoZSBwcmVmZXJyZWQgbGFuZ3VhZ2Ugb2YgZXZlbiBmYWxsYmFjayBsYW5ndWFnZXMgd2lsbCBiZVxuICAgICAgICogdXNlZCBleGNlcHQgYW55IHByb21pc2UgaGFuZGxpbmcuIElmIGEgbGFuZ3VhZ2Ugd2FzIG5vdCBmb3VuZCwgYW4gYXN5bmNocm9ub3VzIGxvYWRpbmdcbiAgICAgICAqIHdpbGwgYmUgaW52b2tlZCBpbiB0aGUgYmFja2dyb3VuZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xhcnJheX0gdHJhbnNsYXRpb25JZCBBIHRva2VuIHdoaWNoIHJlcHJlc2VudHMgYSB0cmFuc2xhdGlvbiBpZFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBjYW4gYmUgb3B0aW9uYWxseSBhbiBhcnJheSBvZiB0cmFuc2xhdGlvbiBpZHMgd2hpY2hcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMgdGhhdCB0aGUgZnVuY3Rpb24ncyBwcm9taXNlIHJldHVybnMgYW4gb2JqZWN0IHdoZXJlXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoIGtleSBpcyB0aGUgdHJhbnNsYXRpb24gaWQgYW5kIHRoZSB2YWx1ZSB0aGUgdHJhbnNsYXRpb24uXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gaW50ZXJwb2xhdGVQYXJhbXMgUGFyYW1zXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW50ZXJwb2xhdGlvbklkIFRoZSBpZCBvZiB0aGUgaW50ZXJwb2xhdGlvbiB0byB1c2VcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHRyYW5zbGF0aW9uXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUuaW5zdGFudCA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKSB7XG5cbiAgICAgICAgLy8gRGV0ZWN0IHVuZGVmaW5lZCBhbmQgbnVsbCB2YWx1ZXMgdG8gc2hvcnRlbiB0aGUgZXhlY3V0aW9uIGFuZCBwcmV2ZW50IGV4Y2VwdGlvbnNcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uSWQgPT09IG51bGwgfHwgYW5ndWxhci5pc1VuZGVmaW5lZCh0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRHVjayBkZXRlY3Rpb246IElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhbiBhcnJheSwgYSBidW5jaCBvZiB0cmFuc2xhdGlvbnMgd2FzIHJlcXVlc3RlZC5cbiAgICAgICAgLy8gVGhlIHJlc3VsdCBpcyBhbiBvYmplY3QuXG4gICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkodHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0cyA9IHt9O1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjID0gdHJhbnNsYXRpb25JZC5sZW5ndGg7IGkgPCBjOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdHNbdHJhbnNsYXRpb25JZFtpXV0gPSAkdHJhbnNsYXRlLmluc3RhbnQodHJhbnNsYXRpb25JZFtpXSwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2UgZGlzY2FyZGVkIHVuYWNjZXB0YWJsZSB2YWx1ZXMuIFNvIHdlIGp1c3QgbmVlZCB0byB2ZXJpZnkgaWYgdHJhbnNsYXRpb25JZCBpcyBlbXB0eSBTdHJpbmdcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodHJhbnNsYXRpb25JZCkgJiYgdHJhbnNsYXRpb25JZC5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uSWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0cmltIG9mZiBhbnkgd2hpdGVzcGFjZVxuICAgICAgICBpZiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgIHRyYW5zbGF0aW9uSWQgPSB0cmltLmFwcGx5KHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc3VsdCwgcG9zc2libGVMYW5nS2V5cyA9IFtdO1xuICAgICAgICBpZiAoJHByZWZlcnJlZExhbmd1YWdlKSB7XG4gICAgICAgICAgcG9zc2libGVMYW5nS2V5cy5wdXNoKCRwcmVmZXJyZWRMYW5ndWFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCR1c2VzKSB7XG4gICAgICAgICAgcG9zc2libGVMYW5nS2V5cy5wdXNoKCR1c2VzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgcG9zc2libGVMYW5nS2V5cyA9IHBvc3NpYmxlTGFuZ0tleXMuY29uY2F0KCRmYWxsYmFja0xhbmd1YWdlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqID0gMCwgZCA9IHBvc3NpYmxlTGFuZ0tleXMubGVuZ3RoOyBqIDwgZDsgaisrKSB7XG4gICAgICAgICAgdmFyIHBvc3NpYmxlTGFuZ0tleSA9IHBvc3NpYmxlTGFuZ0tleXNbal07XG4gICAgICAgICAgaWYgKCR0cmFuc2xhdGlvblRhYmxlW3Bvc3NpYmxlTGFuZ0tleV0pIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgJHRyYW5zbGF0aW9uVGFibGVbcG9zc2libGVMYW5nS2V5XVt0cmFuc2xhdGlvbklkXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gZGV0ZXJtaW5lVHJhbnNsYXRpb25JbnN0YW50KHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVzdWx0ICYmIHJlc3VsdCAhPT0gJycpIHtcbiAgICAgICAgICAvLyBSZXR1cm4gdHJhbnNsYXRpb24gb2YgZGVmYXVsdCBpbnRlcnBvbGF0b3IgaWYgbm90IGZvdW5kIGFueXRoaW5nLlxuICAgICAgICAgIHJlc3VsdCA9IGRlZmF1bHRJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMpO1xuICAgICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRyYW5zbGF0ZUJ5SGFuZGxlcih0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSN2ZXJzaW9uSW5mb1xuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB0aGUgY3VycmVudCB2ZXJzaW9uIGluZm9ybWF0aW9uIGZvciB0aGUgYW5ndWxhci10cmFuc2xhdGUgbGlicmFyeVxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gYW5ndWxhci10cmFuc2xhdGUgdmVyc2lvblxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLnZlcnNpb25JbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdmVyc2lvbjtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjbG9hZGVyQ2FjaGVcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgdGhlIGRlZmluZWQgbG9hZGVyQ2FjaGUuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7Ym9vbGVhbnxzdHJpbmd8b2JqZWN0fSBjdXJyZW50IHZhbHVlIG9mIGxvYWRlckNhY2hlXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUubG9hZGVyQ2FjaGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBsb2FkZXJDYWNoZTtcbiAgICAgIH07XG5cbiAgICAgIGlmICgkbG9hZGVyRmFjdG9yeSkge1xuXG4gICAgICAgIC8vIElmIGF0IGxlYXN0IG9uZSBhc3luYyBsb2FkZXIgaXMgZGVmaW5lZCBhbmQgdGhlcmUgYXJlIG5vXG4gICAgICAgIC8vIChkZWZhdWx0KSB0cmFuc2xhdGlvbnMgYXZhaWxhYmxlIHdlIHNob3VsZCB0cnkgdG8gbG9hZCB0aGVtLlxuICAgICAgICBpZiAoYW5ndWxhci5lcXVhbHMoJHRyYW5zbGF0aW9uVGFibGUsIHt9KSkge1xuICAgICAgICAgICR0cmFuc2xhdGUudXNlKCR0cmFuc2xhdGUudXNlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWxzbywgaWYgdGhlcmUgYXJlIGFueSBmYWxsYmFjayBsYW5ndWFnZSByZWdpc3RlcmVkLCB3ZSBzdGFydFxuICAgICAgICAvLyBsb2FkaW5nIHRoZW0gYXN5bmNocm9ub3VzbHkgYXMgc29vbiBhcyB3ZSBjYW4uXG4gICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcHJvY2Vzc0FzeW5jUmVzdWx0ID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbnModHJhbnNsYXRpb24ua2V5LCB0cmFuc2xhdGlvbi50YWJsZSk7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlRW5kJywgeyBsYW5ndWFnZTogdHJhbnNsYXRpb24ua2V5IH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgICAgICAgIH07XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBsYW5nUHJvbWlzZXNbJGZhbGxiYWNrTGFuZ3VhZ2VbaV1dID0gbG9hZEFzeW5jKCRmYWxsYmFja0xhbmd1YWdlW2ldKS50aGVuKHByb2Nlc3NBc3luY1Jlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAkdHJhbnNsYXRlO1xuICAgIH1cbiAgXTtcbn1dKTtcblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvblxuICogQHJlcXVpcmVzICRpbnRlcnBvbGF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlcyBhbmd1bGFyJ3MgYCRpbnRlcnBvbGF0ZWAgc2VydmljZXMgdG8gaW50ZXJwb2xhdGUgc3RyaW5ncyBhZ2FpbnN0IHNvbWUgdmFsdWVzLlxuICpcbiAqIEByZXR1cm4ge29iamVjdH0gJHRyYW5zbGF0ZUludGVycG9sYXRvciBJbnRlcnBvbGF0b3Igc2VydmljZVxuICovXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpLmZhY3RvcnkoJyR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbicsIFsnJGludGVycG9sYXRlJywgZnVuY3Rpb24gKCRpbnRlcnBvbGF0ZSkge1xuXG4gIHZhciAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yID0ge30sXG4gICAgICAkbG9jYWxlLFxuICAgICAgJGlkZW50aWZpZXIgPSAnZGVmYXVsdCcsXG4gICAgICAkc2FuaXRpemVWYWx1ZVN0cmF0ZWd5ID0gbnVsbCxcbiAgICAgIC8vIG1hcCBvZiBhbGwgc2FuaXRpemUgc3RyYXRlZ2llc1xuICAgICAgc2FuaXRpemVWYWx1ZVN0cmF0ZWdpZXMgPSB7XG4gICAgICAgIGVzY2FwZWQ6IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIHBhcmFtcykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJhbXMsIGtleSkpIHtcbiAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXY+PC9kaXY+JykudGV4dChwYXJhbXNba2V5XSkuaHRtbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gIHZhciBzYW5pdGl6ZVBhcmFtcyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oc2FuaXRpemVWYWx1ZVN0cmF0ZWdpZXNbJHNhbml0aXplVmFsdWVTdHJhdGVneV0pKSB7XG4gICAgICByZXN1bHQgPSBzYW5pdGl6ZVZhbHVlU3RyYXRlZ2llc1skc2FuaXRpemVWYWx1ZVN0cmF0ZWd5XShwYXJhbXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBwYXJhbXM7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbiNzZXRMb2NhbGVcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIGN1cnJlbnQgbG9jYWxlICh0aGlzIGlzIGN1cnJlbnRseSBub3QgdXNlIGluIHRoaXMgaW50ZXJwb2xhdGlvbikuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhbGUgTGFuZ3VhZ2Uga2V5IG9yIGxvY2FsZS5cbiAgICovXG4gICR0cmFuc2xhdGVJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlID0gZnVuY3Rpb24gKGxvY2FsZSkge1xuICAgICRsb2NhbGUgPSBsb2NhbGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbiNnZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJldHVybnMgYW4gaWRlbnRpZmllciBmb3IgdGhpcyBpbnRlcnBvbGF0aW9uIHNlcnZpY2UuXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9ICRpZGVudGlmaWVyXG4gICAqL1xuICAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yLmdldEludGVycG9sYXRpb25JZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAkaWRlbnRpZmllcjtcbiAgfTtcblxuICAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICRzYW5pdGl6ZVZhbHVlU3RyYXRlZ3kgPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uI2ludGVycG9sYXRlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSW50ZXJwb2xhdGVzIGdpdmVuIHN0cmluZyBhZ2FpbnMgZ2l2ZW4gaW50ZXJwb2xhdGUgcGFyYW1zIHVzaW5nIGFuZ3VsYXJzXG4gICAqIGAkaW50ZXJwb2xhdGVgIHNlcnZpY2UuXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IGludGVycG9sYXRlZCBzdHJpbmcuXG4gICAqL1xuICAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yLmludGVycG9sYXRlID0gZnVuY3Rpb24gKHN0cmluZywgaW50ZXJwb2xhdGVQYXJhbXMpIHtcbiAgICBpZiAoJHNhbml0aXplVmFsdWVTdHJhdGVneSkge1xuICAgICAgaW50ZXJwb2xhdGVQYXJhbXMgPSBzYW5pdGl6ZVBhcmFtcyhpbnRlcnBvbGF0ZVBhcmFtcyk7XG4gICAgfVxuICAgIHJldHVybiAkaW50ZXJwb2xhdGUoc3RyaW5nKShpbnRlcnBvbGF0ZVBhcmFtcyB8fCB7fSk7XG4gIH07XG5cbiAgcmV0dXJuICR0cmFuc2xhdGVJbnRlcnBvbGF0b3I7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJykuY29uc3RhbnQoJyRTVE9SQUdFX0tFWScsICdOR19UUkFOU0xBVEVfTEFOR19LRVknKTtcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmRpcmVjdGl2ZTp0cmFuc2xhdGVcbiAqIEByZXF1aXJlcyAkY29tcGlsZVxuICogQHJlcXVpcmVzICRmaWx0ZXJcbiAqIEByZXF1aXJlcyAkaW50ZXJwb2xhdGVcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUcmFuc2xhdGVzIGdpdmVuIHRyYW5zbGF0aW9uIGlkIGVpdGhlciB0aHJvdWdoIGF0dHJpYnV0ZSBvciBET00gY29udGVudC5cbiAqIEludGVybmFsbHkgaXQgdXNlcyBgdHJhbnNsYXRlYCBmaWx0ZXIgdG8gdHJhbnNsYXRlIHRyYW5zbGF0aW9uIGlkLiBJdCBwb3NzaWJsZSB0b1xuICogcGFzcyBhbiBvcHRpb25hbCBgdHJhbnNsYXRlLXZhbHVlc2Agb2JqZWN0IGxpdGVyYWwgYXMgc3RyaW5nIGludG8gdHJhbnNsYXRpb24gaWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUgVHJhbnNsYXRpb24gaWQgd2hpY2ggY291bGQgYmUgZWl0aGVyIHN0cmluZyBvciBpbnRlcnBvbGF0ZWQgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUtdmFsdWVzIFZhbHVlcyB0byBwYXNzIGludG8gdHJhbnNsYXRpb24gaWQuIENhbiBiZSBwYXNzZWQgYXMgb2JqZWN0IGxpdGVyYWwgc3RyaW5nIG9yIGludGVycG9sYXRlZCBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS1hdHRyLUFUVFIgdHJhbnNsYXRlIFRyYW5zbGF0aW9uIGlkIGFuZCBwdXQgaXQgaW50byBBVFRSIGF0dHJpYnV0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlLWRlZmF1bHQgd2lsbCBiZSB1c2VkIHVubGVzcyB0cmFuc2xhdGlvbiB3YXMgc3VjY2Vzc2Z1bFxuICogQHBhcmFtIHtib29sZWFuPX0gdHJhbnNsYXRlLWNvbXBpbGUgKGRlZmF1bHQgdHJ1ZSBpZiBwcmVzZW50KSBkZWZpbmVzIGxvY2FsbHkgYWN0aXZhdGlvbiBvZiB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3VzZVBvc3RDb21waWxpbmd9XG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cIm5nVmlld1wiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJUcmFuc2xhdGVDdHJsXCI+XG5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU9XCJUUkFOU0xBVElPTl9JRFwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT5UUkFOU0xBVElPTl9JRDwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZSB0cmFuc2xhdGUtYXR0ci10aXRsZT1cIlRSQU5TTEFUSU9OX0lEXCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwie3t0cmFuc2xhdGlvbklkfX1cIj48L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU+e3t0cmFuc2xhdGlvbklkfX08L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU9XCJXSVRIX1ZBTFVFU1wiIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7dmFsdWU6IDV9XCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7dmFsdWU6IDV9XCI+V0lUSF9WQUxVRVM8L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU9XCJXSVRIX1ZBTFVFU1wiIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7e3ZhbHVlc319XCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7e3ZhbHVlc319XCI+V0lUSF9WQUxVRVM8L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGUgdHJhbnNsYXRlLWF0dHItdGl0bGU9XCJXSVRIX1ZBTFVFU1wiIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7e3ZhbHVlc319XCI+PC9wcmU+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JywgWydwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXG5cbiAgICAgIC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJyx7XG4gICAgICAgICAgJ1RSQU5TTEFUSU9OX0lEJzogJ0hlbGxvIHRoZXJlIScsXG4gICAgICAgICAgJ1dJVEhfVkFMVUVTJzogJ1RoZSBmb2xsb3dpbmcgdmFsdWUgaXMgZHluYW1pYzoge3t2YWx1ZX19J1xuICAgICAgICB9KS5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcblxuICAgICAgfSk7XG5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1ZpZXcnKS5jb250cm9sbGVyKCdUcmFuc2xhdGVDdHJsJywgZnVuY3Rpb24gKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUudHJhbnNsYXRpb25JZCA9ICdUUkFOU0xBVElPTl9JRCc7XG5cbiAgICAgICAgJHNjb3BlLnZhbHVlcyA9IHtcbiAgICAgICAgICB2YWx1ZTogNzhcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NlbmFyaW8uanNcIj5cbiAgICAgIGl0KCdzaG91bGQgdHJhbnNsYXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpbmplY3QoZnVuY3Rpb24gKCRyb290U2NvcGUsICRjb21waWxlKSB7XG4gICAgICAgICAgJHJvb3RTY29wZS50cmFuc2xhdGlvbklkID0gJ1RSQU5TTEFUSU9OX0lEJztcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPVwiVFJBTlNMQVRJT05fSURcIj48L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPVwie3t0cmFuc2xhdGlvbklkfX1cIj48L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPlRSQU5TTEFUSU9OX0lEPC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LnRleHQoKSkudG9CZSgnSGVsbG8gdGhlcmUhJyk7XG5cbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxwIHRyYW5zbGF0ZT57e3RyYW5zbGF0aW9uSWR9fTwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC50ZXh0KCkpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGUgdHJhbnNsYXRlLWF0dHItdGl0bGU9XCJUUkFOU0xBVElPTl9JRFwiPjwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC5hdHRyKCd0aXRsZScpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ3RyYW5zbGF0ZScsIFsnJHRyYW5zbGF0ZScsICckcScsICckaW50ZXJwb2xhdGUnLCAnJGNvbXBpbGUnLCAnJHBhcnNlJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbiAoJHRyYW5zbGF0ZSwgJHEsICRpbnRlcnBvbGF0ZSwgJGNvbXBpbGUsICRwYXJzZSwgJHJvb3RTY29wZSkge1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBRScsXG4gICAgc2NvcGU6IHRydWUsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gKHRFbGVtZW50LCB0QXR0cikge1xuXG4gICAgICB2YXIgdHJhbnNsYXRlVmFsdWVzRXhpc3QgPSAodEF0dHIudHJhbnNsYXRlVmFsdWVzKSA/XG4gICAgICAgIHRBdHRyLnRyYW5zbGF0ZVZhbHVlcyA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIHRyYW5zbGF0ZUludGVycG9sYXRpb24gPSAodEF0dHIudHJhbnNsYXRlSW50ZXJwb2xhdGlvbikgP1xuICAgICAgICB0QXR0ci50cmFuc2xhdGVJbnRlcnBvbGF0aW9uIDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgdHJhbnNsYXRlVmFsdWVFeGlzdCA9IHRFbGVtZW50WzBdLm91dGVySFRNTC5tYXRjaCgvdHJhbnNsYXRlLXZhbHVlLSsvaSk7XG5cbiAgICAgIHZhciBpbnRlcnBvbGF0ZVJlZ0V4cCA9IFwiXiguKikoXCIgKyAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSArIFwiLipcIiArICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSArIFwiKSguKilcIixcbiAgICAgICAgICB3YXRjaGVyUmVnRXhwID0gXCJeKC4qKVwiICsgJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCkgKyBcIiguKilcIiArICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSArIFwiKC4qKVwiO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbGlua0ZuKHNjb3BlLCBpRWxlbWVudCwgaUF0dHIpIHtcblxuICAgICAgICBzY29wZS5pbnRlcnBvbGF0ZVBhcmFtcyA9IHt9O1xuICAgICAgICBzY29wZS5wcmVUZXh0ID0gXCJcIjtcbiAgICAgICAgc2NvcGUucG9zdFRleHQgPSBcIlwiO1xuICAgICAgICB2YXIgdHJhbnNsYXRpb25JZHMgPSB7fTtcblxuICAgICAgICAvLyBFbnN1cmVzIGFueSBjaGFuZ2Ugb2YgdGhlIGF0dHJpYnV0ZSBcInRyYW5zbGF0ZVwiIGNvbnRhaW5pbmcgdGhlIGlkIHdpbGxcbiAgICAgICAgLy8gYmUgcmUtc3RvcmVkIHRvIHRoZSBzY29wZSdzIFwidHJhbnNsYXRpb25JZFwiLlxuICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlIGhhcyBubyBjb250ZW50LCB0aGUgZWxlbWVudCdzIHRleHQgdmFsdWUgKHdoaXRlIHNwYWNlcyB0cmltbWVkIG9mZikgd2lsbCBiZSB1c2VkLlxuICAgICAgICB2YXIgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuZXF1YWxzKHRyYW5zbGF0aW9uSWQgLCAnJykgfHwgIWFuZ3VsYXIuaXNEZWZpbmVkKHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgICAvLyBSZXNvbHZlIHRyYW5zbGF0aW9uIGlkIGJ5IGlubmVyIGh0bWwgaWYgcmVxdWlyZWRcbiAgICAgICAgICAgIHZhciBpbnRlcnBvbGF0ZU1hdGNoZXMgPSBpRWxlbWVudC50ZXh0KCkubWF0Y2goaW50ZXJwb2xhdGVSZWdFeHApO1xuICAgICAgICAgICAgLy8gSW50ZXJwb2xhdGUgdHJhbnNsYXRpb24gaWQgaWYgcmVxdWlyZWRcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkoaW50ZXJwb2xhdGVNYXRjaGVzKSkge1xuICAgICAgICAgICAgICBzY29wZS5wcmVUZXh0ID0gaW50ZXJwb2xhdGVNYXRjaGVzWzFdO1xuICAgICAgICAgICAgICBzY29wZS5wb3N0VGV4dCA9IGludGVycG9sYXRlTWF0Y2hlc1szXTtcbiAgICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gJGludGVycG9sYXRlKGludGVycG9sYXRlTWF0Y2hlc1syXSkoc2NvcGUuJHBhcmVudCk7XG4gICAgICAgICAgICAgIHdhdGNoZXJNYXRjaGVzID0gaUVsZW1lbnQudGV4dCgpLm1hdGNoKHdhdGNoZXJSZWdFeHApO1xuICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KHdhdGNoZXJNYXRjaGVzKSAmJiB3YXRjaGVyTWF0Y2hlc1syXSAmJiB3YXRjaGVyTWF0Y2hlc1syXS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2god2F0Y2hlck1hdGNoZXNbMl0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gaUVsZW1lbnQudGV4dCgpLnJlcGxhY2UoL15cXHMrfFxccyskL2csJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSB0cmFuc2xhdGlvbklkO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgb2JzZXJ2ZUF0dHJpYnV0ZVRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHRyYW5zbGF0ZUF0dHIpIHtcbiAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZSh0cmFuc2xhdGVBdHRyLCBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25JZHNbdHJhbnNsYXRlQXR0cl0gPSB0cmFuc2xhdGlvbklkO1xuICAgICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZScsIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yICh2YXIgdHJhbnNsYXRlQXR0ciBpbiBpQXR0cikge1xuICAgICAgICAgIGlmKGlBdHRyLmhhc093blByb3BlcnR5KHRyYW5zbGF0ZUF0dHIpICYmIHRyYW5zbGF0ZUF0dHIuc3Vic3RyKDAsIDEzKSA9PT0gJ3RyYW5zbGF0ZUF0dHInKSB7XG4gICAgICAgICAgICBvYnNlcnZlQXR0cmlidXRlVHJhbnNsYXRpb24odHJhbnNsYXRlQXR0cik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZURlZmF1bHQnLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICBzY29wZS5kZWZhdWx0VGV4dCA9IHZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodHJhbnNsYXRlVmFsdWVzRXhpc3QpIHtcbiAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZSgndHJhbnNsYXRlVmFsdWVzJywgZnVuY3Rpb24gKGludGVycG9sYXRlUGFyYW1zKSB7XG4gICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGVQYXJhbXMpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJHBhcmVudC4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHNjb3BlLmludGVycG9sYXRlUGFyYW1zLCAkcGFyc2UoaW50ZXJwb2xhdGVQYXJhbXMpKHNjb3BlLiRwYXJlbnQpKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhbnNsYXRlVmFsdWVFeGlzdCkge1xuICAgICAgICAgIHZhciBvYnNlcnZlVmFsdWVBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoYXR0ck5hbWUpIHtcbiAgICAgICAgICAgIGlBdHRyLiRvYnNlcnZlKGF0dHJOYW1lLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBhbmd1bGFyLmxvd2VyY2FzZShhdHRyTmFtZS5zdWJzdHIoMTQsIDEpKSArIGF0dHJOYW1lLnN1YnN0cigxNSk7XG4gICAgICAgICAgICAgIHNjb3BlLmludGVycG9sYXRlUGFyYW1zW2F0dHJpYnV0ZU5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGZvciAodmFyIGF0dHIgaW4gaUF0dHIpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaUF0dHIsIGF0dHIpICYmIGF0dHIuc3Vic3RyKDAsIDE0KSA9PT0gJ3RyYW5zbGF0ZVZhbHVlJyAmJiBhdHRyICE9PSAndHJhbnNsYXRlVmFsdWVzJykge1xuICAgICAgICAgICAgICBvYnNlcnZlVmFsdWVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFzdGVyIHVwZGF0ZSBmdW5jdGlvblxuICAgICAgICB2YXIgdXBkYXRlVHJhbnNsYXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZvciAodmFyIGtleSBpbiB0cmFuc2xhdGlvbklkcykge1xuICAgICAgICAgICAgaWYgKHRyYW5zbGF0aW9uSWRzLmhhc093blByb3BlcnR5KGtleSkgJiYgdHJhbnNsYXRpb25JZHNba2V5XSkge1xuICAgICAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbihrZXksIHRyYW5zbGF0aW9uSWRzW2tleV0sIHNjb3BlLCBzY29wZS5pbnRlcnBvbGF0ZVBhcmFtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFB1dCB0cmFuc2xhdGlvbiBwcm9jZXNzaW5nIGZ1bmN0aW9uIG91dHNpZGUgbG9vcFxuICAgICAgICB2YXIgdXBkYXRlVHJhbnNsYXRpb24gPSBmdW5jdGlvbih0cmFuc2xhdGVBdHRyLCB0cmFuc2xhdGlvbklkLCBzY29wZSwgaW50ZXJwb2xhdGVQYXJhbXMpIHtcbiAgICAgICAgICAkdHJhbnNsYXRlKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCB0cmFuc2xhdGVJbnRlcnBvbGF0aW9uKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICAgIGFwcGx5VHJhbnNsYXRpb24odHJhbnNsYXRpb24sIHNjb3BlLCB0cnVlLCB0cmFuc2xhdGVBdHRyKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICAgIGFwcGx5VHJhbnNsYXRpb24odHJhbnNsYXRpb25JZCwgc2NvcGUsIGZhbHNlLCB0cmFuc2xhdGVBdHRyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBhcHBseVRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHZhbHVlLCBzY29wZSwgc3VjY2Vzc2Z1bCwgdHJhbnNsYXRlQXR0cikge1xuICAgICAgICAgIGlmICh0cmFuc2xhdGVBdHRyID09PSAndHJhbnNsYXRlJykge1xuICAgICAgICAgICAgLy8gZGVmYXVsdCB0cmFuc2xhdGUgaW50byBpbm5lckhUTUxcbiAgICAgICAgICAgIGlmICghc3VjY2Vzc2Z1bCAmJiB0eXBlb2Ygc2NvcGUuZGVmYXVsdFRleHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gc2NvcGUuZGVmYXVsdFRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpRWxlbWVudC5odG1sKHNjb3BlLnByZVRleHQgKyB2YWx1ZSArIHNjb3BlLnBvc3RUZXh0KTtcbiAgICAgICAgICAgIHZhciBnbG9iYWxseUVuYWJsZWQgPSAkdHJhbnNsYXRlLmlzUG9zdENvbXBpbGluZ0VuYWJsZWQoKTtcbiAgICAgICAgICAgIHZhciBsb2NhbGx5RGVmaW5lZCA9IHR5cGVvZiB0QXR0ci50cmFuc2xhdGVDb21waWxlICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgICAgIHZhciBsb2NhbGx5RW5hYmxlZCA9IGxvY2FsbHlEZWZpbmVkICYmIHRBdHRyLnRyYW5zbGF0ZUNvbXBpbGUgIT09ICdmYWxzZSc7XG4gICAgICAgICAgICBpZiAoKGdsb2JhbGx5RW5hYmxlZCAmJiAhbG9jYWxseURlZmluZWQpIHx8IGxvY2FsbHlFbmFibGVkKSB7XG4gICAgICAgICAgICAgICRjb21waWxlKGlFbGVtZW50LmNvbnRlbnRzKCkpKHNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdHJhbnNsYXRlIGF0dHJpYnV0ZVxuICAgICAgICAgICAgaWYgKCFzdWNjZXNzZnVsICYmIHR5cGVvZiBzY29wZS5kZWZhdWx0VGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSBzY29wZS5kZWZhdWx0VGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gaUF0dHIuJGF0dHJbdHJhbnNsYXRlQXR0cl0uc3Vic3RyKDE1KTtcbiAgICAgICAgICAgIGlFbGVtZW50LmF0dHIoYXR0cmlidXRlTmFtZSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS4kd2F0Y2goJ2ludGVycG9sYXRlUGFyYW1zJywgdXBkYXRlVHJhbnNsYXRpb25zLCB0cnVlKTtcblxuICAgICAgICAvLyBFbnN1cmVzIHRoZSB0ZXh0IHdpbGwgYmUgcmVmcmVzaGVkIGFmdGVyIHRoZSBjdXJyZW50IGxhbmd1YWdlIHdhcyBjaGFuZ2VkXG4gICAgICAgIC8vIHcvICR0cmFuc2xhdGUudXNlKC4uLilcbiAgICAgICAgdmFyIHVuYmluZCA9ICRyb290U2NvcGUuJG9uKCckdHJhbnNsYXRlQ2hhbmdlU3VjY2VzcycsIHVwZGF0ZVRyYW5zbGF0aW9ucyk7XG5cbiAgICAgICAgLy8gZW5zdXJlIHRyYW5zbGF0aW9uIHdpbGwgYmUgbG9va2VkIHVwIGF0IGxlYXN0IG9uZVxuICAgICAgICBpZiAoaUVsZW1lbnQudGV4dCgpLmxlbmd0aCkge1xuICAgICAgICAgIG9ic2VydmVFbGVtZW50VHJhbnNsYXRpb24oJycpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgdW5iaW5kKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuZGlyZWN0aXZlOnRyYW5zbGF0ZUNsb2FrXG4gKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICogQHJlcXVpcmVzICR0cmFuc2xhdGVcbiAqIEByZXN0cmljdCBBXG4gKlxuICogJGRlc2NyaXB0aW9uXG4gKiBBZGRzIGEgYHRyYW5zbGF0ZS1jbG9ha2AgY2xhc3MgbmFtZSB0byB0aGUgZ2l2ZW4gZWxlbWVudCB3aGVyZSB0aGlzIGRpcmVjdGl2ZVxuICogaXMgYXBwbGllZCBpbml0aWFsbHkgYW5kIHJlbW92ZXMgaXQsIG9uY2UgYSBsb2FkZXIgaGFzIGZpbmlzaGVkIGxvYWRpbmcuXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIHVzZWQgdG8gcHJldmVudCBpbml0aWFsIGZsaWNrZXJpbmcgd2hlbiBsb2FkaW5nIHRyYW5zbGF0aW9uXG4gKiBkYXRhIGFzeW5jaHJvbm91c2x5LlxuICpcbiAqIFRoZSBjbGFzcyBuYW1lIGlzIGRlZmluZWQgaW5cbiAqIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNjbG9ha0NsYXNzTmFtZSAkdHJhbnNsYXRlLmNsb2FrQ2xhc3NOYW1lKCl9LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlLWNsb2FrIElmIGEgdHJhbnNsYXRpb25JZCBpcyBwcm92aWRlZCwgaXQgd2lsbCBiZSB1c2VkIGZvciBzaG93aW5nXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBoaWRpbmcgdGhlIGNsb2FrLiBCYXNpY2FsbHkgaXQgcmVsaWVzIG9uIHRoZSB0cmFuc2xhdGlvblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZS5cbiAqL1xuLmRpcmVjdGl2ZSgndHJhbnNsYXRlQ2xvYWsnLCBbJyRyb290U2NvcGUnLCAnJHRyYW5zbGF0ZScsIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkdHJhbnNsYXRlKSB7XG5cbiAgcmV0dXJuIHtcbiAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW1lbnQpIHtcbiAgICAgIHZhciBhcHBseUNsb2FrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0RWxlbWVudC5hZGRDbGFzcygkdHJhbnNsYXRlLmNsb2FrQ2xhc3NOYW1lKCkpO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZUNsb2FrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0RWxlbWVudC5yZW1vdmVDbGFzcygkdHJhbnNsYXRlLmNsb2FrQ2xhc3NOYW1lKCkpO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZUxpc3RlbmVyID0gJHJvb3RTY29wZS4kb24oJyR0cmFuc2xhdGVDaGFuZ2VFbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlbW92ZUNsb2FrKCk7XG4gICAgICAgIHJlbW92ZUxpc3RlbmVyKCk7XG4gICAgICAgIHJlbW92ZUxpc3RlbmVyID0gbnVsbDtcbiAgICAgIH0pO1xuICAgICAgYXBwbHlDbG9haygpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbGlua0ZuKHNjb3BlLCBpRWxlbWVudCwgaUF0dHIpIHtcbiAgICAgICAgLy8gUmVnaXN0ZXIgYSB3YXRjaGVyIGZvciB0aGUgZGVmaW5lZCB0cmFuc2xhdGlvbiBhbGxvd2luZyBhIGZpbmUgdHVuZWQgY2xvYWtcbiAgICAgICAgaWYgKGlBdHRyLnRyYW5zbGF0ZUNsb2FrICYmIGlBdHRyLnRyYW5zbGF0ZUNsb2FrLmxlbmd0aCkge1xuICAgICAgICAgIGlBdHRyLiRvYnNlcnZlKCd0cmFuc2xhdGVDbG9haycsIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICAkdHJhbnNsYXRlKHRyYW5zbGF0aW9uSWQpLnRoZW4ocmVtb3ZlQ2xvYWssIGFwcGx5Q2xvYWspO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmZpbHRlcjp0cmFuc2xhdGVcbiAqIEByZXF1aXJlcyAkcGFyc2VcbiAqIEByZXF1aXJlcyBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAqIEBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlcyBgJHRyYW5zbGF0ZWAgc2VydmljZSB0byB0cmFuc2xhdGUgY29udGVudHMuIEFjY2VwdHMgaW50ZXJwb2xhdGUgcGFyYW1ldGVyc1xuICogdG8gcGFzcyBkeW5hbWl6ZWQgdmFsdWVzIHRob3VnaCB0cmFuc2xhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdHJhbnNsYXRpb25JZCBBIHRyYW5zbGF0aW9uIGlkIHRvIGJlIHRyYW5zbGF0ZWQuXG4gKiBAcGFyYW0geyo9fSBpbnRlcnBvbGF0ZVBhcmFtcyBPcHRpb25hbCBvYmplY3QgbGl0ZXJhbCAoYXMgaGFzaCBvciBzdHJpbmcpIHRvIHBhc3MgdmFsdWVzIGludG8gdHJhbnNsYXRpb24uXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVHJhbnNsYXRlZCB0ZXh0LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ1ZpZXdcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiVHJhbnNsYXRlQ3RybFwiPlxuXG4gICAgICAgIDxwcmU+e3sgJ1RSQU5TTEFUSU9OX0lEJyB8IHRyYW5zbGF0ZSB9fTwvcHJlPlxuICAgICAgICA8cHJlPnt7IHRyYW5zbGF0aW9uSWQgfCB0cmFuc2xhdGUgfX08L3ByZT5cbiAgICAgICAgPHByZT57eyAnV0lUSF9WQUxVRVMnIHwgdHJhbnNsYXRlOid7dmFsdWU6IDV9JyB9fTwvcHJlPlxuICAgICAgICA8cHJlPnt7ICdXSVRIX1ZBTFVFUycgfCB0cmFuc2xhdGU6dmFsdWVzIH19PC9wcmU+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JywgWydwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXG5cbiAgICAgIC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJywge1xuICAgICAgICAgICdUUkFOU0xBVElPTl9JRCc6ICdIZWxsbyB0aGVyZSEnLFxuICAgICAgICAgICdXSVRIX1ZBTFVFUyc6ICdUaGUgZm9sbG93aW5nIHZhbHVlIGlzIGR5bmFtaWM6IHt7dmFsdWV9fSdcbiAgICAgICAgfSk7XG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcblxuICAgICAgfSk7XG5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1ZpZXcnKS5jb250cm9sbGVyKCdUcmFuc2xhdGVDdHJsJywgZnVuY3Rpb24gKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUudHJhbnNsYXRpb25JZCA9ICdUUkFOU0xBVElPTl9JRCc7XG5cbiAgICAgICAgJHNjb3BlLnZhbHVlcyA9IHtcbiAgICAgICAgICB2YWx1ZTogNzhcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuLmZpbHRlcigndHJhbnNsYXRlJywgWyckcGFyc2UnLCAnJHRyYW5zbGF0ZScsIGZ1bmN0aW9uICgkcGFyc2UsICR0cmFuc2xhdGUpIHtcbiAgdmFyIHRyYW5zbGF0ZUZpbHRlciA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbikge1xuXG4gICAgaWYgKCFhbmd1bGFyLmlzT2JqZWN0KGludGVycG9sYXRlUGFyYW1zKSkge1xuICAgICAgaW50ZXJwb2xhdGVQYXJhbXMgPSAkcGFyc2UoaW50ZXJwb2xhdGVQYXJhbXMpKHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiAkdHJhbnNsYXRlLmluc3RhbnQodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb24pO1xuICB9O1xuXG4gIC8vIFNpbmNlIEFuZ3VsYXJKUyAxLjMsIGZpbHRlcnMgd2hpY2ggYXJlIG5vdCBzdGF0ZWxlc3MgKGRlcGVuZGluZyBhdCB0aGUgc2NvcGUpXG4gIC8vIGhhdmUgdG8gZXhwbGljaXQgZGVmaW5lIHRoaXMgYmVoYXZpb3IuXG4gIHRyYW5zbGF0ZUZpbHRlci4kc3RhdGVmdWwgPSB0cnVlO1xuXG4gIHJldHVybiB0cmFuc2xhdGVGaWx0ZXI7XG59XSk7XG5cbi8qKlxuICogQGxpY2Vuc2UgQW5ndWxhckpTIHYxLjMuMjBcbiAqIChjKSAyMDEwLTIwMTQgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgYW5ndWxhciwgdW5kZWZpbmVkKSB7J3VzZSBzdHJpY3QnO1xuXG4vKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqXG4gKiAgICAgQW55IGNvbW1pdHMgdG8gdGhpcyBmaWxlIHNob3VsZCBiZSByZXZpZXdlZCB3aXRoIHNlY3VyaXR5IGluIG1pbmQuICAqXG4gKiAgIENoYW5nZXMgdG8gdGhpcyBmaWxlIGNhbiBwb3RlbnRpYWxseSBjcmVhdGUgc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLiAqXG4gKiAgICAgICAgICBBbiBhcHByb3ZhbCBmcm9tIDIgQ29yZSBtZW1iZXJzIHdpdGggaGlzdG9yeSBvZiBtb2RpZnlpbmcgICAgICAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIGZpbGUgaXMgcmVxdWlyZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiAgRG9lcyB0aGUgY2hhbmdlIHNvbWVob3cgYWxsb3cgZm9yIGFyYml0cmFyeSBqYXZhc2NyaXB0IHRvIGJlIGV4ZWN1dGVkPyAqXG4gKiAgICBPciBhbGxvd3MgZm9yIHNvbWVvbmUgdG8gY2hhbmdlIHRoZSBwcm90b3R5cGUgb2YgYnVpbHQtaW4gb2JqZWN0cz8gICAqXG4gKiAgICAgT3IgZ2l2ZXMgdW5kZXNpcmVkIGFjY2VzcyB0byB2YXJpYWJsZXMgbGlrZXMgZG9jdW1lbnQgb3Igd2luZG93PyAgICAqXG4gKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqL1xuXG52YXIgJHNhbml0aXplTWluRXJyID0gYW5ndWxhci4kJG1pbkVycignJHNhbml0aXplJyk7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbmdTYW5pdGl6ZVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogIyBuZ1Nhbml0aXplXG4gKlxuICogVGhlIGBuZ1Nhbml0aXplYCBtb2R1bGUgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byBzYW5pdGl6ZSBIVE1MLlxuICpcbiAqXG4gKiA8ZGl2IGRvYy1tb2R1bGUtY29tcG9uZW50cz1cIm5nU2FuaXRpemVcIj48L2Rpdj5cbiAqXG4gKiBTZWUge0BsaW5rIG5nU2FuaXRpemUuJHNhbml0aXplIGAkc2FuaXRpemVgfSBmb3IgdXNhZ2UuXG4gKi9cblxuLypcbiAqIEhUTUwgUGFyc2VyIEJ5IE1pc2tvIEhldmVyeSAobWlza29AaGV2ZXJ5LmNvbSlcbiAqIGJhc2VkIG9uOiAgSFRNTCBQYXJzZXIgQnkgSm9obiBSZXNpZyAoZWpvaG4ub3JnKVxuICogT3JpZ2luYWwgY29kZSBieSBFcmlrIEFydmlkc3NvbiwgTW96aWxsYSBQdWJsaWMgTGljZW5zZVxuICogaHR0cDovL2VyaWsuZWFlLm5ldC9zaW1wbGVodG1scGFyc2VyL3NpbXBsZWh0bWxwYXJzZXIuanNcbiAqXG4gKiAvLyBVc2UgbGlrZSBzbzpcbiAqIGh0bWxQYXJzZXIoaHRtbFN0cmluZywge1xuICogICAgIHN0YXJ0OiBmdW5jdGlvbih0YWcsIGF0dHJzLCB1bmFyeSkge30sXG4gKiAgICAgZW5kOiBmdW5jdGlvbih0YWcpIHt9LFxuICogICAgIGNoYXJzOiBmdW5jdGlvbih0ZXh0KSB7fSxcbiAqICAgICBjb21tZW50OiBmdW5jdGlvbih0ZXh0KSB7fVxuICogfSk7XG4gKlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHNhbml0aXplXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogICBUaGUgaW5wdXQgaXMgc2FuaXRpemVkIGJ5IHBhcnNpbmcgdGhlIEhUTUwgaW50byB0b2tlbnMuIEFsbCBzYWZlIHRva2VucyAoZnJvbSBhIHdoaXRlbGlzdCkgYXJlXG4gKiAgIHRoZW4gc2VyaWFsaXplZCBiYWNrIHRvIHByb3Blcmx5IGVzY2FwZWQgaHRtbCBzdHJpbmcuIFRoaXMgbWVhbnMgdGhhdCBubyB1bnNhZmUgaW5wdXQgY2FuIG1ha2VcbiAqICAgaXQgaW50byB0aGUgcmV0dXJuZWQgc3RyaW5nLCBob3dldmVyLCBzaW5jZSBvdXIgcGFyc2VyIGlzIG1vcmUgc3RyaWN0IHRoYW4gYSB0eXBpY2FsIGJyb3dzZXJcbiAqICAgcGFyc2VyLCBpdCdzIHBvc3NpYmxlIHRoYXQgc29tZSBvYnNjdXJlIGlucHV0LCB3aGljaCB3b3VsZCBiZSByZWNvZ25pemVkIGFzIHZhbGlkIEhUTUwgYnkgYVxuICogICBicm93c2VyLCB3b24ndCBtYWtlIGl0IHRocm91Z2ggdGhlIHNhbml0aXplci4gVGhlIGlucHV0IG1heSBhbHNvIGNvbnRhaW4gU1ZHIG1hcmt1cC5cbiAqICAgVGhlIHdoaXRlbGlzdCBpcyBjb25maWd1cmVkIHVzaW5nIHRoZSBmdW5jdGlvbnMgYGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0YCBhbmRcbiAqICAgYGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdGAgb2Yge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIgYCRjb21waWxlUHJvdmlkZXJgfS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaHRtbCBIVE1MIGlucHV0LlxuICogQHJldHVybnMge3N0cmluZ30gU2FuaXRpemVkIEhUTUwuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cInNhbml0aXplRXhhbXBsZVwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCI+XG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3Nhbml0aXplRXhhbXBsZScsIFsnbmdTYW5pdGl6ZSddKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckc2NlJywgZnVuY3Rpb24oJHNjb3BlLCAkc2NlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLnNuaXBwZXQgPVxuICAgICAgICAgICAgICAgJzxwIHN0eWxlPVwiY29sb3I6Ymx1ZVwiPmFuIGh0bWxcXG4nICtcbiAgICAgICAgICAgICAgICc8ZW0gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PVxcJ1BXTjNEIVxcJ1wiPmNsaWNrIGhlcmU8L2VtPlxcbicgK1xuICAgICAgICAgICAgICAgJ3NuaXBwZXQ8L3A+JztcbiAgICAgICAgICAgICAkc2NvcGUuZGVsaWJlcmF0ZWx5VHJ1c3REYW5nZXJvdXNTbmlwcGV0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICByZXR1cm4gJHNjZS50cnVzdEFzSHRtbCgkc2NvcGUuc25pcHBldCk7XG4gICAgICAgICAgICAgfTtcbiAgICAgICAgICAgfV0pO1xuICAgICA8L3NjcmlwdD5cbiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgU25pcHBldDogPHRleHRhcmVhIG5nLW1vZGVsPVwic25pcHBldFwiIGNvbHM9XCI2MFwiIHJvd3M9XCIzXCI+PC90ZXh0YXJlYT5cbiAgICAgICA8dGFibGU+XG4gICAgICAgICA8dHI+XG4gICAgICAgICAgIDx0ZD5EaXJlY3RpdmU8L3RkPlxuICAgICAgICAgICA8dGQ+SG93PC90ZD5cbiAgICAgICAgICAgPHRkPlNvdXJjZTwvdGQ+XG4gICAgICAgICAgIDx0ZD5SZW5kZXJlZDwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgICAgPHRyIGlkPVwiYmluZC1odG1sLXdpdGgtc2FuaXRpemVcIj5cbiAgICAgICAgICAgPHRkPm5nLWJpbmQtaHRtbDwvdGQ+XG4gICAgICAgICAgIDx0ZD5BdXRvbWF0aWNhbGx5IHVzZXMgJHNhbml0aXplPC90ZD5cbiAgICAgICAgICAgPHRkPjxwcmU+Jmx0O2RpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0XCImZ3Q7PGJyLz4mbHQ7L2RpdiZndDs8L3ByZT48L3RkPlxuICAgICAgICAgICA8dGQ+PGRpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0XCI+PC9kaXY+PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJiaW5kLWh0bWwtd2l0aC10cnVzdFwiPlxuICAgICAgICAgICA8dGQ+bmctYmluZC1odG1sPC90ZD5cbiAgICAgICAgICAgPHRkPkJ5cGFzcyAkc2FuaXRpemUgYnkgZXhwbGljaXRseSB0cnVzdGluZyB0aGUgZGFuZ2Vyb3VzIHZhbHVlPC90ZD5cbiAgICAgICAgICAgPHRkPlxuICAgICAgICAgICA8cHJlPiZsdDtkaXYgbmctYmluZC1odG1sPVwiZGVsaWJlcmF0ZWx5VHJ1c3REYW5nZXJvdXNTbmlwcGV0KClcIiZndDtcbiZsdDsvZGl2Jmd0OzwvcHJlPlxuICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICA8dGQ+PGRpdiBuZy1iaW5kLWh0bWw9XCJkZWxpYmVyYXRlbHlUcnVzdERhbmdlcm91c1NuaXBwZXQoKVwiPjwvZGl2PjwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgICAgPHRyIGlkPVwiYmluZC1kZWZhdWx0XCI+XG4gICAgICAgICAgIDx0ZD5uZy1iaW5kPC90ZD5cbiAgICAgICAgICAgPHRkPkF1dG9tYXRpY2FsbHkgZXNjYXBlczwvdGQ+XG4gICAgICAgICAgIDx0ZD48cHJlPiZsdDtkaXYgbmctYmluZD1cInNuaXBwZXRcIiZndDs8YnIvPiZsdDsvZGl2Jmd0OzwvcHJlPjwvdGQ+XG4gICAgICAgICAgIDx0ZD48ZGl2IG5nLWJpbmQ9XCJzbmlwcGV0XCI+PC9kaXY+PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgPC90YWJsZT5cbiAgICAgICA8L2Rpdj5cbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgaXQoJ3Nob3VsZCBzYW5pdGl6ZSB0aGUgaHRtbCBzbmlwcGV0IGJ5IGRlZmF1bHQnLCBmdW5jdGlvbigpIHtcbiAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNiaW5kLWh0bWwtd2l0aC1zYW5pdGl6ZSBkaXYnKSkuZ2V0SW5uZXJIdG1sKCkpLlxuICAgICAgICAgdG9CZSgnPHA+YW4gaHRtbFxcbjxlbT5jbGljayBoZXJlPC9lbT5cXG5zbmlwcGV0PC9wPicpO1xuICAgICB9KTtcblxuICAgICBpdCgnc2hvdWxkIGlubGluZSByYXcgc25pcHBldCBpZiBib3VuZCB0byBhIHRydXN0ZWQgdmFsdWUnLCBmdW5jdGlvbigpIHtcbiAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNiaW5kLWh0bWwtd2l0aC10cnVzdCBkaXYnKSkuZ2V0SW5uZXJIdG1sKCkpLlxuICAgICAgICAgdG9CZShcIjxwIHN0eWxlPVxcXCJjb2xvcjpibHVlXFxcIj5hbiBodG1sXFxuXCIgK1xuICAgICAgICAgICAgICBcIjxlbSBvbm1vdXNlb3Zlcj1cXFwidGhpcy50ZXh0Q29udGVudD0nUFdOM0QhJ1xcXCI+Y2xpY2sgaGVyZTwvZW0+XFxuXCIgK1xuICAgICAgICAgICAgICBcInNuaXBwZXQ8L3A+XCIpO1xuICAgICB9KTtcblxuICAgICBpdCgnc2hvdWxkIGVzY2FwZSBzbmlwcGV0IHdpdGhvdXQgYW55IGZpbHRlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2JpbmQtZGVmYXVsdCBkaXYnKSkuZ2V0SW5uZXJIdG1sKCkpLlxuICAgICAgICAgdG9CZShcIiZsdDtwIHN0eWxlPVxcXCJjb2xvcjpibHVlXFxcIiZndDthbiBodG1sXFxuXCIgK1xuICAgICAgICAgICAgICBcIiZsdDtlbSBvbm1vdXNlb3Zlcj1cXFwidGhpcy50ZXh0Q29udGVudD0nUFdOM0QhJ1xcXCImZ3Q7Y2xpY2sgaGVyZSZsdDsvZW0mZ3Q7XFxuXCIgK1xuICAgICAgICAgICAgICBcInNuaXBwZXQmbHQ7L3AmZ3Q7XCIpO1xuICAgICB9KTtcblxuICAgICBpdCgnc2hvdWxkIHVwZGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NuaXBwZXQnKSkuY2xlYXIoKTtcbiAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzbmlwcGV0JykpLnNlbmRLZXlzKCduZXcgPGIgb25jbGljaz1cImFsZXJ0KDEpXCI+dGV4dDwvYj4nKTtcbiAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNiaW5kLWh0bWwtd2l0aC1zYW5pdGl6ZSBkaXYnKSkuZ2V0SW5uZXJIdG1sKCkpLlxuICAgICAgICAgdG9CZSgnbmV3IDxiPnRleHQ8L2I+Jyk7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1odG1sLXdpdGgtdHJ1c3QgZGl2JykpLmdldElubmVySHRtbCgpKS50b0JlKFxuICAgICAgICAgJ25ldyA8YiBvbmNsaWNrPVwiYWxlcnQoMSlcIj50ZXh0PC9iPicpO1xuICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2JpbmQtZGVmYXVsdCBkaXYnKSkuZ2V0SW5uZXJIdG1sKCkpLnRvQmUoXG4gICAgICAgICBcIm5ldyAmbHQ7YiBvbmNsaWNrPVxcXCJhbGVydCgxKVxcXCImZ3Q7dGV4dCZsdDsvYiZndDtcIik7XG4gICAgIH0pO1xuICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiAkU2FuaXRpemVQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckJHNhbml0aXplVXJpJywgZnVuY3Rpb24oJCRzYW5pdGl6ZVVyaSkge1xuICAgIHJldHVybiBmdW5jdGlvbihodG1sKSB7XG4gICAgICB2YXIgYnVmID0gW107XG4gICAgICBodG1sUGFyc2VyKGh0bWwsIGh0bWxTYW5pdGl6ZVdyaXRlcihidWYsIGZ1bmN0aW9uKHVyaSwgaXNJbWFnZSkge1xuICAgICAgICByZXR1cm4gIS9edW5zYWZlLy50ZXN0KCQkc2FuaXRpemVVcmkodXJpLCBpc0ltYWdlKSk7XG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gYnVmLmpvaW4oJycpO1xuICAgIH07XG4gIH1dO1xufVxuXG5mdW5jdGlvbiBzYW5pdGl6ZVRleHQoY2hhcnMpIHtcbiAgdmFyIGJ1ZiA9IFtdO1xuICB2YXIgd3JpdGVyID0gaHRtbFNhbml0aXplV3JpdGVyKGJ1ZiwgYW5ndWxhci5ub29wKTtcbiAgd3JpdGVyLmNoYXJzKGNoYXJzKTtcbiAgcmV0dXJuIGJ1Zi5qb2luKCcnKTtcbn1cblxuXG4vLyBSZWd1bGFyIEV4cHJlc3Npb25zIGZvciBwYXJzaW5nIHRhZ3MgYW5kIGF0dHJpYnV0ZXNcbnZhciBTVEFSVF9UQUdfUkVHRVhQID1cbiAgICAgICAvXjwoKD86W2EtekEtWl0pW1xcdzotXSopKCg/OlxccytbXFx3Oi1dKyg/Olxccyo9XFxzKig/Oig/OlwiW15cIl0qXCIpfCg/OidbXiddKicpfFtePlxcc10rKSk/KSopXFxzKihcXC8/KVxccyooPj8pLyxcbiAgRU5EX1RBR19SRUdFWFAgPSAvXjxcXC9cXHMqKFtcXHc6LV0rKVtePl0qPi8sXG4gIEFUVFJfUkVHRVhQID0gLyhbXFx3Oi1dKykoPzpcXHMqPVxccyooPzooPzpcIigoPzpbXlwiXSkqKVwiKXwoPzonKCg/OlteJ10pKiknKXwoW14+XFxzXSspKSk/L2csXG4gIEJFR0lOX1RBR19SRUdFWFAgPSAvXjwvLFxuICBCRUdJTkdfRU5EX1RBR0VfUkVHRVhQID0gL148XFwvLyxcbiAgQ09NTUVOVF9SRUdFWFAgPSAvPCEtLSguKj8pLS0+L2csXG4gIERPQ1RZUEVfUkVHRVhQID0gLzwhRE9DVFlQRShbXj5dKj8pPi9pLFxuICBDREFUQV9SRUdFWFAgPSAvPCFcXFtDREFUQVxcWyguKj8pXV0+L2csXG4gIFNVUlJPR0FURV9QQUlSX1JFR0VYUCA9IC9bXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZdL2csXG4gIC8vIE1hdGNoIGV2ZXJ5dGhpbmcgb3V0c2lkZSBvZiBub3JtYWwgY2hhcnMgYW5kIFwiIChxdW90ZSBjaGFyYWN0ZXIpXG4gIE5PTl9BTFBIQU5VTUVSSUNfUkVHRVhQID0gLyhbXlxcIy1+fCB8IV0pL2c7XG5cblxuLy8gR29vZCBzb3VyY2Ugb2YgaW5mbyBhYm91dCBlbGVtZW50cyBhbmQgYXR0cmlidXRlc1xuLy8gaHR0cDovL2Rldi53My5vcmcvaHRtbDUvc3BlYy9PdmVydmlldy5odG1sI3NlbWFudGljc1xuLy8gaHR0cDovL3NpbW9uLmh0bWw1Lm9yZy9odG1sLWVsZW1lbnRzXG5cbi8vIFNhZmUgVm9pZCBFbGVtZW50cyAtIEhUTUw1XG4vLyBodHRwOi8vZGV2LnczLm9yZy9odG1sNS9zcGVjL092ZXJ2aWV3Lmh0bWwjdm9pZC1lbGVtZW50c1xudmFyIHZvaWRFbGVtZW50cyA9IG1ha2VNYXAoXCJhcmVhLGJyLGNvbCxocixpbWcsd2JyXCIpO1xuXG4vLyBFbGVtZW50cyB0aGF0IHlvdSBjYW4sIGludGVudGlvbmFsbHksIGxlYXZlIG9wZW4gKGFuZCB3aGljaCBjbG9zZSB0aGVtc2VsdmVzKVxuLy8gaHR0cDovL2Rldi53My5vcmcvaHRtbDUvc3BlYy9PdmVydmlldy5odG1sI29wdGlvbmFsLXRhZ3NcbnZhciBvcHRpb25hbEVuZFRhZ0Jsb2NrRWxlbWVudHMgPSBtYWtlTWFwKFwiY29sZ3JvdXAsZGQsZHQsbGkscCx0Ym9keSx0ZCx0Zm9vdCx0aCx0aGVhZCx0clwiKSxcbiAgICBvcHRpb25hbEVuZFRhZ0lubGluZUVsZW1lbnRzID0gbWFrZU1hcChcInJwLHJ0XCIpLFxuICAgIG9wdGlvbmFsRW5kVGFnRWxlbWVudHMgPSBhbmd1bGFyLmV4dGVuZCh7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxFbmRUYWdJbmxpbmVFbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxFbmRUYWdCbG9ja0VsZW1lbnRzKTtcblxuLy8gU2FmZSBCbG9jayBFbGVtZW50cyAtIEhUTUw1XG52YXIgYmxvY2tFbGVtZW50cyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBvcHRpb25hbEVuZFRhZ0Jsb2NrRWxlbWVudHMsIG1ha2VNYXAoXCJhZGRyZXNzLGFydGljbGUsXCIgK1xuICAgICAgICBcImFzaWRlLGJsb2NrcXVvdGUsY2FwdGlvbixjZW50ZXIsZGVsLGRpcixkaXYsZGwsZmlndXJlLGZpZ2NhcHRpb24sZm9vdGVyLGgxLGgyLGgzLGg0LGg1LFwiICtcbiAgICAgICAgXCJoNixoZWFkZXIsaGdyb3VwLGhyLGlucyxtYXAsbWVudSxuYXYsb2wscHJlLHNjcmlwdCxzZWN0aW9uLHRhYmxlLHVsXCIpKTtcblxuLy8gSW5saW5lIEVsZW1lbnRzIC0gSFRNTDVcbnZhciBpbmxpbmVFbGVtZW50cyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBvcHRpb25hbEVuZFRhZ0lubGluZUVsZW1lbnRzLCBtYWtlTWFwKFwiYSxhYmJyLGFjcm9ueW0sYixcIiArXG4gICAgICAgIFwiYmRpLGJkbyxiaWcsYnIsY2l0ZSxjb2RlLGRlbCxkZm4sZW0sZm9udCxpLGltZyxpbnMsa2JkLGxhYmVsLG1hcCxtYXJrLHEscnVieSxycCxydCxzLFwiICtcbiAgICAgICAgXCJzYW1wLHNtYWxsLHNwYW4sc3RyaWtlLHN0cm9uZyxzdWIsc3VwLHRpbWUsdHQsdSx2YXJcIikpO1xuXG4vLyBTVkcgRWxlbWVudHNcbi8vIGh0dHBzOi8vd2lraS53aGF0d2cub3JnL3dpa2kvU2FuaXRpemF0aW9uX3J1bGVzI3N2Z19FbGVtZW50c1xudmFyIHN2Z0VsZW1lbnRzID0gbWFrZU1hcChcImFuaW1hdGUsYW5pbWF0ZUNvbG9yLGFuaW1hdGVNb3Rpb24sYW5pbWF0ZVRyYW5zZm9ybSxjaXJjbGUsZGVmcyxcIiArXG4gICAgICAgIFwiZGVzYyxlbGxpcHNlLGZvbnQtZmFjZSxmb250LWZhY2UtbmFtZSxmb250LWZhY2Utc3JjLGcsZ2x5cGgsaGtlcm4saW1hZ2UsbGluZWFyR3JhZGllbnQsXCIgK1xuICAgICAgICBcImxpbmUsbWFya2VyLG1ldGFkYXRhLG1pc3NpbmctZ2x5cGgsbXBhdGgscGF0aCxwb2x5Z29uLHBvbHlsaW5lLHJhZGlhbEdyYWRpZW50LHJlY3Qsc2V0LFwiICtcbiAgICAgICAgXCJzdG9wLHN2Zyxzd2l0Y2gsdGV4dCx0aXRsZSx0c3Bhbix1c2VcIik7XG5cbi8vIFNwZWNpYWwgRWxlbWVudHMgKGNhbiBjb250YWluIGFueXRoaW5nKVxudmFyIHNwZWNpYWxFbGVtZW50cyA9IG1ha2VNYXAoXCJzY3JpcHQsc3R5bGVcIik7XG5cbnZhciB2YWxpZEVsZW1lbnRzID0gYW5ndWxhci5leHRlbmQoe30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWRFbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tFbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5saW5lRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsRW5kVGFnRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN2Z0VsZW1lbnRzKTtcblxuLy9BdHRyaWJ1dGVzIHRoYXQgaGF2ZSBocmVmIGFuZCBoZW5jZSBuZWVkIHRvIGJlIHNhbml0aXplZFxudmFyIHVyaUF0dHJzID0gbWFrZU1hcChcImJhY2tncm91bmQsY2l0ZSxocmVmLGxvbmdkZXNjLHNyYyx1c2VtYXAseGxpbms6aHJlZlwiKTtcblxudmFyIGh0bWxBdHRycyA9IG1ha2VNYXAoJ2FiYnIsYWxpZ24sYWx0LGF4aXMsYmdjb2xvcixib3JkZXIsY2VsbHBhZGRpbmcsY2VsbHNwYWNpbmcsY2xhc3MsY2xlYXIsJyArXG4gICAgJ2NvbG9yLGNvbHMsY29sc3Bhbixjb21wYWN0LGNvb3JkcyxkaXIsZmFjZSxoZWFkZXJzLGhlaWdodCxocmVmbGFuZyxoc3BhY2UsJyArXG4gICAgJ2lzbWFwLGxhbmcsbGFuZ3VhZ2Usbm9ocmVmLG5vd3JhcCxyZWwscmV2LHJvd3Mscm93c3BhbixydWxlcywnICtcbiAgICAnc2NvcGUsc2Nyb2xsaW5nLHNoYXBlLHNpemUsc3BhbixzdGFydCxzdW1tYXJ5LHRhcmdldCx0aXRsZSx0eXBlLCcgK1xuICAgICd2YWxpZ24sdmFsdWUsdnNwYWNlLHdpZHRoJyk7XG5cbi8vIFNWRyBhdHRyaWJ1dGVzICh3aXRob3V0IFwiaWRcIiBhbmQgXCJuYW1lXCIgYXR0cmlidXRlcylcbi8vIGh0dHBzOi8vd2lraS53aGF0d2cub3JnL3dpa2kvU2FuaXRpemF0aW9uX3J1bGVzI3N2Z19BdHRyaWJ1dGVzXG52YXIgc3ZnQXR0cnMgPSBtYWtlTWFwKCdhY2NlbnQtaGVpZ2h0LGFjY3VtdWxhdGUsYWRkaXRpdmUsYWxwaGFiZXRpYyxhcmFiaWMtZm9ybSxhc2NlbnQsJyArXG4gICAgJ2F0dHJpYnV0ZU5hbWUsYXR0cmlidXRlVHlwZSxiYXNlUHJvZmlsZSxiYm94LGJlZ2luLGJ5LGNhbGNNb2RlLGNhcC1oZWlnaHQsY2xhc3MsY29sb3IsJyArXG4gICAgJ2NvbG9yLXJlbmRlcmluZyxjb250ZW50LGN4LGN5LGQsZHgsZHksZGVzY2VudCxkaXNwbGF5LGR1cixlbmQsZmlsbCxmaWxsLXJ1bGUsZm9udC1mYW1pbHksJyArXG4gICAgJ2ZvbnQtc2l6ZSxmb250LXN0cmV0Y2gsZm9udC1zdHlsZSxmb250LXZhcmlhbnQsZm9udC13ZWlnaHQsZnJvbSxmeCxmeSxnMSxnMixnbHlwaC1uYW1lLCcgK1xuICAgICdncmFkaWVudFVuaXRzLGhhbmdpbmcsaGVpZ2h0LGhvcml6LWFkdi14LGhvcml6LW9yaWdpbi14LGlkZW9ncmFwaGljLGssa2V5UG9pbnRzLCcgK1xuICAgICdrZXlTcGxpbmVzLGtleVRpbWVzLGxhbmcsbWFya2VyLWVuZCxtYXJrZXItbWlkLG1hcmtlci1zdGFydCxtYXJrZXJIZWlnaHQsbWFya2VyVW5pdHMsJyArXG4gICAgJ21hcmtlcldpZHRoLG1hdGhlbWF0aWNhbCxtYXgsbWluLG9mZnNldCxvcGFjaXR5LG9yaWVudCxvcmlnaW4sb3ZlcmxpbmUtcG9zaXRpb24sJyArXG4gICAgJ292ZXJsaW5lLXRoaWNrbmVzcyxwYW5vc2UtMSxwYXRoLHBhdGhMZW5ndGgscG9pbnRzLHByZXNlcnZlQXNwZWN0UmF0aW8scixyZWZYLHJlZlksJyArXG4gICAgJ3JlcGVhdENvdW50LHJlcGVhdER1cixyZXF1aXJlZEV4dGVuc2lvbnMscmVxdWlyZWRGZWF0dXJlcyxyZXN0YXJ0LHJvdGF0ZSxyeCxyeSxzbG9wZSxzdGVtaCwnICtcbiAgICAnc3RlbXYsc3RvcC1jb2xvcixzdG9wLW9wYWNpdHksc3RyaWtldGhyb3VnaC1wb3NpdGlvbixzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyxzdHJva2UsJyArXG4gICAgJ3N0cm9rZS1kYXNoYXJyYXksc3Ryb2tlLWRhc2hvZmZzZXQsc3Ryb2tlLWxpbmVjYXAsc3Ryb2tlLWxpbmVqb2luLHN0cm9rZS1taXRlcmxpbWl0LCcgK1xuICAgICdzdHJva2Utb3BhY2l0eSxzdHJva2Utd2lkdGgsc3lzdGVtTGFuZ3VhZ2UsdGFyZ2V0LHRleHQtYW5jaG9yLHRvLHRyYW5zZm9ybSx0eXBlLHUxLHUyLCcgK1xuICAgICd1bmRlcmxpbmUtcG9zaXRpb24sdW5kZXJsaW5lLXRoaWNrbmVzcyx1bmljb2RlLHVuaWNvZGUtcmFuZ2UsdW5pdHMtcGVyLWVtLHZhbHVlcyx2ZXJzaW9uLCcgK1xuICAgICd2aWV3Qm94LHZpc2liaWxpdHksd2lkdGgsd2lkdGhzLHgseC1oZWlnaHQseDEseDIseGxpbms6YWN0dWF0ZSx4bGluazphcmNyb2xlLHhsaW5rOnJvbGUsJyArXG4gICAgJ3hsaW5rOnNob3cseGxpbms6dGl0bGUseGxpbms6dHlwZSx4bWw6YmFzZSx4bWw6bGFuZyx4bWw6c3BhY2UseG1sbnMseG1sbnM6eGxpbmsseSx5MSx5MiwnICtcbiAgICAnem9vbUFuZFBhbicpO1xuXG52YXIgdmFsaWRBdHRycyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmlBdHRycyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ZnQXR0cnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxBdHRycyk7XG5cbmZ1bmN0aW9uIG1ha2VNYXAoc3RyKSB7XG4gIHZhciBvYmogPSB7fSwgaXRlbXMgPSBzdHIuc3BsaXQoJywnKSwgaTtcbiAgZm9yIChpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSBvYmpbaXRlbXNbaV1dID0gdHJ1ZTtcbiAgcmV0dXJuIG9iajtcbn1cblxuXG4vKipcbiAqIEBleGFtcGxlXG4gKiBodG1sUGFyc2VyKGh0bWxTdHJpbmcsIHtcbiAqICAgICBzdGFydDogZnVuY3Rpb24odGFnLCBhdHRycywgdW5hcnkpIHt9LFxuICogICAgIGVuZDogZnVuY3Rpb24odGFnKSB7fSxcbiAqICAgICBjaGFyczogZnVuY3Rpb24odGV4dCkge30sXG4gKiAgICAgY29tbWVudDogZnVuY3Rpb24odGV4dCkge31cbiAqIH0pO1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBodG1sIHN0cmluZ1xuICogQHBhcmFtIHtvYmplY3R9IGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gaHRtbFBhcnNlcihodG1sLCBoYW5kbGVyKSB7XG4gIGlmICh0eXBlb2YgaHRtbCAhPT0gJ3N0cmluZycpIHtcbiAgICBpZiAoaHRtbCA9PT0gbnVsbCB8fCB0eXBlb2YgaHRtbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGh0bWwgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgaHRtbCA9ICcnICsgaHRtbDtcbiAgICB9XG4gIH1cbiAgdmFyIGluZGV4LCBjaGFycywgbWF0Y2gsIHN0YWNrID0gW10sIGxhc3QgPSBodG1sLCB0ZXh0O1xuICBzdGFjay5sYXN0ID0gZnVuY3Rpb24oKSB7IHJldHVybiBzdGFja1tzdGFjay5sZW5ndGggLSAxXTsgfTtcblxuICB3aGlsZSAoaHRtbCkge1xuICAgIHRleHQgPSAnJztcbiAgICBjaGFycyA9IHRydWU7XG5cbiAgICAvLyBNYWtlIHN1cmUgd2UncmUgbm90IGluIGEgc2NyaXB0IG9yIHN0eWxlIGVsZW1lbnRcbiAgICBpZiAoIXN0YWNrLmxhc3QoKSB8fCAhc3BlY2lhbEVsZW1lbnRzW3N0YWNrLmxhc3QoKV0pIHtcblxuICAgICAgLy8gQ29tbWVudFxuICAgICAgaWYgKGh0bWwuaW5kZXhPZihcIjwhLS1cIikgPT09IDApIHtcbiAgICAgICAgLy8gY29tbWVudHMgY29udGFpbmluZyAtLSBhcmUgbm90IGFsbG93ZWQgdW5sZXNzIHRoZXkgdGVybWluYXRlIHRoZSBjb21tZW50XG4gICAgICAgIGluZGV4ID0gaHRtbC5pbmRleE9mKFwiLS1cIiwgNCk7XG5cbiAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaHRtbC5sYXN0SW5kZXhPZihcIi0tPlwiLCBpbmRleCkgPT09IGluZGV4KSB7XG4gICAgICAgICAgaWYgKGhhbmRsZXIuY29tbWVudCkgaGFuZGxlci5jb21tZW50KGh0bWwuc3Vic3RyaW5nKDQsIGluZGV4KSk7XG4gICAgICAgICAgaHRtbCA9IGh0bWwuc3Vic3RyaW5nKGluZGV4ICsgMyk7XG4gICAgICAgICAgY2hhcnMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgLy8gRE9DVFlQRVxuICAgICAgfSBlbHNlIGlmIChET0NUWVBFX1JFR0VYUC50ZXN0KGh0bWwpKSB7XG4gICAgICAgIG1hdGNoID0gaHRtbC5tYXRjaChET0NUWVBFX1JFR0VYUCk7XG5cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZShtYXRjaFswXSwgJycpO1xuICAgICAgICAgIGNoYXJzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIC8vIGVuZCB0YWdcbiAgICAgIH0gZWxzZSBpZiAoQkVHSU5HX0VORF9UQUdFX1JFR0VYUC50ZXN0KGh0bWwpKSB7XG4gICAgICAgIG1hdGNoID0gaHRtbC5tYXRjaChFTkRfVEFHX1JFR0VYUCk7XG5cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgaHRtbCA9IGh0bWwuc3Vic3RyaW5nKG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgICAgICAgbWF0Y2hbMF0ucmVwbGFjZShFTkRfVEFHX1JFR0VYUCwgcGFyc2VFbmRUYWcpO1xuICAgICAgICAgIGNoYXJzID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgLy8gc3RhcnQgdGFnXG4gICAgICB9IGVsc2UgaWYgKEJFR0lOX1RBR19SRUdFWFAudGVzdChodG1sKSkge1xuICAgICAgICBtYXRjaCA9IGh0bWwubWF0Y2goU1RBUlRfVEFHX1JFR0VYUCk7XG5cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgLy8gV2Ugb25seSBoYXZlIGEgdmFsaWQgc3RhcnQtdGFnIGlmIHRoZXJlIGlzIGEgJz4nLlxuICAgICAgICAgIGlmIChtYXRjaFs0XSkge1xuICAgICAgICAgICAgaHRtbCA9IGh0bWwuc3Vic3RyaW5nKG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICBtYXRjaFswXS5yZXBsYWNlKFNUQVJUX1RBR19SRUdFWFAsIHBhcnNlU3RhcnRUYWcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaGFycyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG5vIGVuZGluZyB0YWcgZm91bmQgLS0tIHRoaXMgcGllY2Ugc2hvdWxkIGJlIGVuY29kZWQgYXMgYW4gZW50aXR5LlxuICAgICAgICAgIHRleHQgKz0gJzwnO1xuICAgICAgICAgIGh0bWwgPSBodG1sLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY2hhcnMpIHtcbiAgICAgICAgaW5kZXggPSBodG1sLmluZGV4T2YoXCI8XCIpO1xuXG4gICAgICAgIHRleHQgKz0gaW5kZXggPCAwID8gaHRtbCA6IGh0bWwuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgICAgaHRtbCA9IGluZGV4IDwgMCA/IFwiXCIgOiBodG1sLnN1YnN0cmluZyhpbmRleCk7XG5cbiAgICAgICAgaWYgKGhhbmRsZXIuY2hhcnMpIGhhbmRsZXIuY2hhcnMoZGVjb2RlRW50aXRpZXModGV4dCkpO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElFIHZlcnNpb25zIDkgYW5kIDEwIGRvIG5vdCB1bmRlcnN0YW5kIHRoZSByZWdleCAnW15dJywgc28gdXNpbmcgYSB3b3JrYXJvdW5kIHdpdGggW1xcV1xcd10uXG4gICAgICBodG1sID0gaHRtbC5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoW1xcXFxXXFxcXHddKik8XFxcXHMqXFxcXC9cXFxccypcIiArIHN0YWNrLmxhc3QoKSArIFwiW14+XSo+XCIsICdpJyksXG4gICAgICAgIGZ1bmN0aW9uKGFsbCwgdGV4dCkge1xuICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoQ09NTUVOVF9SRUdFWFAsIFwiJDFcIikucmVwbGFjZShDREFUQV9SRUdFWFAsIFwiJDFcIik7XG5cbiAgICAgICAgICBpZiAoaGFuZGxlci5jaGFycykgaGFuZGxlci5jaGFycyhkZWNvZGVFbnRpdGllcyh0ZXh0KSk7XG5cbiAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIH0pO1xuXG4gICAgICBwYXJzZUVuZFRhZyhcIlwiLCBzdGFjay5sYXN0KCkpO1xuICAgIH1cblxuICAgIGlmIChodG1sID09IGxhc3QpIHtcbiAgICAgIHRocm93ICRzYW5pdGl6ZU1pbkVycignYmFkcGFyc2UnLCBcIlRoZSBzYW5pdGl6ZXIgd2FzIHVuYWJsZSB0byBwYXJzZSB0aGUgZm9sbG93aW5nIGJsb2NrIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9mIGh0bWw6IHswfVwiLCBodG1sKTtcbiAgICB9XG4gICAgbGFzdCA9IGh0bWw7XG4gIH1cblxuICAvLyBDbGVhbiB1cCBhbnkgcmVtYWluaW5nIHRhZ3NcbiAgcGFyc2VFbmRUYWcoKTtcblxuICBmdW5jdGlvbiBwYXJzZVN0YXJ0VGFnKHRhZywgdGFnTmFtZSwgcmVzdCwgdW5hcnkpIHtcbiAgICB0YWdOYW1lID0gYW5ndWxhci5sb3dlcmNhc2UodGFnTmFtZSk7XG4gICAgaWYgKGJsb2NrRWxlbWVudHNbdGFnTmFtZV0pIHtcbiAgICAgIHdoaWxlIChzdGFjay5sYXN0KCkgJiYgaW5saW5lRWxlbWVudHNbc3RhY2subGFzdCgpXSkge1xuICAgICAgICBwYXJzZUVuZFRhZyhcIlwiLCBzdGFjay5sYXN0KCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcHRpb25hbEVuZFRhZ0VsZW1lbnRzW3RhZ05hbWVdICYmIHN0YWNrLmxhc3QoKSA9PSB0YWdOYW1lKSB7XG4gICAgICBwYXJzZUVuZFRhZyhcIlwiLCB0YWdOYW1lKTtcbiAgICB9XG5cbiAgICB1bmFyeSA9IHZvaWRFbGVtZW50c1t0YWdOYW1lXSB8fCAhIXVuYXJ5O1xuXG4gICAgaWYgKCF1bmFyeSlcbiAgICAgIHN0YWNrLnB1c2godGFnTmFtZSk7XG5cbiAgICB2YXIgYXR0cnMgPSB7fTtcblxuICAgIHJlc3QucmVwbGFjZShBVFRSX1JFR0VYUCxcbiAgICAgIGZ1bmN0aW9uKG1hdGNoLCBuYW1lLCBkb3VibGVRdW90ZWRWYWx1ZSwgc2luZ2xlUXVvdGVkVmFsdWUsIHVucXVvdGVkVmFsdWUpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gZG91YmxlUXVvdGVkVmFsdWVcbiAgICAgICAgICB8fCBzaW5nbGVRdW90ZWRWYWx1ZVxuICAgICAgICAgIHx8IHVucXVvdGVkVmFsdWVcbiAgICAgICAgICB8fCAnJztcblxuICAgICAgICBhdHRyc1tuYW1lXSA9IGRlY29kZUVudGl0aWVzKHZhbHVlKTtcbiAgICB9KTtcbiAgICBpZiAoaGFuZGxlci5zdGFydCkgaGFuZGxlci5zdGFydCh0YWdOYW1lLCBhdHRycywgdW5hcnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VFbmRUYWcodGFnLCB0YWdOYW1lKSB7XG4gICAgdmFyIHBvcyA9IDAsIGk7XG4gICAgdGFnTmFtZSA9IGFuZ3VsYXIubG93ZXJjYXNlKHRhZ05hbWUpO1xuICAgIGlmICh0YWdOYW1lKVxuICAgICAgLy8gRmluZCB0aGUgY2xvc2VzdCBvcGVuZWQgdGFnIG9mIHRoZSBzYW1lIHR5cGVcbiAgICAgIGZvciAocG9zID0gc3RhY2subGVuZ3RoIC0gMTsgcG9zID49IDA7IHBvcy0tKVxuICAgICAgICBpZiAoc3RhY2tbcG9zXSA9PSB0YWdOYW1lKVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgaWYgKHBvcyA+PSAwKSB7XG4gICAgICAvLyBDbG9zZSBhbGwgdGhlIG9wZW4gZWxlbWVudHMsIHVwIHRoZSBzdGFja1xuICAgICAgZm9yIChpID0gc3RhY2subGVuZ3RoIC0gMTsgaSA+PSBwb3M7IGktLSlcbiAgICAgICAgaWYgKGhhbmRsZXIuZW5kKSBoYW5kbGVyLmVuZChzdGFja1tpXSk7XG5cbiAgICAgIC8vIFJlbW92ZSB0aGUgb3BlbiBlbGVtZW50cyBmcm9tIHRoZSBzdGFja1xuICAgICAgc3RhY2subGVuZ3RoID0gcG9zO1xuICAgIH1cbiAgfVxufVxuXG52YXIgaGlkZGVuUHJlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwcmVcIik7XG4vKipcbiAqIGRlY29kZXMgYWxsIGVudGl0aWVzIGludG8gcmVndWxhciBzdHJpbmdcbiAqIEBwYXJhbSB2YWx1ZVxuICogQHJldHVybnMge3N0cmluZ30gQSBzdHJpbmcgd2l0aCBkZWNvZGVkIGVudGl0aWVzLlxuICovXG5mdW5jdGlvbiBkZWNvZGVFbnRpdGllcyh2YWx1ZSkge1xuICBpZiAoIXZhbHVlKSB7IHJldHVybiAnJzsgfVxuXG4gIGhpZGRlblByZS5pbm5lckhUTUwgPSB2YWx1ZS5yZXBsYWNlKC88L2csXCImbHQ7XCIpO1xuICAvLyBpbm5lclRleHQgZGVwZW5kcyBvbiBzdHlsaW5nIGFzIGl0IGRvZXNuJ3QgZGlzcGxheSBoaWRkZW4gZWxlbWVudHMuXG4gIC8vIFRoZXJlZm9yZSwgaXQncyBiZXR0ZXIgdG8gdXNlIHRleHRDb250ZW50IG5vdCB0byBjYXVzZSB1bm5lY2Vzc2FyeSByZWZsb3dzLlxuICByZXR1cm4gaGlkZGVuUHJlLnRleHRDb250ZW50O1xufVxuXG4vKipcbiAqIEVzY2FwZXMgYWxsIHBvdGVudGlhbGx5IGRhbmdlcm91cyBjaGFyYWN0ZXJzLCBzbyB0aGF0IHRoZVxuICogcmVzdWx0aW5nIHN0cmluZyBjYW4gYmUgc2FmZWx5IGluc2VydGVkIGludG8gYXR0cmlidXRlIG9yXG4gKiBlbGVtZW50IHRleHQuXG4gKiBAcGFyYW0gdmFsdWVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGVzY2FwZWQgdGV4dFxuICovXG5mdW5jdGlvbiBlbmNvZGVFbnRpdGllcyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUuXG4gICAgcmVwbGFjZSgvJi9nLCAnJmFtcDsnKS5cbiAgICByZXBsYWNlKFNVUlJPR0FURV9QQUlSX1JFR0VYUCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBoaSA9IHZhbHVlLmNoYXJDb2RlQXQoMCk7XG4gICAgICB2YXIgbG93ID0gdmFsdWUuY2hhckNvZGVBdCgxKTtcbiAgICAgIHJldHVybiAnJiMnICsgKCgoaGkgLSAweEQ4MDApICogMHg0MDApICsgKGxvdyAtIDB4REMwMCkgKyAweDEwMDAwKSArICc7JztcbiAgICB9KS5cbiAgICByZXBsYWNlKE5PTl9BTFBIQU5VTUVSSUNfUkVHRVhQLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuICcmIycgKyB2YWx1ZS5jaGFyQ29kZUF0KDApICsgJzsnO1xuICAgIH0pLlxuICAgIHJlcGxhY2UoLzwvZywgJyZsdDsnKS5cbiAgICByZXBsYWNlKC8+L2csICcmZ3Q7Jyk7XG59XG5cbi8qKlxuICogY3JlYXRlIGFuIEhUTUwvWE1MIHdyaXRlciB3aGljaCB3cml0ZXMgdG8gYnVmZmVyXG4gKiBAcGFyYW0ge0FycmF5fSBidWYgdXNlIGJ1Zi5qYWluKCcnKSB0byBnZXQgb3V0IHNhbml0aXplZCBodG1sIHN0cmluZ1xuICogQHJldHVybnMge29iamVjdH0gaW4gdGhlIGZvcm0gb2Yge1xuICogICAgIHN0YXJ0OiBmdW5jdGlvbih0YWcsIGF0dHJzLCB1bmFyeSkge30sXG4gKiAgICAgZW5kOiBmdW5jdGlvbih0YWcpIHt9LFxuICogICAgIGNoYXJzOiBmdW5jdGlvbih0ZXh0KSB7fSxcbiAqICAgICBjb21tZW50OiBmdW5jdGlvbih0ZXh0KSB7fVxuICogfVxuICovXG5mdW5jdGlvbiBodG1sU2FuaXRpemVXcml0ZXIoYnVmLCB1cmlWYWxpZGF0b3IpIHtcbiAgdmFyIGlnbm9yZSA9IGZhbHNlO1xuICB2YXIgb3V0ID0gYW5ndWxhci5iaW5kKGJ1ZiwgYnVmLnB1c2gpO1xuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBmdW5jdGlvbih0YWcsIGF0dHJzLCB1bmFyeSkge1xuICAgICAgdGFnID0gYW5ndWxhci5sb3dlcmNhc2UodGFnKTtcbiAgICAgIGlmICghaWdub3JlICYmIHNwZWNpYWxFbGVtZW50c1t0YWddKSB7XG4gICAgICAgIGlnbm9yZSA9IHRhZztcbiAgICAgIH1cbiAgICAgIGlmICghaWdub3JlICYmIHZhbGlkRWxlbWVudHNbdGFnXSA9PT0gdHJ1ZSkge1xuICAgICAgICBvdXQoJzwnKTtcbiAgICAgICAgb3V0KHRhZyk7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChhdHRycywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgIHZhciBsa2V5PWFuZ3VsYXIubG93ZXJjYXNlKGtleSk7XG4gICAgICAgICAgdmFyIGlzSW1hZ2UgPSAodGFnID09PSAnaW1nJyAmJiBsa2V5ID09PSAnc3JjJykgfHwgKGxrZXkgPT09ICdiYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgaWYgKHZhbGlkQXR0cnNbbGtleV0gPT09IHRydWUgJiZcbiAgICAgICAgICAgICh1cmlBdHRyc1tsa2V5XSAhPT0gdHJ1ZSB8fCB1cmlWYWxpZGF0b3IodmFsdWUsIGlzSW1hZ2UpKSkge1xuICAgICAgICAgICAgb3V0KCcgJyk7XG4gICAgICAgICAgICBvdXQoa2V5KTtcbiAgICAgICAgICAgIG91dCgnPVwiJyk7XG4gICAgICAgICAgICBvdXQoZW5jb2RlRW50aXRpZXModmFsdWUpKTtcbiAgICAgICAgICAgIG91dCgnXCInKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBvdXQodW5hcnkgPyAnLz4nIDogJz4nKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVuZDogZnVuY3Rpb24odGFnKSB7XG4gICAgICAgIHRhZyA9IGFuZ3VsYXIubG93ZXJjYXNlKHRhZyk7XG4gICAgICAgIGlmICghaWdub3JlICYmIHZhbGlkRWxlbWVudHNbdGFnXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIG91dCgnPC8nKTtcbiAgICAgICAgICBvdXQodGFnKTtcbiAgICAgICAgICBvdXQoJz4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IGlnbm9yZSkge1xuICAgICAgICAgIGlnbm9yZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIGNoYXJzOiBmdW5jdGlvbihjaGFycykge1xuICAgICAgICBpZiAoIWlnbm9yZSkge1xuICAgICAgICAgIG91dChlbmNvZGVFbnRpdGllcyhjaGFycykpO1xuICAgICAgICB9XG4gICAgICB9XG4gIH07XG59XG5cblxuLy8gZGVmaW5lIG5nU2FuaXRpemUgbW9kdWxlIGFuZCByZWdpc3RlciAkc2FuaXRpemUgc2VydmljZVxuYW5ndWxhci5tb2R1bGUoJ25nU2FuaXRpemUnLCBbXSkucHJvdmlkZXIoJyRzYW5pdGl6ZScsICRTYW5pdGl6ZVByb3ZpZGVyKTtcblxuLyogZ2xvYmFsIHNhbml0aXplVGV4dDogZmFsc2UgKi9cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBsaW5reVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZpbmRzIGxpbmtzIGluIHRleHQgaW5wdXQgYW5kIHR1cm5zIHRoZW0gaW50byBodG1sIGxpbmtzLiBTdXBwb3J0cyBodHRwL2h0dHBzL2Z0cC9tYWlsdG8gYW5kXG4gKiBwbGFpbiBlbWFpbCBhZGRyZXNzIGxpbmtzLlxuICpcbiAqIFJlcXVpcmVzIHRoZSB7QGxpbmsgbmdTYW5pdGl6ZSBgbmdTYW5pdGl6ZWB9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgSW5wdXQgdGV4dC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXQgV2luZG93IChfYmxhbmt8X3NlbGZ8X3BhcmVudHxfdG9wKSBvciBuYW1lZCBmcmFtZSB0byBvcGVuIGxpbmtzIGluLlxuICogQHJldHVybnMge3N0cmluZ30gSHRtbC1saW5raWZpZWQgdGV4dC5cbiAqXG4gKiBAdXNhZ2VcbiAgIDxzcGFuIG5nLWJpbmQtaHRtbD1cImxpbmt5X2V4cHJlc3Npb24gfCBsaW5reVwiPjwvc3Bhbj5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibGlua3lFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2xpbmt5RXhhbXBsZScsIFsnbmdTYW5pdGl6ZSddKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5zbmlwcGV0ID1cbiAgICAgICAgICAgICAgICdQcmV0dHkgdGV4dCB3aXRoIHNvbWUgbGlua3M6XFxuJytcbiAgICAgICAgICAgICAgICdodHRwOi8vYW5ndWxhcmpzLm9yZy8sXFxuJytcbiAgICAgICAgICAgICAgICdtYWlsdG86dXNAc29tZXdoZXJlLm9yZyxcXG4nK1xuICAgICAgICAgICAgICAgJ2Fub3RoZXJAc29tZXdoZXJlLm9yZyxcXG4nK1xuICAgICAgICAgICAgICAgJ2FuZCBvbmUgbW9yZTogZnRwOi8vMTI3LjAuMC4xLy4nO1xuICAgICAgICAgICAgICRzY29wZS5zbmlwcGV0V2l0aFRhcmdldCA9ICdodHRwOi8vYW5ndWxhcmpzLm9yZy8nO1xuICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICBTbmlwcGV0OiA8dGV4dGFyZWEgbmctbW9kZWw9XCJzbmlwcGV0XCIgY29scz1cIjYwXCIgcm93cz1cIjNcIj48L3RleHRhcmVhPlxuICAgICAgIDx0YWJsZT5cbiAgICAgICAgIDx0cj5cbiAgICAgICAgICAgPHRkPkZpbHRlcjwvdGQ+XG4gICAgICAgICAgIDx0ZD5Tb3VyY2U8L3RkPlxuICAgICAgICAgICA8dGQ+UmVuZGVyZWQ8L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICAgIDx0ciBpZD1cImxpbmt5LWZpbHRlclwiPlxuICAgICAgICAgICA8dGQ+bGlua3kgZmlsdGVyPC90ZD5cbiAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgIDxwcmU+Jmx0O2RpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0IHwgbGlua3lcIiZndDs8YnI+Jmx0Oy9kaXYmZ3Q7PC9wcmU+XG4gICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICA8ZGl2IG5nLWJpbmQtaHRtbD1cInNuaXBwZXQgfCBsaW5reVwiPjwvZGl2PlxuICAgICAgICAgICA8L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICAgIDx0ciBpZD1cImxpbmt5LXRhcmdldFwiPlxuICAgICAgICAgIDx0ZD5saW5reSB0YXJnZXQ8L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIDxwcmU+Jmx0O2RpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0V2l0aFRhcmdldCB8IGxpbmt5OidfYmxhbmsnXCImZ3Q7PGJyPiZsdDsvZGl2Jmd0OzwvcHJlPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAgPGRpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0V2l0aFRhcmdldCB8IGxpbmt5OidfYmxhbmsnXCI+PC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJlc2NhcGVkLWh0bWxcIj5cbiAgICAgICAgICAgPHRkPm5vIGZpbHRlcjwvdGQ+XG4gICAgICAgICAgIDx0ZD48cHJlPiZsdDtkaXYgbmctYmluZD1cInNuaXBwZXRcIiZndDs8YnI+Jmx0Oy9kaXYmZ3Q7PC9wcmU+PC90ZD5cbiAgICAgICAgICAgPHRkPjxkaXYgbmctYmluZD1cInNuaXBwZXRcIj48L2Rpdj48L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICA8L3RhYmxlPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGxpbmtpZnkgdGhlIHNuaXBwZXQgd2l0aCB1cmxzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGlua3ktZmlsdGVyJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCB8IGxpbmt5JykpLmdldFRleHQoKSkuXG4gICAgICAgICAgICAgdG9CZSgnUHJldHR5IHRleHQgd2l0aCBzb21lIGxpbmtzOiBodHRwOi8vYW5ndWxhcmpzLm9yZy8sIHVzQHNvbWV3aGVyZS5vcmcsICcgK1xuICAgICAgICAgICAgICAgICAgJ2Fub3RoZXJAc29tZXdoZXJlLm9yZywgYW5kIG9uZSBtb3JlOiBmdHA6Ly8xMjcuMC4wLjEvLicpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnI2xpbmt5LWZpbHRlciBhJykpLmNvdW50KCkpLnRvRXF1YWwoNCk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIG5vdCBsaW5raWZ5IHNuaXBwZXQgd2l0aG91dCB0aGUgbGlua3kgZmlsdGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZXNjYXBlZC1odG1sJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCcpKS5nZXRUZXh0KCkpLlxuICAgICAgICAgICAgIHRvQmUoJ1ByZXR0eSB0ZXh0IHdpdGggc29tZSBsaW5rczogaHR0cDovL2FuZ3VsYXJqcy5vcmcvLCBtYWlsdG86dXNAc29tZXdoZXJlLm9yZywgJyArXG4gICAgICAgICAgICAgICAgICAnYW5vdGhlckBzb21ld2hlcmUub3JnLCBhbmQgb25lIG1vcmU6IGZ0cDovLzEyNy4wLjAuMS8uJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCcjZXNjYXBlZC1odG1sIGEnKSkuY291bnQoKSkudG9FcXVhbCgwKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgdXBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzbmlwcGV0JykpLmNsZWFyKCk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzbmlwcGV0JykpLnNlbmRLZXlzKCduZXcgaHR0cDovL2xpbmsuJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGlua3ktZmlsdGVyJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCB8IGxpbmt5JykpLmdldFRleHQoKSkuXG4gICAgICAgICAgICAgdG9CZSgnbmV3IGh0dHA6Ly9saW5rLicpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnI2xpbmt5LWZpbHRlciBhJykpLmNvdW50KCkpLnRvRXF1YWwoMSk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZXNjYXBlZC1odG1sJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCcpKS5nZXRUZXh0KCkpXG4gICAgICAgICAgICAgLnRvQmUoJ25ldyBodHRwOi8vbGluay4nKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgd29yayB3aXRoIHRoZSB0YXJnZXQgcHJvcGVydHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmt5LXRhcmdldCcpKS5cbiAgICAgICAgICAgIGVsZW1lbnQoYnkuYmluZGluZyhcInNuaXBwZXRXaXRoVGFyZ2V0IHwgbGlua3k6J19ibGFuaydcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b0JlKCdodHRwOi8vYW5ndWxhcmpzLm9yZy8nKTtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjbGlua3ktdGFyZ2V0IGEnKSkuZ2V0QXR0cmlidXRlKCd0YXJnZXQnKSkudG9FcXVhbCgnX2JsYW5rJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ25nU2FuaXRpemUnKS5maWx0ZXIoJ2xpbmt5JywgWyckc2FuaXRpemUnLCBmdW5jdGlvbigkc2FuaXRpemUpIHtcbiAgdmFyIExJTktZX1VSTF9SRUdFWFAgPVxuICAgICAgICAvKChmdHB8aHR0cHM/KTpcXC9cXC98KHd3d1xcLil8KG1haWx0bzopP1tBLVphLXowLTkuXyUrLV0rQClcXFMqW15cXHMuOywoKXt9PD5cIuKAneKAmV0vaSxcbiAgICAgIE1BSUxUT19SRUdFWFAgPSAvXm1haWx0bzovaTtcblxuICByZXR1cm4gZnVuY3Rpb24odGV4dCwgdGFyZ2V0KSB7XG4gICAgaWYgKCF0ZXh0KSByZXR1cm4gdGV4dDtcbiAgICB2YXIgbWF0Y2g7XG4gICAgdmFyIHJhdyA9IHRleHQ7XG4gICAgdmFyIGh0bWwgPSBbXTtcbiAgICB2YXIgdXJsO1xuICAgIHZhciBpO1xuICAgIHdoaWxlICgobWF0Y2ggPSByYXcubWF0Y2goTElOS1lfVVJMX1JFR0VYUCkpKSB7XG4gICAgICAvLyBXZSBjYW4gbm90IGVuZCBpbiB0aGVzZSBhcyB0aGV5IGFyZSBzb21ldGltZXMgZm91bmQgYXQgdGhlIGVuZCBvZiB0aGUgc2VudGVuY2VcbiAgICAgIHVybCA9IG1hdGNoWzBdO1xuICAgICAgLy8gaWYgd2UgZGlkIG5vdCBtYXRjaCBmdHAvaHR0cC93d3cvbWFpbHRvIHRoZW4gYXNzdW1lIG1haWx0b1xuICAgICAgaWYgKCFtYXRjaFsyXSAmJiAhbWF0Y2hbNF0pIHtcbiAgICAgICAgdXJsID0gKG1hdGNoWzNdID8gJ2h0dHA6Ly8nIDogJ21haWx0bzonKSArIHVybDtcbiAgICAgIH1cbiAgICAgIGkgPSBtYXRjaC5pbmRleDtcbiAgICAgIGFkZFRleHQocmF3LnN1YnN0cigwLCBpKSk7XG4gICAgICBhZGRMaW5rKHVybCwgbWF0Y2hbMF0ucmVwbGFjZShNQUlMVE9fUkVHRVhQLCAnJykpO1xuICAgICAgcmF3ID0gcmF3LnN1YnN0cmluZyhpICsgbWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICB9XG4gICAgYWRkVGV4dChyYXcpO1xuICAgIHJldHVybiAkc2FuaXRpemUoaHRtbC5qb2luKCcnKSk7XG5cbiAgICBmdW5jdGlvbiBhZGRUZXh0KHRleHQpIHtcbiAgICAgIGlmICghdGV4dCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBodG1sLnB1c2goc2FuaXRpemVUZXh0KHRleHQpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRMaW5rKHVybCwgdGV4dCkge1xuICAgICAgaHRtbC5wdXNoKCc8YSAnKTtcbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0YXJnZXQpKSB7XG4gICAgICAgIGh0bWwucHVzaCgndGFyZ2V0PVwiJyxcbiAgICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICAgICdcIiAnKTtcbiAgICAgIH1cbiAgICAgIGh0bWwucHVzaCgnaHJlZj1cIicsXG4gICAgICAgICAgICAgICAgdXJsLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKSxcbiAgICAgICAgICAgICAgICAnXCI+Jyk7XG4gICAgICBhZGRUZXh0KHRleHQpO1xuICAgICAgaHRtbC5wdXNoKCc8L2E+Jyk7XG4gICAgfVxuICB9O1xufV0pO1xuXG5cbn0pKHdpbmRvdywgd2luZG93LmFuZ3VsYXIpO1xuXG4vKiBhbmd1bGFyLWxvYWQuanMgLyB2MC40LjEgLyAoYykgMjAxNCwgMjAxNSwgMjAxNiBVcmkgU2hha2VkIC8gTUlUIExpY2VuY2UgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyTG9hZCcsIFtdKVxuXHRcdC5zZXJ2aWNlKCdhbmd1bGFyTG9hZCcsIFsnJGRvY3VtZW50JywgJyRxJywgJyR0aW1lb3V0JywgZnVuY3Rpb24gKCRkb2N1bWVudCwgJHEsICR0aW1lb3V0KSB7XG5cdFx0XHR2YXIgZG9jdW1lbnQgPSAkZG9jdW1lbnRbMF07XG5cblx0XHRcdGZ1bmN0aW9uIGxvYWRlcihjcmVhdGVFbGVtZW50KSB7XG5cdFx0XHRcdHZhciBwcm9taXNlcyA9IHt9O1xuXG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbih1cmwpIHtcblx0XHRcdFx0XHRpZiAodHlwZW9mIHByb21pc2VzW3VybF0gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0XHR2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXHRcdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KHVybCk7XG5cblx0XHRcdFx0XHRcdGVsZW1lbnQub25sb2FkID0gZWxlbWVudC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoZWxlbWVudC5yZWFkeVN0YXRlICYmIGVsZW1lbnQucmVhZHlTdGF0ZSAhPT0gJ2NvbXBsZXRlJyAmJiBlbGVtZW50LnJlYWR5U3RhdGUgIT09ICdsb2FkZWQnKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUoZSk7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdGVsZW1lbnQub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdFx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZSk7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0cHJvbWlzZXNbdXJsXSA9IGRlZmVycmVkLnByb21pc2U7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHByb21pc2VzW3VybF07XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdC8qKlxuXHRcdFx0ICogRHluYW1pY2FsbHkgbG9hZHMgdGhlIGdpdmVuIHNjcmlwdFxuXHRcdFx0ICogQHBhcmFtIHNyYyBUaGUgdXJsIG9mIHRoZSBzY3JpcHQgdG8gbG9hZCBkeW5hbWljYWxseVxuXHRcdFx0ICogQHJldHVybnMgeyp9IFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIG9uY2UgdGhlIHNjcmlwdCBoYXMgYmVlbiBsb2FkZWQuXG5cdFx0XHQgKi9cblx0XHRcdHRoaXMubG9hZFNjcmlwdCA9IGxvYWRlcihmdW5jdGlvbiAoc3JjKSB7XG5cdFx0XHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblxuXHRcdFx0XHRzY3JpcHQuc3JjID0gc3JjO1xuXG5cdFx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcblx0XHRcdFx0cmV0dXJuIHNjcmlwdDtcblx0XHRcdH0pO1xuXG5cdFx0XHQvKipcblx0XHRcdCAqIER5bmFtaWNhbGx5IGxvYWRzIHRoZSBnaXZlbiBDU1MgZmlsZVxuXHRcdFx0ICogQHBhcmFtIGhyZWYgVGhlIHVybCBvZiB0aGUgQ1NTIHRvIGxvYWQgZHluYW1pY2FsbHlcblx0XHRcdCAqIEByZXR1cm5zIHsqfSBQcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBvbmNlIHRoZSBDU1MgZmlsZSBoYXMgYmVlbiBsb2FkZWQuXG5cdFx0XHQgKi9cblx0XHRcdHRoaXMubG9hZENTUyA9IGxvYWRlcihmdW5jdGlvbiAoaHJlZikge1xuXHRcdFx0XHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG5cblx0XHRcdFx0c3R5bGUucmVsID0gJ3N0eWxlc2hlZXQnO1xuXHRcdFx0XHRzdHlsZS50eXBlID0gJ3RleHQvY3NzJztcblx0XHRcdFx0c3R5bGUuaHJlZiA9IGhyZWY7XG5cblx0XHRcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0XHRcdHJldHVybiBzdHlsZTtcblx0XHRcdH0pO1xuXHRcdH1dKTtcbn0pKCk7XG5cbi8qIVxuICogYW5ndWxhci10cmFuc2xhdGUgLSB2Mi41LjIgLSAyMDE0LTEyLTEwXG4gKiBodHRwOi8vZ2l0aHViLmNvbS9hbmd1bGFyLXRyYW5zbGF0ZS9hbmd1bGFyLXRyYW5zbGF0ZVxuICogQ29weXJpZ2h0IChjKSAyMDE0IDsgTGljZW5zZWQgTUlUXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXJcbiAqIEByZXF1aXJlcyAkcVxuICogQHJlcXVpcmVzICRodHRwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgbG9hZGluZyBmdW5jdGlvbiBmb3IgYSB0eXBpY2FsIHN0YXRpYyBmaWxlIHVybCBwYXR0ZXJuOlxuICogXCJsYW5nLWVuX1VTLmpzb25cIiwgXCJsYW5nLWRlX0RFLmpzb25cIiwgZXRjLiBVc2luZyB0aGlzIGJ1aWxkZXIsXG4gKiB0aGUgcmVzcG9uc2Ugb2YgdGhlc2UgdXJscyBtdXN0IGJlIGFuIG9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QsIHdoaWNoIGdldHMgcHJlZml4LCBzdWZmaXggYW5kIGtleS5cbiAqL1xuLmZhY3RvcnkoJyR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlcicsIFsnJHEnLCAnJGh0dHAnLCBmdW5jdGlvbiAoJHEsICRodHRwKSB7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cbiAgICBpZiAoIW9wdGlvbnMgfHwgKCFhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMucHJlZml4KSB8fCAhYW5ndWxhci5pc1N0cmluZyhvcHRpb25zLnN1ZmZpeCkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkblxcJ3QgbG9hZCBzdGF0aWMgZmlsZXMsIG5vIHByZWZpeCBvciBzdWZmaXggc3BlY2lmaWVkIScpO1xuICAgIH1cblxuICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAkaHR0cChhbmd1bGFyLmV4dGVuZCh7XG4gICAgICB1cmw6IFtcbiAgICAgICAgb3B0aW9ucy5wcmVmaXgsXG4gICAgICAgIG9wdGlvbnMua2V5LFxuICAgICAgICBvcHRpb25zLnN1ZmZpeFxuICAgICAgXS5qb2luKCcnKSxcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXJhbXM6ICcnXG4gICAgfSwgb3B0aW9ucy4kaHR0cCkpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgfSkuZXJyb3IoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGRlZmVycmVkLnJlamVjdChvcHRpb25zLmtleSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfTtcbn1dKTtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBnbG9iYWwgYW5ndWxhciwgd2luZG93ICovXG5cbi8qKlxuICogUmVpbXBsZW1lbnRhdGlvbiBvZiAkdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXIgdG8gaGFuZGxlIG1pc3NpbmcgZmlsZXMgYW5kIGxvY2FsZSBoaWVyYXJjaHkgKGVuL2VuX1VTKVxuICovXG5hbmd1bGFyLm1vZHVsZShcInBhc2NhbHByZWNodC50cmFuc2xhdGVcIikuZmFjdG9yeShcIiR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlclwiLCBbXG4gIFwiJHFcIixcbiAgXCIkaHR0cFwiLFxuICBmdW5jdGlvbiAoJHEsICRodHRwKSB7XG4gICAgZnVuY3Rpb24gbG9hZFRyYW5zbGF0aW9uRmlsZShvcHRpb25zLCBkZWZlcnJlZCkge1xuICAgICAgJGh0dHAoYW5ndWxhci5leHRlbmQoe1xuICAgICAgICB1cmw6IFtcbiAgICAgICAgICBvcHRpb25zLnByZWZpeCxcbiAgICAgICAgICBvcHRpb25zLmtleS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgIG9wdGlvbnMuc3VmZml4XG4gICAgICAgIF0uam9pbihcIlwiKSxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBwYXJhbXM6IFwiXCJcbiAgICAgIH0sIG9wdGlvbnMuJGh0dHApKS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICB9KS5lcnJvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmKG9wdGlvbnMua2V5LmluZGV4T2YoXCJfXCIpID49IDApIHtcbiAgICAgICAgICB2YXIga2V5ID0gb3B0aW9ucy5rZXkuc3Vic3RyKDAsIG9wdGlvbnMua2V5Lmxhc3RJbmRleE9mKFwiX1wiKSk7XG4gICAgICAgICAgdmFyIG9wdHMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgb3B0aW9ucywgeyBrZXk6IGtleSB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBsb2FkVHJhbnNsYXRpb25GaWxlKG9wdHMsIGRlZmVycmVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKFwie31cIik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKCFvcHRpb25zIHx8ICghYW5ndWxhci5pc1N0cmluZyhvcHRpb25zLnByZWZpeCkgfHwgIWFuZ3VsYXIuaXNTdHJpbmcob3B0aW9ucy5zdWZmaXgpKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG5cXFwidCBsb2FkIHN0YXRpYyBmaWxlcywgbm8gcHJlZml4IG9yIHN1ZmZpeCBzcGVjaWZpZWQhXCIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICBsb2FkVHJhbnNsYXRpb25GaWxlKG9wdGlvbnMsIGRlZmVycmVkKTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcbiAgfVxuXSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi5jb21tb24uaTE4blwiLCBbXCJwYXNjYWxwcmVjaHQudHJhbnNsYXRlXCIsIFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIl0pXG4uY29uZmlnKFtcIiR0cmFuc2xhdGVQcm92aWRlclwiLCBcIkxPQ0FMRVNfUFJFRklYXCIsIFwiTE9DQUxFU19TVUZJWFwiLCBmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyLCBMT0NBTEVTX1BSRUZJWCwgTE9DQUxFU19TVUZJWCkge1xuICAvLyBUcmllcyB0byBkZXRlcm1pbmUgdGhlIGJyb3dzZXJzIGxvY2FsZVxuICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlU3RhdGljRmlsZXNMb2FkZXIoe1xuICAgIHByZWZpeDogTE9DQUxFU19QUkVGSVgsXG4gICAgc3VmZml4OiBMT0NBTEVTX1NVRklYXG4gIH0pO1xuICBcbiAgJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAgLmRldGVybWluZVByZWZlcnJlZExhbmd1YWdlKClcbiAgICAuZmFsbGJhY2tMYW5ndWFnZShcImVuXCIpO1xufV0pO1xuXG4vKiBDb3B5cmlnaHQgMjAxNSBXaWxsaWFtIFN1bW1lcnMsIE1ldGFUcmliYWwgTExDXG4gKiBhZGFwdGVkIGZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9KWE9OXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQGF1dGhvciBXaWxsaWFtIFN1bW1lcnNcbiAqXG4gKi9cbiBcbnZhciB4bWxUb0pTT04gPSAoZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy52ZXJzaW9uID0gXCIxLjNcIjtcblxuICAgIHZhciBvcHRpb25zID0geyAvLyBzZXQgdXAgdGhlIGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICBtZXJnZUNEQVRBOiB0cnVlLCAvLyBleHRyYWN0IGNkYXRhIGFuZCBtZXJnZSB3aXRoIHRleHRcbiAgICAgICAgZ3Jva0F0dHI6IHRydWUsIC8vIGNvbnZlcnQgdHJ1dGh5IGF0dHJpYnV0ZXMgdG8gYm9vbGVhbiwgZXRjXG4gICAgICAgIGdyb2tUZXh0OiB0cnVlLCAvLyBjb252ZXJ0IHRydXRoeSB0ZXh0L2F0dHIgdG8gYm9vbGVhbiwgZXRjXG4gICAgICAgIG5vcm1hbGl6ZTogdHJ1ZSwgLy8gY29sbGFwc2UgbXVsdGlwbGUgc3BhY2VzIHRvIHNpbmdsZSBzcGFjZVxuICAgICAgICB4bWxuczogdHJ1ZSwgLy8gaW5jbHVkZSBuYW1lc3BhY2VzIGFzIGF0dHJpYnV0ZSBpbiBvdXRwdXRcbiAgICAgICAgbmFtZXNwYWNlS2V5OiAnX25zJywgLy8gdGFnIG5hbWUgZm9yIG5hbWVzcGFjZSBvYmplY3RzXG4gICAgICAgIHRleHRLZXk6ICdfdGV4dCcsIC8vIHRhZyBuYW1lIGZvciB0ZXh0IG5vZGVzXG4gICAgICAgIHZhbHVlS2V5OiAnX3ZhbHVlJywgLy8gdGFnIG5hbWUgZm9yIGF0dHJpYnV0ZSB2YWx1ZXNcbiAgICAgICAgYXR0cktleTogJ19hdHRyJywgLy8gdGFnIGZvciBhdHRyIGdyb3Vwc1xuICAgICAgICBjZGF0YUtleTogJ19jZGF0YScsIC8vIHRhZyBmb3IgY2RhdGEgbm9kZXMgKGlnbm9yZWQgaWYgbWVyZ2VDREFUQSBpcyB0cnVlKVxuICAgICAgICBhdHRyc0FzT2JqZWN0OiB0cnVlLCAvLyBpZiBmYWxzZSwga2V5IGlzIHVzZWQgYXMgcHJlZml4IHRvIG5hbWUsIHNldCBwcmVmaXggdG8gJycgdG8gbWVyZ2UgY2hpbGRyZW4gYW5kIGF0dHJzLlxuICAgICAgICBzdHJpcEF0dHJQcmVmaXg6IHRydWUsIC8vIHJlbW92ZSBuYW1lc3BhY2UgcHJlZml4ZXMgZnJvbSBhdHRyaWJ1dGVzXG4gICAgICAgIHN0cmlwRWxlbVByZWZpeDogdHJ1ZSwgLy8gZm9yIGVsZW1lbnRzIG9mIHNhbWUgbmFtZSBpbiBkaWZmIG5hbWVzcGFjZXMsIHlvdSBjYW4gZW5hYmxlIG5hbWVzcGFjZXMgYW5kIGFjY2VzcyB0aGUgbnNrZXkgcHJvcGVydHlcbiAgICAgICAgY2hpbGRyZW5Bc0FycmF5OiB0cnVlIC8vIGZvcmNlIGNoaWxkcmVuIGludG8gYXJyYXlzXG4gICAgfTtcblxuICAgIHZhciBwcmVmaXhNYXRjaCA9IG5ldyBSZWdFeHAoLyg/IXhtbG5zKV4uKjovKTtcbiAgICB2YXIgdHJpbU1hdGNoID0gbmV3IFJlZ0V4cCgvXlxccyt8XFxzKyQvZyk7XG5cbiAgICB0aGlzLmdyb2tUeXBlID0gZnVuY3Rpb24gKHNWYWx1ZSkge1xuICAgICAgICBpZiAoL15cXHMqJC8udGVzdChzVmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoL14oPzp0cnVlfGZhbHNlKSQvaS50ZXN0KHNWYWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBzVmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRmluaXRlKHNWYWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHNWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNWYWx1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy5wYXJzZVN0cmluZyA9IGZ1bmN0aW9uICh4bWxTdHJpbmcsIG9wdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVhNTCh0aGlzLnN0cmluZ1RvWE1MKHhtbFN0cmluZyksIG9wdCk7XG4gICAgfVxuXG4gICAgdGhpcy5wYXJzZVhNTCA9IGZ1bmN0aW9uIChvWE1MUGFyZW50LCBvcHQpIHtcblxuICAgICAgICAvLyBpbml0aWFsaXplIG9wdGlvbnNcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9wdCkge1xuICAgICAgICAgICAgb3B0aW9uc1trZXldID0gb3B0W2tleV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdlJlc3VsdCA9IHt9LFxuICAgICAgICAgICAgbkxlbmd0aCA9IDAsXG4gICAgICAgICAgICBzQ29sbGVjdGVkVHh0ID0gXCJcIjtcblxuICAgICAgICAvLyBwYXJzZSBuYW1lc3BhY2UgaW5mb3JtYXRpb25cbiAgICAgICAgaWYgKG9wdGlvbnMueG1sbnMgJiYgb1hNTFBhcmVudC5uYW1lc3BhY2VVUkkpIHtcbiAgICAgICAgICAgIHZSZXN1bHRbb3B0aW9ucy5uYW1lc3BhY2VLZXldID0gb1hNTFBhcmVudC5uYW1lc3BhY2VVUkk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYXJzZSBhdHRyaWJ1dGVzXG4gICAgICAgIC8vIHVzaW5nIGF0dHJpYnV0ZXMgcHJvcGVydHkgaW5zdGVhZCBvZiBoYXNBdHRyaWJ1dGVzIG1ldGhvZCB0byBzdXBwb3J0IG9sZGVyIGJyb3dzZXJzXG4gICAgICAgIGlmIChvWE1MUGFyZW50LmF0dHJpYnV0ZXMgJiYgb1hNTFBhcmVudC5hdHRyaWJ1dGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciB2QXR0cmlicyA9IHt9O1xuXG4gICAgICAgICAgICBmb3IgKG5MZW5ndGg7IG5MZW5ndGggPCBvWE1MUGFyZW50LmF0dHJpYnV0ZXMubGVuZ3RoOyBuTGVuZ3RoKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgb0F0dHJpYiA9IG9YTUxQYXJlbnQuYXR0cmlidXRlcy5pdGVtKG5MZW5ndGgpO1xuICAgICAgICAgICAgICAgIHZDb250ZW50ID0ge307XG4gICAgICAgICAgICAgICAgdmFyIGF0dHJpYk5hbWUgPSAnJztcblxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnN0cmlwQXR0clByZWZpeCkge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJOYW1lID0gb0F0dHJpYi5uYW1lLnJlcGxhY2UocHJlZml4TWF0Y2gsICcnKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYk5hbWUgPSBvQXR0cmliLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZ3Jva0F0dHIpIHtcbiAgICAgICAgICAgICAgICAgICAgdkNvbnRlbnRbb3B0aW9ucy52YWx1ZUtleV0gPSB0aGlzLmdyb2tUeXBlKG9BdHRyaWIudmFsdWUucmVwbGFjZSh0cmltTWF0Y2gsICcnKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdkNvbnRlbnRbb3B0aW9ucy52YWx1ZUtleV0gPSBvQXR0cmliLnZhbHVlLnJlcGxhY2UodHJpbU1hdGNoLCAnJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMueG1sbnMgJiYgb0F0dHJpYi5uYW1lc3BhY2VVUkkpIHtcbiAgICAgICAgICAgICAgICAgICAgdkNvbnRlbnRbb3B0aW9ucy5uYW1lc3BhY2VLZXldID0gb0F0dHJpYi5uYW1lc3BhY2VVUkk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXR0cnNBc09iamVjdCkgeyAvLyBhdHRyaWJ1dGVzIHdpdGggc2FtZSBsb2NhbCBuYW1lIG11c3QgZW5hYmxlIHByZWZpeGVzXG4gICAgICAgICAgICAgICAgICAgIHZBdHRyaWJzW2F0dHJpYk5hbWVdID0gdkNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdlJlc3VsdFtvcHRpb25zLmF0dHJLZXkgKyBhdHRyaWJOYW1lXSA9IHZDb250ZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXR0cnNBc09iamVjdCkge1xuICAgICAgICAgICAgICAgIHZSZXN1bHRbb3B0aW9ucy5hdHRyS2V5XSA9IHZBdHRyaWJzO1xuICAgICAgICAgICAgfSBlbHNlIHt9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpdGVyYXRlIG92ZXIgdGhlIGNoaWxkcmVuXG4gICAgICAgIGlmIChvWE1MUGFyZW50Lmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgb05vZGUsIHNQcm9wLCB2Q29udGVudCwgbkl0ZW0gPSAwOyBuSXRlbSA8IG9YTUxQYXJlbnQuY2hpbGROb2Rlcy5sZW5ndGg7IG5JdGVtKyspIHtcbiAgICAgICAgICAgICAgICBvTm9kZSA9IG9YTUxQYXJlbnQuY2hpbGROb2Rlcy5pdGVtKG5JdGVtKTtcblxuICAgICAgICAgICAgICAgIGlmIChvTm9kZS5ub2RlVHlwZSA9PT0gNCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5tZXJnZUNEQVRBKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzQ29sbGVjdGVkVHh0ICs9IG9Ob2RlLm5vZGVWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2UmVzdWx0Lmhhc093blByb3BlcnR5KG9wdGlvbnMuY2RhdGFLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZSZXN1bHRbb3B0aW9ucy5jZGF0YUtleV0uY29uc3RydWN0b3IgIT09IEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZSZXN1bHRbb3B0aW9ucy5jZGF0YUtleV0gPSBbdlJlc3VsdFtvcHRpb25zLmNkYXRhS2V5XV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZSZXN1bHRbb3B0aW9ucy5jZGF0YUtleV0ucHVzaChvTm9kZS5ub2RlVmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNoaWxkcmVuQXNBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2UmVzdWx0W29wdGlvbnMuY2RhdGFLZXldID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZSZXN1bHRbb3B0aW9ucy5jZGF0YUtleV0ucHVzaChvTm9kZS5ub2RlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZSZXN1bHRbb3B0aW9ucy5jZGF0YUtleV0gPSBvTm9kZS5ub2RlVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSAvKiBub2RlVHlwZSBpcyBcIkNEQVRBU2VjdGlvblwiICg0KSAqL1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9Ob2RlLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNDb2xsZWN0ZWRUeHQgKz0gb05vZGUubm9kZVZhbHVlO1xuICAgICAgICAgICAgICAgIH0gLyogbm9kZVR5cGUgaXMgXCJUZXh0XCIgKDMpICovXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob05vZGUubm9kZVR5cGUgPT09IDEpIHsgLyogbm9kZVR5cGUgaXMgXCJFbGVtZW50XCIgKDEpICovXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5MZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZSZXN1bHQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHVzaW5nIG5vZGVOYW1lIHRvIHN1cHBvcnQgYnJvd3NlciAoSUUpIGltcGxlbWVudGF0aW9uIHdpdGggbm8gJ2xvY2FsTmFtZScgcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RyaXBFbGVtUHJlZml4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzUHJvcCA9IG9Ob2RlLm5vZGVOYW1lLnJlcGxhY2UocHJlZml4TWF0Y2gsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNQcm9wID0gb05vZGUubm9kZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2Q29udGVudCA9IHhtbFRvSlNPTi5wYXJzZVhNTChvTm9kZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZSZXN1bHQuaGFzT3duUHJvcGVydHkoc1Byb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodlJlc3VsdFtzUHJvcF0uY29uc3RydWN0b3IgIT09IEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdlJlc3VsdFtzUHJvcF0gPSBbdlJlc3VsdFtzUHJvcF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdlJlc3VsdFtzUHJvcF0ucHVzaCh2Q29udGVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNoaWxkcmVuQXNBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZSZXN1bHRbc1Byb3BdID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdlJlc3VsdFtzUHJvcF0ucHVzaCh2Q29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZSZXN1bHRbc1Byb3BdID0gdkNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBuTGVuZ3RoKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIXNDb2xsZWN0ZWRUeHQpIHsgLy8gbm8gY2hpbGRyZW4gYW5kIG5vIHRleHQsIHJldHVybiBudWxsXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5jaGlsZHJlbkFzQXJyYXkpIHtcbiAgICAgICAgICAgICAgICB2UmVzdWx0W29wdGlvbnMudGV4dEtleV0gPSBbXTtcbiAgICAgICAgICAgICAgICB2UmVzdWx0W29wdGlvbnMudGV4dEtleV0ucHVzaChudWxsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdlJlc3VsdFtvcHRpb25zLnRleHRLZXldID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzQ29sbGVjdGVkVHh0KSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5ncm9rVGV4dCkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ3Jva1R5cGUoc0NvbGxlY3RlZFR4dC5yZXBsYWNlKHRyaW1NYXRjaCwgJycpKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2UmVzdWx0W29wdGlvbnMudGV4dEtleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMubm9ybWFsaXplKSB7XG4gICAgICAgICAgICAgICAgdlJlc3VsdFtvcHRpb25zLnRleHRLZXldID0gc0NvbGxlY3RlZFR4dC5yZXBsYWNlKHRyaW1NYXRjaCwgJycpLnJlcGxhY2UoL1xccysvZywgXCIgXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2UmVzdWx0W29wdGlvbnMudGV4dEtleV0gPSBzQ29sbGVjdGVkVHh0LnJlcGxhY2UodHJpbU1hdGNoLCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdlJlc3VsdDtcbiAgICB9XG5cblxuICAgIC8vIENvbnZlcnQgeG1sRG9jdW1lbnQgdG8gYSBzdHJpbmdcbiAgICAvLyBSZXR1cm5zIG51bGwgb24gZmFpbHVyZVxuICAgIHRoaXMueG1sVG9TdHJpbmcgPSBmdW5jdGlvbiAoeG1sRG9jKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgeG1sU3RyaW5nID0geG1sRG9jLnhtbCA/IHhtbERvYy54bWwgOiAobmV3IFhNTFNlcmlhbGl6ZXIoKSkuc2VyaWFsaXplVG9TdHJpbmcoeG1sRG9jKTtcbiAgICAgICAgICAgIHJldHVybiB4bWxTdHJpbmc7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0IGEgc3RyaW5nIHRvIFhNTCBOb2RlIFN0cnVjdHVyZVxuICAgIC8vIFJldHVybnMgbnVsbCBvbiBmYWlsdXJlXG4gICAgdGhpcy5zdHJpbmdUb1hNTCA9IGZ1bmN0aW9uICh4bWxTdHJpbmcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciB4bWxEb2MgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAod2luZG93LkRPTVBhcnNlcikge1xuXG4gICAgICAgICAgICAgICAgdmFyIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgICAgICAgICAgICB4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHhtbFN0cmluZywgXCJ0ZXh0L3htbFwiKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB4bWxEb2M7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHhtbERvYyA9IG5ldyBBY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTERPTVwiKTtcbiAgICAgICAgICAgICAgICB4bWxEb2MuYXN5bmMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB4bWxEb2MubG9hZFhNTCh4bWxTdHJpbmcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHhtbERvYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn0pLmNhbGwoe30pO1xuXG5pZiAodHlwZW9mIG1vZHVsZSAhPSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZSAhPT0gbnVsbCAmJiBtb2R1bGUuZXhwb3J0cykgbW9kdWxlLmV4cG9ydHMgPSB4bWxUb0pTT047XG5lbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkgZGVmaW5lKGZ1bmN0aW9uKCkge3JldHVybiB4bWxUb0pTT059KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGFmZml4LmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYWZmaXhcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBBRkZJWCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQWZmaXggPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBBZmZpeC5ERUZBVUxUUywgb3B0aW9ucylcblxuICAgIHRoaXMuJHRhcmdldCA9ICQodGhpcy5vcHRpb25zLnRhcmdldClcbiAgICAgIC5vbignc2Nyb2xsLmJzLmFmZml4LmRhdGEtYXBpJywgJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sIHRoaXMpKVxuICAgICAgLm9uKCdjbGljay5icy5hZmZpeC5kYXRhLWFwaScsICAkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AsIHRoaXMpKVxuXG4gICAgdGhpcy4kZWxlbWVudCAgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5hZmZpeGVkICAgICAgPVxuICAgIHRoaXMudW5waW4gICAgICAgID1cbiAgICB0aGlzLnBpbm5lZE9mZnNldCA9IG51bGxcblxuICAgIHRoaXMuY2hlY2tQb3NpdGlvbigpXG4gIH1cblxuICBBZmZpeC5WRVJTSU9OICA9ICczLjIuMCdcblxuICBBZmZpeC5SRVNFVCAgICA9ICdhZmZpeCBhZmZpeC10b3AgYWZmaXgtYm90dG9tJ1xuXG4gIEFmZml4LkRFRkFVTFRTID0ge1xuICAgIG9mZnNldDogMCxcbiAgICB0YXJnZXQ6IHdpbmRvd1xuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmdldFBpbm5lZE9mZnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5waW5uZWRPZmZzZXQpIHJldHVybiB0aGlzLnBpbm5lZE9mZnNldFxuICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoQWZmaXguUkVTRVQpLmFkZENsYXNzKCdhZmZpeCcpXG4gICAgdmFyIHNjcm9sbFRvcCA9IHRoaXMuJHRhcmdldC5zY3JvbGxUb3AoKVxuICAgIHZhciBwb3NpdGlvbiAgPSB0aGlzLiRlbGVtZW50Lm9mZnNldCgpXG4gICAgcmV0dXJuICh0aGlzLnBpbm5lZE9mZnNldCA9IHBvc2l0aW9uLnRvcCAtIHNjcm9sbFRvcClcbiAgfVxuXG4gIEFmZml4LnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBzZXRUaW1lb3V0KCQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLCB0aGlzKSwgMSlcbiAgfVxuXG4gIEFmZml4LnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy4kZWxlbWVudC5pcygnOnZpc2libGUnKSkgcmV0dXJuXG5cbiAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gJChkb2N1bWVudCkuaGVpZ2h0KClcbiAgICB2YXIgc2Nyb2xsVG9wICAgID0gdGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpXG4gICAgdmFyIHBvc2l0aW9uICAgICA9IHRoaXMuJGVsZW1lbnQub2Zmc2V0KClcbiAgICB2YXIgb2Zmc2V0ICAgICAgID0gdGhpcy5vcHRpb25zLm9mZnNldFxuICAgIHZhciBvZmZzZXRUb3AgICAgPSBvZmZzZXQudG9wXG4gICAgdmFyIG9mZnNldEJvdHRvbSA9IG9mZnNldC5ib3R0b21cblxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0ICE9ICdvYmplY3QnKSAgICAgICAgIG9mZnNldEJvdHRvbSA9IG9mZnNldFRvcCA9IG9mZnNldFxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0VG9wID09ICdmdW5jdGlvbicpICAgIG9mZnNldFRvcCAgICA9IG9mZnNldC50b3AodGhpcy4kZWxlbWVudClcbiAgICBpZiAodHlwZW9mIG9mZnNldEJvdHRvbSA9PSAnZnVuY3Rpb24nKSBvZmZzZXRCb3R0b20gPSBvZmZzZXQuYm90dG9tKHRoaXMuJGVsZW1lbnQpXG5cbiAgICB2YXIgYWZmaXggPSB0aGlzLnVucGluICAgIT0gbnVsbCAmJiAoc2Nyb2xsVG9wICsgdGhpcy51bnBpbiA8PSBwb3NpdGlvbi50b3ApID8gZmFsc2UgOlxuICAgICAgICAgICAgICAgIG9mZnNldEJvdHRvbSAhPSBudWxsICYmIChwb3NpdGlvbi50b3AgKyB0aGlzLiRlbGVtZW50LmhlaWdodCgpID49IHNjcm9sbEhlaWdodCAtIG9mZnNldEJvdHRvbSkgPyAnYm90dG9tJyA6XG4gICAgICAgICAgICAgICAgb2Zmc2V0VG9wICAgICE9IG51bGwgJiYgKHNjcm9sbFRvcCA8PSBvZmZzZXRUb3ApID8gJ3RvcCcgOiBmYWxzZVxuXG4gICAgaWYgKHRoaXMuYWZmaXhlZCA9PT0gYWZmaXgpIHJldHVyblxuICAgIGlmICh0aGlzLnVucGluICE9IG51bGwpIHRoaXMuJGVsZW1lbnQuY3NzKCd0b3AnLCAnJylcblxuICAgIHZhciBhZmZpeFR5cGUgPSAnYWZmaXgnICsgKGFmZml4ID8gJy0nICsgYWZmaXggOiAnJylcbiAgICB2YXIgZSAgICAgICAgID0gJC5FdmVudChhZmZpeFR5cGUgKyAnLmJzLmFmZml4JylcblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5hZmZpeGVkID0gYWZmaXhcbiAgICB0aGlzLnVucGluID0gYWZmaXggPT0gJ2JvdHRvbScgPyB0aGlzLmdldFBpbm5lZE9mZnNldCgpIDogbnVsbFxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLnJlbW92ZUNsYXNzKEFmZml4LlJFU0VUKVxuICAgICAgLmFkZENsYXNzKGFmZml4VHlwZSlcbiAgICAgIC50cmlnZ2VyKCQuRXZlbnQoYWZmaXhUeXBlLnJlcGxhY2UoJ2FmZml4JywgJ2FmZml4ZWQnKSkpXG5cbiAgICBpZiAoYWZmaXggPT0gJ2JvdHRvbScpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQub2Zmc2V0KHtcbiAgICAgICAgdG9wOiBzY3JvbGxIZWlnaHQgLSB0aGlzLiRlbGVtZW50LmhlaWdodCgpIC0gb2Zmc2V0Qm90dG9tXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG5cbiAgLy8gQUZGSVggUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuYWZmaXgnKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmFmZml4JywgKGRhdGEgPSBuZXcgQWZmaXgodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmFmZml4XG5cbiAgJC5mbi5hZmZpeCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmFmZml4LkNvbnN0cnVjdG9yID0gQWZmaXhcblxuXG4gIC8vIEFGRklYIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5hZmZpeC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uYWZmaXggPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBBRkZJWCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PVxuXG4gICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCdbZGF0YS1zcHk9XCJhZmZpeFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRzcHkgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSA9ICRzcHkuZGF0YSgpXG5cbiAgICAgIGRhdGEub2Zmc2V0ID0gZGF0YS5vZmZzZXQgfHwge31cblxuICAgICAgaWYgKGRhdGEub2Zmc2V0Qm90dG9tKSBkYXRhLm9mZnNldC5ib3R0b20gPSBkYXRhLm9mZnNldEJvdHRvbVxuICAgICAgaWYgKGRhdGEub2Zmc2V0VG9wKSAgICBkYXRhLm9mZnNldC50b3AgICAgPSBkYXRhLm9mZnNldFRvcFxuXG4gICAgICBQbHVnaW4uY2FsbCgkc3B5LCBkYXRhKVxuICAgIH0pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGFsZXJ0LmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYWxlcnRzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQUxFUlQgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIGRpc21pc3MgPSAnW2RhdGEtZGlzbWlzcz1cImFsZXJ0XCJdJ1xuICB2YXIgQWxlcnQgICA9IGZ1bmN0aW9uIChlbCkge1xuICAgICQoZWwpLm9uKCdjbGljaycsIGRpc21pc3MsIHRoaXMuY2xvc2UpXG4gIH1cblxuICBBbGVydC5WRVJTSU9OID0gJzMuMi4wJ1xuXG4gIEFsZXJ0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICR0aGlzICAgID0gJCh0aGlzKVxuICAgIHZhciBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JylcblxuICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIHNlbGVjdG9yID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgICBzZWxlY3RvciA9IHNlbGVjdG9yICYmIHNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgfVxuXG4gICAgdmFyICRwYXJlbnQgPSAkKHNlbGVjdG9yKVxuXG4gICAgaWYgKGUpIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgaWYgKCEkcGFyZW50Lmxlbmd0aCkge1xuICAgICAgJHBhcmVudCA9ICR0aGlzLmhhc0NsYXNzKCdhbGVydCcpID8gJHRoaXMgOiAkdGhpcy5wYXJlbnQoKVxuICAgIH1cblxuICAgICRwYXJlbnQudHJpZ2dlcihlID0gJC5FdmVudCgnY2xvc2UuYnMuYWxlcnQnKSlcblxuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoKSB7XG4gICAgICAvLyBkZXRhY2ggZnJvbSBwYXJlbnQsIGZpcmUgZXZlbnQgdGhlbiBjbGVhbiB1cCBkYXRhXG4gICAgICAkcGFyZW50LmRldGFjaCgpLnRyaWdnZXIoJ2Nsb3NlZC5icy5hbGVydCcpLnJlbW92ZSgpXG4gICAgfVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgJHBhcmVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICRwYXJlbnRcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgcmVtb3ZlRWxlbWVudClcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxuICAgICAgcmVtb3ZlRWxlbWVudCgpXG4gIH1cblxuXG4gIC8vIEFMRVJUIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMuYWxlcnQnKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmFsZXJ0JywgKGRhdGEgPSBuZXcgQWxlcnQodGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5hbGVydFxuXG4gICQuZm4uYWxlcnQgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5hbGVydC5Db25zdHJ1Y3RvciA9IEFsZXJ0XG5cblxuICAvLyBBTEVSVCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uYWxlcnQubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmFsZXJ0ID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQUxFUlQgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMuYWxlcnQuZGF0YS1hcGknLCBkaXNtaXNzLCBBbGVydC5wcm90b3R5cGUuY2xvc2UpXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGJ1dHRvbi5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2J1dHRvbnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBCVVRUT04gUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIEJ1dHRvbiA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgPSAkLmV4dGVuZCh7fSwgQnV0dG9uLkRFRkFVTFRTLCBvcHRpb25zKVxuICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2VcbiAgfVxuXG4gIEJ1dHRvbi5WRVJTSU9OICA9ICczLjIuMCdcblxuICBCdXR0b24uREVGQVVMVFMgPSB7XG4gICAgbG9hZGluZ1RleHQ6ICdsb2FkaW5nLi4uJ1xuICB9XG5cbiAgQnV0dG9uLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHZhciBkICAgID0gJ2Rpc2FibGVkJ1xuICAgIHZhciAkZWwgID0gdGhpcy4kZWxlbWVudFxuICAgIHZhciB2YWwgID0gJGVsLmlzKCdpbnB1dCcpID8gJ3ZhbCcgOiAnaHRtbCdcbiAgICB2YXIgZGF0YSA9ICRlbC5kYXRhKClcblxuICAgIHN0YXRlID0gc3RhdGUgKyAnVGV4dCdcblxuICAgIGlmIChkYXRhLnJlc2V0VGV4dCA9PSBudWxsKSAkZWwuZGF0YSgncmVzZXRUZXh0JywgJGVsW3ZhbF0oKSlcblxuICAgICRlbFt2YWxdKGRhdGFbc3RhdGVdID09IG51bGwgPyB0aGlzLm9wdGlvbnNbc3RhdGVdIDogZGF0YVtzdGF0ZV0pXG5cbiAgICAvLyBwdXNoIHRvIGV2ZW50IGxvb3AgdG8gYWxsb3cgZm9ybXMgdG8gc3VibWl0XG4gICAgc2V0VGltZW91dCgkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzdGF0ZSA9PSAnbG9hZGluZ1RleHQnKSB7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZVxuICAgICAgICAkZWwuYWRkQ2xhc3MoZCkuYXR0cihkLCBkKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTG9hZGluZykge1xuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlXG4gICAgICAgICRlbC5yZW1vdmVDbGFzcyhkKS5yZW1vdmVBdHRyKGQpXG4gICAgICB9XG4gICAgfSwgdGhpcyksIDApXG4gIH1cblxuICBCdXR0b24ucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2hhbmdlZCA9IHRydWVcbiAgICB2YXIgJHBhcmVudCA9IHRoaXMuJGVsZW1lbnQuY2xvc2VzdCgnW2RhdGEtdG9nZ2xlPVwiYnV0dG9uc1wiXScpXG5cbiAgICBpZiAoJHBhcmVudC5sZW5ndGgpIHtcbiAgICAgIHZhciAkaW5wdXQgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ2lucHV0JylcbiAgICAgIGlmICgkaW5wdXQucHJvcCgndHlwZScpID09ICdyYWRpbycpIHtcbiAgICAgICAgaWYgKCRpbnB1dC5wcm9wKCdjaGVja2VkJykgJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpIGNoYW5nZWQgPSBmYWxzZVxuICAgICAgICBlbHNlICRwYXJlbnQuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgfVxuICAgICAgaWYgKGNoYW5nZWQpICRpbnB1dC5wcm9wKCdjaGVja2VkJywgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2FjdGl2ZScpKS50cmlnZ2VyKCdjaGFuZ2UnKVxuICAgIH1cblxuICAgIGlmIChjaGFuZ2VkKSB0aGlzLiRlbGVtZW50LnRvZ2dsZUNsYXNzKCdhY3RpdmUnKVxuICB9XG5cblxuICAvLyBCVVRUT04gUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmJ1dHRvbicpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYnV0dG9uJywgKGRhdGEgPSBuZXcgQnV0dG9uKHRoaXMsIG9wdGlvbnMpKSlcblxuICAgICAgaWYgKG9wdGlvbiA9PSAndG9nZ2xlJykgZGF0YS50b2dnbGUoKVxuICAgICAgZWxzZSBpZiAob3B0aW9uKSBkYXRhLnNldFN0YXRlKG9wdGlvbilcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uYnV0dG9uXG5cbiAgJC5mbi5idXR0b24gICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5idXR0b24uQ29uc3RydWN0b3IgPSBCdXR0b25cblxuXG4gIC8vIEJVVFRPTiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmJ1dHRvbi5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uYnV0dG9uID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQlVUVE9OIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5idXR0b24uZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlXj1cImJ1dHRvblwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICRidG4gPSAkKGUudGFyZ2V0KVxuICAgIGlmICghJGJ0bi5oYXNDbGFzcygnYnRuJykpICRidG4gPSAkYnRuLmNsb3Nlc3QoJy5idG4nKVxuICAgIFBsdWdpbi5jYWxsKCRidG4sICd0b2dnbGUnKVxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBjYXJvdXNlbC5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2Nhcm91c2VsXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ0FST1VTRUwgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIENhcm91c2VsID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICAgID0gJChlbGVtZW50KS5vbigna2V5ZG93bi5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5rZXlkb3duLCB0aGlzKSlcbiAgICB0aGlzLiRpbmRpY2F0b3JzID0gdGhpcy4kZWxlbWVudC5maW5kKCcuY2Fyb3VzZWwtaW5kaWNhdG9ycycpXG4gICAgdGhpcy5vcHRpb25zICAgICA9IG9wdGlvbnNcbiAgICB0aGlzLnBhdXNlZCAgICAgID1cbiAgICB0aGlzLnNsaWRpbmcgICAgID1cbiAgICB0aGlzLmludGVydmFsICAgID1cbiAgICB0aGlzLiRhY3RpdmUgICAgID1cbiAgICB0aGlzLiRpdGVtcyAgICAgID0gbnVsbFxuXG4gICAgdGhpcy5vcHRpb25zLnBhdXNlID09ICdob3ZlcicgJiYgdGhpcy4kZWxlbWVudFxuICAgICAgLm9uKCdtb3VzZWVudGVyLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLnBhdXNlLCB0aGlzKSlcbiAgICAgIC5vbignbW91c2VsZWF2ZS5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5jeWNsZSwgdGhpcykpXG4gIH1cblxuICBDYXJvdXNlbC5WRVJTSU9OICA9ICczLjIuMCdcblxuICBDYXJvdXNlbC5ERUZBVUxUUyA9IHtcbiAgICBpbnRlcnZhbDogNTAwMCxcbiAgICBwYXVzZTogJ2hvdmVyJyxcbiAgICB3cmFwOiB0cnVlXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgc3dpdGNoIChlLndoaWNoKSB7XG4gICAgICBjYXNlIDM3OiB0aGlzLnByZXYoKTsgYnJlYWtcbiAgICAgIGNhc2UgMzk6IHRoaXMubmV4dCgpOyBicmVha1xuICAgICAgZGVmYXVsdDogcmV0dXJuXG4gICAgfVxuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUuY3ljbGUgPSBmdW5jdGlvbiAoZSkge1xuICAgIGUgfHwgKHRoaXMucGF1c2VkID0gZmFsc2UpXG5cbiAgICB0aGlzLmludGVydmFsICYmIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcblxuICAgIHRoaXMub3B0aW9ucy5pbnRlcnZhbFxuICAgICAgJiYgIXRoaXMucGF1c2VkXG4gICAgICAmJiAodGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCQucHJveHkodGhpcy5uZXh0LCB0aGlzKSwgdGhpcy5vcHRpb25zLmludGVydmFsKSlcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUuZ2V0SXRlbUluZGV4ID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICB0aGlzLiRpdGVtcyA9IGl0ZW0ucGFyZW50KCkuY2hpbGRyZW4oJy5pdGVtJylcbiAgICByZXR1cm4gdGhpcy4kaXRlbXMuaW5kZXgoaXRlbSB8fCB0aGlzLiRhY3RpdmUpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUudG8gPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgdmFyIHRoYXQgICAgICAgID0gdGhpc1xuICAgIHZhciBhY3RpdmVJbmRleCA9IHRoaXMuZ2V0SXRlbUluZGV4KHRoaXMuJGFjdGl2ZSA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml0ZW0uYWN0aXZlJykpXG5cbiAgICBpZiAocG9zID4gKHRoaXMuJGl0ZW1zLmxlbmd0aCAtIDEpIHx8IHBvcyA8IDApIHJldHVyblxuXG4gICAgaWYgKHRoaXMuc2xpZGluZykgICAgICAgcmV0dXJuIHRoaXMuJGVsZW1lbnQub25lKCdzbGlkLmJzLmNhcm91c2VsJywgZnVuY3Rpb24gKCkgeyB0aGF0LnRvKHBvcykgfSkgLy8geWVzLCBcInNsaWRcIlxuICAgIGlmIChhY3RpdmVJbmRleCA9PSBwb3MpIHJldHVybiB0aGlzLnBhdXNlKCkuY3ljbGUoKVxuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUocG9zID4gYWN0aXZlSW5kZXggPyAnbmV4dCcgOiAncHJldicsICQodGhpcy4kaXRlbXNbcG9zXSkpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAoZSkge1xuICAgIGUgfHwgKHRoaXMucGF1c2VkID0gdHJ1ZSlcblxuICAgIGlmICh0aGlzLiRlbGVtZW50LmZpbmQoJy5uZXh0LCAucHJldicpLmxlbmd0aCAmJiAkLnN1cHBvcnQudHJhbnNpdGlvbikge1xuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZClcbiAgICAgIHRoaXMuY3ljbGUodHJ1ZSlcbiAgICB9XG5cbiAgICB0aGlzLmludGVydmFsID0gY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnNsaWRpbmcpIHJldHVyblxuICAgIHJldHVybiB0aGlzLnNsaWRlKCduZXh0JylcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5wcmV2ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnNsaWRpbmcpIHJldHVyblxuICAgIHJldHVybiB0aGlzLnNsaWRlKCdwcmV2JylcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5zbGlkZSA9IGZ1bmN0aW9uICh0eXBlLCBuZXh0KSB7XG4gICAgdmFyICRhY3RpdmUgICA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml0ZW0uYWN0aXZlJylcbiAgICB2YXIgJG5leHQgICAgID0gbmV4dCB8fCAkYWN0aXZlW3R5cGVdKClcbiAgICB2YXIgaXNDeWNsaW5nID0gdGhpcy5pbnRlcnZhbFxuICAgIHZhciBkaXJlY3Rpb24gPSB0eXBlID09ICduZXh0JyA/ICdsZWZ0JyA6ICdyaWdodCdcbiAgICB2YXIgZmFsbGJhY2sgID0gdHlwZSA9PSAnbmV4dCcgPyAnZmlyc3QnIDogJ2xhc3QnXG4gICAgdmFyIHRoYXQgICAgICA9IHRoaXNcblxuICAgIGlmICghJG5leHQubGVuZ3RoKSB7XG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy53cmFwKSByZXR1cm5cbiAgICAgICRuZXh0ID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbScpW2ZhbGxiYWNrXSgpXG4gICAgfVxuXG4gICAgaWYgKCRuZXh0Lmhhc0NsYXNzKCdhY3RpdmUnKSkgcmV0dXJuICh0aGlzLnNsaWRpbmcgPSBmYWxzZSlcblxuICAgIHZhciByZWxhdGVkVGFyZ2V0ID0gJG5leHRbMF1cbiAgICB2YXIgc2xpZGVFdmVudCA9ICQuRXZlbnQoJ3NsaWRlLmJzLmNhcm91c2VsJywge1xuICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldCxcbiAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgfSlcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZGVFdmVudClcbiAgICBpZiAoc2xpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB0aGlzLnNsaWRpbmcgPSB0cnVlXG5cbiAgICBpc0N5Y2xpbmcgJiYgdGhpcy5wYXVzZSgpXG5cbiAgICBpZiAodGhpcy4kaW5kaWNhdG9ycy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuJGluZGljYXRvcnMuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgdmFyICRuZXh0SW5kaWNhdG9yID0gJCh0aGlzLiRpbmRpY2F0b3JzLmNoaWxkcmVuKClbdGhpcy5nZXRJdGVtSW5kZXgoJG5leHQpXSlcbiAgICAgICRuZXh0SW5kaWNhdG9yICYmICRuZXh0SW5kaWNhdG9yLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgIH1cblxuICAgIHZhciBzbGlkRXZlbnQgPSAkLkV2ZW50KCdzbGlkLmJzLmNhcm91c2VsJywgeyByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LCBkaXJlY3Rpb246IGRpcmVjdGlvbiB9KSAvLyB5ZXMsIFwic2xpZFwiXG4gICAgaWYgKCQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3NsaWRlJykpIHtcbiAgICAgICRuZXh0LmFkZENsYXNzKHR5cGUpXG4gICAgICAkbmV4dFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3dcbiAgICAgICRhY3RpdmUuYWRkQ2xhc3MoZGlyZWN0aW9uKVxuICAgICAgJG5leHQuYWRkQ2xhc3MoZGlyZWN0aW9uKVxuICAgICAgJGFjdGl2ZVxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJG5leHQucmVtb3ZlQ2xhc3MoW3R5cGUsIGRpcmVjdGlvbl0uam9pbignICcpKS5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKFsnYWN0aXZlJywgZGlyZWN0aW9uXS5qb2luKCcgJykpXG4gICAgICAgICAgdGhhdC5zbGlkaW5nID0gZmFsc2VcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcihzbGlkRXZlbnQpXG4gICAgICAgICAgfSwgMClcbiAgICAgICAgfSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKCRhY3RpdmUuY3NzKCd0cmFuc2l0aW9uLWR1cmF0aW9uJykuc2xpY2UoMCwgLTEpICogMTAwMClcbiAgICB9IGVsc2Uge1xuICAgICAgJGFjdGl2ZS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICRuZXh0LmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgdGhpcy5zbGlkaW5nID0gZmFsc2VcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkRXZlbnQpXG4gICAgfVxuXG4gICAgaXNDeWNsaW5nICYmIHRoaXMuY3ljbGUoKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQ0FST1VTRUwgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuY2Fyb3VzZWwnKVxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ2Fyb3VzZWwuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG4gICAgICB2YXIgYWN0aW9uICA9IHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycgPyBvcHRpb24gOiBvcHRpb25zLnNsaWRlXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY2Fyb3VzZWwnLCAoZGF0YSA9IG5ldyBDYXJvdXNlbCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnbnVtYmVyJykgZGF0YS50byhvcHRpb24pXG4gICAgICBlbHNlIGlmIChhY3Rpb24pIGRhdGFbYWN0aW9uXSgpXG4gICAgICBlbHNlIGlmIChvcHRpb25zLmludGVydmFsKSBkYXRhLnBhdXNlKCkuY3ljbGUoKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5jYXJvdXNlbFxuXG4gICQuZm4uY2Fyb3VzZWwgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5jYXJvdXNlbC5Db25zdHJ1Y3RvciA9IENhcm91c2VsXG5cblxuICAvLyBDQVJPVVNFTCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uY2Fyb3VzZWwubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmNhcm91c2VsID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQ0FST1VTRUwgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGknLCAnW2RhdGEtc2xpZGVdLCBbZGF0YS1zbGlkZS10b10nLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBocmVmXG4gICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgdmFyICR0YXJnZXQgPSAkKCR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgKGhyZWYgPSAkdGhpcy5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgaWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKCdjYXJvdXNlbCcpKSByZXR1cm5cbiAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCAkdGFyZ2V0LmRhdGEoKSwgJHRoaXMuZGF0YSgpKVxuICAgIHZhciBzbGlkZUluZGV4ID0gJHRoaXMuYXR0cignZGF0YS1zbGlkZS10bycpXG4gICAgaWYgKHNsaWRlSW5kZXgpIG9wdGlvbnMuaW50ZXJ2YWwgPSBmYWxzZVxuXG4gICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9ucylcblxuICAgIGlmIChzbGlkZUluZGV4KSB7XG4gICAgICAkdGFyZ2V0LmRhdGEoJ2JzLmNhcm91c2VsJykudG8oc2xpZGVJbmRleClcbiAgICB9XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgfSlcblxuICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtcmlkZT1cImNhcm91c2VsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJGNhcm91c2VsID0gJCh0aGlzKVxuICAgICAgUGx1Z2luLmNhbGwoJGNhcm91c2VsLCAkY2Fyb3VzZWwuZGF0YSgpKVxuICAgIH0pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGNvbGxhcHNlLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY29sbGFwc2VcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDT0xMQVBTRSBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBDb2xsYXBzZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCAgICAgID0gJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgICAgICA9ICQuZXh0ZW5kKHt9LCBDb2xsYXBzZS5ERUZBVUxUUywgb3B0aW9ucylcbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSBudWxsXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnBhcmVudCkgdGhpcy4kcGFyZW50ID0gJCh0aGlzLm9wdGlvbnMucGFyZW50KVxuICAgIGlmICh0aGlzLm9wdGlvbnMudG9nZ2xlKSB0aGlzLnRvZ2dsZSgpXG4gIH1cblxuICBDb2xsYXBzZS5WRVJTSU9OICA9ICczLjIuMCdcblxuICBDb2xsYXBzZS5ERUZBVUxUUyA9IHtcbiAgICB0b2dnbGU6IHRydWVcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5kaW1lbnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhhc1dpZHRoID0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnd2lkdGgnKVxuICAgIHJldHVybiBoYXNXaWR0aCA/ICd3aWR0aCcgOiAnaGVpZ2h0J1xuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSByZXR1cm5cblxuICAgIHZhciBzdGFydEV2ZW50ID0gJC5FdmVudCgnc2hvdy5icy5jb2xsYXBzZScpXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHN0YXJ0RXZlbnQpXG4gICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdmFyIGFjdGl2ZXMgPSB0aGlzLiRwYXJlbnQgJiYgdGhpcy4kcGFyZW50LmZpbmQoJz4gLnBhbmVsID4gLmluJylcblxuICAgIGlmIChhY3RpdmVzICYmIGFjdGl2ZXMubGVuZ3RoKSB7XG4gICAgICB2YXIgaGFzRGF0YSA9IGFjdGl2ZXMuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgaWYgKGhhc0RhdGEgJiYgaGFzRGF0YS50cmFuc2l0aW9uaW5nKSByZXR1cm5cbiAgICAgIFBsdWdpbi5jYWxsKGFjdGl2ZXMsICdoaWRlJylcbiAgICAgIGhhc0RhdGEgfHwgYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScsIG51bGwpXG4gICAgfVxuXG4gICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZGltZW5zaW9uKClcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylbZGltZW5zaW9uXSgwKVxuXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuXG4gICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlIGluJylbZGltZW5zaW9uXSgnJylcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnRyaWdnZXIoJ3Nob3duLmJzLmNvbGxhcHNlJylcbiAgICB9XG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKVxuXG4gICAgdmFyIHNjcm9sbFNpemUgPSAkLmNhbWVsQ2FzZShbJ3Njcm9sbCcsIGRpbWVuc2lvbl0uam9pbignLScpKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXG4gICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzUwKVtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbMF1bc2Nyb2xsU2l6ZV0pXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nIHx8ICF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSByZXR1cm5cblxuICAgIHZhciBzdGFydEV2ZW50ID0gJC5FdmVudCgnaGlkZS5icy5jb2xsYXBzZScpXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHN0YXJ0RXZlbnQpXG4gICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZGltZW5zaW9uKClcblxuICAgIHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0oKSlbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDFcblxuICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnRyaWdnZXIoJ2hpZGRlbi5icy5jb2xsYXBzZScpXG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UnKVxuICAgIH1cblxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICBbZGltZW5zaW9uXSgwKVxuICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXG4gICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzUwKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzW3RoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykgPyAnaGlkZScgOiAnc2hvdyddKClcbiAgfVxuXG5cbiAgLy8gQ09MTEFQU0UgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG5cbiAgICAgIGlmICghZGF0YSAmJiBvcHRpb25zLnRvZ2dsZSAmJiBvcHRpb24gPT0gJ3Nob3cnKSBvcHRpb24gPSAhb3B0aW9uXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmNvbGxhcHNlJywgKGRhdGEgPSBuZXcgQ29sbGFwc2UodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmNvbGxhcHNlXG5cbiAgJC5mbi5jb2xsYXBzZSAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmNvbGxhcHNlLkNvbnN0cnVjdG9yID0gQ29sbGFwc2VcblxuXG4gIC8vIENPTExBUFNFIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5jb2xsYXBzZS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uY29sbGFwc2UgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDT0xMQVBTRSBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5jb2xsYXBzZS5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGhyZWZcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgdGFyZ2V0ICA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JylcbiAgICAgICAgfHwgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIHx8IChocmVmID0gJHRoaXMuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgdmFyICR0YXJnZXQgPSAkKHRhcmdldClcbiAgICB2YXIgZGF0YSAgICA9ICR0YXJnZXQuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgIHZhciBvcHRpb24gID0gZGF0YSA/ICd0b2dnbGUnIDogJHRoaXMuZGF0YSgpXG4gICAgdmFyIHBhcmVudCAgPSAkdGhpcy5hdHRyKCdkYXRhLXBhcmVudCcpXG4gICAgdmFyICRwYXJlbnQgPSBwYXJlbnQgJiYgJChwYXJlbnQpXG5cbiAgICBpZiAoIWRhdGEgfHwgIWRhdGEudHJhbnNpdGlvbmluZykge1xuICAgICAgaWYgKCRwYXJlbnQpICRwYXJlbnQuZmluZCgnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1bZGF0YS1wYXJlbnQ9XCInICsgcGFyZW50ICsgJ1wiXScpLm5vdCgkdGhpcykuYWRkQ2xhc3MoJ2NvbGxhcHNlZCcpXG4gICAgICAkdGhpc1skdGFyZ2V0Lmhhc0NsYXNzKCdpbicpID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKCdjb2xsYXBzZWQnKVxuICAgIH1cblxuICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbilcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogZHJvcGRvd24uanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNkcm9wZG93bnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBEUk9QRE9XTiBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgYmFja2Ryb3AgPSAnLmRyb3Bkb3duLWJhY2tkcm9wJ1xuICB2YXIgdG9nZ2xlICAgPSAnW2RhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIl0nXG4gIHZhciBEcm9wZG93biA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgJChlbGVtZW50KS5vbignY2xpY2suYnMuZHJvcGRvd24nLCB0aGlzLnRvZ2dsZSlcbiAgfVxuXG4gIERyb3Bkb3duLlZFUlNJT04gPSAnMy4yLjAnXG5cbiAgRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICR0aGlzID0gJCh0aGlzKVxuXG4gICAgaWYgKCR0aGlzLmlzKCcuZGlzYWJsZWQsIDpkaXNhYmxlZCcpKSByZXR1cm5cblxuICAgIHZhciAkcGFyZW50ICA9IGdldFBhcmVudCgkdGhpcylcbiAgICB2YXIgaXNBY3RpdmUgPSAkcGFyZW50Lmhhc0NsYXNzKCdvcGVuJylcblxuICAgIGNsZWFyTWVudXMoKVxuXG4gICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAhJHBhcmVudC5jbG9zZXN0KCcubmF2YmFyLW5hdicpLmxlbmd0aCkge1xuICAgICAgICAvLyBpZiBtb2JpbGUgd2UgdXNlIGEgYmFja2Ryb3AgYmVjYXVzZSBjbGljayBldmVudHMgZG9uJ3QgZGVsZWdhdGVcbiAgICAgICAgJCgnPGRpdiBjbGFzcz1cImRyb3Bkb3duLWJhY2tkcm9wXCIvPicpLmluc2VydEFmdGVyKCQodGhpcykpLm9uKCdjbGljaycsIGNsZWFyTWVudXMpXG4gICAgICB9XG5cbiAgICAgIHZhciByZWxhdGVkVGFyZ2V0ID0geyByZWxhdGVkVGFyZ2V0OiB0aGlzIH1cbiAgICAgICRwYXJlbnQudHJpZ2dlcihlID0gJC5FdmVudCgnc2hvdy5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpKVxuXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAgICR0aGlzLnRyaWdnZXIoJ2ZvY3VzJylcblxuICAgICAgJHBhcmVudFxuICAgICAgICAudG9nZ2xlQ2xhc3MoJ29wZW4nKVxuICAgICAgICAudHJpZ2dlcignc2hvd24uYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgRHJvcGRvd24ucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghLygzOHw0MHwyNykvLnRlc3QoZS5rZXlDb2RlKSkgcmV0dXJuXG5cbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxuXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgaWYgKCFpc0FjdGl2ZSB8fCAoaXNBY3RpdmUgJiYgZS5rZXlDb2RlID09IDI3KSkge1xuICAgICAgaWYgKGUud2hpY2ggPT0gMjcpICRwYXJlbnQuZmluZCh0b2dnbGUpLnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgIHJldHVybiAkdGhpcy50cmlnZ2VyKCdjbGljaycpXG4gICAgfVxuXG4gICAgdmFyIGRlc2MgPSAnIGxpOm5vdCguZGl2aWRlcik6dmlzaWJsZSBhJ1xuICAgIHZhciAkaXRlbXMgPSAkcGFyZW50LmZpbmQoJ1tyb2xlPVwibWVudVwiXScgKyBkZXNjICsgJywgW3JvbGU9XCJsaXN0Ym94XCJdJyArIGRlc2MpXG5cbiAgICBpZiAoISRpdGVtcy5sZW5ndGgpIHJldHVyblxuXG4gICAgdmFyIGluZGV4ID0gJGl0ZW1zLmluZGV4KCRpdGVtcy5maWx0ZXIoJzpmb2N1cycpKVxuXG4gICAgaWYgKGUua2V5Q29kZSA9PSAzOCAmJiBpbmRleCA+IDApICAgICAgICAgICAgICAgICBpbmRleC0tICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBcbiAgICBpZiAoZS5rZXlDb2RlID09IDQwICYmIGluZGV4IDwgJGl0ZW1zLmxlbmd0aCAtIDEpIGluZGV4KysgICAgICAgICAgICAgICAgICAgICAgICAvLyBkb3duXG4gICAgaWYgKCF+aW5kZXgpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IDBcblxuICAgICRpdGVtcy5lcShpbmRleCkudHJpZ2dlcignZm9jdXMnKVxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJNZW51cyhlKSB7XG4gICAgaWYgKGUgJiYgZS53aGljaCA9PT0gMykgcmV0dXJuXG4gICAgJChiYWNrZHJvcCkucmVtb3ZlKClcbiAgICAkKHRvZ2dsZSkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHBhcmVudCA9IGdldFBhcmVudCgkKHRoaXMpKVxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfVxuICAgICAgaWYgKCEkcGFyZW50Lmhhc0NsYXNzKCdvcGVuJykpIHJldHVyblxuICAgICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdoaWRlLmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldCkpXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG4gICAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdvcGVuJykudHJpZ2dlcignaGlkZGVuLmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldClcbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UGFyZW50KCR0aGlzKSB7XG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgLyNbQS1aYS16XS8udGVzdChzZWxlY3RvcikgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICB2YXIgJHBhcmVudCA9IHNlbGVjdG9yICYmICQoc2VsZWN0b3IpXG5cbiAgICByZXR1cm4gJHBhcmVudCAmJiAkcGFyZW50Lmxlbmd0aCA/ICRwYXJlbnQgOiAkdGhpcy5wYXJlbnQoKVxuICB9XG5cblxuICAvLyBEUk9QRE9XTiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICA9ICR0aGlzLmRhdGEoJ2JzLmRyb3Bkb3duJylcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5kcm9wZG93bicsIChkYXRhID0gbmV3IERyb3Bkb3duKHRoaXMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0uY2FsbCgkdGhpcylcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uZHJvcGRvd25cblxuICAkLmZuLmRyb3Bkb3duICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uZHJvcGRvd24uQ29uc3RydWN0b3IgPSBEcm9wZG93blxuXG5cbiAgLy8gRFJPUERPV04gTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmRyb3Bkb3duLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5kcm9wZG93biA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEFQUExZIFRPIFNUQU5EQVJEIERST1BET1dOIEVMRU1FTlRTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudClcbiAgICAub24oJ2NsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgY2xlYXJNZW51cylcbiAgICAub24oJ2NsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgJy5kcm9wZG93biBmb3JtJywgZnVuY3Rpb24gKGUpIHsgZS5zdG9wUHJvcGFnYXRpb24oKSB9KVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCB0b2dnbGUsIERyb3Bkb3duLnByb3RvdHlwZS50b2dnbGUpXG4gICAgLm9uKCdrZXlkb3duLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgdG9nZ2xlICsgJywgW3JvbGU9XCJtZW51XCJdLCBbcm9sZT1cImxpc3Rib3hcIl0nLCBEcm9wZG93bi5wcm90b3R5cGUua2V5ZG93bilcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdGFiLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdGFic1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFRBQiBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIFRhYiA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gJChlbGVtZW50KVxuICB9XG5cbiAgVGFiLlZFUlNJT04gPSAnMy4yLjAnXG5cbiAgVGFiLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGhpcyAgICA9IHRoaXMuZWxlbWVudFxuICAgIHZhciAkdWwgICAgICA9ICR0aGlzLmNsb3Nlc3QoJ3VsOm5vdCguZHJvcGRvd24tbWVudSknKVxuICAgIHZhciBzZWxlY3RvciA9ICR0aGlzLmRhdGEoJ3RhcmdldCcpXG5cbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgIH1cblxuICAgIGlmICgkdGhpcy5wYXJlbnQoJ2xpJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm5cblxuICAgIHZhciBwcmV2aW91cyA9ICR1bC5maW5kKCcuYWN0aXZlOmxhc3QgYScpWzBdXG4gICAgdmFyIGUgICAgICAgID0gJC5FdmVudCgnc2hvdy5icy50YWInLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiBwcmV2aW91c1xuICAgIH0pXG5cbiAgICAkdGhpcy50cmlnZ2VyKGUpXG5cbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB2YXIgJHRhcmdldCA9ICQoc2VsZWN0b3IpXG5cbiAgICB0aGlzLmFjdGl2YXRlKCR0aGlzLmNsb3Nlc3QoJ2xpJyksICR1bClcbiAgICB0aGlzLmFjdGl2YXRlKCR0YXJnZXQsICR0YXJnZXQucGFyZW50KCksIGZ1bmN0aW9uICgpIHtcbiAgICAgICR0aGlzLnRyaWdnZXIoe1xuICAgICAgICB0eXBlOiAnc2hvd24uYnMudGFiJyxcbiAgICAgICAgcmVsYXRlZFRhcmdldDogcHJldmlvdXNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIFRhYi5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAoZWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xuICAgIHZhciAkYWN0aXZlICAgID0gY29udGFpbmVyLmZpbmQoJz4gLmFjdGl2ZScpXG4gICAgdmFyIHRyYW5zaXRpb24gPSBjYWxsYmFja1xuICAgICAgJiYgJC5zdXBwb3J0LnRyYW5zaXRpb25cbiAgICAgICYmICRhY3RpdmUuaGFzQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICRhY3RpdmVcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICAuZmluZCgnPiAuZHJvcGRvd24tbWVudSA+IC5hY3RpdmUnKVxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG5cbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2FjdGl2ZScpXG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGggLy8gcmVmbG93IGZvciB0cmFuc2l0aW9uXG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2luJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2ZhZGUnKVxuICAgICAgfVxuXG4gICAgICBpZiAoZWxlbWVudC5wYXJlbnQoJy5kcm9wZG93bi1tZW51JykpIHtcbiAgICAgICAgZWxlbWVudC5jbG9zZXN0KCdsaS5kcm9wZG93bicpLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgfVxuXG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgfVxuXG4gICAgdHJhbnNpdGlvbiA/XG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIG5leHQpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApIDpcbiAgICAgIG5leHQoKVxuXG4gICAgJGFjdGl2ZS5yZW1vdmVDbGFzcygnaW4nKVxuICB9XG5cblxuICAvLyBUQUIgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMudGFiJylcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy50YWInLCAoZGF0YSA9IG5ldyBUYWIodGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnRhYlxuXG4gICQuZm4udGFiICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4udGFiLkNvbnN0cnVjdG9yID0gVGFiXG5cblxuICAvLyBUQUIgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09XG5cbiAgJC5mbi50YWIubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnRhYiA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIFRBQiBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMudGFiLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXSwgW2RhdGEtdG9nZ2xlPVwicGlsbFwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgUGx1Z2luLmNhbGwoJCh0aGlzKSwgJ3Nob3cnKVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiB0cmFuc2l0aW9uLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdHJhbnNpdGlvbnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDU1MgVFJBTlNJVElPTiBTVVBQT1JUIChTaG91dG91dDogaHR0cDovL3d3dy5tb2Rlcm5penIuY29tLylcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gdHJhbnNpdGlvbkVuZCgpIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib290c3RyYXAnKVxuXG4gICAgdmFyIHRyYW5zRW5kRXZlbnROYW1lcyA9IHtcbiAgICAgIFdlYmtpdFRyYW5zaXRpb24gOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgICBNb3pUcmFuc2l0aW9uICAgIDogJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgT1RyYW5zaXRpb24gICAgICA6ICdvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCcsXG4gICAgICB0cmFuc2l0aW9uICAgICAgIDogJ3RyYW5zaXRpb25lbmQnXG4gICAgfVxuXG4gICAgZm9yICh2YXIgbmFtZSBpbiB0cmFuc0VuZEV2ZW50TmFtZXMpIHtcbiAgICAgIGlmIChlbC5zdHlsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB7IGVuZDogdHJhbnNFbmRFdmVudE5hbWVzW25hbWVdIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2UgLy8gZXhwbGljaXQgZm9yIGllOCAoICAuXy4pXG4gIH1cblxuICAvLyBodHRwOi8vYmxvZy5hbGV4bWFjY2F3LmNvbS9jc3MtdHJhbnNpdGlvbnNcbiAgJC5mbi5lbXVsYXRlVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIChkdXJhdGlvbikge1xuICAgIHZhciBjYWxsZWQgPSBmYWxzZVxuICAgIHZhciAkZWwgPSB0aGlzXG4gICAgJCh0aGlzKS5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHsgY2FsbGVkID0gdHJ1ZSB9KVxuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsgaWYgKCFjYWxsZWQpICQoJGVsKS50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCkgfVxuICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIGR1cmF0aW9uKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAkKGZ1bmN0aW9uICgpIHtcbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25FbmQoKVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuXG5cbiAgICAkLmV2ZW50LnNwZWNpYWwuYnNUcmFuc2l0aW9uRW5kID0ge1xuICAgICAgYmluZFR5cGU6ICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxcbiAgICAgIGRlbGVnYXRlVHlwZTogJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLFxuICAgICAgaGFuZGxlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoJChlLnRhcmdldCkuaXModGhpcykpIHJldHVybiBlLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHNjcm9sbHNweS5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3Njcm9sbHNweVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFNDUk9MTFNQWSBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gU2Nyb2xsU3B5KGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB2YXIgcHJvY2VzcyAgPSAkLnByb3h5KHRoaXMucHJvY2VzcywgdGhpcylcblxuICAgIHRoaXMuJGJvZHkgICAgICAgICAgPSAkKCdib2R5JylcbiAgICB0aGlzLiRzY3JvbGxFbGVtZW50ID0gJChlbGVtZW50KS5pcygnYm9keScpID8gJCh3aW5kb3cpIDogJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgICAgICAgPSAkLmV4dGVuZCh7fSwgU2Nyb2xsU3B5LkRFRkFVTFRTLCBvcHRpb25zKVxuICAgIHRoaXMuc2VsZWN0b3IgICAgICAgPSAodGhpcy5vcHRpb25zLnRhcmdldCB8fCAnJykgKyAnIC5uYXYgbGkgPiBhJ1xuICAgIHRoaXMub2Zmc2V0cyAgICAgICAgPSBbXVxuICAgIHRoaXMudGFyZ2V0cyAgICAgICAgPSBbXVxuICAgIHRoaXMuYWN0aXZlVGFyZ2V0ICAgPSBudWxsXG4gICAgdGhpcy5zY3JvbGxIZWlnaHQgICA9IDBcblxuICAgIHRoaXMuJHNjcm9sbEVsZW1lbnQub24oJ3Njcm9sbC5icy5zY3JvbGxzcHknLCBwcm9jZXNzKVxuICAgIHRoaXMucmVmcmVzaCgpXG4gICAgdGhpcy5wcm9jZXNzKClcbiAgfVxuXG4gIFNjcm9sbFNweS5WRVJTSU9OICA9ICczLjIuMCdcblxuICBTY3JvbGxTcHkuREVGQVVMVFMgPSB7XG4gICAgb2Zmc2V0OiAxMFxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5nZXRTY3JvbGxIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0IHx8IE1hdGgubWF4KHRoaXMuJGJvZHlbMF0uc2Nyb2xsSGVpZ2h0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KVxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvZmZzZXRNZXRob2QgPSAnb2Zmc2V0J1xuICAgIHZhciBvZmZzZXRCYXNlICAgPSAwXG5cbiAgICBpZiAoISQuaXNXaW5kb3codGhpcy4kc2Nyb2xsRWxlbWVudFswXSkpIHtcbiAgICAgIG9mZnNldE1ldGhvZCA9ICdwb3NpdGlvbidcbiAgICAgIG9mZnNldEJhc2UgICA9IHRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKClcbiAgICB9XG5cbiAgICB0aGlzLm9mZnNldHMgPSBbXVxuICAgIHRoaXMudGFyZ2V0cyA9IFtdXG4gICAgdGhpcy5zY3JvbGxIZWlnaHQgPSB0aGlzLmdldFNjcm9sbEhlaWdodCgpXG5cbiAgICB2YXIgc2VsZiAgICAgPSB0aGlzXG5cbiAgICB0aGlzLiRib2R5XG4gICAgICAuZmluZCh0aGlzLnNlbGVjdG9yKVxuICAgICAgLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkZWwgICA9ICQodGhpcylcbiAgICAgICAgdmFyIGhyZWYgID0gJGVsLmRhdGEoJ3RhcmdldCcpIHx8ICRlbC5hdHRyKCdocmVmJylcbiAgICAgICAgdmFyICRocmVmID0gL14jLi8udGVzdChocmVmKSAmJiAkKGhyZWYpXG5cbiAgICAgICAgcmV0dXJuICgkaHJlZlxuICAgICAgICAgICYmICRocmVmLmxlbmd0aFxuICAgICAgICAgICYmICRocmVmLmlzKCc6dmlzaWJsZScpXG4gICAgICAgICAgJiYgW1skaHJlZltvZmZzZXRNZXRob2RdKCkudG9wICsgb2Zmc2V0QmFzZSwgaHJlZl1dKSB8fCBudWxsXG4gICAgICB9KVxuICAgICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGFbMF0gLSBiWzBdIH0pXG4gICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYub2Zmc2V0cy5wdXNoKHRoaXNbMF0pXG4gICAgICAgIHNlbGYudGFyZ2V0cy5wdXNoKHRoaXNbMV0pXG4gICAgICB9KVxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzY3JvbGxUb3AgICAgPSB0aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpICsgdGhpcy5vcHRpb25zLm9mZnNldFxuICAgIHZhciBzY3JvbGxIZWlnaHQgPSB0aGlzLmdldFNjcm9sbEhlaWdodCgpXG4gICAgdmFyIG1heFNjcm9sbCAgICA9IHRoaXMub3B0aW9ucy5vZmZzZXQgKyBzY3JvbGxIZWlnaHQgLSB0aGlzLiRzY3JvbGxFbGVtZW50LmhlaWdodCgpXG4gICAgdmFyIG9mZnNldHMgICAgICA9IHRoaXMub2Zmc2V0c1xuICAgIHZhciB0YXJnZXRzICAgICAgPSB0aGlzLnRhcmdldHNcbiAgICB2YXIgYWN0aXZlVGFyZ2V0ID0gdGhpcy5hY3RpdmVUYXJnZXRcbiAgICB2YXIgaVxuXG4gICAgaWYgKHRoaXMuc2Nyb2xsSGVpZ2h0ICE9IHNjcm9sbEhlaWdodCkge1xuICAgICAgdGhpcy5yZWZyZXNoKClcbiAgICB9XG5cbiAgICBpZiAoc2Nyb2xsVG9wID49IG1heFNjcm9sbCkge1xuICAgICAgcmV0dXJuIGFjdGl2ZVRhcmdldCAhPSAoaSA9IHRhcmdldHNbdGFyZ2V0cy5sZW5ndGggLSAxXSkgJiYgdGhpcy5hY3RpdmF0ZShpKVxuICAgIH1cblxuICAgIGlmIChhY3RpdmVUYXJnZXQgJiYgc2Nyb2xsVG9wIDw9IG9mZnNldHNbMF0pIHtcbiAgICAgIHJldHVybiBhY3RpdmVUYXJnZXQgIT0gKGkgPSB0YXJnZXRzWzBdKSAmJiB0aGlzLmFjdGl2YXRlKGkpXG4gICAgfVxuXG4gICAgZm9yIChpID0gb2Zmc2V0cy5sZW5ndGg7IGktLTspIHtcbiAgICAgIGFjdGl2ZVRhcmdldCAhPSB0YXJnZXRzW2ldXG4gICAgICAgICYmIHNjcm9sbFRvcCA+PSBvZmZzZXRzW2ldXG4gICAgICAgICYmICghb2Zmc2V0c1tpICsgMV0gfHwgc2Nyb2xsVG9wIDw9IG9mZnNldHNbaSArIDFdKVxuICAgICAgICAmJiB0aGlzLmFjdGl2YXRlKHRhcmdldHNbaV0pXG4gICAgfVxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICB0aGlzLmFjdGl2ZVRhcmdldCA9IHRhcmdldFxuXG4gICAgJCh0aGlzLnNlbGVjdG9yKVxuICAgICAgLnBhcmVudHNVbnRpbCh0aGlzLm9wdGlvbnMudGFyZ2V0LCAnLmFjdGl2ZScpXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG5cbiAgICB2YXIgc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yICtcbiAgICAgICAgJ1tkYXRhLXRhcmdldD1cIicgKyB0YXJnZXQgKyAnXCJdLCcgK1xuICAgICAgICB0aGlzLnNlbGVjdG9yICsgJ1tocmVmPVwiJyArIHRhcmdldCArICdcIl0nXG5cbiAgICB2YXIgYWN0aXZlID0gJChzZWxlY3RvcilcbiAgICAgIC5wYXJlbnRzKCdsaScpXG4gICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpXG5cbiAgICBpZiAoYWN0aXZlLnBhcmVudCgnLmRyb3Bkb3duLW1lbnUnKS5sZW5ndGgpIHtcbiAgICAgIGFjdGl2ZSA9IGFjdGl2ZVxuICAgICAgICAuY2xvc2VzdCgnbGkuZHJvcGRvd24nKVxuICAgICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgfVxuXG4gICAgYWN0aXZlLnRyaWdnZXIoJ2FjdGl2YXRlLmJzLnNjcm9sbHNweScpXG4gIH1cblxuXG4gIC8vIFNDUk9MTFNQWSBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuc2Nyb2xsc3B5JylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5zY3JvbGxzcHknLCAoZGF0YSA9IG5ldyBTY3JvbGxTcHkodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnNjcm9sbHNweVxuXG4gICQuZm4uc2Nyb2xsc3B5ICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uc2Nyb2xsc3B5LkNvbnN0cnVjdG9yID0gU2Nyb2xsU3B5XG5cblxuICAvLyBTQ1JPTExTUFkgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5zY3JvbGxzcHkubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnNjcm9sbHNweSA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIFNDUk9MTFNQWSBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAkKHdpbmRvdykub24oJ2xvYWQuYnMuc2Nyb2xsc3B5LmRhdGEtYXBpJywgZnVuY3Rpb24gKCkge1xuICAgICQoJ1tkYXRhLXNweT1cInNjcm9sbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRzcHkgPSAkKHRoaXMpXG4gICAgICBQbHVnaW4uY2FsbCgkc3B5LCAkc3B5LmRhdGEoKSlcbiAgICB9KVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBtb2RhbC5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI21vZGFsc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIE1PREFMIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBNb2RhbCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zICAgICAgICA9IG9wdGlvbnNcbiAgICB0aGlzLiRib2R5ICAgICAgICAgID0gJChkb2N1bWVudC5ib2R5KVxuICAgIHRoaXMuJGVsZW1lbnQgICAgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy4kYmFja2Ryb3AgICAgICA9XG4gICAgdGhpcy5pc1Nob3duICAgICAgICA9IG51bGxcbiAgICB0aGlzLnNjcm9sbGJhcldpZHRoID0gMFxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdGUpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLmZpbmQoJy5tb2RhbC1jb250ZW50JylcbiAgICAgICAgLmxvYWQodGhpcy5vcHRpb25zLnJlbW90ZSwgJC5wcm94eShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdsb2FkZWQuYnMubW9kYWwnKVxuICAgICAgICB9LCB0aGlzKSlcbiAgICB9XG4gIH1cblxuICBNb2RhbC5WRVJTSU9OICA9ICczLjIuMCdcblxuICBNb2RhbC5ERUZBVUxUUyA9IHtcbiAgICBiYWNrZHJvcDogdHJ1ZSxcbiAgICBrZXlib2FyZDogdHJ1ZSxcbiAgICBzaG93OiB0cnVlXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKF9yZWxhdGVkVGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRoaXMuaXNTaG93biA/IHRoaXMuaGlkZSgpIDogdGhpcy5zaG93KF9yZWxhdGVkVGFyZ2V0KVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB2YXIgZSAgICA9ICQuRXZlbnQoJ3Nob3cuYnMubW9kYWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IF9yZWxhdGVkVGFyZ2V0IH0pXG5cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgIGlmICh0aGlzLmlzU2hvd24gfHwgZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB0aGlzLmlzU2hvd24gPSB0cnVlXG5cbiAgICB0aGlzLmNoZWNrU2Nyb2xsYmFyKClcbiAgICB0aGlzLiRib2R5LmFkZENsYXNzKCdtb2RhbC1vcGVuJylcblxuICAgIHRoaXMuc2V0U2Nyb2xsYmFyKClcbiAgICB0aGlzLmVzY2FwZSgpXG5cbiAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJywgJ1tkYXRhLWRpc21pc3M9XCJtb2RhbFwiXScsICQucHJveHkodGhpcy5oaWRlLCB0aGlzKSlcblxuICAgIHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRyYW5zaXRpb24gPSAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGF0LiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJylcblxuICAgICAgaWYgKCF0aGF0LiRlbGVtZW50LnBhcmVudCgpLmxlbmd0aCkge1xuICAgICAgICB0aGF0LiRlbGVtZW50LmFwcGVuZFRvKHRoYXQuJGJvZHkpIC8vIGRvbid0IG1vdmUgbW9kYWxzIGRvbSBwb3NpdGlvblxuICAgICAgfVxuXG4gICAgICB0aGF0LiRlbGVtZW50XG4gICAgICAgIC5zaG93KClcbiAgICAgICAgLnNjcm9sbFRvcCgwKVxuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICB0aGF0LiRlbGVtZW50WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuICAgICAgfVxuXG4gICAgICB0aGF0LiRlbGVtZW50XG4gICAgICAgIC5hZGRDbGFzcygnaW4nKVxuICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCBmYWxzZSlcblxuICAgICAgdGhhdC5lbmZvcmNlRm9jdXMoKVxuXG4gICAgICB2YXIgZSA9ICQuRXZlbnQoJ3Nob3duLmJzLm1vZGFsJywgeyByZWxhdGVkVGFyZ2V0OiBfcmVsYXRlZFRhcmdldCB9KVxuXG4gICAgICB0cmFuc2l0aW9uID9cbiAgICAgICAgdGhhdC4kZWxlbWVudC5maW5kKCcubW9kYWwtZGlhbG9nJykgLy8gd2FpdCBmb3IgbW9kYWwgdG8gc2xpZGUgaW5cbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2ZvY3VzJykudHJpZ2dlcihlKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDMwMCkgOlxuICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2ZvY3VzJykudHJpZ2dlcihlKVxuICAgIH0pXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUpIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgZSA9ICQuRXZlbnQoJ2hpZGUuYnMubW9kYWwnKVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAoIXRoaXMuaXNTaG93biB8fCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuaXNTaG93biA9IGZhbHNlXG5cbiAgICB0aGlzLiRib2R5LnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuJylcblxuICAgIHRoaXMucmVzZXRTY3JvbGxiYXIoKVxuICAgIHRoaXMuZXNjYXBlKClcblxuICAgICQoZG9jdW1lbnQpLm9mZignZm9jdXNpbi5icy5tb2RhbCcpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAucmVtb3ZlQ2xhc3MoJ2luJylcbiAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsIHRydWUpXG4gICAgICAub2ZmKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJylcblxuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkodGhpcy5oaWRlTW9kYWwsIHRoaXMpKVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzAwKSA6XG4gICAgICB0aGlzLmhpZGVNb2RhbCgpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuZW5mb3JjZUZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICQoZG9jdW1lbnQpXG4gICAgICAub2ZmKCdmb2N1c2luLmJzLm1vZGFsJykgLy8gZ3VhcmQgYWdhaW5zdCBpbmZpbml0ZSBmb2N1cyBsb29wXG4gICAgICAub24oJ2ZvY3VzaW4uYnMubW9kYWwnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICh0aGlzLiRlbGVtZW50WzBdICE9PSBlLnRhcmdldCAmJiAhdGhpcy4kZWxlbWVudC5oYXMoZS50YXJnZXQpLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKVxuICAgICAgICB9XG4gICAgICB9LCB0aGlzKSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5lc2NhcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuaXNTaG93biAmJiB0aGlzLm9wdGlvbnMua2V5Ym9hcmQpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2tleXVwLmRpc21pc3MuYnMubW9kYWwnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUud2hpY2ggPT0gMjcgJiYgdGhpcy5oaWRlKClcbiAgICAgIH0sIHRoaXMpKVxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTaG93bikge1xuICAgICAgdGhpcy4kZWxlbWVudC5vZmYoJ2tleXVwLmRpc21pc3MuYnMubW9kYWwnKVxuICAgIH1cbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5oaWRlTW9kYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdGhpcy4kZWxlbWVudC5oaWRlKClcbiAgICB0aGlzLmJhY2tkcm9wKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignaGlkZGVuLmJzLm1vZGFsJylcbiAgICB9KVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnJlbW92ZUJhY2tkcm9wID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuJGJhY2tkcm9wICYmIHRoaXMuJGJhY2tkcm9wLnJlbW92ZSgpXG4gICAgdGhpcy4kYmFja2Ryb3AgPSBudWxsXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuYmFja2Ryb3AgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB2YXIgYW5pbWF0ZSA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/ICdmYWRlJyA6ICcnXG5cbiAgICBpZiAodGhpcy5pc1Nob3duICYmIHRoaXMub3B0aW9ucy5iYWNrZHJvcCkge1xuICAgICAgdmFyIGRvQW5pbWF0ZSA9ICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIGFuaW1hdGVcblxuICAgICAgdGhpcy4kYmFja2Ryb3AgPSAkKCc8ZGl2IGNsYXNzPVwibW9kYWwtYmFja2Ryb3AgJyArIGFuaW1hdGUgKyAnXCIgLz4nKVxuICAgICAgICAuYXBwZW5kVG8odGhpcy4kYm9keSlcblxuICAgICAgdGhpcy4kZWxlbWVudC5vbignY2xpY2suZGlzbWlzcy5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSBlLmN1cnJlbnRUYXJnZXQpIHJldHVyblxuICAgICAgICB0aGlzLm9wdGlvbnMuYmFja2Ryb3AgPT0gJ3N0YXRpYydcbiAgICAgICAgICA/IHRoaXMuJGVsZW1lbnRbMF0uZm9jdXMuY2FsbCh0aGlzLiRlbGVtZW50WzBdKVxuICAgICAgICAgIDogdGhpcy5oaWRlLmNhbGwodGhpcylcbiAgICAgIH0sIHRoaXMpKVxuXG4gICAgICBpZiAoZG9BbmltYXRlKSB0aGlzLiRiYWNrZHJvcFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3dcblxuICAgICAgdGhpcy4kYmFja2Ryb3AuYWRkQ2xhc3MoJ2luJylcblxuICAgICAgaWYgKCFjYWxsYmFjaykgcmV0dXJuXG5cbiAgICAgIGRvQW5pbWF0ZSA/XG4gICAgICAgIHRoaXMuJGJhY2tkcm9wXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY2FsbGJhY2spXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxuICAgICAgICBjYWxsYmFjaygpXG5cbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzU2hvd24gJiYgdGhpcy4kYmFja2Ryb3ApIHtcbiAgICAgIHRoaXMuJGJhY2tkcm9wLnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICAgIHZhciBjYWxsYmFja1JlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhhdC5yZW1vdmVCYWNrZHJvcCgpXG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbiAgICAgIH1cbiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAgIHRoaXMuJGJhY2tkcm9wXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY2FsbGJhY2tSZW1vdmUpXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxuICAgICAgICBjYWxsYmFja1JlbW92ZSgpXG5cbiAgICB9IGVsc2UgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjaygpXG4gICAgfVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmNoZWNrU2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoID49IHdpbmRvdy5pbm5lcldpZHRoKSByZXR1cm5cbiAgICB0aGlzLnNjcm9sbGJhcldpZHRoID0gdGhpcy5zY3JvbGxiYXJXaWR0aCB8fCB0aGlzLm1lYXN1cmVTY3JvbGxiYXIoKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnNldFNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYm9keVBhZCA9IHBhcnNlSW50KCh0aGlzLiRib2R5LmNzcygncGFkZGluZy1yaWdodCcpIHx8IDApLCAxMClcbiAgICBpZiAodGhpcy5zY3JvbGxiYXJXaWR0aCkgdGhpcy4kYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnLCBib2R5UGFkICsgdGhpcy5zY3JvbGxiYXJXaWR0aClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5yZXNldFNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLiRib2R5LmNzcygncGFkZGluZy1yaWdodCcsICcnKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLm1lYXN1cmVTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7IC8vIHRoeCB3YWxzaFxuICAgIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHNjcm9sbERpdi5jbGFzc05hbWUgPSAnbW9kYWwtc2Nyb2xsYmFyLW1lYXN1cmUnXG4gICAgdGhpcy4kYm9keS5hcHBlbmQoc2Nyb2xsRGl2KVxuICAgIHZhciBzY3JvbGxiYXJXaWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aFxuICAgIHRoaXMuJGJvZHlbMF0ucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KVxuICAgIHJldHVybiBzY3JvbGxiYXJXaWR0aFxuICB9XG5cblxuICAvLyBNT0RBTCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24sIF9yZWxhdGVkVGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMubW9kYWwnKVxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgTW9kYWwuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMubW9kYWwnLCAoZGF0YSA9IG5ldyBNb2RhbCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKF9yZWxhdGVkVGFyZ2V0KVxuICAgICAgZWxzZSBpZiAob3B0aW9ucy5zaG93KSBkYXRhLnNob3coX3JlbGF0ZWRUYXJnZXQpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLm1vZGFsXG5cbiAgJC5mbi5tb2RhbCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLm1vZGFsLkNvbnN0cnVjdG9yID0gTW9kYWxcblxuXG4gIC8vIE1PREFMIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5tb2RhbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4ubW9kYWwgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBNT0RBTCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5tb2RhbC5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJtb2RhbFwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgdmFyIGhyZWYgICAgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICB2YXIgJHRhcmdldCA9ICQoJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSB8fCAoaHJlZiAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSkpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB2YXIgb3B0aW9uICA9ICR0YXJnZXQuZGF0YSgnYnMubW9kYWwnKSA/ICd0b2dnbGUnIDogJC5leHRlbmQoeyByZW1vdGU6ICEvIy8udGVzdChocmVmKSAmJiBocmVmIH0sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpXG5cbiAgICBpZiAoJHRoaXMuaXMoJ2EnKSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAkdGFyZ2V0Lm9uZSgnc2hvdy5icy5tb2RhbCcsIGZ1bmN0aW9uIChzaG93RXZlbnQpIHtcbiAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVybiAvLyBvbmx5IHJlZ2lzdGVyIGZvY3VzIHJlc3RvcmVyIGlmIG1vZGFsIHdpbGwgYWN0dWFsbHkgZ2V0IHNob3duXG4gICAgICAkdGFyZ2V0Lm9uZSgnaGlkZGVuLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkdGhpcy5pcygnOnZpc2libGUnKSAmJiAkdGhpcy50cmlnZ2VyKCdmb2N1cycpXG4gICAgICB9KVxuICAgIH0pXG4gICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9uLCB0aGlzKVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiB0b29sdGlwLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdG9vbHRpcFxuICogSW5zcGlyZWQgYnkgdGhlIG9yaWdpbmFsIGpRdWVyeS50aXBzeSBieSBKYXNvbiBGcmFtZVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFRPT0xUSVAgUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBUb29sdGlwID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnR5cGUgICAgICAgPVxuICAgIHRoaXMub3B0aW9ucyAgICA9XG4gICAgdGhpcy5lbmFibGVkICAgID1cbiAgICB0aGlzLnRpbWVvdXQgICAgPVxuICAgIHRoaXMuaG92ZXJTdGF0ZSA9XG4gICAgdGhpcy4kZWxlbWVudCAgID0gbnVsbFxuXG4gICAgdGhpcy5pbml0KCd0b29sdGlwJywgZWxlbWVudCwgb3B0aW9ucylcbiAgfVxuXG4gIFRvb2x0aXAuVkVSU0lPTiAgPSAnMy4yLjAnXG5cbiAgVG9vbHRpcC5ERUZBVUxUUyA9IHtcbiAgICBhbmltYXRpb246IHRydWUsXG4gICAgcGxhY2VtZW50OiAndG9wJyxcbiAgICBzZWxlY3RvcjogZmFsc2UsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwidG9vbHRpcFwiIHJvbGU9XCJ0b29sdGlwXCI+PGRpdiBjbGFzcz1cInRvb2x0aXAtYXJyb3dcIj48L2Rpdj48ZGl2IGNsYXNzPVwidG9vbHRpcC1pbm5lclwiPjwvZGl2PjwvZGl2PicsXG4gICAgdHJpZ2dlcjogJ2hvdmVyIGZvY3VzJyxcbiAgICB0aXRsZTogJycsXG4gICAgZGVsYXk6IDAsXG4gICAgaHRtbDogZmFsc2UsXG4gICAgY29udGFpbmVyOiBmYWxzZSxcbiAgICB2aWV3cG9ydDoge1xuICAgICAgc2VsZWN0b3I6ICdib2R5JyxcbiAgICAgIHBhZGRpbmc6IDBcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKHR5cGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmVuYWJsZWQgICA9IHRydWVcbiAgICB0aGlzLnR5cGUgICAgICA9IHR5cGVcbiAgICB0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICA9IHRoaXMuZ2V0T3B0aW9ucyhvcHRpb25zKVxuICAgIHRoaXMuJHZpZXdwb3J0ID0gdGhpcy5vcHRpb25zLnZpZXdwb3J0ICYmICQodGhpcy5vcHRpb25zLnZpZXdwb3J0LnNlbGVjdG9yIHx8IHRoaXMub3B0aW9ucy52aWV3cG9ydClcblxuICAgIHZhciB0cmlnZ2VycyA9IHRoaXMub3B0aW9ucy50cmlnZ2VyLnNwbGl0KCcgJylcblxuICAgIGZvciAodmFyIGkgPSB0cmlnZ2Vycy5sZW5ndGg7IGktLTspIHtcbiAgICAgIHZhciB0cmlnZ2VyID0gdHJpZ2dlcnNbaV1cblxuICAgICAgaWYgKHRyaWdnZXIgPT0gJ2NsaWNrJykge1xuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay4nICsgdGhpcy50eXBlLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy50b2dnbGUsIHRoaXMpKVxuICAgICAgfSBlbHNlIGlmICh0cmlnZ2VyICE9ICdtYW51YWwnKSB7XG4gICAgICAgIHZhciBldmVudEluICA9IHRyaWdnZXIgPT0gJ2hvdmVyJyA/ICdtb3VzZWVudGVyJyA6ICdmb2N1c2luJ1xuICAgICAgICB2YXIgZXZlbnRPdXQgPSB0cmlnZ2VyID09ICdob3ZlcicgPyAnbW91c2VsZWF2ZScgOiAnZm9jdXNvdXQnXG5cbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbihldmVudEluICArICcuJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMuZW50ZXIsIHRoaXMpKVxuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKGV2ZW50T3V0ICsgJy4nICsgdGhpcy50eXBlLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy5sZWF2ZSwgdGhpcykpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5vcHRpb25zLnNlbGVjdG9yID9cbiAgICAgICh0aGlzLl9vcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMub3B0aW9ucywgeyB0cmlnZ2VyOiAnbWFudWFsJywgc2VsZWN0b3I6ICcnIH0pKSA6XG4gICAgICB0aGlzLmZpeFRpdGxlKClcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldERlZmF1bHRzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBUb29sdGlwLkRFRkFVTFRTXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMuZ2V0RGVmYXVsdHMoKSwgdGhpcy4kZWxlbWVudC5kYXRhKCksIG9wdGlvbnMpXG5cbiAgICBpZiAob3B0aW9ucy5kZWxheSAmJiB0eXBlb2Ygb3B0aW9ucy5kZWxheSA9PSAnbnVtYmVyJykge1xuICAgICAgb3B0aW9ucy5kZWxheSA9IHtcbiAgICAgICAgc2hvdzogb3B0aW9ucy5kZWxheSxcbiAgICAgICAgaGlkZTogb3B0aW9ucy5kZWxheVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvcHRpb25zXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXREZWxlZ2F0ZU9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9wdGlvbnMgID0ge31cbiAgICB2YXIgZGVmYXVsdHMgPSB0aGlzLmdldERlZmF1bHRzKClcblxuICAgIHRoaXMuX29wdGlvbnMgJiYgJC5lYWNoKHRoaXMuX29wdGlvbnMsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoZGVmYXVsdHNba2V5XSAhPSB2YWx1ZSkgb3B0aW9uc1trZXldID0gdmFsdWVcbiAgICB9KVxuXG4gICAgcmV0dXJuIG9wdGlvbnNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmVudGVyID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBzZWxmID0gb2JqIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvciA/XG4gICAgICBvYmogOiAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuXG4gICAgaWYgKCFzZWxmKSB7XG4gICAgICBzZWxmID0gbmV3IHRoaXMuY29uc3RydWN0b3Iob2JqLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgIH1cblxuICAgIGNsZWFyVGltZW91dChzZWxmLnRpbWVvdXQpXG5cbiAgICBzZWxmLmhvdmVyU3RhdGUgPSAnaW4nXG5cbiAgICBpZiAoIXNlbGYub3B0aW9ucy5kZWxheSB8fCAhc2VsZi5vcHRpb25zLmRlbGF5LnNob3cpIHJldHVybiBzZWxmLnNob3coKVxuXG4gICAgc2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5ob3ZlclN0YXRlID09ICdpbicpIHNlbGYuc2hvdygpXG4gICAgfSwgc2VsZi5vcHRpb25zLmRlbGF5LnNob3cpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5sZWF2ZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgc2VsZiA9IG9iaiBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IgP1xuICAgICAgb2JqIDogJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSlcblxuICAgIGlmICghc2VsZikge1xuICAgICAgc2VsZiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKG9iai5jdXJyZW50VGFyZ2V0LCB0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKVxuICAgICAgJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgc2VsZilcbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQoc2VsZi50aW1lb3V0KVxuXG4gICAgc2VsZi5ob3ZlclN0YXRlID0gJ291dCdcblxuICAgIGlmICghc2VsZi5vcHRpb25zLmRlbGF5IHx8ICFzZWxmLm9wdGlvbnMuZGVsYXkuaGlkZSkgcmV0dXJuIHNlbGYuaGlkZSgpXG5cbiAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZWxmLmhvdmVyU3RhdGUgPT0gJ291dCcpIHNlbGYuaGlkZSgpXG4gICAgfSwgc2VsZi5vcHRpb25zLmRlbGF5LmhpZGUpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlID0gJC5FdmVudCgnc2hvdy5icy4nICsgdGhpcy50eXBlKVxuXG4gICAgaWYgKHRoaXMuaGFzQ29udGVudCgpICYmIHRoaXMuZW5hYmxlZCkge1xuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICAgIHZhciBpbkRvbSA9ICQuY29udGFpbnMoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB0aGlzLiRlbGVtZW50WzBdKVxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgIWluRG9tKSByZXR1cm5cbiAgICAgIHZhciB0aGF0ID0gdGhpc1xuXG4gICAgICB2YXIgJHRpcCA9IHRoaXMudGlwKClcblxuICAgICAgdmFyIHRpcElkID0gdGhpcy5nZXRVSUQodGhpcy50eXBlKVxuXG4gICAgICB0aGlzLnNldENvbnRlbnQoKVxuICAgICAgJHRpcC5hdHRyKCdpZCcsIHRpcElkKVxuICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JywgdGlwSWQpXG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSAkdGlwLmFkZENsYXNzKCdmYWRlJylcblxuICAgICAgdmFyIHBsYWNlbWVudCA9IHR5cGVvZiB0aGlzLm9wdGlvbnMucGxhY2VtZW50ID09ICdmdW5jdGlvbicgP1xuICAgICAgICB0aGlzLm9wdGlvbnMucGxhY2VtZW50LmNhbGwodGhpcywgJHRpcFswXSwgdGhpcy4kZWxlbWVudFswXSkgOlxuICAgICAgICB0aGlzLm9wdGlvbnMucGxhY2VtZW50XG5cbiAgICAgIHZhciBhdXRvVG9rZW4gPSAvXFxzP2F1dG8/XFxzPy9pXG4gICAgICB2YXIgYXV0b1BsYWNlID0gYXV0b1Rva2VuLnRlc3QocGxhY2VtZW50KVxuICAgICAgaWYgKGF1dG9QbGFjZSkgcGxhY2VtZW50ID0gcGxhY2VtZW50LnJlcGxhY2UoYXV0b1Rva2VuLCAnJykgfHwgJ3RvcCdcblxuICAgICAgJHRpcFxuICAgICAgICAuZGV0YWNoKClcbiAgICAgICAgLmNzcyh7IHRvcDogMCwgbGVmdDogMCwgZGlzcGxheTogJ2Jsb2NrJyB9KVxuICAgICAgICAuYWRkQ2xhc3MocGxhY2VtZW50KVxuICAgICAgICAuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgdGhpcylcblxuICAgICAgdGhpcy5vcHRpb25zLmNvbnRhaW5lciA/ICR0aXAuYXBwZW5kVG8odGhpcy5vcHRpb25zLmNvbnRhaW5lcikgOiAkdGlwLmluc2VydEFmdGVyKHRoaXMuJGVsZW1lbnQpXG5cbiAgICAgIHZhciBwb3MgICAgICAgICAgPSB0aGlzLmdldFBvc2l0aW9uKClcbiAgICAgIHZhciBhY3R1YWxXaWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgICB2YXIgYWN0dWFsSGVpZ2h0ID0gJHRpcFswXS5vZmZzZXRIZWlnaHRcblxuICAgICAgaWYgKGF1dG9QbGFjZSkge1xuICAgICAgICB2YXIgb3JnUGxhY2VtZW50ID0gcGxhY2VtZW50XG4gICAgICAgIHZhciAkcGFyZW50ICAgICAgPSB0aGlzLiRlbGVtZW50LnBhcmVudCgpXG4gICAgICAgIHZhciBwYXJlbnREaW0gICAgPSB0aGlzLmdldFBvc2l0aW9uKCRwYXJlbnQpXG5cbiAgICAgICAgcGxhY2VtZW50ID0gcGxhY2VtZW50ID09ICdib3R0b20nICYmIHBvcy50b3AgICArIHBvcy5oZWlnaHQgICAgICAgKyBhY3R1YWxIZWlnaHQgLSBwYXJlbnREaW0uc2Nyb2xsID4gcGFyZW50RGltLmhlaWdodCA/ICd0b3AnICAgIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID09ICd0b3AnICAgICYmIHBvcy50b3AgICAtIHBhcmVudERpbS5zY3JvbGwgLSBhY3R1YWxIZWlnaHQgPCAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdib3R0b20nIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID09ICdyaWdodCcgICYmIHBvcy5yaWdodCArIGFjdHVhbFdpZHRoICAgICAgPiBwYXJlbnREaW0ud2lkdGggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdsZWZ0JyAgIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID09ICdsZWZ0JyAgICYmIHBvcy5sZWZ0ICAtIGFjdHVhbFdpZHRoICAgICAgPCBwYXJlbnREaW0ubGVmdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdyaWdodCcgIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50XG5cbiAgICAgICAgJHRpcFxuICAgICAgICAgIC5yZW1vdmVDbGFzcyhvcmdQbGFjZW1lbnQpXG4gICAgICAgICAgLmFkZENsYXNzKHBsYWNlbWVudClcbiAgICAgIH1cblxuICAgICAgdmFyIGNhbGN1bGF0ZWRPZmZzZXQgPSB0aGlzLmdldENhbGN1bGF0ZWRPZmZzZXQocGxhY2VtZW50LCBwb3MsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpXG5cbiAgICAgIHRoaXMuYXBwbHlQbGFjZW1lbnQoY2FsY3VsYXRlZE9mZnNldCwgcGxhY2VtZW50KVxuXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignc2hvd24uYnMuJyArIHRoYXQudHlwZSlcbiAgICAgICAgdGhhdC5ob3ZlclN0YXRlID0gbnVsbFxuICAgICAgfVxuXG4gICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiR0aXAuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAgICR0aXBcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjb21wbGV0ZSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICAgIGNvbXBsZXRlKClcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5hcHBseVBsYWNlbWVudCA9IGZ1bmN0aW9uIChvZmZzZXQsIHBsYWNlbWVudCkge1xuICAgIHZhciAkdGlwICAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIHdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcbiAgICB2YXIgaGVpZ2h0ID0gJHRpcFswXS5vZmZzZXRIZWlnaHRcblxuICAgIC8vIG1hbnVhbGx5IHJlYWQgbWFyZ2lucyBiZWNhdXNlIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpbmNsdWRlcyBkaWZmZXJlbmNlXG4gICAgdmFyIG1hcmdpblRvcCA9IHBhcnNlSW50KCR0aXAuY3NzKCdtYXJnaW4tdG9wJyksIDEwKVxuICAgIHZhciBtYXJnaW5MZWZ0ID0gcGFyc2VJbnQoJHRpcC5jc3MoJ21hcmdpbi1sZWZ0JyksIDEwKVxuXG4gICAgLy8gd2UgbXVzdCBjaGVjayBmb3IgTmFOIGZvciBpZSA4LzlcbiAgICBpZiAoaXNOYU4obWFyZ2luVG9wKSkgIG1hcmdpblRvcCAgPSAwXG4gICAgaWYgKGlzTmFOKG1hcmdpbkxlZnQpKSBtYXJnaW5MZWZ0ID0gMFxuXG4gICAgb2Zmc2V0LnRvcCAgPSBvZmZzZXQudG9wICArIG1hcmdpblRvcFxuICAgIG9mZnNldC5sZWZ0ID0gb2Zmc2V0LmxlZnQgKyBtYXJnaW5MZWZ0XG5cbiAgICAvLyAkLmZuLm9mZnNldCBkb2Vzbid0IHJvdW5kIHBpeGVsIHZhbHVlc1xuICAgIC8vIHNvIHdlIHVzZSBzZXRPZmZzZXQgZGlyZWN0bHkgd2l0aCBvdXIgb3duIGZ1bmN0aW9uIEItMFxuICAgICQub2Zmc2V0LnNldE9mZnNldCgkdGlwWzBdLCAkLmV4dGVuZCh7XG4gICAgICB1c2luZzogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICR0aXAuY3NzKHtcbiAgICAgICAgICB0b3A6IE1hdGgucm91bmQocHJvcHMudG9wKSxcbiAgICAgICAgICBsZWZ0OiBNYXRoLnJvdW5kKHByb3BzLmxlZnQpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSwgb2Zmc2V0KSwgMClcblxuICAgICR0aXAuYWRkQ2xhc3MoJ2luJylcblxuICAgIC8vIGNoZWNrIHRvIHNlZSBpZiBwbGFjaW5nIHRpcCBpbiBuZXcgb2Zmc2V0IGNhdXNlZCB0aGUgdGlwIHRvIHJlc2l6ZSBpdHNlbGZcbiAgICB2YXIgYWN0dWFsV2lkdGggID0gJHRpcFswXS5vZmZzZXRXaWR0aFxuICAgIHZhciBhY3R1YWxIZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgaWYgKHBsYWNlbWVudCA9PSAndG9wJyAmJiBhY3R1YWxIZWlnaHQgIT0gaGVpZ2h0KSB7XG4gICAgICBvZmZzZXQudG9wID0gb2Zmc2V0LnRvcCArIGhlaWdodCAtIGFjdHVhbEhlaWdodFxuICAgIH1cblxuICAgIHZhciBkZWx0YSA9IHRoaXMuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhKHBsYWNlbWVudCwgb2Zmc2V0LCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KVxuXG4gICAgaWYgKGRlbHRhLmxlZnQpIG9mZnNldC5sZWZ0ICs9IGRlbHRhLmxlZnRcbiAgICBlbHNlIG9mZnNldC50b3AgKz0gZGVsdGEudG9wXG5cbiAgICB2YXIgYXJyb3dEZWx0YSAgICAgICAgICA9IGRlbHRhLmxlZnQgPyBkZWx0YS5sZWZ0ICogMiAtIHdpZHRoICsgYWN0dWFsV2lkdGggOiBkZWx0YS50b3AgKiAyIC0gaGVpZ2h0ICsgYWN0dWFsSGVpZ2h0XG4gICAgdmFyIGFycm93UG9zaXRpb24gICAgICAgPSBkZWx0YS5sZWZ0ID8gJ2xlZnQnICAgICAgICA6ICd0b3AnXG4gICAgdmFyIGFycm93T2Zmc2V0UG9zaXRpb24gPSBkZWx0YS5sZWZ0ID8gJ29mZnNldFdpZHRoJyA6ICdvZmZzZXRIZWlnaHQnXG5cbiAgICAkdGlwLm9mZnNldChvZmZzZXQpXG4gICAgdGhpcy5yZXBsYWNlQXJyb3coYXJyb3dEZWx0YSwgJHRpcFswXVthcnJvd09mZnNldFBvc2l0aW9uXSwgYXJyb3dQb3NpdGlvbilcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnJlcGxhY2VBcnJvdyA9IGZ1bmN0aW9uIChkZWx0YSwgZGltZW5zaW9uLCBwb3NpdGlvbikge1xuICAgIHRoaXMuYXJyb3coKS5jc3MocG9zaXRpb24sIGRlbHRhID8gKDUwICogKDEgLSBkZWx0YSAvIGRpbWVuc2lvbikgKyAnJScpIDogJycpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5zZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGlwICA9IHRoaXMudGlwKClcbiAgICB2YXIgdGl0bGUgPSB0aGlzLmdldFRpdGxlKClcblxuICAgICR0aXAuZmluZCgnLnRvb2x0aXAtaW5uZXInKVt0aGlzLm9wdGlvbnMuaHRtbCA/ICdodG1sJyA6ICd0ZXh0J10odGl0bGUpXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnZmFkZSBpbiB0b3AgYm90dG9tIGxlZnQgcmlnaHQnKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB2YXIgJHRpcCA9IHRoaXMudGlwKClcbiAgICB2YXIgZSAgICA9ICQuRXZlbnQoJ2hpZGUuYnMuJyArIHRoaXMudHlwZSlcblxuICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQXR0cignYXJpYS1kZXNjcmliZWRieScpXG5cbiAgICBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgIGlmICh0aGF0LmhvdmVyU3RhdGUgIT0gJ2luJykgJHRpcC5kZXRhY2goKVxuICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdoaWRkZW4uYnMuJyArIHRoYXQudHlwZSlcbiAgICB9XG5cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICR0aXAucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJHRpcC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICR0aXBcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY29tcGxldGUpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApIDpcbiAgICAgIGNvbXBsZXRlKClcblxuICAgIHRoaXMuaG92ZXJTdGF0ZSA9IG51bGxcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5maXhUaXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJGUgPSB0aGlzLiRlbGVtZW50XG4gICAgaWYgKCRlLmF0dHIoJ3RpdGxlJykgfHwgdHlwZW9mICgkZS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJykpICE9ICdzdHJpbmcnKSB7XG4gICAgICAkZS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJywgJGUuYXR0cigndGl0bGUnKSB8fCAnJykuYXR0cigndGl0bGUnLCAnJylcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5oYXNDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdldFRpdGxlKClcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFBvc2l0aW9uID0gZnVuY3Rpb24gKCRlbGVtZW50KSB7XG4gICAgJGVsZW1lbnQgICA9ICRlbGVtZW50IHx8IHRoaXMuJGVsZW1lbnRcbiAgICB2YXIgZWwgICAgID0gJGVsZW1lbnRbMF1cbiAgICB2YXIgaXNCb2R5ID0gZWwudGFnTmFtZSA9PSAnQk9EWSdcbiAgICByZXR1cm4gJC5leHRlbmQoe30sICh0eXBlb2YgZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ID09ICdmdW5jdGlvbicpID8gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBudWxsLCB7XG4gICAgICBzY3JvbGw6IGlzQm9keSA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgOiAkZWxlbWVudC5zY3JvbGxUb3AoKSxcbiAgICAgIHdpZHRoOiAgaXNCb2R5ID8gJCh3aW5kb3cpLndpZHRoKCkgIDogJGVsZW1lbnQub3V0ZXJXaWR0aCgpLFxuICAgICAgaGVpZ2h0OiBpc0JvZHkgPyAkKHdpbmRvdykuaGVpZ2h0KCkgOiAkZWxlbWVudC5vdXRlckhlaWdodCgpXG4gICAgfSwgaXNCb2R5ID8geyB0b3A6IDAsIGxlZnQ6IDAgfSA6ICRlbGVtZW50Lm9mZnNldCgpKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0Q2FsY3VsYXRlZE9mZnNldCA9IGZ1bmN0aW9uIChwbGFjZW1lbnQsIHBvcywgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodCkge1xuICAgIHJldHVybiBwbGFjZW1lbnQgPT0gJ2JvdHRvbScgPyB7IHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQsICAgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggLyAyIC0gYWN0dWFsV2lkdGggLyAyICB9IDpcbiAgICAgICAgICAgcGxhY2VtZW50ID09ICd0b3AnICAgID8geyB0b3A6IHBvcy50b3AgLSBhY3R1YWxIZWlnaHQsIGxlZnQ6IHBvcy5sZWZ0ICsgcG9zLndpZHRoIC8gMiAtIGFjdHVhbFdpZHRoIC8gMiAgfSA6XG4gICAgICAgICAgIHBsYWNlbWVudCA9PSAnbGVmdCcgICA/IHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCAvIDIgLSBhY3R1YWxIZWlnaHQgLyAyLCBsZWZ0OiBwb3MubGVmdCAtIGFjdHVhbFdpZHRoIH0gOlxuICAgICAgICAvKiBwbGFjZW1lbnQgPT0gJ3JpZ2h0JyAqLyB7IHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQgLyAyIC0gYWN0dWFsSGVpZ2h0IC8gMiwgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggICB9XG5cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YSA9IGZ1bmN0aW9uIChwbGFjZW1lbnQsIHBvcywgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodCkge1xuICAgIHZhciBkZWx0YSA9IHsgdG9wOiAwLCBsZWZ0OiAwIH1cbiAgICBpZiAoIXRoaXMuJHZpZXdwb3J0KSByZXR1cm4gZGVsdGFcblxuICAgIHZhciB2aWV3cG9ydFBhZGRpbmcgPSB0aGlzLm9wdGlvbnMudmlld3BvcnQgJiYgdGhpcy5vcHRpb25zLnZpZXdwb3J0LnBhZGRpbmcgfHwgMFxuICAgIHZhciB2aWV3cG9ydERpbWVuc2lvbnMgPSB0aGlzLmdldFBvc2l0aW9uKHRoaXMuJHZpZXdwb3J0KVxuXG4gICAgaWYgKC9yaWdodHxsZWZ0Ly50ZXN0KHBsYWNlbWVudCkpIHtcbiAgICAgIHZhciB0b3BFZGdlT2Zmc2V0ICAgID0gcG9zLnRvcCAtIHZpZXdwb3J0UGFkZGluZyAtIHZpZXdwb3J0RGltZW5zaW9ucy5zY3JvbGxcbiAgICAgIHZhciBib3R0b21FZGdlT2Zmc2V0ID0gcG9zLnRvcCArIHZpZXdwb3J0UGFkZGluZyAtIHZpZXdwb3J0RGltZW5zaW9ucy5zY3JvbGwgKyBhY3R1YWxIZWlnaHRcbiAgICAgIGlmICh0b3BFZGdlT2Zmc2V0IDwgdmlld3BvcnREaW1lbnNpb25zLnRvcCkgeyAvLyB0b3Agb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEudG9wID0gdmlld3BvcnREaW1lbnNpb25zLnRvcCAtIHRvcEVkZ2VPZmZzZXRcbiAgICAgIH0gZWxzZSBpZiAoYm90dG9tRWRnZU9mZnNldCA+IHZpZXdwb3J0RGltZW5zaW9ucy50b3AgKyB2aWV3cG9ydERpbWVuc2lvbnMuaGVpZ2h0KSB7IC8vIGJvdHRvbSBvdmVyZmxvd1xuICAgICAgICBkZWx0YS50b3AgPSB2aWV3cG9ydERpbWVuc2lvbnMudG9wICsgdmlld3BvcnREaW1lbnNpb25zLmhlaWdodCAtIGJvdHRvbUVkZ2VPZmZzZXRcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGxlZnRFZGdlT2Zmc2V0ICA9IHBvcy5sZWZ0IC0gdmlld3BvcnRQYWRkaW5nXG4gICAgICB2YXIgcmlnaHRFZGdlT2Zmc2V0ID0gcG9zLmxlZnQgKyB2aWV3cG9ydFBhZGRpbmcgKyBhY3R1YWxXaWR0aFxuICAgICAgaWYgKGxlZnRFZGdlT2Zmc2V0IDwgdmlld3BvcnREaW1lbnNpb25zLmxlZnQpIHsgLy8gbGVmdCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS5sZWZ0ID0gdmlld3BvcnREaW1lbnNpb25zLmxlZnQgLSBsZWZ0RWRnZU9mZnNldFxuICAgICAgfSBlbHNlIGlmIChyaWdodEVkZ2VPZmZzZXQgPiB2aWV3cG9ydERpbWVuc2lvbnMud2lkdGgpIHsgLy8gcmlnaHQgb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEubGVmdCA9IHZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0ICsgdmlld3BvcnREaW1lbnNpb25zLndpZHRoIC0gcmlnaHRFZGdlT2Zmc2V0XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbHRhXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRUaXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGl0bGVcbiAgICB2YXIgJGUgPSB0aGlzLiRlbGVtZW50XG4gICAgdmFyIG8gID0gdGhpcy5vcHRpb25zXG5cbiAgICB0aXRsZSA9ICRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKVxuICAgICAgfHwgKHR5cGVvZiBvLnRpdGxlID09ICdmdW5jdGlvbicgPyBvLnRpdGxlLmNhbGwoJGVbMF0pIDogIG8udGl0bGUpXG5cbiAgICByZXR1cm4gdGl0bGVcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFVJRCA9IGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICBkbyBwcmVmaXggKz0gfn4oTWF0aC5yYW5kb20oKSAqIDEwMDAwMDApXG4gICAgd2hpbGUgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCkpXG4gICAgcmV0dXJuIHByZWZpeFxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudGlwID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy4kdGlwID0gdGhpcy4kdGlwIHx8ICQodGhpcy5vcHRpb25zLnRlbXBsYXRlKSlcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmFycm93ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy4kYXJyb3cgPSB0aGlzLiRhcnJvdyB8fCB0aGlzLnRpcCgpLmZpbmQoJy50b29sdGlwLWFycm93JykpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuJGVsZW1lbnRbMF0ucGFyZW50Tm9kZSkge1xuICAgICAgdGhpcy5oaWRlKClcbiAgICAgIHRoaXMuJGVsZW1lbnQgPSBudWxsXG4gICAgICB0aGlzLm9wdGlvbnMgID0gbnVsbFxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS50b2dnbGVFbmFibGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9ICF0aGlzLmVuYWJsZWRcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzXG4gICAgaWYgKGUpIHtcbiAgICAgIHNlbGYgPSAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSlcbiAgICAgIGlmICghc2VsZikge1xuICAgICAgICBzZWxmID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZS5jdXJyZW50VGFyZ2V0LCB0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKVxuICAgICAgICAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgc2VsZilcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxmLnRpcCgpLmhhc0NsYXNzKCdpbicpID8gc2VsZi5sZWF2ZShzZWxmKSA6IHNlbGYuZW50ZXIoc2VsZilcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dClcbiAgICB0aGlzLmhpZGUoKS4kZWxlbWVudC5vZmYoJy4nICsgdGhpcy50eXBlKS5yZW1vdmVEYXRhKCdicy4nICsgdGhpcy50eXBlKVxuICB9XG5cblxuICAvLyBUT09MVElQIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMudG9vbHRpcCcpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSAmJiBvcHRpb24gPT0gJ2Rlc3Ryb3knKSByZXR1cm5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMudG9vbHRpcCcsIChkYXRhID0gbmV3IFRvb2x0aXAodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnRvb2x0aXBcblxuICAkLmZuLnRvb2x0aXAgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yID0gVG9vbHRpcFxuXG5cbiAgLy8gVE9PTFRJUCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi50b29sdGlwLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi50b29sdGlwID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBwb3BvdmVyLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jcG9wb3ZlcnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBQT1BPVkVSIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgUG9wb3ZlciA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5pbml0KCdwb3BvdmVyJywgZWxlbWVudCwgb3B0aW9ucylcbiAgfVxuXG4gIGlmICghJC5mbi50b29sdGlwKSB0aHJvdyBuZXcgRXJyb3IoJ1BvcG92ZXIgcmVxdWlyZXMgdG9vbHRpcC5qcycpXG5cbiAgUG9wb3Zlci5WRVJTSU9OICA9ICczLjIuMCdcblxuICBQb3BvdmVyLkRFRkFVTFRTID0gJC5leHRlbmQoe30sICQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5ERUZBVUxUUywge1xuICAgIHBsYWNlbWVudDogJ3JpZ2h0JyxcbiAgICB0cmlnZ2VyOiAnY2xpY2snLFxuICAgIGNvbnRlbnQ6ICcnLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInBvcG92ZXJcIiByb2xlPVwidG9vbHRpcFwiPjxkaXYgY2xhc3M9XCJhcnJvd1wiPjwvZGl2PjxoMyBjbGFzcz1cInBvcG92ZXItdGl0bGVcIj48L2gzPjxkaXYgY2xhc3M9XCJwb3BvdmVyLWNvbnRlbnRcIj48L2Rpdj48L2Rpdj4nXG4gIH0pXG5cblxuICAvLyBOT1RFOiBQT1BPVkVSIEVYVEVORFMgdG9vbHRpcC5qc1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIFBvcG92ZXIucHJvdG90eXBlID0gJC5leHRlbmQoe30sICQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5wcm90b3R5cGUpXG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQb3BvdmVyXG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFBvcG92ZXIuREVGQVVMVFNcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aXAgICAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIHRpdGxlICAgPSB0aGlzLmdldFRpdGxlKClcbiAgICB2YXIgY29udGVudCA9IHRoaXMuZ2V0Q29udGVudCgpXG5cbiAgICAkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJylbdGhpcy5vcHRpb25zLmh0bWwgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKVxuICAgICR0aXAuZmluZCgnLnBvcG92ZXItY29udGVudCcpLmVtcHR5KClbIC8vIHdlIHVzZSBhcHBlbmQgZm9yIGh0bWwgb2JqZWN0cyB0byBtYWludGFpbiBqcyBldmVudHNcbiAgICAgIHRoaXMub3B0aW9ucy5odG1sID8gKHR5cGVvZiBjb250ZW50ID09ICdzdHJpbmcnID8gJ2h0bWwnIDogJ2FwcGVuZCcpIDogJ3RleHQnXG4gICAgXShjb250ZW50KVxuXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnZmFkZSB0b3AgYm90dG9tIGxlZnQgcmlnaHQgaW4nKVxuXG4gICAgLy8gSUU4IGRvZXNuJ3QgYWNjZXB0IGhpZGluZyB2aWEgdGhlIGA6ZW1wdHlgIHBzZXVkbyBzZWxlY3Rvciwgd2UgaGF2ZSB0byBkb1xuICAgIC8vIHRoaXMgbWFudWFsbHkgYnkgY2hlY2tpbmcgdGhlIGNvbnRlbnRzLlxuICAgIGlmICghJHRpcC5maW5kKCcucG9wb3Zlci10aXRsZScpLmh0bWwoKSkgJHRpcC5maW5kKCcucG9wb3Zlci10aXRsZScpLmhpZGUoKVxuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuaGFzQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUaXRsZSgpIHx8IHRoaXMuZ2V0Q29udGVudCgpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5nZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICB2YXIgbyAgPSB0aGlzLm9wdGlvbnNcblxuICAgIHJldHVybiAkZS5hdHRyKCdkYXRhLWNvbnRlbnQnKVxuICAgICAgfHwgKHR5cGVvZiBvLmNvbnRlbnQgPT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICBvLmNvbnRlbnQuY2FsbCgkZVswXSkgOlxuICAgICAgICAgICAgby5jb250ZW50KVxuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuYXJyb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLiRhcnJvdyA9IHRoaXMuJGFycm93IHx8IHRoaXMudGlwKCkuZmluZCgnLmFycm93JykpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS50aXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLiR0aXApIHRoaXMuJHRpcCA9ICQodGhpcy5vcHRpb25zLnRlbXBsYXRlKVxuICAgIHJldHVybiB0aGlzLiR0aXBcbiAgfVxuXG5cbiAgLy8gUE9QT1ZFUiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLnBvcG92ZXInKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEgJiYgb3B0aW9uID09ICdkZXN0cm95JykgcmV0dXJuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnBvcG92ZXInLCAoZGF0YSA9IG5ldyBQb3BvdmVyKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5wb3BvdmVyXG5cbiAgJC5mbi5wb3BvdmVyICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4ucG9wb3Zlci5Db25zdHJ1Y3RvciA9IFBvcG92ZXJcblxuXG4gIC8vIFBPUE9WRVIgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4ucG9wb3Zlci5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4ucG9wb3ZlciA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxufShqUXVlcnkpO1xuXG5cbi8qXG4gKiBhbmd1bGFyLXVpLWJvb3RzdHJhcFxuICogaHR0cDovL2FuZ3VsYXItdWkuZ2l0aHViLmlvL2Jvb3RzdHJhcC9cblxuICogVmVyc2lvbjogMC4xMy40IC0gMjAxNS0wOS0wM1xuICogTGljZW5zZTogTUlUXG4gKi9cbmFuZ3VsYXIubW9kdWxlKFwidWkuYm9vdHN0cmFwXCIsIFtcInVpLmJvb3RzdHJhcC50cGxzXCIsIFwidWkuYm9vdHN0cmFwLmNvbGxhcHNlXCIsXCJ1aS5ib290c3RyYXAuYWNjb3JkaW9uXCIsXCJ1aS5ib290c3RyYXAuYWxlcnRcIixcInVpLmJvb3RzdHJhcC5iaW5kSHRtbFwiLFwidWkuYm9vdHN0cmFwLmJ1dHRvbnNcIixcInVpLmJvb3RzdHJhcC5jYXJvdXNlbFwiLFwidWkuYm9vdHN0cmFwLmRhdGVwYXJzZXJcIixcInVpLmJvb3RzdHJhcC5wb3NpdGlvblwiLFwidWkuYm9vdHN0cmFwLmRhdGVwaWNrZXJcIixcInVpLmJvb3RzdHJhcC5kcm9wZG93blwiLFwidWkuYm9vdHN0cmFwLm1vZGFsXCIsXCJ1aS5ib290c3RyYXAucGFnaW5hdGlvblwiLFwidWkuYm9vdHN0cmFwLnRvb2x0aXBcIixcInVpLmJvb3RzdHJhcC5wb3BvdmVyXCIsXCJ1aS5ib290c3RyYXAucHJvZ3Jlc3NiYXJcIixcInVpLmJvb3RzdHJhcC5yYXRpbmdcIixcInVpLmJvb3RzdHJhcC50YWJzXCIsXCJ1aS5ib290c3RyYXAudGltZXBpY2tlclwiLFwidWkuYm9vdHN0cmFwLnRyYW5zaXRpb25cIixcInVpLmJvb3RzdHJhcC50eXBlYWhlYWRcIl0pO1xuYW5ndWxhci5tb2R1bGUoXCJ1aS5ib290c3RyYXAudHBsc1wiLCBbXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWxcIixcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbFwiLFwidGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbFwiLFwidGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbFwiLFwidGVtcGxhdGUvY2Fyb3VzZWwvc2xpZGUuaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWxcIixcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWxcIixcInRlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbFwiLFwidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbFwiLFwidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWxcIixcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbFwiLFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWxcIixcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXBvcHVwLmh0bWxcIixcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sXCIsXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbFwiLFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWxcIixcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci1odG1sLmh0bWxcIixcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci10ZW1wbGF0ZS5odG1sXCIsXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbFwiLFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWxcIixcInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWxcIixcInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWxcIixcInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbFwiLFwidGVtcGxhdGUvdGFicy90YWIuaHRtbFwiLFwidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbFwiLFwidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWxcIixcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbFwiLFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sXCJdKTtcbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuY29sbGFwc2UnLCBbXSlcblxuICAuZGlyZWN0aXZlKCdjb2xsYXBzZScsIFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgZnVuY3Rpb24gZXhwYW5kKCkge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCBmYWxzZSk7XG5cbiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCAnaW4nLCB7XG4gICAgICAgICAgICB0bzogeyBoZWlnaHQ6IGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0ICsgJ3B4JyB9XG4gICAgICAgICAgfSkudGhlbihleHBhbmREb25lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGV4cGFuZERvbmUoKSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpO1xuICAgICAgICAgIGVsZW1lbnQuY3NzKHtoZWlnaHQ6ICdhdXRvJ30pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY29sbGFwc2UoKSB7XG4gICAgICAgICAgaWYgKCFlbGVtZW50Lmhhc0NsYXNzKCdjb2xsYXBzZScpICYmICFlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSB7XG4gICAgICAgICAgICByZXR1cm4gY29sbGFwc2VEb25lKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgLy8gSU1QT1JUQU5UOiBUaGUgaGVpZ2h0IG11c3QgYmUgc2V0IGJlZm9yZSBhZGRpbmcgXCJjb2xsYXBzaW5nXCIgY2xhc3MuXG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIHRoZSBicm93c2VyIGF0dGVtcHRzIHRvIGFuaW1hdGUgZnJvbSBoZWlnaHQgMCAoaW5cbiAgICAgICAgICAgIC8vIGNvbGxhcHNpbmcgY2xhc3MpIHRvIHRoZSBnaXZlbiBoZWlnaHQgaGVyZS5cbiAgICAgICAgICAgIC5jc3Moe2hlaWdodDogZWxlbWVudFswXS5zY3JvbGxIZWlnaHQgKyAncHgnfSlcbiAgICAgICAgICAgIC8vIGluaXRpYWxseSBhbGwgcGFuZWwgY29sbGFwc2UgaGF2ZSB0aGUgY29sbGFwc2UgY2xhc3MsIHRoaXMgcmVtb3ZhbFxuICAgICAgICAgICAgLy8gcHJldmVudHMgdGhlIGFuaW1hdGlvbiBmcm9tIGp1bXBpbmcgdG8gY29sbGFwc2VkIHN0YXRlXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XG5cbiAgICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCAnaW4nLCB7XG4gICAgICAgICAgICB0bzoge2hlaWdodDogJzAnfVxuICAgICAgICAgIH0pLnRoZW4oY29sbGFwc2VEb25lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNvbGxhcHNlRG9uZSgpIHtcbiAgICAgICAgICBlbGVtZW50LmNzcyh7aGVpZ2h0OiAnMCd9KTsgLy8gUmVxdWlyZWQgc28gdGhhdCBjb2xsYXBzZSB3b3JrcyB3aGVuIGFuaW1hdGlvbiBpcyBkaXNhYmxlZFxuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKTtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdjb2xsYXBzZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJzLmNvbGxhcHNlLCBmdW5jdGlvbihzaG91bGRDb2xsYXBzZSkge1xuICAgICAgICAgIGlmIChzaG91bGRDb2xsYXBzZSkge1xuICAgICAgICAgICAgY29sbGFwc2UoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXhwYW5kKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuYWNjb3JkaW9uJywgWyd1aS5ib290c3RyYXAuY29sbGFwc2UnXSlcblxuLmNvbnN0YW50KCdhY2NvcmRpb25Db25maWcnLCB7XG4gIGNsb3NlT3RoZXJzOiB0cnVlXG59KVxuXG4uY29udHJvbGxlcignQWNjb3JkaW9uQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICdhY2NvcmRpb25Db25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgYWNjb3JkaW9uQ29uZmlnKSB7XG4gIC8vIFRoaXMgYXJyYXkga2VlcHMgdHJhY2sgb2YgdGhlIGFjY29yZGlvbiBncm91cHNcbiAgdGhpcy5ncm91cHMgPSBbXTtcblxuICAvLyBFbnN1cmUgdGhhdCBhbGwgdGhlIGdyb3VwcyBpbiB0aGlzIGFjY29yZGlvbiBhcmUgY2xvc2VkLCB1bmxlc3MgY2xvc2Utb3RoZXJzIGV4cGxpY2l0bHkgc2F5cyBub3QgdG9cbiAgdGhpcy5jbG9zZU90aGVycyA9IGZ1bmN0aW9uKG9wZW5Hcm91cCkge1xuICAgIHZhciBjbG9zZU90aGVycyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5jbG9zZU90aGVycykgP1xuICAgICAgJHNjb3BlLiRldmFsKCRhdHRycy5jbG9zZU90aGVycykgOiBhY2NvcmRpb25Db25maWcuY2xvc2VPdGhlcnM7XG4gICAgaWYgKGNsb3NlT3RoZXJzKSB7XG4gICAgICBhbmd1bGFyLmZvckVhY2godGhpcy5ncm91cHMsIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIGlmIChncm91cCAhPT0gb3Blbkdyb3VwKSB7XG4gICAgICAgICAgZ3JvdXAuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBUaGlzIGlzIGNhbGxlZCBmcm9tIHRoZSBhY2NvcmRpb24tZ3JvdXAgZGlyZWN0aXZlIHRvIGFkZCBpdHNlbGYgdG8gdGhlIGFjY29yZGlvblxuICB0aGlzLmFkZEdyb3VwID0gZnVuY3Rpb24oZ3JvdXBTY29wZSkge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB0aGlzLmdyb3Vwcy5wdXNoKGdyb3VwU2NvcGUpO1xuXG4gICAgZ3JvdXBTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHRoYXQucmVtb3ZlR3JvdXAoZ3JvdXBTY29wZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gVGhpcyBpcyBjYWxsZWQgZnJvbSB0aGUgYWNjb3JkaW9uLWdyb3VwIGRpcmVjdGl2ZSB3aGVuIHRvIHJlbW92ZSBpdHNlbGZcbiAgdGhpcy5yZW1vdmVHcm91cCA9IGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5ncm91cHMuaW5kZXhPZihncm91cCk7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgdGhpcy5ncm91cHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH07XG5cbn1dKVxuXG4vLyBUaGUgYWNjb3JkaW9uIGRpcmVjdGl2ZSBzaW1wbHkgc2V0cyB1cCB0aGUgZGlyZWN0aXZlIGNvbnRyb2xsZXJcbi8vIGFuZCBhZGRzIGFuIGFjY29yZGlvbiBDU1MgY2xhc3MgdG8gaXRzZWxmIGVsZW1lbnQuXG4uZGlyZWN0aXZlKCdhY2NvcmRpb24nLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICBjb250cm9sbGVyOiAnQWNjb3JkaW9uQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnYWNjb3JkaW9uJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHJlcGxhY2U6IGZhbHNlLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWwnO1xuICAgIH1cbiAgfTtcbn0pXG5cbi8vIFRoZSBhY2NvcmRpb24tZ3JvdXAgZGlyZWN0aXZlIGluZGljYXRlcyBhIGJsb2NrIG9mIGh0bWwgdGhhdCB3aWxsIGV4cGFuZCBhbmQgY29sbGFwc2UgaW4gYW4gYWNjb3JkaW9uXG4uZGlyZWN0aXZlKCdhY2NvcmRpb25Hcm91cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICdeYWNjb3JkaW9uJywgICAgICAgICAvLyBXZSBuZWVkIHRoaXMgZGlyZWN0aXZlIHRvIGJlIGluc2lkZSBhbiBhY2NvcmRpb25cbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLCAgICAgICAgICAgICAgLy8gSXQgdHJhbnNjbHVkZXMgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXJlY3RpdmUgaW50byB0aGUgdGVtcGxhdGVcbiAgICByZXBsYWNlOiB0cnVlLCAgICAgICAgICAgICAgICAvLyBUaGUgZWxlbWVudCBjb250YWluaW5nIHRoZSBkaXJlY3RpdmUgd2lsbCBiZSByZXBsYWNlZCB3aXRoIHRoZSB0ZW1wbGF0ZVxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWwnO1xuICAgIH0sXG4gICAgc2NvcGU6IHtcbiAgICAgIGhlYWRpbmc6ICdAJywgICAgICAgICAgICAgICAvLyBJbnRlcnBvbGF0ZSB0aGUgaGVhZGluZyBhdHRyaWJ1dGUgb250byB0aGlzIHNjb3BlXG4gICAgICBpc09wZW46ICc9PycsXG4gICAgICBpc0Rpc2FibGVkOiAnPT8nXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuc2V0SGVhZGluZyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5oZWFkaW5nID0gZWxlbWVudDtcbiAgICAgIH07XG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGFjY29yZGlvbkN0cmwpIHtcbiAgICAgIGFjY29yZGlvbkN0cmwuYWRkR3JvdXAoc2NvcGUpO1xuXG4gICAgICBzY29wZS5vcGVuQ2xhc3MgPSBhdHRycy5vcGVuQ2xhc3MgfHwgJ3BhbmVsLW9wZW4nO1xuICAgICAgc2NvcGUucGFuZWxDbGFzcyA9IGF0dHJzLnBhbmVsQ2xhc3M7XG4gICAgICBzY29wZS4kd2F0Y2goJ2lzT3BlbicsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3Moc2NvcGUub3BlbkNsYXNzLCB2YWx1ZSk7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIGFjY29yZGlvbkN0cmwuY2xvc2VPdGhlcnMoc2NvcGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUudG9nZ2xlT3BlbiA9IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBpZiAoIXNjb3BlLmlzRGlzYWJsZWQpIHtcbiAgICAgICAgICBpZiAoISRldmVudCB8fCAkZXZlbnQud2hpY2ggPT09IDMyKSB7XG4gICAgICAgICAgICBzY29wZS5pc09wZW4gPSAhc2NvcGUuaXNPcGVuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59KVxuXG4vLyBVc2UgYWNjb3JkaW9uLWhlYWRpbmcgYmVsb3cgYW4gYWNjb3JkaW9uLWdyb3VwIHRvIHByb3ZpZGUgYSBoZWFkaW5nIGNvbnRhaW5pbmcgSFRNTFxuLy8gPGFjY29yZGlvbi1ncm91cD5cbi8vICAgPGFjY29yZGlvbi1oZWFkaW5nPkhlYWRpbmcgY29udGFpbmluZyBIVE1MIC0gPGltZyBzcmM9XCIuLi5cIj48L2FjY29yZGlvbi1oZWFkaW5nPlxuLy8gPC9hY2NvcmRpb24tZ3JvdXA+XG4uZGlyZWN0aXZlKCdhY2NvcmRpb25IZWFkaW5nJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSwgICAvLyBHcmFiIHRoZSBjb250ZW50cyB0byBiZSB1c2VkIGFzIHRoZSBoZWFkaW5nXG4gICAgdGVtcGxhdGU6ICcnLCAgICAgICAvLyBJbiBlZmZlY3QgcmVtb3ZlIHRoaXMgZWxlbWVudCFcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHJlcXVpcmU6ICdeYWNjb3JkaW9uR3JvdXAnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBhY2NvcmRpb25Hcm91cEN0cmwsIHRyYW5zY2x1ZGUpIHtcbiAgICAgIC8vIFBhc3MgdGhlIGhlYWRpbmcgdG8gdGhlIGFjY29yZGlvbi1ncm91cCBjb250cm9sbGVyXG4gICAgICAvLyBzbyB0aGF0IGl0IGNhbiBiZSB0cmFuc2NsdWRlZCBpbnRvIHRoZSByaWdodCBwbGFjZSBpbiB0aGUgdGVtcGxhdGVcbiAgICAgIC8vIFtUaGUgc2Vjb25kIHBhcmFtZXRlciB0byB0cmFuc2NsdWRlIGNhdXNlcyB0aGUgZWxlbWVudHMgdG8gYmUgY2xvbmVkIHNvIHRoYXQgdGhleSB3b3JrIGluIG5nLXJlcGVhdF1cbiAgICAgIGFjY29yZGlvbkdyb3VwQ3RybC5zZXRIZWFkaW5nKHRyYW5zY2x1ZGUoc2NvcGUsIGFuZ3VsYXIubm9vcCkpO1xuICAgIH1cbiAgfTtcbn0pXG5cbi8vIFVzZSBpbiB0aGUgYWNjb3JkaW9uLWdyb3VwIHRlbXBsYXRlIHRvIGluZGljYXRlIHdoZXJlIHlvdSB3YW50IHRoZSBoZWFkaW5nIHRvIGJlIHRyYW5zY2x1ZGVkXG4vLyBZb3UgbXVzdCBwcm92aWRlIHRoZSBwcm9wZXJ0eSBvbiB0aGUgYWNjb3JkaW9uLWdyb3VwIGNvbnRyb2xsZXIgdGhhdCB3aWxsIGhvbGQgdGhlIHRyYW5zY2x1ZGVkIGVsZW1lbnRcbi8vIDxkaXYgY2xhc3M9XCJhY2NvcmRpb24tZ3JvdXBcIj5cbi8vICAgPGRpdiBjbGFzcz1cImFjY29yZGlvbi1oZWFkaW5nXCIgPjxhIC4uLiBhY2NvcmRpb24tdHJhbnNjbHVkZT1cImhlYWRpbmdcIj4uLi48L2E+PC9kaXY+XG4vLyAgIC4uLlxuLy8gPC9kaXY+XG4uZGlyZWN0aXZlKCdhY2NvcmRpb25UcmFuc2NsdWRlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJ15hY2NvcmRpb25Hcm91cCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGNvbnRyb2xsZXIpIHtcbiAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHsgcmV0dXJuIGNvbnRyb2xsZXJbYXR0ci5hY2NvcmRpb25UcmFuc2NsdWRlXTsgfSwgZnVuY3Rpb24oaGVhZGluZykge1xuICAgICAgICBpZiAoaGVhZGluZykge1xuICAgICAgICAgIGVsZW1lbnQuZmluZCgnc3BhbicpLmh0bWwoJycpO1xuICAgICAgICAgIGVsZW1lbnQuZmluZCgnc3BhbicpLmFwcGVuZChoZWFkaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmFsZXJ0JywgW10pXG5cbi5jb250cm9sbGVyKCdBbGVydENvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycykge1xuICAkc2NvcGUuY2xvc2VhYmxlID0gISEkYXR0cnMuY2xvc2U7XG4gIHRoaXMuY2xvc2UgPSAkc2NvcGUuY2xvc2U7XG59XSlcblxuLmRpcmVjdGl2ZSgnYWxlcnQnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICBjb250cm9sbGVyOiAnQWxlcnRDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdhbGVydCcsXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWwnO1xuICAgIH0sXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7XG4gICAgICB0eXBlOiAnQCcsXG4gICAgICBjbG9zZTogJyYnXG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgnZGlzbWlzc09uVGltZW91dCcsIFsnJHRpbWVvdXQnLCBmdW5jdGlvbigkdGltZW91dCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICdhbGVydCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBhbGVydEN0cmwpIHtcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBhbGVydEN0cmwuY2xvc2UoKTtcbiAgICAgIH0sIHBhcnNlSW50KGF0dHJzLmRpc21pc3NPblRpbWVvdXQsIDEwKSk7XG4gICAgfVxuICB9O1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmJpbmRIdG1sJywgW10pXG5cbiAgLnZhbHVlKCckYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQnLCBmYWxzZSlcblxuICAuZGlyZWN0aXZlKCdiaW5kSHRtbFVuc2FmZScsIFsnJGxvZycsICckYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQnLCBmdW5jdGlvbiAoJGxvZywgJGJpbmRIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgaWYgKCEkYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQpIHtcbiAgICAgICAgJGxvZy53YXJuKCdiaW5kSHRtbFVuc2FmZSBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIG5nQmluZEh0bWwgaW5zdGVhZCcpO1xuICAgICAgfVxuICAgICAgZWxlbWVudC5hZGRDbGFzcygnbmctYmluZGluZycpLmRhdGEoJyRiaW5kaW5nJywgYXR0ci5iaW5kSHRtbFVuc2FmZSk7XG4gICAgICBzY29wZS4kd2F0Y2goYXR0ci5iaW5kSHRtbFVuc2FmZSwgZnVuY3Rpb24gYmluZEh0bWxVbnNhZmVXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUgfHwgJycpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfV0pO1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5idXR0b25zJywgW10pXG5cbi5jb25zdGFudCgnYnV0dG9uQ29uZmlnJywge1xuICBhY3RpdmVDbGFzczogJ2FjdGl2ZScsXG4gIHRvZ2dsZUV2ZW50OiAnY2xpY2snXG59KVxuXG4uY29udHJvbGxlcignQnV0dG9uc0NvbnRyb2xsZXInLCBbJ2J1dHRvbkNvbmZpZycsIGZ1bmN0aW9uKGJ1dHRvbkNvbmZpZykge1xuICB0aGlzLmFjdGl2ZUNsYXNzID0gYnV0dG9uQ29uZmlnLmFjdGl2ZUNsYXNzIHx8ICdhY3RpdmUnO1xuICB0aGlzLnRvZ2dsZUV2ZW50ID0gYnV0dG9uQ29uZmlnLnRvZ2dsZUV2ZW50IHx8ICdjbGljayc7XG59XSlcblxuLmRpcmVjdGl2ZSgnYnRuUmFkaW8nLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiBbJ2J0blJhZGlvJywgJ25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiAnQnV0dG9uc0NvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ2J1dHRvbnMnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBidXR0b25zQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBlbGVtZW50LmZpbmQoJ2lucHV0JykuY3NzKHtkaXNwbGF5OiAnbm9uZSd9KTtcblxuICAgICAgLy9tb2RlbCAtPiBVSVxuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBlbGVtZW50LnRvZ2dsZUNsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzLCBhbmd1bGFyLmVxdWFscyhuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSwgc2NvcGUuJGV2YWwoYXR0cnMuYnRuUmFkaW8pKSk7XG4gICAgICB9O1xuXG4gICAgICAvL3VpLT5tb2RlbFxuICAgICAgZWxlbWVudC5iaW5kKGJ1dHRvbnNDdHJsLnRvZ2dsZUV2ZW50LCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGF0dHJzLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGlzQWN0aXZlID0gZWxlbWVudC5oYXNDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcyk7XG5cbiAgICAgICAgaWYgKCFpc0FjdGl2ZSB8fCBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy51bmNoZWNrYWJsZSkpIHtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKGlzQWN0aXZlID8gbnVsbCA6IHNjb3BlLiRldmFsKGF0dHJzLmJ0blJhZGlvKSk7XG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2J0bkNoZWNrYm94JywgWyckZG9jdW1lbnQnLCBmdW5jdGlvbigkZG9jdW1lbnQpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiBbJ2J0bkNoZWNrYm94JywgJ25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiAnQnV0dG9uc0NvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ2J1dHRvbicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIGJ1dHRvbnNDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGVsZW1lbnQuZmluZCgnaW5wdXQnKS5jc3Moe2Rpc3BsYXk6ICdub25lJ30pO1xuXG4gICAgICBmdW5jdGlvbiBnZXRUcnVlVmFsdWUoKSB7XG4gICAgICAgIHJldHVybiBnZXRDaGVja2JveFZhbHVlKGF0dHJzLmJ0bkNoZWNrYm94VHJ1ZSwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldEZhbHNlVmFsdWUoKSB7XG4gICAgICAgIHJldHVybiBnZXRDaGVja2JveFZhbHVlKGF0dHJzLmJ0bkNoZWNrYm94RmFsc2UsIGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0Q2hlY2tib3hWYWx1ZShhdHRyaWJ1dGVWYWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHZhciB2YWwgPSBzY29wZS4kZXZhbChhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgICAgIHJldHVybiBhbmd1bGFyLmlzRGVmaW5lZCh2YWwpID8gdmFsIDogZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuXG4gICAgICAvL21vZGVsIC0+IFVJXG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MsIGFuZ3VsYXIuZXF1YWxzKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlLCBnZXRUcnVlVmFsdWUoKSkpO1xuICAgICAgfTtcblxuICAgICAgLy91aS0+bW9kZWxcbiAgICAgIGVsZW1lbnQuYmluZChidXR0b25zQ3RybC50b2dnbGVFdmVudCwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChhdHRycy5kaXNhYmxlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKGVsZW1lbnQuaGFzQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MpID8gZ2V0RmFsc2VWYWx1ZSgpIDogZ2V0VHJ1ZVZhbHVlKCkpO1xuICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy9hY2Nlc3NpYmlsaXR5XG4gICAgICBlbGVtZW50Lm9uKCdrZXlwcmVzcycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGF0dHJzLmRpc2FibGVkIHx8IGUud2hpY2ggIT09IDMyIHx8ICRkb2N1bWVudFswXS5hY3RpdmVFbGVtZW50ICE9PSBlbGVtZW50WzBdKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoZWxlbWVudC5oYXNDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcykgPyBnZXRGYWxzZVZhbHVlKCkgOiBnZXRUcnVlVmFsdWUoKSk7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dKTtcblxuLyoqXG4qIEBuZ2RvYyBvdmVydmlld1xuKiBAbmFtZSB1aS5ib290c3RyYXAuY2Fyb3VzZWxcbipcbiogQGRlc2NyaXB0aW9uXG4qIEFuZ3VsYXJKUyB2ZXJzaW9uIG9mIGFuIGltYWdlIGNhcm91c2VsLlxuKlxuKi9cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuY2Fyb3VzZWwnLCBbXSlcbi5jb250cm9sbGVyKCdDYXJvdXNlbENvbnRyb2xsZXInLCBbJyRzY29wZScsICckZWxlbWVudCcsICckaW50ZXJ2YWwnLCAnJGFuaW1hdGUnLCBmdW5jdGlvbiAoJHNjb3BlLCAkZWxlbWVudCwgJGludGVydmFsLCAkYW5pbWF0ZSkge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgc2xpZGVzID0gc2VsZi5zbGlkZXMgPSAkc2NvcGUuc2xpZGVzID0gW10sXG4gICAgTkVXX0FOSU1BVEUgPSBhbmd1bGFyLnZlcnNpb24ubWlub3IgPj0gNCxcbiAgICBOT19UUkFOU0lUSU9OID0gJ3VpYi1ub1RyYW5zaXRpb24nLFxuICAgIFNMSURFX0RJUkVDVElPTiA9ICd1aWItc2xpZGVEaXJlY3Rpb24nLFxuICAgIGN1cnJlbnRJbmRleCA9IC0xLFxuICAgIGN1cnJlbnRJbnRlcnZhbCwgaXNQbGF5aW5nO1xuICBzZWxmLmN1cnJlbnRTbGlkZSA9IG51bGw7XG5cbiAgdmFyIGRlc3Ryb3llZCA9IGZhbHNlO1xuICAvKiBkaXJlY3Rpb246IFwicHJldlwiIG9yIFwibmV4dFwiICovXG4gIHNlbGYuc2VsZWN0ID0gJHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKG5leHRTbGlkZSwgZGlyZWN0aW9uKSB7XG4gICAgdmFyIG5leHRJbmRleCA9ICRzY29wZS5pbmRleE9mU2xpZGUobmV4dFNsaWRlKTtcbiAgICAvL0RlY2lkZSBkaXJlY3Rpb24gaWYgaXQncyBub3QgZ2l2ZW5cbiAgICBpZiAoZGlyZWN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGRpcmVjdGlvbiA9IG5leHRJbmRleCA+IHNlbGYuZ2V0Q3VycmVudEluZGV4KCkgPyAnbmV4dCcgOiAncHJldic7XG4gICAgfVxuICAgIC8vUHJldmVudCB0aGlzIHVzZXItdHJpZ2dlcmVkIHRyYW5zaXRpb24gZnJvbSBvY2N1cnJpbmcgaWYgdGhlcmUgaXMgYWxyZWFkeSBvbmUgaW4gcHJvZ3Jlc3NcbiAgICBpZiAobmV4dFNsaWRlICYmIG5leHRTbGlkZSAhPT0gc2VsZi5jdXJyZW50U2xpZGUgJiYgISRzY29wZS4kY3VycmVudFRyYW5zaXRpb24pIHtcbiAgICAgIGdvTmV4dChuZXh0U2xpZGUsIG5leHRJbmRleCwgZGlyZWN0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gZ29OZXh0KHNsaWRlLCBpbmRleCwgZGlyZWN0aW9uKSB7XG4gICAgLy8gU2NvcGUgaGFzIGJlZW4gZGVzdHJveWVkLCBzdG9wIGhlcmUuXG4gICAgaWYgKGRlc3Ryb3llZCkgeyByZXR1cm47IH1cblxuICAgIGFuZ3VsYXIuZXh0ZW5kKHNsaWRlLCB7ZGlyZWN0aW9uOiBkaXJlY3Rpb24sIGFjdGl2ZTogdHJ1ZX0pO1xuICAgIGFuZ3VsYXIuZXh0ZW5kKHNlbGYuY3VycmVudFNsaWRlIHx8IHt9LCB7ZGlyZWN0aW9uOiBkaXJlY3Rpb24sIGFjdGl2ZTogZmFsc2V9KTtcbiAgICBpZiAoJGFuaW1hdGUuZW5hYmxlZCgpICYmICEkc2NvcGUubm9UcmFuc2l0aW9uICYmICEkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uICYmXG4gICAgICBzbGlkZS4kZWxlbWVudCAmJiBzZWxmLnNsaWRlcy5sZW5ndGggPiAxKSB7XG4gICAgICBzbGlkZS4kZWxlbWVudC5kYXRhKFNMSURFX0RJUkVDVElPTiwgc2xpZGUuZGlyZWN0aW9uKTtcbiAgICAgIGlmIChzZWxmLmN1cnJlbnRTbGlkZSAmJiBzZWxmLmN1cnJlbnRTbGlkZS4kZWxlbWVudCkge1xuICAgICAgICBzZWxmLmN1cnJlbnRTbGlkZS4kZWxlbWVudC5kYXRhKFNMSURFX0RJUkVDVElPTiwgc2xpZGUuZGlyZWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbiA9IHRydWU7XG4gICAgICBpZiAoTkVXX0FOSU1BVEUpIHtcbiAgICAgICAgJGFuaW1hdGUub24oJ2FkZENsYXNzJywgc2xpZGUuJGVsZW1lbnQsIGZ1bmN0aW9uIChlbGVtZW50LCBwaGFzZSkge1xuICAgICAgICAgIGlmIChwaGFzZSA9PT0gJ2Nsb3NlJykge1xuICAgICAgICAgICAgJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAkYW5pbWF0ZS5vZmYoJ2FkZENsYXNzJywgZWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNsaWRlLiRlbGVtZW50Lm9uZSgnJGFuaW1hdGU6Y2xvc2UnLCBmdW5jdGlvbiBjbG9zZUZuKCkge1xuICAgICAgICAgICRzY29wZS4kY3VycmVudFRyYW5zaXRpb24gPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxmLmN1cnJlbnRTbGlkZSA9IHNsaWRlO1xuICAgIGN1cnJlbnRJbmRleCA9IGluZGV4O1xuXG4gICAgLy9ldmVyeSB0aW1lIHlvdSBjaGFuZ2Ugc2xpZGVzLCByZXNldCB0aGUgdGltZXJcbiAgICByZXN0YXJ0VGltZXIoKTtcbiAgfVxuXG4gICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gKCkge1xuICAgIGRlc3Ryb3llZCA9IHRydWU7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFNsaWRlQnlJbmRleChpbmRleCkge1xuICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHNsaWRlc1tpbmRleF0uaW5kZXgpKSB7XG4gICAgICByZXR1cm4gc2xpZGVzW2luZGV4XTtcbiAgICB9XG4gICAgdmFyIGksIGxlbiA9IHNsaWRlcy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7ICsraSkge1xuICAgICAgaWYgKHNsaWRlc1tpXS5pbmRleCA9PSBpbmRleCkge1xuICAgICAgICByZXR1cm4gc2xpZGVzW2ldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNlbGYuZ2V0Q3VycmVudEluZGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHNlbGYuY3VycmVudFNsaWRlICYmIGFuZ3VsYXIuaXNEZWZpbmVkKHNlbGYuY3VycmVudFNsaWRlLmluZGV4KSkge1xuICAgICAgcmV0dXJuICtzZWxmLmN1cnJlbnRTbGlkZS5pbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRJbmRleDtcbiAgfTtcblxuICAvKiBBbGxvdyBvdXRzaWRlIHBlb3BsZSB0byBjYWxsIGluZGV4T2Ygb24gc2xpZGVzIGFycmF5ICovXG4gICRzY29wZS5pbmRleE9mU2xpZGUgPSBmdW5jdGlvbihzbGlkZSkge1xuICAgIHJldHVybiBhbmd1bGFyLmlzRGVmaW5lZChzbGlkZS5pbmRleCkgPyArc2xpZGUuaW5kZXggOiBzbGlkZXMuaW5kZXhPZihzbGlkZSk7XG4gIH07XG5cbiAgJHNjb3BlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3SW5kZXggPSAoc2VsZi5nZXRDdXJyZW50SW5kZXgoKSArIDEpICUgc2xpZGVzLmxlbmd0aDtcblxuICAgIGlmIChuZXdJbmRleCA9PT0gMCAmJiAkc2NvcGUubm9XcmFwKCkpIHtcbiAgICAgICRzY29wZS5wYXVzZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmLnNlbGVjdChnZXRTbGlkZUJ5SW5kZXgobmV3SW5kZXgpLCAnbmV4dCcpO1xuICB9O1xuXG4gICRzY29wZS5wcmV2ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5ld0luZGV4ID0gc2VsZi5nZXRDdXJyZW50SW5kZXgoKSAtIDEgPCAwID8gc2xpZGVzLmxlbmd0aCAtIDEgOiBzZWxmLmdldEN1cnJlbnRJbmRleCgpIC0gMTtcblxuICAgIGlmICgkc2NvcGUubm9XcmFwKCkgJiYgbmV3SW5kZXggPT09IHNsaWRlcy5sZW5ndGggLSAxKXtcbiAgICAgICRzY29wZS5wYXVzZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmLnNlbGVjdChnZXRTbGlkZUJ5SW5kZXgobmV3SW5kZXgpLCAncHJldicpO1xuICB9O1xuXG4gICRzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgIHJldHVybiBzZWxmLmN1cnJlbnRTbGlkZSA9PT0gc2xpZGU7XG4gIH07XG5cbiAgJHNjb3BlLiR3YXRjaCgnaW50ZXJ2YWwnLCByZXN0YXJ0VGltZXIpO1xuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIHJlc2V0VGltZXIpO1xuXG4gIGZ1bmN0aW9uIHJlc3RhcnRUaW1lcigpIHtcbiAgICByZXNldFRpbWVyKCk7XG4gICAgdmFyIGludGVydmFsID0gKyRzY29wZS5pbnRlcnZhbDtcbiAgICBpZiAoIWlzTmFOKGludGVydmFsKSAmJiBpbnRlcnZhbCA+IDApIHtcbiAgICAgIGN1cnJlbnRJbnRlcnZhbCA9ICRpbnRlcnZhbCh0aW1lckZuLCBpbnRlcnZhbCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUaW1lcigpIHtcbiAgICBpZiAoY3VycmVudEludGVydmFsKSB7XG4gICAgICAkaW50ZXJ2YWwuY2FuY2VsKGN1cnJlbnRJbnRlcnZhbCk7XG4gICAgICBjdXJyZW50SW50ZXJ2YWwgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRpbWVyRm4oKSB7XG4gICAgdmFyIGludGVydmFsID0gKyRzY29wZS5pbnRlcnZhbDtcbiAgICBpZiAoaXNQbGF5aW5nICYmICFpc05hTihpbnRlcnZhbCkgJiYgaW50ZXJ2YWwgPiAwICYmIHNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICRzY29wZS5uZXh0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS5wYXVzZSgpO1xuICAgIH1cbiAgfVxuXG4gICRzY29wZS5wbGF5ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFpc1BsYXlpbmcpIHtcbiAgICAgIGlzUGxheWluZyA9IHRydWU7XG4gICAgICByZXN0YXJ0VGltZXIoKTtcbiAgICB9XG4gIH07XG4gICRzY29wZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghJHNjb3BlLm5vUGF1c2UpIHtcbiAgICAgIGlzUGxheWluZyA9IGZhbHNlO1xuICAgICAgcmVzZXRUaW1lcigpO1xuICAgIH1cbiAgfTtcblxuICBzZWxmLmFkZFNsaWRlID0gZnVuY3Rpb24oc2xpZGUsIGVsZW1lbnQpIHtcbiAgICBzbGlkZS4kZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgc2xpZGVzLnB1c2goc2xpZGUpO1xuICAgIC8vaWYgdGhpcyBpcyB0aGUgZmlyc3Qgc2xpZGUgb3IgdGhlIHNsaWRlIGlzIHNldCB0byBhY3RpdmUsIHNlbGVjdCBpdFxuICAgIGlmKHNsaWRlcy5sZW5ndGggPT09IDEgfHwgc2xpZGUuYWN0aXZlKSB7XG4gICAgICBzZWxmLnNlbGVjdChzbGlkZXNbc2xpZGVzLmxlbmd0aC0xXSk7XG4gICAgICBpZiAoc2xpZGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICRzY29wZS5wbGF5KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBzZWxmLnJlbW92ZVNsaWRlID0gZnVuY3Rpb24oc2xpZGUpIHtcbiAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoc2xpZGUuaW5kZXgpKSB7XG4gICAgICBzbGlkZXMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIHJldHVybiArYS5pbmRleCA+ICtiLmluZGV4O1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vZ2V0IHRoZSBpbmRleCBvZiB0aGUgc2xpZGUgaW5zaWRlIHRoZSBjYXJvdXNlbFxuICAgIHZhciBpbmRleCA9IHNsaWRlcy5pbmRleE9mKHNsaWRlKTtcbiAgICBzbGlkZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICBpZiAoc2xpZGVzLmxlbmd0aCA+IDAgJiYgc2xpZGUuYWN0aXZlKSB7XG4gICAgICBpZiAoaW5kZXggPj0gc2xpZGVzLmxlbmd0aCkge1xuICAgICAgICBzZWxmLnNlbGVjdChzbGlkZXNbaW5kZXgtMV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5zZWxlY3Qoc2xpZGVzW2luZGV4XSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjdXJyZW50SW5kZXggPiBpbmRleCkge1xuICAgICAgY3VycmVudEluZGV4LS07XG4gICAgfVxuICAgIFxuICAgIC8vY2xlYW4gdGhlIGN1cnJlbnRTbGlkZSB3aGVuIG5vIG1vcmUgc2xpZGVcbiAgICBpZiAoc2xpZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2VsZi5jdXJyZW50U2xpZGUgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuJHdhdGNoKCdub1RyYW5zaXRpb24nLCBmdW5jdGlvbihub1RyYW5zaXRpb24pIHtcbiAgICAkZWxlbWVudC5kYXRhKE5PX1RSQU5TSVRJT04sIG5vVHJhbnNpdGlvbik7XG4gIH0pO1xuXG59XSlcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSB1aS5ib290c3RyYXAuY2Fyb3VzZWwuZGlyZWN0aXZlOmNhcm91c2VsXG4gKiBAcmVzdHJpY3QgRUFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENhcm91c2VsIGlzIHRoZSBvdXRlciBjb250YWluZXIgZm9yIGEgc2V0IG9mIGltYWdlICdzbGlkZXMnIHRvIHNob3djYXNlLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyPX0gaW50ZXJ2YWwgVGhlIHRpbWUsIGluIG1pbGxpc2Vjb25kcywgdGhhdCBpdCB3aWxsIHRha2UgdGhlIGNhcm91c2VsIHRvIGdvIHRvIHRoZSBuZXh0IHNsaWRlLlxuICogQHBhcmFtIHtib29sZWFuPX0gbm9UcmFuc2l0aW9uIFdoZXRoZXIgdG8gZGlzYWJsZSB0cmFuc2l0aW9ucyBvbiB0aGUgY2Fyb3VzZWwuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBub1BhdXNlIFdoZXRoZXIgdG8gZGlzYWJsZSBwYXVzaW5nIG9uIHRoZSBjYXJvdXNlbCAoYnkgZGVmYXVsdCwgdGhlIGNhcm91c2VsIGludGVydmFsIHBhdXNlcyBvbiBob3ZlcikuXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxuICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDxjYXJvdXNlbD5cbiAgICAgIDxzbGlkZT5cbiAgICAgICAgPGltZyBzcmM9XCJodHRwOi8vcGxhY2VraXR0ZW4uY29tLzE1MC8xNTBcIiBzdHlsZT1cIm1hcmdpbjphdXRvO1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWwtY2FwdGlvblwiPlxuICAgICAgICAgIDxwPkJlYXV0aWZ1bCE8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9zbGlkZT5cbiAgICAgIDxzbGlkZT5cbiAgICAgICAgPGltZyBzcmM9XCJodHRwOi8vcGxhY2VraXR0ZW4uY29tLzEwMC8xNTBcIiBzdHlsZT1cIm1hcmdpbjphdXRvO1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWwtY2FwdGlvblwiPlxuICAgICAgICAgIDxwPkQnYXd3ITwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3NsaWRlPlxuICAgIDwvY2Fyb3VzZWw+XG4gIDwvZmlsZT5cbiAgPGZpbGUgbmFtZT1cImRlbW8uY3NzXCI+XG4gICAgLmNhcm91c2VsLWluZGljYXRvcnMge1xuICAgICAgdG9wOiBhdXRvO1xuICAgICAgYm90dG9tOiAxNXB4O1xuICAgIH1cbiAgPC9maWxlPlxuPC9leGFtcGxlPlxuICovXG4uZGlyZWN0aXZlKCdjYXJvdXNlbCcsIFtmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgY29udHJvbGxlcjogJ0Nhcm91c2VsQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnY2Fyb3VzZWwnLFxuICAgIHJlcXVpcmU6ICdjYXJvdXNlbCcsXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWwnO1xuICAgIH0sXG4gICAgc2NvcGU6IHtcbiAgICAgIGludGVydmFsOiAnPScsXG4gICAgICBub1RyYW5zaXRpb246ICc9JyxcbiAgICAgIG5vUGF1c2U6ICc9JyxcbiAgICAgIG5vV3JhcDogJyYnXG4gICAgfVxuICB9O1xufV0pXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkuYm9vdHN0cmFwLmNhcm91c2VsLmRpcmVjdGl2ZTpzbGlkZVxuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgc2xpZGUgaW5zaWRlIGEge0BsaW5rIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6Y2Fyb3VzZWwgY2Fyb3VzZWx9LiAgTXVzdCBiZSBwbGFjZWQgYXMgYSBjaGlsZCBvZiBhIGNhcm91c2VsIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gYWN0aXZlIE1vZGVsIGJpbmRpbmcsIHdoZXRoZXIgb3Igbm90IHRoaXMgc2xpZGUgaXMgY3VycmVudGx5IGFjdGl2ZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBzbGlkZS4gVGhlIHNsaWRlcyB3aWxsIGJlIHNvcnRlZCBieSB0aGlzIHBhcmFtZXRlci5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG48ZGl2IG5nLWNvbnRyb2xsZXI9XCJDYXJvdXNlbERlbW9DdHJsXCI+XG4gIDxjYXJvdXNlbD5cbiAgICA8c2xpZGUgbmctcmVwZWF0PVwic2xpZGUgaW4gc2xpZGVzXCIgYWN0aXZlPVwic2xpZGUuYWN0aXZlXCIgaW5kZXg9XCIkaW5kZXhcIj5cbiAgICAgIDxpbWcgbmctc3JjPVwie3tzbGlkZS5pbWFnZX19XCIgc3R5bGU9XCJtYXJnaW46YXV0bztcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1jYXB0aW9uXCI+XG4gICAgICAgIDxoND5TbGlkZSB7eyRpbmRleH19PC9oND5cbiAgICAgICAgPHA+e3tzbGlkZS50ZXh0fX08L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L3NsaWRlPlxuICA8L2Nhcm91c2VsPlxuICBJbnRlcnZhbCwgaW4gbWlsbGlzZWNvbmRzOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwibXlJbnRlcnZhbFwiPlxuICA8YnIgLz5FbnRlciBhIG5lZ2F0aXZlIG51bWJlciB0byBzdG9wIHRoZSBpbnRlcnZhbC5cbjwvZGl2PlxuICA8L2ZpbGU+XG4gIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbmZ1bmN0aW9uIENhcm91c2VsRGVtb0N0cmwoJHNjb3BlKSB7XG4gICRzY29wZS5teUludGVydmFsID0gNTAwMDtcbn1cbiAgPC9maWxlPlxuICA8ZmlsZSBuYW1lPVwiZGVtby5jc3NcIj5cbiAgICAuY2Fyb3VzZWwtaW5kaWNhdG9ycyB7XG4gICAgICB0b3A6IGF1dG87XG4gICAgICBib3R0b206IDE1cHg7XG4gICAgfVxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4qL1xuXG4uZGlyZWN0aXZlKCdzbGlkZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICdeY2Fyb3VzZWwnLFxuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvY2Fyb3VzZWwvc2xpZGUuaHRtbCc7XG4gICAgfSxcbiAgICBzY29wZToge1xuICAgICAgYWN0aXZlOiAnPT8nLFxuICAgICAgYWN0dWFsOiAnPT8nLFxuICAgICAgaW5kZXg6ICc9PydcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGNhcm91c2VsQ3RybCkge1xuICAgICAgY2Fyb3VzZWxDdHJsLmFkZFNsaWRlKHNjb3BlLCBlbGVtZW50KTtcbiAgICAgIC8vd2hlbiB0aGUgc2NvcGUgaXMgZGVzdHJveWVkIHRoZW4gcmVtb3ZlIHRoZSBzbGlkZSBmcm9tIHRoZSBjdXJyZW50IHNsaWRlcyBhcnJheVxuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjYXJvdXNlbEN0cmwucmVtb3ZlU2xpZGUoc2NvcGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLiR3YXRjaCgnYWN0aXZlJywgZnVuY3Rpb24oYWN0aXZlKSB7XG4gICAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgICBjYXJvdXNlbEN0cmwuc2VsZWN0KHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuLmFuaW1hdGlvbignLml0ZW0nLCBbXG4gICAgICAgICAnJGluamVjdG9yJywgJyRhbmltYXRlJyxcbmZ1bmN0aW9uICgkaW5qZWN0b3IsICRhbmltYXRlKSB7XG4gIHZhciBOT19UUkFOU0lUSU9OID0gJ3VpYi1ub1RyYW5zaXRpb24nLFxuICAgIFNMSURFX0RJUkVDVElPTiA9ICd1aWItc2xpZGVEaXJlY3Rpb24nLFxuICAgICRhbmltYXRlQ3NzID0gbnVsbDtcblxuICBpZiAoJGluamVjdG9yLmhhcygnJGFuaW1hdGVDc3MnKSkge1xuICAgICRhbmltYXRlQ3NzID0gJGluamVjdG9yLmdldCgnJGFuaW1hdGVDc3MnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSwgY2FsbGJhY2spIHtcbiAgICBlbGVtZW50LnJlbW92ZUNsYXNzKGNsYXNzTmFtZSk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYmVmb3JlQWRkQ2xhc3M6IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUsIGRvbmUpIHtcbiAgICAgIC8vIER1ZSB0byB0cmFuc2NsdXNpb24sIG5vVHJhbnNpdGlvbiBwcm9wZXJ0eSBpcyBvbiBwYXJlbnQncyBzY29wZVxuICAgICAgaWYgKGNsYXNzTmFtZSA9PSAnYWN0aXZlJyAmJiBlbGVtZW50LnBhcmVudCgpICYmXG4gICAgICAgICAgIWVsZW1lbnQucGFyZW50KCkuZGF0YShOT19UUkFOU0lUSU9OKSkge1xuICAgICAgICB2YXIgc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZWxlbWVudC5kYXRhKFNMSURFX0RJUkVDVElPTik7XG4gICAgICAgIHZhciBkaXJlY3Rpb25DbGFzcyA9IGRpcmVjdGlvbiA9PSAnbmV4dCcgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgICAgICB2YXIgcmVtb3ZlQ2xhc3NGbiA9IHJlbW92ZUNsYXNzLmJpbmQodGhpcywgZWxlbWVudCxcbiAgICAgICAgICBkaXJlY3Rpb25DbGFzcyArICcgJyArIGRpcmVjdGlvbiwgZG9uZSk7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoZGlyZWN0aW9uKTtcblxuICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcbiAgICAgICAgICAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7YWRkQ2xhc3M6IGRpcmVjdGlvbkNsYXNzfSlcbiAgICAgICAgICAgIC5zdGFydCgpXG4gICAgICAgICAgICAuZG9uZShyZW1vdmVDbGFzc0ZuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCBkaXJlY3Rpb25DbGFzcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3NGbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGRvbmUoKTtcbiAgICB9LFxuICAgIGJlZm9yZVJlbW92ZUNsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKSB7XG4gICAgICAvLyBEdWUgdG8gdHJhbnNjbHVzaW9uLCBub1RyYW5zaXRpb24gcHJvcGVydHkgaXMgb24gcGFyZW50J3Mgc2NvcGVcbiAgICAgIGlmIChjbGFzc05hbWUgPT09ICdhY3RpdmUnICYmIGVsZW1lbnQucGFyZW50KCkgJiZcbiAgICAgICAgICAhZWxlbWVudC5wYXJlbnQoKS5kYXRhKE5PX1RSQU5TSVRJT04pKSB7XG4gICAgICAgIHZhciBzdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBlbGVtZW50LmRhdGEoU0xJREVfRElSRUNUSU9OKTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbkNsYXNzID0gZGlyZWN0aW9uID09ICduZXh0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICAgIHZhciByZW1vdmVDbGFzc0ZuID0gcmVtb3ZlQ2xhc3MuYmluZCh0aGlzLCBlbGVtZW50LCBkaXJlY3Rpb25DbGFzcywgZG9uZSk7XG5cbiAgICAgICAgaWYgKCRhbmltYXRlQ3NzKSB7XG4gICAgICAgICAgJGFuaW1hdGVDc3MoZWxlbWVudCwge2FkZENsYXNzOiBkaXJlY3Rpb25DbGFzc30pXG4gICAgICAgICAgICAuc3RhcnQoKVxuICAgICAgICAgICAgLmRvbmUocmVtb3ZlQ2xhc3NGbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgZGlyZWN0aW9uQ2xhc3MpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFzdG9wcGVkKSB7XG4gICAgICAgICAgICAgIHJlbW92ZUNsYXNzRm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZG9uZSgpO1xuICAgIH1cbiAgfTtcblxufV0pXG5cblxuO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmRhdGVwYXJzZXInLCBbXSlcblxuLnNlcnZpY2UoJ2RhdGVQYXJzZXInLCBbJyRsb2cnLCAnJGxvY2FsZScsICdvcmRlckJ5RmlsdGVyJywgZnVuY3Rpb24oJGxvZywgJGxvY2FsZSwgb3JkZXJCeUZpbHRlcikge1xuICAvLyBQdWxsZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbWJvc3RvY2svZDMvYmxvYi9tYXN0ZXIvc3JjL2Zvcm1hdC9yZXF1b3RlLmpzXG4gIHZhciBTUEVDSUFMX0NIQVJBQ1RFUlNfUkVHRVhQID0gL1tcXFxcXFxeXFwkXFwqXFwrXFw/XFx8XFxbXFxdXFwoXFwpXFwuXFx7XFx9XS9nO1xuXG4gIHRoaXMucGFyc2VycyA9IHt9O1xuXG4gIHZhciBmb3JtYXRDb2RlVG9SZWdleCA9IHtcbiAgICAneXl5eSc6IHtcbiAgICAgIHJlZ2V4OiAnXFxcXGR7NH0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMueWVhciA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ3l5Jzoge1xuICAgICAgcmVnZXg6ICdcXFxcZHsyfScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy55ZWFyID0gK3ZhbHVlICsgMjAwMDsgfVxuICAgIH0sXG4gICAgJ3knOiB7XG4gICAgICByZWdleDogJ1xcXFxkezEsNH0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMueWVhciA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ01NTU0nOiB7XG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLk1PTlRILmpvaW4oJ3wnKSxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLk1PTlRILmluZGV4T2YodmFsdWUpOyB9XG4gICAgfSxcbiAgICAnTU1NJzoge1xuICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVE1PTlRILmpvaW4oJ3wnKSxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUTU9OVEguaW5kZXhPZih2YWx1ZSk7IH1cbiAgICB9LFxuICAgICdNTSc6IHtcbiAgICAgIHJlZ2V4OiAnMFsxLTldfDFbMC0yXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5tb250aCA9IHZhbHVlIC0gMTsgfVxuICAgIH0sXG4gICAgJ00nOiB7XG4gICAgICByZWdleDogJ1sxLTldfDFbMC0yXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5tb250aCA9IHZhbHVlIC0gMTsgfVxuICAgIH0sXG4gICAgJ2RkJzoge1xuICAgICAgcmVnZXg6ICdbMC0yXVswLTldezF9fDNbMC0xXXsxfScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5kYXRlID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnZCc6IHtcbiAgICAgIHJlZ2V4OiAnWzEtMl0/WzAtOV17MX18M1swLTFdezF9JyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmRhdGUgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdFRUVFJzoge1xuICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5EQVkuam9pbignfCcpXG4gICAgfSxcbiAgICAnRUVFJzoge1xuICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVERBWS5qb2luKCd8JylcbiAgICB9LFxuICAgICdISCc6IHtcbiAgICAgIHJlZ2V4OiAnKD86MHwxKVswLTldfDJbMC0zXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5ob3VycyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ2hoJzoge1xuICAgICAgcmVnZXg6ICcwWzAtOV18MVswLTJdJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmhvdXJzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnSCc6IHtcbiAgICAgIHJlZ2V4OiAnMT9bMC05XXwyWzAtM10nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuaG91cnMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdoJzoge1xuICAgICAgcmVnZXg6ICdbMC05XXwxWzAtMl0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuaG91cnMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdtbSc6IHtcbiAgICAgIHJlZ2V4OiAnWzAtNV1bMC05XScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5taW51dGVzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnbSc6IHtcbiAgICAgIHJlZ2V4OiAnWzAtOV18WzEtNV1bMC05XScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5taW51dGVzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnc3NzJzoge1xuICAgICAgcmVnZXg6ICdbMC05XVswLTldWzAtOV0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubWlsbGlzZWNvbmRzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnc3MnOiB7XG4gICAgICByZWdleDogJ1swLTVdWzAtOV0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuc2Vjb25kcyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ3MnOiB7XG4gICAgICByZWdleDogJ1swLTldfFsxLTVdWzAtOV0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuc2Vjb25kcyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ2EnOiB7XG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLkFNUE1TLmpvaW4oJ3wnKSxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5ob3VycyA9PT0gMTIpIHtcbiAgICAgICAgICB0aGlzLmhvdXJzID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gJ1BNJykge1xuICAgICAgICAgIHRoaXMuaG91cnMgKz0gMTI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gY3JlYXRlUGFyc2VyKGZvcm1hdCkge1xuICAgIHZhciBtYXAgPSBbXSwgcmVnZXggPSBmb3JtYXQuc3BsaXQoJycpO1xuXG4gICAgYW5ndWxhci5mb3JFYWNoKGZvcm1hdENvZGVUb1JlZ2V4LCBmdW5jdGlvbihkYXRhLCBjb2RlKSB7XG4gICAgICB2YXIgaW5kZXggPSBmb3JtYXQuaW5kZXhPZihjb2RlKTtcblxuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnNwbGl0KCcnKTtcblxuICAgICAgICByZWdleFtpbmRleF0gPSAnKCcgKyBkYXRhLnJlZ2V4ICsgJyknO1xuICAgICAgICBmb3JtYXRbaW5kZXhdID0gJyQnOyAvLyBDdXN0b20gc3ltYm9sIHRvIGRlZmluZSBjb25zdW1lZCBwYXJ0IG9mIGZvcm1hdFxuICAgICAgICBmb3IgKHZhciBpID0gaW5kZXggKyAxLCBuID0gaW5kZXggKyBjb2RlLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgIHJlZ2V4W2ldID0gJyc7XG4gICAgICAgICAgZm9ybWF0W2ldID0gJyQnO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdC5qb2luKCcnKTtcblxuICAgICAgICBtYXAucHVzaCh7IGluZGV4OiBpbmRleCwgYXBwbHk6IGRhdGEuYXBwbHkgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVnZXg6IG5ldyBSZWdFeHAoJ14nICsgcmVnZXguam9pbignJykgKyAnJCcpLFxuICAgICAgbWFwOiBvcmRlckJ5RmlsdGVyKG1hcCwgJ2luZGV4JylcbiAgICB9O1xuICB9XG5cbiAgdGhpcy5wYXJzZSA9IGZ1bmN0aW9uKGlucHV0LCBmb3JtYXQsIGJhc2VEYXRlKSB7XG4gICAgaWYgKCFhbmd1bGFyLmlzU3RyaW5nKGlucHV0KSB8fCAhZm9ybWF0KSB7XG4gICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuXG4gICAgZm9ybWF0ID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTW2Zvcm1hdF0gfHwgZm9ybWF0O1xuICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKFNQRUNJQUxfQ0hBUkFDVEVSU19SRUdFWFAsICdcXFxcJCYnKTtcblxuICAgIGlmICghdGhpcy5wYXJzZXJzW2Zvcm1hdF0pIHtcbiAgICAgIHRoaXMucGFyc2Vyc1tmb3JtYXRdID0gY3JlYXRlUGFyc2VyKGZvcm1hdCk7XG4gICAgfVxuXG4gICAgdmFyIHBhcnNlciA9IHRoaXMucGFyc2Vyc1tmb3JtYXRdLFxuICAgICAgICByZWdleCA9IHBhcnNlci5yZWdleCxcbiAgICAgICAgbWFwID0gcGFyc2VyLm1hcCxcbiAgICAgICAgcmVzdWx0cyA9IGlucHV0Lm1hdGNoKHJlZ2V4KTtcblxuICAgIGlmIChyZXN1bHRzICYmIHJlc3VsdHMubGVuZ3RoKSB7XG4gICAgICB2YXIgZmllbGRzLCBkdDtcbiAgICAgIGlmIChhbmd1bGFyLmlzRGF0ZShiYXNlRGF0ZSkgJiYgIWlzTmFOKGJhc2VEYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgICAgZmllbGRzID0ge1xuICAgICAgICAgIHllYXI6IGJhc2VEYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgbW9udGg6IGJhc2VEYXRlLmdldE1vbnRoKCksXG4gICAgICAgICAgZGF0ZTogYmFzZURhdGUuZ2V0RGF0ZSgpLFxuICAgICAgICAgIGhvdXJzOiBiYXNlRGF0ZS5nZXRIb3VycygpLFxuICAgICAgICAgIG1pbnV0ZXM6IGJhc2VEYXRlLmdldE1pbnV0ZXMoKSxcbiAgICAgICAgICBzZWNvbmRzOiBiYXNlRGF0ZS5nZXRTZWNvbmRzKCksXG4gICAgICAgICAgbWlsbGlzZWNvbmRzOiBiYXNlRGF0ZS5nZXRNaWxsaXNlY29uZHMoKVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGJhc2VEYXRlKSB7XG4gICAgICAgICAgJGxvZy53YXJuKCdkYXRlcGFyc2VyOicsICdiYXNlRGF0ZSBpcyBub3QgYSB2YWxpZCBkYXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZmllbGRzID0geyB5ZWFyOiAxOTAwLCBtb250aDogMCwgZGF0ZTogMSwgaG91cnM6IDAsIG1pbnV0ZXM6IDAsIHNlY29uZHM6IDAsIG1pbGxpc2Vjb25kczogMCB9O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMSwgbiA9IHJlc3VsdHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHZhciBtYXBwZXIgPSBtYXBbaS0xXTtcbiAgICAgICAgaWYgKG1hcHBlci5hcHBseSkge1xuICAgICAgICAgIG1hcHBlci5hcHBseS5jYWxsKGZpZWxkcywgcmVzdWx0c1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzVmFsaWQoZmllbGRzLnllYXIsIGZpZWxkcy5tb250aCwgZmllbGRzLmRhdGUpKSB7XG4gICAgICAgIGR0ID0gbmV3IERhdGUoZmllbGRzLnllYXIsIGZpZWxkcy5tb250aCwgZmllbGRzLmRhdGUsXG4gICAgICAgICAgZmllbGRzLmhvdXJzLCBmaWVsZHMubWludXRlcywgZmllbGRzLnNlY29uZHMsXG4gICAgICAgICAgZmllbGRzLm1pbGxpc2Vjb25kcyB8fCAwKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGR0O1xuICAgIH1cbiAgfTtcblxuICAvLyBDaGVjayBpZiBkYXRlIGlzIHZhbGlkIGZvciBzcGVjaWZpYyBtb250aCAoYW5kIHllYXIgZm9yIEZlYnJ1YXJ5KS5cbiAgLy8gTW9udGg6IDAgPSBKYW4sIDEgPSBGZWIsIGV0Y1xuICBmdW5jdGlvbiBpc1ZhbGlkKHllYXIsIG1vbnRoLCBkYXRlKSB7XG4gICAgaWYgKGRhdGUgPCAxKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKG1vbnRoID09PSAxICYmIGRhdGUgPiAyOCkge1xuICAgICAgcmV0dXJuIGRhdGUgPT09IDI5ICYmICgoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMCk7XG4gICAgfVxuXG4gICAgaWYgKG1vbnRoID09PSAzIHx8IG1vbnRoID09PSA1IHx8IG1vbnRoID09PSA4IHx8IG1vbnRoID09PSAxMCkge1xuICAgICAgcmV0dXJuIGRhdGUgPCAzMTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnBvc2l0aW9uJywgW10pXG5cbi8qKlxuICogQSBzZXQgb2YgdXRpbGl0eSBtZXRob2RzIHRoYXQgY2FuIGJlIHVzZSB0byByZXRyaWV2ZSBwb3NpdGlvbiBvZiBET00gZWxlbWVudHMuXG4gKiBJdCBpcyBtZWFudCB0byBiZSB1c2VkIHdoZXJlIHdlIG5lZWQgdG8gYWJzb2x1dGUtcG9zaXRpb24gRE9NIGVsZW1lbnRzIGluXG4gKiByZWxhdGlvbiB0byBvdGhlciwgZXhpc3RpbmcgZWxlbWVudHMgKHRoaXMgaXMgdGhlIGNhc2UgZm9yIHRvb2x0aXBzLCBwb3BvdmVycyxcbiAqIHR5cGVhaGVhZCBzdWdnZXN0aW9ucyBldGMuKS5cbiAqL1xuICAuZmFjdG9yeSgnJHBvc2l0aW9uJywgWyckZG9jdW1lbnQnLCAnJHdpbmRvdycsIGZ1bmN0aW9uKCRkb2N1bWVudCwgJHdpbmRvdykge1xuICAgIGZ1bmN0aW9uIGdldFN0eWxlKGVsLCBjc3Nwcm9wKSB7XG4gICAgICBpZiAoZWwuY3VycmVudFN0eWxlKSB7IC8vSUVcbiAgICAgICAgcmV0dXJuIGVsLmN1cnJlbnRTdHlsZVtjc3Nwcm9wXTtcbiAgICAgIH0gZWxzZSBpZiAoJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgICAgIHJldHVybiAkd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpW2Nzc3Byb3BdO1xuICAgICAgfVxuICAgICAgLy8gZmluYWxseSB0cnkgYW5kIGdldCBpbmxpbmUgc3R5bGVcbiAgICAgIHJldHVybiBlbC5zdHlsZVtjc3Nwcm9wXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBnaXZlbiBlbGVtZW50IGlzIHN0YXRpY2FsbHkgcG9zaXRpb25lZFxuICAgICAqIEBwYXJhbSBlbGVtZW50IC0gcmF3IERPTSBlbGVtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdGF0aWNQb3NpdGlvbmVkKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiAoZ2V0U3R5bGUoZWxlbWVudCwgJ3Bvc2l0aW9uJykgfHwgJ3N0YXRpYycgKSA9PT0gJ3N0YXRpYyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgY2xvc2VzdCwgbm9uLXN0YXRpY2FsbHkgcG9zaXRpb25lZCBwYXJlbnRPZmZzZXQgb2YgYSBnaXZlbiBlbGVtZW50XG4gICAgICogQHBhcmFtIGVsZW1lbnRcbiAgICAgKi9cbiAgICB2YXIgcGFyZW50T2Zmc2V0RWwgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICB2YXIgZG9jRG9tRWwgPSAkZG9jdW1lbnRbMF07XG4gICAgICB2YXIgb2Zmc2V0UGFyZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQgfHwgZG9jRG9tRWw7XG4gICAgICB3aGlsZSAob2Zmc2V0UGFyZW50ICYmIG9mZnNldFBhcmVudCAhPT0gZG9jRG9tRWwgJiYgaXNTdGF0aWNQb3NpdGlvbmVkKG9mZnNldFBhcmVudCkgKSB7XG4gICAgICAgIG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY0RvbUVsO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBQcm92aWRlcyByZWFkLW9ubHkgZXF1aXZhbGVudCBvZiBqUXVlcnkncyBwb3NpdGlvbiBmdW5jdGlvbjpcbiAgICAgICAqIGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wb3NpdGlvbi9cbiAgICAgICAqL1xuICAgICAgcG9zaXRpb246IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGVsQkNSID0gdGhpcy5vZmZzZXQoZWxlbWVudCk7XG4gICAgICAgIHZhciBvZmZzZXRQYXJlbnRCQ1IgPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuICAgICAgICB2YXIgb2Zmc2V0UGFyZW50RWwgPSBwYXJlbnRPZmZzZXRFbChlbGVtZW50WzBdKTtcbiAgICAgICAgaWYgKG9mZnNldFBhcmVudEVsICE9ICRkb2N1bWVudFswXSkge1xuICAgICAgICAgIG9mZnNldFBhcmVudEJDUiA9IHRoaXMub2Zmc2V0KGFuZ3VsYXIuZWxlbWVudChvZmZzZXRQYXJlbnRFbCkpO1xuICAgICAgICAgIG9mZnNldFBhcmVudEJDUi50b3AgKz0gb2Zmc2V0UGFyZW50RWwuY2xpZW50VG9wIC0gb2Zmc2V0UGFyZW50RWwuc2Nyb2xsVG9wO1xuICAgICAgICAgIG9mZnNldFBhcmVudEJDUi5sZWZ0ICs9IG9mZnNldFBhcmVudEVsLmNsaWVudExlZnQgLSBvZmZzZXRQYXJlbnRFbC5zY3JvbGxMZWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJvdW5kaW5nQ2xpZW50UmVjdCA9IGVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgd2lkdGg6IGJvdW5kaW5nQ2xpZW50UmVjdC53aWR0aCB8fCBlbGVtZW50LnByb3AoJ29mZnNldFdpZHRoJyksXG4gICAgICAgICAgaGVpZ2h0OiBib3VuZGluZ0NsaWVudFJlY3QuaGVpZ2h0IHx8IGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0JyksXG4gICAgICAgICAgdG9wOiBlbEJDUi50b3AgLSBvZmZzZXRQYXJlbnRCQ1IudG9wLFxuICAgICAgICAgIGxlZnQ6IGVsQkNSLmxlZnQgLSBvZmZzZXRQYXJlbnRCQ1IubGVmdFxuICAgICAgICB9O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBQcm92aWRlcyByZWFkLW9ubHkgZXF1aXZhbGVudCBvZiBqUXVlcnkncyBvZmZzZXQgZnVuY3Rpb246XG4gICAgICAgKiBodHRwOi8vYXBpLmpxdWVyeS5jb20vb2Zmc2V0L1xuICAgICAgICovXG4gICAgICBvZmZzZXQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGJvdW5kaW5nQ2xpZW50UmVjdCA9IGVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgd2lkdGg6IGJvdW5kaW5nQ2xpZW50UmVjdC53aWR0aCB8fCBlbGVtZW50LnByb3AoJ29mZnNldFdpZHRoJyksXG4gICAgICAgICAgaGVpZ2h0OiBib3VuZGluZ0NsaWVudFJlY3QuaGVpZ2h0IHx8IGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0JyksXG4gICAgICAgICAgdG9wOiBib3VuZGluZ0NsaWVudFJlY3QudG9wICsgKCR3aW5kb3cucGFnZVlPZmZzZXQgfHwgJGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApLFxuICAgICAgICAgIGxlZnQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5sZWZ0ICsgKCR3aW5kb3cucGFnZVhPZmZzZXQgfHwgJGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KVxuICAgICAgICB9O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBQcm92aWRlcyBjb29yZGluYXRlcyBmb3IgdGhlIHRhcmdldEVsIGluIHJlbGF0aW9uIHRvIGhvc3RFbFxuICAgICAgICovXG4gICAgICBwb3NpdGlvbkVsZW1lbnRzOiBmdW5jdGlvbihob3N0RWwsIHRhcmdldEVsLCBwb3NpdGlvblN0ciwgYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAgIHZhciBwb3NpdGlvblN0clBhcnRzID0gcG9zaXRpb25TdHIuc3BsaXQoJy0nKTtcbiAgICAgICAgdmFyIHBvczAgPSBwb3NpdGlvblN0clBhcnRzWzBdLCBwb3MxID0gcG9zaXRpb25TdHJQYXJ0c1sxXSB8fCAnY2VudGVyJztcblxuICAgICAgICB2YXIgaG9zdEVsUG9zLFxuICAgICAgICAgIHRhcmdldEVsV2lkdGgsXG4gICAgICAgICAgdGFyZ2V0RWxIZWlnaHQsXG4gICAgICAgICAgdGFyZ2V0RWxQb3M7XG5cbiAgICAgICAgaG9zdEVsUG9zID0gYXBwZW5kVG9Cb2R5ID8gdGhpcy5vZmZzZXQoaG9zdEVsKSA6IHRoaXMucG9zaXRpb24oaG9zdEVsKTtcblxuICAgICAgICB0YXJnZXRFbFdpZHRoID0gdGFyZ2V0RWwucHJvcCgnb2Zmc2V0V2lkdGgnKTtcbiAgICAgICAgdGFyZ2V0RWxIZWlnaHQgPSB0YXJnZXRFbC5wcm9wKCdvZmZzZXRIZWlnaHQnKTtcblxuICAgICAgICB2YXIgc2hpZnRXaWR0aCA9IHtcbiAgICAgICAgICBjZW50ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy5sZWZ0ICsgaG9zdEVsUG9zLndpZHRoIC8gMiAtIHRhcmdldEVsV2lkdGggLyAyO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbGVmdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9zdEVsUG9zLmxlZnQ7XG4gICAgICAgICAgfSxcbiAgICAgICAgICByaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9zdEVsUG9zLmxlZnQgKyBob3N0RWxQb3Mud2lkdGg7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBzaGlmdEhlaWdodCA9IHtcbiAgICAgICAgICBjZW50ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy50b3AgKyBob3N0RWxQb3MuaGVpZ2h0IC8gMiAtIHRhcmdldEVsSGVpZ2h0IC8gMjtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRvcDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9zdEVsUG9zLnRvcDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvdHRvbTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9zdEVsUG9zLnRvcCArIGhvc3RFbFBvcy5oZWlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHN3aXRjaCAocG9zMCkge1xuICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgIHRhcmdldEVsUG9zID0ge1xuICAgICAgICAgICAgICB0b3A6IHNoaWZ0SGVpZ2h0W3BvczFdKCksXG4gICAgICAgICAgICAgIGxlZnQ6IHNoaWZ0V2lkdGhbcG9zMF0oKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7XG4gICAgICAgICAgICAgIHRvcDogc2hpZnRIZWlnaHRbcG9zMV0oKSxcbiAgICAgICAgICAgICAgbGVmdDogaG9zdEVsUG9zLmxlZnQgLSB0YXJnZXRFbFdpZHRoXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgIHRhcmdldEVsUG9zID0ge1xuICAgICAgICAgICAgICB0b3A6IHNoaWZ0SGVpZ2h0W3BvczBdKCksXG4gICAgICAgICAgICAgIGxlZnQ6IHNoaWZ0V2lkdGhbcG9zMV0oKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0YXJnZXRFbFBvcyA9IHtcbiAgICAgICAgICAgICAgdG9wOiBob3N0RWxQb3MudG9wIC0gdGFyZ2V0RWxIZWlnaHQsXG4gICAgICAgICAgICAgIGxlZnQ6IHNoaWZ0V2lkdGhbcG9zMV0oKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldEVsUG9zO1xuICAgICAgfVxuICAgIH07XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5kYXRlcGlja2VyJywgWyd1aS5ib290c3RyYXAuZGF0ZXBhcnNlcicsICd1aS5ib290c3RyYXAucG9zaXRpb24nXSlcblxuLnZhbHVlKCckZGF0ZXBpY2tlclN1cHByZXNzRXJyb3InLCBmYWxzZSlcblxuLmNvbnN0YW50KCdkYXRlcGlja2VyQ29uZmlnJywge1xuICBmb3JtYXREYXk6ICdkZCcsXG4gIGZvcm1hdE1vbnRoOiAnTU1NTScsXG4gIGZvcm1hdFllYXI6ICd5eXl5JyxcbiAgZm9ybWF0RGF5SGVhZGVyOiAnRUVFJyxcbiAgZm9ybWF0RGF5VGl0bGU6ICdNTU1NIHl5eXknLFxuICBmb3JtYXRNb250aFRpdGxlOiAneXl5eScsXG4gIGRhdGVwaWNrZXJNb2RlOiAnZGF5JyxcbiAgbWluTW9kZTogJ2RheScsXG4gIG1heE1vZGU6ICd5ZWFyJyxcbiAgc2hvd1dlZWtzOiB0cnVlLFxuICBzdGFydGluZ0RheTogMCxcbiAgeWVhclJhbmdlOiAyMCxcbiAgbWluRGF0ZTogbnVsbCxcbiAgbWF4RGF0ZTogbnVsbCxcbiAgc2hvcnRjdXRQcm9wYWdhdGlvbjogZmFsc2Vcbn0pXG5cbi5jb250cm9sbGVyKCdEYXRlcGlja2VyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCAnJGludGVycG9sYXRlJywgJyRsb2cnLCAnZGF0ZUZpbHRlcicsICdkYXRlcGlja2VyQ29uZmlnJywgJyRkYXRlcGlja2VyU3VwcHJlc3NFcnJvcicsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UsICRpbnRlcnBvbGF0ZSwgJGxvZywgZGF0ZUZpbHRlciwgZGF0ZXBpY2tlckNvbmZpZywgJGRhdGVwaWNrZXJTdXBwcmVzc0Vycm9yKSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIG5nTW9kZWxDdHJsID0geyAkc2V0Vmlld1ZhbHVlOiBhbmd1bGFyLm5vb3AgfTsgLy8gbnVsbE1vZGVsQ3RybDtcblxuICAvLyBNb2RlcyBjaGFpblxuICB0aGlzLm1vZGVzID0gWydkYXknLCAnbW9udGgnLCAneWVhciddO1xuXG4gIC8vIENvbmZpZ3VyYXRpb24gYXR0cmlidXRlc1xuICBhbmd1bGFyLmZvckVhY2goWydmb3JtYXREYXknLCAnZm9ybWF0TW9udGgnLCAnZm9ybWF0WWVhcicsICdmb3JtYXREYXlIZWFkZXInLCAnZm9ybWF0RGF5VGl0bGUnLCAnZm9ybWF0TW9udGhUaXRsZScsXG4gICAgICAgICAgICAgICAgICAgJ3Nob3dXZWVrcycsICdzdGFydGluZ0RheScsICd5ZWFyUmFuZ2UnLCAnc2hvcnRjdXRQcm9wYWdhdGlvbiddLCBmdW5jdGlvbihrZXksIGluZGV4KSB7XG4gICAgc2VsZltrZXldID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzW2tleV0pID8gKGluZGV4IDwgNiA/ICRpbnRlcnBvbGF0ZSgkYXR0cnNba2V5XSkoJHNjb3BlLiRwYXJlbnQpIDogJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzW2tleV0pKSA6IGRhdGVwaWNrZXJDb25maWdba2V5XTtcbiAgfSk7XG5cbiAgLy8gV2F0Y2hhYmxlIGRhdGUgYXR0cmlidXRlc1xuICBhbmd1bGFyLmZvckVhY2goWydtaW5EYXRlJywgJ21heERhdGUnXSwgZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCRhdHRyc1trZXldKSB7XG4gICAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRyc1trZXldKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgc2VsZltrZXldID0gdmFsdWUgPyBuZXcgRGF0ZSh2YWx1ZSkgOiBudWxsO1xuICAgICAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZltrZXldID0gZGF0ZXBpY2tlckNvbmZpZ1trZXldID8gbmV3IERhdGUoZGF0ZXBpY2tlckNvbmZpZ1trZXldKSA6IG51bGw7XG4gICAgfVxuICB9KTtcblxuICBhbmd1bGFyLmZvckVhY2goWydtaW5Nb2RlJywgJ21heE1vZGUnXSwgZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCRhdHRyc1trZXldKSB7XG4gICAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRyc1trZXldKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgc2VsZltrZXldID0gYW5ndWxhci5pc0RlZmluZWQodmFsdWUpID8gdmFsdWUgOiAkYXR0cnNba2V5XTtcbiAgICAgICAgJHNjb3BlW2tleV0gPSBzZWxmW2tleV07XG4gICAgICAgIGlmICgoa2V5ID09ICdtaW5Nb2RlJyAmJiBzZWxmLm1vZGVzLmluZGV4T2YoJHNjb3BlLmRhdGVwaWNrZXJNb2RlKSA8IHNlbGYubW9kZXMuaW5kZXhPZihzZWxmW2tleV0pKSB8fCAoa2V5ID09ICdtYXhNb2RlJyAmJiBzZWxmLm1vZGVzLmluZGV4T2YoJHNjb3BlLmRhdGVwaWNrZXJNb2RlKSA+IHNlbGYubW9kZXMuaW5kZXhPZihzZWxmW2tleV0pKSkge1xuICAgICAgICAgICRzY29wZS5kYXRlcGlja2VyTW9kZSA9IHNlbGZba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGZba2V5XSA9IGRhdGVwaWNrZXJDb25maWdba2V5XSB8fCBudWxsO1xuICAgICAgJHNjb3BlW2tleV0gPSBzZWxmW2tleV07XG4gICAgfVxuICB9KTtcblxuICAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPSAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgfHwgZGF0ZXBpY2tlckNvbmZpZy5kYXRlcGlja2VyTW9kZTtcbiAgJHNjb3BlLnVuaXF1ZUlkID0gJ2RhdGVwaWNrZXItJyArICRzY29wZS4kaWQgKyAnLScgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XG5cbiAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5pbml0RGF0ZSkpIHtcbiAgICB0aGlzLmFjdGl2ZURhdGUgPSAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuaW5pdERhdGUpIHx8IG5ldyBEYXRlKCk7XG4gICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRhdHRycy5pbml0RGF0ZSwgZnVuY3Rpb24oaW5pdERhdGUpIHtcbiAgICAgIGlmIChpbml0RGF0ZSAmJiAobmdNb2RlbEN0cmwuJGlzRW1wdHkobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpIHx8IG5nTW9kZWxDdHJsLiRpbnZhbGlkKSkge1xuICAgICAgICBzZWxmLmFjdGl2ZURhdGUgPSBpbml0RGF0ZTtcbiAgICAgICAgc2VsZi5yZWZyZXNoVmlldygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuYWN0aXZlRGF0ZSA9IG5ldyBEYXRlKCk7XG4gIH1cblxuICAkc2NvcGUuaXNBY3RpdmUgPSBmdW5jdGlvbihkYXRlT2JqZWN0KSB7XG4gICAgaWYgKHNlbGYuY29tcGFyZShkYXRlT2JqZWN0LmRhdGUsIHNlbGYuYWN0aXZlRGF0ZSkgPT09IDApIHtcbiAgICAgICRzY29wZS5hY3RpdmVEYXRlSWQgPSBkYXRlT2JqZWN0LnVpZDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24obmdNb2RlbEN0cmxfKSB7XG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XG5cbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnJlbmRlcigpO1xuICAgIH07XG4gIH07XG5cbiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkge1xuICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSxcbiAgICAgICAgICBpc1ZhbGlkID0gIWlzTmFOKGRhdGUpO1xuXG4gICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICB0aGlzLmFjdGl2ZURhdGUgPSBkYXRlO1xuICAgICAgfSBlbHNlIGlmICghJGRhdGVwaWNrZXJTdXBwcmVzc0Vycm9yKSB7XG4gICAgICAgICRsb2cuZXJyb3IoJ0RhdGVwaWNrZXIgZGlyZWN0aXZlOiBcIm5nLW1vZGVsXCIgdmFsdWUgbXVzdCBiZSBhIERhdGUgb2JqZWN0LCBhIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgMDEuMDEuMTk3MCBvciBhIHN0cmluZyByZXByZXNlbnRpbmcgYW4gUkZDMjgyMiBvciBJU08gODYwMSBkYXRlLicpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnJlZnJlc2hWaWV3KCk7XG4gIH07XG5cbiAgdGhpcy5yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX3JlZnJlc2hWaWV3KCk7XG5cbiAgICAgIHZhciBkYXRlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSA/IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpIDogbnVsbDtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZGF0ZURpc2FibGVkJywgIWRhdGUgfHwgKHRoaXMuZWxlbWVudCAmJiAhdGhpcy5pc0Rpc2FibGVkKGRhdGUpKSk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuY3JlYXRlRGF0ZU9iamVjdCA9IGZ1bmN0aW9uKGRhdGUsIGZvcm1hdCkge1xuICAgIHZhciBtb2RlbCA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgPyBuZXcgRGF0ZShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSA6IG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBsYWJlbDogZGF0ZUZpbHRlcihkYXRlLCBmb3JtYXQpLFxuICAgICAgc2VsZWN0ZWQ6IG1vZGVsICYmIHRoaXMuY29tcGFyZShkYXRlLCBtb2RlbCkgPT09IDAsXG4gICAgICBkaXNhYmxlZDogdGhpcy5pc0Rpc2FibGVkKGRhdGUpLFxuICAgICAgY3VycmVudDogdGhpcy5jb21wYXJlKGRhdGUsIG5ldyBEYXRlKCkpID09PSAwLFxuICAgICAgY3VzdG9tQ2xhc3M6IHRoaXMuY3VzdG9tQ2xhc3MoZGF0ZSlcbiAgICB9O1xuICB9O1xuXG4gIHRoaXMuaXNEaXNhYmxlZCA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICByZXR1cm4gKCh0aGlzLm1pbkRhdGUgJiYgdGhpcy5jb21wYXJlKGRhdGUsIHRoaXMubWluRGF0ZSkgPCAwKSB8fCAodGhpcy5tYXhEYXRlICYmIHRoaXMuY29tcGFyZShkYXRlLCB0aGlzLm1heERhdGUpID4gMCkgfHwgKCRhdHRycy5kYXRlRGlzYWJsZWQgJiYgJHNjb3BlLmRhdGVEaXNhYmxlZCh7ZGF0ZTogZGF0ZSwgbW9kZTogJHNjb3BlLmRhdGVwaWNrZXJNb2RlfSkpKTtcbiAgfTtcblxuICB0aGlzLmN1c3RvbUNsYXNzID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHJldHVybiAkc2NvcGUuY3VzdG9tQ2xhc3Moe2RhdGU6IGRhdGUsIG1vZGU6ICRzY29wZS5kYXRlcGlja2VyTW9kZX0pO1xuICB9O1xuXG4gIC8vIFNwbGl0IGFycmF5IGludG8gc21hbGxlciBhcnJheXNcbiAgdGhpcy5zcGxpdCA9IGZ1bmN0aW9uKGFyciwgc2l6ZSkge1xuICAgIHZhciBhcnJheXMgPSBbXTtcbiAgICB3aGlsZSAoYXJyLmxlbmd0aCA+IDApIHtcbiAgICAgIGFycmF5cy5wdXNoKGFyci5zcGxpY2UoMCwgc2l6ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXlzO1xuICB9O1xuXG4gIC8vIEZpeCBhIGhhcmQtcmVwcm9kdXNpYmxlIGJ1ZyB3aXRoIHRpbWV6b25lc1xuICAvLyBUaGUgYnVnIGRlcGVuZHMgb24gT1MsIGJyb3dzZXIsIGN1cnJlbnQgdGltZXpvbmUgYW5kIGN1cnJlbnQgZGF0ZVxuICAvLyBpLmUuXG4gIC8vIHZhciBkYXRlID0gbmV3IERhdGUoMjAxNCwgMCwgMSk7XG4gIC8vIGNvbnNvbGUubG9nKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSwgZGF0ZS5nZXRIb3VycygpKTtcbiAgLy8gY2FuIHJlc3VsdCBpbiBcIjIwMTMgMTEgMzEgMjNcIiBiZWNhdXNlIG9mIHRoZSBidWcuXG4gIHRoaXMuZml4VGltZVpvbmUgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgdmFyIGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuICAgIGRhdGUuc2V0SG91cnMoaG91cnMgPT09IDIzID8gaG91cnMgKyAyIDogMCk7XG4gIH07XG5cbiAgJHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICBpZiAoJHNjb3BlLmRhdGVwaWNrZXJNb2RlID09PSBzZWxmLm1pbk1vZGUpIHtcbiAgICAgIHZhciBkdCA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgPyBuZXcgRGF0ZShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSA6IG5ldyBEYXRlKDAsIDAsIDAsIDAsIDAsIDAsIDApO1xuICAgICAgZHQuc2V0RnVsbFllYXIoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpKTtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoZHQpO1xuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmFjdGl2ZURhdGUgPSBkYXRlO1xuICAgICAgJHNjb3BlLmRhdGVwaWNrZXJNb2RlID0gc2VsZi5tb2Rlc1tzZWxmLm1vZGVzLmluZGV4T2YoJHNjb3BlLmRhdGVwaWNrZXJNb2RlKSAtIDFdO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUubW92ZSA9IGZ1bmN0aW9uKGRpcmVjdGlvbikge1xuICAgIHZhciB5ZWFyID0gc2VsZi5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkgKyBkaXJlY3Rpb24gKiAoc2VsZi5zdGVwLnllYXJzIHx8IDApLFxuICAgICAgICBtb250aCA9IHNlbGYuYWN0aXZlRGF0ZS5nZXRNb250aCgpICsgZGlyZWN0aW9uICogKHNlbGYuc3RlcC5tb250aHMgfHwgMCk7XG4gICAgc2VsZi5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKHllYXIsIG1vbnRoLCAxKTtcbiAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XG4gIH07XG5cbiAgJHNjb3BlLnRvZ2dsZU1vZGUgPSBmdW5jdGlvbihkaXJlY3Rpb24pIHtcbiAgICBkaXJlY3Rpb24gPSBkaXJlY3Rpb24gfHwgMTtcblxuICAgIGlmICgoJHNjb3BlLmRhdGVwaWNrZXJNb2RlID09PSBzZWxmLm1heE1vZGUgJiYgZGlyZWN0aW9uID09PSAxKSB8fCAoJHNjb3BlLmRhdGVwaWNrZXJNb2RlID09PSBzZWxmLm1pbk1vZGUgJiYgZGlyZWN0aW9uID09PSAtMSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPSBzZWxmLm1vZGVzW3NlbGYubW9kZXMuaW5kZXhPZigkc2NvcGUuZGF0ZXBpY2tlck1vZGUpICsgZGlyZWN0aW9uXTtcbiAgfTtcblxuICAvLyBLZXkgZXZlbnQgbWFwcGVyXG4gICRzY29wZS5rZXlzID0geyAxMzogJ2VudGVyJywgMzI6ICdzcGFjZScsIDMzOiAncGFnZXVwJywgMzQ6ICdwYWdlZG93bicsIDM1OiAnZW5kJywgMzY6ICdob21lJywgMzc6ICdsZWZ0JywgMzg6ICd1cCcsIDM5OiAncmlnaHQnLCA0MDogJ2Rvd24nIH07XG5cbiAgdmFyIGZvY3VzRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHNlbGYuZWxlbWVudFswXS5mb2N1cygpO1xuICB9O1xuXG4gIC8vIExpc3RlbiBmb3IgZm9jdXMgcmVxdWVzdHMgZnJvbSBwb3B1cCBkaXJlY3RpdmVcbiAgJHNjb3BlLiRvbignZGF0ZXBpY2tlci5mb2N1cycsIGZvY3VzRWxlbWVudCk7XG5cbiAgJHNjb3BlLmtleWRvd24gPSBmdW5jdGlvbihldnQpIHtcbiAgICB2YXIga2V5ID0gJHNjb3BlLmtleXNbZXZ0LndoaWNoXTtcblxuICAgIGlmICgha2V5IHx8IGV2dC5zaGlmdEtleSB8fCBldnQuYWx0S2V5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCFzZWxmLnNob3J0Y3V0UHJvcGFnYXRpb24pIHtcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAnZW50ZXInIHx8IGtleSA9PT0gJ3NwYWNlJykge1xuICAgICAgaWYgKHNlbGYuaXNEaXNhYmxlZChzZWxmLmFjdGl2ZURhdGUpKSB7XG4gICAgICAgIHJldHVybjsgLy8gZG8gbm90aGluZ1xuICAgICAgfVxuICAgICAgJHNjb3BlLnNlbGVjdChzZWxmLmFjdGl2ZURhdGUpO1xuICAgICAgZm9jdXNFbGVtZW50KCk7XG4gICAgfSBlbHNlIGlmIChldnQuY3RybEtleSAmJiAoa2V5ID09PSAndXAnIHx8IGtleSA9PT0gJ2Rvd24nKSkge1xuICAgICAgJHNjb3BlLnRvZ2dsZU1vZGUoa2V5ID09PSAndXAnID8gMSA6IC0xKTtcbiAgICAgIGZvY3VzRWxlbWVudCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmhhbmRsZUtleURvd24oa2V5LCBldnQpO1xuICAgICAgc2VsZi5yZWZyZXNoVmlldygpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdkYXRlcGlja2VyJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwnO1xuICAgIH0sXG4gICAgc2NvcGU6IHtcbiAgICAgIGRhdGVwaWNrZXJNb2RlOiAnPT8nLFxuICAgICAgZGF0ZURpc2FibGVkOiAnJicsXG4gICAgICBjdXN0b21DbGFzczogJyYnLFxuICAgICAgc2hvcnRjdXRQcm9wYWdhdGlvbjogJyY/J1xuICAgIH0sXG4gICAgcmVxdWlyZTogWydkYXRlcGlja2VyJywgJ15uZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ0RhdGVwaWNrZXJDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdkYXRlcGlja2VyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgZGF0ZXBpY2tlckN0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgZGF0ZXBpY2tlckN0cmwuaW5pdChuZ01vZGVsQ3RybCk7XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgnZGF5cGlja2VyJywgWydkYXRlRmlsdGVyJywgZnVuY3Rpb24oZGF0ZUZpbHRlcikge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sJyxcbiAgICByZXF1aXJlOiAnXmRhdGVwaWNrZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuICAgICAgc2NvcGUuc2hvd1dlZWtzID0gY3RybC5zaG93V2Vla3M7XG5cbiAgICAgIGN0cmwuc3RlcCA9IHsgbW9udGhzOiAxIH07XG4gICAgICBjdHJsLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICB2YXIgREFZU19JTl9NT05USCA9IFszMSwgMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTtcbiAgICAgIGZ1bmN0aW9uIGdldERheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XG4gICAgICAgIHJldHVybiAoKG1vbnRoID09PSAxKSAmJiAoeWVhciAlIDQgPT09IDApICYmICgoeWVhciAlIDEwMCAhPT0gMCkgfHwgKHllYXIgJSA0MDAgPT09IDApKSkgPyAyOSA6IERBWVNfSU5fTU9OVEhbbW9udGhdO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXREYXRlcyhzdGFydERhdGUsIG4pIHtcbiAgICAgICAgdmFyIGRhdGVzID0gbmV3IEFycmF5KG4pLCBjdXJyZW50ID0gbmV3IERhdGUoc3RhcnREYXRlKSwgaSA9IDAsIGRhdGU7XG4gICAgICAgIHdoaWxlIChpIDwgbikge1xuICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShjdXJyZW50KTtcbiAgICAgICAgICBjdHJsLmZpeFRpbWVab25lKGRhdGUpO1xuICAgICAgICAgIGRhdGVzW2krK10gPSBkYXRlO1xuICAgICAgICAgIGN1cnJlbnQuc2V0RGF0ZShjdXJyZW50LmdldERhdGUoKSArIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRlcztcbiAgICAgIH1cblxuICAgICAgY3RybC5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHllYXIgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICBtb250aCA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpLFxuICAgICAgICAgIGZpcnN0RGF5T2ZNb250aCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxKSxcbiAgICAgICAgICBkaWZmZXJlbmNlID0gY3RybC5zdGFydGluZ0RheSAtIGZpcnN0RGF5T2ZNb250aC5nZXREYXkoKSxcbiAgICAgICAgICBudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCA9IChkaWZmZXJlbmNlID4gMCkgPyA3IC0gZGlmZmVyZW5jZSA6IC0gZGlmZmVyZW5jZSxcbiAgICAgICAgICBmaXJzdERhdGUgPSBuZXcgRGF0ZShmaXJzdERheU9mTW9udGgpO1xuXG4gICAgICAgIGlmIChudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCA+IDApIHtcbiAgICAgICAgICBmaXJzdERhdGUuc2V0RGF0ZSgtbnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGggKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDQyIGlzIHRoZSBudW1iZXIgb2YgZGF5cyBvbiBhIHNpeC1tb250aCBjYWxlbmRhclxuICAgICAgICB2YXIgZGF5cyA9IGdldERhdGVzKGZpcnN0RGF0ZSwgNDIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQyOyBpICsrKSB7XG4gICAgICAgICAgZGF5c1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKGN0cmwuY3JlYXRlRGF0ZU9iamVjdChkYXlzW2ldLCBjdHJsLmZvcm1hdERheSksIHtcbiAgICAgICAgICAgIHNlY29uZGFyeTogZGF5c1tpXS5nZXRNb250aCgpICE9PSBtb250aCxcbiAgICAgICAgICAgIHVpZDogc2NvcGUudW5pcXVlSWQgKyAnLScgKyBpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS5sYWJlbHMgPSBuZXcgQXJyYXkoNyk7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNzsgaisrKSB7XG4gICAgICAgICAgc2NvcGUubGFiZWxzW2pdID0ge1xuICAgICAgICAgICAgYWJicjogZGF0ZUZpbHRlcihkYXlzW2pdLmRhdGUsIGN0cmwuZm9ybWF0RGF5SGVhZGVyKSxcbiAgICAgICAgICAgIGZ1bGw6IGRhdGVGaWx0ZXIoZGF5c1tqXS5kYXRlLCAnRUVFRScpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLnRpdGxlID0gZGF0ZUZpbHRlcihjdHJsLmFjdGl2ZURhdGUsIGN0cmwuZm9ybWF0RGF5VGl0bGUpO1xuICAgICAgICBzY29wZS5yb3dzID0gY3RybC5zcGxpdChkYXlzLCA3KTtcblxuICAgICAgICBpZiAoc2NvcGUuc2hvd1dlZWtzKSB7XG4gICAgICAgICAgc2NvcGUud2Vla051bWJlcnMgPSBbXTtcbiAgICAgICAgICB2YXIgdGh1cnNkYXlJbmRleCA9ICg0ICsgNyAtIGN0cmwuc3RhcnRpbmdEYXkpICUgNyxcbiAgICAgICAgICAgICAgbnVtV2Vla3MgPSBzY29wZS5yb3dzLmxlbmd0aDtcbiAgICAgICAgICBmb3IgKHZhciBjdXJXZWVrID0gMDsgY3VyV2VlayA8IG51bVdlZWtzOyBjdXJXZWVrKyspIHtcbiAgICAgICAgICAgIHNjb3BlLndlZWtOdW1iZXJzLnB1c2goXG4gICAgICAgICAgICAgIGdldElTTzg2MDFXZWVrTnVtYmVyKHNjb3BlLnJvd3NbY3VyV2Vla11bdGh1cnNkYXlJbmRleF0uZGF0ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY3RybC5jb21wYXJlID0gZnVuY3Rpb24oZGF0ZTEsIGRhdGUyKSB7XG4gICAgICAgIHJldHVybiAobmV3IERhdGUoZGF0ZTEuZ2V0RnVsbFllYXIoKSwgZGF0ZTEuZ2V0TW9udGgoKSwgZGF0ZTEuZ2V0RGF0ZSgpKSAtIG5ldyBEYXRlKGRhdGUyLmdldEZ1bGxZZWFyKCksIGRhdGUyLmdldE1vbnRoKCksIGRhdGUyLmdldERhdGUoKSkpO1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gZ2V0SVNPODYwMVdlZWtOdW1iZXIoZGF0ZSkge1xuICAgICAgICB2YXIgY2hlY2tEYXRlID0gbmV3IERhdGUoZGF0ZSk7XG4gICAgICAgIGNoZWNrRGF0ZS5zZXREYXRlKGNoZWNrRGF0ZS5nZXREYXRlKCkgKyA0IC0gKGNoZWNrRGF0ZS5nZXREYXkoKSB8fCA3KSk7IC8vIFRodXJzZGF5XG4gICAgICAgIHZhciB0aW1lID0gY2hlY2tEYXRlLmdldFRpbWUoKTtcbiAgICAgICAgY2hlY2tEYXRlLnNldE1vbnRoKDApOyAvLyBDb21wYXJlIHdpdGggSmFuIDFcbiAgICAgICAgY2hlY2tEYXRlLnNldERhdGUoMSk7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucm91bmQoKHRpbWUgLSBjaGVja0RhdGUpIC8gODY0MDAwMDApIC8gNykgKyAxO1xuICAgICAgfVxuXG4gICAgICBjdHJsLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbihrZXksIGV2dCkge1xuICAgICAgICB2YXIgZGF0ZSA9IGN0cmwuYWN0aXZlRGF0ZS5nZXREYXRlKCk7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSAxOyAgIC8vIHVwXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAndXAnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSA3OyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDE7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Rvd24nKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyA3O1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3BhZ2V1cCcgfHwga2V5ID09PSAncGFnZWRvd24nKSB7XG4gICAgICAgICAgdmFyIG1vbnRoID0gY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkgKyAoa2V5ID09PSAncGFnZXVwJyA/IC0gMSA6IDEpO1xuICAgICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXRNb250aChtb250aCwgMSk7XG4gICAgICAgICAgZGF0ZSA9IE1hdGgubWluKGdldERheXNJbk1vbnRoKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLCBjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSksIGRhdGUpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2hvbWUnKSB7XG4gICAgICAgICAgZGF0ZSA9IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZW5kJykge1xuICAgICAgICAgIGRhdGUgPSBnZXREYXlzSW5Nb250aChjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSwgY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkpO1xuICAgICAgICB9XG4gICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXREYXRlKGRhdGUpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5yZWZyZXNoVmlldygpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdtb250aHBpY2tlcicsIFsnZGF0ZUZpbHRlcicsIGZ1bmN0aW9uKGRhdGVGaWx0ZXIpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sJyxcbiAgICByZXF1aXJlOiAnXmRhdGVwaWNrZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuICAgICAgY3RybC5zdGVwID0geyB5ZWFyczogMSB9O1xuICAgICAgY3RybC5lbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgY3RybC5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1vbnRocyA9IG5ldyBBcnJheSgxMiksXG4gICAgICAgICAgICB5ZWFyID0gY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgICBkYXRlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBpLCAxKTtcbiAgICAgICAgICBjdHJsLmZpeFRpbWVab25lKGRhdGUpO1xuICAgICAgICAgIG1vbnRoc1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKGN0cmwuY3JlYXRlRGF0ZU9iamVjdChkYXRlLCBjdHJsLmZvcm1hdE1vbnRoKSwge1xuICAgICAgICAgICAgdWlkOiBzY29wZS51bmlxdWVJZCArICctJyArIGlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLnRpdGxlID0gZGF0ZUZpbHRlcihjdHJsLmFjdGl2ZURhdGUsIGN0cmwuZm9ybWF0TW9udGhUaXRsZSk7XG4gICAgICAgIHNjb3BlLnJvd3MgPSBjdHJsLnNwbGl0KG1vbnRocywgMyk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLmNvbXBhcmUgPSBmdW5jdGlvbihkYXRlMSwgZGF0ZTIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUxLmdldEZ1bGxZZWFyKCksIGRhdGUxLmdldE1vbnRoKCkpIC0gbmV3IERhdGUoZGF0ZTIuZ2V0RnVsbFllYXIoKSwgZGF0ZTIuZ2V0TW9udGgoKSk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbihrZXksIGV2dCkge1xuICAgICAgICB2YXIgZGF0ZSA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdsZWZ0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gMTsgICAvLyB1cFxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3VwJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gMzsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyAxOyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdkb3duJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgMztcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdwYWdldXAnIHx8IGtleSA9PT0gJ3BhZ2Vkb3duJykge1xuICAgICAgICAgIHZhciB5ZWFyID0gY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkgKyAoa2V5ID09PSAncGFnZXVwJyA/IC0gMSA6IDEpO1xuICAgICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcih5ZWFyKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdob21lJykge1xuICAgICAgICAgIGRhdGUgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICBkYXRlID0gMTE7XG4gICAgICAgIH1cbiAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldE1vbnRoKGRhdGUpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5yZWZyZXNoVmlldygpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd5ZWFycGlja2VyJywgWydkYXRlRmlsdGVyJywgZnVuY3Rpb24oZGF0ZUZpbHRlcikge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbCcsXG4gICAgcmVxdWlyZTogJ15kYXRlcGlja2VyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHtcbiAgICAgIHZhciByYW5nZSA9IGN0cmwueWVhclJhbmdlO1xuXG4gICAgICBjdHJsLnN0ZXAgPSB7IHllYXJzOiByYW5nZSB9O1xuICAgICAgY3RybC5lbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgZnVuY3Rpb24gZ2V0U3RhcnRpbmdZZWFyKCB5ZWFyICkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoKHllYXIgLSAxKSAvIHJhbmdlLCAxMCkgKiByYW5nZSArIDE7XG4gICAgICB9XG5cbiAgICAgIGN0cmwuX3JlZnJlc2hWaWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB5ZWFycyA9IG5ldyBBcnJheShyYW5nZSksIGRhdGU7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHN0YXJ0ID0gZ2V0U3RhcnRpbmdZZWFyKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKTsgaSA8IHJhbmdlOyBpKyspIHtcbiAgICAgICAgICBkYXRlID0gbmV3IERhdGUoc3RhcnQgKyBpLCAwLCAxKTtcbiAgICAgICAgICBjdHJsLmZpeFRpbWVab25lKGRhdGUpO1xuICAgICAgICAgIHllYXJzW2ldID0gYW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KGRhdGUsIGN0cmwuZm9ybWF0WWVhciksIHtcbiAgICAgICAgICAgIHVpZDogc2NvcGUudW5pcXVlSWQgKyAnLScgKyBpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS50aXRsZSA9IFt5ZWFyc1swXS5sYWJlbCwgeWVhcnNbcmFuZ2UgLSAxXS5sYWJlbF0uam9pbignIC0gJyk7XG4gICAgICAgIHNjb3BlLnJvd3MgPSBjdHJsLnNwbGl0KHllYXJzLCA1KTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikge1xuICAgICAgICByZXR1cm4gZGF0ZTEuZ2V0RnVsbFllYXIoKSAtIGRhdGUyLmdldEZ1bGxZZWFyKCk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbihrZXksIGV2dCkge1xuICAgICAgICB2YXIgZGF0ZSA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdsZWZ0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gMTsgICAvLyB1cFxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3VwJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gNTsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyAxOyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdkb3duJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgNTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdwYWdldXAnIHx8IGtleSA9PT0gJ3BhZ2Vkb3duJykge1xuICAgICAgICAgIGRhdGUgKz0gKGtleSA9PT0gJ3BhZ2V1cCcgPyAtIDEgOiAxKSAqIGN0cmwuc3RlcC55ZWFycztcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdob21lJykge1xuICAgICAgICAgIGRhdGUgPSBnZXRTdGFydGluZ1llYXIoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICBkYXRlID0gZ2V0U3RhcnRpbmdZZWFyKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKSArIHJhbmdlIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoZGF0ZSk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLnJlZnJlc2hWaWV3KCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5jb25zdGFudCgnZGF0ZXBpY2tlclBvcHVwQ29uZmlnJywge1xuICBkYXRlcGlja2VyUG9wdXA6ICd5eXl5LU1NLWRkJyxcbiAgZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWwnLFxuICBkYXRlcGlja2VyVGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbCcsXG4gIGh0bWw1VHlwZXM6IHtcbiAgICBkYXRlOiAneXl5eS1NTS1kZCcsXG4gICAgJ2RhdGV0aW1lLWxvY2FsJzogJ3l5eXktTU0tZGRUSEg6bW06c3Muc3NzJyxcbiAgICAnbW9udGgnOiAneXl5eS1NTSdcbiAgfSxcbiAgY3VycmVudFRleHQ6ICdUb2RheScsXG4gIGNsZWFyVGV4dDogJ0NsZWFyJyxcbiAgY2xvc2VUZXh0OiAnRG9uZScsXG4gIGNsb3NlT25EYXRlU2VsZWN0aW9uOiB0cnVlLFxuICBhcHBlbmRUb0JvZHk6IGZhbHNlLFxuICBzaG93QnV0dG9uQmFyOiB0cnVlLFxuICBvbk9wZW5Gb2N1czogdHJ1ZVxufSlcblxuLmRpcmVjdGl2ZSgnZGF0ZXBpY2tlclBvcHVwJywgWyckY29tcGlsZScsICckcGFyc2UnLCAnJGRvY3VtZW50JywgJyRyb290U2NvcGUnLCAnJHBvc2l0aW9uJywgJ2RhdGVGaWx0ZXInLCAnZGF0ZVBhcnNlcicsICdkYXRlcGlja2VyUG9wdXBDb25maWcnLCAnJHRpbWVvdXQnLFxuZnVuY3Rpb24oJGNvbXBpbGUsICRwYXJzZSwgJGRvY3VtZW50LCAkcm9vdFNjb3BlLCAkcG9zaXRpb24sIGRhdGVGaWx0ZXIsIGRhdGVQYXJzZXIsIGRhdGVwaWNrZXJQb3B1cENvbmZpZywgJHRpbWVvdXQpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gICAgc2NvcGU6IHtcbiAgICAgIGlzT3BlbjogJz0/JyxcbiAgICAgIGN1cnJlbnRUZXh0OiAnQCcsXG4gICAgICBjbGVhclRleHQ6ICdAJyxcbiAgICAgIGNsb3NlVGV4dDogJ0AnLFxuICAgICAgZGF0ZURpc2FibGVkOiAnJicsXG4gICAgICBjdXN0b21DbGFzczogJyYnXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcbiAgICAgIHZhciBkYXRlRm9ybWF0LFxuICAgICAgICAgIGNsb3NlT25EYXRlU2VsZWN0aW9uID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuY2xvc2VPbkRhdGVTZWxlY3Rpb24pID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5jbG9zZU9uRGF0ZVNlbGVjdGlvbikgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuY2xvc2VPbkRhdGVTZWxlY3Rpb24sXG4gICAgICAgICAgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuZGF0ZXBpY2tlckFwcGVuZFRvQm9keSkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmRhdGVwaWNrZXJBcHBlbmRUb0JvZHkpIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmFwcGVuZFRvQm9keSxcbiAgICAgICAgICBvbk9wZW5Gb2N1cyA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLm9uT3BlbkZvY3VzKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMub25PcGVuRm9jdXMpIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLm9uT3BlbkZvY3VzLFxuICAgICAgICAgIGRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmwpID8gYXR0cnMuZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmwgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmwsXG4gICAgICAgICAgZGF0ZXBpY2tlclRlbXBsYXRlVXJsID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuZGF0ZXBpY2tlclRlbXBsYXRlVXJsKSA/IGF0dHJzLmRhdGVwaWNrZXJUZW1wbGF0ZVVybCA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5kYXRlcGlja2VyVGVtcGxhdGVVcmwsXG4gICAgICAgICAgY2FjaGUgPSB7fTtcblxuICAgICAgc2NvcGUuc2hvd0J1dHRvbkJhciA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnNob3dCdXR0b25CYXIpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5zaG93QnV0dG9uQmFyKSA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5zaG93QnV0dG9uQmFyO1xuXG4gICAgICBzY29wZS5nZXRUZXh0ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiBzY29wZVtrZXkgKyAnVGV4dCddIHx8IGRhdGVwaWNrZXJQb3B1cENvbmZpZ1trZXkgKyAnVGV4dCddO1xuICAgICAgfTtcblxuICAgICAgc2NvcGUuaXNEaXNhYmxlZCA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgaWYgKGRhdGUgPT09ICd0b2RheScpIHtcbiAgICAgICAgICBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoKHNjb3BlLndhdGNoRGF0YS5taW5EYXRlICYmIHNjb3BlLmNvbXBhcmUoZGF0ZSwgY2FjaGUubWluRGF0ZSkgPCAwKSB8fFxuICAgICAgICAgIChzY29wZS53YXRjaERhdGEubWF4RGF0ZSAmJiBzY29wZS5jb21wYXJlKGRhdGUsIGNhY2hlLm1heERhdGUpID4gMCkpO1xuICAgICAgfTtcblxuICAgICAgc2NvcGUuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikge1xuICAgICAgICByZXR1cm4gKG5ldyBEYXRlKGRhdGUxLmdldEZ1bGxZZWFyKCksIGRhdGUxLmdldE1vbnRoKCksIGRhdGUxLmdldERhdGUoKSkgLSBuZXcgRGF0ZShkYXRlMi5nZXRGdWxsWWVhcigpLCBkYXRlMi5nZXRNb250aCgpLCBkYXRlMi5nZXREYXRlKCkpKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBpc0h0bWw1RGF0ZUlucHV0ID0gZmFsc2U7XG4gICAgICBpZiAoZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmh0bWw1VHlwZXNbYXR0cnMudHlwZV0pIHtcbiAgICAgICAgZGF0ZUZvcm1hdCA9IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5odG1sNVR5cGVzW2F0dHJzLnR5cGVdO1xuICAgICAgICBpc0h0bWw1RGF0ZUlucHV0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGVGb3JtYXQgPSBhdHRycy5kYXRlcGlja2VyUG9wdXAgfHwgZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmRhdGVwaWNrZXJQb3B1cDtcbiAgICAgICAgYXR0cnMuJG9ic2VydmUoJ2RhdGVwaWNrZXJQb3B1cCcsIGZ1bmN0aW9uKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIG5ld0RhdGVGb3JtYXQgPSB2YWx1ZSB8fCBkYXRlcGlja2VyUG9wdXBDb25maWcuZGF0ZXBpY2tlclBvcHVwO1xuICAgICAgICAgICAgLy8gSW52YWxpZGF0ZSB0aGUgJG1vZGVsVmFsdWUgdG8gZW5zdXJlIHRoYXQgZm9ybWF0dGVycyByZS1ydW5cbiAgICAgICAgICAgIC8vIEZJWE1FOiBSZWZhY3RvciB3aGVuIFBSIGlzIG1lcmdlZDogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9wdWxsLzEwNzY0XG4gICAgICAgICAgICBpZiAobmV3RGF0ZUZvcm1hdCAhPT0gZGF0ZUZvcm1hdCkge1xuICAgICAgICAgICAgICBkYXRlRm9ybWF0ID0gbmV3RGF0ZUZvcm1hdDtcbiAgICAgICAgICAgICAgbmdNb2RlbC4kbW9kZWxWYWx1ZSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgaWYgKCFkYXRlRm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdkYXRlcGlja2VyUG9wdXAgbXVzdCBoYXZlIGEgZGF0ZSBmb3JtYXQgc3BlY2lmaWVkLicpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWRhdGVGb3JtYXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdkYXRlcGlja2VyUG9wdXAgbXVzdCBoYXZlIGEgZGF0ZSBmb3JtYXQgc3BlY2lmaWVkLicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNIdG1sNURhdGVJbnB1dCAmJiBhdHRycy5kYXRlcGlja2VyUG9wdXApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdIVE1MNSBkYXRlIGlucHV0IHR5cGVzIGRvIG5vdCBzdXBwb3J0IGN1c3RvbSBmb3JtYXRzLicpO1xuICAgICAgfVxuXG4gICAgICAvLyBwb3B1cCBlbGVtZW50IHVzZWQgdG8gZGlzcGxheSBjYWxlbmRhclxuICAgICAgdmFyIHBvcHVwRWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgZGF0ZXBpY2tlci1wb3B1cC13cmFwPjxkaXYgZGF0ZXBpY2tlcj48L2Rpdj48L2Rpdj4nKTtcbiAgICAgIHBvcHVwRWwuYXR0cih7XG4gICAgICAgICduZy1tb2RlbCc6ICdkYXRlJyxcbiAgICAgICAgJ25nLWNoYW5nZSc6ICdkYXRlU2VsZWN0aW9uKGRhdGUpJyxcbiAgICAgICAgJ3RlbXBsYXRlLXVybCc6IGRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsXG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gY2FtZWx0b0Rhc2goc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvKFtBLVpdKS9nLCBmdW5jdGlvbigkMSkgeyByZXR1cm4gJy0nICsgJDEudG9Mb3dlckNhc2UoKTsgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGRhdGVwaWNrZXIgZWxlbWVudFxuICAgICAgdmFyIGRhdGVwaWNrZXJFbCA9IGFuZ3VsYXIuZWxlbWVudChwb3B1cEVsLmNoaWxkcmVuKClbMF0pO1xuICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoJ3RlbXBsYXRlLXVybCcsIGRhdGVwaWNrZXJUZW1wbGF0ZVVybCk7XG5cbiAgICAgIGlmIChpc0h0bWw1RGF0ZUlucHV0KSB7XG4gICAgICAgIGlmIChhdHRycy50eXBlID09PSAnbW9udGgnKSB7XG4gICAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoJ2RhdGVwaWNrZXItbW9kZScsICdcIm1vbnRoXCInKTtcbiAgICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignbWluLW1vZGUnLCAnbW9udGgnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYXR0cnMuZGF0ZXBpY2tlck9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmRhdGVwaWNrZXJPcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pbml0RGF0ZSkge1xuICAgICAgICAgIHNjb3BlLmluaXREYXRlID0gb3B0aW9ucy5pbml0RGF0ZTtcbiAgICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignaW5pdC1kYXRlJywgJ2luaXREYXRlJyk7XG4gICAgICAgICAgZGVsZXRlIG9wdGlvbnMuaW5pdERhdGU7XG4gICAgICAgIH1cbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKG9wdGlvbnMsIGZ1bmN0aW9uKHZhbHVlLCBvcHRpb24pIHtcbiAgICAgICAgICBkYXRlcGlja2VyRWwuYXR0ciggY2FtZWx0b0Rhc2gob3B0aW9uKSwgdmFsdWUgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHNjb3BlLndhdGNoRGF0YSA9IHt9O1xuICAgICAgYW5ndWxhci5mb3JFYWNoKFsnbWluTW9kZScsICdtYXhNb2RlJywgJ21pbkRhdGUnLCAnbWF4RGF0ZScsICdkYXRlcGlja2VyTW9kZScsICdpbml0RGF0ZScsICdzaG9ydGN1dFByb3BhZ2F0aW9uJ10sIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBpZiAoYXR0cnNba2V5XSkge1xuICAgICAgICAgIHZhciBnZXRBdHRyaWJ1dGUgPSAkcGFyc2UoYXR0cnNba2V5XSk7XG4gICAgICAgICAgc2NvcGUuJHBhcmVudC4kd2F0Y2goZ2V0QXR0cmlidXRlLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgc2NvcGUud2F0Y2hEYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdtaW5EYXRlJyB8fCBrZXkgPT09ICdtYXhEYXRlJykge1xuICAgICAgICAgICAgICBjYWNoZVtrZXldID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKGNhbWVsdG9EYXNoKGtleSksICd3YXRjaERhdGEuJyArIGtleSk7XG5cbiAgICAgICAgICAvLyBQcm9wYWdhdGUgY2hhbmdlcyBmcm9tIGRhdGVwaWNrZXIgdG8gb3V0c2lkZVxuICAgICAgICAgIGlmIChrZXkgPT09ICdkYXRlcGlja2VyTW9kZScpIHtcbiAgICAgICAgICAgIHZhciBzZXRBdHRyaWJ1dGUgPSBnZXRBdHRyaWJ1dGUuYXNzaWduO1xuICAgICAgICAgICAgc2NvcGUuJHdhdGNoKCd3YXRjaERhdGEuJyArIGtleSwgZnVuY3Rpb24odmFsdWUsIG9sZHZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oc2V0QXR0cmlidXRlKSAmJiB2YWx1ZSAhPT0gb2xkdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzZXRBdHRyaWJ1dGUoc2NvcGUuJHBhcmVudCwgdmFsdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGF0dHJzLmRhdGVEaXNhYmxlZCkge1xuICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignZGF0ZS1kaXNhYmxlZCcsICdkYXRlRGlzYWJsZWQoeyBkYXRlOiBkYXRlLCBtb2RlOiBtb2RlIH0pJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRycy5zaG93V2Vla3MpIHtcbiAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoJ3Nob3ctd2Vla3MnLCBhdHRycy5zaG93V2Vla3MpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXR0cnMuY3VzdG9tQ2xhc3MpIHtcbiAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoJ2N1c3RvbS1jbGFzcycsICdjdXN0b21DbGFzcyh7IGRhdGU6IGRhdGUsIG1vZGU6IG1vZGUgfSknKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcGFyc2VEYXRlKHZpZXdWYWx1ZSkge1xuICAgICAgICBpZiAoYW5ndWxhci5pc051bWJlcih2aWV3VmFsdWUpKSB7XG4gICAgICAgICAgLy8gcHJlc3VtYWJseSB0aW1lc3RhbXAgdG8gZGF0ZSBvYmplY3RcbiAgICAgICAgICB2aWV3VmFsdWUgPSBuZXcgRGF0ZSh2aWV3VmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF2aWV3VmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzRGF0ZSh2aWV3VmFsdWUpICYmICFpc05hTih2aWV3VmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHZpZXdWYWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICB2YXIgZGF0ZSA9IGRhdGVQYXJzZXIucGFyc2Uodmlld1ZhbHVlLCBkYXRlRm9ybWF0LCBzY29wZS5kYXRlKTtcbiAgICAgICAgICBpZiAoaXNOYU4oZGF0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHZhbGlkYXRvcihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gbW9kZWxWYWx1ZSB8fCB2aWV3VmFsdWU7XG5cbiAgICAgICAgaWYgKCFhdHRycy5uZ1JlcXVpcmVkICYmICF2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNEYXRlKHZhbHVlKSAmJiAhaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgICB2YXIgZGF0ZSA9IGRhdGVQYXJzZXIucGFyc2UodmFsdWUsIGRhdGVGb3JtYXQpO1xuICAgICAgICAgIHJldHVybiAhaXNOYU4oZGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNIdG1sNURhdGVJbnB1dCkge1xuICAgICAgICAvLyBJbnRlcm5hbCBBUEkgdG8gbWFpbnRhaW4gdGhlIGNvcnJlY3QgbmctaW52YWxpZC1ba2V5XSBjbGFzc1xuICAgICAgICBuZ01vZGVsLiQkcGFyc2VyTmFtZSA9ICdkYXRlJztcbiAgICAgICAgbmdNb2RlbC4kdmFsaWRhdG9ycy5kYXRlID0gdmFsaWRhdG9yO1xuICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnVuc2hpZnQocGFyc2VEYXRlKTtcbiAgICAgICAgbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgc2NvcGUuZGF0ZSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiBuZ01vZGVsLiRpc0VtcHR5KHZhbHVlKSA/IHZhbHVlIDogZGF0ZUZpbHRlcih2YWx1ZSwgZGF0ZUZvcm1hdCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgc2NvcGUuZGF0ZSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIElubmVyIGNoYW5nZVxuICAgICAgc2NvcGUuZGF0ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKGR0KSB7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChkdCkpIHtcbiAgICAgICAgICBzY29wZS5kYXRlID0gZHQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRhdGUgPSBzY29wZS5kYXRlID8gZGF0ZUZpbHRlcihzY29wZS5kYXRlLCBkYXRlRm9ybWF0KSA6IG51bGw7IC8vIFNldHRpbmcgdG8gTlVMTCBpcyBuZWNlc3NhcnkgZm9yIGZvcm0gdmFsaWRhdG9ycyB0byBmdW5jdGlvblxuICAgICAgICBlbGVtZW50LnZhbChkYXRlKTtcbiAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGRhdGUpO1xuXG4gICAgICAgIGlmIChjbG9zZU9uRGF0ZVNlbGVjdGlvbikge1xuICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gRGV0ZWN0IGNoYW5nZXMgaW4gdGhlIHZpZXcgZnJvbSB0aGUgdGV4dCBib3hcbiAgICAgIG5nTW9kZWwuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMucHVzaChmdW5jdGlvbigpIHtcbiAgICAgICAgc2NvcGUuZGF0ZSA9IGRhdGVQYXJzZXIucGFyc2UobmdNb2RlbC4kdmlld1ZhbHVlLCBkYXRlRm9ybWF0LCBzY29wZS5kYXRlKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZG9jdW1lbnRDbGlja0JpbmQgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAoc2NvcGUuaXNPcGVuICYmICEoZWxlbWVudFswXS5jb250YWlucyhldmVudC50YXJnZXQpIHx8IHBvcHVwRWxbMF0uY29udGFpbnMoZXZlbnQudGFyZ2V0KSkpIHtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIGlucHV0S2V5ZG93bkJpbmQgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgaWYgKGV2dC53aGljaCA9PT0gMjcgJiYgc2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDQwICYmICFzY29wZS5pc09wZW4pIHtcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2NvcGUuaXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGVsZW1lbnQuYmluZCgna2V5ZG93bicsIGlucHV0S2V5ZG93bkJpbmQpO1xuXG4gICAgICBzY29wZS5rZXlkb3duID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGlmIChldnQud2hpY2ggPT09IDI3KSB7XG4gICAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzY29wZS4kd2F0Y2goJ2lzT3BlbicsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHNjb3BlLnBvc2l0aW9uID0gYXBwZW5kVG9Cb2R5ID8gJHBvc2l0aW9uLm9mZnNldChlbGVtZW50KSA6ICRwb3NpdGlvbi5wb3NpdGlvbihlbGVtZW50KTtcbiAgICAgICAgICBzY29wZS5wb3NpdGlvbi50b3AgPSBzY29wZS5wb3NpdGlvbi50b3AgKyBlbGVtZW50LnByb3AoJ29mZnNldEhlaWdodCcpO1xuXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAob25PcGVuRm9jdXMpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgnZGF0ZXBpY2tlci5mb2N1cycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJGRvY3VtZW50LmJpbmQoJ2NsaWNrJywgZG9jdW1lbnRDbGlja0JpbmQpO1xuICAgICAgICAgIH0sIDAsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkZG9jdW1lbnQudW5iaW5kKCdjbGljaycsIGRvY3VtZW50Q2xpY2tCaW5kKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgaWYgKGRhdGUgPT09ICd0b2RheScpIHtcbiAgICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGF0ZShzY29wZS5kYXRlKSkge1xuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHNjb3BlLmRhdGUpO1xuICAgICAgICAgICAgZGF0ZS5zZXRGdWxsWWVhcih0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpLCB0b2RheS5nZXREYXRlKCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUodG9kYXkuc2V0SG91cnMoMCwgMCwgMCwgMCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzY29wZS5kYXRlU2VsZWN0aW9uKGRhdGUpO1xuICAgICAgfTtcblxuICAgICAgc2NvcGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciAkcG9wdXAgPSAkY29tcGlsZShwb3B1cEVsKShzY29wZSk7XG4gICAgICAvLyBQcmV2ZW50IGpRdWVyeSBjYWNoZSBtZW1vcnkgbGVhayAodGVtcGxhdGUgaXMgbm93IHJlZHVuZGFudCBhZnRlciBsaW5raW5nKVxuICAgICAgcG9wdXBFbC5yZW1vdmUoKTtcblxuICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZCgkcG9wdXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5hZnRlcigkcG9wdXApO1xuICAgICAgfVxuXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChzY29wZS5pc09wZW4gPT09IHRydWUpIHtcbiAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgICRwb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgZWxlbWVudC51bmJpbmQoJ2tleWRvd24nLCBpbnB1dEtleWRvd25CaW5kKTtcbiAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnY2xpY2snLCBkb2N1bWVudENsaWNrQmluZCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgnZGF0ZXBpY2tlclBvcHVwV3JhcCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OidFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWwnO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmRyb3Bkb3duJywgWyd1aS5ib290c3RyYXAucG9zaXRpb24nXSlcblxuLmNvbnN0YW50KCdkcm9wZG93bkNvbmZpZycsIHtcbiAgb3BlbkNsYXNzOiAnb3Blbidcbn0pXG5cbi5zZXJ2aWNlKCdkcm9wZG93blNlcnZpY2UnLCBbJyRkb2N1bWVudCcsICckcm9vdFNjb3BlJywgZnVuY3Rpb24oJGRvY3VtZW50LCAkcm9vdFNjb3BlKSB7XG4gIHZhciBvcGVuU2NvcGUgPSBudWxsO1xuXG4gIHRoaXMub3BlbiA9IGZ1bmN0aW9uKGRyb3Bkb3duU2NvcGUpIHtcbiAgICBpZiAoIW9wZW5TY29wZSkge1xuICAgICAgJGRvY3VtZW50LmJpbmQoJ2NsaWNrJywgY2xvc2VEcm9wZG93bik7XG4gICAgICAkZG9jdW1lbnQuYmluZCgna2V5ZG93bicsIGtleWJpbmRGaWx0ZXIpO1xuICAgIH1cblxuICAgIGlmIChvcGVuU2NvcGUgJiYgb3BlblNjb3BlICE9PSBkcm9wZG93blNjb3BlKSB7XG4gICAgICBvcGVuU2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgfVxuXG4gICAgb3BlblNjb3BlID0gZHJvcGRvd25TY29wZTtcbiAgfTtcblxuICB0aGlzLmNsb3NlID0gZnVuY3Rpb24oZHJvcGRvd25TY29wZSkge1xuICAgIGlmIChvcGVuU2NvcGUgPT09IGRyb3Bkb3duU2NvcGUpIHtcbiAgICAgIG9wZW5TY29wZSA9IG51bGw7XG4gICAgICAkZG9jdW1lbnQudW5iaW5kKCdjbGljaycsIGNsb3NlRHJvcGRvd24pO1xuICAgICAgJGRvY3VtZW50LnVuYmluZCgna2V5ZG93bicsIGtleWJpbmRGaWx0ZXIpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgY2xvc2VEcm9wZG93biA9IGZ1bmN0aW9uKGV2dCkge1xuICAgIC8vIFRoaXMgbWV0aG9kIG1heSBzdGlsbCBiZSBjYWxsZWQgZHVyaW5nIHRoZSBzYW1lIG1vdXNlIGV2ZW50IHRoYXRcbiAgICAvLyB1bmJvdW5kIHRoaXMgZXZlbnQgaGFuZGxlci4gU28gY2hlY2sgb3BlblNjb3BlIGJlZm9yZSBwcm9jZWVkaW5nLlxuICAgIGlmICghb3BlblNjb3BlKSB7IHJldHVybjsgfVxuXG4gICAgaWYgKGV2dCAmJiBvcGVuU2NvcGUuZ2V0QXV0b0Nsb3NlKCkgPT09ICdkaXNhYmxlZCcpICB7IHJldHVybiA7IH1cblxuICAgIHZhciB0b2dnbGVFbGVtZW50ID0gb3BlblNjb3BlLmdldFRvZ2dsZUVsZW1lbnQoKTtcbiAgICBpZiAoZXZ0ICYmIHRvZ2dsZUVsZW1lbnQgJiYgdG9nZ2xlRWxlbWVudFswXS5jb250YWlucyhldnQudGFyZ2V0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBkcm9wZG93bkVsZW1lbnQgPSBvcGVuU2NvcGUuZ2V0RHJvcGRvd25FbGVtZW50KCk7XG4gICAgaWYgKGV2dCAmJiBvcGVuU2NvcGUuZ2V0QXV0b0Nsb3NlKCkgPT09ICdvdXRzaWRlQ2xpY2snICYmXG4gICAgICBkcm9wZG93bkVsZW1lbnQgJiYgZHJvcGRvd25FbGVtZW50WzBdLmNvbnRhaW5zKGV2dC50YXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb3BlblNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuXG4gICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgIG9wZW5TY29wZS4kYXBwbHkoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGtleWJpbmRGaWx0ZXIgPSBmdW5jdGlvbihldnQpIHtcbiAgICBpZiAoZXZ0LndoaWNoID09PSAyNykge1xuICAgICAgb3BlblNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudCgpO1xuICAgICAgY2xvc2VEcm9wZG93bigpO1xuICAgIH0gZWxzZSBpZiAob3BlblNjb3BlLmlzS2V5bmF2RW5hYmxlZCgpICYmIC8oMzh8NDApLy50ZXN0KGV2dC53aGljaCkgJiYgb3BlblNjb3BlLmlzT3Blbikge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBvcGVuU2NvcGUuZm9jdXNEcm9wZG93bkVudHJ5KGV2dC53aGljaCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5jb250cm9sbGVyKCdEcm9wZG93bkNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnJHBhcnNlJywgJ2Ryb3Bkb3duQ29uZmlnJywgJ2Ryb3Bkb3duU2VydmljZScsICckYW5pbWF0ZScsICckcG9zaXRpb24nLCAnJGRvY3VtZW50JywgJyRjb21waWxlJywgJyR0ZW1wbGF0ZVJlcXVlc3QnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgJHBhcnNlLCBkcm9wZG93bkNvbmZpZywgZHJvcGRvd25TZXJ2aWNlLCAkYW5pbWF0ZSwgJHBvc2l0aW9uLCAkZG9jdW1lbnQsICRjb21waWxlLCAkdGVtcGxhdGVSZXF1ZXN0KSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICBzY29wZSA9ICRzY29wZS4kbmV3KCksIC8vIGNyZWF0ZSBhIGNoaWxkIHNjb3BlIHNvIHdlIGFyZSBub3QgcG9sbHV0aW5nIG9yaWdpbmFsIG9uZVxuICAgIHRlbXBsYXRlU2NvcGUsXG4gICAgb3BlbkNsYXNzID0gZHJvcGRvd25Db25maWcub3BlbkNsYXNzLFxuICAgIGdldElzT3BlbixcbiAgICBzZXRJc09wZW4gPSBhbmd1bGFyLm5vb3AsXG4gICAgdG9nZ2xlSW52b2tlciA9ICRhdHRycy5vblRvZ2dsZSA/ICRwYXJzZSgkYXR0cnMub25Ub2dnbGUpIDogYW5ndWxhci5ub29wLFxuICAgIGFwcGVuZFRvQm9keSA9IGZhbHNlLFxuICAgIGtleW5hdkVuYWJsZWQgPSBmYWxzZSxcbiAgICBzZWxlY3RlZE9wdGlvbiA9IG51bGwsXG4gICAgYm9keSA9ICRkb2N1bWVudC5maW5kKCdib2R5Jyk7XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHNlbGYuJGVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgaWYgKCRhdHRycy5pc09wZW4pIHtcbiAgICAgIGdldElzT3BlbiA9ICRwYXJzZSgkYXR0cnMuaXNPcGVuKTtcbiAgICAgIHNldElzT3BlbiA9IGdldElzT3Blbi5hc3NpZ247XG5cbiAgICAgICRzY29wZS4kd2F0Y2goZ2V0SXNPcGVuLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBzY29wZS5pc09wZW4gPSAhIXZhbHVlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmRyb3Bkb3duQXBwZW5kVG9Cb2R5KTtcbiAgICBrZXluYXZFbmFibGVkID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmtleWJvYXJkTmF2KTtcblxuICAgIGlmIChhcHBlbmRUb0JvZHkgJiYgc2VsZi5kcm9wZG93bk1lbnUpIHtcbiAgICAgIGJvZHkuYXBwZW5kKHNlbGYuZHJvcGRvd25NZW51KTtcbiAgICAgIGJvZHkuYWRkQ2xhc3MoJ2Ryb3Bkb3duJyk7XG4gICAgICBlbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uIGhhbmRsZURlc3Ryb3lFdmVudCgpIHtcbiAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUucmVtb3ZlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy50b2dnbGUgPSBmdW5jdGlvbihvcGVuKSB7XG4gICAgcmV0dXJuIHNjb3BlLmlzT3BlbiA9IGFyZ3VtZW50cy5sZW5ndGggPyAhIW9wZW4gOiAhc2NvcGUuaXNPcGVuO1xuICB9O1xuXG4gIC8vIEFsbG93IG90aGVyIGRpcmVjdGl2ZXMgdG8gd2F0Y2ggc3RhdHVzXG4gIHRoaXMuaXNPcGVuID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNjb3BlLmlzT3BlbjtcbiAgfTtcblxuICBzY29wZS5nZXRUb2dnbGVFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNlbGYudG9nZ2xlRWxlbWVudDtcbiAgfTtcblxuICBzY29wZS5nZXRBdXRvQ2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJGF0dHJzLmF1dG9DbG9zZSB8fCAnYWx3YXlzJzsgLy9vciAnb3V0c2lkZUNsaWNrJyBvciAnZGlzYWJsZWQnXG4gIH07XG5cbiAgc2NvcGUuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzZWxmLiRlbGVtZW50O1xuICB9O1xuXG4gIHNjb3BlLmlzS2V5bmF2RW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBrZXluYXZFbmFibGVkO1xuICB9O1xuXG4gIHNjb3BlLmZvY3VzRHJvcGRvd25FbnRyeSA9IGZ1bmN0aW9uKGtleUNvZGUpIHtcbiAgICB2YXIgZWxlbXMgPSBzZWxmLmRyb3Bkb3duTWVudSA/IC8vSWYgYXBwZW5kIHRvIGJvZHkgaXMgdXNlZC5cbiAgICAgIChhbmd1bGFyLmVsZW1lbnQoc2VsZi5kcm9wZG93bk1lbnUpLmZpbmQoJ2EnKSkgOlxuICAgICAgKGFuZ3VsYXIuZWxlbWVudChzZWxmLiRlbGVtZW50KS5maW5kKCd1bCcpLmVxKDApLmZpbmQoJ2EnKSk7XG5cbiAgICBzd2l0Y2ggKGtleUNvZGUpIHtcbiAgICAgIGNhc2UgKDQwKToge1xuICAgICAgICBpZiAoIWFuZ3VsYXIuaXNOdW1iZXIoc2VsZi5zZWxlY3RlZE9wdGlvbikpIHtcbiAgICAgICAgICBzZWxmLnNlbGVjdGVkT3B0aW9uID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnNlbGVjdGVkT3B0aW9uID0gKHNlbGYuc2VsZWN0ZWRPcHRpb24gPT09IGVsZW1zLmxlbmd0aCAtMSA/XG4gICAgICAgICAgICBzZWxmLnNlbGVjdGVkT3B0aW9uIDpcbiAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gKyAxKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgKDM4KToge1xuICAgICAgICBpZiAoIWFuZ3VsYXIuaXNOdW1iZXIoc2VsZi5zZWxlY3RlZE9wdGlvbikpIHtcbiAgICAgICAgICBzZWxmLnNlbGVjdGVkT3B0aW9uID0gZWxlbXMubGVuZ3RoIC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnNlbGVjdGVkT3B0aW9uID0gc2VsZi5zZWxlY3RlZE9wdGlvbiA9PT0gMCA/XG4gICAgICAgICAgICAwIDogc2VsZi5zZWxlY3RlZE9wdGlvbiAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGVsZW1zW3NlbGYuc2VsZWN0ZWRPcHRpb25dLmZvY3VzKCk7XG4gIH07XG5cbiAgc2NvcGUuZ2V0RHJvcGRvd25FbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNlbGYuZHJvcGRvd25NZW51O1xuICB9O1xuXG4gIHNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChzZWxmLnRvZ2dsZUVsZW1lbnQpIHtcbiAgICAgIHNlbGYudG9nZ2xlRWxlbWVudFswXS5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICBzY29wZS4kd2F0Y2goJ2lzT3BlbicsIGZ1bmN0aW9uKGlzT3Blbiwgd2FzT3Blbikge1xuICAgIGlmIChhcHBlbmRUb0JvZHkgJiYgc2VsZi5kcm9wZG93bk1lbnUpIHtcbiAgICAgIHZhciBwb3MgPSAkcG9zaXRpb24ucG9zaXRpb25FbGVtZW50cyhzZWxmLiRlbGVtZW50LCBzZWxmLmRyb3Bkb3duTWVudSwgJ2JvdHRvbS1sZWZ0JywgdHJ1ZSk7XG4gICAgICB2YXIgY3NzID0ge1xuICAgICAgICB0b3A6IHBvcy50b3AgKyAncHgnLFxuICAgICAgICBkaXNwbGF5OiBpc09wZW4gPyAnYmxvY2snIDogJ25vbmUnXG4gICAgICB9O1xuXG4gICAgICB2YXIgcmlnaHRhbGlnbiA9IHNlbGYuZHJvcGRvd25NZW51Lmhhc0NsYXNzKCdkcm9wZG93bi1tZW51LXJpZ2h0Jyk7XG4gICAgICBpZiAoIXJpZ2h0YWxpZ24pIHtcbiAgICAgICAgY3NzLmxlZnQgPSBwb3MubGVmdCArICdweCc7XG4gICAgICAgIGNzcy5yaWdodCA9ICdhdXRvJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNzcy5sZWZ0ID0gJ2F1dG8nO1xuICAgICAgICBjc3MucmlnaHQgPSAod2luZG93LmlubmVyV2lkdGggLSAocG9zLmxlZnQgKyBzZWxmLiRlbGVtZW50LnByb3AoJ29mZnNldFdpZHRoJykpKSArICdweCc7XG4gICAgICB9XG5cbiAgICAgIHNlbGYuZHJvcGRvd25NZW51LmNzcyhjc3MpO1xuICAgIH1cblxuICAgIHZhciBvcGVuQ29udGFpbmVyID0gYXBwZW5kVG9Cb2R5ID8gYm9keSA6IHNlbGYuJGVsZW1lbnQ7XG5cbiAgICAkYW5pbWF0ZVtpc09wZW4gPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10ob3BlbkNvbnRhaW5lciwgb3BlbkNsYXNzKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGlzT3BlbikgJiYgaXNPcGVuICE9PSB3YXNPcGVuKSB7XG4gICAgICAgIHRvZ2dsZUludm9rZXIoJHNjb3BlLCB7IG9wZW46ICEhaXNPcGVuIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgaWYgKHNlbGYuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwpIHtcbiAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChzZWxmLmRyb3Bkb3duTWVudVRlbXBsYXRlVXJsKS50aGVuKGZ1bmN0aW9uKHRwbENvbnRlbnQpIHtcbiAgICAgICAgICB0ZW1wbGF0ZVNjb3BlID0gc2NvcGUuJG5ldygpO1xuICAgICAgICAgICRjb21waWxlKHRwbENvbnRlbnQudHJpbSgpKSh0ZW1wbGF0ZVNjb3BlLCBmdW5jdGlvbihkcm9wZG93bkVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBuZXdFbCA9IGRyb3Bkb3duRWxlbWVudDtcbiAgICAgICAgICAgIHNlbGYuZHJvcGRvd25NZW51LnJlcGxhY2VXaXRoKG5ld0VsKTtcbiAgICAgICAgICAgIHNlbGYuZHJvcGRvd25NZW51ID0gbmV3RWw7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBzY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQoKTtcbiAgICAgIGRyb3Bkb3duU2VydmljZS5vcGVuKHNjb3BlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHNlbGYuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwpIHtcbiAgICAgICAgaWYgKHRlbXBsYXRlU2NvcGUpIHtcbiAgICAgICAgICB0ZW1wbGF0ZVNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5ld0VsID0gYW5ndWxhci5lbGVtZW50KCc8dWwgY2xhc3M9XCJkcm9wZG93bi1tZW51XCI+PC91bD4nKTtcbiAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUucmVwbGFjZVdpdGgobmV3RWwpO1xuICAgICAgICBzZWxmLmRyb3Bkb3duTWVudSA9IG5ld0VsO1xuICAgICAgfVxuXG4gICAgICBkcm9wZG93blNlcnZpY2UuY2xvc2Uoc2NvcGUpO1xuICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihzZXRJc09wZW4pKSB7XG4gICAgICBzZXRJc09wZW4oJHNjb3BlLCBpc09wZW4pO1xuICAgIH1cbiAgfSk7XG5cbiAgJHNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKCkge1xuICAgIGlmIChzY29wZS5nZXRBdXRvQ2xvc2UoKSAhPT0gJ2Rpc2FibGVkJykge1xuICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICB2YXIgb2ZmRGVzdHJveSA9ICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgc2NvcGUuJGRlc3Ryb3koKTtcbiAgfSk7XG4gIHNjb3BlLiRvbignJGRlc3Ryb3knLCBvZmZEZXN0cm95KTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdkcm9wZG93bicsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIGNvbnRyb2xsZXI6ICdEcm9wZG93bkNvbnRyb2xsZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZHJvcGRvd25DdHJsKSB7XG4gICAgICBkcm9wZG93bkN0cmwuaW5pdCggZWxlbWVudCApO1xuICAgICAgZWxlbWVudC5hZGRDbGFzcygnZHJvcGRvd24nKTtcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdkcm9wZG93bk1lbnUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0FDJyxcbiAgICByZXF1aXJlOiAnP15kcm9wZG93bicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBkcm9wZG93bkN0cmwpIHtcbiAgICAgIGlmICghZHJvcGRvd25DdHJsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciB0cGxVcmwgPSBhdHRycy50ZW1wbGF0ZVVybDtcbiAgICAgIGlmICh0cGxVcmwpIHtcbiAgICAgICAgZHJvcGRvd25DdHJsLmRyb3Bkb3duTWVudVRlbXBsYXRlVXJsID0gdHBsVXJsO1xuICAgICAgfVxuICAgICAgaWYgKCFkcm9wZG93bkN0cmwuZHJvcGRvd25NZW51KSB7XG4gICAgICAgIGRyb3Bkb3duQ3RybC5kcm9wZG93bk1lbnUgPSBlbGVtZW50O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2tleWJvYXJkTmF2JywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnP15kcm9wZG93bicsXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZHJvcGRvd25DdHJsKSB7XG5cbiAgICAgIGVsZW1lbnQuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKFszOCwgNDBdLmluZGV4T2YoZS53aGljaCkgIT09IC0xKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICB2YXIgZWxlbXMgPSBkcm9wZG93bkN0cmwuZHJvcGRvd25NZW51LmZpbmQoJ2EnKTtcblxuICAgICAgICAgIHN3aXRjaCAoZS53aGljaCkge1xuICAgICAgICAgICAgY2FzZSAoNDApOiB7IC8vIERvd25cbiAgICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmlzTnVtYmVyKGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbikpIHtcbiAgICAgICAgICAgICAgICBkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24gPSAwO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9IGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9PT0gZWxlbXMubGVuZ3RoIC0xID9cbiAgICAgICAgICAgICAgICAgIGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA6IGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiArIDE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICgzOCk6IHsgLy8gVXBcbiAgICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmlzTnVtYmVyKGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbikpIHtcbiAgICAgICAgICAgICAgICBkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24gPSBlbGVtcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9IGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9PT0gMCA/XG4gICAgICAgICAgICAgICAgICAwIDogZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uIC0gMTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxlbXNbZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uXS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdkcm9wZG93blRvZ2dsZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICc/XmRyb3Bkb3duJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkge1xuICAgICAgaWYgKCFkcm9wZG93bkN0cmwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBlbGVtZW50LmFkZENsYXNzKCdkcm9wZG93bi10b2dnbGUnKTtcblxuICAgICAgZHJvcGRvd25DdHJsLnRvZ2dsZUVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICB2YXIgdG9nZ2xlRHJvcGRvd24gPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmICghZWxlbWVudC5oYXNDbGFzcygnZGlzYWJsZWQnKSAmJiAhYXR0cnMuZGlzYWJsZWQpIHtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkcm9wZG93bkN0cmwudG9nZ2xlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGVsZW1lbnQuYmluZCgnY2xpY2snLCB0b2dnbGVEcm9wZG93bik7XG5cbiAgICAgIC8vIFdBSS1BUklBXG4gICAgICBlbGVtZW50LmF0dHIoeyAnYXJpYS1oYXNwb3B1cCc6IHRydWUsICdhcmlhLWV4cGFuZGVkJzogZmFsc2UgfSk7XG4gICAgICBzY29wZS4kd2F0Y2goZHJvcGRvd25DdHJsLmlzT3BlbiwgZnVuY3Rpb24oIGlzT3BlbiApIHtcbiAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgISFpc09wZW4pO1xuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZWxlbWVudC51bmJpbmQoJ2NsaWNrJywgdG9nZ2xlRHJvcGRvd24pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAubW9kYWwnLCBbXSlcblxuLyoqXG4gKiBBIGhlbHBlciwgaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmUgdGhhdCBhY3RzIGFzIGEgbWFwIGJ1dCBhbHNvIGFsbG93cyBnZXR0aW5nIC8gcmVtb3ZpbmdcbiAqIGVsZW1lbnRzIGluIHRoZSBMSUZPIG9yZGVyXG4gKi9cbiAgLmZhY3RvcnkoJyQkc3RhY2tlZE1hcCcsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGVOZXc6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhY2sgPSBbXTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFkZDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgc3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKGtleSA9PSBzdGFja1tpXS5rZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhY2tbaV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGtleXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAga2V5cy5wdXNoKHN0YWNrW2ldLmtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRvcDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgdmFyIGlkeCA9IC0xO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAoa2V5ID09IHN0YWNrW2ldLmtleSkge1xuICAgICAgICAgICAgICAgIGlkeCA9IGk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdGFjay5zcGxpY2UoaWR4LCAxKVswXTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlbW92ZVRvcDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2suc3BsaWNlKHN0YWNrLmxlbmd0aCAtIDEsIDEpWzBdO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbGVuZ3RoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFjay5sZW5ndGg7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gIH0pXG5cbi8qKlxuICogQSBoZWxwZXIsIGludGVybmFsIGRhdGEgc3RydWN0dXJlIHRoYXQgc3RvcmVzIGFsbCByZWZlcmVuY2VzIGF0dGFjaGVkIHRvIGtleVxuICovXG4gIC5mYWN0b3J5KCckJG11bHRpTWFwJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZU5ldzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtYXAgPSB7fTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGVudHJpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG1hcCkubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBtYXBba2V5XVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG1hcFtrZXldO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaGFzS2V5OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiAhIW1hcFtrZXldO1xuICAgICAgICAgIH0sXG4gICAgICAgICAga2V5czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHB1dDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFtYXBba2V5XSkge1xuICAgICAgICAgICAgICBtYXBba2V5XSA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYXBba2V5XS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IG1hcFtrZXldO1xuXG4gICAgICAgICAgICBpZiAoIXZhbHVlcykge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBpZHggPSB2YWx1ZXMuaW5kZXhPZih2YWx1ZSk7XG5cbiAgICAgICAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgICAgICAgIHZhbHVlcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBtYXBba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfSlcblxuLyoqXG4gKiBBIGhlbHBlciBkaXJlY3RpdmUgZm9yIHRoZSAkbW9kYWwgc2VydmljZS4gSXQgY3JlYXRlcyBhIGJhY2tkcm9wIGVsZW1lbnQuXG4gKi9cbiAgLmRpcmVjdGl2ZSgnbW9kYWxCYWNrZHJvcCcsIFtcbiAgICAgICAgICAgJyRhbmltYXRlJywgJyRpbmplY3RvcicsICckbW9kYWxTdGFjaycsXG4gIGZ1bmN0aW9uKCRhbmltYXRlICwgICRpbmplY3RvciwgICAkbW9kYWxTdGFjaykge1xuICAgIHZhciAkYW5pbWF0ZUNzcyA9IG51bGw7XG5cbiAgICBpZiAoJGluamVjdG9yLmhhcygnJGFuaW1hdGVDc3MnKSkge1xuICAgICAgJGFuaW1hdGVDc3MgPSAkaW5qZWN0b3IuZ2V0KCckYW5pbWF0ZUNzcycpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWwnLFxuICAgICAgY29tcGlsZTogZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykge1xuICAgICAgICB0RWxlbWVudC5hZGRDbGFzcyh0QXR0cnMuYmFja2Ryb3BDbGFzcyk7XG4gICAgICAgIHJldHVybiBsaW5rRm47XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGxpbmtGbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIGlmIChhdHRycy5tb2RhbEluQ2xhc3MpIHtcbiAgICAgICAgaWYgKCRhbmltYXRlQ3NzKSB7XG4gICAgICAgICAgJGFuaW1hdGVDc3MoZWxlbWVudCwge1xuICAgICAgICAgICAgYWRkQ2xhc3M6IGF0dHJzLm1vZGFsSW5DbGFzc1xuICAgICAgICAgIH0pLnN0YXJ0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgYXR0cnMubW9kYWxJbkNsYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLiRvbigkbW9kYWxTdGFjay5OT1dfQ0xPU0lOR19FVkVOVCwgZnVuY3Rpb24oZSwgc2V0SXNBc3luYykge1xuICAgICAgICAgIHZhciBkb25lID0gc2V0SXNBc3luYygpO1xuICAgICAgICAgIGlmICgkYW5pbWF0ZUNzcykge1xuICAgICAgICAgICAgJGFuaW1hdGVDc3MoZWxlbWVudCwge1xuICAgICAgICAgICAgICByZW1vdmVDbGFzczogYXR0cnMubW9kYWxJbkNsYXNzXG4gICAgICAgICAgICB9KS5zdGFydCgpLnRoZW4oZG9uZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcykudGhlbihkb25lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfV0pXG5cbiAgLmRpcmVjdGl2ZSgnbW9kYWxXaW5kb3cnLCBbXG4gICAgICAgICAgICckbW9kYWxTdGFjaycsICckcScsICckYW5pbWF0ZScsICckaW5qZWN0b3InLFxuICBmdW5jdGlvbigkbW9kYWxTdGFjayAsICAkcSAsICAkYW5pbWF0ZSwgICAkaW5qZWN0b3IpIHtcbiAgICB2YXIgJGFuaW1hdGVDc3MgPSBudWxsO1xuXG4gICAgaWYgKCRpbmplY3Rvci5oYXMoJyRhbmltYXRlQ3NzJykpIHtcbiAgICAgICRhbmltYXRlQ3NzID0gJGluamVjdG9yLmdldCgnJGFuaW1hdGVDc3MnKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICBzY29wZToge1xuICAgICAgICBpbmRleDogJ0AnXG4gICAgICB9LFxuICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykge1xuICAgICAgICByZXR1cm4gdEF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbCc7XG4gICAgICB9LFxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoYXR0cnMud2luZG93Q2xhc3MgfHwgJycpO1xuICAgICAgICBzY29wZS5zaXplID0gYXR0cnMuc2l6ZTtcblxuICAgICAgICBzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIHZhciBtb2RhbCA9ICRtb2RhbFN0YWNrLmdldFRvcCgpO1xuICAgICAgICAgIGlmIChtb2RhbCAmJiBtb2RhbC52YWx1ZS5iYWNrZHJvcCAmJiBtb2RhbC52YWx1ZS5iYWNrZHJvcCAhPT0gJ3N0YXRpYycgJiYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSkge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAkbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsLmtleSwgJ2JhY2tkcm9wIGNsaWNrJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFRoaXMgcHJvcGVydHkgaXMgb25seSBhZGRlZCB0byB0aGUgc2NvcGUgZm9yIHRoZSBwdXJwb3NlIG9mIGRldGVjdGluZyB3aGVuIHRoaXMgZGlyZWN0aXZlIGlzIHJlbmRlcmVkLlxuICAgICAgICAvLyBXZSBjYW4gZGV0ZWN0IHRoYXQgYnkgdXNpbmcgdGhpcyBwcm9wZXJ0eSBpbiB0aGUgdGVtcGxhdGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZGlyZWN0aXZlIGFuZCB0aGVuIHVzZVxuICAgICAgICAvLyB7QGxpbmsgQXR0cmlidXRlIyRvYnNlcnZlfSBvbiBpdC4gRm9yIG1vcmUgZGV0YWlscyBwbGVhc2Ugc2VlIHtAbGluayBUYWJsZUNvbHVtblJlc2l6ZX0uXG4gICAgICAgIHNjb3BlLiRpc1JlbmRlcmVkID0gdHJ1ZTtcblxuICAgICAgICAvLyBEZWZlcnJlZCBvYmplY3QgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdoZW4gdGhpcyBtb2RhbCBpcyByZW5kZXIuXG4gICAgICAgIHZhciBtb2RhbFJlbmRlckRlZmVyT2JqID0gJHEuZGVmZXIoKTtcbiAgICAgICAgLy8gT2JzZXJ2ZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBvbiBuZXh0IGRpZ2VzdCBjeWNsZSBhZnRlciBjb21waWxhdGlvbiwgZW5zdXJpbmcgdGhhdCB0aGUgRE9NIGlzIHJlYWR5LlxuICAgICAgICAvLyBJbiBvcmRlciB0byB1c2UgdGhpcyB3YXkgb2YgZmluZGluZyB3aGV0aGVyIERPTSBpcyByZWFkeSwgd2UgbmVlZCB0byBvYnNlcnZlIGEgc2NvcGUgcHJvcGVydHkgdXNlZCBpbiBtb2RhbCdzIHRlbXBsYXRlLlxuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnbW9kYWxSZW5kZXInLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGlmICh2YWx1ZSA9PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIG1vZGFsUmVuZGVyRGVmZXJPYmoucmVzb2x2ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbW9kYWxSZW5kZXJEZWZlck9iai5wcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGFuaW1hdGlvblByb21pc2UgPSBudWxsO1xuXG4gICAgICAgICAgaWYgKGF0dHJzLm1vZGFsSW5DbGFzcykge1xuICAgICAgICAgICAgaWYgKCRhbmltYXRlQ3NzKSB7XG4gICAgICAgICAgICAgIGFuaW1hdGlvblByb21pc2UgPSAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3M6IGF0dHJzLm1vZGFsSW5DbGFzc1xuICAgICAgICAgICAgICB9KS5zdGFydCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uUHJvbWlzZSA9ICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNjb3BlLiRvbigkbW9kYWxTdGFjay5OT1dfQ0xPU0lOR19FVkVOVCwgZnVuY3Rpb24oZSwgc2V0SXNBc3luYykge1xuICAgICAgICAgICAgICB2YXIgZG9uZSA9IHNldElzQXN5bmMoKTtcbiAgICAgICAgICAgICAgaWYgKCRhbmltYXRlQ3NzKSB7XG4gICAgICAgICAgICAgICAgJGFuaW1hdGVDc3MoZWxlbWVudCwge1xuICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3M6IGF0dHJzLm1vZGFsSW5DbGFzc1xuICAgICAgICAgICAgICAgIH0pLnN0YXJ0KCkudGhlbihkb25lKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCBhdHRycy5tb2RhbEluQ2xhc3MpLnRoZW4oZG9uZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuXG4gICAgICAgICAgJHEud2hlbihhbmltYXRpb25Qcm9taXNlKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGlucHV0c1dpdGhBdXRvZm9jdXMgPSBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJ1thdXRvZm9jdXNdJyk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEF1dG8tZm9jdXNpbmcgb2YgYSBmcmVzaGx5LW9wZW5lZCBtb2RhbCBlbGVtZW50IGNhdXNlcyBhbnkgY2hpbGQgZWxlbWVudHNcbiAgICAgICAgICAgICAqIHdpdGggdGhlIGF1dG9mb2N1cyBhdHRyaWJ1dGUgdG8gbG9zZSBmb2N1cy4gVGhpcyBpcyBhbiBpc3N1ZSBvbiB0b3VjaFxuICAgICAgICAgICAgICogYmFzZWQgZGV2aWNlcyB3aGljaCB3aWxsIHNob3cgYW5kIHRoZW4gaGlkZSB0aGUgb25zY3JlZW4ga2V5Ym9hcmQuXG4gICAgICAgICAgICAgKiBBdHRlbXB0cyB0byByZWZvY3VzIHRoZSBhdXRvZm9jdXMgZWxlbWVudCB2aWEgSmF2YVNjcmlwdCB3aWxsIG5vdCByZW9wZW5cbiAgICAgICAgICAgICAqIHRoZSBvbnNjcmVlbiBrZXlib2FyZC4gRml4ZWQgYnkgdXBkYXRlZCB0aGUgZm9jdXNpbmcgbG9naWMgdG8gb25seSBhdXRvZm9jdXNcbiAgICAgICAgICAgICAqIHRoZSBtb2RhbCBlbGVtZW50IGlmIHRoZSBtb2RhbCBkb2VzIG5vdCBjb250YWluIGFuIGF1dG9mb2N1cyBlbGVtZW50LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoaW5wdXRzV2l0aEF1dG9mb2N1cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgaW5wdXRzV2l0aEF1dG9mb2N1c1swXS5mb2N1cygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gTm90aWZ5IHtAbGluayAkbW9kYWxTdGFja30gdGhhdCBtb2RhbCBpcyByZW5kZXJlZC5cbiAgICAgICAgICB2YXIgbW9kYWwgPSAkbW9kYWxTdGFjay5nZXRUb3AoKTtcbiAgICAgICAgICBpZiAobW9kYWwpIHtcbiAgICAgICAgICAgICRtb2RhbFN0YWNrLm1vZGFsUmVuZGVyZWQobW9kYWwua2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1dKVxuXG4gIC5kaXJlY3RpdmUoJ21vZGFsQW5pbWF0aW9uQ2xhc3MnLCBbXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykge1xuICAgICAgICAgIGlmICh0QXR0cnMubW9kYWxBbmltYXRpb24pIHtcbiAgICAgICAgICAgIHRFbGVtZW50LmFkZENsYXNzKHRBdHRycy5tb2RhbEFuaW1hdGlvbkNsYXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pXG5cbiAgLmRpcmVjdGl2ZSgnbW9kYWxUcmFuc2NsdWRlJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgY29udHJvbGxlciwgJHRyYW5zY2x1ZGUpIHtcbiAgICAgICAgJHRyYW5zY2x1ZGUoJHNjb3BlLiRwYXJlbnQsIGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICAgICAgJGVsZW1lbnQuZW1wdHkoKTtcbiAgICAgICAgICAkZWxlbWVudC5hcHBlbmQoY2xvbmUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9KVxuXG4gIC5mYWN0b3J5KCckbW9kYWxTdGFjaycsIFtcbiAgICAgICAgICAgICAnJGFuaW1hdGUnLCAnJHRpbWVvdXQnLCAnJGRvY3VtZW50JywgJyRjb21waWxlJywgJyRyb290U2NvcGUnLFxuICAgICAgICAgICAgICckcScsXG4gICAgICAgICAgICAgJyRpbmplY3RvcicsXG4gICAgICAgICAgICAgJyQkbXVsdGlNYXAnLFxuICAgICAgICAgICAgICckJHN0YWNrZWRNYXAnLFxuICAgIGZ1bmN0aW9uKCRhbmltYXRlICwgICR0aW1lb3V0ICwgICRkb2N1bWVudCAsICAkY29tcGlsZSAsICAkcm9vdFNjb3BlICxcbiAgICAgICAgICAgICAgJHEsXG4gICAgICAgICAgICAgICRpbmplY3RvcixcbiAgICAgICAgICAgICAgJCRtdWx0aU1hcCxcbiAgICAgICAgICAgICAgJCRzdGFja2VkTWFwKSB7XG4gICAgICB2YXIgJGFuaW1hdGVDc3MgPSBudWxsO1xuXG4gICAgICBpZiAoJGluamVjdG9yLmhhcygnJGFuaW1hdGVDc3MnKSkge1xuICAgICAgICAkYW5pbWF0ZUNzcyA9ICRpbmplY3Rvci5nZXQoJyRhbmltYXRlQ3NzJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBPUEVORURfTU9EQUxfQ0xBU1MgPSAnbW9kYWwtb3Blbic7XG5cbiAgICAgIHZhciBiYWNrZHJvcERvbUVsLCBiYWNrZHJvcFNjb3BlO1xuICAgICAgdmFyIG9wZW5lZFdpbmRvd3MgPSAkJHN0YWNrZWRNYXAuY3JlYXRlTmV3KCk7XG4gICAgICB2YXIgb3BlbmVkQ2xhc3NlcyA9ICQkbXVsdGlNYXAuY3JlYXRlTmV3KCk7XG4gICAgICB2YXIgJG1vZGFsU3RhY2sgPSB7XG4gICAgICAgIE5PV19DTE9TSU5HX0VWRU5UOiAnbW9kYWwuc3RhY2subm93LWNsb3NpbmcnXG4gICAgICB9O1xuXG4gICAgICAvL01vZGFsIGZvY3VzIGJlaGF2aW9yXG4gICAgICB2YXIgZm9jdXNhYmxlRWxlbWVudExpc3Q7XG4gICAgICB2YXIgZm9jdXNJbmRleCA9IDA7XG4gICAgICB2YXIgdGFiYWJibGVTZWxlY3RvciA9ICdhW2hyZWZdLCBhcmVhW2hyZWZdLCBpbnB1dDpub3QoW2Rpc2FibGVkXSksICcgK1xuICAgICAgICAnYnV0dG9uOm5vdChbZGlzYWJsZWRdKSxzZWxlY3Q6bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSksICcgK1xuICAgICAgICAnaWZyYW1lLCBvYmplY3QsIGVtYmVkLCAqW3RhYmluZGV4XSwgKltjb250ZW50ZWRpdGFibGU9dHJ1ZV0nO1xuXG4gICAgICBmdW5jdGlvbiBiYWNrZHJvcEluZGV4KCkge1xuICAgICAgICB2YXIgdG9wQmFja2Ryb3BJbmRleCA9IC0xO1xuICAgICAgICB2YXIgb3BlbmVkID0gb3BlbmVkV2luZG93cy5rZXlzKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BlbmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKG9wZW5lZFdpbmRvd3MuZ2V0KG9wZW5lZFtpXSkudmFsdWUuYmFja2Ryb3ApIHtcbiAgICAgICAgICAgIHRvcEJhY2tkcm9wSW5kZXggPSBpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9wQmFja2Ryb3BJbmRleDtcbiAgICAgIH1cblxuICAgICAgJHJvb3RTY29wZS4kd2F0Y2goYmFja2Ryb3BJbmRleCwgZnVuY3Rpb24obmV3QmFja2Ryb3BJbmRleCkge1xuICAgICAgICBpZiAoYmFja2Ryb3BTY29wZSkge1xuICAgICAgICAgIGJhY2tkcm9wU2NvcGUuaW5kZXggPSBuZXdCYWNrZHJvcEluZGV4O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlTW9kYWxXaW5kb3cobW9kYWxJbnN0YW5jZSwgZWxlbWVudFRvUmVjZWl2ZUZvY3VzKSB7XG4gICAgICAgIHZhciBib2R5ID0gJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5lcSgwKTtcbiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSkudmFsdWU7XG5cbiAgICAgICAgLy9jbGVhbiB1cCB0aGUgc3RhY2tcbiAgICAgICAgb3BlbmVkV2luZG93cy5yZW1vdmUobW9kYWxJbnN0YW5jZSk7XG5cbiAgICAgICAgcmVtb3ZlQWZ0ZXJBbmltYXRlKG1vZGFsV2luZG93Lm1vZGFsRG9tRWwsIG1vZGFsV2luZG93Lm1vZGFsU2NvcGUsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBtb2RhbEJvZHlDbGFzcyA9IG1vZGFsV2luZG93Lm9wZW5lZENsYXNzIHx8IE9QRU5FRF9NT0RBTF9DTEFTUztcbiAgICAgICAgICBvcGVuZWRDbGFzc2VzLnJlbW92ZShtb2RhbEJvZHlDbGFzcywgbW9kYWxJbnN0YW5jZSk7XG4gICAgICAgICAgYm9keS50b2dnbGVDbGFzcyhtb2RhbEJvZHlDbGFzcywgb3BlbmVkQ2xhc3Nlcy5oYXNLZXkobW9kYWxCb2R5Q2xhc3MpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNoZWNrUmVtb3ZlQmFja2Ryb3AoKTtcblxuICAgICAgICAvL21vdmUgZm9jdXMgdG8gc3BlY2lmaWVkIGVsZW1lbnQgaWYgYXZhaWxhYmxlLCBvciBlbHNlIHRvIGJvZHlcbiAgICAgICAgaWYgKGVsZW1lbnRUb1JlY2VpdmVGb2N1cyAmJiBlbGVtZW50VG9SZWNlaXZlRm9jdXMuZm9jdXMpIHtcbiAgICAgICAgICBlbGVtZW50VG9SZWNlaXZlRm9jdXMuZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBib2R5LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2hlY2tSZW1vdmVCYWNrZHJvcCgpIHtcbiAgICAgICAgICAvL3JlbW92ZSBiYWNrZHJvcCBpZiBubyBsb25nZXIgbmVlZGVkXG4gICAgICAgICAgaWYgKGJhY2tkcm9wRG9tRWwgJiYgYmFja2Ryb3BJbmRleCgpID09IC0xKSB7XG4gICAgICAgICAgICB2YXIgYmFja2Ryb3BTY29wZVJlZiA9IGJhY2tkcm9wU2NvcGU7XG4gICAgICAgICAgICByZW1vdmVBZnRlckFuaW1hdGUoYmFja2Ryb3BEb21FbCwgYmFja2Ryb3BTY29wZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGJhY2tkcm9wU2NvcGVSZWYgPSBudWxsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBiYWNrZHJvcERvbUVsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgYmFja2Ryb3BTY29wZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZUFmdGVyQW5pbWF0ZShkb21FbCwgc2NvcGUsIGRvbmUpIHtcbiAgICAgICAgdmFyIGFzeW5jRGVmZXJyZWQ7XG4gICAgICAgIHZhciBhc3luY1Byb21pc2UgPSBudWxsO1xuICAgICAgICB2YXIgc2V0SXNBc3luYyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICghYXN5bmNEZWZlcnJlZCkge1xuICAgICAgICAgICAgYXN5bmNEZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICBhc3luY1Byb21pc2UgPSBhc3luY0RlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGFzeW5jRG9uZSgpIHtcbiAgICAgICAgICAgIGFzeW5jRGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHNjb3BlLiRicm9hZGNhc3QoJG1vZGFsU3RhY2suTk9XX0NMT1NJTkdfRVZFTlQsIHNldElzQXN5bmMpO1xuXG4gICAgICAgIC8vIE5vdGUgdGhhdCBpdCdzIGludGVudGlvbmFsIHRoYXQgYXN5bmNQcm9taXNlIG1pZ2h0IGJlIG51bGwuXG4gICAgICAgIC8vIFRoYXQncyB3aGVuIHNldElzQXN5bmMgaGFzIG5vdCBiZWVuIGNhbGxlZCBkdXJpbmcgdGhlXG4gICAgICAgIC8vIE5PV19DTE9TSU5HX0VWRU5UIGJyb2FkY2FzdC5cbiAgICAgICAgcmV0dXJuICRxLndoZW4oYXN5bmNQcm9taXNlKS50aGVuKGFmdGVyQW5pbWF0aW5nKTtcblxuICAgICAgICBmdW5jdGlvbiBhZnRlckFuaW1hdGluZygpIHtcbiAgICAgICAgICBpZiAoYWZ0ZXJBbmltYXRpbmcuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhZnRlckFuaW1hdGluZy5kb25lID0gdHJ1ZTtcblxuICAgICAgICAgIGlmICgkYW5pbWF0ZUNzcykge1xuICAgICAgICAgICAgJGFuaW1hdGVDc3MoZG9tRWwsIHtcbiAgICAgICAgICAgICAgZXZlbnQ6ICdsZWF2ZSdcbiAgICAgICAgICAgIH0pLnN0YXJ0KCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgZG9tRWwucmVtb3ZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJGFuaW1hdGUubGVhdmUoZG9tRWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzY29wZS4kZGVzdHJveSgpO1xuICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICRkb2N1bWVudC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGlmIChldnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICByZXR1cm4gZXZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1vZGFsID0gb3BlbmVkV2luZG93cy50b3AoKTtcbiAgICAgICAgaWYgKG1vZGFsICYmIG1vZGFsLnZhbHVlLmtleWJvYXJkKSB7XG4gICAgICAgICAgc3dpdGNoIChldnQud2hpY2gpe1xuICAgICAgICAgICAgY2FzZSAyNzoge1xuICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJG1vZGFsU3RhY2suZGlzbWlzcyhtb2RhbC5rZXksICdlc2NhcGUga2V5IHByZXNzJyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgOToge1xuICAgICAgICAgICAgICAkbW9kYWxTdGFjay5sb2FkRm9jdXNFbGVtZW50TGlzdChtb2RhbCk7XG4gICAgICAgICAgICAgIHZhciBmb2N1c0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgaWYgKGV2dC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIGlmICgkbW9kYWxTdGFjay5pc0ZvY3VzSW5GaXJzdEl0ZW0oZXZ0KSkge1xuICAgICAgICAgICAgICAgICAgZm9jdXNDaGFuZ2VkID0gJG1vZGFsU3RhY2suZm9jdXNMYXN0Rm9jdXNhYmxlRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoJG1vZGFsU3RhY2suaXNGb2N1c0luTGFzdEl0ZW0oZXZ0KSkge1xuICAgICAgICAgICAgICAgICAgZm9jdXNDaGFuZ2VkID0gJG1vZGFsU3RhY2suZm9jdXNGaXJzdEZvY3VzYWJsZUVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoZm9jdXNDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgICRtb2RhbFN0YWNrLm9wZW4gPSBmdW5jdGlvbihtb2RhbEluc3RhbmNlLCBtb2RhbCkge1xuICAgICAgICB2YXIgbW9kYWxPcGVuZXIgPSAkZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCxcbiAgICAgICAgICBtb2RhbEJvZHlDbGFzcyA9IG1vZGFsLm9wZW5lZENsYXNzIHx8IE9QRU5FRF9NT0RBTF9DTEFTUztcblxuICAgICAgICBvcGVuZWRXaW5kb3dzLmFkZChtb2RhbEluc3RhbmNlLCB7XG4gICAgICAgICAgZGVmZXJyZWQ6IG1vZGFsLmRlZmVycmVkLFxuICAgICAgICAgIHJlbmRlckRlZmVycmVkOiBtb2RhbC5yZW5kZXJEZWZlcnJlZCxcbiAgICAgICAgICBtb2RhbFNjb3BlOiBtb2RhbC5zY29wZSxcbiAgICAgICAgICBiYWNrZHJvcDogbW9kYWwuYmFja2Ryb3AsXG4gICAgICAgICAga2V5Ym9hcmQ6IG1vZGFsLmtleWJvYXJkLFxuICAgICAgICAgIG9wZW5lZENsYXNzOiBtb2RhbC5vcGVuZWRDbGFzc1xuICAgICAgICB9KTtcblxuICAgICAgICBvcGVuZWRDbGFzc2VzLnB1dChtb2RhbEJvZHlDbGFzcywgbW9kYWxJbnN0YW5jZSk7XG5cbiAgICAgICAgdmFyIGJvZHkgPSAkZG9jdW1lbnQuZmluZCgnYm9keScpLmVxKDApLFxuICAgICAgICAgICAgY3VyckJhY2tkcm9wSW5kZXggPSBiYWNrZHJvcEluZGV4KCk7XG5cbiAgICAgICAgaWYgKGN1cnJCYWNrZHJvcEluZGV4ID49IDAgJiYgIWJhY2tkcm9wRG9tRWwpIHtcbiAgICAgICAgICBiYWNrZHJvcFNjb3BlID0gJHJvb3RTY29wZS4kbmV3KHRydWUpO1xuICAgICAgICAgIGJhY2tkcm9wU2NvcGUuaW5kZXggPSBjdXJyQmFja2Ryb3BJbmRleDtcbiAgICAgICAgICB2YXIgYW5ndWxhckJhY2tncm91bmREb21FbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBtb2RhbC1iYWNrZHJvcD1cIm1vZGFsLWJhY2tkcm9wXCI+PC9kaXY+Jyk7XG4gICAgICAgICAgYW5ndWxhckJhY2tncm91bmREb21FbC5hdHRyKCdiYWNrZHJvcC1jbGFzcycsIG1vZGFsLmJhY2tkcm9wQ2xhc3MpO1xuICAgICAgICAgIGlmIChtb2RhbC5hbmltYXRpb24pIHtcbiAgICAgICAgICAgIGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwuYXR0cignbW9kYWwtYW5pbWF0aW9uJywgJ3RydWUnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYmFja2Ryb3BEb21FbCA9ICRjb21waWxlKGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwpKGJhY2tkcm9wU2NvcGUpO1xuICAgICAgICAgIGJvZHkuYXBwZW5kKGJhY2tkcm9wRG9tRWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFuZ3VsYXJEb21FbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBtb2RhbC13aW5kb3c9XCJtb2RhbC13aW5kb3dcIj48L2Rpdj4nKTtcbiAgICAgICAgYW5ndWxhckRvbUVsLmF0dHIoe1xuICAgICAgICAgICd0ZW1wbGF0ZS11cmwnOiBtb2RhbC53aW5kb3dUZW1wbGF0ZVVybCxcbiAgICAgICAgICAnd2luZG93LWNsYXNzJzogbW9kYWwud2luZG93Q2xhc3MsXG4gICAgICAgICAgJ3NpemUnOiBtb2RhbC5zaXplLFxuICAgICAgICAgICdpbmRleCc6IG9wZW5lZFdpbmRvd3MubGVuZ3RoKCkgLSAxLFxuICAgICAgICAgICdhbmltYXRlJzogJ2FuaW1hdGUnXG4gICAgICAgIH0pLmh0bWwobW9kYWwuY29udGVudCk7XG4gICAgICAgIGlmIChtb2RhbC5hbmltYXRpb24pIHtcbiAgICAgICAgICBhbmd1bGFyRG9tRWwuYXR0cignbW9kYWwtYW5pbWF0aW9uJywgJ3RydWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtb2RhbERvbUVsID0gJGNvbXBpbGUoYW5ndWxhckRvbUVsKShtb2RhbC5zY29wZSk7XG4gICAgICAgIG9wZW5lZFdpbmRvd3MudG9wKCkudmFsdWUubW9kYWxEb21FbCA9IG1vZGFsRG9tRWw7XG4gICAgICAgIG9wZW5lZFdpbmRvd3MudG9wKCkudmFsdWUubW9kYWxPcGVuZXIgPSBtb2RhbE9wZW5lcjtcbiAgICAgICAgYm9keS5hcHBlbmQobW9kYWxEb21FbCk7XG4gICAgICAgIGJvZHkuYWRkQ2xhc3MobW9kYWxCb2R5Q2xhc3MpO1xuXG4gICAgICAgICRtb2RhbFN0YWNrLmNsZWFyRm9jdXNMaXN0Q2FjaGUoKTtcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIGJyb2FkY2FzdENsb3NpbmcobW9kYWxXaW5kb3csIHJlc3VsdE9yUmVhc29uLCBjbG9zaW5nKSB7XG4gICAgICAgICAgcmV0dXJuICFtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbFNjb3BlLiRicm9hZGNhc3QoJ21vZGFsLmNsb3NpbmcnLCByZXN1bHRPclJlYXNvbiwgY2xvc2luZykuZGVmYXVsdFByZXZlbnRlZDtcbiAgICAgIH1cblxuICAgICAgJG1vZGFsU3RhY2suY2xvc2UgPSBmdW5jdGlvbihtb2RhbEluc3RhbmNlLCByZXN1bHQpIHtcbiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSk7XG4gICAgICAgIGlmIChtb2RhbFdpbmRvdyAmJiBicm9hZGNhc3RDbG9zaW5nKG1vZGFsV2luZG93LCByZXN1bHQsIHRydWUpKSB7XG4gICAgICAgICAgbW9kYWxXaW5kb3cudmFsdWUubW9kYWxTY29wZS4kJHVpYkRlc3RydWN0aW9uU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgICBtb2RhbFdpbmRvdy52YWx1ZS5kZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgcmVtb3ZlTW9kYWxXaW5kb3cobW9kYWxJbnN0YW5jZSwgbW9kYWxXaW5kb3cudmFsdWUubW9kYWxPcGVuZXIpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhbW9kYWxXaW5kb3c7XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5kaXNtaXNzID0gZnVuY3Rpb24obW9kYWxJbnN0YW5jZSwgcmVhc29uKSB7XG4gICAgICAgIHZhciBtb2RhbFdpbmRvdyA9IG9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpO1xuICAgICAgICBpZiAobW9kYWxXaW5kb3cgJiYgYnJvYWRjYXN0Q2xvc2luZyhtb2RhbFdpbmRvdywgcmVhc29uLCBmYWxzZSkpIHtcbiAgICAgICAgICBtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbFNjb3BlLiQkdWliRGVzdHJ1Y3Rpb25TY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgIG1vZGFsV2luZG93LnZhbHVlLmRlZmVycmVkLnJlamVjdChyZWFzb24pO1xuICAgICAgICAgIHJlbW92ZU1vZGFsV2luZG93KG1vZGFsSW5zdGFuY2UsIG1vZGFsV2luZG93LnZhbHVlLm1vZGFsT3BlbmVyKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIW1vZGFsV2luZG93O1xuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2suZGlzbWlzc0FsbCA9IGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICB2YXIgdG9wTW9kYWwgPSB0aGlzLmdldFRvcCgpO1xuICAgICAgICB3aGlsZSAodG9wTW9kYWwgJiYgdGhpcy5kaXNtaXNzKHRvcE1vZGFsLmtleSwgcmVhc29uKSkge1xuICAgICAgICAgIHRvcE1vZGFsID0gdGhpcy5nZXRUb3AoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2suZ2V0VG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBvcGVuZWRXaW5kb3dzLnRvcCgpO1xuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2subW9kYWxSZW5kZXJlZCA9IGZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UpIHtcbiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSk7XG4gICAgICAgIGlmIChtb2RhbFdpbmRvdykge1xuICAgICAgICAgIG1vZGFsV2luZG93LnZhbHVlLnJlbmRlckRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2suZm9jdXNGaXJzdEZvY3VzYWJsZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGZvY3VzYWJsZUVsZW1lbnRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmb2N1c2FibGVFbGVtZW50TGlzdFswXS5mb2N1cygpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG4gICAgICAkbW9kYWxTdGFjay5mb2N1c0xhc3RGb2N1c2FibGVFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChmb2N1c2FibGVFbGVtZW50TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZm9jdXNhYmxlRWxlbWVudExpc3RbZm9jdXNhYmxlRWxlbWVudExpc3QubGVuZ3RoIC0gMV0uZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5pc0ZvY3VzSW5GaXJzdEl0ZW0gPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgaWYgKGZvY3VzYWJsZUVsZW1lbnRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gKGV2dC50YXJnZXQgfHwgZXZ0LnNyY0VsZW1lbnQpID09IGZvY3VzYWJsZUVsZW1lbnRMaXN0WzBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmlzRm9jdXNJbkxhc3RJdGVtID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGlmIChmb2N1c2FibGVFbGVtZW50TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIChldnQudGFyZ2V0IHx8IGV2dC5zcmNFbGVtZW50KSA9PSBmb2N1c2FibGVFbGVtZW50TGlzdFtmb2N1c2FibGVFbGVtZW50TGlzdC5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5jbGVhckZvY3VzTGlzdENhY2hlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvY3VzYWJsZUVsZW1lbnRMaXN0ID0gW107XG4gICAgICAgIGZvY3VzSW5kZXggPSAwO1xuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2subG9hZEZvY3VzRWxlbWVudExpc3QgPSBmdW5jdGlvbihtb2RhbFdpbmRvdykge1xuICAgICAgICBpZiAoZm9jdXNhYmxlRWxlbWVudExpc3QgPT09IHVuZGVmaW5lZCB8fCAhZm9jdXNhYmxlRWxlbWVudExpc3QubGVuZ3RoMCkge1xuICAgICAgICAgIGlmIChtb2RhbFdpbmRvdykge1xuICAgICAgICAgICAgdmFyIG1vZGFsRG9tRTEgPSBtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbERvbUVsO1xuICAgICAgICAgICAgaWYgKG1vZGFsRG9tRTEgJiYgbW9kYWxEb21FMS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgZm9jdXNhYmxlRWxlbWVudExpc3QgPSBtb2RhbERvbUUxWzBdLnF1ZXJ5U2VsZWN0b3JBbGwodGFiYWJibGVTZWxlY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gJG1vZGFsU3RhY2s7XG4gICAgfV0pXG5cbiAgLnByb3ZpZGVyKCckbW9kYWwnLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgJG1vZGFsUHJvdmlkZXIgPSB7XG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgICAgYmFja2Ryb3A6IHRydWUsIC8vY2FuIGFsc28gYmUgZmFsc2Ugb3IgJ3N0YXRpYydcbiAgICAgICAga2V5Ym9hcmQ6IHRydWVcbiAgICAgIH0sXG4gICAgICAkZ2V0OiBbJyRpbmplY3RvcicsICckcm9vdFNjb3BlJywgJyRxJywgJyR0ZW1wbGF0ZVJlcXVlc3QnLCAnJGNvbnRyb2xsZXInLCAnJG1vZGFsU3RhY2snLFxuICAgICAgICBmdW5jdGlvbiAoJGluamVjdG9yLCAkcm9vdFNjb3BlLCAkcSwgJHRlbXBsYXRlUmVxdWVzdCwgJGNvbnRyb2xsZXIsICRtb2RhbFN0YWNrKSB7XG4gICAgICAgICAgdmFyICRtb2RhbCA9IHt9O1xuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0VGVtcGxhdGVQcm9taXNlKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnRlbXBsYXRlID8gJHEud2hlbihvcHRpb25zLnRlbXBsYXRlKSA6XG4gICAgICAgICAgICAgICR0ZW1wbGF0ZVJlcXVlc3QoYW5ndWxhci5pc0Z1bmN0aW9uKG9wdGlvbnMudGVtcGxhdGVVcmwpID8gKG9wdGlvbnMudGVtcGxhdGVVcmwpKCkgOiBvcHRpb25zLnRlbXBsYXRlVXJsKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBnZXRSZXNvbHZlUHJvbWlzZXMocmVzb2x2ZXMpIHtcbiAgICAgICAgICAgIHZhciBwcm9taXNlc0FyciA9IFtdO1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHJlc29sdmVzLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHZhbHVlKSB8fCBhbmd1bGFyLmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZXNBcnIucHVzaCgkcS53aGVuKCRpbmplY3Rvci5pbnZva2UodmFsdWUpKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlc0Fyci5wdXNoKCRxLndoZW4oJGluamVjdG9yLmdldCh2YWx1ZSkpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlc0Fyci5wdXNoKCRxLndoZW4odmFsdWUpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZXNBcnI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHByb21pc2VDaGFpbiA9IG51bGw7XG4gICAgICAgICAgJG1vZGFsLmdldFByb21pc2VDaGFpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VDaGFpbjtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJG1vZGFsLm9wZW4gPSBmdW5jdGlvbiAobW9kYWxPcHRpb25zKSB7XG5cbiAgICAgICAgICAgIHZhciBtb2RhbFJlc3VsdERlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIHZhciBtb2RhbE9wZW5lZERlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIHZhciBtb2RhbFJlbmRlckRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgLy9wcmVwYXJlIGFuIGluc3RhbmNlIG9mIGEgbW9kYWwgdG8gYmUgaW5qZWN0ZWQgaW50byBjb250cm9sbGVycyBhbmQgcmV0dXJuZWQgdG8gYSBjYWxsZXJcbiAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0ge1xuICAgICAgICAgICAgICByZXN1bHQ6IG1vZGFsUmVzdWx0RGVmZXJyZWQucHJvbWlzZSxcbiAgICAgICAgICAgICAgb3BlbmVkOiBtb2RhbE9wZW5lZERlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgICAgIHJlbmRlcmVkOiBtb2RhbFJlbmRlckRlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRtb2RhbFN0YWNrLmNsb3NlKG1vZGFsSW5zdGFuY2UsIHJlc3VsdCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGRpc21pc3M6IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJG1vZGFsU3RhY2suZGlzbWlzcyhtb2RhbEluc3RhbmNlLCByZWFzb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvL21lcmdlIGFuZCBjbGVhbiB1cCBvcHRpb25zXG4gICAgICAgICAgICBtb2RhbE9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgJG1vZGFsUHJvdmlkZXIub3B0aW9ucywgbW9kYWxPcHRpb25zKTtcbiAgICAgICAgICAgIG1vZGFsT3B0aW9ucy5yZXNvbHZlID0gbW9kYWxPcHRpb25zLnJlc29sdmUgfHwge307XG5cbiAgICAgICAgICAgIC8vdmVyaWZ5IG9wdGlvbnNcbiAgICAgICAgICAgIGlmICghbW9kYWxPcHRpb25zLnRlbXBsYXRlICYmICFtb2RhbE9wdGlvbnMudGVtcGxhdGVVcmwpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmUgb2YgdGVtcGxhdGUgb3IgdGVtcGxhdGVVcmwgb3B0aW9ucyBpcyByZXF1aXJlZC4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2UgPVxuICAgICAgICAgICAgICAkcS5hbGwoW2dldFRlbXBsYXRlUHJvbWlzZShtb2RhbE9wdGlvbnMpXS5jb25jYXQoZ2V0UmVzb2x2ZVByb21pc2VzKG1vZGFsT3B0aW9ucy5yZXNvbHZlKSkpO1xuXG4gICAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgZXhpc3RpbmcgcHJvbWlzZSBjaGFpbi5cbiAgICAgICAgICAgIC8vIFRoZW4gc3dpdGNoIHRvIG91ciBvd24gY29tYmluZWQgcHJvbWlzZSBkZXBlbmRlbmN5IChyZWdhcmRsZXNzIG9mIGhvdyB0aGUgcHJldmlvdXMgbW9kYWwgZmFyZWQpLlxuICAgICAgICAgICAgLy8gVGhlbiBhZGQgdG8gJG1vZGFsU3RhY2sgYW5kIHJlc29sdmUgb3BlbmVkLlxuICAgICAgICAgICAgLy8gRmluYWxseSBjbGVhbiB1cCB0aGUgY2hhaW4gdmFyaWFibGUgaWYgbm8gc3Vic2VxdWVudCBtb2RhbCBoYXMgb3ZlcndyaXR0ZW4gaXQuXG4gICAgICAgICAgICB2YXIgc2FtZVByb21pc2U7XG4gICAgICAgICAgICBzYW1lUHJvbWlzZSA9IHByb21pc2VDaGFpbiA9ICRxLmFsbChbcHJvbWlzZUNoYWluXSlcbiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7IHJldHVybiB0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlOyB9LCBmdW5jdGlvbigpIHsgcmV0dXJuIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2U7IH0pXG4gICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIHJlc29sdmVTdWNjZXNzKHRwbEFuZFZhcnMpIHtcblxuICAgICAgICAgICAgICAgIHZhciBtb2RhbFNjb3BlID0gKG1vZGFsT3B0aW9ucy5zY29wZSB8fCAkcm9vdFNjb3BlKS4kbmV3KCk7XG4gICAgICAgICAgICAgICAgbW9kYWxTY29wZS4kY2xvc2UgPSBtb2RhbEluc3RhbmNlLmNsb3NlO1xuICAgICAgICAgICAgICAgIG1vZGFsU2NvcGUuJGRpc21pc3MgPSBtb2RhbEluc3RhbmNlLmRpc21pc3M7XG5cbiAgICAgICAgICAgICAgICBtb2RhbFNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGlmICghbW9kYWxTY29wZS4kJHVpYkRlc3RydWN0aW9uU2NoZWR1bGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsU2NvcGUuJGRpc21pc3MoJyR1aWJVbnNjaGVkdWxlZERlc3RydWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgY3RybEluc3RhbmNlLCBjdHJsTG9jYWxzID0ge307XG4gICAgICAgICAgICAgICAgdmFyIHJlc29sdmVJdGVyID0gMTtcblxuICAgICAgICAgICAgICAgIC8vY29udHJvbGxlcnNcbiAgICAgICAgICAgICAgICBpZiAobW9kYWxPcHRpb25zLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgIGN0cmxMb2NhbHMuJHNjb3BlID0gbW9kYWxTY29wZTtcbiAgICAgICAgICAgICAgICAgIGN0cmxMb2NhbHMuJG1vZGFsSW5zdGFuY2UgPSBtb2RhbEluc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKG1vZGFsT3B0aW9ucy5yZXNvbHZlLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGN0cmxMb2NhbHNba2V5XSA9IHRwbEFuZFZhcnNbcmVzb2x2ZUl0ZXIrK107XG4gICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgY3RybEluc3RhbmNlID0gJGNvbnRyb2xsZXIobW9kYWxPcHRpb25zLmNvbnRyb2xsZXIsIGN0cmxMb2NhbHMpO1xuICAgICAgICAgICAgICAgICAgaWYgKG1vZGFsT3B0aW9ucy5jb250cm9sbGVyQXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGFsT3B0aW9ucy5iaW5kVG9Db250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoY3RybEluc3RhbmNlLCBtb2RhbFNjb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsU2NvcGVbbW9kYWxPcHRpb25zLmNvbnRyb2xsZXJBc10gPSBjdHJsSW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJG1vZGFsU3RhY2sub3Blbihtb2RhbEluc3RhbmNlLCB7XG4gICAgICAgICAgICAgICAgICBzY29wZTogbW9kYWxTY29wZSxcbiAgICAgICAgICAgICAgICAgIGRlZmVycmVkOiBtb2RhbFJlc3VsdERlZmVycmVkLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyRGVmZXJyZWQ6IG1vZGFsUmVuZGVyRGVmZXJyZWQsXG4gICAgICAgICAgICAgICAgICBjb250ZW50OiB0cGxBbmRWYXJzWzBdLFxuICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBtb2RhbE9wdGlvbnMuYW5pbWF0aW9uLFxuICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6IG1vZGFsT3B0aW9ucy5iYWNrZHJvcCxcbiAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBtb2RhbE9wdGlvbnMua2V5Ym9hcmQsXG4gICAgICAgICAgICAgICAgICBiYWNrZHJvcENsYXNzOiBtb2RhbE9wdGlvbnMuYmFja2Ryb3BDbGFzcyxcbiAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiBtb2RhbE9wdGlvbnMud2luZG93Q2xhc3MsXG4gICAgICAgICAgICAgICAgICB3aW5kb3dUZW1wbGF0ZVVybDogbW9kYWxPcHRpb25zLndpbmRvd1RlbXBsYXRlVXJsLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogbW9kYWxPcHRpb25zLnNpemUsXG4gICAgICAgICAgICAgICAgICBvcGVuZWRDbGFzczogbW9kYWxPcHRpb25zLm9wZW5lZENsYXNzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbW9kYWxPcGVuZWREZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiByZXNvbHZlRXJyb3IocmVhc29uKSB7XG4gICAgICAgICAgICAgIG1vZGFsT3BlbmVkRGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XG4gICAgICAgICAgICAgIG1vZGFsUmVzdWx0RGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmIChwcm9taXNlQ2hhaW4gPT09IHNhbWVQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZUNoYWluID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBtb2RhbEluc3RhbmNlO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICByZXR1cm4gJG1vZGFsO1xuICAgICAgICB9XVxuICAgIH07XG5cbiAgICByZXR1cm4gJG1vZGFsUHJvdmlkZXI7XG4gIH0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnBhZ2luYXRpb24nLCBbXSlcbi5jb250cm9sbGVyKCdQYWdpbmF0aW9uQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgJHBhcnNlKSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIG5nTW9kZWxDdHJsID0geyAkc2V0Vmlld1ZhbHVlOiBhbmd1bGFyLm5vb3AgfSwgLy8gbnVsbE1vZGVsQ3RybFxuICAgICAgc2V0TnVtUGFnZXMgPSAkYXR0cnMubnVtUGFnZXMgPyAkcGFyc2UoJGF0dHJzLm51bVBhZ2VzKS5hc3NpZ24gOiBhbmd1bGFyLm5vb3A7XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24obmdNb2RlbEN0cmxfLCBjb25maWcpIHtcbiAgICBuZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsXztcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcblxuICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYucmVuZGVyKCk7XG4gICAgfTtcblxuICAgIGlmICgkYXR0cnMuaXRlbXNQZXJQYWdlKSB7XG4gICAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5pdGVtc1BlclBhZ2UpLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBzZWxmLml0ZW1zUGVyUGFnZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICRzY29wZS50b3RhbFBhZ2VzID0gc2VsZi5jYWxjdWxhdGVUb3RhbFBhZ2VzKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pdGVtc1BlclBhZ2UgPSBjb25maWcuaXRlbXNQZXJQYWdlO1xuICAgIH1cblxuICAgICRzY29wZS4kd2F0Y2goJ3RvdGFsSXRlbXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS50b3RhbFBhZ2VzID0gc2VsZi5jYWxjdWxhdGVUb3RhbFBhZ2VzKCk7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUuJHdhdGNoKCd0b3RhbFBhZ2VzJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHNldE51bVBhZ2VzKCRzY29wZS4kcGFyZW50LCB2YWx1ZSk7IC8vIFJlYWRvbmx5IHZhcmlhYmxlXG5cbiAgICAgIGlmICggJHNjb3BlLnBhZ2UgPiB2YWx1ZSApIHtcbiAgICAgICAgJHNjb3BlLnNlbGVjdFBhZ2UodmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuY2FsY3VsYXRlVG90YWxQYWdlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0b3RhbFBhZ2VzID0gdGhpcy5pdGVtc1BlclBhZ2UgPCAxID8gMSA6IE1hdGguY2VpbCgkc2NvcGUudG90YWxJdGVtcyAvIHRoaXMuaXRlbXNQZXJQYWdlKTtcbiAgICByZXR1cm4gTWF0aC5tYXgodG90YWxQYWdlcyB8fCAwLCAxKTtcbiAgfTtcblxuICB0aGlzLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5wYWdlID0gcGFyc2VJbnQobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSwgMTApIHx8IDE7XG4gIH07XG5cbiAgJHNjb3BlLnNlbGVjdFBhZ2UgPSBmdW5jdGlvbihwYWdlLCBldnQpIHtcbiAgICBpZiAoZXZ0KSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICB2YXIgY2xpY2tBbGxvd2VkID0gISRzY29wZS5uZ0Rpc2FibGVkIHx8ICFldnQ7XG4gICAgaWYgKGNsaWNrQWxsb3dlZCAmJiAkc2NvcGUucGFnZSAhPT0gcGFnZSAmJiBwYWdlID4gMCAmJiBwYWdlIDw9ICRzY29wZS50b3RhbFBhZ2VzKSB7XG4gICAgICBpZiAoZXZ0ICYmIGV2dC50YXJnZXQpIHtcbiAgICAgICAgZXZ0LnRhcmdldC5ibHVyKCk7XG4gICAgICB9XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHBhZ2UpO1xuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiAkc2NvcGVba2V5ICsgJ1RleHQnXSB8fCBzZWxmLmNvbmZpZ1trZXkgKyAnVGV4dCddO1xuICB9O1xuXG4gICRzY29wZS5ub1ByZXZpb3VzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICRzY29wZS5wYWdlID09PSAxO1xuICB9O1xuXG4gICRzY29wZS5ub05leHQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJHNjb3BlLnBhZ2UgPT09ICRzY29wZS50b3RhbFBhZ2VzO1xuICB9O1xufV0pXG5cbi5jb25zdGFudCgncGFnaW5hdGlvbkNvbmZpZycsIHtcbiAgaXRlbXNQZXJQYWdlOiAxMCxcbiAgYm91bmRhcnlMaW5rczogZmFsc2UsXG4gIGRpcmVjdGlvbkxpbmtzOiB0cnVlLFxuICBmaXJzdFRleHQ6ICdGaXJzdCcsXG4gIHByZXZpb3VzVGV4dDogJ1ByZXZpb3VzJyxcbiAgbmV4dFRleHQ6ICdOZXh0JyxcbiAgbGFzdFRleHQ6ICdMYXN0JyxcbiAgcm90YXRlOiB0cnVlXG59KVxuXG4uZGlyZWN0aXZlKCdwYWdpbmF0aW9uJywgWyckcGFyc2UnLCAncGFnaW5hdGlvbkNvbmZpZycsIGZ1bmN0aW9uKCRwYXJzZSwgcGFnaW5hdGlvbkNvbmZpZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHNjb3BlOiB7XG4gICAgICB0b3RhbEl0ZW1zOiAnPScsXG4gICAgICBmaXJzdFRleHQ6ICdAJyxcbiAgICAgIHByZXZpb3VzVGV4dDogJ0AnLFxuICAgICAgbmV4dFRleHQ6ICdAJyxcbiAgICAgIGxhc3RUZXh0OiAnQCcsXG4gICAgICBuZ0Rpc2FibGVkOic9J1xuICAgIH0sXG4gICAgcmVxdWlyZTogWydwYWdpbmF0aW9uJywgJz9uZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ1BhZ2luYXRpb25Db250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdwYWdpbmF0aW9uJyxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWwnO1xuICAgIH0sXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgcGFnaW5hdGlvbkN0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgaWYgKCFuZ01vZGVsQ3RybCkge1xuICAgICAgICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nIGlmIG5vIG5nLW1vZGVsXG4gICAgICB9XG5cbiAgICAgIC8vIFNldHVwIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVyc1xuICAgICAgdmFyIG1heFNpemUgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5tYXhTaXplKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMubWF4U2l6ZSkgOiBwYWdpbmF0aW9uQ29uZmlnLm1heFNpemUsXG4gICAgICAgICAgcm90YXRlID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMucm90YXRlKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMucm90YXRlKSA6IHBhZ2luYXRpb25Db25maWcucm90YXRlO1xuICAgICAgc2NvcGUuYm91bmRhcnlMaW5rcyA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmJvdW5kYXJ5TGlua3MpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5ib3VuZGFyeUxpbmtzKSA6IHBhZ2luYXRpb25Db25maWcuYm91bmRhcnlMaW5rcztcbiAgICAgIHNjb3BlLmRpcmVjdGlvbkxpbmtzID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuZGlyZWN0aW9uTGlua3MpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5kaXJlY3Rpb25MaW5rcykgOiBwYWdpbmF0aW9uQ29uZmlnLmRpcmVjdGlvbkxpbmtzO1xuXG4gICAgICBwYWdpbmF0aW9uQ3RybC5pbml0KG5nTW9kZWxDdHJsLCBwYWdpbmF0aW9uQ29uZmlnKTtcblxuICAgICAgaWYgKGF0dHJzLm1heFNpemUpIHtcbiAgICAgICAgc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKGF0dHJzLm1heFNpemUpLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIG1heFNpemUgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICAgIHBhZ2luYXRpb25DdHJsLnJlbmRlcigpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIHBhZ2Ugb2JqZWN0IHVzZWQgaW4gdGVtcGxhdGVcbiAgICAgIGZ1bmN0aW9uIG1ha2VQYWdlKG51bWJlciwgdGV4dCwgaXNBY3RpdmUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBudW1iZXI6IG51bWJlcixcbiAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgIGFjdGl2ZTogaXNBY3RpdmVcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0UGFnZXMoY3VycmVudFBhZ2UsIHRvdGFsUGFnZXMpIHtcbiAgICAgICAgdmFyIHBhZ2VzID0gW107XG5cbiAgICAgICAgLy8gRGVmYXVsdCBwYWdlIGxpbWl0c1xuICAgICAgICB2YXIgc3RhcnRQYWdlID0gMSwgZW5kUGFnZSA9IHRvdGFsUGFnZXM7XG4gICAgICAgIHZhciBpc01heFNpemVkID0gYW5ndWxhci5pc0RlZmluZWQobWF4U2l6ZSkgJiYgbWF4U2l6ZSA8IHRvdGFsUGFnZXM7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlIGlmIG1heFNpemVcbiAgICAgICAgaWYgKGlzTWF4U2l6ZWQpIHtcbiAgICAgICAgICBpZiAocm90YXRlKSB7XG4gICAgICAgICAgICAvLyBDdXJyZW50IHBhZ2UgaXMgZGlzcGxheWVkIGluIHRoZSBtaWRkbGUgb2YgdGhlIHZpc2libGUgb25lc1xuICAgICAgICAgICAgc3RhcnRQYWdlID0gTWF0aC5tYXgoY3VycmVudFBhZ2UgLSBNYXRoLmZsb29yKG1heFNpemUvMiksIDEpO1xuICAgICAgICAgICAgZW5kUGFnZSAgID0gc3RhcnRQYWdlICsgbWF4U2l6ZSAtIDE7XG5cbiAgICAgICAgICAgIC8vIEFkanVzdCBpZiBsaW1pdCBpcyBleGNlZWRlZFxuICAgICAgICAgICAgaWYgKGVuZFBhZ2UgPiB0b3RhbFBhZ2VzKSB7XG4gICAgICAgICAgICAgIGVuZFBhZ2UgICA9IHRvdGFsUGFnZXM7XG4gICAgICAgICAgICAgIHN0YXJ0UGFnZSA9IGVuZFBhZ2UgLSBtYXhTaXplICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVmlzaWJsZSBwYWdlcyBhcmUgcGFnaW5hdGVkIHdpdGggbWF4U2l6ZVxuICAgICAgICAgICAgc3RhcnRQYWdlID0gKChNYXRoLmNlaWwoY3VycmVudFBhZ2UgLyBtYXhTaXplKSAtIDEpICogbWF4U2l6ZSkgKyAxO1xuXG4gICAgICAgICAgICAvLyBBZGp1c3QgbGFzdCBwYWdlIGlmIGxpbWl0IGlzIGV4Y2VlZGVkXG4gICAgICAgICAgICBlbmRQYWdlID0gTWF0aC5taW4oc3RhcnRQYWdlICsgbWF4U2l6ZSAtIDEsIHRvdGFsUGFnZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBwYWdlIG51bWJlciBsaW5rc1xuICAgICAgICBmb3IgKHZhciBudW1iZXIgPSBzdGFydFBhZ2U7IG51bWJlciA8PSBlbmRQYWdlOyBudW1iZXIrKykge1xuICAgICAgICAgIHZhciBwYWdlID0gbWFrZVBhZ2UobnVtYmVyLCBudW1iZXIsIG51bWJlciA9PT0gY3VycmVudFBhZ2UpO1xuICAgICAgICAgIHBhZ2VzLnB1c2gocGFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgbGlua3MgdG8gbW92ZSBiZXR3ZWVuIHBhZ2Ugc2V0c1xuICAgICAgICBpZiAoaXNNYXhTaXplZCAmJiAhIHJvdGF0ZSkge1xuICAgICAgICAgIGlmIChzdGFydFBhZ2UgPiAxKSB7XG4gICAgICAgICAgICB2YXIgcHJldmlvdXNQYWdlU2V0ID0gbWFrZVBhZ2Uoc3RhcnRQYWdlIC0gMSwgJy4uLicsIGZhbHNlKTtcbiAgICAgICAgICAgIHBhZ2VzLnVuc2hpZnQocHJldmlvdXNQYWdlU2V0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZW5kUGFnZSA8IHRvdGFsUGFnZXMpIHtcbiAgICAgICAgICAgIHZhciBuZXh0UGFnZVNldCA9IG1ha2VQYWdlKGVuZFBhZ2UgKyAxLCAnLi4uJywgZmFsc2UpO1xuICAgICAgICAgICAgcGFnZXMucHVzaChuZXh0UGFnZVNldCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhZ2VzO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3JpZ2luYWxSZW5kZXIgPSBwYWdpbmF0aW9uQ3RybC5yZW5kZXI7XG4gICAgICBwYWdpbmF0aW9uQ3RybC5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgb3JpZ2luYWxSZW5kZXIoKTtcbiAgICAgICAgaWYgKHNjb3BlLnBhZ2UgPiAwICYmIHNjb3BlLnBhZ2UgPD0gc2NvcGUudG90YWxQYWdlcykge1xuICAgICAgICAgIHNjb3BlLnBhZ2VzID0gZ2V0UGFnZXMoc2NvcGUucGFnZSwgc2NvcGUudG90YWxQYWdlcyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufV0pXG5cbi5jb25zdGFudCgncGFnZXJDb25maWcnLCB7XG4gIGl0ZW1zUGVyUGFnZTogMTAsXG4gIHByZXZpb3VzVGV4dDogJ8KrIFByZXZpb3VzJyxcbiAgbmV4dFRleHQ6ICdOZXh0IMK7JyxcbiAgYWxpZ246IHRydWVcbn0pXG5cbi5kaXJlY3RpdmUoJ3BhZ2VyJywgWydwYWdlckNvbmZpZycsIGZ1bmN0aW9uKHBhZ2VyQ29uZmlnKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgc2NvcGU6IHtcbiAgICAgIHRvdGFsSXRlbXM6ICc9JyxcbiAgICAgIHByZXZpb3VzVGV4dDogJ0AnLFxuICAgICAgbmV4dFRleHQ6ICdAJyxcbiAgICAgIG5nRGlzYWJsZWQ6ICc9J1xuICAgIH0sXG4gICAgcmVxdWlyZTogWydwYWdlcicsICc/bmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6ICdQYWdpbmF0aW9uQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAncGFnaW5hdGlvbicsXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbCc7XG4gICAgfSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBwYWdpbmF0aW9uQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBpZiAoIW5nTW9kZWxDdHJsKSB7XG4gICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcbiAgICAgIH1cblxuICAgICAgc2NvcGUuYWxpZ24gPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5hbGlnbikgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmFsaWduKSA6IHBhZ2VyQ29uZmlnLmFsaWduO1xuICAgICAgcGFnaW5hdGlvbkN0cmwuaW5pdChuZ01vZGVsQ3RybCwgcGFnZXJDb25maWcpO1xuICAgIH1cbiAgfTtcbn1dKTtcblxuLyoqXG4gKiBUaGUgZm9sbG93aW5nIGZlYXR1cmVzIGFyZSBzdGlsbCBvdXRzdGFuZGluZzogYW5pbWF0aW9uIGFzIGFcbiAqIGZ1bmN0aW9uLCBwbGFjZW1lbnQgYXMgYSBmdW5jdGlvbiwgaW5zaWRlLCBzdXBwb3J0IGZvciBtb3JlIHRyaWdnZXJzIHRoYW5cbiAqIGp1c3QgbW91c2UgZW50ZXIvbGVhdmUsIGh0bWwgdG9vbHRpcHMsIGFuZCBzZWxlY3RvciBkZWxlZ2F0aW9uLlxuICovXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnRvb2x0aXAnLCBbJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbicsICd1aS5ib290c3RyYXAuYmluZEh0bWwnXSlcblxuLyoqXG4gKiBUaGUgJHRvb2x0aXAgc2VydmljZSBjcmVhdGVzIHRvb2x0aXAtIGFuZCBwb3BvdmVyLWxpa2UgZGlyZWN0aXZlcyBhcyB3ZWxsIGFzXG4gKiBob3VzZXMgZ2xvYmFsIG9wdGlvbnMgZm9yIHRoZW0uXG4gKi9cbi5wcm92aWRlcignJHRvb2x0aXAnLCBmdW5jdGlvbigpIHtcbiAgLy8gVGhlIGRlZmF1bHQgb3B0aW9ucyB0b29sdGlwIGFuZCBwb3BvdmVyLlxuICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgcGxhY2VtZW50OiAndG9wJyxcbiAgICBhbmltYXRpb246IHRydWUsXG4gICAgcG9wdXBEZWxheTogMCxcbiAgICB1c2VDb250ZW50RXhwOiBmYWxzZVxuICB9O1xuXG4gIC8vIERlZmF1bHQgaGlkZSB0cmlnZ2VycyBmb3IgZWFjaCBzaG93IHRyaWdnZXJcbiAgdmFyIHRyaWdnZXJNYXAgPSB7XG4gICAgJ21vdXNlZW50ZXInOiAnbW91c2VsZWF2ZScsXG4gICAgJ2NsaWNrJzogJ2NsaWNrJyxcbiAgICAnZm9jdXMnOiAnYmx1cicsXG4gICAgJ25vbmUnOiAnJ1xuICB9O1xuXG4gIC8vIFRoZSBvcHRpb25zIHNwZWNpZmllZCB0byB0aGUgcHJvdmlkZXIgZ2xvYmFsbHkuXG4gIHZhciBnbG9iYWxPcHRpb25zID0ge307XG5cbiAgLyoqXG4gICAqIGBvcHRpb25zKHt9KWAgYWxsb3dzIGdsb2JhbCBjb25maWd1cmF0aW9uIG9mIGFsbCB0b29sdGlwcyBpbiB0aGVcbiAgICogYXBwbGljYXRpb24uXG4gICAqXG4gICAqICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCAnQXBwJywgWyd1aS5ib290c3RyYXAudG9vbHRpcCddLCBmdW5jdGlvbiggJHRvb2x0aXBQcm92aWRlciApIHtcbiAgICogICAgIC8vIHBsYWNlIHRvb2x0aXBzIGxlZnQgaW5zdGVhZCBvZiB0b3AgYnkgZGVmYXVsdFxuICAgKiAgICAgJHRvb2x0aXBQcm92aWRlci5vcHRpb25zKCB7IHBsYWNlbWVudDogJ2xlZnQnIH0gKTtcbiAgICogICB9KTtcbiAgICovXG5cdHRoaXMub3B0aW9ucyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0YW5ndWxhci5leHRlbmQoZ2xvYmFsT3B0aW9ucywgdmFsdWUpO1xuXHR9O1xuXG4gIC8qKlxuICAgKiBUaGlzIGFsbG93cyB5b3UgdG8gZXh0ZW5kIHRoZSBzZXQgb2YgdHJpZ2dlciBtYXBwaW5ncyBhdmFpbGFibGUuIEUuZy46XG4gICAqXG4gICAqICAgJHRvb2x0aXBQcm92aWRlci5zZXRUcmlnZ2VycyggJ29wZW5UcmlnZ2VyJzogJ2Nsb3NlVHJpZ2dlcicgKTtcbiAgICovXG4gIHRoaXMuc2V0VHJpZ2dlcnMgPSBmdW5jdGlvbiBzZXRUcmlnZ2Vycyh0cmlnZ2Vycykge1xuICAgIGFuZ3VsYXIuZXh0ZW5kKHRyaWdnZXJNYXAsIHRyaWdnZXJzKTtcbiAgfTtcblxuICAvKipcbiAgICogVGhpcyBpcyBhIGhlbHBlciBmdW5jdGlvbiBmb3IgdHJhbnNsYXRpbmcgY2FtZWwtY2FzZSB0byBzbmFrZS1jYXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gc25ha2VfY2FzZShuYW1lKSB7XG4gICAgdmFyIHJlZ2V4cCA9IC9bQS1aXS9nO1xuICAgIHZhciBzZXBhcmF0b3IgPSAnLSc7XG4gICAgcmV0dXJuIG5hbWUucmVwbGFjZShyZWdleHAsIGZ1bmN0aW9uKGxldHRlciwgcG9zKSB7XG4gICAgICByZXR1cm4gKHBvcyA/IHNlcGFyYXRvciA6ICcnKSArIGxldHRlci50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGFjdHVhbCBpbnN0YW5jZSBvZiB0aGUgJHRvb2x0aXAgc2VydmljZS5cbiAgICogVE9ETyBzdXBwb3J0IG11bHRpcGxlIHRyaWdnZXJzXG4gICAqL1xuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJGNvbXBpbGUnLCAnJHRpbWVvdXQnLCAnJGRvY3VtZW50JywgJyRwb3NpdGlvbicsICckaW50ZXJwb2xhdGUnLCAnJHJvb3RTY29wZScsICckcGFyc2UnLCBmdW5jdGlvbigkd2luZG93LCAkY29tcGlsZSwgJHRpbWVvdXQsICRkb2N1bWVudCwgJHBvc2l0aW9uLCAkaW50ZXJwb2xhdGUsICRyb290U2NvcGUsICRwYXJzZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAkdG9vbHRpcCh0eXBlLCBwcmVmaXgsIGRlZmF1bHRUcmlnZ2VyU2hvdywgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucywgZ2xvYmFsT3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyBhbiBvYmplY3Qgb2Ygc2hvdyBhbmQgaGlkZSB0cmlnZ2Vycy5cbiAgICAgICAqXG4gICAgICAgKiBJZiBhIHRyaWdnZXIgaXMgc3VwcGxpZWQsXG4gICAgICAgKiBpdCBpcyB1c2VkIHRvIHNob3cgdGhlIHRvb2x0aXA7IG90aGVyd2lzZSwgaXQgd2lsbCB1c2UgdGhlIGB0cmlnZ2VyYFxuICAgICAgICogb3B0aW9uIHBhc3NlZCB0byB0aGUgYCR0b29sdGlwUHJvdmlkZXIub3B0aW9uc2AgbWV0aG9kOyBlbHNlIGl0IHdpbGxcbiAgICAgICAqIGRlZmF1bHQgdG8gdGhlIHRyaWdnZXIgc3VwcGxpZWQgdG8gdGhpcyBkaXJlY3RpdmUgZmFjdG9yeS5cbiAgICAgICAqXG4gICAgICAgKiBUaGUgaGlkZSB0cmlnZ2VyIGlzIGJhc2VkIG9uIHRoZSBzaG93IHRyaWdnZXIuIElmIHRoZSBgdHJpZ2dlcmAgb3B0aW9uXG4gICAgICAgKiB3YXMgcGFzc2VkIHRvIHRoZSBgJHRvb2x0aXBQcm92aWRlci5vcHRpb25zYCBtZXRob2QsIGl0IHdpbGwgdXNlIHRoZVxuICAgICAgICogbWFwcGVkIHRyaWdnZXIgZnJvbSBgdHJpZ2dlck1hcGAgb3IgdGhlIHBhc3NlZCB0cmlnZ2VyIGlmIHRoZSBtYXAgaXNcbiAgICAgICAqIHVuZGVmaW5lZDsgb3RoZXJ3aXNlLCBpdCB1c2VzIHRoZSBgdHJpZ2dlck1hcGAgdmFsdWUgb2YgdGhlIHNob3dcbiAgICAgICAqIHRyaWdnZXI7IGVsc2UgaXQgd2lsbCBqdXN0IHVzZSB0aGUgc2hvdyB0cmlnZ2VyLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBnZXRUcmlnZ2Vycyh0cmlnZ2VyKSB7XG4gICAgICAgIHZhciBzaG93ID0gKHRyaWdnZXIgfHwgb3B0aW9ucy50cmlnZ2VyIHx8IGRlZmF1bHRUcmlnZ2VyU2hvdykuc3BsaXQoJyAnKTtcbiAgICAgICAgdmFyIGhpZGUgPSBzaG93Lm1hcChmdW5jdGlvbih0cmlnZ2VyKSB7XG4gICAgICAgICAgcmV0dXJuIHRyaWdnZXJNYXBbdHJpZ2dlcl0gfHwgdHJpZ2dlcjtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2hvdzogc2hvdyxcbiAgICAgICAgICBoaWRlOiBoaWRlXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHZhciBkaXJlY3RpdmVOYW1lID0gc25ha2VfY2FzZSh0eXBlKTtcblxuICAgICAgdmFyIHN0YXJ0U3ltID0gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCk7XG4gICAgICB2YXIgZW5kU3ltID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpO1xuICAgICAgdmFyIHRlbXBsYXRlID1cbiAgICAgICAgJzxkaXYgJysgZGlyZWN0aXZlTmFtZSArJy1wb3B1cCAnK1xuICAgICAgICAgICd0aXRsZT1cIicrc3RhcnRTeW0rJ3RpdGxlJytlbmRTeW0rJ1wiICcrXG4gICAgICAgICAgKG9wdGlvbnMudXNlQ29udGVudEV4cCA/XG4gICAgICAgICAgICAnY29udGVudC1leHA9XCJjb250ZW50RXhwKClcIiAnIDpcbiAgICAgICAgICAgICdjb250ZW50PVwiJytzdGFydFN5bSsnY29udGVudCcrZW5kU3ltKydcIiAnKSArXG4gICAgICAgICAgJ3BsYWNlbWVudD1cIicrc3RhcnRTeW0rJ3BsYWNlbWVudCcrZW5kU3ltKydcIiAnK1xuICAgICAgICAgICdwb3B1cC1jbGFzcz1cIicrc3RhcnRTeW0rJ3BvcHVwQ2xhc3MnK2VuZFN5bSsnXCIgJytcbiAgICAgICAgICAnYW5pbWF0aW9uPVwiYW5pbWF0aW9uXCIgJytcbiAgICAgICAgICAnaXMtb3Blbj1cImlzT3BlblwiJytcbiAgICAgICAgICAnb3JpZ2luLXNjb3BlPVwib3JpZ1Njb3BlXCIgJytcbiAgICAgICAgICAnPicrXG4gICAgICAgICc8L2Rpdj4nO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24odEVsZW0sIHRBdHRycykge1xuICAgICAgICAgIHZhciB0b29sdGlwTGlua2VyID0gJGNvbXBpbGUoIHRlbXBsYXRlICk7XG5cbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIHRvb2x0aXBDdHJsKSB7XG4gICAgICAgICAgICB2YXIgdG9vbHRpcDtcbiAgICAgICAgICAgIHZhciB0b29sdGlwTGlua2VkU2NvcGU7XG4gICAgICAgICAgICB2YXIgdHJhbnNpdGlvblRpbWVvdXQ7XG4gICAgICAgICAgICB2YXIgcG9wdXBUaW1lb3V0O1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uVGltZW91dDtcbiAgICAgICAgICAgIHZhciBhcHBlbmRUb0JvZHkgPSBhbmd1bGFyLmlzRGVmaW5lZChvcHRpb25zLmFwcGVuZFRvQm9keSkgPyBvcHRpb25zLmFwcGVuZFRvQm9keSA6IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHRyaWdnZXJzID0gZ2V0VHJpZ2dlcnModW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHZhciBoYXNFbmFibGVFeHAgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRyc1twcmVmaXggKyAnRW5hYmxlJ10pO1xuICAgICAgICAgICAgdmFyIHR0U2NvcGUgPSBzY29wZS4kbmV3KHRydWUpO1xuICAgICAgICAgICAgdmFyIHJlcG9zaXRpb25TY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBpc09wZW5FeHAgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRyc1twcmVmaXggKyAnSXNPcGVuJ10pID8gJHBhcnNlKGF0dHJzW3ByZWZpeCArICdJc09wZW4nXSkgOiBmYWxzZTtcblxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uVG9vbHRpcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoIXRvb2x0aXApIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgICAgaWYgKCFwb3NpdGlvblRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblRpbWVvdXQgPSAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBwb3NpdGlvbmluZyBhbmQgYm94IHNpemUgZm9yIGNvcnJlY3Qgd2lkdGggYW5kIGhlaWdodCB2YWx1ZXMuXG4gICAgICAgICAgICAgICAgICB0b29sdGlwLmNzcyh7IHRvcDogMCwgbGVmdDogMCwgd2lkdGg6ICdhdXRvJywgaGVpZ2h0OiAnYXV0bycgfSk7XG5cbiAgICAgICAgICAgICAgICAgIHZhciB0dEJveCA9ICRwb3NpdGlvbi5wb3NpdGlvbih0b29sdGlwKTtcbiAgICAgICAgICAgICAgICAgIHZhciB0dENzcyA9ICRwb3NpdGlvbi5wb3NpdGlvbkVsZW1lbnRzKGVsZW1lbnQsIHRvb2x0aXAsIHR0U2NvcGUucGxhY2VtZW50LCBhcHBlbmRUb0JvZHkpO1xuICAgICAgICAgICAgICAgICAgdHRDc3MudG9wICs9ICdweCc7XG4gICAgICAgICAgICAgICAgICB0dENzcy5sZWZ0ICs9ICdweCc7XG5cbiAgICAgICAgICAgICAgICAgIHR0Q3NzLndpZHRoID0gdHRCb3gud2lkdGggKyAncHgnO1xuICAgICAgICAgICAgICAgICAgdHRDc3MuaGVpZ2h0ID0gdHRCb3guaGVpZ2h0ICsgJ3B4JztcblxuICAgICAgICAgICAgICAgICAgLy8gTm93IHNldCB0aGUgY2FsY3VsYXRlZCBwb3NpdGlvbmluZyBhbmQgc2l6ZS5cbiAgICAgICAgICAgICAgICAgIHRvb2x0aXAuY3NzKHR0Q3NzKTtcblxuICAgICAgICAgICAgICAgICAgcG9zaXRpb25UaW1lb3V0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIH0sIDAsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gU2V0IHVwIHRoZSBjb3JyZWN0IHNjb3BlIHRvIGFsbG93IHRyYW5zY2x1c2lvbiBsYXRlclxuICAgICAgICAgICAgdHRTY29wZS5vcmlnU2NvcGUgPSBzY29wZTtcblxuICAgICAgICAgICAgLy8gQnkgZGVmYXVsdCwgdGhlIHRvb2x0aXAgaXMgbm90IG9wZW4uXG4gICAgICAgICAgICAvLyBUT0RPIGFkZCBhYmlsaXR5IHRvIHN0YXJ0IHRvb2x0aXAgb3BlbmVkXG4gICAgICAgICAgICB0dFNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiB0b2dnbGVUb29sdGlwQmluZCgpIHtcbiAgICAgICAgICAgICAgaWYgKCF0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgIHNob3dUb29sdGlwQmluZCgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhpZGVUb29sdGlwQmluZCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNob3cgdGhlIHRvb2x0aXAgd2l0aCBkZWxheSBpZiBzcGVjaWZpZWQsIG90aGVyd2lzZSBzaG93IGl0IGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBmdW5jdGlvbiBzaG93VG9vbHRpcEJpbmQoKSB7XG4gICAgICAgICAgICAgIGlmIChoYXNFbmFibGVFeHAgJiYgIXNjb3BlLiRldmFsKGF0dHJzW3ByZWZpeCArICdFbmFibGUnXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBwcmVwYXJlVG9vbHRpcCgpO1xuXG4gICAgICAgICAgICAgIGlmICh0dFNjb3BlLnBvcHVwRGVsYXkpIHtcbiAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nIGlmIHRoZSB0b29sdGlwIHdhcyBhbHJlYWR5IHNjaGVkdWxlZCB0byBwb3AtdXAuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBoYXBwZW5zIGlmIHNob3cgaXMgdHJpZ2dlcmVkIG11bHRpcGxlIHRpbWVzIGJlZm9yZSBhbnkgaGlkZSBpcyB0cmlnZ2VyZWQuXG4gICAgICAgICAgICAgICAgaWYgKCFwb3B1cFRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgIHBvcHVwVGltZW91dCA9ICR0aW1lb3V0KHNob3csIHR0U2NvcGUucG9wdXBEZWxheSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaG93KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gaGlkZVRvb2x0aXBCaW5kICgpIHtcbiAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNob3cgdGhlIHRvb2x0aXAgcG9wdXAgZWxlbWVudC5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICAgICAgICAgIHBvcHVwVGltZW91dCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBwZW5kaW5nIHJlbW92ZSB0cmFuc2l0aW9uLCB3ZSBtdXN0IGNhbmNlbCBpdCwgbGVzdCB0aGVcbiAgICAgICAgICAgICAgLy8gdG9vbHRpcCBiZSBteXN0ZXJpb3VzbHkgcmVtb3ZlZC5cbiAgICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25UaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRyYW5zaXRpb25UaW1lb3V0KTtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBEb24ndCBzaG93IGVtcHR5IHRvb2x0aXBzLlxuICAgICAgICAgICAgICBpZiAoIShvcHRpb25zLnVzZUNvbnRlbnRFeHAgPyB0dFNjb3BlLmNvbnRlbnRFeHAoKSA6IHR0U2NvcGUuY29udGVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci5ub29wO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY3JlYXRlVG9vbHRpcCgpO1xuXG4gICAgICAgICAgICAgIC8vIEFuZCBzaG93IHRoZSB0b29sdGlwLlxuICAgICAgICAgICAgICB0dFNjb3BlLmlzT3BlbiA9IHRydWU7XG4gICAgICAgICAgICAgIGlmIChpc09wZW5FeHApIHtcbiAgICAgICAgICAgICAgICBpc09wZW5FeHAuYXNzaWduKHR0U2NvcGUub3JpZ1Njb3BlLCB0dFNjb3BlLmlzT3Blbik7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICAgIHR0U2NvcGUuJGFwcGx5KCk7IC8vIGRpZ2VzdCByZXF1aXJlZCBhcyAkYXBwbHkgaXMgbm90IGNhbGxlZFxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdG9vbHRpcC5jc3MoeyBkaXNwbGF5OiAnYmxvY2snIH0pO1xuXG4gICAgICAgICAgICAgIHBvc2l0aW9uVG9vbHRpcCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBIaWRlIHRoZSB0b29sdGlwIHBvcHVwIGVsZW1lbnQuXG4gICAgICAgICAgICBmdW5jdGlvbiBoaWRlKCkge1xuICAgICAgICAgICAgICAvLyBGaXJzdCB0aGluZ3MgZmlyc3Q6IHdlIGRvbid0IHNob3cgaXQgYW55bW9yZS5cbiAgICAgICAgICAgICAgdHRTY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgaWYgKGlzT3BlbkV4cCkge1xuICAgICAgICAgICAgICAgIGlzT3BlbkV4cC5hc3NpZ24odHRTY29wZS5vcmlnU2NvcGUsIHR0U2NvcGUuaXNPcGVuKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vaWYgdG9vbHRpcCBpcyBnb2luZyB0byBiZSBzaG93biBhZnRlciBkZWxheSwgd2UgbXVzdCBjYW5jZWwgdGhpc1xuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwocG9wdXBUaW1lb3V0KTtcbiAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwocG9zaXRpb25UaW1lb3V0KTtcbiAgICAgICAgICAgICAgcG9zaXRpb25UaW1lb3V0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAvLyBBbmQgbm93IHdlIHJlbW92ZSBpdCBmcm9tIHRoZSBET00uIEhvd2V2ZXIsIGlmIHdlIGhhdmUgYW5pbWF0aW9uLCB3ZVxuICAgICAgICAgICAgICAvLyBuZWVkIHRvIHdhaXQgZm9yIGl0IHRvIGV4cGlyZSBiZWZvcmVoYW5kLlxuICAgICAgICAgICAgICAvLyBGSVhNRTogdGhpcyBpcyBhIHBsYWNlaG9sZGVyIGZvciBhIHBvcnQgb2YgdGhlIHRyYW5zaXRpb25zIGxpYnJhcnkuXG4gICAgICAgICAgICAgIGlmICh0dFNjb3BlLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgIGlmICghdHJhbnNpdGlvblRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gJHRpbWVvdXQocmVtb3ZlVG9vbHRpcCwgNTAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRvb2x0aXAoKSB7XG4gICAgICAgICAgICAgIC8vIFRoZXJlIGNhbiBvbmx5IGJlIG9uZSB0b29sdGlwIGVsZW1lbnQgcGVyIGRpcmVjdGl2ZSBzaG93biBhdCBvbmNlLlxuICAgICAgICAgICAgICBpZiAodG9vbHRpcCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZVRvb2x0aXAoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUgPSB0dFNjb3BlLiRuZXcoKTtcbiAgICAgICAgICAgICAgdG9vbHRpcCA9IHRvb2x0aXBMaW5rZXIodG9vbHRpcExpbmtlZFNjb3BlLCBmdW5jdGlvbih0b29sdGlwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5hcHBlbmQodG9vbHRpcCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWZ0ZXIodG9vbHRpcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBpZiAob3B0aW9ucy51c2VDb250ZW50RXhwKSB7XG4gICAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlLiR3YXRjaCgnY29udGVudEV4cCgpJywgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIXZhbCAmJiB0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgaWYgKCFyZXBvc2l0aW9uU2NoZWR1bGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcG9zaXRpb25TY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJlcG9zaXRpb25TY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uVG9vbHRpcCgpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVUb29sdGlwKCkge1xuICAgICAgICAgICAgICB0cmFuc2l0aW9uVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgIGlmICh0b29sdGlwKSB7XG4gICAgICAgICAgICAgICAgdG9vbHRpcC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB0b29sdGlwID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAodG9vbHRpcExpbmtlZFNjb3BlKSB7XG4gICAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVwYXJlVG9vbHRpcCgpIHtcbiAgICAgICAgICAgICAgcHJlcFBvcHVwQ2xhc3MoKTtcbiAgICAgICAgICAgICAgcHJlcFBsYWNlbWVudCgpO1xuICAgICAgICAgICAgICBwcmVwUG9wdXBEZWxheSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0dFNjb3BlLmNvbnRlbnRFeHAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiRldmFsKGF0dHJzW3R5cGVdKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogT2JzZXJ2ZSB0aGUgcmVsZXZhbnQgYXR0cmlidXRlcy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLnVzZUNvbnRlbnRFeHApIHtcbiAgICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUodHlwZSwgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgICAgdHRTY29wZS5jb250ZW50ID0gdmFsO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF2YWwgJiYgdHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUoJ2Rpc2FibGVkJywgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgIGlmIChwb3B1cFRpbWVvdXQgJiYgdmFsKSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHBvcHVwVGltZW91dCk7XG4gICAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICh2YWwgJiYgdHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZShwcmVmaXggKyAnVGl0bGUnLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgdHRTY29wZS50aXRsZSA9IHZhbDtcbiAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUocHJlZml4ICsgJ1BsYWNlbWVudCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAodHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICBwcmVwUGxhY2VtZW50KCk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoaXNPcGVuRXhwKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChpc09wZW5FeHAsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICAgIGlmICh2YWwgIT09IHR0U2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgICB0b2dnbGVUb29sdGlwQmluZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBQb3B1cENsYXNzKCkge1xuICAgICAgICAgICAgICB0dFNjb3BlLnBvcHVwQ2xhc3MgPSBhdHRyc1twcmVmaXggKyAnQ2xhc3MnXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcHJlcFBsYWNlbWVudCgpIHtcbiAgICAgICAgICAgICAgdmFyIHZhbCA9IGF0dHJzW3ByZWZpeCArICdQbGFjZW1lbnQnXTtcbiAgICAgICAgICAgICAgdHRTY29wZS5wbGFjZW1lbnQgPSBhbmd1bGFyLmlzRGVmaW5lZCh2YWwpID8gdmFsIDogb3B0aW9ucy5wbGFjZW1lbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBQb3B1cERlbGF5KCkge1xuICAgICAgICAgICAgICB2YXIgdmFsID0gYXR0cnNbcHJlZml4ICsgJ1BvcHVwRGVsYXknXTtcbiAgICAgICAgICAgICAgdmFyIGRlbGF5ID0gcGFyc2VJbnQodmFsLCAxMCk7XG4gICAgICAgICAgICAgIHR0U2NvcGUucG9wdXBEZWxheSA9ICFpc05hTihkZWxheSkgPyBkZWxheSA6IG9wdGlvbnMucG9wdXBEZWxheTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHVucmVnaXN0ZXJUcmlnZ2VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB0cmlnZ2Vycy5zaG93LmZvckVhY2goZnVuY3Rpb24odHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQudW5iaW5kKHRyaWdnZXIsIHNob3dUb29sdGlwQmluZCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB0cmlnZ2Vycy5oaWRlLmZvckVhY2goZnVuY3Rpb24odHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQudW5iaW5kKHRyaWdnZXIsIGhpZGVUb29sdGlwQmluZCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gcHJlcFRyaWdnZXJzKCkge1xuICAgICAgICAgICAgICB2YXIgdmFsID0gYXR0cnNbcHJlZml4ICsgJ1RyaWdnZXInXTtcbiAgICAgICAgICAgICAgdW5yZWdpc3RlclRyaWdnZXJzKCk7XG5cbiAgICAgICAgICAgICAgdHJpZ2dlcnMgPSBnZXRUcmlnZ2Vycyh2YWwpO1xuXG4gICAgICAgICAgICAgIGlmICh0cmlnZ2Vycy5zaG93ICE9PSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICB0cmlnZ2Vycy5zaG93LmZvckVhY2goZnVuY3Rpb24odHJpZ2dlciwgaWR4KSB7XG4gICAgICAgICAgICAgICAgICAvLyBVc2luZyByYXcgYWRkRXZlbnRMaXN0ZW5lciBkdWUgdG8ganFMaXRlL2pRdWVyeSBidWcgLSAjNDA2MFxuICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIgPT09IHRyaWdnZXJzLmhpZGVbaWR4XSkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXIodHJpZ2dlciwgdG9nZ2xlVG9vbHRpcEJpbmQpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbMF0uYWRkRXZlbnRMaXN0ZW5lcih0cmlnZ2VyLCBzaG93VG9vbHRpcEJpbmQpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXIodHJpZ2dlcnMuaGlkZVtpZHhdLCBoaWRlVG9vbHRpcEJpbmQpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmVwVHJpZ2dlcnMoKTtcblxuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHNjb3BlLiRldmFsKGF0dHJzW3ByZWZpeCArICdBbmltYXRpb24nXSk7XG4gICAgICAgICAgICB0dFNjb3BlLmFuaW1hdGlvbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKGFuaW1hdGlvbikgPyAhIWFuaW1hdGlvbiA6IG9wdGlvbnMuYW5pbWF0aW9uO1xuXG4gICAgICAgICAgICB2YXIgYXBwZW5kVG9Cb2R5VmFsID0gc2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4ICsgJ0FwcGVuZFRvQm9keSddKTtcbiAgICAgICAgICAgIGFwcGVuZFRvQm9keSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGFwcGVuZFRvQm9keVZhbCkgPyBhcHBlbmRUb0JvZHlWYWwgOiBhcHBlbmRUb0JvZHk7XG5cbiAgICAgICAgICAgIC8vIGlmIGEgdG9vbHRpcCBpcyBhdHRhY2hlZCB0byA8Ym9keT4gd2UgbmVlZCB0byByZW1vdmUgaXQgb25cbiAgICAgICAgICAgIC8vIGxvY2F0aW9uIGNoYW5nZSBhcyBpdHMgcGFyZW50IHNjb3BlIHdpbGwgcHJvYmFibHkgbm90IGJlIGRlc3Ryb3llZFxuICAgICAgICAgICAgLy8gYnkgdGhlIGNoYW5nZS5cbiAgICAgICAgICAgIGlmIChhcHBlbmRUb0JvZHkpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24gY2xvc2VUb29sdGlwT25Mb2NhdGlvbkNoYW5nZVN1Y2Nlc3MoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR0U2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRvb2x0aXAgaXMgZGVzdHJveWVkIGFuZCByZW1vdmVkLlxuICAgICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIG9uRGVzdHJveVRvb2x0aXAoKSB7XG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0cmFuc2l0aW9uVGltZW91dCk7XG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChwb3B1cFRpbWVvdXQpO1xuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwocG9zaXRpb25UaW1lb3V0KTtcbiAgICAgICAgICAgICAgdW5yZWdpc3RlclRyaWdnZXJzKCk7XG4gICAgICAgICAgICAgIHJlbW92ZVRvb2x0aXAoKTtcbiAgICAgICAgICAgICAgdHRTY29wZSA9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG4gIH1dO1xufSlcblxuLy8gVGhpcyBpcyBtb3N0bHkgbmdJbmNsdWRlIGNvZGUgYnV0IHdpdGggYSBjdXN0b20gc2NvcGVcbi5kaXJlY3RpdmUoJ3Rvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGUnLCBbXG4gICAgICAgICAnJGFuaW1hdGUnLCAnJHNjZScsICckY29tcGlsZScsICckdGVtcGxhdGVSZXF1ZXN0JyxcbmZ1bmN0aW9uICgkYW5pbWF0ZSAsICAkc2NlICwgICRjb21waWxlICwgICR0ZW1wbGF0ZVJlcXVlc3QpIHtcbiAgcmV0dXJuIHtcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMpIHtcbiAgICAgIHZhciBvcmlnU2NvcGUgPSBzY29wZS4kZXZhbChhdHRycy50b29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlU2NvcGUpO1xuXG4gICAgICB2YXIgY2hhbmdlQ291bnRlciA9IDAsXG4gICAgICAgIGN1cnJlbnRTY29wZSxcbiAgICAgICAgcHJldmlvdXNFbGVtZW50LFxuICAgICAgICBjdXJyZW50RWxlbWVudDtcblxuICAgICAgdmFyIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHByZXZpb3VzRWxlbWVudCkge1xuICAgICAgICAgIHByZXZpb3VzRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50U2NvcGUpIHtcbiAgICAgICAgICBjdXJyZW50U2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICBjdXJyZW50U2NvcGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50RWxlbWVudCkge1xuICAgICAgICAgICRhbmltYXRlLmxlYXZlKGN1cnJlbnRFbGVtZW50KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBjdXJyZW50RWxlbWVudDtcbiAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLiR3YXRjaCgkc2NlLnBhcnNlQXNSZXNvdXJjZVVybChhdHRycy50b29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlKSwgZnVuY3Rpb24oc3JjKSB7XG4gICAgICAgIHZhciB0aGlzQ2hhbmdlSWQgPSArK2NoYW5nZUNvdW50ZXI7XG5cbiAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgIC8vc2V0IHRoZSAybmQgcGFyYW0gdG8gdHJ1ZSB0byBpZ25vcmUgdGhlIHRlbXBsYXRlIHJlcXVlc3QgZXJyb3Igc28gdGhhdCB0aGUgaW5uZXJcbiAgICAgICAgICAvL2NvbnRlbnRzIGFuZCBzY29wZSBjYW4gYmUgY2xlYW5lZCB1cC5cbiAgICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0KHNyYywgdHJ1ZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKHRoaXNDaGFuZ2VJZCAhPT0gY2hhbmdlQ291bnRlcikgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHZhciBuZXdTY29wZSA9IG9yaWdTY29wZS4kbmV3KCk7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSByZXNwb25zZTtcblxuICAgICAgICAgICAgdmFyIGNsb25lID0gJGNvbXBpbGUodGVtcGxhdGUpKG5ld1Njb3BlLCBmdW5jdGlvbihjbG9uZSkge1xuICAgICAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XG4gICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCBlbGVtKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjdXJyZW50U2NvcGUgPSBuZXdTY29wZTtcbiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gY2xvbmU7XG5cbiAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50TG9hZGVkJywgc3JjKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzQ2hhbmdlSWQgPT09IGNoYW5nZUNvdW50ZXIpIHtcbiAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICAgICAgICBzY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50RXJyb3InLCBzcmMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRSZXF1ZXN0ZWQnLCBzcmMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KTtcbiAgICB9XG4gIH07XG59XSlcblxuLyoqXG4gKiBOb3RlIHRoYXQgaXQncyBpbnRlbnRpb25hbCB0aGF0IHRoZXNlIGNsYXNzZXMgYXJlICpub3QqIGFwcGxpZWQgdGhyb3VnaCAkYW5pbWF0ZS5cbiAqIFRoZXkgbXVzdCBub3QgYmUgYW5pbWF0ZWQgYXMgdGhleSdyZSBleHBlY3RlZCB0byBiZSBwcmVzZW50IG9uIHRoZSB0b29sdGlwIG9uXG4gKiBpbml0aWFsaXphdGlvbi5cbiAqL1xuLmRpcmVjdGl2ZSgndG9vbHRpcENsYXNzZXMnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgaWYgKHNjb3BlLnBsYWNlbWVudCkge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKHNjb3BlLnBsYWNlbWVudCk7XG4gICAgICB9XG4gICAgICBpZiAoc2NvcGUucG9wdXBDbGFzcykge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKHNjb3BlLnBvcHVwQ2xhc3MpO1xuICAgICAgfVxuICAgICAgaWYgKHNjb3BlLmFuaW1hdGlvbigpKSB7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoYXR0cnMudG9vbHRpcEFuaW1hdGlvbkNsYXNzKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCd0b29sdGlwUG9wdXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IGNvbnRlbnQ6ICdAJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbCdcbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3Rvb2x0aXAnLCBbICckdG9vbHRpcCcsIGZ1bmN0aW9uKCR0b29sdGlwKSB7XG4gIHJldHVybiAkdG9vbHRpcCgndG9vbHRpcCcsICd0b29sdGlwJywgJ21vdXNlZW50ZXInKTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd0b29sdGlwVGVtcGxhdGVQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgY29udGVudEV4cDogJyYnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicsXG4gICAgICBvcmlnaW5TY29wZTogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtdGVtcGxhdGUtcG9wdXAuaHRtbCdcbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBUZW1wbGF0ZScsIFsnJHRvb2x0aXAnLCBmdW5jdGlvbigkdG9vbHRpcCkge1xuICByZXR1cm4gJHRvb2x0aXAoJ3Rvb2x0aXBUZW1wbGF0ZScsICd0b29sdGlwJywgJ21vdXNlZW50ZXInLCB7XG4gICAgdXNlQ29udGVudEV4cDogdHJ1ZVxuICB9KTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd0b29sdGlwSHRtbFBvcHVwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyBjb250ZW50RXhwOiAnJicsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtcG9wdXAuaHRtbCdcbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBIdG1sJywgWyckdG9vbHRpcCcsIGZ1bmN0aW9uKCR0b29sdGlwKSB7XG4gIHJldHVybiAkdG9vbHRpcCgndG9vbHRpcEh0bWwnLCAndG9vbHRpcCcsICdtb3VzZWVudGVyJywge1xuICAgIHVzZUNvbnRlbnRFeHA6IHRydWVcbiAgfSk7XG59XSlcblxuLypcbkRlcHJlY2F0ZWRcbiovXG4uZGlyZWN0aXZlKCd0b29sdGlwSHRtbFVuc2FmZVBvcHVwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyBjb250ZW50OiAnQCcsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWwnXG4gIH07XG59KVxuXG4udmFsdWUoJ3Rvb2x0aXBIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkJywgZmFsc2UpXG4uZGlyZWN0aXZlKCd0b29sdGlwSHRtbFVuc2FmZScsIFtcbiAgICAgICAgICAnJHRvb2x0aXAnLCAndG9vbHRpcEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQnLCAnJGxvZycsXG5mdW5jdGlvbigkdG9vbHRpcCAsICB0b29sdGlwSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCAsICAkbG9nKSB7XG4gIGlmICghdG9vbHRpcEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQpIHtcbiAgICAkbG9nLndhcm4oJ3Rvb2x0aXAtaHRtbC11bnNhZmUgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB0b29sdGlwLWh0bWwgb3IgdG9vbHRpcC10ZW1wbGF0ZSBpbnN0ZWFkLicpO1xuICB9XG4gIHJldHVybiAkdG9vbHRpcCgndG9vbHRpcEh0bWxVbnNhZmUnLCAndG9vbHRpcCcsICdtb3VzZWVudGVyJyk7XG59XSk7XG5cbi8qKlxuICogVGhlIGZvbGxvd2luZyBmZWF0dXJlcyBhcmUgc3RpbGwgb3V0c3RhbmRpbmc6IHBvcHVwIGRlbGF5LCBhbmltYXRpb24gYXMgYVxuICogZnVuY3Rpb24sIHBsYWNlbWVudCBhcyBhIGZ1bmN0aW9uLCBpbnNpZGUsIHN1cHBvcnQgZm9yIG1vcmUgdHJpZ2dlcnMgdGhhblxuICoganVzdCBtb3VzZSBlbnRlci9sZWF2ZSwgYW5kIHNlbGVjdG9yIGRlbGVnYXRhdGlvbi5cbiAqL1xuYW5ndWxhci5tb2R1bGUoICd1aS5ib290c3RyYXAucG9wb3ZlcicsIFsndWkuYm9vdHN0cmFwLnRvb2x0aXAnXSlcblxuLmRpcmVjdGl2ZSgncG9wb3ZlclRlbXBsYXRlUG9wdXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IHRpdGxlOiAnQCcsIGNvbnRlbnRFeHA6ICcmJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnLFxuICAgICAgb3JpZ2luU2NvcGU6ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLXRlbXBsYXRlLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdwb3BvdmVyVGVtcGxhdGUnLCBbJyR0b29sdGlwJywgZnVuY3Rpb24oJHRvb2x0aXApIHtcbiAgcmV0dXJuICR0b29sdGlwKCdwb3BvdmVyVGVtcGxhdGUnLCAncG9wb3ZlcicsICdjbGljaycsIHtcbiAgICB1c2VDb250ZW50RXhwOiB0cnVlXG4gIH0pO1xufV0pXG5cbi5kaXJlY3RpdmUoJ3BvcG92ZXJIdG1sUG9wdXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IGNvbnRlbnRFeHA6ICcmJywgdGl0bGU6ICdAJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItaHRtbC5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgncG9wb3Zlckh0bWwnLCBbJyR0b29sdGlwJywgZnVuY3Rpb24oJHRvb2x0aXApIHtcbiAgcmV0dXJuICR0b29sdGlwKCAncG9wb3Zlckh0bWwnLCAncG9wb3ZlcicsICdjbGljaycsIHtcbiAgICB1c2VDb250ZW50RXhwOiB0cnVlXG4gIH0pO1xufV0pXG5cbi5kaXJlY3RpdmUoJ3BvcG92ZXJQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgdGl0bGU6ICdAJywgY29udGVudDogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgncG9wb3ZlcicsIFsnJHRvb2x0aXAnLCBmdW5jdGlvbigkdG9vbHRpcCkge1xuICByZXR1cm4gJHRvb2x0aXAoICdwb3BvdmVyJywgJ3BvcG92ZXInLCAnY2xpY2snICk7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucHJvZ3Jlc3NiYXInLCBbXSlcblxuLmNvbnN0YW50KCdwcm9ncmVzc0NvbmZpZycsIHtcbiAgYW5pbWF0ZTogdHJ1ZSxcbiAgbWF4OiAxMDBcbn0pXG5cbi52YWx1ZSgnJHByb2dyZXNzU3VwcHJlc3NXYXJuaW5nJywgZmFsc2UpXG5cbi5jb250cm9sbGVyKCdQcm9ncmVzc0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAncHJvZ3Jlc3NDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgcHJvZ3Jlc3NDb25maWcpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgYW5pbWF0ZSA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5hbmltYXRlKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5hbmltYXRlKSA6IHByb2dyZXNzQ29uZmlnLmFuaW1hdGU7XG5cbiAgdGhpcy5iYXJzID0gW107XG4gICRzY29wZS5tYXggPSBhbmd1bGFyLmlzRGVmaW5lZCgkc2NvcGUubWF4KSA/ICRzY29wZS5tYXggOiBwcm9ncmVzc0NvbmZpZy5tYXg7XG5cbiAgdGhpcy5hZGRCYXIgPSBmdW5jdGlvbihiYXIsIGVsZW1lbnQpIHtcbiAgICBpZiAoIWFuaW1hdGUpIHtcbiAgICAgIGVsZW1lbnQuY3NzKHsndHJhbnNpdGlvbic6ICdub25lJ30pO1xuICAgIH1cblxuICAgIHRoaXMuYmFycy5wdXNoKGJhcik7XG5cbiAgICBiYXIubWF4ID0gJHNjb3BlLm1heDtcblxuICAgIGJhci4kd2F0Y2goJ3ZhbHVlJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGJhci5yZWNhbGN1bGF0ZVBlcmNlbnRhZ2UoKTtcbiAgICB9KTtcblxuICAgIGJhci5yZWNhbGN1bGF0ZVBlcmNlbnRhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIGJhci5wZXJjZW50ID0gKygxMDAgKiBiYXIudmFsdWUgLyBiYXIubWF4KS50b0ZpeGVkKDIpO1xuXG4gICAgICB2YXIgdG90YWxQZXJjZW50YWdlID0gc2VsZi5iYXJzLnJlZHVjZShmdW5jdGlvbih0b3RhbCwgYmFyKSB7XG4gICAgICAgIHJldHVybiB0b3RhbCArIGJhci5wZXJjZW50O1xuICAgICAgfSwgMCk7XG5cbiAgICAgIGlmICh0b3RhbFBlcmNlbnRhZ2UgPiAxMDApIHtcbiAgICAgICAgYmFyLnBlcmNlbnQgLT0gdG90YWxQZXJjZW50YWdlIC0gMTAwO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBiYXIuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgZWxlbWVudCA9IG51bGw7XG4gICAgICBzZWxmLnJlbW92ZUJhcihiYXIpO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMucmVtb3ZlQmFyID0gZnVuY3Rpb24oYmFyKSB7XG4gICAgICB0aGlzLmJhcnMuc3BsaWNlKHRoaXMuYmFycy5pbmRleE9mKGJhciksIDEpO1xuICB9O1xuXG4gICRzY29wZS4kd2F0Y2goJ21heCcsIGZ1bmN0aW9uKG1heCkge1xuICAgIHNlbGYuYmFycy5mb3JFYWNoKGZ1bmN0aW9uKGJhcikge1xuICAgICAgYmFyLm1heCA9ICRzY29wZS5tYXg7XG4gICAgICBiYXIucmVjYWxjdWxhdGVQZXJjZW50YWdlKCk7XG4gICAgfSk7XG4gIH0pO1xufV0pXG5cbi5kaXJlY3RpdmUoJ3VpYlByb2dyZXNzJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIGNvbnRyb2xsZXI6ICdQcm9ncmVzc0NvbnRyb2xsZXInLFxuICAgIHJlcXVpcmU6ICd1aWJQcm9ncmVzcycsXG4gICAgc2NvcGU6IHtcbiAgICAgIG1heDogJz0/J1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgncHJvZ3Jlc3MnLCBbJyRsb2cnLCAnJHByb2dyZXNzU3VwcHJlc3NXYXJuaW5nJywgZnVuY3Rpb24oJGxvZywgJHByb2dyZXNzU3VwcHJlc3NXYXJuaW5nKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIGNvbnRyb2xsZXI6ICdQcm9ncmVzc0NvbnRyb2xsZXInLFxuICAgIHJlcXVpcmU6ICdwcm9ncmVzcycsXG4gICAgc2NvcGU6IHtcbiAgICAgIG1heDogJz0/J1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sJyxcbiAgICBsaW5rOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgkcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmcpIHtcbiAgICAgICAgJGxvZy53YXJuKCdwcm9ncmVzcyBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHVpYi1wcm9ncmVzcyBpbnN0ZWFkJyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ3VpYkJhcicsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXF1aXJlOiAnXnVpYlByb2dyZXNzJyxcbiAgICBzY29wZToge1xuICAgICAgdmFsdWU6ICc9JyxcbiAgICAgIHR5cGU6ICdAJ1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwcm9ncmVzc0N0cmwpIHtcbiAgICAgIHByb2dyZXNzQ3RybC5hZGRCYXIoc2NvcGUsIGVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2JhcicsIFsnJGxvZycsICckcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmcnLCBmdW5jdGlvbigkbG9nLCAkcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVxdWlyZTogJ15wcm9ncmVzcycsXG4gICAgc2NvcGU6IHtcbiAgICAgIHZhbHVlOiAnPScsXG4gICAgICB0eXBlOiAnQCdcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgcHJvZ3Jlc3NDdHJsKSB7XG4gICAgICBpZiAoJHByb2dyZXNzU3VwcHJlc3NXYXJuaW5nKSB7XG4gICAgICAgICRsb2cud2FybignYmFyIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLWJhciBpbnN0ZWFkJyk7XG4gICAgICB9XG4gICAgICBwcm9ncmVzc0N0cmwuYWRkQmFyKHNjb3BlLCBlbGVtZW50KTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgncHJvZ3Jlc3NiYXInLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgY29udHJvbGxlcjogJ1Byb2dyZXNzQ29udHJvbGxlcicsXG4gICAgc2NvcGU6IHtcbiAgICAgIHZhbHVlOiAnPScsXG4gICAgICBtYXg6ICc9PycsXG4gICAgICB0eXBlOiAnQCdcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwcm9ncmVzc0N0cmwpIHtcbiAgICAgIHByb2dyZXNzQ3RybC5hZGRCYXIoc2NvcGUsIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50LmNoaWxkcmVuKClbMF0pKTtcbiAgICB9XG4gIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5yYXRpbmcnLCBbXSlcblxuLmNvbnN0YW50KCdyYXRpbmdDb25maWcnLCB7XG4gIG1heDogNSxcbiAgc3RhdGVPbjogbnVsbCxcbiAgc3RhdGVPZmY6IG51bGwsXG4gIHRpdGxlcyA6IFsnb25lJywgJ3R3bycsICd0aHJlZScsICdmb3VyJywgJ2ZpdmUnXVxufSlcblxuLmNvbnRyb2xsZXIoJ1JhdGluZ0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAncmF0aW5nQ29uZmlnJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsIHJhdGluZ0NvbmZpZykge1xuICB2YXIgbmdNb2RlbEN0cmwgID0geyAkc2V0Vmlld1ZhbHVlOiBhbmd1bGFyLm5vb3AgfTtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8pIHtcbiAgICBuZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsXztcbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gdGhpcy5yZW5kZXI7XG5cbiAgICBuZ01vZGVsQ3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgPDwgMCAhPT0gdmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9KTtcblxuICAgIHRoaXMuc3RhdGVPbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5zdGF0ZU9uKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5zdGF0ZU9uKSA6IHJhdGluZ0NvbmZpZy5zdGF0ZU9uO1xuICAgIHRoaXMuc3RhdGVPZmYgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuc3RhdGVPZmYpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnN0YXRlT2ZmKSA6IHJhdGluZ0NvbmZpZy5zdGF0ZU9mZjtcbiAgICB2YXIgdG1wVGl0bGVzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnRpdGxlcykgID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnRpdGxlcykgOiByYXRpbmdDb25maWcudGl0bGVzIDsgICAgXG4gICAgdGhpcy50aXRsZXMgPSBhbmd1bGFyLmlzQXJyYXkodG1wVGl0bGVzKSAmJiB0bXBUaXRsZXMubGVuZ3RoID4gMCA/XG4gICAgICB0bXBUaXRsZXMgOiByYXRpbmdDb25maWcudGl0bGVzO1xuICAgIFxuICAgIHZhciByYXRpbmdTdGF0ZXMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMucmF0aW5nU3RhdGVzKSA/XG4gICAgICAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMucmF0aW5nU3RhdGVzKSA6XG4gICAgICBuZXcgQXJyYXkoYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1heCkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubWF4KSA6IHJhdGluZ0NvbmZpZy5tYXgpO1xuICAgICRzY29wZS5yYW5nZSA9IHRoaXMuYnVpbGRUZW1wbGF0ZU9iamVjdHMocmF0aW5nU3RhdGVzKTtcbiAgfTtcblxuICB0aGlzLmJ1aWxkVGVtcGxhdGVPYmplY3RzID0gZnVuY3Rpb24oc3RhdGVzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIG4gPSBzdGF0ZXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzdGF0ZXNbaV0gPSBhbmd1bGFyLmV4dGVuZCh7IGluZGV4OiBpIH0sIHsgc3RhdGVPbjogdGhpcy5zdGF0ZU9uLCBzdGF0ZU9mZjogdGhpcy5zdGF0ZU9mZiwgdGl0bGU6IHRoaXMuZ2V0VGl0bGUoaSkgfSwgc3RhdGVzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlcztcbiAgfTtcbiAgXG4gIHRoaXMuZ2V0VGl0bGUgPSBmdW5jdGlvbihpbmRleCkge1xuICAgIGlmIChpbmRleCA+PSB0aGlzLnRpdGxlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBpbmRleCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnRpdGxlc1tpbmRleF07XG4gICAgfVxuICB9O1xuICBcbiAgJHNjb3BlLnJhdGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICghJHNjb3BlLnJlYWRvbmx5ICYmIHZhbHVlID49IDAgJiYgdmFsdWUgPD0gJHNjb3BlLnJhbmdlLmxlbmd0aCkge1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID09PSB2YWx1ZSA/IDAgOiB2YWx1ZSk7XG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5lbnRlciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKCEkc2NvcGUucmVhZG9ubHkpIHtcbiAgICAgICRzY29wZS52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICAkc2NvcGUub25Ib3Zlcih7dmFsdWU6IHZhbHVlfSk7XG4gIH07XG5cbiAgJHNjb3BlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnZhbHVlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcbiAgICAkc2NvcGUub25MZWF2ZSgpO1xuICB9O1xuXG4gICRzY29wZS5vbktleWRvd24gPSBmdW5jdGlvbihldnQpIHtcbiAgICBpZiAoLygzN3wzOHwzOXw0MCkvLnRlc3QoZXZ0LndoaWNoKSkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAkc2NvcGUucmF0ZSgkc2NvcGUudmFsdWUgKyAoZXZ0LndoaWNoID09PSAzOCB8fCBldnQud2hpY2ggPT09IDM5ID8gMSA6IC0xKSk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnZhbHVlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdyYXRpbmcnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXF1aXJlOiBbJ3JhdGluZycsICduZ01vZGVsJ10sXG4gICAgc2NvcGU6IHtcbiAgICAgIHJlYWRvbmx5OiAnPT8nLFxuICAgICAgb25Ib3ZlcjogJyYnLFxuICAgICAgb25MZWF2ZTogJyYnXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnUmF0aW5nQ29udHJvbGxlcicsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWwnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIHJhdGluZ0N0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcbiAgICAgIHJhdGluZ0N0cmwuaW5pdCggbmdNb2RlbEN0cmwgKTtcbiAgICB9XG4gIH07XG59KTtcblxuXG4vKipcbiAqIEBuZ2RvYyBvdmVydmlld1xuICogQG5hbWUgdWkuYm9vdHN0cmFwLnRhYnNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFuZ3VsYXJKUyB2ZXJzaW9uIG9mIHRoZSB0YWJzIGRpcmVjdGl2ZS5cbiAqL1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnRhYnMnLCBbXSlcblxuLmNvbnRyb2xsZXIoJ1RhYnNldENvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uIFRhYnNldEN0cmwoJHNjb3BlKSB7XG4gIHZhciBjdHJsID0gdGhpcyxcbiAgICAgIHRhYnMgPSBjdHJsLnRhYnMgPSAkc2NvcGUudGFicyA9IFtdO1xuXG4gIGN0cmwuc2VsZWN0ID0gZnVuY3Rpb24oc2VsZWN0ZWRUYWIpIHtcbiAgICBhbmd1bGFyLmZvckVhY2godGFicywgZnVuY3Rpb24odGFiKSB7XG4gICAgICBpZiAodGFiLmFjdGl2ZSAmJiB0YWIgIT09IHNlbGVjdGVkVGFiKSB7XG4gICAgICAgIHRhYi5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGFiLm9uRGVzZWxlY3QoKTtcbiAgICAgICAgc2VsZWN0ZWRUYWIuc2VsZWN0Q2FsbGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc2VsZWN0ZWRUYWIuYWN0aXZlID0gdHJ1ZTtcbiAgICAvLyBvbmx5IGNhbGwgc2VsZWN0IGlmIGl0IGhhcyBub3QgYWxyZWFkeSBiZWVuIGNhbGxlZFxuICAgIGlmICghc2VsZWN0ZWRUYWIuc2VsZWN0Q2FsbGVkKSB7XG4gICAgICBzZWxlY3RlZFRhYi5vblNlbGVjdCgpO1xuICAgICAgc2VsZWN0ZWRUYWIuc2VsZWN0Q2FsbGVkID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgY3RybC5hZGRUYWIgPSBmdW5jdGlvbiBhZGRUYWIodGFiKSB7XG4gICAgdGFicy5wdXNoKHRhYik7XG4gICAgLy8gd2UgY2FuJ3QgcnVuIHRoZSBzZWxlY3QgZnVuY3Rpb24gb24gdGhlIGZpcnN0IHRhYlxuICAgIC8vIHNpbmNlIHRoYXQgd291bGQgc2VsZWN0IGl0IHR3aWNlXG4gICAgaWYgKHRhYnMubGVuZ3RoID09PSAxICYmIHRhYi5hY3RpdmUgIT09IGZhbHNlKSB7XG4gICAgICB0YWIuYWN0aXZlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRhYi5hY3RpdmUpIHtcbiAgICAgIGN0cmwuc2VsZWN0KHRhYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhYi5hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgY3RybC5yZW1vdmVUYWIgPSBmdW5jdGlvbiByZW1vdmVUYWIodGFiKSB7XG4gICAgdmFyIGluZGV4ID0gdGFicy5pbmRleE9mKHRhYik7XG4gICAgLy9TZWxlY3QgYSBuZXcgdGFiIGlmIHRoZSB0YWIgdG8gYmUgcmVtb3ZlZCBpcyBzZWxlY3RlZCBhbmQgbm90IGRlc3Ryb3llZFxuICAgIGlmICh0YWIuYWN0aXZlICYmIHRhYnMubGVuZ3RoID4gMSAmJiAhZGVzdHJveWVkKSB7XG4gICAgICAvL0lmIHRoaXMgaXMgdGhlIGxhc3QgdGFiLCBzZWxlY3QgdGhlIHByZXZpb3VzIHRhYi4gZWxzZSwgdGhlIG5leHQgdGFiLlxuICAgICAgdmFyIG5ld0FjdGl2ZUluZGV4ID0gaW5kZXggPT0gdGFicy5sZW5ndGggLSAxID8gaW5kZXggLSAxIDogaW5kZXggKyAxO1xuICAgICAgY3RybC5zZWxlY3QodGFic1tuZXdBY3RpdmVJbmRleF0pO1xuICAgIH1cbiAgICB0YWJzLnNwbGljZShpbmRleCwgMSk7XG4gIH07XG5cbiAgdmFyIGRlc3Ryb3llZDtcbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICBkZXN0cm95ZWQgPSB0cnVlO1xuICB9KTtcbn1dKVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJzZXRcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGFic2V0IGlzIHRoZSBvdXRlciBjb250YWluZXIgZm9yIHRoZSB0YWJzIGRpcmVjdGl2ZVxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHZlcnRpY2FsIFdoZXRoZXIgb3Igbm90IHRvIHVzZSB2ZXJ0aWNhbCBzdHlsaW5nIGZvciB0aGUgdGFicy5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGp1c3RpZmllZCBXaGV0aGVyIG9yIG5vdCB0byB1c2UganVzdGlmaWVkIHN0eWxpbmcgZm9yIHRoZSB0YWJzLlxuICpcbiAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJ1aS5ib290c3RyYXBcIj5cbiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICA8dGFic2V0PlxuICAgICAgPHRhYiBoZWFkaW5nPVwiVGFiIDFcIj48Yj5GaXJzdDwvYj4gQ29udGVudCE8L3RhYj5cbiAgICAgIDx0YWIgaGVhZGluZz1cIlRhYiAyXCI+PGk+U2Vjb25kPC9pPiBDb250ZW50ITwvdGFiPlxuICAgIDwvdGFic2V0PlxuICAgIDxociAvPlxuICAgIDx0YWJzZXQgdmVydGljYWw9XCJ0cnVlXCI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJWZXJ0aWNhbCBUYWIgMVwiPjxiPkZpcnN0PC9iPiBWZXJ0aWNhbCBDb250ZW50ITwvdGFiPlxuICAgICAgPHRhYiBoZWFkaW5nPVwiVmVydGljYWwgVGFiIDJcIj48aT5TZWNvbmQ8L2k+IFZlcnRpY2FsIENvbnRlbnQhPC90YWI+XG4gICAgPC90YWJzZXQ+XG4gICAgPHRhYnNldCBqdXN0aWZpZWQ9XCJ0cnVlXCI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJKdXN0aWZpZWQgVGFiIDFcIj48Yj5GaXJzdDwvYj4gSnVzdGlmaWVkIENvbnRlbnQhPC90YWI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJKdXN0aWZpZWQgVGFiIDJcIj48aT5TZWNvbmQ8L2k+IEp1c3RpZmllZCBDb250ZW50ITwvdGFiPlxuICAgIDwvdGFic2V0PlxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ3RhYnNldCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZToge1xuICAgICAgdHlwZTogJ0AnXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnVGFic2V0Q29udHJvbGxlcicsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHNjb3BlLnZlcnRpY2FsID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudmVydGljYWwpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy52ZXJ0aWNhbCkgOiBmYWxzZTtcbiAgICAgIHNjb3BlLmp1c3RpZmllZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmp1c3RpZmllZCkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmp1c3RpZmllZCkgOiBmYWxzZTtcbiAgICB9XG4gIH07XG59KVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gaGVhZGluZyBUaGUgdmlzaWJsZSBoZWFkaW5nLCBvciB0aXRsZSwgb2YgdGhlIHRhYi4gU2V0IEhUTUwgaGVhZGluZ3Mgd2l0aCB7QGxpbmsgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYkhlYWRpbmcgdGFiSGVhZGluZ30uXG4gKiBAcGFyYW0ge3N0cmluZz19IHNlbGVjdCBBbiBleHByZXNzaW9uIHRvIGV2YWx1YXRlIHdoZW4gdGhlIHRhYiBpcyBzZWxlY3RlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGFjdGl2ZSBBIGJpbmRpbmcsIHRlbGxpbmcgd2hldGhlciBvciBub3QgdGhpcyB0YWIgaXMgc2VsZWN0ZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBkaXNhYmxlZCBBIGJpbmRpbmcsIHRlbGxpbmcgd2hldGhlciBvciBub3QgdGhpcyB0YWIgaXMgZGlzYWJsZWQuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgdGFiIHdpdGggYSBoZWFkaW5nIGFuZCBjb250ZW50LiBNdXN0IGJlIHBsYWNlZCB3aXRoaW4gYSB7QGxpbmsgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYnNldCB0YWJzZXR9LlxuICpcbiAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJ1aS5ib290c3RyYXBcIj5cbiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJUYWJzRGVtb0N0cmxcIj5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtYWxsXCIgbmctY2xpY2s9XCJpdGVtc1swXS5hY3RpdmUgPSB0cnVlXCI+XG4gICAgICAgIFNlbGVjdCBpdGVtIDEsIHVzaW5nIGFjdGl2ZSBiaW5kaW5nXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtYWxsXCIgbmctY2xpY2s9XCJpdGVtc1sxXS5kaXNhYmxlZCA9ICFpdGVtc1sxXS5kaXNhYmxlZFwiPlxuICAgICAgICBFbmFibGUvZGlzYWJsZSBpdGVtIDIsIHVzaW5nIGRpc2FibGVkIGJpbmRpbmdcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGJyIC8+XG4gICAgICA8dGFic2V0PlxuICAgICAgICA8dGFiIGhlYWRpbmc9XCJUYWIgMVwiPkZpcnN0IFRhYjwvdGFiPlxuICAgICAgICA8dGFiIHNlbGVjdD1cImFsZXJ0TWUoKVwiPlxuICAgICAgICAgIDx0YWItaGVhZGluZz48aSBjbGFzcz1cImljb24tYmVsbFwiPjwvaT4gQWxlcnQgbWUhPC90YWItaGVhZGluZz5cbiAgICAgICAgICBTZWNvbmQgVGFiLCB3aXRoIGFsZXJ0IGNhbGxiYWNrIGFuZCBodG1sIGhlYWRpbmchXG4gICAgICAgIDwvdGFiPlxuICAgICAgICA8dGFiIG5nLXJlcGVhdD1cIml0ZW0gaW4gaXRlbXNcIlxuICAgICAgICAgIGhlYWRpbmc9XCJ7e2l0ZW0udGl0bGV9fVwiXG4gICAgICAgICAgZGlzYWJsZWQ9XCJpdGVtLmRpc2FibGVkXCJcbiAgICAgICAgICBhY3RpdmU9XCJpdGVtLmFjdGl2ZVwiPlxuICAgICAgICAgIHt7aXRlbS5jb250ZW50fX1cbiAgICAgICAgPC90YWI+XG4gICAgICA8L3RhYnNldD5cbiAgICA8L2Rpdj5cbiAgPC9maWxlPlxuICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgZnVuY3Rpb24gVGFic0RlbW9DdHJsKCRzY29wZSkge1xuICAgICAgJHNjb3BlLml0ZW1zID0gW1xuICAgICAgICB7IHRpdGxlOlwiRHluYW1pYyBUaXRsZSAxXCIsIGNvbnRlbnQ6XCJEeW5hbWljIEl0ZW0gMFwiIH0sXG4gICAgICAgIHsgdGl0bGU6XCJEeW5hbWljIFRpdGxlIDJcIiwgY29udGVudDpcIkR5bmFtaWMgSXRlbSAxXCIsIGRpc2FibGVkOiB0cnVlIH1cbiAgICAgIF07XG5cbiAgICAgICRzY29wZS5hbGVydE1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgYWxlcnQoXCJZb3UndmUgc2VsZWN0ZWQgdGhlIGFsZXJ0IHRhYiFcIik7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9O1xuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFiSGVhZGluZ1xuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGFuIEhUTUwgaGVhZGluZyBmb3IgYSB7QGxpbmsgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYiB0YWJ9LiBNdXN0IGJlIHBsYWNlZCBhcyBhIGNoaWxkIG9mIGEgdGFiIGVsZW1lbnQuXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxuICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDx0YWJzZXQ+XG4gICAgICA8dGFiPlxuICAgICAgICA8dGFiLWhlYWRpbmc+PGI+SFRNTDwvYj4gaW4gbXkgdGl0bGVzPyE8L3RhYi1oZWFkaW5nPlxuICAgICAgICBBbmQgc29tZSBjb250ZW50LCB0b28hXG4gICAgICA8L3RhYj5cbiAgICAgIDx0YWI+XG4gICAgICAgIDx0YWItaGVhZGluZz48aSBjbGFzcz1cImljb24taGVhcnRcIj48L2k+IEljb24gaGVhZGluZz8hPzwvdGFiLWhlYWRpbmc+XG4gICAgICAgIFRoYXQncyByaWdodC5cbiAgICAgIDwvdGFiPlxuICAgIDwvdGFic2V0PlxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ3RhYicsIFsnJHBhcnNlJywgJyRsb2cnLCBmdW5jdGlvbigkcGFyc2UsICRsb2cpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnXnRhYnNldCcsXG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3RhYnMvdGFiLmh0bWwnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgc2NvcGU6IHtcbiAgICAgIGFjdGl2ZTogJz0/JyxcbiAgICAgIGhlYWRpbmc6ICdAJyxcbiAgICAgIG9uU2VsZWN0OiAnJnNlbGVjdCcsIC8vVGhpcyBjYWxsYmFjayBpcyBjYWxsZWQgaW4gY29udGVudEhlYWRpbmdUcmFuc2NsdWRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vb25jZSBpdCBpbnNlcnRzIHRoZSB0YWIncyBjb250ZW50IGludG8gdGhlIGRvbVxuICAgICAgb25EZXNlbGVjdDogJyZkZXNlbGVjdCdcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgLy9FbXB0eSBjb250cm9sbGVyIHNvIG90aGVyIGRpcmVjdGl2ZXMgY2FuIHJlcXVpcmUgYmVpbmcgJ3VuZGVyJyBhIHRhYlxuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0cnMsIHRhYnNldEN0cmwsIHRyYW5zY2x1ZGUpIHtcbiAgICAgIHNjb3BlLiR3YXRjaCgnYWN0aXZlJywgZnVuY3Rpb24oYWN0aXZlKSB7XG4gICAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgICB0YWJzZXRDdHJsLnNlbGVjdChzY29wZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgaWYgKGF0dHJzLmRpc2FibGUpIHtcbiAgICAgICAgc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKGF0dHJzLmRpc2FibGUpLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHNjb3BlLmRpc2FibGVkID0gISEgdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBEZXByZWNhdGlvbiBzdXBwb3J0IG9mIFwiZGlzYWJsZWRcIiBwYXJhbWV0ZXJcbiAgICAgIC8vIGZpeCh0YWIpOiBJRTkgZGlzYWJsZWQgYXR0ciByZW5kZXJzIGdyZXkgdGV4dCBvbiBlbmFibGVkIHRhYiAjMjY3N1xuICAgICAgLy8gVGhpcyBjb2RlIGlzIGR1cGxpY2F0ZWQgZnJvbSB0aGUgbGluZXMgYWJvdmUgdG8gbWFrZSBpdCBlYXN5IHRvIHJlbW92ZSBvbmNlXG4gICAgICAvLyB0aGUgZmVhdHVyZSBoYXMgYmVlbiBjb21wbGV0ZWx5IGRlcHJlY2F0ZWRcbiAgICAgIGlmIChhdHRycy5kaXNhYmxlZCkge1xuICAgICAgICAkbG9nLndhcm4oJ1VzZSBvZiBcImRpc2FibGVkXCIgYXR0cmlidXRlIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgXCJkaXNhYmxlXCInKTtcbiAgICAgICAgc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKGF0dHJzLmRpc2FibGVkKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBzY29wZS5kaXNhYmxlZCA9ICEhIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghc2NvcGUuZGlzYWJsZWQpIHtcbiAgICAgICAgICBzY29wZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0YWJzZXRDdHJsLmFkZFRhYihzY29wZSk7XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHRhYnNldEN0cmwucmVtb3ZlVGFiKHNjb3BlKTtcbiAgICAgIH0pO1xuXG4gICAgICAvL1dlIG5lZWQgdG8gdHJhbnNjbHVkZSBsYXRlciwgb25jZSB0aGUgY29udGVudCBjb250YWluZXIgaXMgcmVhZHkuXG4gICAgICAvL3doZW4gdGhpcyBsaW5rIGhhcHBlbnMsIHdlJ3JlIGluc2lkZSBhIHRhYiBoZWFkaW5nLlxuICAgICAgc2NvcGUuJHRyYW5zY2x1ZGVGbiA9IHRyYW5zY2x1ZGU7XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ3RhYkhlYWRpbmdUcmFuc2NsdWRlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnXnRhYicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0cnMsIHRhYkN0cmwpIHtcbiAgICAgIHNjb3BlLiR3YXRjaCgnaGVhZGluZ0VsZW1lbnQnLCBmdW5jdGlvbiB1cGRhdGVIZWFkaW5nRWxlbWVudChoZWFkaW5nKSB7XG4gICAgICAgIGlmIChoZWFkaW5nKSB7XG4gICAgICAgICAgZWxtLmh0bWwoJycpO1xuICAgICAgICAgIGVsbS5hcHBlbmQoaGVhZGluZyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3RhYkNvbnRlbnRUcmFuc2NsdWRlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnXnRhYnNldCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0cnMpIHtcbiAgICAgIHZhciB0YWIgPSBzY29wZS4kZXZhbChhdHRycy50YWJDb250ZW50VHJhbnNjbHVkZSk7XG5cbiAgICAgIC8vTm93IG91ciB0YWIgaXMgcmVhZHkgdG8gYmUgdHJhbnNjbHVkZWQ6IGJvdGggdGhlIHRhYiBoZWFkaW5nIGFyZWFcbiAgICAgIC8vYW5kIHRoZSB0YWIgY29udGVudCBhcmVhIGFyZSBsb2FkZWQuICBUcmFuc2NsdWRlICdlbSBib3RoLlxuICAgICAgdGFiLiR0cmFuc2NsdWRlRm4odGFiLiRwYXJlbnQsIGZ1bmN0aW9uKGNvbnRlbnRzKSB7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChjb250ZW50cywgZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgIGlmIChpc1RhYkhlYWRpbmcobm9kZSkpIHtcbiAgICAgICAgICAgIC8vTGV0IHRhYkhlYWRpbmdUcmFuc2NsdWRlIGtub3cuXG4gICAgICAgICAgICB0YWIuaGVhZGluZ0VsZW1lbnQgPSBub2RlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbG0uYXBwZW5kKG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gaXNUYWJIZWFkaW5nKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS50YWdOYW1lICYmIChcbiAgICAgIG5vZGUuaGFzQXR0cmlidXRlKCd0YWItaGVhZGluZycpIHx8XG4gICAgICBub2RlLmhhc0F0dHJpYnV0ZSgnZGF0YS10YWItaGVhZGluZycpIHx8XG4gICAgICBub2RlLmhhc0F0dHJpYnV0ZSgneC10YWItaGVhZGluZycpIHx8XG4gICAgICBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RhYi1oZWFkaW5nJyB8fFxuICAgICAgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdkYXRhLXRhYi1oZWFkaW5nJyB8fFxuICAgICAgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd4LXRhYi1oZWFkaW5nJ1xuICAgICk7XG4gIH1cbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnRpbWVwaWNrZXInLCBbXSlcblxuLmNvbnN0YW50KCd0aW1lcGlja2VyQ29uZmlnJywge1xuICBob3VyU3RlcDogMSxcbiAgbWludXRlU3RlcDogMSxcbiAgc2hvd01lcmlkaWFuOiB0cnVlLFxuICBtZXJpZGlhbnM6IG51bGwsXG4gIHJlYWRvbmx5SW5wdXQ6IGZhbHNlLFxuICBtb3VzZXdoZWVsOiB0cnVlLFxuICBhcnJvd2tleXM6IHRydWUsXG4gIHNob3dTcGlubmVyczogdHJ1ZVxufSlcblxuLmNvbnRyb2xsZXIoJ1RpbWVwaWNrZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsICckbG9nJywgJyRsb2NhbGUnLCAndGltZXBpY2tlckNvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UsICRsb2csICRsb2NhbGUsIHRpbWVwaWNrZXJDb25maWcpIHtcbiAgdmFyIHNlbGVjdGVkID0gbmV3IERhdGUoKSxcbiAgICAgIG5nTW9kZWxDdHJsID0geyAkc2V0Vmlld1ZhbHVlOiBhbmd1bGFyLm5vb3AgfSwgLy8gbnVsbE1vZGVsQ3RybFxuICAgICAgbWVyaWRpYW5zID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1lcmlkaWFucykgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubWVyaWRpYW5zKSA6IHRpbWVwaWNrZXJDb25maWcubWVyaWRpYW5zIHx8ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5BTVBNUztcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8sIGlucHV0cykge1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSB0aGlzLnJlbmRlcjtcblxuICAgIG5nTW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnVuc2hpZnQoZnVuY3Rpb24obW9kZWxWYWx1ZSkge1xuICAgICAgcmV0dXJuIG1vZGVsVmFsdWUgPyBuZXcgRGF0ZShtb2RlbFZhbHVlKSA6IG51bGw7XG4gICAgfSk7XG5cbiAgICB2YXIgaG91cnNJbnB1dEVsID0gaW5wdXRzLmVxKDApLFxuICAgICAgICBtaW51dGVzSW5wdXRFbCA9IGlucHV0cy5lcSgxKTtcblxuICAgIHZhciBtb3VzZXdoZWVsID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1vdXNld2hlZWwpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1vdXNld2hlZWwpIDogdGltZXBpY2tlckNvbmZpZy5tb3VzZXdoZWVsO1xuICAgIGlmIChtb3VzZXdoZWVsKSB7XG4gICAgICB0aGlzLnNldHVwTW91c2V3aGVlbEV2ZW50cyhob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsKTtcbiAgICB9XG5cbiAgICB2YXIgYXJyb3drZXlzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmFycm93a2V5cykgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuYXJyb3drZXlzKSA6IHRpbWVwaWNrZXJDb25maWcuYXJyb3drZXlzO1xuICAgIGlmIChhcnJvd2tleXMpIHtcbiAgICAgIHRoaXMuc2V0dXBBcnJvd2tleUV2ZW50cyhob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsKTtcbiAgICB9XG5cbiAgICAkc2NvcGUucmVhZG9ubHlJbnB1dCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5yZWFkb25seUlucHV0KSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5yZWFkb25seUlucHV0KSA6IHRpbWVwaWNrZXJDb25maWcucmVhZG9ubHlJbnB1dDtcbiAgICB0aGlzLnNldHVwSW5wdXRFdmVudHMoaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCk7XG4gIH07XG5cbiAgdmFyIGhvdXJTdGVwID0gdGltZXBpY2tlckNvbmZpZy5ob3VyU3RlcDtcbiAgaWYgKCRhdHRycy5ob3VyU3RlcCkge1xuICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLmhvdXJTdGVwKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGhvdXJTdGVwID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBtaW51dGVTdGVwID0gdGltZXBpY2tlckNvbmZpZy5taW51dGVTdGVwO1xuICBpZiAoJGF0dHJzLm1pbnV0ZVN0ZXApIHtcbiAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5taW51dGVTdGVwKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIG1pbnV0ZVN0ZXAgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIG1pbjtcbiAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMubWluKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgZHQgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgbWluID0gaXNOYU4oZHQpID8gdW5kZWZpbmVkIDogZHQ7XG4gIH0pO1xuXG4gIHZhciBtYXg7XG4gICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLm1heCksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIGR0ID0gbmV3IERhdGUodmFsdWUpO1xuICAgIG1heCA9IGlzTmFOKGR0KSA/IHVuZGVmaW5lZCA6IGR0O1xuICB9KTtcblxuICAkc2NvcGUubm9JbmNyZW1lbnRIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbmNyZW1lbnRlZFNlbGVjdGVkID0gYWRkTWludXRlcyhzZWxlY3RlZCwgaG91clN0ZXAgKiA2MCk7XG4gICAgcmV0dXJuIGluY3JlbWVudGVkU2VsZWN0ZWQgPiBtYXggfHxcbiAgICAgIChpbmNyZW1lbnRlZFNlbGVjdGVkIDwgc2VsZWN0ZWQgJiYgaW5jcmVtZW50ZWRTZWxlY3RlZCA8IG1pbik7XG4gIH07XG5cbiAgJHNjb3BlLm5vRGVjcmVtZW50SG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGVjcmVtZW50ZWRTZWxlY3RlZCA9IGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIC1ob3VyU3RlcCAqIDYwKTtcbiAgICByZXR1cm4gZGVjcmVtZW50ZWRTZWxlY3RlZCA8IG1pbiB8fFxuICAgICAgKGRlY3JlbWVudGVkU2VsZWN0ZWQgPiBzZWxlY3RlZCAmJiBkZWNyZW1lbnRlZFNlbGVjdGVkID4gbWF4KTtcbiAgfTtcblxuICAkc2NvcGUubm9JbmNyZW1lbnRNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluY3JlbWVudGVkU2VsZWN0ZWQgPSBhZGRNaW51dGVzKHNlbGVjdGVkLCBtaW51dGVTdGVwKTtcbiAgICByZXR1cm4gaW5jcmVtZW50ZWRTZWxlY3RlZCA+IG1heCB8fFxuICAgICAgKGluY3JlbWVudGVkU2VsZWN0ZWQgPCBzZWxlY3RlZCAmJiBpbmNyZW1lbnRlZFNlbGVjdGVkIDwgbWluKTtcbiAgfTtcblxuICAkc2NvcGUubm9EZWNyZW1lbnRNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRlY3JlbWVudGVkU2VsZWN0ZWQgPSBhZGRNaW51dGVzKHNlbGVjdGVkLCAtbWludXRlU3RlcCk7XG4gICAgcmV0dXJuIGRlY3JlbWVudGVkU2VsZWN0ZWQgPCBtaW4gfHxcbiAgICAgIChkZWNyZW1lbnRlZFNlbGVjdGVkID4gc2VsZWN0ZWQgJiYgZGVjcmVtZW50ZWRTZWxlY3RlZCA+IG1heCk7XG4gIH07XG5cbiAgJHNjb3BlLm5vVG9nZ2xlTWVyaWRpYW4gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoc2VsZWN0ZWQuZ2V0SG91cnMoKSA8IDEzKSB7XG4gICAgICByZXR1cm4gYWRkTWludXRlcyhzZWxlY3RlZCwgMTIgKiA2MCkgPiBtYXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhZGRNaW51dGVzKHNlbGVjdGVkLCAtMTIgKiA2MCkgPCBtaW47XG4gICAgfVxuICB9O1xuXG4gIC8vIDEySCAvIDI0SCBtb2RlXG4gICRzY29wZS5zaG93TWVyaWRpYW4gPSB0aW1lcGlja2VyQ29uZmlnLnNob3dNZXJpZGlhbjtcbiAgaWYgKCRhdHRycy5zaG93TWVyaWRpYW4pIHtcbiAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5zaG93TWVyaWRpYW4pLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgJHNjb3BlLnNob3dNZXJpZGlhbiA9ICEhdmFsdWU7XG5cbiAgICAgIGlmIChuZ01vZGVsQ3RybC4kZXJyb3IudGltZSkge1xuICAgICAgICAvLyBFdmFsdWF0ZSBmcm9tIHRlbXBsYXRlXG4gICAgICAgIHZhciBob3VycyA9IGdldEhvdXJzRnJvbVRlbXBsYXRlKCksIG1pbnV0ZXMgPSBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCk7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChob3VycykgJiYgYW5ndWxhci5pc0RlZmluZWQobWludXRlcykpIHtcbiAgICAgICAgICBzZWxlY3RlZC5zZXRIb3Vycyhob3Vycyk7XG4gICAgICAgICAgcmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVUZW1wbGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gR2V0ICRzY29wZS5ob3VycyBpbiAyNEggbW9kZSBpZiB2YWxpZFxuICBmdW5jdGlvbiBnZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpIHtcbiAgICB2YXIgaG91cnMgPSBwYXJzZUludCgkc2NvcGUuaG91cnMsIDEwKTtcbiAgICB2YXIgdmFsaWQgPSAkc2NvcGUuc2hvd01lcmlkaWFuID8gKGhvdXJzID4gMCAmJiBob3VycyA8IDEzKSA6IChob3VycyA+PSAwICYmIGhvdXJzIDwgMjQpO1xuICAgIGlmICghdmFsaWQpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKCRzY29wZS5zaG93TWVyaWRpYW4pIHtcbiAgICAgIGlmIChob3VycyA9PT0gMTIpIHtcbiAgICAgICAgaG91cnMgPSAwO1xuICAgICAgfVxuICAgICAgaWYgKCRzY29wZS5tZXJpZGlhbiA9PT0gbWVyaWRpYW5zWzFdKSB7XG4gICAgICAgIGhvdXJzID0gaG91cnMgKyAxMjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhvdXJzO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TWludXRlc0Zyb21UZW1wbGF0ZSgpIHtcbiAgICB2YXIgbWludXRlcyA9IHBhcnNlSW50KCRzY29wZS5taW51dGVzLCAxMCk7XG4gICAgcmV0dXJuIChtaW51dGVzID49IDAgJiYgbWludXRlcyA8IDYwKSA/IG1pbnV0ZXMgOiB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBwYWQodmFsdWUpIHtcbiAgICByZXR1cm4gKGFuZ3VsYXIuaXNEZWZpbmVkKHZhbHVlKSAmJiB2YWx1ZS50b1N0cmluZygpLmxlbmd0aCA8IDIpID8gJzAnICsgdmFsdWUgOiB2YWx1ZS50b1N0cmluZygpO1xuICB9XG5cbiAgLy8gUmVzcG9uZCBvbiBtb3VzZXdoZWVsIHNwaW5cbiAgdGhpcy5zZXR1cE1vdXNld2hlZWxFdmVudHMgPSBmdW5jdGlvbihob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsKSB7XG4gICAgdmFyIGlzU2Nyb2xsaW5nVXAgPSBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIGUgPSBlLm9yaWdpbmFsRXZlbnQ7XG4gICAgICB9XG4gICAgICAvL3BpY2sgY29ycmVjdCBkZWx0YSB2YXJpYWJsZSBkZXBlbmRpbmcgb24gZXZlbnRcbiAgICAgIHZhciBkZWx0YSA9IChlLndoZWVsRGVsdGEpID8gZS53aGVlbERlbHRhIDogLWUuZGVsdGFZO1xuICAgICAgcmV0dXJuIChlLmRldGFpbCB8fCBkZWx0YSA+IDApO1xuICAgIH07XG5cbiAgICBob3Vyc0lucHV0RWwuYmluZCgnbW91c2V3aGVlbCB3aGVlbCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICRzY29wZS4kYXBwbHkoaXNTY3JvbGxpbmdVcChlKSA/ICRzY29wZS5pbmNyZW1lbnRIb3VycygpIDogJHNjb3BlLmRlY3JlbWVudEhvdXJzKCkpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgbWludXRlc0lucHV0RWwuYmluZCgnbW91c2V3aGVlbCB3aGVlbCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICRzY29wZS4kYXBwbHkoaXNTY3JvbGxpbmdVcChlKSA/ICRzY29wZS5pbmNyZW1lbnRNaW51dGVzKCkgOiAkc2NvcGUuZGVjcmVtZW50TWludXRlcygpKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICB9O1xuXG4gIC8vIFJlc3BvbmQgb24gdXAvZG93biBhcnJvd2tleXNcbiAgdGhpcy5zZXR1cEFycm93a2V5RXZlbnRzID0gZnVuY3Rpb24oaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCkge1xuICAgIGhvdXJzSW5wdXRFbC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUud2hpY2ggPT09IDM4KSB7IC8vIHVwXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHNjb3BlLmluY3JlbWVudEhvdXJzKCk7XG4gICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PT0gNDApIHsgLy8gZG93blxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICRzY29wZS5kZWNyZW1lbnRIb3VycygpO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBtaW51dGVzSW5wdXRFbC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUud2hpY2ggPT09IDM4KSB7IC8vIHVwXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHNjb3BlLmluY3JlbWVudE1pbnV0ZXMoKTtcbiAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09PSA0MCkgeyAvLyBkb3duXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHNjb3BlLmRlY3JlbWVudE1pbnV0ZXMoKTtcbiAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuc2V0dXBJbnB1dEV2ZW50cyA9IGZ1bmN0aW9uKGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwpIHtcbiAgICBpZiAoJHNjb3BlLnJlYWRvbmx5SW5wdXQpIHtcbiAgICAgICRzY29wZS51cGRhdGVIb3VycyA9IGFuZ3VsYXIubm9vcDtcbiAgICAgICRzY29wZS51cGRhdGVNaW51dGVzID0gYW5ndWxhci5ub29wO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpbnZhbGlkYXRlID0gZnVuY3Rpb24oaW52YWxpZEhvdXJzLCBpbnZhbGlkTWludXRlcykge1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShudWxsKTtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgndGltZScsIGZhbHNlKTtcbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkSG91cnMpKSB7XG4gICAgICAgICRzY29wZS5pbnZhbGlkSG91cnMgPSBpbnZhbGlkSG91cnM7XG4gICAgICB9XG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaW52YWxpZE1pbnV0ZXMpKSB7XG4gICAgICAgICRzY29wZS5pbnZhbGlkTWludXRlcyA9IGludmFsaWRNaW51dGVzO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAkc2NvcGUudXBkYXRlSG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBob3VycyA9IGdldEhvdXJzRnJvbVRlbXBsYXRlKCksXG4gICAgICAgIG1pbnV0ZXMgPSBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCk7XG5cbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChob3VycykgJiYgYW5ndWxhci5pc0RlZmluZWQobWludXRlcykpIHtcbiAgICAgICAgc2VsZWN0ZWQuc2V0SG91cnMoaG91cnMpO1xuICAgICAgICBpZiAoc2VsZWN0ZWQgPCBtaW4gfHwgc2VsZWN0ZWQgPiBtYXgpIHtcbiAgICAgICAgICBpbnZhbGlkYXRlKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlZnJlc2goJ2gnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW52YWxpZGF0ZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaG91cnNJbnB1dEVsLmJpbmQoJ2JsdXInLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoISRzY29wZS5pbnZhbGlkSG91cnMgJiYgJHNjb3BlLmhvdXJzIDwgMTApIHtcbiAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUuaG91cnMgPSBwYWQoJHNjb3BlLmhvdXJzKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkc2NvcGUudXBkYXRlTWludXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG1pbnV0ZXMgPSBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCksXG4gICAgICAgIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKTtcblxuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKG1pbnV0ZXMpICYmIGFuZ3VsYXIuaXNEZWZpbmVkKGhvdXJzKSkge1xuICAgICAgICBzZWxlY3RlZC5zZXRNaW51dGVzKG1pbnV0ZXMpO1xuICAgICAgICBpZiAoc2VsZWN0ZWQgPCBtaW4gfHwgc2VsZWN0ZWQgPiBtYXgpIHtcbiAgICAgICAgICBpbnZhbGlkYXRlKHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVmcmVzaCgnbScpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnZhbGlkYXRlKHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIG1pbnV0ZXNJbnB1dEVsLmJpbmQoJ2JsdXInLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoISRzY29wZS5pbnZhbGlkTWludXRlcyAmJiAkc2NvcGUubWludXRlcyA8IDEwKSB7XG4gICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHNjb3BlLm1pbnV0ZXMgPSBwYWQoJHNjb3BlLm1pbnV0ZXMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9O1xuXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRhdGUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xuXG4gICAgaWYgKGlzTmFOKGRhdGUpKSB7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3RpbWUnLCBmYWxzZSk7XG4gICAgICAkbG9nLmVycm9yKCdUaW1lcGlja2VyIGRpcmVjdGl2ZTogXCJuZy1tb2RlbFwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgc2VsZWN0ZWQgPSBkYXRlO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZWN0ZWQgPCBtaW4gfHwgc2VsZWN0ZWQgPiBtYXgpIHtcbiAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCd0aW1lJywgZmFsc2UpO1xuICAgICAgICAkc2NvcGUuaW52YWxpZEhvdXJzID0gdHJ1ZTtcbiAgICAgICAgJHNjb3BlLmludmFsaWRNaW51dGVzID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1ha2VWYWxpZCgpO1xuICAgICAgfVxuICAgICAgdXBkYXRlVGVtcGxhdGUoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQ2FsbCBpbnRlcm5hbGx5IHdoZW4gd2Uga25vdyB0aGF0IG1vZGVsIGlzIHZhbGlkLlxuICBmdW5jdGlvbiByZWZyZXNoKGtleWJvYXJkQ2hhbmdlKSB7XG4gICAgbWFrZVZhbGlkKCk7XG4gICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShuZXcgRGF0ZShzZWxlY3RlZCkpO1xuICAgIHVwZGF0ZVRlbXBsYXRlKGtleWJvYXJkQ2hhbmdlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VWYWxpZCgpIHtcbiAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3RpbWUnLCB0cnVlKTtcbiAgICAkc2NvcGUuaW52YWxpZEhvdXJzID0gZmFsc2U7XG4gICAgJHNjb3BlLmludmFsaWRNaW51dGVzID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVUZW1wbGF0ZShrZXlib2FyZENoYW5nZSkge1xuICAgIHZhciBob3VycyA9IHNlbGVjdGVkLmdldEhvdXJzKCksIG1pbnV0ZXMgPSBzZWxlY3RlZC5nZXRNaW51dGVzKCk7XG5cbiAgICBpZiAoJHNjb3BlLnNob3dNZXJpZGlhbikge1xuICAgICAgaG91cnMgPSAoaG91cnMgPT09IDAgfHwgaG91cnMgPT09IDEyKSA/IDEyIDogaG91cnMgJSAxMjsgLy8gQ29udmVydCAyNCB0byAxMiBob3VyIHN5c3RlbVxuICAgIH1cblxuICAgICRzY29wZS5ob3VycyA9IGtleWJvYXJkQ2hhbmdlID09PSAnaCcgPyBob3VycyA6IHBhZChob3Vycyk7XG4gICAgaWYgKGtleWJvYXJkQ2hhbmdlICE9PSAnbScpIHtcbiAgICAgICRzY29wZS5taW51dGVzID0gcGFkKG1pbnV0ZXMpO1xuICAgIH1cbiAgICAkc2NvcGUubWVyaWRpYW4gPSBzZWxlY3RlZC5nZXRIb3VycygpIDwgMTIgPyBtZXJpZGlhbnNbMF0gOiBtZXJpZGlhbnNbMV07XG4gIH1cblxuICBmdW5jdGlvbiBhZGRNaW51dGVzKGRhdGUsIG1pbnV0ZXMpIHtcbiAgICB2YXIgZHQgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSArIG1pbnV0ZXMgKiA2MDAwMCk7XG4gICAgdmFyIG5ld0RhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICBuZXdEYXRlLnNldEhvdXJzKGR0LmdldEhvdXJzKCksIGR0LmdldE1pbnV0ZXMoKSk7XG4gICAgcmV0dXJuIG5ld0RhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRNaW51dGVzVG9TZWxlY3RlZChtaW51dGVzKSB7XG4gICAgc2VsZWN0ZWQgPSBhZGRNaW51dGVzKHNlbGVjdGVkLCBtaW51dGVzKTtcbiAgICByZWZyZXNoKCk7XG4gIH1cblxuICAkc2NvcGUuc2hvd1NwaW5uZXJzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnNob3dTcGlubmVycykgP1xuICAgICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5zaG93U3Bpbm5lcnMpIDogdGltZXBpY2tlckNvbmZpZy5zaG93U3Bpbm5lcnM7XG5cbiAgJHNjb3BlLmluY3JlbWVudEhvdXJzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkc2NvcGUubm9JbmNyZW1lbnRIb3VycygpKSB7XG4gICAgICBhZGRNaW51dGVzVG9TZWxlY3RlZChob3VyU3RlcCAqIDYwKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmRlY3JlbWVudEhvdXJzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkc2NvcGUubm9EZWNyZW1lbnRIb3VycygpKSB7XG4gICAgICBhZGRNaW51dGVzVG9TZWxlY3RlZCgtaG91clN0ZXAgKiA2MCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5pbmNyZW1lbnRNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkc2NvcGUubm9JbmNyZW1lbnRNaW51dGVzKCkpIHtcbiAgICAgIGFkZE1pbnV0ZXNUb1NlbGVjdGVkKG1pbnV0ZVN0ZXApO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuZGVjcmVtZW50TWludXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghJHNjb3BlLm5vRGVjcmVtZW50TWludXRlcygpKSB7XG4gICAgICBhZGRNaW51dGVzVG9TZWxlY3RlZCgtbWludXRlU3RlcCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS50b2dnbGVNZXJpZGlhbiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghJHNjb3BlLm5vVG9nZ2xlTWVyaWRpYW4oKSkge1xuICAgICAgYWRkTWludXRlc1RvU2VsZWN0ZWQoMTIgKiA2MCAqIChzZWxlY3RlZC5nZXRIb3VycygpIDwgMTIgPyAxIDogLTEpKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgndGltZXBpY2tlcicsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcXVpcmU6IFsndGltZXBpY2tlcicsICc/Xm5nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOidUaW1lcGlja2VyQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAndGltZXBpY2tlcicsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZToge30sXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sJztcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciB0aW1lcGlja2VyQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBpZiAobmdNb2RlbEN0cmwpIHtcbiAgICAgICAgdGltZXBpY2tlckN0cmwuaW5pdChuZ01vZGVsQ3RybCwgZWxlbWVudC5maW5kKCdpbnB1dCcpKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50cmFuc2l0aW9uJywgW10pXG5cbi52YWx1ZSgnJHRyYW5zaXRpb25TdXBwcmVzc0RlcHJlY2F0ZWQnLCBmYWxzZSlcbi8qKlxuICogJHRyYW5zaXRpb24gc2VydmljZSBwcm92aWRlcyBhIGNvbnNpc3RlbnQgaW50ZXJmYWNlIHRvIHRyaWdnZXIgQ1NTIDMgdHJhbnNpdGlvbnMgYW5kIHRvIGJlIGluZm9ybWVkIHdoZW4gdGhleSBjb21wbGV0ZS5cbiAqIEBwYXJhbSAge0RPTUVsZW1lbnR9IGVsZW1lbnQgIFRoZSBET01FbGVtZW50IHRoYXQgd2lsbCBiZSBhbmltYXRlZC5cbiAqIEBwYXJhbSAge3N0cmluZ3xvYmplY3R8ZnVuY3Rpb259IHRyaWdnZXIgIFRoZSB0aGluZyB0aGF0IHdpbGwgY2F1c2UgdGhlIHRyYW5zaXRpb24gdG8gc3RhcnQ6XG4gKiAgIC0gQXMgYSBzdHJpbmcsIGl0IHJlcHJlc2VudHMgdGhlIGNzcyBjbGFzcyB0byBiZSBhZGRlZCB0byB0aGUgZWxlbWVudC5cbiAqICAgLSBBcyBhbiBvYmplY3QsIGl0IHJlcHJlc2VudHMgYSBoYXNoIG9mIHN0eWxlIGF0dHJpYnV0ZXMgdG8gYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAqICAgLSBBcyBhIGZ1bmN0aW9uLCBpdCByZXByZXNlbnRzIGEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHRoYXQgd2lsbCBjYXVzZSB0aGUgdHJhbnNpdGlvbiB0byBvY2N1ci5cbiAqIEByZXR1cm4ge1Byb21pc2V9ICBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSB0cmFuc2l0aW9uIGZpbmlzaGVzLlxuICovXG4uZmFjdG9yeSgnJHRyYW5zaXRpb24nLCBbXG4gICAgICAgICckcScsICckdGltZW91dCcsICckcm9vdFNjb3BlJywgJyRsb2cnLCAnJHRyYW5zaXRpb25TdXBwcmVzc0RlcHJlY2F0ZWQnLFxuZnVuY3Rpb24oJHEgLCAgJHRpbWVvdXQgLCAgJHJvb3RTY29wZSAsICAkbG9nICwgICR0cmFuc2l0aW9uU3VwcHJlc3NEZXByZWNhdGVkKSB7XG5cbiAgaWYgKCEkdHJhbnNpdGlvblN1cHByZXNzRGVwcmVjYXRlZCkge1xuICAgICRsb2cud2FybignJHRyYW5zaXRpb24gaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSAkYW5pbWF0ZSBmcm9tIG5nQW5pbWF0ZSBpbnN0ZWFkLicpO1xuICB9XG5cbiAgdmFyICR0cmFuc2l0aW9uID0gZnVuY3Rpb24oZWxlbWVudCwgdHJpZ2dlciwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgdmFyIGVuZEV2ZW50TmFtZSA9ICR0cmFuc2l0aW9uW29wdGlvbnMuYW5pbWF0aW9uID8gJ2FuaW1hdGlvbkVuZEV2ZW50TmFtZScgOiAndHJhbnNpdGlvbkVuZEV2ZW50TmFtZSddO1xuXG4gICAgdmFyIHRyYW5zaXRpb25FbmRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICBlbGVtZW50LnVuYmluZChlbmRFdmVudE5hbWUsIHRyYW5zaXRpb25FbmRIYW5kbGVyKTtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShlbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBpZiAoZW5kRXZlbnROYW1lKSB7XG4gICAgICBlbGVtZW50LmJpbmQoZW5kRXZlbnROYW1lLCB0cmFuc2l0aW9uRW5kSGFuZGxlcik7XG4gICAgfVxuXG4gICAgLy8gV3JhcCBpbiBhIHRpbWVvdXQgdG8gYWxsb3cgdGhlIGJyb3dzZXIgdGltZSB0byB1cGRhdGUgdGhlIERPTSBiZWZvcmUgdGhlIHRyYW5zaXRpb24gaXMgdG8gb2NjdXJcbiAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmICggYW5ndWxhci5pc1N0cmluZyh0cmlnZ2VyKSApIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyh0cmlnZ2VyKTtcbiAgICAgIH0gZWxzZSBpZiAoIGFuZ3VsYXIuaXNGdW5jdGlvbih0cmlnZ2VyKSApIHtcbiAgICAgICAgdHJpZ2dlcihlbGVtZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoIGFuZ3VsYXIuaXNPYmplY3QodHJpZ2dlcikgKSB7XG4gICAgICAgIGVsZW1lbnQuY3NzKHRyaWdnZXIpO1xuICAgICAgfVxuICAgICAgLy9JZiBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdHJhbnNpdGlvbnMsIGluc3RhbnRseSByZXNvbHZlXG4gICAgICBpZiAoICFlbmRFdmVudE5hbWUgKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgb3VyIGN1c3RvbSBjYW5jZWwgZnVuY3Rpb24gdG8gdGhlIHByb21pc2UgdGhhdCBpcyByZXR1cm5lZFxuICAgIC8vIFdlIGNhbiBjYWxsIHRoaXMgaWYgd2UgYXJlIGFib3V0IHRvIHJ1biBhIG5ldyB0cmFuc2l0aW9uLCB3aGljaCB3ZSBrbm93IHdpbGwgcHJldmVudCB0aGlzIHRyYW5zaXRpb24gZnJvbSBlbmRpbmcsXG4gICAgLy8gaS5lLiBpdCB3aWxsIHRoZXJlZm9yZSBuZXZlciByYWlzZSBhIHRyYW5zaXRpb25FbmQgZXZlbnQgZm9yIHRoYXQgdHJhbnNpdGlvblxuICAgIGRlZmVycmVkLnByb21pc2UuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIGVuZEV2ZW50TmFtZSApIHtcbiAgICAgICAgZWxlbWVudC51bmJpbmQoZW5kRXZlbnROYW1lLCB0cmFuc2l0aW9uRW5kSGFuZGxlcik7XG4gICAgICB9XG4gICAgICBkZWZlcnJlZC5yZWplY3QoJ1RyYW5zaXRpb24gY2FuY2VsbGVkJyk7XG4gICAgfTtcblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9O1xuXG4gIC8vIFdvcmsgb3V0IHRoZSBuYW1lIG9mIHRoZSB0cmFuc2l0aW9uRW5kIGV2ZW50XG4gIHZhciB0cmFuc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cmFucycpO1xuICB2YXIgdHJhbnNpdGlvbkVuZEV2ZW50TmFtZXMgPSB7XG4gICAgJ1dlYmtpdFRyYW5zaXRpb24nOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgJ01velRyYW5zaXRpb24nOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgJ09UcmFuc2l0aW9uJzogJ29UcmFuc2l0aW9uRW5kJyxcbiAgICAndHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJ1xuICB9O1xuICB2YXIgYW5pbWF0aW9uRW5kRXZlbnROYW1lcyA9IHtcbiAgICAnV2Via2l0VHJhbnNpdGlvbic6ICd3ZWJraXRBbmltYXRpb25FbmQnLFxuICAgICdNb3pUcmFuc2l0aW9uJzogJ2FuaW1hdGlvbmVuZCcsXG4gICAgJ09UcmFuc2l0aW9uJzogJ29BbmltYXRpb25FbmQnLFxuICAgICd0cmFuc2l0aW9uJzogJ2FuaW1hdGlvbmVuZCdcbiAgfTtcbiAgZnVuY3Rpb24gZmluZEVuZEV2ZW50TmFtZShlbmRFdmVudE5hbWVzKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiBlbmRFdmVudE5hbWVzKXtcbiAgICAgIGlmICh0cmFuc0VsZW1lbnQuc3R5bGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZW5kRXZlbnROYW1lc1tuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgJHRyYW5zaXRpb24udHJhbnNpdGlvbkVuZEV2ZW50TmFtZSA9IGZpbmRFbmRFdmVudE5hbWUodHJhbnNpdGlvbkVuZEV2ZW50TmFtZXMpO1xuICAkdHJhbnNpdGlvbi5hbmltYXRpb25FbmRFdmVudE5hbWUgPSBmaW5kRW5kRXZlbnROYW1lKGFuaW1hdGlvbkVuZEV2ZW50TmFtZXMpO1xuICByZXR1cm4gJHRyYW5zaXRpb247XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudHlwZWFoZWFkJywgWyd1aS5ib290c3RyYXAucG9zaXRpb24nXSlcblxuLyoqXG4gKiBBIGhlbHBlciBzZXJ2aWNlIHRoYXQgY2FuIHBhcnNlIHR5cGVhaGVhZCdzIHN5bnRheCAoc3RyaW5nIHByb3ZpZGVkIGJ5IHVzZXJzKVxuICogRXh0cmFjdGVkIHRvIGEgc2VwYXJhdGUgc2VydmljZSBmb3IgZWFzZSBvZiB1bml0IHRlc3RpbmdcbiAqL1xuICAuZmFjdG9yeSgndHlwZWFoZWFkUGFyc2VyJywgWyckcGFyc2UnLCBmdW5jdGlvbigkcGFyc2UpIHtcblxuICAvLyAgICAgICAgICAgICAgICAgICAgICAwMDAwMDExMTAwMDAwMDAwMDAwMDAyMjIwMDAwMDAwMDAwMDAwMDAwMzMzMzMzMzMzMzMzMzMzMDAwMDAwMDAwMDA0NDAwMFxuICB2YXIgVFlQRUFIRUFEX1JFR0VYUCA9IC9eXFxzKihbXFxzXFxTXSs/KSg/Olxccythc1xccysoW1xcc1xcU10rPykpP1xccytmb3JcXHMrKD86KFtcXCRcXHddW1xcJFxcd1xcZF0qKSlcXHMraW5cXHMrKFtcXHNcXFNdKz8pJC87XG5cbiAgcmV0dXJuIHtcbiAgICBwYXJzZTogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgIHZhciBtYXRjaCA9IGlucHV0Lm1hdGNoKFRZUEVBSEVBRF9SRUdFWFApO1xuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0V4cGVjdGVkIHR5cGVhaGVhZCBzcGVjaWZpY2F0aW9uIGluIGZvcm0gb2YgXCJfbW9kZWxWYWx1ZV8gKGFzIF9sYWJlbF8pPyBmb3IgX2l0ZW1fIGluIF9jb2xsZWN0aW9uX1wiJyArXG4gICAgICAgICAgICAnIGJ1dCBnb3QgXCInICsgaW5wdXQgKyAnXCIuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGl0ZW1OYW1lOm1hdGNoWzNdLFxuICAgICAgICBzb3VyY2U6JHBhcnNlKG1hdGNoWzRdKSxcbiAgICAgICAgdmlld01hcHBlcjokcGFyc2UobWF0Y2hbMl0gfHwgbWF0Y2hbMV0pLFxuICAgICAgICBtb2RlbE1hcHBlcjokcGFyc2UobWF0Y2hbMV0pXG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dKVxuXG4gIC5kaXJlY3RpdmUoJ3R5cGVhaGVhZCcsIFsnJGNvbXBpbGUnLCAnJHBhcnNlJywgJyRxJywgJyR0aW1lb3V0JywgJyRkb2N1bWVudCcsICckd2luZG93JywgJyRyb290U2NvcGUnLCAnJHBvc2l0aW9uJywgJ3R5cGVhaGVhZFBhcnNlcicsXG4gICAgZnVuY3Rpb24oJGNvbXBpbGUsICRwYXJzZSwgJHEsICR0aW1lb3V0LCAkZG9jdW1lbnQsICR3aW5kb3csICRyb290U2NvcGUsICRwb3NpdGlvbiwgdHlwZWFoZWFkUGFyc2VyKSB7XG4gICAgdmFyIEhPVF9LRVlTID0gWzksIDEzLCAyNywgMzgsIDQwXTtcbiAgICB2YXIgZXZlbnREZWJvdW5jZVRpbWUgPSAyMDA7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVxdWlyZTogWyduZ01vZGVsJywgJ14/bmdNb2RlbE9wdGlvbnMnXSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKG9yaWdpbmFsU2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgICB2YXIgbW9kZWxDdHJsID0gY3RybHNbMF07XG4gICAgICAgIHZhciBuZ01vZGVsT3B0aW9ucyA9IGN0cmxzWzFdO1xuICAgICAgICAvL1NVUFBPUlRFRCBBVFRSSUJVVEVTIChPUFRJT05TKVxuXG4gICAgICAgIC8vbWluaW1hbCBubyBvZiBjaGFyYWN0ZXJzIHRoYXQgbmVlZHMgdG8gYmUgZW50ZXJlZCBiZWZvcmUgdHlwZWFoZWFkIGtpY2tzLWluXG4gICAgICAgIHZhciBtaW5MZW5ndGggPSBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZE1pbkxlbmd0aCk7XG4gICAgICAgIGlmICghbWluTGVuZ3RoICYmIG1pbkxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgIG1pbkxlbmd0aCA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICAvL21pbmltYWwgd2FpdCB0aW1lIGFmdGVyIGxhc3QgY2hhcmFjdGVyIHR5cGVkIGJlZm9yZSB0eXBlYWhlYWQga2lja3MtaW5cbiAgICAgICAgdmFyIHdhaXRUaW1lID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRXYWl0TXMpIHx8IDA7XG5cbiAgICAgICAgLy9zaG91bGQgaXQgcmVzdHJpY3QgbW9kZWwgdmFsdWVzIHRvIHRoZSBvbmVzIHNlbGVjdGVkIGZyb20gdGhlIHBvcHVwIG9ubHk/XG4gICAgICAgIHZhciBpc0VkaXRhYmxlID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRFZGl0YWJsZSkgIT09IGZhbHNlO1xuXG4gICAgICAgIC8vYmluZGluZyB0byBhIHZhcmlhYmxlIHRoYXQgaW5kaWNhdGVzIGlmIG1hdGNoZXMgYXJlIGJlaW5nIHJldHJpZXZlZCBhc3luY2hyb25vdXNseVxuICAgICAgICB2YXIgaXNMb2FkaW5nU2V0dGVyID0gJHBhcnNlKGF0dHJzLnR5cGVhaGVhZExvYWRpbmcpLmFzc2lnbiB8fCBhbmd1bGFyLm5vb3A7XG5cbiAgICAgICAgLy9hIGNhbGxiYWNrIGV4ZWN1dGVkIHdoZW4gYSBtYXRjaCBpcyBzZWxlY3RlZFxuICAgICAgICB2YXIgb25TZWxlY3RDYWxsYmFjayA9ICRwYXJzZShhdHRycy50eXBlYWhlYWRPblNlbGVjdCk7XG5cbiAgICAgICAgLy9zaG91bGQgaXQgc2VsZWN0IGhpZ2hsaWdodGVkIHBvcHVwIHZhbHVlIHdoZW4gbG9zaW5nIGZvY3VzP1xuICAgICAgICB2YXIgaXNTZWxlY3RPbkJsdXIgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy50eXBlYWhlYWRTZWxlY3RPbkJsdXIpID8gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRTZWxlY3RPbkJsdXIpIDogZmFsc2U7XG5cbiAgICAgICAgLy9iaW5kaW5nIHRvIGEgdmFyaWFibGUgdGhhdCBpbmRpY2F0ZXMgaWYgdGhlcmUgd2VyZSBubyByZXN1bHRzIGFmdGVyIHRoZSBxdWVyeSBpcyBjb21wbGV0ZWRcbiAgICAgICAgdmFyIGlzTm9SZXN1bHRzU2V0dGVyID0gJHBhcnNlKGF0dHJzLnR5cGVhaGVhZE5vUmVzdWx0cykuYXNzaWduIHx8IGFuZ3VsYXIubm9vcDtcblxuICAgICAgICB2YXIgaW5wdXRGb3JtYXR0ZXIgPSBhdHRycy50eXBlYWhlYWRJbnB1dEZvcm1hdHRlciA/ICRwYXJzZShhdHRycy50eXBlYWhlYWRJbnB1dEZvcm1hdHRlcikgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgdmFyIGFwcGVuZFRvQm9keSA9ICBhdHRycy50eXBlYWhlYWRBcHBlbmRUb0JvZHkgPyBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEFwcGVuZFRvQm9keSkgOiBmYWxzZTtcblxuICAgICAgICB2YXIgZm9jdXNGaXJzdCA9IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkRm9jdXNGaXJzdCkgIT09IGZhbHNlO1xuXG4gICAgICAgIC8vSWYgaW5wdXQgbWF0Y2hlcyBhbiBpdGVtIG9mIHRoZSBsaXN0IGV4YWN0bHksIHNlbGVjdCBpdCBhdXRvbWF0aWNhbGx5XG4gICAgICAgIHZhciBzZWxlY3RPbkV4YWN0ID0gYXR0cnMudHlwZWFoZWFkU2VsZWN0T25FeGFjdCA/IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkU2VsZWN0T25FeGFjdCkgOiBmYWxzZTtcblxuICAgICAgICAvL0lOVEVSTkFMIFZBUklBQkxFU1xuXG4gICAgICAgIC8vbW9kZWwgc2V0dGVyIGV4ZWN1dGVkIHVwb24gbWF0Y2ggc2VsZWN0aW9uXG4gICAgICAgIHZhciBwYXJzZWRNb2RlbCA9ICRwYXJzZShhdHRycy5uZ01vZGVsKTtcbiAgICAgICAgdmFyIGludm9rZU1vZGVsU2V0dGVyID0gJHBhcnNlKGF0dHJzLm5nTW9kZWwgKyAnKCQkJHApJyk7XG4gICAgICAgIHZhciAkc2V0TW9kZWxWYWx1ZSA9IGZ1bmN0aW9uKHNjb3BlLCBuZXdWYWx1ZSkge1xuICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24ocGFyc2VkTW9kZWwob3JpZ2luYWxTY29wZSkpICYmXG4gICAgICAgICAgICBuZ01vZGVsT3B0aW9ucyAmJiBuZ01vZGVsT3B0aW9ucy4kb3B0aW9ucyAmJiBuZ01vZGVsT3B0aW9ucy4kb3B0aW9ucy5nZXR0ZXJTZXR0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2VNb2RlbFNldHRlcihzY29wZSwgeyQkJHA6IG5ld1ZhbHVlfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZWRNb2RlbC5hc3NpZ24oc2NvcGUsIG5ld1ZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy9leHByZXNzaW9ucyB1c2VkIGJ5IHR5cGVhaGVhZFxuICAgICAgICB2YXIgcGFyc2VyUmVzdWx0ID0gdHlwZWFoZWFkUGFyc2VyLnBhcnNlKGF0dHJzLnR5cGVhaGVhZCk7XG5cbiAgICAgICAgdmFyIGhhc0ZvY3VzO1xuXG4gICAgICAgIC8vVXNlZCB0byBhdm9pZCBidWcgaW4gaU9TIHdlYnZpZXcgd2hlcmUgaU9TIGtleWJvYXJkIGRvZXMgbm90IGZpcmVcbiAgICAgICAgLy9tb3VzZWRvd24gJiBtb3VzZXVwIGV2ZW50c1xuICAgICAgICAvL0lzc3VlICMzNjk5XG4gICAgICAgIHZhciBzZWxlY3RlZDtcblxuICAgICAgICAvL2NyZWF0ZSBhIGNoaWxkIHNjb3BlIGZvciB0aGUgdHlwZWFoZWFkIGRpcmVjdGl2ZSBzbyB3ZSBhcmUgbm90IHBvbGx1dGluZyBvcmlnaW5hbCBzY29wZVxuICAgICAgICAvL3dpdGggdHlwZWFoZWFkLXNwZWNpZmljIGRhdGEgKG1hdGNoZXMsIHF1ZXJ5IGV0Yy4pXG4gICAgICAgIHZhciBzY29wZSA9IG9yaWdpbmFsU2NvcGUuJG5ldygpO1xuICAgICAgICB2YXIgb2ZmRGVzdHJveSA9IG9yaWdpbmFsU2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95Jywgb2ZmRGVzdHJveSk7XG5cbiAgICAgICAgLy8gV0FJLUFSSUFcbiAgICAgICAgdmFyIHBvcHVwSWQgPSAndHlwZWFoZWFkLScgKyBzY29wZS4kaWQgKyAnLScgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XG4gICAgICAgIGVsZW1lbnQuYXR0cih7XG4gICAgICAgICAgJ2FyaWEtYXV0b2NvbXBsZXRlJzogJ2xpc3QnLFxuICAgICAgICAgICdhcmlhLWV4cGFuZGVkJzogZmFsc2UsXG4gICAgICAgICAgJ2FyaWEtb3ducyc6IHBvcHVwSWRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9wb3AtdXAgZWxlbWVudCB1c2VkIHRvIGRpc3BsYXkgbWF0Y2hlc1xuICAgICAgICB2YXIgcG9wVXBFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiB0eXBlYWhlYWQtcG9wdXA+PC9kaXY+Jyk7XG4gICAgICAgIHBvcFVwRWwuYXR0cih7XG4gICAgICAgICAgaWQ6IHBvcHVwSWQsXG4gICAgICAgICAgbWF0Y2hlczogJ21hdGNoZXMnLFxuICAgICAgICAgIGFjdGl2ZTogJ2FjdGl2ZUlkeCcsXG4gICAgICAgICAgc2VsZWN0OiAnc2VsZWN0KGFjdGl2ZUlkeCknLFxuICAgICAgICAgICdtb3ZlLWluLXByb2dyZXNzJzogJ21vdmVJblByb2dyZXNzJyxcbiAgICAgICAgICBxdWVyeTogJ3F1ZXJ5JyxcbiAgICAgICAgICBwb3NpdGlvbjogJ3Bvc2l0aW9uJ1xuICAgICAgICB9KTtcbiAgICAgICAgLy9jdXN0b20gaXRlbSB0ZW1wbGF0ZVxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudHlwZWFoZWFkVGVtcGxhdGVVcmwpKSB7XG4gICAgICAgICAgcG9wVXBFbC5hdHRyKCd0ZW1wbGF0ZS11cmwnLCBhdHRycy50eXBlYWhlYWRUZW1wbGF0ZVVybCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudHlwZWFoZWFkUG9wdXBUZW1wbGF0ZVVybCkpIHtcbiAgICAgICAgICBwb3BVcEVsLmF0dHIoJ3BvcHVwLXRlbXBsYXRlLXVybCcsIGF0dHJzLnR5cGVhaGVhZFBvcHVwVGVtcGxhdGVVcmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc2V0TWF0Y2hlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNjb3BlLm1hdGNoZXMgPSBbXTtcbiAgICAgICAgICBzY29wZS5hY3RpdmVJZHggPSAtMTtcbiAgICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldE1hdGNoSWQgPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgIHJldHVybiBwb3B1cElkICsgJy1vcHRpb24tJyArIGluZGV4O1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEluZGljYXRlIHRoYXQgdGhlIHNwZWNpZmllZCBtYXRjaCBpcyB0aGUgYWN0aXZlIChwcmUtc2VsZWN0ZWQpIGl0ZW0gaW4gdGhlIGxpc3Qgb3duZWQgYnkgdGhpcyB0eXBlYWhlYWQuXG4gICAgICAgIC8vIFRoaXMgYXR0cmlidXRlIGlzIGFkZGVkIG9yIHJlbW92ZWQgYXV0b21hdGljYWxseSB3aGVuIHRoZSBgYWN0aXZlSWR4YCBjaGFuZ2VzLlxuICAgICAgICBzY29wZS4kd2F0Y2goJ2FjdGl2ZUlkeCcsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyKCdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnLCBnZXRNYXRjaElkKGluZGV4KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgaW5wdXRJc0V4YWN0TWF0Y2ggPSBmdW5jdGlvbihpbnB1dFZhbHVlLCBpbmRleCkge1xuICAgICAgICAgIGlmIChzY29wZS5tYXRjaGVzLmxlbmd0aCA+IGluZGV4ICYmIGlucHV0VmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dFZhbHVlLnRvVXBwZXJDYXNlKCkgPT09IHNjb3BlLm1hdGNoZXNbaW5kZXhdLmxhYmVsLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRNYXRjaGVzQXN5bmMgPSBmdW5jdGlvbihpbnB1dFZhbHVlKSB7XG4gICAgICAgICAgdmFyIGxvY2FscyA9IHskdmlld1ZhbHVlOiBpbnB1dFZhbHVlfTtcbiAgICAgICAgICBpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwgdHJ1ZSk7XG4gICAgICAgICAgaXNOb1Jlc3VsdHNTZXR0ZXIob3JpZ2luYWxTY29wZSwgZmFsc2UpO1xuICAgICAgICAgICRxLndoZW4ocGFyc2VyUmVzdWx0LnNvdXJjZShvcmlnaW5hbFNjb3BlLCBsb2NhbHMpKS50aGVuKGZ1bmN0aW9uKG1hdGNoZXMpIHtcbiAgICAgICAgICAgIC8vaXQgbWlnaHQgaGFwcGVuIHRoYXQgc2V2ZXJhbCBhc3luYyBxdWVyaWVzIHdlcmUgaW4gcHJvZ3Jlc3MgaWYgYSB1c2VyIHdlcmUgdHlwaW5nIGZhc3RcbiAgICAgICAgICAgIC8vYnV0IHdlIGFyZSBpbnRlcmVzdGVkIG9ubHkgaW4gcmVzcG9uc2VzIHRoYXQgY29ycmVzcG9uZCB0byB0aGUgY3VycmVudCB2aWV3IHZhbHVlXG4gICAgICAgICAgICB2YXIgb25DdXJyZW50UmVxdWVzdCA9IChpbnB1dFZhbHVlID09PSBtb2RlbEN0cmwuJHZpZXdWYWx1ZSk7XG4gICAgICAgICAgICBpZiAob25DdXJyZW50UmVxdWVzdCAmJiBoYXNGb2N1cykge1xuICAgICAgICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgICAgIHNjb3BlLmFjdGl2ZUlkeCA9IGZvY3VzRmlyc3QgPyAwIDogLTE7XG4gICAgICAgICAgICAgICAgaXNOb1Jlc3VsdHNTZXR0ZXIob3JpZ2luYWxTY29wZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNjb3BlLm1hdGNoZXMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgICAgIC8vdHJhbnNmb3JtIGxhYmVsc1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSBtYXRjaGVzW2ldO1xuICAgICAgICAgICAgICAgICAgc2NvcGUubWF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGdldE1hdGNoSWQoaSksXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBwYXJzZXJSZXN1bHQudmlld01hcHBlcihzY29wZSwgbG9jYWxzKSxcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IG1hdGNoZXNbaV1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLnF1ZXJ5ID0gaW5wdXRWYWx1ZTtcbiAgICAgICAgICAgICAgICAvL3Bvc2l0aW9uIHBvcC11cCB3aXRoIG1hdGNoZXMgLSB3ZSBuZWVkIHRvIHJlLWNhbGN1bGF0ZSBpdHMgcG9zaXRpb24gZWFjaCB0aW1lIHdlIGFyZSBvcGVuaW5nIGEgd2luZG93XG4gICAgICAgICAgICAgICAgLy93aXRoIG1hdGNoZXMgYXMgYSBwb3AtdXAgbWlnaHQgYmUgYWJzb2x1dGUtcG9zaXRpb25lZCBhbmQgcG9zaXRpb24gb2YgYW4gaW5wdXQgbWlnaHQgaGF2ZSBjaGFuZ2VkIG9uIGEgcGFnZVxuICAgICAgICAgICAgICAgIC8vZHVlIHRvIG90aGVyIGVsZW1lbnRzIGJlaW5nIHJlbmRlcmVkXG4gICAgICAgICAgICAgICAgcmVjYWxjdWxhdGVQb3NpdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAvL1NlbGVjdCB0aGUgc2luZ2xlIHJlbWFpbmluZyBvcHRpb24gaWYgdXNlciBpbnB1dCBtYXRjaGVzXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdE9uRXhhY3QgJiYgc2NvcGUubWF0Y2hlcy5sZW5ndGggPT09IDEgJiYgaW5wdXRJc0V4YWN0TWF0Y2goaW5wdXRWYWx1ZSwgMCkpIHtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLnNlbGVjdCgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgICAgICAgICAgaXNOb1Jlc3VsdHNTZXR0ZXIob3JpZ2luYWxTY29wZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbkN1cnJlbnRSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgICBpc05vUmVzdWx0c1NldHRlcihvcmlnaW5hbFNjb3BlLCB0cnVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBiaW5kIGV2ZW50cyBvbmx5IGlmIGFwcGVuZFRvQm9keSBwYXJhbXMgZXhpc3QgLSBwZXJmb3JtYW5jZSBmZWF0dXJlXG4gICAgICAgIGlmIChhcHBlbmRUb0JvZHkpIHtcbiAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykuYmluZCgncmVzaXplJywgZmlyZVJlY2FsY3VsYXRpbmcpO1xuICAgICAgICAgICRkb2N1bWVudC5maW5kKCdib2R5JykuYmluZCgnc2Nyb2xsJywgZmlyZVJlY2FsY3VsYXRpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVjbGFyZSB0aGUgdGltZW91dCBwcm9taXNlIHZhciBvdXRzaWRlIHRoZSBmdW5jdGlvbiBzY29wZSBzbyB0aGF0IHN0YWNrZWQgY2FsbHMgY2FuIGJlIGNhbmNlbGxlZCBsYXRlclxuICAgICAgICB2YXIgdGltZW91dEV2ZW50UHJvbWlzZTtcblxuICAgICAgICAvLyBEZWZhdWx0IHByb2dyZXNzIHR5cGVcbiAgICAgICAgc2NvcGUubW92ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblxuICAgICAgICBmdW5jdGlvbiBmaXJlUmVjYWxjdWxhdGluZygpIHtcbiAgICAgICAgICBpZiAoIXNjb3BlLm1vdmVJblByb2dyZXNzKSB7XG4gICAgICAgICAgICBzY29wZS5tb3ZlSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ2FuY2VsIHByZXZpb3VzIHRpbWVvdXRcbiAgICAgICAgICBpZiAodGltZW91dEV2ZW50UHJvbWlzZSkge1xuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVvdXRFdmVudFByb21pc2UpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIERlYm91bmNlZCBleGVjdXRpbmcgcmVjYWxjdWxhdGUgYWZ0ZXIgZXZlbnRzIGZpcmVkXG4gICAgICAgICAgdGltZW91dEV2ZW50UHJvbWlzZSA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gaWYgcG9wdXAgaXMgdmlzaWJsZVxuICAgICAgICAgICAgaWYgKHNjb3BlLm1hdGNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHJlY2FsY3VsYXRlUG9zaXRpb24oKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2NvcGUubW92ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICB9LCBldmVudERlYm91bmNlVGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZWNhbGN1bGF0ZSBhY3R1YWwgcG9zaXRpb24gYW5kIHNldCBuZXcgdmFsdWVzIHRvIHNjb3BlXG4gICAgICAgIC8vIGFmdGVyIGRpZ2VzdCBsb29wIGlzIHBvcHVwIGluIHJpZ2h0IHBvc2l0aW9uXG4gICAgICAgIGZ1bmN0aW9uIHJlY2FsY3VsYXRlUG9zaXRpb24oKSB7XG4gICAgICAgICAgc2NvcGUucG9zaXRpb24gPSBhcHBlbmRUb0JvZHkgPyAkcG9zaXRpb24ub2Zmc2V0KGVsZW1lbnQpIDogJHBvc2l0aW9uLnBvc2l0aW9uKGVsZW1lbnQpO1xuICAgICAgICAgIHNjb3BlLnBvc2l0aW9uLnRvcCArPSBlbGVtZW50LnByb3AoJ29mZnNldEhlaWdodCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG5cbiAgICAgICAgLy93ZSBuZWVkIHRvIHByb3BhZ2F0ZSB1c2VyJ3MgcXVlcnkgc28gd2UgY2FuIGhpZ2xpZ2h0IG1hdGNoZXNcbiAgICAgICAgc2NvcGUucXVlcnkgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy9EZWNsYXJlIHRoZSB0aW1lb3V0IHByb21pc2UgdmFyIG91dHNpZGUgdGhlIGZ1bmN0aW9uIHNjb3BlIHNvIHRoYXQgc3RhY2tlZCBjYWxscyBjYW4gYmUgY2FuY2VsbGVkIGxhdGVyXG4gICAgICAgIHZhciB0aW1lb3V0UHJvbWlzZTtcblxuICAgICAgICB2YXIgc2NoZWR1bGVTZWFyY2hXaXRoVGltZW91dCA9IGZ1bmN0aW9uKGlucHV0VmFsdWUpIHtcbiAgICAgICAgICB0aW1lb3V0UHJvbWlzZSA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZ2V0TWF0Y2hlc0FzeW5jKGlucHV0VmFsdWUpO1xuICAgICAgICAgIH0sIHdhaXRUaW1lKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgY2FuY2VsUHJldmlvdXNUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKHRpbWVvdXRQcm9taXNlKSB7XG4gICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodGltZW91dFByb21pc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvL3BsdWcgaW50byAkcGFyc2VycyBwaXBlbGluZSB0byBvcGVuIGEgdHlwZWFoZWFkIG9uIHZpZXcgY2hhbmdlcyBpbml0aWF0ZWQgZnJvbSBET01cbiAgICAgICAgLy8kcGFyc2VycyBraWNrLWluIG9uIGFsbCB0aGUgY2hhbmdlcyBjb21pbmcgZnJvbSB0aGUgdmlldyBhcyB3ZWxsIGFzIG1hbnVhbGx5IHRyaWdnZXJlZCBieSAkc2V0Vmlld1ZhbHVlXG4gICAgICAgIG1vZGVsQ3RybC4kcGFyc2Vycy51bnNoaWZ0KGZ1bmN0aW9uKGlucHV0VmFsdWUpIHtcbiAgICAgICAgICBoYXNGb2N1cyA9IHRydWU7XG5cbiAgICAgICAgICBpZiAobWluTGVuZ3RoID09PSAwIHx8IGlucHV0VmFsdWUgJiYgaW5wdXRWYWx1ZS5sZW5ndGggPj0gbWluTGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAod2FpdFRpbWUgPiAwKSB7XG4gICAgICAgICAgICAgIGNhbmNlbFByZXZpb3VzVGltZW91dCgpO1xuICAgICAgICAgICAgICBzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0KGlucHV0VmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZ2V0TWF0Y2hlc0FzeW5jKGlucHV0VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwgZmFsc2UpO1xuICAgICAgICAgICAgY2FuY2VsUHJldmlvdXNUaW1lb3V0KCk7XG4gICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaXNFZGl0YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0VmFsdWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaW5wdXRWYWx1ZSkge1xuICAgICAgICAgICAgICAvLyBSZXNldCBpbiBjYXNlIHVzZXIgaGFkIHR5cGVkIHNvbWV0aGluZyBwcmV2aW91c2x5LlxuICAgICAgICAgICAgICBtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdlZGl0YWJsZScsIHRydWUpO1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgZmFsc2UpO1xuICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24obW9kZWxWYWx1ZSkge1xuICAgICAgICAgIHZhciBjYW5kaWRhdGVWaWV3VmFsdWUsIGVtcHR5Vmlld1ZhbHVlO1xuICAgICAgICAgIHZhciBsb2NhbHMgPSB7fTtcblxuICAgICAgICAgIC8vIFRoZSB2YWxpZGl0eSBtYXkgYmUgc2V0IHRvIGZhbHNlIHZpYSAkcGFyc2VycyAoc2VlIGFib3ZlKSBpZlxuICAgICAgICAgIC8vIHRoZSBtb2RlbCBpcyByZXN0cmljdGVkIHRvIHNlbGVjdGVkIHZhbHVlcy4gSWYgdGhlIG1vZGVsXG4gICAgICAgICAgLy8gaXMgc2V0IG1hbnVhbGx5IGl0IGlzIGNvbnNpZGVyZWQgdG8gYmUgdmFsaWQuXG4gICAgICAgICAgaWYgKCFpc0VkaXRhYmxlKSB7XG4gICAgICAgICAgICBtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdlZGl0YWJsZScsIHRydWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpbnB1dEZvcm1hdHRlcikge1xuICAgICAgICAgICAgbG9jYWxzLiRtb2RlbCA9IG1vZGVsVmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXRGb3JtYXR0ZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9pdCBtaWdodCBoYXBwZW4gdGhhdCB3ZSBkb24ndCBoYXZlIGVub3VnaCBpbmZvIHRvIHByb3Blcmx5IHJlbmRlciBpbnB1dCB2YWx1ZVxuICAgICAgICAgICAgLy93ZSBuZWVkIHRvIGNoZWNrIGZvciB0aGlzIHNpdHVhdGlvbiBhbmQgc2ltcGx5IHJldHVybiBtb2RlbCB2YWx1ZSBpZiB3ZSBjYW4ndCBhcHBseSBjdXN0b20gZm9ybWF0dGluZ1xuICAgICAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSBtb2RlbFZhbHVlO1xuICAgICAgICAgICAgY2FuZGlkYXRlVmlld1ZhbHVlID0gcGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICAgIGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgZW1wdHlWaWV3VmFsdWUgPSBwYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuXG4gICAgICAgICAgICByZXR1cm4gY2FuZGlkYXRlVmlld1ZhbHVlIT09IGVtcHR5Vmlld1ZhbHVlID8gY2FuZGlkYXRlVmlld1ZhbHVlIDogbW9kZWxWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKGFjdGl2ZUlkeCkge1xuICAgICAgICAgIC8vY2FsbGVkIGZyb20gd2l0aGluIHRoZSAkZGlnZXN0KCkgY3ljbGVcbiAgICAgICAgICB2YXIgbG9jYWxzID0ge307XG4gICAgICAgICAgdmFyIG1vZGVsLCBpdGVtO1xuXG4gICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgIGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdID0gaXRlbSA9IHNjb3BlLm1hdGNoZXNbYWN0aXZlSWR4XS5tb2RlbDtcbiAgICAgICAgICBtb2RlbCA9IHBhcnNlclJlc3VsdC5tb2RlbE1hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgICRzZXRNb2RlbFZhbHVlKG9yaWdpbmFsU2NvcGUsIG1vZGVsKTtcbiAgICAgICAgICBtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdlZGl0YWJsZScsIHRydWUpO1xuICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3BhcnNlJywgdHJ1ZSk7XG5cbiAgICAgICAgICBvblNlbGVjdENhbGxiYWNrKG9yaWdpbmFsU2NvcGUsIHtcbiAgICAgICAgICAgICRpdGVtOiBpdGVtLFxuICAgICAgICAgICAgJG1vZGVsOiBtb2RlbCxcbiAgICAgICAgICAgICRsYWJlbDogcGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG5cbiAgICAgICAgICAvL3JldHVybiBmb2N1cyB0byB0aGUgaW5wdXQgZWxlbWVudCBpZiBhIG1hdGNoIHdhcyBzZWxlY3RlZCB2aWEgYSBtb3VzZSBjbGljayBldmVudFxuICAgICAgICAgIC8vIHVzZSB0aW1lb3V0IHRvIGF2b2lkICRyb290U2NvcGU6aW5wcm9nIGVycm9yXG4gICAgICAgICAgaWYgKHNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEZvY3VzT25TZWxlY3QpICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7IGVsZW1lbnRbMF0uZm9jdXMoKTsgfSwgMCwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvL2JpbmQga2V5Ym9hcmQgZXZlbnRzOiBhcnJvd3MgdXAoMzgpIC8gZG93big0MCksIGVudGVyKDEzKSBhbmQgdGFiKDkpLCBlc2MoMjcpXG4gICAgICAgIGVsZW1lbnQuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIC8vdHlwZWFoZWFkIGlzIG9wZW4gYW5kIGFuIFwiaW50ZXJlc3RpbmdcIiBrZXkgd2FzIHByZXNzZWRcbiAgICAgICAgICBpZiAoc2NvcGUubWF0Y2hlcy5sZW5ndGggPT09IDAgfHwgSE9UX0tFWVMuaW5kZXhPZihldnQud2hpY2gpID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGlmIHRoZXJlJ3Mgbm90aGluZyBzZWxlY3RlZCAoaS5lLiBmb2N1c0ZpcnN0KSBhbmQgZW50ZXIgb3IgdGFiIGlzIGhpdCwgY2xlYXIgdGhlIHJlc3VsdHNcbiAgICAgICAgICBpZiAoc2NvcGUuYWN0aXZlSWR4ID09PSAtMSAmJiAoZXZ0LndoaWNoID09PSA5IHx8IGV2dC53aGljaCA9PT0gMTMpKSB7XG4gICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgIGlmIChldnQud2hpY2ggPT09IDQwKSB7XG4gICAgICAgICAgICBzY29wZS5hY3RpdmVJZHggPSAoc2NvcGUuYWN0aXZlSWR4ICsgMSkgJSBzY29wZS5tYXRjaGVzLmxlbmd0aDtcbiAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcblxuICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSAzOCkge1xuICAgICAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gKHNjb3BlLmFjdGl2ZUlkeCA+IDAgPyBzY29wZS5hY3RpdmVJZHggOiBzY29wZS5tYXRjaGVzLmxlbmd0aCkgLSAxO1xuICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDEzIHx8IGV2dC53aGljaCA9PT0gOSkge1xuICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0KHNjb3BlLmFjdGl2ZUlkeCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSAyNykge1xuICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVsZW1lbnQuYmluZCgnYmx1cicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChpc1NlbGVjdE9uQmx1ciAmJiBzY29wZS5tYXRjaGVzLmxlbmd0aCAmJiBzY29wZS5hY3RpdmVJZHggIT09IC0xICYmICFzZWxlY3RlZCkge1xuICAgICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzY29wZS5zZWxlY3Qoc2NvcGUuYWN0aXZlSWR4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYXNGb2N1cyA9IGZhbHNlO1xuICAgICAgICAgIHNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEtlZXAgcmVmZXJlbmNlIHRvIGNsaWNrIGhhbmRsZXIgdG8gdW5iaW5kIGl0LlxuICAgICAgICB2YXIgZGlzbWlzc0NsaWNrSGFuZGxlciA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIC8vIElzc3VlICMzOTczXG4gICAgICAgICAgLy8gRmlyZWZveCB0cmVhdHMgcmlnaHQgY2xpY2sgYXMgYSBjbGljayBvbiBkb2N1bWVudFxuICAgICAgICAgIGlmIChlbGVtZW50WzBdICE9PSBldnQudGFyZ2V0ICYmIGV2dC53aGljaCAhPT0gMyAmJiBzY29wZS5tYXRjaGVzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRkb2N1bWVudC5iaW5kKCdjbGljaycsIGRpc21pc3NDbGlja0hhbmRsZXIpO1xuXG4gICAgICAgIG9yaWdpbmFsU2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRkb2N1bWVudC51bmJpbmQoJ2NsaWNrJywgZGlzbWlzc0NsaWNrSGFuZGxlcik7XG4gICAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICAgICAgJHBvcHVwLnJlbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBQcmV2ZW50IGpRdWVyeSBjYWNoZSBtZW1vcnkgbGVha1xuICAgICAgICAgIHBvcFVwRWwucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciAkcG9wdXAgPSAkY29tcGlsZShwb3BVcEVsKShzY29wZSk7XG5cbiAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICAgICRkb2N1bWVudC5maW5kKCdib2R5JykuYXBwZW5kKCRwb3B1cCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbWVudC5hZnRlcigkcG9wdXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICB9XSlcblxuICAuZGlyZWN0aXZlKCd0eXBlYWhlYWRQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG1hdGNoZXM6ICc9JyxcbiAgICAgICAgcXVlcnk6ICc9JyxcbiAgICAgICAgYWN0aXZlOiAnPScsXG4gICAgICAgIHBvc2l0aW9uOiAnJicsXG4gICAgICAgIG1vdmVJblByb2dyZXNzOiAnPScsXG4gICAgICAgIHNlbGVjdDogJyYnXG4gICAgICB9LFxuICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgICByZXR1cm4gYXR0cnMucG9wdXBUZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sJztcbiAgICAgIH0sXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgc2NvcGUudGVtcGxhdGVVcmwgPSBhdHRycy50ZW1wbGF0ZVVybDtcblxuICAgICAgICBzY29wZS5pc09wZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gc2NvcGUubWF0Y2hlcy5sZW5ndGggPiAwO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNjb3BlLmlzQWN0aXZlID0gZnVuY3Rpb24obWF0Y2hJZHgpIHtcbiAgICAgICAgICByZXR1cm4gc2NvcGUuYWN0aXZlID09IG1hdGNoSWR4O1xuICAgICAgICB9O1xuXG4gICAgICAgIHNjb3BlLnNlbGVjdEFjdGl2ZSA9IGZ1bmN0aW9uKG1hdGNoSWR4KSB7XG4gICAgICAgICAgc2NvcGUuYWN0aXZlID0gbWF0Y2hJZHg7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuc2VsZWN0TWF0Y2ggPSBmdW5jdGlvbihhY3RpdmVJZHgpIHtcbiAgICAgICAgICBzY29wZS5zZWxlY3Qoe2FjdGl2ZUlkeDphY3RpdmVJZHh9KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICB9KVxuXG4gIC5kaXJlY3RpdmUoJ3R5cGVhaGVhZE1hdGNoJywgWyckdGVtcGxhdGVSZXF1ZXN0JywgJyRjb21waWxlJywgJyRwYXJzZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZVJlcXVlc3QsICRjb21waWxlLCAkcGFyc2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICBzY29wZToge1xuICAgICAgICBpbmRleDogJz0nLFxuICAgICAgICBtYXRjaDogJz0nLFxuICAgICAgICBxdWVyeTogJz0nXG4gICAgICB9LFxuICAgICAgbGluazpmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgdmFyIHRwbFVybCA9ICRwYXJzZShhdHRycy50ZW1wbGF0ZVVybCkoc2NvcGUuJHBhcmVudCkgfHwgJ3RlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbCc7XG4gICAgICAgICR0ZW1wbGF0ZVJlcXVlc3QodHBsVXJsKS50aGVuKGZ1bmN0aW9uKHRwbENvbnRlbnQpIHtcbiAgICAgICAgICAkY29tcGlsZSh0cGxDb250ZW50LnRyaW0oKSkoc2NvcGUsIGZ1bmN0aW9uKGNsb25lZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVwbGFjZVdpdGgoY2xvbmVkRWxlbWVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1dKVxuXG4gIC5maWx0ZXIoJ3R5cGVhaGVhZEhpZ2hsaWdodCcsIFsnJHNjZScsICckaW5qZWN0b3InLCAnJGxvZycsIGZ1bmN0aW9uKCRzY2UsICRpbmplY3RvciwgJGxvZykge1xuICAgIHZhciBpc1Nhbml0aXplUHJlc2VudDtcbiAgICBpc1Nhbml0aXplUHJlc2VudCA9ICRpbmplY3Rvci5oYXMoJyRzYW5pdGl6ZScpO1xuXG4gICAgZnVuY3Rpb24gZXNjYXBlUmVnZXhwKHF1ZXJ5VG9Fc2NhcGUpIHtcbiAgICAgIC8vIFJlZ2V4OiBjYXB0dXJlIHRoZSB3aG9sZSBxdWVyeSBzdHJpbmcgYW5kIHJlcGxhY2UgaXQgd2l0aCB0aGUgc3RyaW5nIHRoYXQgd2lsbCBiZSB1c2VkIHRvIG1hdGNoXG4gICAgICAvLyB0aGUgcmVzdWx0cywgZm9yIGV4YW1wbGUgaWYgdGhlIGNhcHR1cmUgaXMgXCJhXCIgdGhlIHJlc3VsdCB3aWxsIGJlIFxcYVxuICAgICAgcmV0dXJuIHF1ZXJ5VG9Fc2NhcGUucmVwbGFjZSgvKFsuPyorXiRbXFxdXFxcXCgpe318LV0pL2csICdcXFxcJDEnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb250YWluc0h0bWwobWF0Y2hJdGVtKSB7XG4gICAgICByZXR1cm4gLzwuKj4vZy50ZXN0KG1hdGNoSXRlbSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG1hdGNoSXRlbSwgcXVlcnkpIHtcbiAgICAgIGlmICghaXNTYW5pdGl6ZVByZXNlbnQgJiYgY29udGFpbnNIdG1sKG1hdGNoSXRlbSkpIHtcbiAgICAgICAgJGxvZy53YXJuKCdVbnNhZmUgdXNlIG9mIHR5cGVhaGVhZCBwbGVhc2UgdXNlIG5nU2FuaXRpemUnKTsgLy8gV2FybiB0aGUgdXNlciBhYm91dCB0aGUgZGFuZ2VyXG4gICAgICB9XG4gICAgICBtYXRjaEl0ZW0gPSBxdWVyeT8gKCcnICsgbWF0Y2hJdGVtKS5yZXBsYWNlKG5ldyBSZWdFeHAoZXNjYXBlUmVnZXhwKHF1ZXJ5KSwgJ2dpJyksICc8c3Ryb25nPiQmPC9zdHJvbmc+JykgOiBtYXRjaEl0ZW07IC8vIFJlcGxhY2VzIHRoZSBjYXB0dXJlIHN0cmluZyB3aXRoIGEgdGhlIHNhbWUgc3RyaW5nIGluc2lkZSBvZiBhIFwic3Ryb25nXCIgdGFnXG4gICAgICBpZiAoIWlzU2FuaXRpemVQcmVzZW50KSB7XG4gICAgICAgIG1hdGNoSXRlbSA9ICRzY2UudHJ1c3RBc0h0bWwobWF0Y2hJdGVtKTsgLy8gSWYgJHNhbml0aXplIGlzIG5vdCBwcmVzZW50IHdlIHBhY2sgdGhlIHN0cmluZyBpbiBhICRzY2Ugb2JqZWN0IGZvciB0aGUgbmctYmluZC1odG1sIGRpcmVjdGl2ZVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoSXRlbTtcbiAgICB9O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwYW5lbCB7e3BhbmVsQ2xhc3MgfHwgJ3BhbmVsLWRlZmF1bHQnfX1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicGFuZWwtaGVhZGluZ1xcXCIgbmcta2V5cHJlc3M9XFxcInRvZ2dsZU9wZW4oJGV2ZW50KVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxoNCBjbGFzcz1cXFwicGFuZWwtdGl0bGVcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxhIGhyZWYgdGFiaW5kZXg9XFxcIjBcXFwiIGNsYXNzPVxcXCJhY2NvcmRpb24tdG9nZ2xlXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlT3BlbigpXFxcIiBhY2NvcmRpb24tdHJhbnNjbHVkZT1cXFwiaGVhZGluZ1xcXCI+PHNwYW4gbmctY2xhc3M9XFxcInsndGV4dC1tdXRlZCc6IGlzRGlzYWJsZWR9XFxcIj57e2hlYWRpbmd9fTwvc3Bhbj48L2E+XFxuXCIgK1xuICAgIFwiICAgIDwvaDQ+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInBhbmVsLWNvbGxhcHNlIGNvbGxhcHNlXFxcIiBjb2xsYXBzZT1cXFwiIWlzT3BlblxcXCI+XFxuXCIgK1xuICAgIFwiXHQgIDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ncm91cFxcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcImFsZXJ0XFxcIiBuZy1jbGFzcz1cXFwiWydhbGVydC0nICsgKHR5cGUgfHwgJ3dhcm5pbmcnKSwgY2xvc2VhYmxlID8gJ2FsZXJ0LWRpc21pc3NpYmxlJyA6IG51bGxdXFxcIiByb2xlPVxcXCJhbGVydFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxidXR0b24gbmctc2hvdz1cXFwiY2xvc2VhYmxlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgbmctY2xpY2s9XFxcImNsb3NlKCRldmVudClcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPiZ0aW1lczs8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgICA8c3BhbiBjbGFzcz1cXFwic3Itb25seVxcXCI+Q2xvc2U8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sXCIsXG4gICAgXCI8ZGl2IG5nLW1vdXNlZW50ZXI9XFxcInBhdXNlKClcXFwiIG5nLW1vdXNlbGVhdmU9XFxcInBsYXkoKVxcXCIgY2xhc3M9XFxcImNhcm91c2VsXFxcIiBuZy1zd2lwZS1yaWdodD1cXFwicHJldigpXFxcIiBuZy1zd2lwZS1sZWZ0PVxcXCJuZXh0KClcXFwiPlxcblwiICtcbiAgICBcIiAgICA8b2wgY2xhc3M9XFxcImNhcm91c2VsLWluZGljYXRvcnNcXFwiIG5nLXNob3c9XFxcInNsaWRlcy5sZW5ndGggPiAxXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxsaSBuZy1yZXBlYXQ9XFxcInNsaWRlIGluIHNsaWRlcyB8IG9yZGVyQnk6aW5kZXhPZlNsaWRlIHRyYWNrIGJ5ICRpbmRleFxcXCIgbmctY2xhc3M9XFxcInthY3RpdmU6IGlzQWN0aXZlKHNsaWRlKX1cXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3Qoc2xpZGUpXFxcIj48L2xpPlxcblwiICtcbiAgICBcIiAgICA8L29sPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJjYXJvdXNlbC1pbm5lclxcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPGEgY2xhc3M9XFxcImxlZnQgY2Fyb3VzZWwtY29udHJvbFxcXCIgbmctY2xpY2s9XFxcInByZXYoKVxcXCIgbmctc2hvdz1cXFwic2xpZGVzLmxlbmd0aCA+IDFcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdFxcXCI+PC9zcGFuPjwvYT5cXG5cIiArXG4gICAgXCIgICAgPGEgY2xhc3M9XFxcInJpZ2h0IGNhcm91c2VsLWNvbnRyb2xcXFwiIG5nLWNsaWNrPVxcXCJuZXh0KClcXFwiIG5nLXNob3c9XFxcInNsaWRlcy5sZW5ndGggPiAxXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L3NwYW4+PC9hPlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvY2Fyb3VzZWwvc2xpZGUuaHRtbFwiLFxuICAgIFwiPGRpdiBuZy1jbGFzcz1cXFwie1xcblwiICtcbiAgICBcIiAgICAnYWN0aXZlJzogYWN0aXZlXFxuXCIgK1xuICAgIFwiICB9XFxcIiBjbGFzcz1cXFwiaXRlbSB0ZXh0LWNlbnRlclxcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbFwiLFxuICAgIFwiPGRpdiBuZy1zd2l0Y2g9XFxcImRhdGVwaWNrZXJNb2RlXFxcIiByb2xlPVxcXCJhcHBsaWNhdGlvblxcXCIgbmcta2V5ZG93bj1cXFwia2V5ZG93bigkZXZlbnQpXFxcIj5cXG5cIiArXG4gICAgXCIgIDxkYXlwaWNrZXIgbmctc3dpdGNoLXdoZW49XFxcImRheVxcXCIgdGFiaW5kZXg9XFxcIjBcXFwiPjwvZGF5cGlja2VyPlxcblwiICtcbiAgICBcIiAgPG1vbnRocGlja2VyIG5nLXN3aXRjaC13aGVuPVxcXCJtb250aFxcXCIgdGFiaW5kZXg9XFxcIjBcXFwiPjwvbW9udGhwaWNrZXI+XFxuXCIgK1xuICAgIFwiICA8eWVhcnBpY2tlciBuZy1zd2l0Y2gtd2hlbj1cXFwieWVhclxcXCIgdGFiaW5kZXg9XFxcIjBcXFwiPjwveWVhcnBpY2tlcj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWxcIixcbiAgICBcIjx0YWJsZSByb2xlPVxcXCJncmlkXFxcIiBhcmlhLWxhYmVsbGVkYnk9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XFxcInt7YWN0aXZlRGF0ZUlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgPHRoZWFkPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKC0xKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aCBjb2xzcGFuPVxcXCJ7ezo6NSArIHNob3dXZWVrc319XFxcIj48YnV0dG9uIGlkPVxcXCJ7ezo6dW5pcXVlSWR9fS10aXRsZVxcXCIgcm9sZT1cXFwiaGVhZGluZ1xcXCIgYXJpYS1saXZlPVxcXCJhc3NlcnRpdmVcXFwiIGFyaWEtYXRvbWljPVxcXCJ0cnVlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTW9kZSgpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZGF0ZXBpY2tlck1vZGUgPT09IG1heE1vZGVcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgc3R5bGU9XFxcIndpZHRoOjEwMCU7XFxcIj48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgxKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgICAgPHRyPlxcblwiICtcbiAgICBcIiAgICAgIDx0aCBuZy1pZj1cXFwic2hvd1dlZWtzXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoIG5nLXJlcGVhdD1cXFwibGFiZWwgaW4gOjpsYWJlbHMgdHJhY2sgYnkgJGluZGV4XFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiPjxzbWFsbCBhcmlhLWxhYmVsPVxcXCJ7ezo6bGFiZWwuZnVsbH19XFxcIj57ezo6bGFiZWwuYWJicn19PC9zbWFsbD48L3RoPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90aGVhZD5cXG5cIiArXG4gICAgXCIgIDx0Ym9keT5cXG5cIiArXG4gICAgXCIgICAgPHRyIG5nLXJlcGVhdD1cXFwicm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctaWY9XFxcInNob3dXZWVrc1xcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyIGg2XFxcIj48ZW0+e3sgd2Vla051bWJlcnNbJGluZGV4XSB9fTwvZW0+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctcmVwZWF0PVxcXCJkdCBpbiByb3cgdHJhY2sgYnkgZHQuZGF0ZVxcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIiByb2xlPVxcXCJncmlkY2VsbFxcXCIgaWQ9XFxcInt7OjpkdC51aWR9fVxcXCIgbmctY2xhc3M9XFxcIjo6ZHQuY3VzdG9tQ2xhc3NcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIHN0eWxlPVxcXCJtaW4td2lkdGg6MTAwJTtcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGFzcz1cXFwieydidG4taW5mbyc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX1cXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QoZHQuZGF0ZSlcXFwiIG5nLWRpc2FibGVkPVxcXCJkdC5kaXNhYmxlZFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48c3BhbiBuZy1jbGFzcz1cXFwiOjp7J3RleHQtbXV0ZWQnOiBkdC5zZWNvbmRhcnksICd0ZXh0LWluZm8nOiBkdC5jdXJyZW50fVxcXCI+e3s6OmR0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiPC90YWJsZT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sXCIsXG4gICAgXCI8dGFibGUgcm9sZT1cXFwiZ3JpZFxcXCIgYXJpYS1sYWJlbGxlZGJ5PVxcXCJ7ezo6dW5pcXVlSWR9fS10aXRsZVxcXCIgYXJpYS1hY3RpdmVkZXNjZW5kYW50PVxcXCJ7e2FjdGl2ZURhdGVJZH19XFxcIj5cXG5cIiArXG4gICAgXCIgIDx0aGVhZD5cXG5cIiArXG4gICAgXCIgICAgPHRyPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgtMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiBpZD1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIHJvbGU9XFxcImhlYWRpbmdcXFwiIGFyaWEtbGl2ZT1cXFwiYXNzZXJ0aXZlXFxcIiBhcmlhLWF0b21pYz1cXFwidHJ1ZVxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInRvZ2dsZU1vZGUoKVxcXCIgbmctZGlzYWJsZWQ9XFxcImRhdGVwaWNrZXJNb2RlID09PSBtYXhNb2RlXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiIHN0eWxlPVxcXCJ3aWR0aDoxMDAlO1xcXCI+PHN0cm9uZz57e3RpdGxlfX08L3N0cm9uZz48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3RoZWFkPlxcblwiICtcbiAgICBcIiAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICA8dHIgbmctcmVwZWF0PVxcXCJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIHJvbGU9XFxcImdyaWRjZWxsXFxcIiBpZD1cXFwie3s6OmR0LnVpZH19XFxcIiBuZy1jbGFzcz1cXFwiOjpkdC5jdXN0b21DbGFzc1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDoxMDAlO1xcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCIgbmctY2xhc3M9XFxcInsnYnRuLWluZm8nOiBkdC5zZWxlY3RlZCwgYWN0aXZlOiBpc0FjdGl2ZShkdCl9XFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KGR0LmRhdGUpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZHQuZGlzYWJsZWRcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PHNwYW4gbmctY2xhc3M9XFxcIjo6eyd0ZXh0LWluZm8nOiBkdC5jdXJyZW50fVxcXCI+e3s6OmR0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiPC90YWJsZT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sXCIsXG4gICAgXCI8dWwgY2xhc3M9XFxcImRyb3Bkb3duLW1lbnVcXFwiIG5nLWlmPVxcXCJpc09wZW5cXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBibG9ja1xcXCIgbmctc3R5bGU9XFxcInt0b3A6IHBvc2l0aW9uLnRvcCsncHgnLCBsZWZ0OiBwb3NpdGlvbi5sZWZ0KydweCd9XFxcIiBuZy1rZXlkb3duPVxcXCJrZXlkb3duKCRldmVudClcXFwiIG5nLWNsaWNrPVxcXCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcXFwiPlxcblwiICtcbiAgICBcIlx0PGxpIG5nLXRyYW5zY2x1ZGU+PC9saT5cXG5cIiArXG4gICAgXCJcdDxsaSBuZy1pZj1cXFwic2hvd0J1dHRvbkJhclxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MTBweCA5cHggMnB4XFxcIj5cXG5cIiArXG4gICAgXCJcdFx0PHNwYW4gY2xhc3M9XFxcImJ0bi1ncm91cCBwdWxsLWxlZnRcXFwiPlxcblwiICtcbiAgICBcIlx0XHRcdDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zbSBidG4taW5mb1xcXCIgbmctY2xpY2s9XFxcInNlbGVjdCgndG9kYXknKVxcXCIgbmctZGlzYWJsZWQ9XFxcImlzRGlzYWJsZWQoJ3RvZGF5JylcXFwiPnt7IGdldFRleHQoJ2N1cnJlbnQnKSB9fTwvYnV0dG9uPlxcblwiICtcbiAgICBcIlx0XHRcdDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zbSBidG4tZGFuZ2VyXFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KG51bGwpXFxcIj57eyBnZXRUZXh0KCdjbGVhcicpIH19PC9idXR0b24+XFxuXCIgK1xuICAgIFwiXHRcdDwvc3Bhbj5cXG5cIiArXG4gICAgXCJcdFx0PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXNtIGJ0bi1zdWNjZXNzIHB1bGwtcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCJjbG9zZSgpXFxcIj57eyBnZXRUZXh0KCdjbG9zZScpIH19PC9idXR0b24+XFxuXCIgK1xuICAgIFwiXHQ8L2xpPlxcblwiICtcbiAgICBcIjwvdWw+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWxcIixcbiAgICBcIjx0YWJsZSByb2xlPVxcXCJncmlkXFxcIiBhcmlhLWxhYmVsbGVkYnk9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XFxcInt7YWN0aXZlRGF0ZUlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgPHRoZWFkPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKC0xKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aCBjb2xzcGFuPVxcXCIzXFxcIj48YnV0dG9uIGlkPVxcXCJ7ezo6dW5pcXVlSWR9fS10aXRsZVxcXCIgcm9sZT1cXFwiaGVhZGluZ1xcXCIgYXJpYS1saXZlPVxcXCJhc3NlcnRpdmVcXFwiIGFyaWEtYXRvbWljPVxcXCJ0cnVlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTW9kZSgpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZGF0ZXBpY2tlck1vZGUgPT09IG1heE1vZGVcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgc3R5bGU9XFxcIndpZHRoOjEwMCU7XFxcIj48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgxKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGhlYWQ+XFxuXCIgK1xuICAgIFwiICA8dGJvZHk+XFxuXCIgK1xuICAgIFwiICAgIDx0ciBuZy1yZXBlYXQ9XFxcInJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXJlcGVhdD1cXFwiZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGVcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCIgcm9sZT1cXFwiZ3JpZGNlbGxcXFwiIGlkPVxcXCJ7ezo6ZHQudWlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIHN0eWxlPVxcXCJtaW4td2lkdGg6MTAwJTtcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIG5nLWNsYXNzPVxcXCJ7J2J0bi1pbmZvJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChkdC5kYXRlKVxcXCIgbmctZGlzYWJsZWQ9XFxcImR0LmRpc2FibGVkXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxzcGFuIG5nLWNsYXNzPVxcXCI6OnsndGV4dC1pbmZvJzogZHQuY3VycmVudH1cXFwiPnt7OjpkdC5sYWJlbH19PC9zcGFuPjwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3Rib2R5PlxcblwiICtcbiAgICBcIjwvdGFibGU+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1iYWNrZHJvcFxcXCJcXG5cIiArXG4gICAgXCIgICAgIG1vZGFsLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgICAgIG1vZGFsLWluLWNsYXNzPVxcXCJpblxcXCJcXG5cIiArXG4gICAgXCIgICAgIG5nLXN0eWxlPVxcXCJ7J3otaW5kZXgnOiAxMDQwICsgKGluZGV4ICYmIDEgfHwgMCkgKyBpbmRleCoxMH1cXFwiXFxuXCIgK1xuICAgIFwiPjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sXCIsXG4gICAgXCI8ZGl2IG1vZGFsLXJlbmRlcj1cXFwie3skaXNSZW5kZXJlZH19XFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiIHJvbGU9XFxcImRpYWxvZ1xcXCIgY2xhc3M9XFxcIm1vZGFsXFxcIlxcblwiICtcbiAgICBcIiAgICBtb2RhbC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICAgIG1vZGFsLWluLWNsYXNzPVxcXCJpblxcXCJcXG5cIiArXG4gICAgXCJcdG5nLXN0eWxlPVxcXCJ7J3otaW5kZXgnOiAxMDUwICsgaW5kZXgqMTAsIGRpc3BsYXk6ICdibG9jayd9XFxcIiBuZy1jbGljaz1cXFwiY2xvc2UoJGV2ZW50KVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWRpYWxvZ1xcXCIgbmctY2xhc3M9XFxcInNpemUgPyAnbW9kYWwtJyArIHNpemUgOiAnJ1xcXCI+PGRpdiBjbGFzcz1cXFwibW9kYWwtY29udGVudFxcXCIgbW9kYWwtdHJhbnNjbHVkZT48L2Rpdj48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sXCIsXG4gICAgXCI8dWwgY2xhc3M9XFxcInBhZ2VyXFxcIj5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub1ByZXZpb3VzKCl8fG5nRGlzYWJsZWQsIHByZXZpb3VzOiBhbGlnbn1cXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UocGFnZSAtIDEsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCdwcmV2aW91cycpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub05leHQoKXx8bmdEaXNhYmxlZCwgbmV4dDogYWxpZ259XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHBhZ2UgKyAxLCAkZXZlbnQpXFxcIj57ezo6Z2V0VGV4dCgnbmV4dCcpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCI8L3VsPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sXCIsXG4gICAgXCI8dWwgY2xhc3M9XFxcInBhZ2luYXRpb25cXFwiPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWlmPVxcXCI6OmJvdW5kYXJ5TGlua3NcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vUHJldmlvdXMoKXx8bmdEaXNhYmxlZH1cXFwiIGNsYXNzPVxcXCJwYWdpbmF0aW9uLWZpcnN0XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKDEsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCdmaXJzdCcpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1pZj1cXFwiOjpkaXJlY3Rpb25MaW5rc1xcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9QcmV2aW91cygpfHxuZ0Rpc2FibGVkfVxcXCIgY2xhc3M9XFxcInBhZ2luYXRpb24tcHJldlxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlIC0gMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ3ByZXZpb3VzJyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLXJlcGVhdD1cXFwicGFnZSBpbiBwYWdlcyB0cmFjayBieSAkaW5kZXhcXFwiIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBwYWdlLmFjdGl2ZSxkaXNhYmxlZDogbmdEaXNhYmxlZCYmIXBhZ2UuYWN0aXZlfVxcXCIgY2xhc3M9XFxcInBhZ2luYXRpb24tcGFnZVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlLm51bWJlciwgJGV2ZW50KVxcXCI+e3twYWdlLnRleHR9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWlmPVxcXCI6OmRpcmVjdGlvbkxpbmtzXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub05leHQoKXx8bmdEaXNhYmxlZH1cXFwiIGNsYXNzPVxcXCJwYWdpbmF0aW9uLW5leHRcXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UocGFnZSArIDEsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCduZXh0Jyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWlmPVxcXCI6OmJvdW5kYXJ5TGlua3NcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfHxuZ0Rpc2FibGVkfVxcXCIgY2xhc3M9XFxcInBhZ2luYXRpb24tbGFzdFxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZSh0b3RhbFBhZ2VzLCAkZXZlbnQpXFxcIj57ezo6Z2V0VGV4dCgnbGFzdCcpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCI8L3VsPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtcG9wdXAuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwidG9vbHRpcFxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtaW5uZXJcXFwiIG5nLWJpbmQtaHRtbD1cXFwiY29udGVudEV4cCgpXFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwidG9vbHRpcFxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtaW5uZXJcXFwiIGJpbmQtaHRtbC11bnNhZmU9XFxcImNvbnRlbnRcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWNsYXNzZXNcXG5cIiArXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1pbm5lclxcXCIgbmctYmluZD1cXFwiY29udGVudFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC10ZW1wbGF0ZS1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInRvb2x0aXBcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1hcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWlubmVyXFxcIlxcblwiICtcbiAgICBcIiAgICB0b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGU9XFxcImNvbnRlbnRFeHAoKVxcXCJcXG5cIiArXG4gICAgXCIgICAgdG9vbHRpcC10ZW1wbGF0ZS10cmFuc2NsdWRlLXNjb3BlPVxcXCJvcmlnaW5TY29wZSgpXFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLWh0bWwuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci1odG1sLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBvcG92ZXJcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1pbm5lclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGgzIGNsYXNzPVxcXCJwb3BvdmVyLXRpdGxlXFxcIiBuZy1iaW5kPVxcXCJ0aXRsZVxcXCIgbmctaWY9XFxcInRpdGxlXFxcIj48L2gzPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcInBvcG92ZXItY29udGVudFxcXCIgbmctYmluZC1odG1sPVxcXCJjb250ZW50RXhwKClcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci10ZW1wbGF0ZS5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLXRlbXBsYXRlLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBvcG92ZXJcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1pbm5lclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGgzIGNsYXNzPVxcXCJwb3BvdmVyLXRpdGxlXFxcIiBuZy1iaW5kPVxcXCJ0aXRsZVxcXCIgbmctaWY9XFxcInRpdGxlXFxcIj48L2gzPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcInBvcG92ZXItY29udGVudFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgIHRvb2x0aXAtdGVtcGxhdGUtdHJhbnNjbHVkZT1cXFwiY29udGVudEV4cCgpXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgdG9vbHRpcC10ZW1wbGF0ZS10cmFuc2NsdWRlLXNjb3BlPVxcXCJvcmlnaW5TY29wZSgpXFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWNsYXNzZXNcXG5cIiArXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInBvcG92ZXItaW5uZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxoMyBjbGFzcz1cXFwicG9wb3Zlci10aXRsZVxcXCIgbmctYmluZD1cXFwidGl0bGVcXFwiIG5nLWlmPVxcXCJ0aXRsZVxcXCI+PC9oMz5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWNvbnRlbnRcXFwiIG5nLWJpbmQ9XFxcImNvbnRlbnRcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInByb2dyZXNzLWJhclxcXCIgbmctY2xhc3M9XFxcInR5cGUgJiYgJ3Byb2dyZXNzLWJhci0nICsgdHlwZVxcXCIgcm9sZT1cXFwicHJvZ3Jlc3NiYXJcXFwiIGFyaWEtdmFsdWVub3c9XFxcInt7dmFsdWV9fVxcXCIgYXJpYS12YWx1ZW1pbj1cXFwiMFxcXCIgYXJpYS12YWx1ZW1heD1cXFwie3ttYXh9fVxcXCIgbmctc3R5bGU9XFxcInt3aWR0aDogKHBlcmNlbnQgPCAxMDAgPyBwZXJjZW50IDogMTAwKSArICclJ31cXFwiIGFyaWEtdmFsdWV0ZXh0PVxcXCJ7e3BlcmNlbnQgfCBudW1iZXI6MH19JVxcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDogMDtcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwcm9ncmVzc1xcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInByb2dyZXNzXFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInByb2dyZXNzLWJhclxcXCIgbmctY2xhc3M9XFxcInR5cGUgJiYgJ3Byb2dyZXNzLWJhci0nICsgdHlwZVxcXCIgcm9sZT1cXFwicHJvZ3Jlc3NiYXJcXFwiIGFyaWEtdmFsdWVub3c9XFxcInt7dmFsdWV9fVxcXCIgYXJpYS12YWx1ZW1pbj1cXFwiMFxcXCIgYXJpYS12YWx1ZW1heD1cXFwie3ttYXh9fVxcXCIgbmctc3R5bGU9XFxcInt3aWR0aDogKHBlcmNlbnQgPCAxMDAgPyBwZXJjZW50IDogMTAwKSArICclJ31cXFwiIGFyaWEtdmFsdWV0ZXh0PVxcXCJ7e3BlcmNlbnQgfCBudW1iZXI6MH19JVxcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDogMDtcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbFwiLFxuICAgIFwiPHNwYW4gbmctbW91c2VsZWF2ZT1cXFwicmVzZXQoKVxcXCIgbmcta2V5ZG93bj1cXFwib25LZXlkb3duKCRldmVudClcXFwiIHRhYmluZGV4PVxcXCIwXFxcIiByb2xlPVxcXCJzbGlkZXJcXFwiIGFyaWEtdmFsdWVtaW49XFxcIjBcXFwiIGFyaWEtdmFsdWVtYXg9XFxcInt7cmFuZ2UubGVuZ3RofX1cXFwiIGFyaWEtdmFsdWVub3c9XFxcInt7dmFsdWV9fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxzcGFuIG5nLXJlcGVhdC1zdGFydD1cXFwiciBpbiByYW5nZSB0cmFjayBieSAkaW5kZXhcXFwiIGNsYXNzPVxcXCJzci1vbmx5XFxcIj4oe3sgJGluZGV4IDwgdmFsdWUgPyAnKicgOiAnICcgfX0pPC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8aSBuZy1yZXBlYXQtZW5kIG5nLW1vdXNlZW50ZXI9XFxcImVudGVyKCRpbmRleCArIDEpXFxcIiBuZy1jbGljaz1cXFwicmF0ZSgkaW5kZXggKyAxKVxcXCIgY2xhc3M9XFxcImdseXBoaWNvblxcXCIgbmctY2xhc3M9XFxcIiRpbmRleCA8IHZhbHVlICYmIChyLnN0YXRlT24gfHwgJ2dseXBoaWNvbi1zdGFyJykgfHwgKHIuc3RhdGVPZmYgfHwgJ2dseXBoaWNvbi1zdGFyLWVtcHR5JylcXFwiIG5nLWF0dHItdGl0bGU9XFxcInt7ci50aXRsZX19XFxcIiA+PC9pPlxcblwiICtcbiAgICBcIjwvc3Bhbj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdGFicy90YWIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3RhYnMvdGFiLmh0bWxcIixcbiAgICBcIjxsaSBuZy1jbGFzcz1cXFwie2FjdGl2ZTogYWN0aXZlLCBkaXNhYmxlZDogZGlzYWJsZWR9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdCgpXFxcIiB0YWItaGVhZGluZy10cmFuc2NsdWRlPnt7aGVhZGluZ319PC9hPlxcblwiICtcbiAgICBcIjwvbGk+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sXCIsXG4gICAgXCI8ZGl2PlxcblwiICtcbiAgICBcIiAgPHVsIGNsYXNzPVxcXCJuYXYgbmF2LXt7dHlwZSB8fCAndGFicyd9fVxcXCIgbmctY2xhc3M9XFxcInsnbmF2LXN0YWNrZWQnOiB2ZXJ0aWNhbCwgJ25hdi1qdXN0aWZpZWQnOiBqdXN0aWZpZWR9XFxcIiBuZy10cmFuc2NsdWRlPjwvdWw+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0YWItY29udGVudFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcInRhYi1wYW5lXFxcIiBcXG5cIiArXG4gICAgXCIgICAgICAgICBuZy1yZXBlYXQ9XFxcInRhYiBpbiB0YWJzXFxcIiBcXG5cIiArXG4gICAgXCIgICAgICAgICBuZy1jbGFzcz1cXFwie2FjdGl2ZTogdGFiLmFjdGl2ZX1cXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgdGFiLWNvbnRlbnQtdHJhbnNjbHVkZT1cXFwidGFiXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbFwiLFxuICAgIFwiPHRhYmxlPlxcblwiICtcbiAgICBcIiAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICA8dHIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIiBuZy1zaG93PVxcXCI6OnNob3dTcGlubmVyc1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPjxhIG5nLWNsaWNrPVxcXCJpbmNyZW1lbnRIb3VycygpXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub0luY3JlbWVudEhvdXJzKCl9XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwXFxcIj48L3NwYW4+PC9hPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPiZuYnNwOzwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPjxhIG5nLWNsaWNrPVxcXCJpbmNyZW1lbnRNaW51dGVzKClcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vSW5jcmVtZW50TWludXRlcygpfVxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cFxcXCI+PC9zcGFuPjwvYT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1zaG93PVxcXCJzaG93TWVyaWRpYW5cXFwiPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiIG5nLWNsYXNzPVxcXCJ7J2hhcy1lcnJvcic6IGludmFsaWRIb3Vyc31cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGlucHV0IHN0eWxlPVxcXCJ3aWR0aDo1MHB4O1xcXCIgdHlwZT1cXFwidGV4dFxcXCIgbmctbW9kZWw9XFxcImhvdXJzXFxcIiBuZy1jaGFuZ2U9XFxcInVwZGF0ZUhvdXJzKClcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgdGV4dC1jZW50ZXJcXFwiIG5nLXJlYWRvbmx5PVxcXCI6OnJlYWRvbmx5SW5wdXRcXFwiIG1heGxlbmd0aD1cXFwiMlxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+OjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiBuZy1jbGFzcz1cXFwieydoYXMtZXJyb3InOiBpbnZhbGlkTWludXRlc31cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGlucHV0IHN0eWxlPVxcXCJ3aWR0aDo1MHB4O1xcXCIgdHlwZT1cXFwidGV4dFxcXCIgbmctbW9kZWw9XFxcIm1pbnV0ZXNcXFwiIG5nLWNoYW5nZT1cXFwidXBkYXRlTWludXRlcygpXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sIHRleHQtY2VudGVyXFxcIiBuZy1yZWFkb25seT1cXFwiOjpyZWFkb25seUlucHV0XFxcIiBtYXhsZW5ndGg9XFxcIjJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXNob3c9XFxcInNob3dNZXJpZGlhblxcXCI+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vVG9nZ2xlTWVyaWRpYW4oKX1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgdGV4dC1jZW50ZXJcXFwiIG5nLWNsaWNrPVxcXCJ0b2dnbGVNZXJpZGlhbigpXFxcIj57e21lcmlkaWFufX08L2J1dHRvbj48L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICA8dHIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIiBuZy1zaG93PVxcXCI6OnNob3dTcGlubmVyc1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPjxhIG5nLWNsaWNrPVxcXCJkZWNyZW1lbnRIb3VycygpXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub0RlY3JlbWVudEhvdXJzKCl9XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd25cXFwiPjwvc3Bhbj48L2E+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+Jm5ic3A7PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+PGEgbmctY2xpY2s9XFxcImRlY3JlbWVudE1pbnV0ZXMoKVxcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9EZWNyZW1lbnRNaW51dGVzKCl9XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd25cXFwiPjwvc3Bhbj48L2E+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctc2hvdz1cXFwic2hvd01lcmlkaWFuXFxcIj48L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90Ym9keT5cXG5cIiArXG4gICAgXCI8L3RhYmxlPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWxcIixcbiAgICBcIjxhIGhyZWYgdGFiaW5kZXg9XFxcIi0xXFxcIiBuZy1iaW5kLWh0bWw9XFxcIm1hdGNoLmxhYmVsIHwgdHlwZWFoZWFkSGlnaGxpZ2h0OnF1ZXJ5XFxcIj48L2E+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbFwiLFxuICAgIFwiPHVsIGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIiBuZy1zaG93PVxcXCJpc09wZW4oKSAmJiAhbW92ZUluUHJvZ3Jlc3NcXFwiIG5nLXN0eWxlPVxcXCJ7dG9wOiBwb3NpdGlvbigpLnRvcCsncHgnLCBsZWZ0OiBwb3NpdGlvbigpLmxlZnQrJ3B4J31cXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBibG9jaztcXFwiIHJvbGU9XFxcImxpc3Rib3hcXFwiIGFyaWEtaGlkZGVuPVxcXCJ7eyFpc09wZW4oKX19XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGxpIG5nLXJlcGVhdD1cXFwibWF0Y2ggaW4gbWF0Y2hlcyB0cmFjayBieSAkaW5kZXhcXFwiIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBpc0FjdGl2ZSgkaW5kZXgpIH1cXFwiIG5nLW1vdXNlZW50ZXI9XFxcInNlbGVjdEFjdGl2ZSgkaW5kZXgpXFxcIiBuZy1jbGljaz1cXFwic2VsZWN0TWF0Y2goJGluZGV4KVxcXCIgcm9sZT1cXFwib3B0aW9uXFxcIiBpZD1cXFwie3s6Om1hdGNoLmlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiB0eXBlYWhlYWQtbWF0Y2ggaW5kZXg9XFxcIiRpbmRleFxcXCIgbWF0Y2g9XFxcIm1hdGNoXFxcIiBxdWVyeT1cXFwicXVlcnlcXFwiIHRlbXBsYXRlLXVybD1cXFwidGVtcGxhdGVVcmxcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2xpPlxcblwiICtcbiAgICBcIjwvdWw+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuIWFuZ3VsYXIuJCRjc3AoKSAmJiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLmZpbmQoJ2hlYWQnKS5wcmVwZW5kKCc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+Lm5nLWFuaW1hdGUuaXRlbTpub3QoLmxlZnQpOm5vdCgucmlnaHQpey13ZWJraXQtdHJhbnNpdGlvbjowcyBlYXNlLWluLW91dCBsZWZ0O3RyYW5zaXRpb246MHMgZWFzZS1pbi1vdXQgbGVmdH08L3N0eWxlPicpO1xuaWYodHlwZW9mIFRFTVBMQVRFUyA9PT0gJ3VuZGVmaW5lZCcpIHt2YXIgVEVNUExBVEVTID0ge307fVxuVEVNUExBVEVTWydhbGlnbm1lbnQuaHRtbCddID0gXCI8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXAgYWxpZ25tZW50XFxcIj5cXG5cIiArXG4gICAgXCIgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYWxpZ25tZW50IGRyb3Bkb3duLXRvZ2dsZVxcXCJcXG5cIiArXG4gICAgXCIgICAgZGF0YS10b2dnbGU9XFxcImRyb3Bkb3duXFxcIiBkYXRhLXd5c2lodG1sNS1jb21tYW5kLXZhbHVlPVxcXCJsZWZ0XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGkgY2xhc3M9XFxcImZhIGZhLWFsaWduLWxlZnRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuXCIgK1xuICAgIFwiICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImRyb3Bkb3duLW1lbnVcXFwiIHJvbGU9XFxcIm1lbnVcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZD1cXFwiYWxpZ25tZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgZGF0YS13eXNpaHRtbDUtY29tbWFuZC12YWx1ZT1cXFwibGVmdFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1hbGlnbi1sZWZ0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBkYXRhLXd5c2lodG1sNS1jb21tYW5kPVxcXCJhbGlnbm1lbnRcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICBkYXRhLXd5c2lodG1sNS1jb21tYW5kLXZhbHVlPVxcXCJjZW50ZXJcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYWxpZ24tY2VudGVyXFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBkYXRhLXd5c2lodG1sNS1jb21tYW5kPVxcXCJhbGlnbm1lbnRcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICBkYXRhLXd5c2lodG1sNS1jb21tYW5kLXZhbHVlPVxcXCJyaWdodFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1hbGlnbi1yaWdodFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZD1cXFwiYWxpZ25tZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgZGF0YS13eXNpaHRtbDUtY29tbWFuZC12YWx1ZT1cXFwianVzdGlmeVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1hbGlnbi1qdXN0aWZ5XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCI7IFxuLyogIENvcHlyaWdodCDCqSAyMDE0IFJpc2UgVmlzaW9uIEluY29ycG9yYXRlZC5cbiAqICBVc2Ugb2YgdGhpcyBzb2Z0d2FyZSBpcyBnb3Zlcm5lZCBieSB0aGUgR1BMdjMgbGljZW5zZVxuICogIChyZXByb2R1Y2VkIGluIHRoZSBMSUNFTlNFIGZpbGUpLlxuICovXG5cbi8qIGdsb2JhbCBURU1QTEFURVMgKi9cbjsoZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQsIFRFTVBMQVRFUywgdW5kZWZpbmVkKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfcGx1Z2luTmFtZSA9IFwiYWxpZ25tZW50XCI7XG5cbiAgZnVuY3Rpb24gUGx1Z2luKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuICAgIHZhciAkYnRuQWxpZ25tZW50ID0gbnVsbDtcbiAgICB2YXIgZGVmYXVsdEFsaWdubWVudCA9IFwibGVmdFwiO1xuXG4gICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB7IFwiYWxpZ25cIjogZGVmYXVsdEFsaWdubWVudCB9LCBvcHRpb25zKTtcblxuICAgIC8qXG4gICAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9pbml0KCkge1xuICAgICAgLy8gR2V0IHRoZSBIVE1MIG1hcmt1cCBmcm9tIHRoZSB0ZW1wbGF0ZS5cbiAgICAgICRlbGVtZW50LmFwcGVuZChURU1QTEFURVNbXCJhbGlnbm1lbnQuaHRtbFwiXSk7XG4gICAgICAkYnRuQWxpZ25tZW50ID0gJGVsZW1lbnQuZmluZChcIi5idG4tYWxpZ25tZW50XCIpO1xuXG4gICAgICBzZXRBbGlnbm1lbnQob3B0aW9ucy5hbGlnbik7XG5cbiAgICAgICRlbGVtZW50LmZpbmQoXCIuZHJvcGRvd24tbWVudSBidXR0b25cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFsaWdubWVudCA9ICQodGhpcykuZGF0YShcInd5c2lodG1sNS1jb21tYW5kLXZhbHVlXCIpO1xuXG4gICAgICAgIHNldEFsaWdubWVudChhbGlnbm1lbnQpO1xuICAgICAgICAkZWxlbWVudC50cmlnZ2VyKFwiYWxpZ25tZW50Q2hhbmdlZFwiLCBhbGlnbm1lbnQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGlnbm1lbnQoKSB7XG4gICAgIHJldHVybiAkYnRuQWxpZ25tZW50LmRhdGEoXCJ3eXNpaHRtbDUtY29tbWFuZC12YWx1ZVwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRBbGlnbm1lbnQoYWxpZ25tZW50KSB7XG4gICAgICB2YXIgJHByaW1hcnlJY29uID0gJGVsZW1lbnQuZmluZChcIi5idG4tYWxpZ25tZW50IC5mYVwiKTtcbiAgICAgIHZhciBjdXJyZW50Q2xhc3MgPSAkcHJpbWFyeUljb24uYXR0cihcImNsYXNzXCIpLm1hdGNoKC9mYS1hbGlnbi1bYS16XSsvZyk7XG4gICAgICB2YXIgbmV3Q2xhc3MgPSBcImZhLWFsaWduLVwiICsgYWxpZ25tZW50O1xuXG4gICAgICAvLyBSZW1vdmUgY3VycmVudCBhbGlnbm1lbnQgaWNvbi5cbiAgICAgIGlmIChjdXJyZW50Q2xhc3MgJiYgY3VycmVudENsYXNzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJHByaW1hcnlJY29uLnJlbW92ZUNsYXNzKGN1cnJlbnRDbGFzc1swXSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBuZXcgYWxpZ25tZW50IGljb24uXG4gICAgICAkcHJpbWFyeUljb24uYWRkQ2xhc3MobmV3Q2xhc3MpO1xuICAgICAgJGJ0bkFsaWdubWVudC5kYXRhKFwid3lzaWh0bWw1LWNvbW1hbmQtdmFsdWVcIiwgYWxpZ25tZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIHNldEFsaWdubWVudChkZWZhdWx0QWxpZ25tZW50KTtcbiAgICB9XG5cbiAgICBfaW5pdCgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGdldEFsaWdubWVudDogZ2V0QWxpZ25tZW50LFxuICAgICAgc2V0QWxpZ25tZW50OiBzZXRBbGlnbm1lbnQsXG4gICAgICByZXNldDogICAgICAgIHJlc2V0XG4gICAgfTtcbiAgfVxuXG4gIC8qXG4gICAqICBBIGxpZ2h0d2VpZ2h0IHBsdWdpbiB3cmFwcGVyIGFyb3VuZCB0aGUgY29uc3RydWN0b3IgdGhhdCBwcmV2ZW50c1xuICAgKiAgbXVsdGlwbGUgaW5zdGFudGlhdGlvbnMuXG4gICAqL1xuICAkLmZuLmFsaWdubWVudCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCEkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBfcGx1Z2luTmFtZSkpIHtcbiAgICAgICAgJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgX3BsdWdpbk5hbWUsIG5ldyBQbHVnaW4odGhpcywgb3B0aW9ucykpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSkoalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50LCBURU1QTEFURVMpO1xuXG4vKiBleHBvcnRlZCBXSURHRVRfU0VUVElOR1NfVUlfQ09ORklHICovXG52YXIgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRyA9IHtcbiAgXCJmYW1pbGllc1wiOiBcIkFuZGFsZSBNb25vPWFuZGFsZSBtb25vLG1vbm9zcGFjZTtcIiArXG4gICAgICBcIkFyaWFsPWFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiQXJpYWwgQmxhY2s9YXJpYWwgYmxhY2ssc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIkJvb2sgQW50aXF1YT1ib29rIGFudGlxdWEscGFsYXRpbm8sc2VyaWY7XCIgK1xuICAgICAgXCJDb21pYyBTYW5zIE1TPWNvbWljIHNhbnMgbXMsc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIkNvdXJpZXIgTmV3PWNvdXJpZXIgbmV3LGNvdXJpZXIsbW9ub3NwYWNlO1wiICtcbiAgICAgIFwiR2VvcmdpYT1nZW9yZ2lhLHBhbGF0aW5vLHNlcmlmO1wiICtcbiAgICAgIFwiSGVsdmV0aWNhPWhlbHZldGljYSxhcmlhbCxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiSW1wYWN0PWltcGFjdCxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiU3ltYm9sPXN5bWJvbDtcIiArXG4gICAgICBcIlRhaG9tYT10YWhvbWEsYXJpYWwsaGVsdmV0aWNhLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJUZXJtaW5hbD10ZXJtaW5hbCxtb25hY28sbW9ub3NwYWNlO1wiICtcbiAgICAgIFwiVGltZXMgTmV3IFJvbWFuPXRpbWVzIG5ldyByb21hbix0aW1lcyxzZXJpZjtcIiArXG4gICAgICBcIlRyZWJ1Y2hldCBNUz10cmVidWNoZXQgbXMsZ2VuZXZhLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJWZXJkYW5hPXZlcmRhbmEsZ2VuZXZhLHNhbnMtc2VyaWY7XCIsXG4gIFwic2l6ZXNcIjogXCI4cHggOXB4IDEwcHggMTFweCAxMnB4IDE0cHggMThweCAyNHB4IDMwcHggMzZweCA0OHB4IDYwcHggNzJweCA5NnB4XCJcbn07XG5cbihmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnVybC1maWVsZFwiLCBbXG4gICAgXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsXG4gICAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udG9vbHRpcFwiXG4gIF0pXG4gICAgLmRpcmVjdGl2ZShcInVybEZpZWxkXCIsIFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIFwiJGxvZ1wiLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUsICRsb2cpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICAgICAgcmVxdWlyZTogXCI/bmdNb2RlbFwiLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIHVybDogXCI9XCIsXG4gICAgICAgICAgaGlkZUxhYmVsOiBcIkBcIixcbiAgICAgICAgICBmaWxlVHlwZTogXCJAXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldChcIl9hbmd1bGFyL3VybC1maWVsZC91cmwtZmllbGQuaHRtbFwiKSxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuXG4gICAgICAgICAgZnVuY3Rpb24gaGFzVmFsaWRFeHRlbnNpb24odXJsLCBmaWxlVHlwZSkge1xuICAgICAgICAgICAgdmFyIHRlc3RVcmwgPSB1cmwudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgZXh0ZW5zaW9ucztcblxuICAgICAgICAgICAgc3dpdGNoKGZpbGVUeXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJpbWFnZVwiOlxuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMgPSBbXCIuanBnXCIsIFwiLmpwZWdcIiwgXCIucG5nXCIsIFwiLmJtcFwiLCBcIi5zdmdcIiwgXCIuZ2lmXCJdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwidmlkZW9cIjpcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zID0gW1wiLndlYm1cIiwgXCIubXA0XCIsIFwiLm9ndlwiLCBcIi5vZ2dcIl07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucyA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZXh0ZW5zaW9ucy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICBpZiAodGVzdFVybC5pbmRleE9mKGV4dGVuc2lvbnNbaV0pICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDaGVjayB0aGF0IHRoZSBVUkwgcG9pbnRzIHRvIGEgdmFsaWQgaW1hZ2UgZmlsZS5cbiAgICAgICAgICBmdW5jdGlvbiB0ZXN0SW1hZ2UoKSB7XG4gICAgICAgICAgICBpZiAoKHNjb3BlLmZpbGVUeXBlICE9PSBcInVuZGVmaW5lZFwiKSAmJiAoc2NvcGUudXJsICE9PSBcInVuZGVmaW5lZFwiKSkge1xuICAgICAgICAgICAgICBpZiAoc2NvcGUuZmlsZVR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgICAgICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzY29wZS52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgc2NvcGUudmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLmludmFsaWRUeXBlID0gc2NvcGUuZmlsZVR5cGU7XG4gICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaW1hZ2Uuc3JjID0gc2NvcGUudXJsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gdGVzdFVybCh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHVybFJlZ0V4cCxcbiAgICAgICAgICAgICAgaXNWYWxpZDtcblxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICBEaXNjdXNzaW9uXG4gICAgICAgICAgICAgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNzY4NC9ob3ctdG8tcmVwbGFjZS1wbGFpbi11cmxzLXdpdGgtbGlua3MjMjE5MjU0OTFcblxuICAgICAgICAgICAgIFVzaW5nXG4gICAgICAgICAgICAgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vZHBlcmluaS83MjkyOTRcbiAgICAgICAgICAgICBSZWFzb25pbmdcbiAgICAgICAgICAgICBodHRwOi8vbWF0aGlhc2J5bmVucy5iZS9kZW1vL3VybC1yZWdleCAqL1xuXG4gICAgICAgICAgICB1cmxSZWdFeHAgPSAvXig/Oig/Omh0dHBzP3xmdHApOlxcL1xcLykoPzpcXFMrKD86OlxcUyopP0ApPyg/Oig/ISg/OjEwfDEyNykoPzpcXC5cXGR7MSwzfSl7M30pKD8hKD86MTY5XFwuMjU0fDE5MlxcLjE2OCkoPzpcXC5cXGR7MSwzfSl7Mn0pKD8hMTcyXFwuKD86MVs2LTldfDJcXGR8M1swLTFdKSg/OlxcLlxcZHsxLDN9KXsyfSkoPzpbMS05XVxcZD98MVxcZFxcZHwyWzAxXVxcZHwyMlswLTNdKSg/OlxcLig/OjE/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pKXsyfSg/OlxcLig/OlsxLTldXFxkP3wxXFxkXFxkfDJbMC00XVxcZHwyNVswLTRdKSl8KD86KD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rLT8pKlthLXpcXHUwMGExLVxcdWZmZmYwLTldKykoPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSstPykqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSooPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH0pKSkoPzo6XFxkezIsNX0pPyg/OlxcL1teXFxzXSopPyQvaTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbiAgICAgICAgICAgIC8vIEFkZCBodHRwOi8vIGlmIG5vIHByb3RvY29sIHBhcmFtZXRlciBleGlzdHNcbiAgICAgICAgICAgIGlmICh2YWx1ZS5pbmRleE9mKFwiOi8vXCIpID09PSAtMSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IFwiaHR0cDovL1wiICsgdmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlzVmFsaWQgPSB1cmxSZWdFeHAudGVzdCh2YWx1ZSk7XG5cbiAgICAgICAgICAgIGlmIChpc1ZhbGlkICYmIHR5cGVvZiBzY29wZS5maWxlVHlwZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICBpc1ZhbGlkID0gaGFzVmFsaWRFeHRlbnNpb24odmFsdWUsIHNjb3BlLmZpbGVUeXBlKTtcbiAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuaW52YWxpZFR5cGUgPSBzY29wZS5maWxlVHlwZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2NvcGUuaW52YWxpZFR5cGUgPSBcInVybFwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICAgICAgICB0ZXN0SW1hZ2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQnkgZGVmYXVsdCBlbmZvcmNlIHZhbGlkYXRpb25cbiAgICAgICAgICBzY29wZS5kb1ZhbGlkYXRpb24gPSB0cnVlO1xuICAgICAgICAgIC8vIEEgZmxhZyB0byBzZXQgaWYgdGhlIHVzZXIgdHVybmVkIG9mZiB2YWxpZGF0aW9uXG4gICAgICAgICAgc2NvcGUuZm9yY2VkVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAvLyBWYWxpZGF0aW9uIHN0YXRlXG4gICAgICAgICAgc2NvcGUudmFsaWQgPSB0cnVlO1xuXG4gICAgICAgICAgc2NvcGUuaW52YWxpZFR5cGUgPSBcInVybFwiO1xuXG4gICAgICAgICAgc2NvcGUuYWxsb3dJbml0RW1wdHkgPSAodHlwZW9mIGF0dHJzLmluaXRFbXB0eSAhPT0gXCJ1bmRlZmluZWRcIik7XG5cbiAgICAgICAgICBzY29wZS5ibHVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY29wZS4kZW1pdChcInVybEZpZWxkQmx1clwiKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKFwidXJsXCIsIGZ1bmN0aW9uICh1cmwpIHtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB1cmwgIT09IFwidW5kZWZpbmVkXCIgJiYgdXJsICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgICAgaWYgKHVybCAhPT0gXCJcIiAmJiBzY29wZS5hbGxvd0luaXRFbXB0eSkge1xuICAgICAgICAgICAgICAgIC8vIGVuc3VyZSBhbiBlbXB0eSBcIlwiIHZhbHVlIG5vdyBnZXRzIHZhbGlkYXRlZFxuICAgICAgICAgICAgICAgIHNjb3BlLmFsbG93SW5pdEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoc2NvcGUuZG9WYWxpZGF0aW9uICYmICFzY29wZS5hbGxvd0luaXRFbXB0eSkge1xuICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gdGVzdFVybChzY29wZS51cmwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzY29wZS4kd2F0Y2goXCJ2YWxpZFwiLCBmdW5jdGlvbiAodmFsaWQpIHtcbiAgICAgICAgICAgIGlmIChjdHJsKSB7XG4gICAgICAgICAgICAgICRsb2cuaW5mbyhcIkNhbGxpbmcgJHNldFZhbGlkaXR5KCkgb24gcGFyZW50IGNvbnRyb2xsZXJcIik7XG4gICAgICAgICAgICAgIGN0cmwuJHNldFZhbGlkaXR5KFwidmFsaWRcIiwgdmFsaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKFwiZG9WYWxpZGF0aW9uXCIsIGZ1bmN0aW9uIChkb1ZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIGlmKHR5cGVvZiBzY29wZS51cmwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgaWYgKGRvVmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgIHNjb3BlLmZvcmNlZFZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNjb3BlLmFsbG93SW5pdEVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICBzY29wZS52YWxpZCA9IHRlc3RVcmwoc2NvcGUudXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZm9yY2VkVmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xufSgpKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udXJsLWZpZWxkXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udXJsLWZpZWxkXCIsIFtdKTsgfVxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwiX2FuZ3VsYXIvdXJsLWZpZWxkL3VybC1maWVsZC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiA+XFxuXCIgK1xuICAgIFwiICA8bGFiZWwgbmctaWY9XFxcIiFoaWRlTGFiZWxcXFwiPnt7IFxcXCJ1cmwubGFiZWxcXFwiIHwgdHJhbnNsYXRlIH19PC9sYWJlbD5cXG5cIiArXG4gICAgXCIgIDxkaXY+XFxuXCIgK1xuICAgIFwiICAgIDxpbnB1dCBuYW1lPVxcXCJ1cmxcXFwiIHR5cGU9XFxcInRleHRcXFwiIG5nLW1vZGVsPVxcXCJ1cmxcXFwiIG5nLWJsdXI9XFxcImJsdXIoKVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgcGxhY2Vob2xkZXI9XFxcImh0dHA6Ly9cXFwiPlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8cCBuZy1pZj1cXFwiIXZhbGlkICYmIGludmFsaWRUeXBlID09PSAndXJsJ1xcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIj57eyBcXFwidXJsLmVycm9ycy51cmxcXFwiIHwgdHJhbnNsYXRlIH19PC9wPlxcblwiICtcbiAgICBcIiAgPHAgbmctaWY9XFxcIiF2YWxpZCAmJiBpbnZhbGlkVHlwZSA9PT0gJ2ltYWdlJ1xcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIj57eyBcXFwidXJsLmVycm9ycy5pbWFnZVxcXCIgfCB0cmFuc2xhdGUgfX08L3A+XFxuXCIgK1xuICAgIFwiICA8cCBuZy1pZj1cXFwiIXZhbGlkICYmIGludmFsaWRUeXBlID09PSAndmlkZW8nXFxcIiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiPnt7IFxcXCJ1cmwuZXJyb3JzLnZpZGVvXFxcIiB8IHRyYW5zbGF0ZSB9fTwvcD5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNoZWNrYm94XFxcIiBuZy1zaG93PVxcXCJmb3JjZWRWYWxpZCB8fCAhdmFsaWRcXFwiPlxcblwiICtcbiAgICBcIiAgICA8bGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgPGlucHV0IG5hbWU9XFxcInZhbGlkYXRlLXVybFxcXCIgbmctY2xpY2s9XFxcImRvVmFsaWRhdGlvbiA9ICFkb1ZhbGlkYXRpb25cXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICB2YWx1ZT1cXFwidmFsaWRhdGUtdXJsXFxcIj4ge3tcXFwidXJsLnZhbGlkYXRlLmxhYmVsXFxcIiB8IHRyYW5zbGF0ZX19XFxuXCIgK1xuICAgIFwiICAgIDwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG59KSgpO1xuXG4vKiBnbG9iYWwgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRyAqL1xuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZm9udC1zZXR0aW5nXCIsIFtcbiAgICAgIFwiYW5ndWxhckxvYWRcIixcbiAgICAgIFwidWkudGlueW1jZVwiLFxuICAgICAgXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsXG4gICAgICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi51cmwtZmllbGRcIlxuICAgIF0pXG4gICAgLmRpcmVjdGl2ZShcImZvbnRTZXR0aW5nXCIsIFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIFwiJGxvZ1wiLCBcIiR3aW5kb3dcIiwgXCJnb29nbGVGb250TG9hZGVyXCIsXG4gICAgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlLCAkbG9nLCAkd2luZG93LCBnb29nbGVGb250TG9hZGVyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJBRVwiLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIGZvbnREYXRhOiBcIj1cIixcbiAgICAgICAgICBwcmV2aWV3VGV4dDogXCJAXCIsXG4gICAgICAgICAgdmVydGljYWxBbGlnbjogXCJAXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldChcIl9hbmd1bGFyL2ZvbnQtc2V0dGluZy9mb250LXNldHRpbmcuaHRtbFwiKSxcbiAgICAgICAgdHJhbnNjbHVkZTogZmFsc2UsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICB2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpLFxuICAgICAgICAgICAgJGN1c3RvbUZvbnQgPSAkZWxlbWVudC5maW5kKFwiLmN1c3RvbS1mb250XCIpLFxuICAgICAgICAgICAgJGN1c3RvbUZvbnRTaXplID0gJGVsZW1lbnQuZmluZChcIi5jdXN0b20tZm9udC1zaXplXCIpLFxuICAgICAgICAgICAgX2lzTG9hZGluZyA9IHRydWU7XG5cbiAgICAgICAgICAkc2NvcGUuZ29vZ2xlRm9udExpc3QgPSBcIlwiO1xuXG4gICAgICAgICAgJHNjb3BlLmRlZmF1bHRGb250ID0ge1xuICAgICAgICAgICAgZm9udDoge1xuICAgICAgICAgICAgICBmYW1pbHk6IFwidmVyZGFuYSxnZW5ldmEsc2Fucy1zZXJpZlwiLFxuICAgICAgICAgICAgICB0eXBlOiBcInN0YW5kYXJkXCIsXG4gICAgICAgICAgICAgIHVybDogXCJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpemU6IFwiMjRweFwiLFxuICAgICAgICAgICAgY3VzdG9tU2l6ZTogXCJcIixcbiAgICAgICAgICAgIGFsaWduOiBcImxlZnRcIixcbiAgICAgICAgICAgIHZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCIsXG4gICAgICAgICAgICBib2xkOiBmYWxzZSxcbiAgICAgICAgICAgIGl0YWxpYzogZmFsc2UsXG4gICAgICAgICAgICB1bmRlcmxpbmU6IGZhbHNlLFxuICAgICAgICAgICAgZm9yZWNvbG9yOiBcImJsYWNrXCIsXG4gICAgICAgICAgICBiYWNrY29sb3I6IFwidHJhbnNwYXJlbnRcIlxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBMb2FkIEdvb2dsZSBmb250cy5cbiAgICAgICAgICBnb29nbGVGb250TG9hZGVyLmdldEZvbnRzKCkudGhlbihmdW5jdGlvbihmb250cykge1xuICAgICAgICAgICAgJHNjb3BlLmdvb2dsZUZvbnRMaXN0ID0gZm9udHM7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAkc2NvcGUuY3VzdG9tRm9udFNpemUgPSBudWxsO1xuXG4gICAgICAgICAgLy8gQXBwbHkgY3VzdG9tIGZvbnQgdG8gcHJldmlldyB0ZXh0LlxuICAgICAgICAgICRzY29wZS5hcHBseUN1c3RvbUZvbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBmYW1pbHkgPSBnZXRDdXN0b21Gb250RmFtaWx5KCk7XG5cbiAgICAgICAgICAgIGlmIChmYW1pbHkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgbG9hZEN1c3RvbUZvbnQoZmFtaWx5KTtcblxuICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuZm9udC5mYW1pbHkgPSBmYW1pbHk7XG4gICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5mb250LnR5cGUgPSBcImN1c3RvbVwiO1xuXG4gICAgICAgICAgICAgIHVwZGF0ZVByZXZpZXcoJHNjb3BlLmZvbnREYXRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJGN1c3RvbUZvbnQubW9kYWwoXCJoaWRlXCIpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUuYXBwbHlDdXN0b21Gb250U2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJGN1c3RvbUZvbnRTaXplLm1vZGFsKFwiaGlkZVwiKTtcblxuICAgICAgICAgICAgaWYgKCRzY29wZS5jdXN0b21Gb250U2l6ZSAhPT0gbnVsbCAmJiAkc2NvcGUuY3VzdG9tRm9udFNpemUgPj0gOCkge1xuXG4gICAgICAgICAgICAgIGlmICgoJHNjb3BlLmN1c3RvbUZvbnRTaXplICsgXCJweFwiKSAhPT0gJHNjb3BlLmZvbnREYXRhLnNpemUpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuc2l6ZSA9ICRzY29wZS5jdXN0b21Gb250U2l6ZSArIFwicHhcIjtcblxuICAgICAgICAgICAgICAgIGlmIChXSURHRVRfU0VUVElOR1NfVUlfQ09ORklHLnNpemVzLmluZGV4T2YoJHNjb3BlLmZvbnREYXRhLnNpemUpICE9PSAtMSB8fFxuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmN1c3RvbVNpemUgPT09ICRzY29wZS5mb250RGF0YS5zaXplKSB7XG4gICAgICAgICAgICAgICAgICAvLyB0ZWxsIGVkaXRvciB0byBzZWxlY3QgdGhpcyBzaXplXG4gICAgICAgICAgICAgICAgICAkd2luZG93LnRpbnltY2UuYWN0aXZlRWRpdG9yLmV4ZWNDb21tYW5kKFwiRm9udFNpemVcIiwgZmFsc2UsICRzY29wZS5mb250RGF0YS5zaXplKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBuZXcgY3VzdG9tIGZvbnQgc2l6ZSB0byBhZGRcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5jdXN0b21TaXplID0gJHNjb3BlLmN1c3RvbUZvbnRTaXplICsgXCJweFwiO1xuXG4gICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdmFsdWUgb2YgZm9udF9mb3JtYXRzXG4gICAgICAgICAgICAgICAgICAkc2NvcGUudGlueW1jZU9wdGlvbnMuZm9udHNpemVfZm9ybWF0cyA9IFwiQ3VzdG9tIFwiICtcbiAgICAgICAgICAgICAgICAgICAgKCgkc2NvcGUuZm9udERhdGEuY3VzdG9tU2l6ZSAhPT0gXCJcIikgPyAkc2NvcGUuZm9udERhdGEuY3VzdG9tU2l6ZSArIFwiIFwiIDogXCJcIikgICtcbiAgICAgICAgICAgICAgICAgICAgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRy5zaXplcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZXNldCBtb2RhbCBpbnB1dCBzaXplIHZhbHVlXG4gICAgICAgICAgICAkc2NvcGUuY3VzdG9tRm9udFNpemUgPSBudWxsO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUuZGVmYXVsdHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDEsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKG9ialtwcm9wXSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciB3YXRjaCA9ICRzY29wZS4kd2F0Y2hHcm91cChbXCJmb250RGF0YVwiLFwiZ29vZ2xlRm9udExpc3RcIl0sIGZ1bmN0aW9uKG5ld1ZhbHVlcykge1xuICAgICAgICAgICAgdmFyIGZhbWlseSA9IG51bGw7XG4gICAgICAgICAgICB2YXIgZm9udERhdGEgPSBuZXdWYWx1ZXNbMF07XG4gICAgICAgICAgICB2YXIgZ29vZ2xlRm9udExpc3QgPSBuZXdWYWx1ZXNbMV07XG4gICAgICAgICAgICBpZiAoZm9udERhdGEgJiYgZ29vZ2xlRm9udExpc3QpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmRlZmF1bHRzKGZvbnREYXRhLCAkc2NvcGUuZGVmYXVsdEZvbnQpO1xuXG4gICAgICAgICAgICAgIC8vIExvYWQgY3VzdG9tIGZvbnQuXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEuZm9udC51cmwpIHtcbiAgICAgICAgICAgICAgICBmYW1pbHkgPSBnZXRDdXN0b21Gb250RmFtaWx5KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZmFtaWx5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBsb2FkQ3VzdG9tRm9udChmYW1pbHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHVwZGF0ZVByZXZpZXcoZm9udERhdGEpO1xuICAgICAgICAgICAgICBpbml0VGlueU1DRSgpO1xuICAgICAgICAgICAgICB3YXRjaCgpO1xuXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUucHJldmlld1RleHQpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKFwiZm9udERhdGFcIiwgdXBkYXRlUHJldmlldywgdHJ1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgICRzY29wZS4kd2F0Y2goXCJ0aW55bWNlT3B0aW9ucy5mb250c2l6ZV9mb3JtYXRzXCIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiAhX2lzTG9hZGluZykge1xuICAgICAgICAgICAgICAvLyBsZXZlcmFnZSB1aS10aW55bWNlIHdvcmthcm91bmQgb2YgcmVmcmVzaGluZyBlZGl0b3JcbiAgICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoXCIkdGlueW1jZTpyZWZyZXNoXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gSW5pdGlhbGl6ZSBUaW55TUNFLlxuICAgICAgICAgIGZ1bmN0aW9uIGluaXRUaW55TUNFKCkge1xuICAgICAgICAgICAgJHNjb3BlLnRpbnltY2VPcHRpb25zID0ge1xuICAgICAgICAgICAgICBmb250X2Zvcm1hdHM6IFwiVXNlIEN1c3RvbSBGb250PWN1c3RvbTtcIiArIFdJREdFVF9TRVRUSU5HU19VSV9DT05GSUcuZmFtaWxpZXMgKyAkc2NvcGUuZ29vZ2xlRm9udExpc3QsXG4gICAgICAgICAgICAgIGZvbnRzaXplX2Zvcm1hdHM6IFwiQ3VzdG9tIFwiICtcbiAgICAgICAgICAgICAgICAoKCRzY29wZS5mb250RGF0YS5jdXN0b21TaXplICE9PSBcIlwiKSA/ICRzY29wZS5mb250RGF0YS5jdXN0b21TaXplICsgXCIgXCIgOiBcIlwiKSAgK1xuICAgICAgICAgICAgICAgIFdJREdFVF9TRVRUSU5HU19VSV9DT05GSUcuc2l6ZXMsXG4gICAgICAgICAgICAgIG1lbnViYXI6IGZhbHNlLFxuICAgICAgICAgICAgICBwbHVnaW5zOiBcInRleHRjb2xvciBjb2xvcnBpY2tlclwiLFxuICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgV2hlbiB0ZXN0aW5nIHRoaXMgdmlhIGxvY2FsIHNlcnZlciwgQ09SUyB3aWxsIGJlIHJlcXVpcmVkLiBIYW5keSBDT1JTIENocm9tZSBleHRlbnNpb24gY2FuIGJlIGZvdW5kIGhlcmVcbiAgICAgICAgICAgICAgIGh0dHBzOi8vY2hyb21lLmdvb2dsZS5jb20vd2Vic3RvcmUvZGV0YWlsL2FsbG93LWNvbnRyb2wtYWxsb3ctb3JpZ2kvbmxmYm1ib2pwZWFjZmdoa3BiamhkZGlobGtraWxqYmk/aGw9ZW5cbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIHNraW5fdXJsOiBcIi8vczMuYW1hem9uYXdzLmNvbS9yaXNlLWNvbW1vbi9zdHlsZXMvdGlueW1jZS9yaXNlXCIsXG4gICAgICAgICAgICAgIHN0YXR1c2JhcjogZmFsc2UsXG4gICAgICAgICAgICAgIHRvb2xiYXI6IFwiZm9udHNlbGVjdCBmb250c2l6ZXNlbGVjdCB8IGFsaWdubGVmdCBhbGlnbmNlbnRlciBhbGlnbnJpZ2h0IGFsaWduanVzdGlmeVwiICtcbiAgICAgICAgICAgICAgKCRzY29wZS52ZXJ0aWNhbEFsaWduID8gXCIgYWxpZ250b3AgYWxpZ25taWRkbGUgYWxpZ25ib3R0b21cIiA6IFwiXCIpICtcbiAgICAgICAgICAgICAgXCIgfCBmb3JlY29sb3IgYmFja2NvbG9yIHwgYm9sZCBpdGFsaWMgdW5kZXJsaW5lXCIsXG4gICAgICAgICAgICAgIHNldHVwOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnZlcnRpY2FsQWxpZ24pIHtcbiAgICAgICAgICAgICAgICAgIGFkZFZlcnRpY2FsQWxpZ25CdXR0b25zKGVkaXRvcik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWRpdG9yLm9uKFwiaW5pdFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGluaXRUb29sYmFyKGVkaXRvcik7XG4gICAgICAgICAgICAgICAgICBfaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBlZGl0b3Iub24oXCJFeGVjQ29tbWFuZFwiLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICAgICAgICBpbml0Q29tbWFuZHMoZWRpdG9yLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgaW5pdF9pbnN0YW5jZV9jYWxsYmFjazogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9sZEFwcGx5ID0gZWRpdG9yLmZvcm1hdHRlci5hcHBseSxcbiAgICAgICAgICAgICAgICAgIG9sZFJlbW92ZSA9IGVkaXRvci5mb3JtYXR0ZXIucmVtb3ZlO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVmZXJlbmNlIC0gaHR0cDovL2dvby5nbC81NUloV0lcbiAgICAgICAgICAgICAgICBlZGl0b3IuZm9ybWF0dGVyLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkobmFtZSwgdmFycywgbm9kZSkge1xuICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YXJzLnZhbHVlXG4gICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICBvbGRBcHBseShuYW1lLCB2YXJzLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgIGVkaXRvci5maXJlKFwiRXhlY0NvbW1hbmRcIiwgYXJncyk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGVkaXRvci5mb3JtYXR0ZXIucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKG5hbWUsIHZhcnMsIG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0ge1xuICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogKHZhcnMgJiYgdmFycy52YWx1ZSkgPyB2YXJzLnZhbHVlIDogbnVsbFxuICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgb2xkUmVtb3ZlKG5hbWUsIHZhcnMsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgZWRpdG9yLmZpcmUoXCJFeGVjQ29tbWFuZFwiLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEluaXRpYWxpemUgVGlueU1DRSB0b29sYmFyLlxuICAgICAgICAgIGZ1bmN0aW9uIGluaXRUb29sYmFyKGVkaXRvcikge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5mb250RGF0YSkge1xuICAgICAgICAgICAgICAvLyBGb250IEZhbWlseVxuICAgICAgICAgICAgICBpZiAoKCRzY29wZS5mb250RGF0YS5mb250LnR5cGUgPT09IFwiY3VzdG9tXCIpICYmICRzY29wZS5mb250RGF0YS5mb250LnVybCkge1xuICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZChcIkZvbnROYW1lXCIsIGZhbHNlLCBcImN1c3RvbVwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJGb250TmFtZVwiLCBmYWxzZSwgJHNjb3BlLmZvbnREYXRhLmZvbnQuZmFtaWx5KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIEZvbnQgU2l6ZXNcbiAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwiRm9udFNpemVcIiwgZmFsc2UsICRzY29wZS5mb250RGF0YS5zaXplKTtcblxuICAgICAgICAgICAgICAvLyBBbGlnbm1lbnRcbiAgICAgICAgICAgICAgc3dpdGNoKCRzY29wZS5mb250RGF0YS5hbGlnbikge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJKdXN0aWZ5TGVmdFwiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2VudGVyXCI6XG4gICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJKdXN0aWZ5Q2VudGVyXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwiSnVzdGlmeVJpZ2h0XCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJqdXN0aWZ5XCI6XG4gICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJKdXN0aWZ5RnVsbFwiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBWZXJ0aWNhbCBBbGlnbm1lbnRcbiAgICAgICAgICAgICAgaWYgKCRzY29wZS52ZXJ0aWNhbEFsaWduKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwibWNlVG9nZ2xlVmVydGljYWxcIiwgZmFsc2UsICRzY29wZS5mb250RGF0YS52ZXJ0aWNhbEFsaWduKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIENvbG9yc1xuICAgICAgICAgICAgICAkZWxlbWVudC5maW5kKFwiLm1jZS1jb2xvcmJ1dHRvblthcmlhLWxhYmVsPSdUZXh0IGNvbG9yJ10gc3BhblwiKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsICRzY29wZS5mb250RGF0YS5mb3JlY29sb3IpO1xuICAgICAgICAgICAgICAkZWxlbWVudC5maW5kKFwiLm1jZS1jb2xvcmJ1dHRvblthcmlhLWxhYmVsPSdCYWNrZ3JvdW5kIGNvbG9yJ10gc3BhblwiKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsICRzY29wZS5mb250RGF0YS5iYWNrY29sb3IpO1xuXG4gICAgICAgICAgICAgIC8vIEZvbnQgU3R5bGVcbiAgICAgICAgICAgICAgaWYgKCRzY29wZS5mb250RGF0YS5ib2xkKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdCb2xkJ11cIikpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKCRzY29wZS5mb250RGF0YS5pdGFsaWMpIHtcbiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J0l0YWxpYyddXCIpKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEudW5kZXJsaW5lKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdVbmRlcmxpbmUnXVwiKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBIYW5kbGUgdG9vbGJhciBpbnRlcmFjdGlvbnMuXG4gICAgICAgICAgZnVuY3Rpb24gaW5pdENvbW1hbmRzKGVkaXRvciwgYXJncykge1xuICAgICAgICAgICAgc3dpdGNoKGFyZ3MuY29tbWFuZCkge1xuICAgICAgICAgICAgICBjYXNlIFwiRm9udE5hbWVcIjpcbiAgICAgICAgICAgICAgICBpZiAoX2lzTG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmdzLnZhbHVlID09PSBcImN1c3RvbVwiKSB7XG4gICAgICAgICAgICAgICAgICAkY3VzdG9tRm9udC5tb2RhbChcInNob3dcIik7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuZm9udC5mYW1pbHkgPSBhcmdzLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmZvbnQudHlwZSA9IGdldEZvbnRUeXBlKGFyZ3MudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJGb250U2l6ZVwiOlxuICAgICAgICAgICAgICAgIGlmIChfaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFyZ3MudmFsdWUgPT09IFwiQ3VzdG9tXCIpIHtcbiAgICAgICAgICAgICAgICAgICRjdXN0b21Gb250U2l6ZS5tb2RhbChcInNob3dcIik7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuc2l6ZSA9IGFyZ3MudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcIkp1c3RpZnlMZWZ0XCI6XG4gICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmFsaWduID0gXCJsZWZ0XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcIkp1c3RpZnlDZW50ZXJcIjpcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuYWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJKdXN0aWZ5UmlnaHRcIjpcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuYWxpZ24gPSBcInJpZ2h0XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcIkp1c3RpZnlGdWxsXCI6XG4gICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmFsaWduID0gXCJqdXN0aWZ5XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcIm1jZVRvZ2dsZVZlcnRpY2FsXCI6XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHRvZ2dsZVZlcnRpY2FsQnV0dG9ucyhhcmdzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEudmVydGljYWxBbGlnbiAhPT0gYXJncy52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGVWZXJ0aWNhbEJ1dHRvbnMoJHNjb3BlLmZvbnREYXRhLnZlcnRpY2FsQWxpZ24pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0b2dnbGVWZXJ0aWNhbEJ1dHRvbnMoJHNjb3BlLmRlZmF1bHRGb250LnZlcnRpY2FsQWxpZ24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS52ZXJ0aWNhbEFsaWduID0gKGFyZ3MudmFsdWUpID8gYXJncy52YWx1ZSA6ICRzY29wZS5kZWZhdWx0Rm9udC52ZXJ0aWNhbEFsaWduO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcImZvcmVjb2xvclwiOlxuICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5mb3JlY29sb3IgPSAoYXJncy52YWx1ZSkgPyBhcmdzLnZhbHVlIDogJHNjb3BlLmRlZmF1bHRGb250LmZvcmVjb2xvcjtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIFwiaGlsaXRlY29sb3JcIjpcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuYmFja2NvbG9yID0gKGFyZ3MudmFsdWUpID8gYXJncy52YWx1ZSA6ICRzY29wZS5kZWZhdWx0Rm9udC5iYWNrY29sb3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcIm1jZVRvZ2dsZUZvcm1hdFwiOlxuICAgICAgICAgICAgICAgIGlmIChhcmdzLnZhbHVlID09PSBcImJvbGRcIikge1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmJvbGQgPSAhJHNjb3BlLmZvbnREYXRhLmJvbGQ7XG4gICAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J0JvbGQnXVwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFyZ3MudmFsdWUgPT09IFwiaXRhbGljXCIpIHtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5pdGFsaWMgPSAhJHNjb3BlLmZvbnREYXRhLml0YWxpYztcbiAgICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbigkZWxlbWVudC5maW5kKFwiLm1jZS1idG5bYXJpYS1sYWJlbD0nSXRhbGljJ11cIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmdzLnZhbHVlID09PSBcInVuZGVybGluZVwiKSB7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEudW5kZXJsaW5lID0gISRzY29wZS5mb250RGF0YS51bmRlcmxpbmU7XG4gICAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J1VuZGVybGluZSddXCIpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdXBkYXRlUHJldmlldygkc2NvcGUuZm9udERhdGEpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZUJ1dHRvbigkYnRuKSB7XG4gICAgICAgICAgICAkYnRuLnRvZ2dsZUNsYXNzKFwibWNlLWFjdGl2ZVwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTdHlsZSB0aGUgcHJldmlldyB0ZXh0LlxuICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVByZXZpZXcoZm9udERhdGEpIHtcbiAgICAgICAgICAgIHZhciAkdGV4dENvbnRhaW5lciA9ICRlbGVtZW50LmZpbmQoXCIudGV4dC1jb250YWluZXJcIiksXG4gICAgICAgICAgICAgICR0ZXh0ID0gJGVsZW1lbnQuZmluZChcIi50ZXh0XCIpO1xuXG4gICAgICAgICAgICBpZiAoJHNjb3BlLnByZXZpZXdUZXh0ICYmIGZvbnREYXRhKSB7XG4gICAgICAgICAgICAgICR0ZXh0LmNzcyhcImZvbnRGYW1pbHlcIiwgZm9udERhdGEuZm9udC5mYW1pbHkpO1xuICAgICAgICAgICAgICAkdGV4dC5jc3MoXCJmb250U2l6ZVwiLCBmb250RGF0YS5zaXplKTtcbiAgICAgICAgICAgICAgJHRleHQuY3NzKFwiZm9udFdlaWdodFwiLCBmb250RGF0YS5ib2xkID8gXCJib2xkXCIgOiBcIm5vcm1hbFwiKTtcbiAgICAgICAgICAgICAgJHRleHQuY3NzKFwiZm9udFN0eWxlXCIsIGZvbnREYXRhLml0YWxpYyA/IFwiaXRhbGljXCIgOiBcIm5vcm1hbFwiKTtcbiAgICAgICAgICAgICAgJHRleHQuY3NzKFwidGV4dERlY29yYXRpb25cIiwgZm9udERhdGEudW5kZXJsaW5lID8gXCJ1bmRlcmxpbmVcIiA6IFwibm9uZVwiKTtcbiAgICAgICAgICAgICAgJHRleHQuY3NzKFwiY29sb3JcIiwgZm9udERhdGEuZm9yZWNvbG9yKTtcbiAgICAgICAgICAgICAgJHRleHQuY3NzKFwiYmFja2dyb3VuZENvbG9yXCIsIGZvbnREYXRhLmJhY2tjb2xvcik7XG4gICAgICAgICAgICAgICR0ZXh0Q29udGFpbmVyLmNzcyhcInRleHRBbGlnblwiLCBmb250RGF0YS5hbGlnbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRGV0ZXJtaW5lIHdoYXQgdHlwZSBvZiBmb250IHRoaXMgaXMgKHN0YW5kYXJkIG9yIGdvb2dsZSkuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0Rm9udFR5cGUoZmFtaWx5KSB7XG4gICAgICAgICAgICBpZiAoV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRy5mYW1pbGllcy5pbmRleE9mKGZhbWlseSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgIHJldHVybiBcInN0YW5kYXJkXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgkc2NvcGUuZ29vZ2xlRm9udExpc3QuaW5kZXhPZihmYW1pbHkpICE9PSAtMSkge1xuICAgICAgICAgICAgICByZXR1cm4gXCJnb29nbGVcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFwiY3VzdG9tXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRXh0cmFjdCBmb250IG5hbWUgZnJvbSBmb250IFVSTC5cbiAgICAgICAgICBmdW5jdGlvbiBnZXRDdXN0b21Gb250RmFtaWx5KCkge1xuICAgICAgICAgICAgdmFyIGZhbWlseSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEuZm9udC51cmwpIHtcbiAgICAgICAgICAgICAgLy8gZGVjb2RlIGVzY2FwZSBzZXF1ZW5jZXMgdG8gYWNjb3VudCBmb3Igc3BhY2VzIGluIGZvbnQgbmFtZVxuICAgICAgICAgICAgICBmYW1pbHkgPSBkZWNvZGVVUkkoJHNjb3BlLmZvbnREYXRhLmZvbnQudXJsLnRyaW0oKSk7XG4gICAgICAgICAgICAgIHJldHVybiBmYW1pbHkuc3BsaXQoXCIvXCIpLnBvcCgpLnNwbGl0KFwiLlwiKVswXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gTG9hZCBhIGN1c3RvbSBmb250LlxuICAgICAgICAgIGZ1bmN0aW9uIGxvYWRDdXN0b21Gb250KGZhbWlseSkge1xuICAgICAgICAgICAgdmFyIHNoZWV0ID0gbnVsbCxcbiAgICAgICAgICAgICAgdXJsID0gJC50cmltKCRzY29wZS5mb250RGF0YS5mb250LnVybCksXG4gICAgICAgICAgICAgIHJ1bGUgPSBcImZvbnQtZmFtaWx5OiBcIiArIGZhbWlseSArIFwiOyBcIiArIFwic3JjOiB1cmwoJ1wiICsgdXJsICsgXCInKTtcIjtcblxuICAgICAgICAgICAgc2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTtcblxuICAgICAgICAgICAgaWYgKHNoZWV0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHNoZWV0LmFkZFJ1bGUoXCJAZm9udC1mYWNlXCIsIHJ1bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGFkZFZlcnRpY2FsQWxpZ25CdXR0b25zKGVkaXRvcikge1xuICAgICAgICAgICAgZWRpdG9yLmFkZEJ1dHRvbihcImFsaWdudG9wXCIsIHtcbiAgICAgICAgICAgICAgaW1hZ2U6IFwiLy9zMy5hbWF6b25hd3MuY29tL1Jpc2UtSW1hZ2VzL0ljb25zL2FsaWduLXRvcC5zdmdcIixcbiAgICAgICAgICAgICAgdG9vbHRpcDogXCJBbGlnbiBUb3BcIixcbiAgICAgICAgICAgICAgb25jbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZChcIm1jZVRvZ2dsZVZlcnRpY2FsXCIsIGZhbHNlLCBcInRvcFwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGVkaXRvci5hZGRCdXR0b24oXCJhbGlnbm1pZGRsZVwiLCB7XG4gICAgICAgICAgICAgIGltYWdlOiBcIi8vczMuYW1hem9uYXdzLmNvbS9SaXNlLUltYWdlcy9JY29ucy9hbGlnbi12ZXJ0aWNhbC1taWRkbGUuc3ZnXCIsXG4gICAgICAgICAgICAgIHRvb2x0aXA6IFwiQWxpZ24gTWlkZGxlXCIsXG4gICAgICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJtY2VUb2dnbGVWZXJ0aWNhbFwiLCBmYWxzZSwgXCJtaWRkbGVcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBlZGl0b3IuYWRkQnV0dG9uKFwiYWxpZ25ib3R0b21cIiwge1xuICAgICAgICAgICAgICBpbWFnZTogXCIvL3MzLmFtYXpvbmF3cy5jb20vUmlzZS1JbWFnZXMvSWNvbnMvYWxpZ24tYm90dG9tLnN2Z1wiLFxuICAgICAgICAgICAgICB0b29sdGlwOiBcIkFsaWduIEJvdHRvbVwiLFxuICAgICAgICAgICAgICBvbmNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwibWNlVG9nZ2xlVmVydGljYWxcIiwgZmFsc2UsIFwiYm90dG9tXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZWRpdG9yLmFkZENvbW1hbmQoXCJtY2VUb2dnbGVWZXJ0aWNhbFwiLCBmdW5jdGlvbiAoKSB7fSk7XG5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiB0b2dnbGVWZXJ0aWNhbEJ1dHRvbnModmFsdWUpIHtcbiAgICAgICAgICAgIHN3aXRjaCh2YWx1ZSkge1xuICAgICAgICAgICAgICBjYXNlIFwidG9wXCI6XG4gICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdBbGlnbiBUb3AnXVwiKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJtaWRkbGVcIjpcbiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J0FsaWduIE1pZGRsZSddXCIpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImJvdHRvbVwiOlxuICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbigkZWxlbWVudC5maW5kKFwiLm1jZS1idG5bYXJpYS1sYWJlbD0nQWxpZ24gQm90dG9tJ11cIikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSk7XG59KCkpO1xuXG4oZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5mb250LXNldHRpbmdcIilcbiAgICAuZmFjdG9yeShcImdvb2dsZUZvbnRMb2FkZXJcIiwgW1wiJGh0dHBcIiwgXCJhbmd1bGFyTG9hZFwiLCBmdW5jdGlvbigkaHR0cCwgYW5ndWxhckxvYWQpIHtcblxuICAgIHZhciBmb250c0FwaSA9IFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vd2ViZm9udHMvdjEvd2ViZm9udHM/a2V5PUFJemFTeUJYeFZLX0lPVjdMTlFNdVZWb19sN1p2TjUzZWpOODZ6WVwiLFxuICAgICAgZm9udEJhc2VVcmwgPSBcIi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1cIixcbiAgICAgIGV4Y2x1ZGUgPSBbXCJCdWRhXCIsIFwiQ29kYSBDYXB0aW9uXCIsIFwiT3BlbiBTYW5zIENvbmRlbnNlZFwiLCBcIlVuaWZyYWt0dXJDb29rXCIsIFwiTW9sbGVcIl0sXG4gICAgICBmYWxsYmFjayA9IFwiLHNhbnMtc2VyaWY7XCIsXG4gICAgICBmYWN0b3J5ID0ge307XG5cbiAgICBmYWN0b3J5LmdldEZvbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGZvbnRzQXBpLCB7IGNhY2hlOiB0cnVlIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgdmFyIGZhbWlseSA9IFwiXCIsIGZvbnRzID0gXCJcIiwgc3BhY2VzID0gZmFsc2U7XG5cbiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLml0ZW1zKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgZmFtaWx5ID0gcmVzcG9uc2UuZGF0YS5pdGVtc1tpXS5mYW1pbHk7XG5cbiAgICAgICAgICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihmYW1pbHkpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGFuZ3VsYXJMb2FkLmxvYWRDU1MoZm9udEJhc2VVcmwgKyBmYW1pbHkpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAvLyBGb250IGxvYWRlZC5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGZvciBzcGFjZXMgaW4gZmFtaWx5IG5hbWVcbiAgICAgICAgICAgICAgICBpZiAoL1xccy8udGVzdChmYW1pbHkpKSB7XG4gICAgICAgICAgICAgICAgICBzcGFjZXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzcGFjZXMpIHtcbiAgICAgICAgICAgICAgICAgIC8vIHdyYXAgZmFtaWx5IG5hbWUgaW4gc2luZ2xlIHF1b3Rlc1xuICAgICAgICAgICAgICAgICAgZm9udHMgKz0gZmFtaWx5ICsgXCI9J1wiICsgZmFtaWx5ICsgXCInXCIgKyBmYWxsYmFjaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICBmb250cyArPSBmYW1pbHkgKyBcIj1cIiArIGZhbWlseSArIGZhbGxiYWNrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGZvbnRzO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGZhY3Rvcnk7XG4gIH1dKTtcbn0oKSk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmZvbnQtc2V0dGluZ1wiKTsgfVxuY2F0Y2goZXJyKSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmZvbnQtc2V0dGluZ1wiLCBbXSk7IH1cbm1vZHVsZS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcIl9hbmd1bGFyL2ZvbnQtc2V0dGluZy9mb250LXNldHRpbmcuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwiZm9udC1zZXR0aW5nXFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBuZy1jbGFzcz1cXFwieydmb3JtLWdyb3VwJzogIXByZXZpZXdUZXh0fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8dGV4dGFyZWEgdWktdGlueW1jZT1cXFwidGlueW1jZU9wdGlvbnNcXFwiIG5nLW1vZGVsPVxcXCJ0aW55bWNlTW9kZWxcXFwiIG5nLWlmPVxcXCJ0aW55bWNlT3B0aW9uc1xcXCI+PC90ZXh0YXJlYT5cXG5cIiArXG4gICAgXCIgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCIgbmctaWY9XFxcInByZXZpZXdUZXh0XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJ0ZXh0LWNvbnRhaW5lciBmb3JtLWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0ZXh0XFxcIj57e3ByZXZpZXdUZXh0fX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8IS0tIEN1c3RvbSBGb250IC0tPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiY3VzdG9tLWZvbnQgbW9kYWxcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgcm9sZT1cXFwiZGlhbG9nXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgZGF0YS1iYWNrZHJvcD1cXFwiZmFsc2VcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1kaWFsb2dcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtaGVhZGVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXRpbWVzIGhhbGYtdG9wXFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8aDIgY2xhc3M9XFxcIm1vZGFsLXRpdGxlXFxcIj57e1xcXCJmb250LXNldHRpbmcuY3VzdG9tLWZvbnRcXFwiIHwgdHJhbnNsYXRlfX08L2gyPlxcblwiICtcbiAgICBcIiAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8Zm9ybSByb2xlPVxcXCJmb3JtXFxcIiBuYW1lPVxcXCJjdXN0b21Gb250Rm9ybVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDx1cmwtZmllbGQgdXJsPVxcXCJmb250RGF0YS5mb250LnVybFxcXCIgbmctbW9kZWw9XFxcImN1c3RvbUZvbnRcXFwiIGluaXQtZW1wdHk+PC91cmwtZmllbGQ+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwic2VsZWN0IGJ0biBidG4tcHJpbWFyeSBidG4tZml4ZWQtd2lkdGhcXFwiIG5nLWNsaWNrPVxcXCJhcHBseUN1c3RvbUZvbnQoKVxcXCIgbmctZGlzYWJsZWQ9XFxcImN1c3RvbUZvbnRGb3JtLiRpbnZhbGlkXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxzcGFuPnt7XFxcImNvbW1vbi5zZWxlY3RcXFwiIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtd2hpdGUgZmEtY2hlY2sgaWNvbi1yaWdodFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2FuY2VsIGJ0biBidG4tZGVmYXVsdCBidG4tZml4ZWQtd2lkdGhcXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPHNwYW4+e3tcXFwiY29tbW9uLmNhbmNlbFxcXCIgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aGl0ZSBmYS10aW1lcyBpY29uLXJpZ2h0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgPC9mb3JtPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgPCEtLSBDdXN0b20gRm9udCBTaXplIC0tPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiY3VzdG9tLWZvbnQtc2l6ZSBtb2RhbFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiByb2xlPVxcXCJkaWFsb2dcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBkYXRhLWJhY2tkcm9wPVxcXCJmYWxzZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWRpYWxvZ1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtY29udGVudFxcXCI+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtdGltZXMgaGFsZi10b3BcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDxoMiBjbGFzcz1cXFwibW9kYWwtdGl0bGVcXFwiPnt7XFxcImZvbnQtc2V0dGluZy5jdXN0b20tZm9udC1zaXplXFxcIiB8IHRyYW5zbGF0ZX19PC9oMj5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPGZvcm0gcm9sZT1cXFwiZm9ybVxcXCIgbmFtZT1cXFwiY3VzdG9tRm9udFNpemVGb3JtXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0zXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJudW1iZXJcXFwiIG5nLW1vZGVsPVxcXCJjdXN0b21Gb250U2l6ZVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgLz5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPnt7J2NvbW1vbi51bml0cy5waXhlbHMnIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwic2VsZWN0IGJ0biBidG4tcHJpbWFyeSBidG4tZml4ZWQtd2lkdGhcXFwiIG5nLWNsaWNrPVxcXCJhcHBseUN1c3RvbUZvbnRTaXplKClcXFwiIG5nLWRpc2FibGVkPVxcXCJjdXN0b21Gb250U2l6ZUZvcm0uJGludmFsaWRcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPHNwYW4+e3tcXFwiY29tbW9uLnNlbGVjdFxcXCIgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aGl0ZSBmYS1jaGVjayBpY29uLXJpZ2h0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjYW5jZWwgYnRuIGJ0bi1kZWZhdWx0IGJ0bi1maXhlZC13aWR0aFxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8c3Bhbj57e1xcXCJjb21tb24uY2FuY2VsXFxcIiB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXdoaXRlIGZhLXRpbWVzIGljb24tcmlnaHRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L2Zvcm0+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udHJhbnNpdGlvbi1zZXR0aW5nXCIsIFtcbiAgICAgIFwicmlzZXZpc2lvbi5jb21tb24uaTE4blwiLCBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi50b29sdGlwXCJdKVxuICAgIC5kaXJlY3RpdmUoXCJ0cmFuc2l0aW9uU2V0dGluZ1wiLCBbXCIkdGVtcGxhdGVDYWNoZVwiLCBcIiRsb2dcIiwgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlLyosICRsb2cqLykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiRVwiLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIHRyYW5zaXRpb246IFwiPVwiLFxuICAgICAgICAgIGhpZGVGYWRlOiBcIkBcIlxuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KFwiX2FuZ3VsYXIvdHJhbnNpdGlvbi1zZXR0aW5nL3RyYW5zaXRpb24tc2V0dGluZy5odG1sXCIpLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUpIHtcblxuICAgICAgICAgIHNjb3BlLmRlZmF1bHRTZXR0aW5nID0ge1xuICAgICAgICAgICAgdHlwZTogXCJub25lXCIsXG4gICAgICAgICAgICBkaXJlY3Rpb246IFwidXBcIixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxMCxcbiAgICAgICAgICAgIHB1ZDogMTAsXG4gICAgICAgICAgICByZXN1bWU6IDUsXG4gICAgICAgICAgICBzcGVlZDogXCJtZWRpdW1cIlxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBzY29wZS5kZWZhdWx0cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgaWYgKG9iaikge1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMSwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAob2JqW3Byb3BdID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKFwidHJhbnNpdGlvblwiLCBmdW5jdGlvbih0cmFuc2l0aW9uKSB7XG4gICAgICAgICAgICBzY29wZS5kZWZhdWx0cyh0cmFuc2l0aW9uLCBzY29wZS5kZWZhdWx0U2V0dGluZyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSk7XG59KCkpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi50cmFuc2l0aW9uLXNldHRpbmdcIik7IH1cbmNhdGNoKGVycikgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi50cmFuc2l0aW9uLXNldHRpbmdcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJfYW5ndWxhci90cmFuc2l0aW9uLXNldHRpbmcvdHJhbnNpdGlvbi1zZXR0aW5nLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtM1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tcXFwidHJhbnNpdGlvbi5oZWFkaW5nXFxcIiB8IHRyYW5zbGF0ZX19PC9sYWJlbD5cXG5cIiArXG4gICAgXCIgICAgICA8c2VsZWN0IG5hbWU9XFxcInRyYW5zaXRpb24tYnlcXFwiIG5nLW1vZGVsPVxcXCJ0cmFuc2l0aW9uLnR5cGVcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwibm9uZVxcXCI+e3tcXFwidHJhbnNpdGlvbi50eXBlLm5vbmVcXFwiIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcImZhZGVcXFwiIG5nLWlmPVxcXCIhaGlkZUZhZGVcXFwiPnt7XFxcInRyYW5zaXRpb24udHlwZS5mYWRlXFxcIiB8IHRyYW5zbGF0ZX19PC9vcHRpb24+XFxuXCIgK1xuICAgIFwiICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJzY3JvbGxcXFwiPnt7XFxcInRyYW5zaXRpb24udHlwZS5zY3JvbGxcXFwiIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcInBhZ2VcXFwiPnt7XFxcInRyYW5zaXRpb24udHlwZS5wYWdlXFxcIiB8IHRyYW5zbGF0ZX19PC9vcHRpb24+XFxuXCIgK1xuICAgIFwiICAgICAgPC9zZWxlY3Q+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0zXFxcIiBuZy1pZj1cXFwidHJhbnNpdGlvbi50eXBlICE9PSAnc2Nyb2xsJ1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tcXFwidHJhbnNpdGlvbi5kdXJhdGlvblxcXCIgfCB0cmFuc2xhdGUgfX08L2xhYmVsPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpbnB1dCBuYW1lPVxcXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXFxcIiB0eXBlPVxcXCJudW1iZXJcXFwiICBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwidHJhbnNpdGlvbi5kdXJhdGlvblxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPnNlYzwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0zXFxcIiBuZy1pZj1cXFwidHJhbnNpdGlvbi50eXBlID09PSAnc2Nyb2xsJ1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tcXFwidHJhbnNpdGlvbi5kaXJlY3Rpb24ubGFiZWxcXFwiIHwgdHJhbnNsYXRlfX08L2xhYmVsPlxcblwiICtcbiAgICBcIiAgICAgIDxzZWxlY3QgbmFtZT1cXFwidHJhbnNpdGlvbi1kaXJlY3Rpb25cXFwiIG5nLW1vZGVsPVxcXCJ0cmFuc2l0aW9uLmRpcmVjdGlvblxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJ1cFxcXCI+e3tcXFwidHJhbnNpdGlvbi5kaXJlY3Rpb24udXBcXFwiIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcImxlZnRcXFwiPnt7XFxcInRyYW5zaXRpb24uZGlyZWN0aW9uLmxlZnRcXFwiIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3NlbGVjdD5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0zXFxcIiBuZy1pZj1cXFwidHJhbnNpdGlvbi50eXBlID09PSAnc2Nyb2xsJ1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tcXFwidHJhbnNpdGlvbi5zcGVlZC5sYWJlbFxcXCIgfCB0cmFuc2xhdGV9fTwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgPHNlbGVjdCBuYW1lPVxcXCJ0cmFuc2l0aW9uLXNwZWVkXFxcIiBuZy1tb2RlbD1cXFwidHJhbnNpdGlvbi5zcGVlZFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJzbG93XFxcIj57e1xcXCJ0cmFuc2l0aW9uLnNwZWVkLnNsb3dcXFwiIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIm1lZGl1bVxcXCI+e3tcXFwidHJhbnNpdGlvbi5zcGVlZC5tZWRpdW1cXFwiIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcImZhc3RcXFwiPnt7XFxcInRyYW5zaXRpb24uc3BlZWQuZmFzdFxcXCIgfCB0cmFuc2xhdGV9fTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgIDwvc2VsZWN0PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTNcXFwiIG5nLWlmPVxcXCJ0cmFuc2l0aW9uLnR5cGUgPT09ICdzY3JvbGwnICYmIHRyYW5zaXRpb24uZGlyZWN0aW9uID09PSAndXAnIHx8IHRyYW5zaXRpb24udHlwZSA9PT0gJ3BhZ2UnXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e1xcXCJ0cmFuc2l0aW9uLnJlc3VtZS5sYWJlbFxcXCIgfCB0cmFuc2xhdGV9fTwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgPHNwYW4gcG9wb3Zlcj1cXFwie3sndHJhbnNpdGlvbi5yZXN1bWUudG9vbHRpcCcgfCB0cmFuc2xhdGV9fVxcXCIgcG9wb3Zlci10cmlnZ2VyPVxcXCJjbGlja1xcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICBwb3BvdmVyLXBsYWNlbWVudD1cXFwicmlnaHRcXFwiIHJ2LXRvb2x0aXA+PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpbnB1dCBuYW1lPVxcXCJ0cmFuc2l0aW9uLXJlc3VtZVxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBuZy1tb2RlbD1cXFwidHJhbnNpdGlvbi5yZXN1bWVcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIC8+XFxuXCIgK1xuICAgIFwiICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPnt7XFxcImNvbW1vbi51bml0cy5zZWNvbmRzXFxcIiB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTNcXFwiIG5nLWlmPVxcXCJ0cmFuc2l0aW9uLnR5cGUgPT09ICdzY3JvbGwnICYmIHRyYW5zaXRpb24uZGlyZWN0aW9uID09PSAndXAnIHx8IHRyYW5zaXRpb24udHlwZSA9PT0gJ3BhZ2UnXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e1xcXCJ0cmFuc2l0aW9uLnB1ZC5sYWJlbFxcXCIgfCB0cmFuc2xhdGV9fTwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgPHNwYW4gcG9wb3Zlcj1cXFwie3sndHJhbnNpdGlvbi5wdWQudG9vbHRpcCcgfCB0cmFuc2xhdGV9fVxcXCIgcG9wb3Zlci10cmlnZ2VyPVxcXCJjbGlja1xcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICBwb3BvdmVyLXBsYWNlbWVudD1cXFwicmlnaHRcXFwiIHJ2LXRvb2x0aXA+PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpbnB1dCBuYW1lPVxcXCJ0cmFuc2l0aW9uLXB1ZFxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBuZy1tb2RlbD1cXFwidHJhbnNpdGlvbi5wdWRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIC8+XFxuXCIgK1xuICAgIFwiICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPnt7XFxcImNvbW1vbi51bml0cy5zZWNvbmRzXFxcIiB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbmFuZ3VsYXIubW9kdWxlKCdjb2xvcnBpY2tlci5tb2R1bGUnLCBbXSlcbiAgICAuZmFjdG9yeSgnSGVscGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2xvc2VzdFNsaWRlcjogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICB2YXIgbWF0Y2hlc1NlbGVjdG9yID0gZWxlbS5tYXRjaGVzIHx8IGVsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IGVsZW0ubW96TWF0Y2hlc1NlbGVjdG9yIHx8IGVsZW0ubXNNYXRjaGVzU2VsZWN0b3I7XG4gICAgICAgICAgaWYgKG1hdGNoZXNTZWxlY3Rvci5iaW5kKGVsZW0pKCdJJykpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtLnBhcmVudE5vZGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBlbGVtO1xuICAgICAgICB9LFxuICAgICAgICBnZXRPZmZzZXQ6IGZ1bmN0aW9uIChlbGVtLCBmaXhlZFBvc2l0aW9uKSB7XG4gICAgICAgICAgdmFyXG4gICAgICAgICAgICBzY3JvbGxYID0gMCxcbiAgICAgICAgICAgIHNjcm9sbFkgPSAwLFxuICAgICAgICAgICAgcmVjdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgd2hpbGUgKGVsZW0gJiYgIWlzTmFOKGVsZW0ub2Zmc2V0TGVmdCkgJiYgIWlzTmFOKGVsZW0ub2Zmc2V0VG9wKSkge1xuICAgICAgICAgICAgaWYgKCFmaXhlZFBvc2l0aW9uICYmIGVsZW0udGFnTmFtZSA9PT0gJ0JPRFknKSB7XG4gICAgICAgICAgICAgIHNjcm9sbFggKz0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwgZWxlbS5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgICBzY3JvbGxZICs9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZWxlbS5zY3JvbGxUb3A7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzY3JvbGxYICs9IGVsZW0uc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgc2Nyb2xsWSArPSBlbGVtLnNjcm9sbFRvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsZW0gPSBlbGVtLm9mZnNldFBhcmVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogcmVjdC50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQsXG4gICAgICAgICAgICBsZWZ0OiByZWN0LmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQsXG4gICAgICAgICAgICBzY3JvbGxYOiBzY3JvbGxYLFxuICAgICAgICAgICAgc2Nyb2xsWTogc2Nyb2xsWVxuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIC8vIGEgc2V0IG9mIFJFJ3MgdGhhdCBjYW4gbWF0Y2ggc3RyaW5ncyBhbmQgZ2VuZXJhdGUgY29sb3IgdHVwbGVzLiBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS1jb2xvci9cbiAgICAgICAgc3RyaW5nUGFyc2VyczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlOiAvcmdiYT9cXChcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKig/OixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFxzKik/XFwpLyxcbiAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAoZXhlY1Jlc3VsdCkge1xuICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIGV4ZWNSZXN1bHRbMV0sXG4gICAgICAgICAgICAgICAgZXhlY1Jlc3VsdFsyXSxcbiAgICAgICAgICAgICAgICBleGVjUmVzdWx0WzNdLFxuICAgICAgICAgICAgICAgIGV4ZWNSZXN1bHRbNF1cbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlOiAvcmdiYT9cXChcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKig/OixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFxzKik/XFwpLyxcbiAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAoZXhlY1Jlc3VsdCkge1xuICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIDIuNTUgKiBleGVjUmVzdWx0WzFdLFxuICAgICAgICAgICAgICAgIDIuNTUgKiBleGVjUmVzdWx0WzJdLFxuICAgICAgICAgICAgICAgIDIuNTUgKiBleGVjUmVzdWx0WzNdLFxuICAgICAgICAgICAgICAgIGV4ZWNSZXN1bHRbNF1cbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlOiAvIyhbYS1mQS1GMC05XXsyfSkoW2EtZkEtRjAtOV17Mn0pKFthLWZBLUYwLTldezJ9KS8sXG4gICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24gKGV4ZWNSZXN1bHQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBwYXJzZUludChleGVjUmVzdWx0WzFdLCAxNiksXG4gICAgICAgICAgICAgICAgcGFyc2VJbnQoZXhlY1Jlc3VsdFsyXSwgMTYpLFxuICAgICAgICAgICAgICAgIHBhcnNlSW50KGV4ZWNSZXN1bHRbM10sIDE2KVxuICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmU6IC8jKFthLWZBLUYwLTldKShbYS1mQS1GMC05XSkoW2EtZkEtRjAtOV0pLyxcbiAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAoZXhlY1Jlc3VsdCkge1xuICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHBhcnNlSW50KGV4ZWNSZXN1bHRbMV0gKyBleGVjUmVzdWx0WzFdLCAxNiksXG4gICAgICAgICAgICAgICAgcGFyc2VJbnQoZXhlY1Jlc3VsdFsyXSArIGV4ZWNSZXN1bHRbMl0sIDE2KSxcbiAgICAgICAgICAgICAgICBwYXJzZUludChleGVjUmVzdWx0WzNdICsgZXhlY1Jlc3VsdFszXSwgMTYpXG4gICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9O1xuICAgIH0pXG4gICAgLmZhY3RvcnkoJ0NvbG9yJywgWydIZWxwZXInLCBmdW5jdGlvbiAoSGVscGVyKSB7XG4gICAgICAndXNlIHN0cmljdCc7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIGg6IDEsXG4gICAgICAgICAgczogMSxcbiAgICAgICAgICBiOiAxLFxuICAgICAgICAgIGE6IDFcbiAgICAgICAgfSxcbiAgICAgICAgLy8gdHJhbnNsYXRlIGEgZm9ybWF0IGZyb20gQ29sb3Igb2JqZWN0IHRvIGEgc3RyaW5nXG4gICAgICAgICdyZ2InOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHJnYiA9IHRoaXMudG9SR0IoKTtcbiAgICAgICAgICByZXR1cm4gJ3JnYignICsgcmdiLnIgKyAnLCcgKyByZ2IuZyArICcsJyArIHJnYi5iICsgJyknO1xuICAgICAgICB9LFxuICAgICAgICAncmdiYSc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgcmdiID0gdGhpcy50b1JHQigpO1xuICAgICAgICAgIHJldHVybiAncmdiYSgnICsgcmdiLnIgKyAnLCcgKyByZ2IuZyArICcsJyArIHJnYi5iICsgJywnICsgcmdiLmEgKyAnKSc7XG4gICAgICAgIH0sXG4gICAgICAgICdoZXgnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuICB0aGlzLnRvSGV4KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gSFNCdG9SR0IgZnJvbSBSYXBoYWVsSlNcbiAgICAgICAgUkdCdG9IU0I6IGZ1bmN0aW9uIChyLCBnLCBiLCBhKSB7XG4gICAgICAgICAgciAvPSAyNTU7XG4gICAgICAgICAgZyAvPSAyNTU7XG4gICAgICAgICAgYiAvPSAyNTU7XG5cbiAgICAgICAgICB2YXIgSCwgUywgViwgQztcbiAgICAgICAgICBWID0gTWF0aC5tYXgociwgZywgYik7XG4gICAgICAgICAgQyA9IFYgLSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICAgICAgICBIID0gKEMgPT09IDAgPyBudWxsIDpcbiAgICAgICAgICAgICAgViA9PT0gciA/IChnIC0gYikgLyBDIDpcbiAgICAgICAgICAgICAgICAgIFYgPT09IGcgPyAoYiAtIHIpIC8gQyArIDIgOlxuICAgICAgICAgICAgICAgICAgICAgIChyIC0gZykgLyBDICsgNFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIEggPSAoKEggKyAzNjApICUgNikgKiA2MCAvIDM2MDtcbiAgICAgICAgICBTID0gQyA9PT0gMCA/IDAgOiBDIC8gVjtcbiAgICAgICAgICByZXR1cm4ge2g6IEggfHwgMSwgczogUywgYjogViwgYTogYSB8fCAxfTtcbiAgICAgICAgfSxcblxuICAgICAgICAvL3BhcnNlIGEgc3RyaW5nIHRvIEhTQlxuICAgICAgICBzZXRDb2xvcjogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgIHZhbCA9ICh2YWwpID8gdmFsLnRvTG93ZXJDYXNlKCkgOiB2YWw7XG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIEhlbHBlci5zdHJpbmdQYXJzZXJzKSB7XG4gICAgICAgICAgICBpZiAoSGVscGVyLnN0cmluZ1BhcnNlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICB2YXIgcGFyc2VyID0gSGVscGVyLnN0cmluZ1BhcnNlcnNba2V5XTtcbiAgICAgICAgICAgICAgdmFyIG1hdGNoID0gcGFyc2VyLnJlLmV4ZWModmFsKSxcbiAgICAgICAgICAgICAgICAgIHZhbHVlcyA9IG1hdGNoICYmIHBhcnNlci5wYXJzZShtYXRjaCk7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5SR0J0b0hTQi5hcHBseShudWxsLCB2YWx1ZXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBzZXRIdWU6IGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgdGhpcy52YWx1ZS5oID0gMSAtIGg7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0U2F0dXJhdGlvbjogZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICB0aGlzLnZhbHVlLnMgPSBzO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldExpZ2h0bmVzczogZnVuY3Rpb24gKGIpIHtcbiAgICAgICAgICB0aGlzLnZhbHVlLmIgPSAxIC0gYjtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRBbHBoYTogZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICB0aGlzLnZhbHVlLmEgPSBwYXJzZUludCgoMSAtIGEpICogMTAwLCAxMCkgLyAxMDA7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gSFNCdG9SR0IgZnJvbSBSYXBoYWVsSlNcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0RtaXRyeUJhcmFub3Zza2l5L3JhcGhhZWwvXG4gICAgICAgIHRvUkdCOiBmdW5jdGlvbiAoaCwgcywgYiwgYSkge1xuICAgICAgICAgIGlmICghaCkge1xuICAgICAgICAgICAgaCA9IHRoaXMudmFsdWUuaDtcbiAgICAgICAgICAgIHMgPSB0aGlzLnZhbHVlLnM7XG4gICAgICAgICAgICBiID0gdGhpcy52YWx1ZS5iO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoICo9IDM2MDtcbiAgICAgICAgICB2YXIgUiwgRywgQiwgWCwgQztcbiAgICAgICAgICBoID0gKGggJSAzNjApIC8gNjA7XG4gICAgICAgICAgQyA9IGIgKiBzO1xuICAgICAgICAgIFggPSBDICogKDEgLSBNYXRoLmFicyhoICUgMiAtIDEpKTtcbiAgICAgICAgICBSID0gRyA9IEIgPSBiIC0gQztcblxuICAgICAgICAgIGggPSB+fmg7XG4gICAgICAgICAgUiArPSBbQywgWCwgMCwgMCwgWCwgQ11baF07XG4gICAgICAgICAgRyArPSBbWCwgQywgQywgWCwgMCwgMF1baF07XG4gICAgICAgICAgQiArPSBbMCwgMCwgWCwgQywgQywgWF1baF07XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IE1hdGgucm91bmQoUiAqIDI1NSksXG4gICAgICAgICAgICBnOiBNYXRoLnJvdW5kKEcgKiAyNTUpLFxuICAgICAgICAgICAgYjogTWF0aC5yb3VuZChCICogMjU1KSxcbiAgICAgICAgICAgIGE6IGEgfHwgdGhpcy52YWx1ZS5hXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICB0b0hleDogZnVuY3Rpb24gKGgsIHMsIGIsIGEpIHtcbiAgICAgICAgICB2YXIgcmdiID0gdGhpcy50b1JHQihoLCBzLCBiLCBhKTtcbiAgICAgICAgICByZXR1cm4gJyMnICsgKCgxIDw8IDI0KSB8IChwYXJzZUludChyZ2IuciwgMTApIDw8IDE2KSB8IChwYXJzZUludChyZ2IuZywgMTApIDw8IDgpIHwgcGFyc2VJbnQocmdiLmIsIDEwKSkudG9TdHJpbmcoMTYpLnN1YnN0cigxKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSlcbiAgICAuZmFjdG9yeSgnU2xpZGVyJywgWydIZWxwZXInLCBmdW5jdGlvbiAoSGVscGVyKSB7XG4gICAgICAndXNlIHN0cmljdCc7XG4gICAgICB2YXJcbiAgICAgICAgICBzbGlkZXIgPSB7XG4gICAgICAgICAgICBtYXhMZWZ0OiAwLFxuICAgICAgICAgICAgbWF4VG9wOiAwLFxuICAgICAgICAgICAgY2FsbExlZnQ6IG51bGwsXG4gICAgICAgICAgICBjYWxsVG9wOiBudWxsLFxuICAgICAgICAgICAga25vYjoge1xuICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHBvaW50ZXIgPSB7fTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0U2xpZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gc2xpZGVyO1xuICAgICAgICB9LFxuICAgICAgICBnZXRMZWZ0UG9zaXRpb246IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKHNsaWRlci5tYXhMZWZ0LCBzbGlkZXIubGVmdCArICgoZXZlbnQucGFnZVggfHwgcG9pbnRlci5sZWZ0KSAtIHBvaW50ZXIubGVmdCkpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0VG9wUG9zaXRpb246IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKHNsaWRlci5tYXhUb3AsIHNsaWRlci50b3AgKyAoKGV2ZW50LnBhZ2VZIHx8IHBvaW50ZXIudG9wKSAtIHBvaW50ZXIudG9wKSkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRTbGlkZXI6IGZ1bmN0aW9uIChldmVudCwgZml4ZWRQb3NpdGlvbikge1xuICAgICAgICAgIHZhclxuICAgICAgICAgICAgdGFyZ2V0ID0gSGVscGVyLmNsb3Nlc3RTbGlkZXIoZXZlbnQudGFyZ2V0KSxcbiAgICAgICAgICAgIHRhcmdldE9mZnNldCA9IEhlbHBlci5nZXRPZmZzZXQodGFyZ2V0LCBmaXhlZFBvc2l0aW9uKSxcbiAgICAgICAgICAgIHJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgICBvZmZzZXRYID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCxcbiAgICAgICAgICAgIG9mZnNldFkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3A7XG5cbiAgICAgICAgICBzbGlkZXIua25vYiA9IHRhcmdldC5jaGlsZHJlblswXS5zdHlsZTtcbiAgICAgICAgICBzbGlkZXIubGVmdCA9IGV2ZW50LnBhZ2VYIC0gdGFyZ2V0T2Zmc2V0LmxlZnQgLSB3aW5kb3cucGFnZVhPZmZzZXQgKyB0YXJnZXRPZmZzZXQuc2Nyb2xsWDtcbiAgICAgICAgICBzbGlkZXIudG9wID0gZXZlbnQucGFnZVkgLSB0YXJnZXRPZmZzZXQudG9wIC0gd2luZG93LnBhZ2VZT2Zmc2V0ICsgdGFyZ2V0T2Zmc2V0LnNjcm9sbFk7XG5cbiAgICAgICAgICBwb2ludGVyID0ge1xuICAgICAgICAgICAgbGVmdDogZXZlbnQucGFnZVggLSAob2Zmc2V0WCAtIHNsaWRlci5sZWZ0KSxcbiAgICAgICAgICAgIHRvcDogZXZlbnQucGFnZVkgLSAob2Zmc2V0WSAtIHNsaWRlci50b3ApXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0U2F0dXJhdGlvbjogZnVuY3Rpb24oZXZlbnQsIGZpeGVkUG9zaXRpb24pIHtcbiAgICAgICAgICBzbGlkZXIgPSB7XG4gICAgICAgICAgICBtYXhMZWZ0OiAxMDAsXG4gICAgICAgICAgICBtYXhUb3A6IDEwMCxcbiAgICAgICAgICAgIGNhbGxMZWZ0OiAnc2V0U2F0dXJhdGlvbicsXG4gICAgICAgICAgICBjYWxsVG9wOiAnc2V0TGlnaHRuZXNzJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy5zZXRTbGlkZXIoZXZlbnQsIGZpeGVkUG9zaXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRIdWU6IGZ1bmN0aW9uKGV2ZW50LCBmaXhlZFBvc2l0aW9uKSB7XG4gICAgICAgICAgc2xpZGVyID0ge1xuICAgICAgICAgICAgbWF4TGVmdDogMCxcbiAgICAgICAgICAgIG1heFRvcDogMTAwLFxuICAgICAgICAgICAgY2FsbExlZnQ6IGZhbHNlLFxuICAgICAgICAgICAgY2FsbFRvcDogJ3NldEh1ZSdcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRoaXMuc2V0U2xpZGVyKGV2ZW50LCBmaXhlZFBvc2l0aW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0QWxwaGE6IGZ1bmN0aW9uKGV2ZW50LCBmaXhlZFBvc2l0aW9uKSB7XG4gICAgICAgICAgc2xpZGVyID0ge1xuICAgICAgICAgICAgbWF4TGVmdDogMCxcbiAgICAgICAgICAgIG1heFRvcDogMTAwLFxuICAgICAgICAgICAgY2FsbExlZnQ6IGZhbHNlLFxuICAgICAgICAgICAgY2FsbFRvcDogJ3NldEFscGhhJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy5zZXRTbGlkZXIoZXZlbnQsIGZpeGVkUG9zaXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRLbm9iOiBmdW5jdGlvbih0b3AsIGxlZnQpIHtcbiAgICAgICAgICBzbGlkZXIua25vYi50b3AgPSB0b3AgKyAncHgnO1xuICAgICAgICAgIHNsaWRlci5rbm9iLmxlZnQgPSBsZWZ0ICsgJ3B4JztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSlcbiAgICAuZGlyZWN0aXZlKCdjb2xvcnBpY2tlcicsIFsnJGRvY3VtZW50JywgJyRjb21waWxlJywgJ0NvbG9yJywgJ1NsaWRlcicsICdIZWxwZXInLCBmdW5jdGlvbiAoJGRvY3VtZW50LCAkY29tcGlsZSwgQ29sb3IsIFNsaWRlciwgSGVscGVyKSB7XG4gICAgICAndXNlIHN0cmljdCc7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoJHNjb3BlLCBlbGVtLCBhdHRycywgbmdNb2RlbCkge1xuICAgICAgICAgIHZhclxuICAgICAgICAgICAgICB0aGlzRm9ybWF0ID0gYXR0cnMuY29sb3JwaWNrZXIgPyBhdHRycy5jb2xvcnBpY2tlciA6ICdoZXgnLFxuICAgICAgICAgICAgICBpc0JhY2tncm91bmRTZXR0aW5nID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuYmFja2dyb3VuZFNldHRpbmcpID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICAgICBwb3NpdGlvbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmNvbG9ycGlja2VyUG9zaXRpb24pID8gYXR0cnMuY29sb3JwaWNrZXJQb3NpdGlvbiA6ICdib3R0b20nLFxuICAgICAgICAgICAgICBpbmxpbmUgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5jb2xvcnBpY2tlcklubGluZSkgPyBhdHRycy5jb2xvcnBpY2tlcklubGluZSA6IGZhbHNlLFxuICAgICAgICAgICAgICBmaXhlZFBvc2l0aW9uID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuY29sb3JwaWNrZXJGaXhlZFBvc2l0aW9uKSA/IGF0dHJzLmNvbG9ycGlja2VyRml4ZWRQb3NpdGlvbiA6IGZhbHNlLFxuICAgICAgICAgICAgICB0YXJnZXQgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5jb2xvcnBpY2tlclBhcmVudCkgPyBlbGVtLnBhcmVudCgpIDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxuICAgICAgICAgICAgICB3aXRoSW5wdXQgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5jb2xvcnBpY2tlcldpdGhJbnB1dCkgPyBhdHRycy5jb2xvcnBpY2tlcldpdGhJbnB1dCA6IGZhbHNlLFxuICAgICAgICAgICAgICBpbnB1dFRlbXBsYXRlID0gd2l0aElucHV0ID8gJzxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJjb2xvcnBpY2tlci1pbnB1dFwiIHNwZWxsY2hlY2s9XCJmYWxzZVwiPicgOiAnJyxcbiAgICAgICAgICAgICAgY2xvc2VCdXR0b24gPSAhaW5saW5lID8gJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2UgY2xvc2UtY29sb3JwaWNrZXJcIj4mdGltZXM7PC9idXR0b24+JyA6ICcnLFxuICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IGlzQmFja2dyb3VuZFNldHRpbmcgP1xuICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2xvcnBpY2tlciBkcm9wZG93blwiPicgK1xuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxjb2xvcnBpY2tlci1zYXR1cmF0aW9uPjxpPjwvaT48L2NvbG9ycGlja2VyLXNhdHVyYXRpb24+JyArXG4gICAgICAgICAgICAgICAgICAgICc8Y29sb3JwaWNrZXItaHVlPjxpPjwvaT48L2NvbG9ycGlja2VyLWh1ZT4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxjb2xvcnBpY2tlci1hbHBoYT48aT48L2k+PC9jb2xvcnBpY2tlci1hbHBoYT4nICtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRUZW1wbGF0ZSArXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PidcbiAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbG9ycGlja2VyIGRyb3Bkb3duXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzxjb2xvcnBpY2tlci1zYXR1cmF0aW9uPjxpPjwvaT48L2NvbG9ycGlja2VyLXNhdHVyYXRpb24+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzxjb2xvcnBpY2tlci1odWU+PGk+PC9pPjwvY29sb3JwaWNrZXItaHVlPicgK1xuICAgICAgICAgICAgICAgICAgICAgICc8Y29sb3JwaWNrZXItYWxwaGE+PGk+PC9pPjwvY29sb3JwaWNrZXItYWxwaGE+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzxjb2xvcnBpY2tlci1wcmV2aWV3PjwvY29sb3JwaWNrZXItcHJldmlldz4nICtcbiAgICAgICAgICAgICAgICAgICAgICBpbnB1dFRlbXBsYXRlICtcbiAgICAgICAgICAgICAgICAgICAgICBjbG9zZUJ1dHRvbiArXG4gICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAgICAgICBjb2xvcnBpY2tlclRlbXBsYXRlID0gYW5ndWxhci5lbGVtZW50KHRlbXBsYXRlKSxcbiAgICAgICAgICAgICAgcGlja2VyQ29sb3IgPSBDb2xvcixcbiAgICAgICAgICAgICAgc2xpZGVyQWxwaGEsXG4gICAgICAgICAgICAgIHNsaWRlckh1ZSA9IGNvbG9ycGlja2VyVGVtcGxhdGUuZmluZCgnY29sb3JwaWNrZXItaHVlJyksXG4gICAgICAgICAgICAgIHNsaWRlclNhdHVyYXRpb24gPSBjb2xvcnBpY2tlclRlbXBsYXRlLmZpbmQoJ2NvbG9ycGlja2VyLXNhdHVyYXRpb24nKSxcbiAgICAgICAgICAgICAgY29sb3JwaWNrZXJQcmV2aWV3ID0gY29sb3JwaWNrZXJUZW1wbGF0ZS5maW5kKCdjb2xvcnBpY2tlci1wcmV2aWV3JyksXG4gICAgICAgICAgICAgIHBpY2tlckNvbG9yUG9pbnRlcnMgPSBjb2xvcnBpY2tlclRlbXBsYXRlLmZpbmQoJ2knKTtcblxuICAgICAgICAgICRjb21waWxlKGNvbG9ycGlja2VyVGVtcGxhdGUpKCRzY29wZSk7XG5cbiAgICAgICAgICBpZiAod2l0aElucHV0KSB7XG4gICAgICAgICAgICB2YXIgcGlja2VyQ29sb3JJbnB1dCA9IGNvbG9ycGlja2VyVGVtcGxhdGUuZmluZCgnaW5wdXQnKTtcbiAgICAgICAgICAgIHBpY2tlckNvbG9ySW5wdXRcbiAgICAgICAgICAgICAgICAub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAub24oJ2tleXVwJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0NvbG9yID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgICAgICBlbGVtLnZhbChuZXdDb2xvcik7XG4gICAgICAgICAgICAgICAgaWYgKG5nTW9kZWwgJiYgbmdNb2RlbC4kbW9kZWxWYWx1ZSAhPT0gbmV3Q29sb3IpIHtcbiAgICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkobmdNb2RlbC4kc2V0Vmlld1ZhbHVlKG5ld0NvbG9yKSk7XG4gICAgICAgICAgICAgICAgICB1cGRhdGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBiaW5kTW91c2VFdmVudHMoKSB7XG4gICAgICAgICAgICAkZG9jdW1lbnQub24oJ21vdXNlbW92ZScsIG1vdXNlbW92ZSk7XG4gICAgICAgICAgICAkZG9jdW1lbnQub24oJ21vdXNldXAnLCBtb3VzZXVwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpc0Zvcm1hdCA9PT0gJ3JnYmEnKSB7XG4gICAgICAgICAgICBjb2xvcnBpY2tlclRlbXBsYXRlLmFkZENsYXNzKCdhbHBoYScpO1xuICAgICAgICAgICAgc2xpZGVyQWxwaGEgPSBjb2xvcnBpY2tlclRlbXBsYXRlLmZpbmQoJ2NvbG9ycGlja2VyLWFscGhhJyk7XG4gICAgICAgICAgICBzbGlkZXJBbHBoYVxuICAgICAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgU2xpZGVyLnNldEFscGhhKGV2ZW50LCBmaXhlZFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgIG1vdXNlbW92ZShldmVudCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICBTbGlkZXIuc2V0QWxwaGEoZXZlbnQsIGZpeGVkUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgYmluZE1vdXNlRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oJ21vdXNldXAnLCBmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgICAgICBlbWl0RXZlbnQoJ2NvbG9ycGlja2VyLXNlbGVjdGVkLWFscGhhJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2xpZGVySHVlXG4gICAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIFNsaWRlci5zZXRIdWUoZXZlbnQsIGZpeGVkUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIG1vdXNlbW92ZShldmVudCk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBTbGlkZXIuc2V0SHVlKGV2ZW50LCBmaXhlZFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBiaW5kTW91c2VFdmVudHMoKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLm9uKCdtb3VzZXVwJywgZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgIGVtaXRFdmVudCgnY29sb3JwaWNrZXItc2VsZWN0ZWQtaHVlJyk7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2xpZGVyU2F0dXJhdGlvblxuICAgICAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBTbGlkZXIuc2V0U2F0dXJhdGlvbihldmVudCwgZml4ZWRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgbW91c2Vtb3ZlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuY29sb3JwaWNrZXJDbG9zZU9uU2VsZWN0KSkge1xuICAgICAgICAgICAgICAgICAgaGlkZUNvbG9ycGlja2VyVGVtcGxhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBTbGlkZXIuc2V0U2F0dXJhdGlvbihldmVudCwgZml4ZWRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgYmluZE1vdXNlRXZlbnRzKCk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5vbignbW91c2V1cCcsIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgICAgICBlbWl0RXZlbnQoJ2NvbG9ycGlja2VyLXNlbGVjdGVkLXNhdHVyYXRpb24nKTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoZml4ZWRQb3NpdGlvbikge1xuICAgICAgICAgICAgY29sb3JwaWNrZXJUZW1wbGF0ZS5hZGRDbGFzcygnY29sb3JwaWNrZXItZml4ZWQtcG9zaXRpb24nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb2xvcnBpY2tlclRlbXBsYXRlLmFkZENsYXNzKCdjb2xvcnBpY2tlci1wb3NpdGlvbi0nICsgcG9zaXRpb24pO1xuICAgICAgICAgIGlmIChpbmxpbmUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgY29sb3JwaWNrZXJUZW1wbGF0ZS5hZGRDbGFzcygnY29sb3JwaWNrZXItaW5saW5lJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGFyZ2V0LmFwcGVuZChjb2xvcnBpY2tlclRlbXBsYXRlKTtcblxuICAgICAgICAgIGlmIChuZ01vZGVsKSB7XG4gICAgICAgICAgICBuZ01vZGVsLiRyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGVsZW0udmFsKG5nTW9kZWwuJHZpZXdWYWx1ZSk7XG5cbiAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVsZW0ub24oJ2JsdXIga2V5dXAgY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGVsZW0ub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjb2xvcnBpY2tlclRlbXBsYXRlLnJlbW92ZSgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgZnVuY3Rpb24gcHJldmlld0NvbG9yKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29sb3JwaWNrZXJQcmV2aWV3LmNzcygnYmFja2dyb3VuZENvbG9yJywgcGlja2VyQ29sb3JbdGhpc0Zvcm1hdF0oKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGNvbG9ycGlja2VyUHJldmlldy5jc3MoJ2JhY2tncm91bmRDb2xvcicsIHBpY2tlckNvbG9yLnRvSGV4KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2xpZGVyU2F0dXJhdGlvbi5jc3MoJ2JhY2tncm91bmRDb2xvcicsIHBpY2tlckNvbG9yLnRvSGV4KHBpY2tlckNvbG9yLnZhbHVlLmgsIDEsIDEsIDEpKTtcbiAgICAgICAgICAgIGlmICh0aGlzRm9ybWF0ID09PSAncmdiYScpIHtcbiAgICAgICAgICAgICAgc2xpZGVyQWxwaGEuY3NzLmJhY2tncm91bmRDb2xvciA9IHBpY2tlckNvbG9yLnRvSGV4KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gbW91c2Vtb3ZlKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgXG4gICAgICAgICAgICAgICAgbGVmdCA9IFNsaWRlci5nZXRMZWZ0UG9zaXRpb24oZXZlbnQpLFxuICAgICAgICAgICAgICAgIHRvcCA9IFNsaWRlci5nZXRUb3BQb3NpdGlvbihldmVudCksXG4gICAgICAgICAgICAgICAgc2xpZGVyID0gU2xpZGVyLmdldFNsaWRlcigpO1xuXG4gICAgICAgICAgICBTbGlkZXIuc2V0S25vYih0b3AsIGxlZnQpO1xuXG4gICAgICAgICAgICBpZiAoc2xpZGVyLmNhbGxMZWZ0KSB7XG4gICAgICAgICAgICAgIHBpY2tlckNvbG9yW3NsaWRlci5jYWxsTGVmdF0uY2FsbChwaWNrZXJDb2xvciwgbGVmdCAvIDEwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2xpZGVyLmNhbGxUb3ApIHtcbiAgICAgICAgICAgICAgcGlja2VyQ29sb3Jbc2xpZGVyLmNhbGxUb3BdLmNhbGwocGlja2VyQ29sb3IsIHRvcCAvIDEwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2aWV3Q29sb3IoKTtcbiAgICAgICAgICAgIHZhciBuZXdDb2xvciA9IHBpY2tlckNvbG9yW3RoaXNGb3JtYXRdKCk7XG4gICAgICAgICAgICBlbGVtLnZhbChuZXdDb2xvcik7XG4gICAgICAgICAgICBpZiAobmdNb2RlbCkge1xuICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KG5nTW9kZWwuJHNldFZpZXdWYWx1ZShuZXdDb2xvcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHdpdGhJbnB1dCkge1xuICAgICAgICAgICAgICBwaWNrZXJDb2xvcklucHV0LnZhbChuZXdDb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gbW91c2V1cCgpIHtcbiAgICAgICAgICAgIGVtaXRFdmVudCgnY29sb3JwaWNrZXItc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICRkb2N1bWVudC5vZmYoJ21vdXNlbW92ZScsIG1vdXNlbW92ZSk7XG4gICAgICAgICAgICAkZG9jdW1lbnQub2ZmKCdtb3VzZXVwJywgbW91c2V1cCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gdXBkYXRlKG9taXRJbm5lcklucHV0KSB7XG4gICAgICAgICAgICBwaWNrZXJDb2xvci5zZXRDb2xvcihlbGVtLnZhbCgpKTtcbiAgICAgICAgICAgIGlmICh3aXRoSW5wdXQgJiYgIW9taXRJbm5lcklucHV0KSB7XG4gICAgICAgICAgICAgIHBpY2tlckNvbG9ySW5wdXQudmFsKGVsZW0udmFsKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGlja2VyQ29sb3JQb2ludGVycy5lcSgwKS5jc3Moe1xuICAgICAgICAgICAgICBsZWZ0OiBwaWNrZXJDb2xvci52YWx1ZS5zICogMTAwICsgJ3B4JyxcbiAgICAgICAgICAgICAgdG9wOiAxMDAgLSBwaWNrZXJDb2xvci52YWx1ZS5iICogMTAwICsgJ3B4J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwaWNrZXJDb2xvclBvaW50ZXJzLmVxKDEpLmNzcygndG9wJywgMTAwICogKDEgLSBwaWNrZXJDb2xvci52YWx1ZS5oKSArICdweCcpO1xuICAgICAgICAgICAgcGlja2VyQ29sb3JQb2ludGVycy5lcSgyKS5jc3MoJ3RvcCcsIDEwMCAqICgxIC0gcGlja2VyQ29sb3IudmFsdWUuYSkgKyAncHgnKTtcbiAgICAgICAgICAgIHByZXZpZXdDb2xvcigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGdldENvbG9ycGlja2VyVGVtcGxhdGVQb3NpdGlvbigpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uVmFsdWUsXG4gICAgICAgICAgICAgICAgcG9zaXRpb25PZmZzZXQgPSBIZWxwZXIuZ2V0T2Zmc2V0KGVsZW1bMF0pO1xuXG4gICAgICAgICAgICBpZihhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5jb2xvcnBpY2tlclBhcmVudCkpIHtcbiAgICAgICAgICAgICAgcG9zaXRpb25PZmZzZXQubGVmdCA9IDA7XG4gICAgICAgICAgICAgIHBvc2l0aW9uT2Zmc2V0LnRvcCA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgICAgcG9zaXRpb25WYWx1ZSA9ICB7XG4gICAgICAgICAgICAgICAgJ3RvcCc6IHBvc2l0aW9uT2Zmc2V0LnRvcCAtIDE0NyxcbiAgICAgICAgICAgICAgICAnbGVmdCc6IHBvc2l0aW9uT2Zmc2V0LmxlZnRcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgcG9zaXRpb25WYWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAndG9wJzogcG9zaXRpb25PZmZzZXQudG9wLFxuICAgICAgICAgICAgICAgICdsZWZ0JzogcG9zaXRpb25PZmZzZXQubGVmdCArIDEyNlxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICAgICAgcG9zaXRpb25WYWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAndG9wJzogcG9zaXRpb25PZmZzZXQudG9wICsgZWxlbVswXS5vZmZzZXRIZWlnaHQgKyAyLFxuICAgICAgICAgICAgICAgICdsZWZ0JzogcG9zaXRpb25PZmZzZXQubGVmdFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uVmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgJ3RvcCc6IHBvc2l0aW9uT2Zmc2V0LnRvcCxcbiAgICAgICAgICAgICAgICAnbGVmdCc6IHBvc2l0aW9uT2Zmc2V0LmxlZnQgLSAxNTBcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICd0b3AnOiBwb3NpdGlvblZhbHVlLnRvcCArICdweCcsXG4gICAgICAgICAgICAgICdsZWZ0JzogcG9zaXRpb25WYWx1ZS5sZWZ0ICsgJ3B4J1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBkb2N1bWVudE1vdXNlZG93bkhhbmRsZXIoKSB7XG4gICAgICAgICAgICBoaWRlQ29sb3JwaWNrZXJUZW1wbGF0ZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHNob3dDb2xvcnBpY2tlclRlbXBsYXRlKCkge1xuXG4gICAgICAgICAgICBpZiAoIWNvbG9ycGlja2VyVGVtcGxhdGUuaGFzQ2xhc3MoJ2NvbG9ycGlja2VyLXZpc2libGUnKSkge1xuICAgICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgY29sb3JwaWNrZXJUZW1wbGF0ZVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnY29sb3JwaWNrZXItdmlzaWJsZScpXG4gICAgICAgICAgICAgICAgLmNzcyhnZXRDb2xvcnBpY2tlclRlbXBsYXRlUG9zaXRpb24oKSk7XG4gICAgICAgICAgICAgIGVtaXRFdmVudCgnY29sb3JwaWNrZXItc2hvd24nKTtcblxuICAgICAgICAgICAgICBpZiAoaW5saW5lID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyIGdsb2JhbCBtb3VzZWRvd24gZXZlbnQgdG8gaGlkZSB0aGUgY29sb3JwaWNrZXJcbiAgICAgICAgICAgICAgICAkZG9jdW1lbnQub24oJ21vdXNlZG93bicsIGRvY3VtZW50TW91c2Vkb3duSGFuZGxlcik7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoYXR0cnMuY29sb3JwaWNrZXJJc09wZW4pIHtcbiAgICAgICAgICAgICAgICAkc2NvcGVbYXR0cnMuY29sb3JwaWNrZXJJc09wZW5dID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoISRzY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuJGRpZ2VzdCgpOyAvL3RyaWdnZXIgdGhlIHdhdGNoZXIgdG8gZmlyZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpbmxpbmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBlbGVtLm9uKCdjbGljaycsIHNob3dDb2xvcnBpY2tlclRlbXBsYXRlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hvd0NvbG9ycGlja2VyVGVtcGxhdGUoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb2xvcnBpY2tlclRlbXBsYXRlLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGZ1bmN0aW9uIGVtaXRFdmVudChuYW1lKSB7XG4gICAgICAgICAgICBpZiAobmdNb2RlbCkge1xuICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQobmFtZSwge1xuICAgICAgICAgICAgICAgIG5hbWU6IGF0dHJzLm5nTW9kZWwsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG5nTW9kZWwuJG1vZGVsVmFsdWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gaGlkZUNvbG9ycGlja2VyVGVtcGxhdGUoKSB7XG4gICAgICAgICAgICBpZiAoY29sb3JwaWNrZXJUZW1wbGF0ZS5oYXNDbGFzcygnY29sb3JwaWNrZXItdmlzaWJsZScpKSB7XG4gICAgICAgICAgICAgIGNvbG9ycGlja2VyVGVtcGxhdGUucmVtb3ZlQ2xhc3MoJ2NvbG9ycGlja2VyLXZpc2libGUnKTtcbiAgICAgICAgICAgICAgZW1pdEV2ZW50KCdjb2xvcnBpY2tlci1jbG9zZWQnKTtcbiAgICAgICAgICAgICAgLy8gdW5yZWdpc3RlciB0aGUgZ2xvYmFsIG1vdXNlZG93biBldmVudFxuICAgICAgICAgICAgICAkZG9jdW1lbnQub2ZmKCdtb3VzZWRvd24nLCBkb2N1bWVudE1vdXNlZG93bkhhbmRsZXIpO1xuXG4gICAgICAgICAgICAgIGlmIChhdHRycy5jb2xvcnBpY2tlcklzT3Blbikge1xuICAgICAgICAgICAgICAgICRzY29wZVthdHRycy5jb2xvcnBpY2tlcklzT3Blbl0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoISRzY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuJGRpZ2VzdCgpOyAvL3RyaWdnZXIgdGhlIHdhdGNoZXIgdG8gZmlyZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbG9ycGlja2VyVGVtcGxhdGUuZmluZCgnYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaGlkZUNvbG9ycGlja2VyVGVtcGxhdGUoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChhdHRycy5jb2xvcnBpY2tlcklzT3Blbikge1xuICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChhdHRycy5jb2xvcnBpY2tlcklzT3BlbiwgZnVuY3Rpb24oc2hvdWxkQmVPcGVuKSB7XG5cbiAgICAgICAgICAgICAgaWYgKHNob3VsZEJlT3BlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHNob3dDb2xvcnBpY2tlclRlbXBsYXRlKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hvdWxkQmVPcGVuID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGhpZGVDb2xvcnBpY2tlclRlbXBsYXRlKCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dKTtcblxuLyoqXG4gKiBCaW5kcyBhIFRpbnlNQ0Ugd2lkZ2V0IHRvIDx0ZXh0YXJlYT4gZWxlbWVudHMuXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCd1aS50aW55bWNlJywgW10pXG4gIC52YWx1ZSgndWlUaW55bWNlQ29uZmlnJywge30pXG4gIC5kaXJlY3RpdmUoJ3VpVGlueW1jZScsIFsnJHJvb3RTY29wZScsICckY29tcGlsZScsICckdGltZW91dCcsICckd2luZG93JywgJyRzY2UnLCAndWlUaW55bWNlQ29uZmlnJywgJ3VpVGlueW1jZVNlcnZpY2UnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkY29tcGlsZSwgJHRpbWVvdXQsICR3aW5kb3csICRzY2UsIHVpVGlueW1jZUNvbmZpZywgdWlUaW55bWNlU2VydmljZSkge1xuICAgIHVpVGlueW1jZUNvbmZpZyA9IHVpVGlueW1jZUNvbmZpZyB8fCB7fTtcblxuICAgIGlmICh1aVRpbnltY2VDb25maWcuYmFzZVVybCkge1xuICAgICAgdGlueW1jZS5iYXNlVVJMID0gdWlUaW55bWNlQ29uZmlnLmJhc2VVcmw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcXVpcmU6IFsnbmdNb2RlbCcsICdeP2Zvcm0nXSxcbiAgICAgIHByaW9yaXR5OiA1OTksXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICAgIGlmICghJHdpbmRvdy50aW55bWNlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG5nTW9kZWwgPSBjdHJsc1swXSxcbiAgICAgICAgICBmb3JtID0gY3RybHNbMV0gfHwgbnVsbDtcblxuICAgICAgICB2YXIgZXhwcmVzc2lvbiwgb3B0aW9ucyA9IHtcbiAgICAgICAgICBkZWJvdW5jZTogdHJ1ZVxuICAgICAgICB9LCB0aW55SW5zdGFuY2UsXG4gICAgICAgICAgdXBkYXRlVmlldyA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBlZGl0b3IuZ2V0Q29udGVudCh7Zm9ybWF0OiBvcHRpb25zLmZvcm1hdH0pLnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnRlbnQgPSAkc2NlLnRydXN0QXNIdG1sKGNvbnRlbnQpO1xuXG4gICAgICAgICAgICBuZ01vZGVsLiRzZXRWaWV3VmFsdWUoY29udGVudCk7XG4gICAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiB0b2dnbGVEaXNhYmxlKGRpc2FibGVkKSB7XG4gICAgICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgICAgICBlbnN1cmVJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgICBpZiAodGlueUluc3RhbmNlKSB7XG4gICAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5nZXRCb2R5KCkuc2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVuc3VyZUluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aW55SW5zdGFuY2UgJiYgIXRpbnlJbnN0YW5jZS5zZXR0aW5ncy5yZWFkb25seSAmJiB0aW55SW5zdGFuY2UuZ2V0RG9jKCkpIHtcbiAgICAgICAgICAgICAgdGlueUluc3RhbmNlLmdldEJvZHkoKS5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZldGNoIGEgdW5pcXVlIElEIGZyb20gdGhlIHNlcnZpY2VcbiAgICAgICAgdmFyIHVuaXF1ZUlkID0gdWlUaW55bWNlU2VydmljZS5nZXRVbmlxdWVJZCgpO1xuICAgICAgICBhdHRycy4kc2V0KCdpZCcsIHVuaXF1ZUlkKTtcblxuICAgICAgICBleHByZXNzaW9uID0ge307XG5cbiAgICAgICAgYW5ndWxhci5leHRlbmQoZXhwcmVzc2lvbiwgc2NvcGUuJGV2YWwoYXR0cnMudWlUaW55bWNlKSk7XG5cbiAgICAgICAgLy9EZWJvdW5jZSB1cGRhdGUgYW5kIHNhdmUgYWN0aW9uXG4gICAgICAgIHZhciBkZWJvdW5jZWRVcGRhdGUgPSAoZnVuY3Rpb24oZGVib3VuY2VkVXBkYXRlRGVsYXkpIHtcbiAgICAgICAgICB2YXIgZGVib3VuY2VkVXBkYXRlVGltZXI7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGVkKSB7XG5cdCAgICAgICAgJHRpbWVvdXQuY2FuY2VsKGRlYm91bmNlZFVwZGF0ZVRpbWVyKTtcblx0ICAgICAgICAgZGVib3VuY2VkVXBkYXRlVGltZXIgPSAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIChmdW5jdGlvbihlZCkge1xuICAgICAgICAgICAgICAgIGlmIChlZC5pc0RpcnR5KCkpIHtcbiAgICAgICAgICAgICAgICAgIGVkLnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXcoZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkoZWQpO1xuICAgICAgICAgICAgfSwgZGVib3VuY2VkVXBkYXRlRGVsYXkpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pKDQwMCk7XG5cbiAgICAgICAgdmFyIHNldHVwT3B0aW9ucyA9IHtcbiAgICAgICAgICAvLyBVcGRhdGUgbW9kZWwgd2hlbiBjYWxsaW5nIHNldENvbnRlbnRcbiAgICAgICAgICAvLyAoc3VjaCBhcyBmcm9tIHRoZSBzb3VyY2UgZWRpdG9yIHBvcHVwKVxuICAgICAgICAgIHNldHVwOiBmdW5jdGlvbihlZCkge1xuICAgICAgICAgICAgZWQub24oJ2luaXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgbmdNb2RlbC4kcmVuZGVyKCk7XG4gICAgICAgICAgICAgIG5nTW9kZWwuJHNldFByaXN0aW5lKCk7XG4gICAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0VW50b3VjaGVkKCk7XG4gICAgICAgICAgICAgIGlmIChmb3JtKSB7XG4gICAgICAgICAgICAgICAgZm9ybS4kc2V0UHJpc3RpbmUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBtb2RlbCB3aGVuOlxuICAgICAgICAgICAgLy8gLSBhIGJ1dHRvbiBoYXMgYmVlbiBjbGlja2VkIFtFeGVjQ29tbWFuZF1cbiAgICAgICAgICAgIC8vIC0gdGhlIGVkaXRvciBjb250ZW50IGhhcyBiZWVuIG1vZGlmaWVkIFtjaGFuZ2VdXG4gICAgICAgICAgICAvLyAtIHRoZSBub2RlIGhhcyBjaGFuZ2VkIFtOb2RlQ2hhbmdlXVxuICAgICAgICAgICAgLy8gLSBhbiBvYmplY3QgaGFzIGJlZW4gcmVzaXplZCAodGFibGUsIGltYWdlKSBbT2JqZWN0UmVzaXplZF1cbiAgICAgICAgICAgIGVkLm9uKCdFeGVjQ29tbWFuZCBjaGFuZ2UgTm9kZUNoYW5nZSBPYmplY3RSZXNpemVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICghb3B0aW9ucy5kZWJvdW5jZSkge1xuICAgICAgICAgICAgICAgIGVkLnNhdmUoKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVWaWV3KGVkKTtcbiAgICAgICAgICAgICAgXHRyZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGVib3VuY2VkVXBkYXRlKGVkKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBlZC5vbignYmx1cicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBlbGVtZW50WzBdLmJsdXIoKTtcbiAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0VG91Y2hlZCgpO1xuICAgICAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGVkLm9uKCdyZW1vdmUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodWlUaW55bWNlQ29uZmlnLnNldHVwKSB7XG4gICAgICAgICAgICAgIHVpVGlueW1jZUNvbmZpZy5zZXR1cChlZCwge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXc6IHVwZGF0ZVZpZXdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChleHByZXNzaW9uLnNldHVwKSB7XG4gICAgICAgICAgICAgIGV4cHJlc3Npb24uc2V0dXAoZWQsIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVWaWV3OiB1cGRhdGVWaWV3XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZm9ybWF0OiBleHByZXNzaW9uLmZvcm1hdCB8fCAnaHRtbCcsXG4gICAgICAgICAgc2VsZWN0b3I6ICcjJyArIGF0dHJzLmlkXG4gICAgICAgIH07XG4gICAgICAgIC8vIGV4dGVuZCBvcHRpb25zIHdpdGggaW5pdGlhbCB1aVRpbnltY2VDb25maWcgYW5kXG4gICAgICAgIC8vIG9wdGlvbnMgZnJvbSBkaXJlY3RpdmUgYXR0cmlidXRlIHZhbHVlXG4gICAgICAgIGFuZ3VsYXIuZXh0ZW5kKG9wdGlvbnMsIHVpVGlueW1jZUNvbmZpZywgZXhwcmVzc2lvbiwgc2V0dXBPcHRpb25zKTtcbiAgICAgICAgLy8gV3JhcHBlZCBpbiAkdGltZW91dCBkdWUgdG8gJHRpbnltY2U6cmVmcmVzaCBpbXBsZW1lbnRhdGlvbiwgcmVxdWlyZXNcbiAgICAgICAgLy8gZWxlbWVudCB0byBiZSBwcmVzZW50IGluIERPTSBiZWZvcmUgaW5zdGFudGlhdGluZyBlZGl0b3Igd2hlblxuICAgICAgICAvLyByZS1yZW5kZXJpbmcgZGlyZWN0aXZlXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChvcHRpb25zLmJhc2VVUkwpe1xuICAgICAgICAgICAgdGlueW1jZS5iYXNlVVJMID0gb3B0aW9ucy5iYXNlVVJMO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgbWF5YmVJbml0UHJvbWlzZSA9IHRpbnltY2UuaW5pdChvcHRpb25zKTtcbiAgICAgICAgICBpZihtYXliZUluaXRQcm9taXNlICYmIHR5cGVvZiBtYXliZUluaXRQcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG1heWJlSW5pdFByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdG9nZ2xlRGlzYWJsZShzY29wZS4kZXZhbChhdHRycy5uZ0Rpc2FibGVkKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9nZ2xlRGlzYWJsZShzY29wZS4kZXZhbChhdHRycy5uZ0Rpc2FibGVkKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnVuc2hpZnQoZnVuY3Rpb24obW9kZWxWYWx1ZSkge1xuICAgICAgICAgIHJldHVybiBtb2RlbFZhbHVlID8gJHNjZS50cnVzdEFzSHRtbChtb2RlbFZhbHVlKSA6ICcnO1xuICAgICAgICB9KTtcblxuICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnVuc2hpZnQoZnVuY3Rpb24odmlld1ZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHZpZXdWYWx1ZSA/ICRzY2UuZ2V0VHJ1c3RlZEh0bWwodmlld1ZhbHVlKSA6ICcnO1xuICAgICAgICB9KTtcblxuICAgICAgICBuZ01vZGVsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbnN1cmVJbnN0YW5jZSgpO1xuXG4gICAgICAgICAgdmFyIHZpZXdWYWx1ZSA9IG5nTW9kZWwuJHZpZXdWYWx1ZSA/XG4gICAgICAgICAgICAkc2NlLmdldFRydXN0ZWRIdG1sKG5nTW9kZWwuJHZpZXdWYWx1ZSkgOiAnJztcblxuICAgICAgICAgIC8vIGluc3RhbmNlLmdldERvYygpIGNoZWNrIGlzIGEgZ3VhcmQgYWdhaW5zdCBudWxsIHZhbHVlXG4gICAgICAgICAgLy8gd2hlbiBkZXN0cnVjdGlvbiAmIHJlY3JlYXRpb24gb2YgaW5zdGFuY2VzIGhhcHBlblxuICAgICAgICAgIGlmICh0aW55SW5zdGFuY2UgJiZcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5nZXREb2MoKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGlueUluc3RhbmNlLnNldENvbnRlbnQodmlld1ZhbHVlKTtcbiAgICAgICAgICAgIC8vIFRyaWdnZXJpbmcgY2hhbmdlIGV2ZW50IGR1ZSB0byBUaW55TUNFIG5vdCBmaXJpbmcgZXZlbnQgJlxuICAgICAgICAgICAgLy8gYmVjb21pbmcgb3V0IG9mIHN5bmMgZm9yIGNoYW5nZSBjYWxsYmFja3NcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5maXJlKCdjaGFuZ2UnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgYXR0cnMuJG9ic2VydmUoJ2Rpc2FibGVkJywgdG9nZ2xlRGlzYWJsZSk7XG5cbiAgICAgICAgLy8gVGhpcyBibG9jayBpcyBiZWNhdXNlIG9mIFRpbnlNQ0Ugbm90IHBsYXlpbmcgd2VsbCB3aXRoIHJlbW92YWwgYW5kXG4gICAgICAgIC8vIHJlY3JlYXRpb24gb2YgaW5zdGFuY2VzLCByZXF1aXJpbmcgaW5zdGFuY2VzIHRvIGhhdmUgZGlmZmVyZW50XG4gICAgICAgIC8vIHNlbGVjdG9ycyBpbiBvcmRlciB0byByZW5kZXIgbmV3IGluc3RhbmNlcyBwcm9wZXJseVxuICAgICAgICBzY29wZS4kb24oJyR0aW55bWNlOnJlZnJlc2gnLCBmdW5jdGlvbihlLCBpZCkge1xuICAgICAgICAgIHZhciBlaWQgPSBhdHRycy5pZDtcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChpZCkgfHwgaWQgPT09IGVpZCkge1xuICAgICAgICAgICAgdmFyIHBhcmVudEVsZW1lbnQgPSBlbGVtZW50LnBhcmVudCgpO1xuICAgICAgICAgICAgdmFyIGNsb25lZEVsZW1lbnQgPSBlbGVtZW50LmNsb25lKCk7XG4gICAgICAgICAgICBjbG9uZWRFbGVtZW50LnJlbW92ZUF0dHIoJ2lkJyk7XG4gICAgICAgICAgICBjbG9uZWRFbGVtZW50LnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gICAgICAgICAgICBjbG9uZWRFbGVtZW50LnJlbW92ZUF0dHIoJ2FyaWEtaGlkZGVuJyk7XG4gICAgICAgICAgICB0aW55bWNlLmV4ZWNDb21tYW5kKCdtY2VSZW1vdmVFZGl0b3InLCBmYWxzZSwgZWlkKTtcbiAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuYXBwZW5kKCRjb21waWxlKGNsb25lZEVsZW1lbnQpKHNjb3BlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZW5zdXJlSW5zdGFuY2UoKTtcblxuICAgICAgICAgIGlmICh0aW55SW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiBlbnN1cmVJbnN0YW5jZSgpIHtcbiAgICAgICAgICBpZiAoIXRpbnlJbnN0YW5jZSkge1xuICAgICAgICAgICAgdGlueUluc3RhbmNlID0gdGlueW1jZS5nZXQoYXR0cnMuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1dKVxuICAuc2VydmljZSgndWlUaW55bWNlU2VydmljZScsIFtcbiAgICAvKipcbiAgICAgKiBBIHNlcnZpY2UgaXMgdXNlZCB0byBjcmVhdGUgdW5pcXVlIElEJ3MsIHRoaXMgcHJldmVudHMgZHVwbGljYXRlIElEJ3MgaWYgdGhlcmUgYXJlIG11bHRpcGxlIGVkaXRvcnMgb24gc2NyZWVuLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIFVJVGlueW1jZVNlcnZpY2UgPSBmdW5jdGlvbigpIHtcbiAgIFx0ICAgIHZhciBJRF9BVFRSID0gJ3VpLXRpbnltY2UnO1xuICAgIFx0Ly8gdW5pcXVlSWQga2VlcHMgdHJhY2sgb2YgdGhlIGxhdGVzdCBhc3NpZ25lZCBJRFxuICAgIFx0dmFyIHVuaXF1ZUlkID0gMDtcbiAgICAgICAgLy8gZ2V0VW5pcXVlSWQgcmV0dXJucyBhIHVuaXF1ZSBJRFxuICAgIFx0dmFyIGdldFVuaXF1ZUlkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdW5pcXVlSWQgKys7XG4gICAgICAgICAgcmV0dXJuIElEX0FUVFIgKyAnLScgKyB1bmlxdWVJZDtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gcmV0dXJuIHRoZSBmdW5jdGlvbiBhcyBhIHB1YmxpYyBtZXRob2Qgb2YgdGhlIHNlcnZpY2VcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgXHRnZXRVbmlxdWVJZDogZ2V0VW5pcXVlSWRcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgICAvLyByZXR1cm4gYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIHNlcnZpY2VcbiAgICAgIHJldHVybiBuZXcgVUlUaW55bWNlU2VydmljZSgpO1xuICAgIH1cbiAgXSk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLndpZGdldC1idXR0b24tdG9vbGJhclwiLCBbXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCJdKVxuICAgIC5kaXJlY3RpdmUoXCJ3aWRnZXRCdXR0b25Ub29sYmFyXCIsIFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiRVwiLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIHNhdmU6IFwiJlwiLFxuICAgICAgICAgIGNhbmNlbDogXCImXCIsXG4gICAgICAgICAgZGlzYWJsZVNhdmU6IFwiJlwiXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoXCJfYW5ndWxhci93aWRnZXQtYnV0dG9uLXRvb2xiYXIvd2lkZ2V0LWJ1dHRvbi10b29sYmFyLmh0bWxcIilcbiAgICAgIH07XG4gICAgfV0pO1xufSgpKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24ud2lkZ2V0LWJ1dHRvbi10b29sYmFyXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24ud2lkZ2V0LWJ1dHRvbi10b29sYmFyXCIsIFtdKTsgfVxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwiX2FuZ3VsYXIvd2lkZ2V0LWJ1dHRvbi10b29sYmFyL3dpZGdldC1idXR0b24tdG9vbGJhci5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwdWxsLXJpZ2h0XFxcIj5cXG5cIiArXG4gICAgXCIgIDxidXR0b24gaWQ9XFxcInNhdmVcXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnkgYnRuLWZpeGVkLXdpZHRoXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIG5nLWNsaWNrPVxcXCJzYXZlKClcXFwiIG5nLWRpc2FibGVkPVxcXCJkaXNhYmxlU2F2ZSgpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPHNwYW4+e3tcXFwiY29tbW9uLnNhdmVcXFwiIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aGl0ZSBmYS1jaGVjayBpY29uLXJpZ2h0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgIDxidXR0b24gaWQ9XFxcImNhbmNlbFxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tZml4ZWQtd2lkdGhcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgbmctY2xpY2s9XFxcImNhbmNlbCgpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPHNwYW4+e3tcXFwiY29tbW9uLmNhbmNlbFxcXCIgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgPGkgY2xhc3M9XFxcImZhIGZhLXdoaXRlIGZhLXRpbWVzIGljb24tcmlnaHRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnRvb2x0aXBcIiwgW1widWkuYm9vdHN0cmFwXCJdKVxuICAgIC5kaXJlY3RpdmUoXCJydlRvb2x0aXBcIiwgW2Z1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiBcIkFcIixcbiAgICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhcImZhXCIpO1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoXCJmYS1xdWVzdGlvbi1jaXJjbGVcIik7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhcImZhLWxnXCIpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dKTtcbn0oKSk7XG5cbi8qIGV4cG9ydGVkIGNvbmZpZyAqL1xudmFyIGNvbmZpZyA9IHt9O1xuXG5pZiAoIHR5cGVvZiBhbmd1bGFyICE9PSBcInVuZGVmaW5lZFwiICkge1xuICBhbmd1bGFyLm1vZHVsZSggXCJyaXNldmlzaW9uLndpZGdldC5yc3MuY29uZmlnXCIsIFtdIClcbiAgICAudmFsdWUoIFwibGF5b3V0NHgxXCIsIFwiaHR0cHM6Ly9zMy5hbWF6b25hd3MuY29tL3dpZGdldC1yc3MvMS4wLjAvZGlzdC9sYXlvdXQtNHgxLmh0bWxcIiApXG4gICAgLnZhbHVlKCBcImxheW91dDJ4MVwiLCBcImh0dHBzOi8vczMuYW1hem9uYXdzLmNvbS93aWRnZXQtcnNzLzEuMC4wL2Rpc3QvbGF5b3V0LTJ4MS5odG1sXCIgKVxuICAgIC52YWx1ZSggXCJsYXlvdXQxeDJcIiwgXCJodHRwczovL3MzLmFtYXpvbmF3cy5jb20vd2lkZ2V0LXJzcy8xLjAuMC9kaXN0L2xheW91dC0xeDIuaHRtbFwiICk7XG5cbiAgYW5ndWxhci5tb2R1bGUoIFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIiwgW10gKVxuICAgIC5jb25zdGFudCggXCJMT0NBTEVTX1BSRUZJWFwiLCBcImxvY2FsZXMvdHJhbnNsYXRpb25fXCIgKVxuICAgIC5jb25zdGFudCggXCJMT0NBTEVTX1NVRklYXCIsIFwiLmpzb25cIiApO1xufVxuXG5cblxuXG5hbmd1bGFyLm1vZHVsZSggXCJyaXNldmlzaW9uLndpZGdldC5yc3Muc2V0dGluZ3NcIiwgW1xuICBcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIixcbiAgXCJyaXNldmlzaW9uLndpZGdldC5yc3MuY29uZmlnXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLndpZGdldC1idXR0b24tdG9vbGJhclwiLFxuICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi50b29sdGlwXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmZvbnQtc2V0dGluZ1wiLFxuICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi50cmFuc2l0aW9uLXNldHRpbmdcIixcbiAgXCJjb2xvcnBpY2tlci5tb2R1bGVcIlxuXSApO1xuXG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIsIFtdKTtcblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIilcbiAgLmNvbnRyb2xsZXIoXCJzZXR0aW5nc0NvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwic2V0dGluZ3NTYXZlclwiLCBcInNldHRpbmdzR2V0dGVyXCIsIFwic2V0dGluZ3NDbG9zZXJcIixcbiAgICBmdW5jdGlvbiAoJHNjb3BlLCBzZXR0aW5nc1NhdmVyLCBzZXR0aW5nc0dldHRlciwgc2V0dGluZ3NDbG9zZXIpIHtcblxuICAgICRzY29wZS5zZXR0aW5ncyA9IHsgcGFyYW1zOiB7fSwgYWRkaXRpb25hbFBhcmFtczoge319O1xuICAgICRzY29wZS5hbGVydHMgPSBbXTtcblxuICAgICRzY29wZS5nZXRBZGRpdGlvbmFsUGFyYW0gPSBmdW5jdGlvbiAobmFtZSwgZGVmYXVsdFZhbCkge1xuICAgICAgdmFyIHZhbCA9ICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zW25hbWVdO1xuICAgICAgaWYoYW5ndWxhci5pc1VuZGVmaW5lZCh2YWwpKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5zZXRBZGRpdGlvbmFsUGFyYW0gPSBmdW5jdGlvbiAobmFtZSwgdmFsKSB7XG4gICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtc1tuYW1lXSA9IHZhbDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmxvYWRBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgc2V0dGluZ3NHZXR0ZXIuZ2V0QWRkaXRpb25hbFBhcmFtcygpLnRoZW4oZnVuY3Rpb24gKGFkZGl0aW9uYWxQYXJhbXMpIHtcbiAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMgPSBhZGRpdGlvbmFsUGFyYW1zO1xuICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdChcImxvYWRBZGRpdGlvbmFsUGFyYW1zXCIsIGFkZGl0aW9uYWxQYXJhbXMpO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uIChlcnIpIHthbGVydCAoZXJyKTsgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS5zZXRBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKG5hbWUsIHZhbCkge1xuICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXNbbmFtZV0gPSB2YWw7XG4gICAgfTtcblxuICAgICRzY29wZS5zYXZlU2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvL2NsZWFyIG91dCBwcmV2aW91cyBhbGVydHMsIGlmIGFueVxuICAgICAgJHNjb3BlLmFsZXJ0cyA9IFtdO1xuXG4gICAgICAkc2NvcGUuJGJyb2FkY2FzdChcImNvbGxlY3RBZGRpdGlvbmFsUGFyYW1zXCIpO1xuXG4gICAgICBzZXR0aW5nc1NhdmVyLnNhdmVTZXR0aW5ncygkc2NvcGUuc2V0dGluZ3MpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAvL1RPRE86IHBlcmhhcHMgc2hvdyBzb21lIGluZGljYXRvciBpbiBVST9cbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgJHNjb3BlLmFsZXJ0cyA9IGVyci5hbGVydHM7XG4gICAgICB9KTtcblxuICAgIH07XG5cbiAgICAkc2NvcGUuY2xvc2VTZXR0aW5ncyA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2V0dGluZ3NDbG9zZXIuY2xvc2VTZXR0aW5ncygpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAvL1RPRE86XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICRzY29wZS5hbGVydHMgPSBlcnIuYWxlcnRzO1xuICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgJHNjb3BlLnNldHRpbmdzLnBhcmFtcyA9IHNldHRpbmdzR2V0dGVyLmdldFBhcmFtcygpO1xuICAgICRzY29wZS5sb2FkQWRkaXRpb25hbFBhcmFtcygpO1xuICB9XSlcblxuICAuZGlyZWN0aXZlKFwic2Nyb2xsT25BbGVydHNcIiwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiBcIkFcIiwgLy9yZXN0cmljdHMgdG8gYXR0cmlidXRlc1xuICAgICAgc2NvcGU6IGZhbHNlLFxuICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxtKSB7XG4gICAgICAgICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKFwiYWxlcnRzXCIsIGZ1bmN0aW9uIChuZXdBbGVydHMsIG9sZEFsZXJ0cykge1xuICAgICAgICAgIGlmKG5ld0FsZXJ0cy5sZW5ndGggPiAwICYmIG9sZEFsZXJ0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICQoXCJib2R5XCIpLmFuaW1hdGUoe3Njcm9sbFRvcDogJGVsbS5vZmZzZXQoKS50b3B9LCBcImZhc3RcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5jb25zdGFudChcIlNUT1JBR0VfRklMRV9VUkxfQkFTRVwiLCBcInN0b3JhZ2UuZ29vZ2xlYXBpcy5jb20vcmlzZW1lZGlhbGlicmFyeS1cIilcbiAgLmNvbnN0YW50KFwiU1RPUkFHRV9GT0xERVJfVVJMX0JBU0VcIiwgXCJnb29nbGVhcGlzLmNvbS9zdG9yYWdlL1wiKVxuICAuZmFjdG9yeShcImNvbW1vblNldHRpbmdzXCIsIFtcIiRsb2dcIiwgXCJTVE9SQUdFX0ZJTEVfVVJMX0JBU0VcIiwgXCJTVE9SQUdFX0ZPTERFUl9VUkxfQkFTRVwiLFxuICAgIGZ1bmN0aW9uICgkbG9nLCBTVE9SQUdFX0ZJTEVfVVJMX0JBU0UsIFNUT1JBR0VfRk9MREVSX1VSTF9CQVNFKSB7XG5cbiAgICB2YXIgZmFjdG9yeSA9IHtcbiAgICAgIGdldFN0b3JhZ2VVcmxEYXRhOiBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHZhciBzdG9yYWdlID0ge30sXG4gICAgICAgICAgc3RyLCBhcnIsIHBhcmFtcywgcGFpcjtcblxuICAgICAgICBmdW5jdGlvbiBnZXRTdG9yYWdlVHlwZShzdG9yYWdlVXJsKSB7XG4gICAgICAgICAgaWYgKHN0b3JhZ2VVcmwuaW5kZXhPZihTVE9SQUdFX0ZJTEVfVVJMX0JBU0UpICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiZmlsZVwiO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzdG9yYWdlVXJsLmluZGV4T2YoU1RPUkFHRV9GT0xERVJfVVJMX0JBU0UpICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiZm9sZGVyXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRDb21wYW55SWQoc3RvcmFnZVVybCkge1xuICAgICAgICAgIHZhciBwID0gc3RvcmFnZVVybC5zcGxpdChcInJpc2VtZWRpYWxpYnJhcnktXCIpO1xuXG4gICAgICAgICAgcmV0dXJuIHBbMV0uc2xpY2UoMCwgcFsxXS5pbmRleE9mKFwiL1wiKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2V0U3RvcmFnZVR5cGUodXJsKSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgICAgICBzdHIgPSB1cmwuc3BsaXQoU1RPUkFHRV9GSUxFX1VSTF9CQVNFKVsxXTtcbiAgICAgICAgICBzdHIgPSBkZWNvZGVVUklDb21wb25lbnQoc3RyLnNsaWNlKHN0ci5pbmRleE9mKFwiL1wiKSArIDEpKTtcbiAgICAgICAgICBhcnIgPSBzdHIuc3BsaXQoXCIvXCIpO1xuXG4gICAgICAgICAgc3RvcmFnZS5jb21wYW55SWQgPSBnZXRDb21wYW55SWQodXJsKTtcbiAgICAgICAgICBzdG9yYWdlLmZpbGVOYW1lID0gYXJyLnBvcCgpO1xuICAgICAgICAgIHN0b3JhZ2UuZm9sZGVyID0gYXJyLmxlbmd0aCA+IDAgPyBhcnIuam9pbihcIi9cIikgOiBcIlwiO1xuXG4gICAgICAgICAgaWYgKHN0b3JhZ2UuZm9sZGVyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAvLyBhZGQgZW5kaW5nIFwiL1wiIHRvIHRoZSBmb2xkZXIgcGF0aFxuICAgICAgICAgICAgc3RvcmFnZS5mb2xkZXIgKz0gXCIvXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdldFN0b3JhZ2VUeXBlKHVybCkgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgICAgICBwYXJhbXMgPSB1cmwuc3BsaXQoXCI/XCIpO1xuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhaXIgPSBwYXJhbXNbaV0uc3BsaXQoXCI9XCIpO1xuXG4gICAgICAgICAgICBpZiAocGFpclswXSA9PT0gXCJwcmVmaXhcIiAmJiB0eXBlb2YgcGFpclsxXSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwYWlyWzFdICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgIHN0b3JhZ2UuY29tcGFueUlkID0gZ2V0Q29tcGFueUlkKHVybCk7XG4gICAgICAgICAgICAgIHN0b3JhZ2UuZm9sZGVyID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xuICAgICAgICAgICAgICBzdG9yYWdlLmZpbGVOYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0b3JhZ2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmYWN0b3J5O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5mYWN0b3J5KFwiZ2FkZ2V0c0FwaVwiLCBbXCIkd2luZG93XCIsIGZ1bmN0aW9uICgkd2luZG93KSB7XG4gICAgcmV0dXJuICR3aW5kb3cuZ2FkZ2V0cztcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuZmFjdG9yeShcImdvb2dsZUZvbnRMb2FkZXJcIiwgW1wiJGh0dHBcIiwgXCJhbmd1bGFyTG9hZFwiLCBmdW5jdGlvbiAoJGh0dHAsIGFuZ3VsYXJMb2FkKSB7XG5cbiAgICB2YXIgZmFjdG9yeSA9IHt9LFxuICAgICAgYWxsRm9udHMgPSBbXTtcblxuICAgIGZhY3RvcnkuZ2V0R29vZ2xlRm9udHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChhbGxGb250cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gR2V0IGxpc3Qgb2YgR29vZ2xlIGZvbnRzIHNvcnRlZCBhbHBoYWJldGljYWxseS5cbiAgICAgICAgcmV0dXJuICRodHRwLmdldChcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3dlYmZvbnRzL3YxL3dlYmZvbnRzP2tleT1BSXphU3lCWHhWS19JT1Y3TE5RTXVWVm9fbDdadk41M2VqTjg2elkmc29ydD1hbHBoYVwiLCB7IGNhY2hlOiB0cnVlIH0pXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAocmVzcC5kYXRhICYmIHJlc3AuZGF0YS5pdGVtcykge1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcmVzcC5kYXRhLml0ZW1zLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaXRlbSA9IHJlc3AuZGF0YS5pdGVtc1tpXTtcblxuICAgICAgICAgICAgICAgIC8vIERvbid0IHJldHVybiB0aG9zZSBmb250cyB0aGF0IGhhdmUgYSBzdWJzZXQgb2YgXCJraG1lclwiLlxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnN1YnNldHMgJiYgKGl0ZW0uc3Vic2V0cy5sZW5ndGggPT09IDEpICYmXG4gICAgICAgICAgICAgICAgICAoaXRlbS5zdWJzZXRzWzBdLnRvTG93ZXJDYXNlKCkgPT09IFwia2htZXJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYWxsRm9udHMucHVzaChpdGVtLmZhbWlseSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gbG9hZEZvbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGxvYWRGb250cygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKiBGaWx0ZXIgbGlzdCBvZiBmb250cyB0byBvbmx5IHJldHVybiB0aG9zZSB0aGF0IGFyZSBHb29nbGUgZm9udHMuICovXG4gICAgZmFjdG9yeS5nZXRGb250c1VzZWQgPSBmdW5jdGlvbihmYW1pbHlMaXN0KSB7XG4gICAgICB2YXIgZm9udHNVc2VkID0gW107XG5cbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChhbGxGb250cywgZnVuY3Rpb24gKGZhbWlseSkge1xuICAgICAgICBpZiAoZmFtaWx5TGlzdC5pbmRleE9mKGZhbWlseSkgIT09IC0xKSB7XG4gICAgICAgICAgZm9udHNVc2VkLnB1c2goZmFtaWx5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBmb250c1VzZWQ7XG4gICAgfTtcblxuICAgIC8qIExvYWQgdGhlIEdvb2dsZSBmb250cy4gKi9cbiAgICBmdW5jdGlvbiBsb2FkRm9udHMoKSB7XG4gICAgICB2YXIgZmFtaWx5ID0gXCJcIixcbiAgICAgICAgZm9udHMgPSBcIlwiLFxuICAgICAgICB1cmwgPSBcIlwiLFxuICAgICAgICB1cmxzID0gW10sXG4gICAgICAgIHNwYWNlcyA9IGZhbHNlLFxuICAgICAgICBmYWxsYmFjayA9IFwiLHNhbnMtc2VyaWY7XCIsXG4gICAgICAgIGZvbnRCYXNlVXJsID0gXCIvL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9XCIsXG4gICAgICAgIGV4Y2x1ZGUgPSBbXCJCdWRhXCIsIFwiQ29kYSBDYXB0aW9uXCIsIFwiT3BlbiBTYW5zIENvbmRlbnNlZFwiLCBcIlVuaWZyYWt0dXJDb29rXCIsIFwiTW9sbGVcIl07XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsRm9udHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZmFtaWx5ID0gYWxsRm9udHNbaV07XG5cbiAgICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihmYW1pbHkpID09PSAtMSkge1xuICAgICAgICAgIHVybCA9IGZvbnRCYXNlVXJsICsgZmFtaWx5O1xuXG4gICAgICAgICAgYW5ndWxhckxvYWQubG9hZENTUyh1cmwpO1xuICAgICAgICAgIHVybHMucHVzaCh1cmwpO1xuXG4gICAgICAgICAgLy8gY2hlY2sgZm9yIHNwYWNlcyBpbiBmYW1pbHkgbmFtZVxuICAgICAgICAgIGlmICgvXFxzLy50ZXN0KGZhbWlseSkpIHtcbiAgICAgICAgICAgIHNwYWNlcyA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNwYWNlcykge1xuICAgICAgICAgICAgLy8gd3JhcCBmYW1pbHkgbmFtZSBpbiBzaW5nbGUgcXVvdGVzXG4gICAgICAgICAgICBmb250cyArPSBmYW1pbHkgKyBcIj0nXCIgKyBmYW1pbHkgKyBcIidcIiArIGZhbGxiYWNrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvbnRzICs9IGZhbWlseSArIFwiPVwiICsgZmFtaWx5ICsgZmFsbGJhY2s7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IGZvbnRzOiBmb250cywgdXJsczogdXJscyB9O1xuICAgIH1cblxuICAgIHJldHVybiBmYWN0b3J5O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5zZXJ2aWNlKFwiaTE4bkxvYWRlclwiLCBbXCIkd2luZG93XCIsIFwiJHFcIiwgZnVuY3Rpb24gKCR3aW5kb3csICRxKSB7XG4gICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICR3aW5kb3cuaTE4bi5pbml0KHsgXG4gICAgICBmYWxsYmFja0xuZzogXCJlblwiLFxuICAgICAgcmVzR2V0UGF0aDogXCJsb2NhbGVzL19fbnNfX19fX2xuZ19fLmpzb25cIlxuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5pMThuKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuZmFjdG9yeShcImltYWdlVmFsaWRhdG9yXCIsIFtcIiRxXCIsIGZ1bmN0aW9uICgkcSkge1xuICAgIHZhciBmYWN0b3J5ID0ge1xuICAgICAgLy8gVmVyaWZ5IHRoYXQgVVJMIGlzIGEgdmFsaWQgaW1hZ2UgZmlsZS5cbiAgICAgIGlzSW1hZ2U6IGZ1bmN0aW9uKHNyYykge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpLFxuICAgICAgICAgIGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShmYWxzZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaW1hZ2Uuc3JjID0gc3JjO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZmFjdG9yeTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuc2VydmljZShcInNldHRpbmdzU2F2ZXJcIiwgW1wiJHFcIiwgXCIkbG9nXCIsIFwiZ2FkZ2V0c0FwaVwiLCBcInNldHRpbmdzUGFyc2VyXCIsXG4gIGZ1bmN0aW9uICgkcSwgJGxvZywgZ2FkZ2V0c0FwaSwgc2V0dGluZ3NQYXJzZXIpIHtcblxuICAgIHRoaXMuc2F2ZVNldHRpbmdzID0gZnVuY3Rpb24gKHNldHRpbmdzLCB2YWxpZGF0b3IpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgYWxlcnRzID0gW10sIHN0ciA9IFwiXCI7XG5cbiAgICAgIHNldHRpbmdzID0gcHJvY2Vzc1NldHRpbmdzKHNldHRpbmdzKTtcblxuICAgICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgICBhbGVydHMgPSB2YWxpZGF0b3Ioc2V0dGluZ3MpO1xuICAgICAgfVxuXG4gICAgICBpZihhbGVydHMubGVuZ3RoID4gMCkge1xuICAgICAgICAkbG9nLmRlYnVnKFwiVmFsaWRhdGlvbiBmYWlsZWQuXCIsIGFsZXJ0cyk7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdCh7YWxlcnRzOiBhbGVydHN9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNldHRpbmdzLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcImxheW91dFVSTFwiKSkge1xuICAgICAgICAvLyBlbnN1cmUgdGhlIHVybCBpcyB0aGUgc3RhcnQgb2YgdGhlIHN0cmluZ1xuICAgICAgICBzdHIgKz0gc2V0dGluZ3MucGFyYW1zLmxheW91dFVSTCArIFwiP1wiO1xuICAgICAgICAvLyBkZWxldGUgdGhpcyBwcm9wZXJ0eSBzbyBpdHMgbm90IGluY2x1ZGVkIGJlbG93IGluIGVuY29kZVBhcmFtcyBjYWxsXG4gICAgICAgIGRlbGV0ZSBzZXR0aW5ncy5wYXJhbXMubGF5b3V0VVJMO1xuICAgICAgfVxuXG4gICAgICBzdHIgKz0gc2V0dGluZ3NQYXJzZXIuZW5jb2RlUGFyYW1zKHNldHRpbmdzLnBhcmFtcyk7XG5cbiAgICAgIHZhciBhZGRpdGlvbmFsUGFyYW1zU3RyID1cbiAgICAgICAgc2V0dGluZ3NQYXJzZXIuZW5jb2RlQWRkaXRpb25hbFBhcmFtcyhzZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zKTtcblxuICAgICAgZ2FkZ2V0c0FwaS5ycGMuY2FsbChcIlwiLCBcInJzY21kX3NhdmVTZXR0aW5nc1wiLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICRsb2cuZGVidWcoXCJlbmNvZGVkIHNldHRpbmdzXCIsIEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgICAgICAkbG9nLmRlYnVnKFwiU2V0dGluZ3Mgc2F2ZWQuIFwiLCBzZXR0aW5ncyk7XG5cbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgfSwge1xuICAgICAgICBwYXJhbXM6IHN0cixcbiAgICAgICAgYWRkaXRpb25hbFBhcmFtczogYWRkaXRpb25hbFBhcmFtc1N0clxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzU2V0dGluZ3Moc2V0dGluZ3MpIHtcbiAgICAgIHZhciBuZXdTZXR0aW5ncyA9IGFuZ3VsYXIuY29weShzZXR0aW5ncyk7XG5cbiAgICAgIGRlbGV0ZSBuZXdTZXR0aW5ncy5wYXJhbXMuaWQ7XG4gICAgICBkZWxldGUgbmV3U2V0dGluZ3MucGFyYW1zLmNvbXBhbnlJZDtcbiAgICAgIGRlbGV0ZSBuZXdTZXR0aW5ncy5wYXJhbXMucnNXO1xuICAgICAgZGVsZXRlIG5ld1NldHRpbmdzLnBhcmFtcy5yc0g7XG5cbiAgICAgIHJldHVybiBuZXdTZXR0aW5ncztcbiAgICB9XG5cbiAgfV0pXG5cbiAgLnNlcnZpY2UoXCJzZXR0aW5nc0dldHRlclwiLCBbXCIkcVwiLCBcImdhZGdldHNBcGlcIiwgXCIkbG9nXCIsIFwic2V0dGluZ3NQYXJzZXJcIiwgXCIkd2luZG93XCIsIFwiZGVmYXVsdFNldHRpbmdzXCIsXG4gICAgZnVuY3Rpb24gKCRxLCBnYWRnZXRzQXBpLCAkbG9nLCBzZXR0aW5nc1BhcnNlciwgJHdpbmRvdywgZGVmYXVsdFNldHRpbmdzKSB7XG5cbiAgICAgIHRoaXMuZ2V0QWRkaXRpb25hbFBhcmFtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgdmFyIGRlZmF1bHRBZGRpdGlvbmFsUGFyYW1zID0gZGVmYXVsdFNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMgfHwge307XG5cbiAgICAgICAgZ2FkZ2V0c0FwaS5ycGMuY2FsbChcIlwiLCBcInJzY21kX2dldEFkZGl0aW9uYWxQYXJhbXNcIiwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHNldHRpbmdzUGFyc2VyLnBhcnNlQWRkaXRpb25hbFBhcmFtcyhyZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHt9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgICRsb2cuZGVidWcoXCJnZXRBZGRpdGlvbmFsUGFyYW1zIHJldHVybnMgXCIsIHJlc3VsdCk7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkLmV4dGVuZCh0cnVlLCBkZWZhdWx0QWRkaXRpb25hbFBhcmFtcywgcmVzdWx0KSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5nZXRQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZWZhdWx0UGFyYW1zID0gZGVmYXVsdFNldHRpbmdzLnBhcmFtcyB8fCB7fTtcbiAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZXh0ZW5kKGRlZmF1bHRQYXJhbXMsXG4gICAgICAgICAgc2V0dGluZ3NQYXJzZXIucGFyc2VQYXJhbXMoJHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpKTtcbiAgICAgIH07XG4gIH1dKVxuXG4gIC5zZXJ2aWNlKFwic2V0dGluZ3NQYXJzZXJcIiwgW2Z1bmN0aW9uICgpIHtcbiAgICB0aGlzLnBhcnNlQWRkaXRpb25hbFBhcmFtcyA9IGZ1bmN0aW9uIChhZGRpdGlvbmFsUGFyYW1zU3RyKSB7XG4gICAgICBpZihhZGRpdGlvbmFsUGFyYW1zU3RyKSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGFkZGl0aW9uYWxQYXJhbXNTdHIpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5lbmNvZGVBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKGFkZGl0aW9uYWxQYXJhbXMpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhZGRpdGlvbmFsUGFyYW1zKTtcbiAgICB9O1xuXG4gICAgdGhpcy5lbmNvZGVQYXJhbXMgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICB2YXIgc3RyID0gW107XG4gICAgICBmb3IodmFyIHAgaW4gcGFyYW1zKSB7XG4gICAgICAgIGlmIChwYXJhbXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXNbcF0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zW3BdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHBhcmFtc1twXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RyLnB1c2goXCJ1cF9cIiArIGVuY29kZVVSSUNvbXBvbmVudChwKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0ci5qb2luKFwiJlwiKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc3RyaXBQcmVmaXgobmFtZSkge1xuICAgICAgaWYobmFtZS5pbmRleE9mKFwidXBfXCIpID09PSAwKSB7XG4gICAgICAgIHJldHVybiBuYW1lLnNsaWNlKDMpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucGFyc2VQYXJhbXMgPSBmdW5jdGlvbiAocGFyYW1zU3RyKSB7XG4gICAgICAvL2dldCByaWQgb2YgcHJlY2VlZGluZyBcIj9cIlxuICAgICAgaWYocGFyYW1zU3RyWzBdID09PSBcIj9cIikge1xuICAgICAgICBwYXJhbXNTdHIgPSBwYXJhbXNTdHIuc2xpY2UoMSk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICB2YXIgdmFycyA9IHBhcmFtc1N0ci5zcGxpdChcIiZcIik7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHBhaXIgPSB2YXJzW2ldLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgdmFyIG5hbWUgPSBzdHJpcFByZWZpeChkZWNvZGVVUklDb21wb25lbnQocGFpclswXSkpO1xuICAgICAgICAvL3NhdmUgc2V0dGluZ3Mgb25seSBpZiBpdCBoYXMgdXBfIHByZWZpeC4gSWdub3JlIG90aGVyd2lzZVxuICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHRbbmFtZV0gPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXN1bHRbbmFtZV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgfV0pXG5cbiAgLnNlcnZpY2UoXCJzZXR0aW5nc0Nsb3NlclwiLCBbXCIkcVwiLCBcIiRsb2dcIiwgXCJnYWRnZXRzQXBpXCIsXG4gIGZ1bmN0aW9uICgkcSwgJGxvZywgZ2FkZ2V0c0FwaSkge1xuXG4gICAgdGhpcy5jbG9zZVNldHRpbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgZ2FkZ2V0c0FwaS5ycGMuY2FsbChcIlwiLCBcInJzY21kX2Nsb3NlU2V0dGluZ3NcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgfV0pXG5cbiAgLnZhbHVlKFwiZGVmYXVsdFNldHRpbmdzXCIsIHt9KTtcblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnZpc3VhbGl6YXRpb25cIiwgW10pXG4gICAgLmZhY3RvcnkoXCJ2aXN1YWxpemF0aW9uQXBpXCIsIFtcIiRxXCIsIFwiJHdpbmRvd1wiLCBmdW5jdGlvbiAoJHEsICR3aW5kb3cpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgcHJvbWlzZTtcblxuICAgICAgdmFyIGZhY3RvcnkgPSB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICBpZiAoISR3aW5kb3cuZ29vZ2xlLnZpc3VhbGl6YXRpb24pIHtcbiAgICAgICAgICAgICAgJHdpbmRvdy5nb29nbGUuc2V0T25Mb2FkQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGZhY3Rvcnk7XG5cbiAgICB9XSk7XG5cbn0pKGFuZ3VsYXIpO1xuXG5hbmd1bGFyLm1vZHVsZSggXCJyaXNldmlzaW9uLndpZGdldC5yc3Muc2V0dGluZ3NcIiApXG4gIC5jb250cm9sbGVyKCBcInJzc1NldHRpbmdzQ29udHJvbGxlclwiLCBbIFwiJHNjb3BlXCIsIFwiJGxvZ1wiLCBcImZlZWRWYWxpZGF0b3JcIixcbiAgICBmdW5jdGlvbiggJHNjb3BlLCAkbG9nLCBmZWVkVmFsaWRhdG9yICkge1xuXG4gICAgICBmdW5jdGlvbiBpc0hvcml6b250YWxDb25maWd1cmVkKCkge1xuICAgICAgICByZXR1cm4gJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMudHJhbnNpdGlvbi5kaXJlY3Rpb24gPT09IFwibGVmdFwiICYmXG4gICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMudHJhbnNpdGlvbi50eXBlID09PSBcInNjcm9sbFwiO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUuZmVlZFZhbGlkID0gdHJ1ZTtcbiAgICAgICRzY29wZS5yZXF1aXJlc0F1dGhlbnRpY2F0aW9uID0gZmFsc2U7XG4gICAgICAkc2NvcGUubm90QUZlZWQgPSBmYWxzZTtcbiAgICAgICRzY29wZS5ob3Jpem9udGFsU2Nyb2xsaW5nID0gZmFsc2U7XG5cbiAgICAgICRzY29wZS52YWxpZGF0ZUZlZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZmVlZFZhbGlkYXRvci5pc1ZhbGlkKCAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy51cmwgKS50aGVuKCBmdW5jdGlvbiggdmFsdWUgKSB7XG4gICAgICAgICAgJHNjb3BlLmZlZWRWYWxpZCA9IHZhbHVlO1xuICAgICAgICB9ICk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuY2hlY2tXaXRoRmVlZFBhcnNlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnVybCAmJiAkc2NvcGUuc2V0dGluZ3NGb3JtLnJzc1VybC4kdmFsaWQgKSB7XG4gICAgICAgICAgZmVlZFZhbGlkYXRvci5pc1BhcnNhYmxlKCAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy51cmwgKVxuICAgICAgICAgICAgLnRoZW4oIGZ1bmN0aW9uKCB2YWx1ZSApIHtcbiAgICAgICAgICAgICAgaWYgKCB2YWx1ZSA9PT0gXCI0MDEgVW5hdXRob3JpemVkXCIgKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlcXVpcmVzQXV0aGVudGljYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKCB2YWx1ZSA9PT0gXCJOb3QgYSBmZWVkXCIgKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm5vdEFGZWVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoICF2YWx1ZSApIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVxdWlyZXNBdXRoZW50aWNhdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICRzY29wZS5ub3RBRmVlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICRzY29wZS52YWxpZGF0ZUZlZWQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRzY29wZS5yZXF1aXJlc0F1dGhlbnRpY2F0aW9uID0gZmFsc2U7XG4gICAgICAgICAgJHNjb3BlLm5vdEFGZWVkID0gZmFsc2U7XG4gICAgICAgICAgJHNjb3BlLmZlZWRWYWxpZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICRzY29wZS4kb24oIFwidXJsRmllbGRCbHVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUuY2hlY2tXaXRoRmVlZFBhcnNlcigpO1xuICAgICAgfSApO1xuXG4gICAgICAkc2NvcGUuJHdhdGNoKCBcInNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMudXJsXCIsIGZ1bmN0aW9uKCBuZXdWYWwsIG9sZFZhbCApIHtcbiAgICAgICAgaWYgKCB0eXBlb2Ygb2xkVmFsID09PSBcInVuZGVmaW5lZFwiICYmIG5ld1ZhbCAmJiBuZXdWYWwgIT09IFwiXCIgKSB7XG4gICAgICAgICAgLy8gcHJldmlvdXNseSBzYXZlZCBzZXR0aW5ncyBhcmUgYmVpbmcgc2hvd25cbiAgICAgICAgICAkc2NvcGUuY2hlY2tXaXRoRmVlZFBhcnNlcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICggdHlwZW9mIG5ld1ZhbCAhPT0gXCJ1bmRlZmluZWRcIiApIHtcbiAgICAgICAgICAgIC8vIGVuc3VyZSB3YXJuaW5nIG1lc3NhZ2UgZG9lc24ndCBnZXQgc2hvd24gd2hpbGUgdXJsIGZpZWxkIGlzIHJlY2VpdmluZyBpbnB1dFxuICAgICAgICAgICAgJHNjb3BlLmZlZWRWYWxpZCA9IHRydWU7XG4gICAgICAgICAgICAkc2NvcGUucmVxdWlyZXNBdXRoZW50aWNhdGlvbiA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICB9ICk7XG5cbiAgICAgICRzY29wZS4kd2F0Y2goIFwic2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy50cmFuc2l0aW9uLnR5cGVcIiwgZnVuY3Rpb24oIHZhbHVlICkge1xuICAgICAgICBpZiAoIHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcbiAgICAgICAgICAkc2NvcGUuaG9yaXpvbnRhbFNjcm9sbGluZyA9IGlzSG9yaXpvbnRhbENvbmZpZ3VyZWQoKTtcbiAgICAgICAgfVxuICAgICAgfSApO1xuXG4gICAgICAkc2NvcGUuJHdhdGNoKCBcInNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMudHJhbnNpdGlvbi5kaXJlY3Rpb25cIiwgZnVuY3Rpb24oIHZhbHVlICkge1xuICAgICAgICBpZiAoIHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcbiAgICAgICAgICAkc2NvcGUuaG9yaXpvbnRhbFNjcm9sbGluZyA9IGlzSG9yaXpvbnRhbENvbmZpZ3VyZWQoKTtcbiAgICAgICAgfVxuICAgICAgfSApO1xuXG4gICAgICAkc2NvcGUuJHdhdGNoKCBcInNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuZGF0YVNlbGVjdGlvbi5zaG93VGl0bGVcIiwgZnVuY3Rpb24oIHZhbHVlICkge1xuICAgICAgICBpZiAoIHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSAhPT0gXCJcIiAmJiAhdmFsdWUgKSB7XG4gICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuaGVhZGxpbmUuZm9udFN0eWxlID0ge307XG4gICAgICAgIH1cbiAgICAgIH0gKTtcblxuICAgICAgJHNjb3BlLiR3YXRjaCggXCJzZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLmRhdGFTZWxlY3Rpb24uc2hvd1RpbWVzdGFtcFwiLCBmdW5jdGlvbiggdmFsdWUgKSB7XG4gICAgICAgIGlmICggdHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiICYmIHZhbHVlICE9PSBcIlwiICYmICF2YWx1ZSApIHtcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy50aW1lc3RhbXAuZm9udFN0eWxlID0ge307XG4gICAgICAgIH1cbiAgICAgIH0gKTtcblxuICAgICAgJHNjb3BlLiR3YXRjaCggXCJzZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLmRhdGFTZWxlY3Rpb24uc2hvd0F1dGhvclwiLCBmdW5jdGlvbiggdmFsdWUgKSB7XG4gICAgICAgIGlmICggdHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiICYmIHZhbHVlICE9PSBcIlwiICYmICF2YWx1ZSApIHtcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5hdXRob3IuZm9udFN0eWxlID0ge307XG4gICAgICAgIH1cbiAgICAgIH0gKTtcblxuICAgICAgJHNjb3BlLiR3YXRjaCggXCJzZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLmRhdGFTZWxlY3Rpb24uc2hvd0Rlc2NyaXB0aW9uXCIsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcbiAgICAgICAgaWYgKCB0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIgJiYgdmFsdWUgIT09IFwic25pcHBldFwiICkge1xuICAgICAgICAgIGlmICggJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuZGF0YVNlbGVjdGlvbi5zbmlwcGV0TGVuZ3RoICkge1xuICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuZGF0YVNlbGVjdGlvbi5zbmlwcGV0TGVuZ3RoID0gJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuZGF0YVNlbGVjdGlvbi5zbmlwcGV0TGVuZ3RoO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5kYXRhU2VsZWN0aW9uLnNuaXBwZXRMZW5ndGggPSAxMjA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9ICk7XG5cbiAgICB9IF0gKVxuICAuZmlsdGVyKCBcImVzY2FwZVwiLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gd2luZG93LmVuY29kZVVSSUNvbXBvbmVudDtcbiAgfSApXG4gIC52YWx1ZSggXCJkZWZhdWx0U2V0dGluZ3NcIiwge1xuICAgIFwicGFyYW1zXCI6IHt9LFxuICAgIFwiYWRkaXRpb25hbFBhcmFtc1wiOiB7XG4gICAgICBcInVybFwiOiBcIlwiLFxuICAgICAgXCJpdGVtc0luUXVldWVcIjogNSxcbiAgICAgIFwiaXRlbXNUb1Nob3dcIjogMSxcbiAgICAgIFwiaGVhZGxpbmVcIjoge1xuICAgICAgICBcImZvbnRTdHlsZVwiOiB7XG4gICAgICAgICAgXCJmb250XCI6IHtcbiAgICAgICAgICAgIFwiZmFtaWx5XCI6IFwidmVyZGFuYSxnZW5ldmEsc2Fucy1zZXJpZlwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3RhbmRhcmRcIixcbiAgICAgICAgICAgIFwidXJsXCI6IFwiXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2l6ZVwiOiBcIjI0cHhcIixcbiAgICAgICAgICBcImN1c3RvbVNpemVcIjogXCJcIixcbiAgICAgICAgICBcImFsaWduXCI6IFwibGVmdFwiLFxuICAgICAgICAgIFwiYm9sZFwiOiB0cnVlLFxuICAgICAgICAgIFwiaXRhbGljXCI6IGZhbHNlLFxuICAgICAgICAgIFwidW5kZXJsaW5lXCI6IGZhbHNlLFxuICAgICAgICAgIFwiZm9yZWNvbG9yXCI6IFwiYmxhY2tcIixcbiAgICAgICAgICBcImJhY2tjb2xvclwiOiBcInRyYW5zcGFyZW50XCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwic3RvcnlcIjoge1xuICAgICAgICBcImZvbnRTdHlsZVwiOiB7XG4gICAgICAgICAgXCJmb250XCI6IHtcbiAgICAgICAgICAgIFwiZmFtaWx5XCI6IFwidmVyZGFuYSxnZW5ldmEsc2Fucy1zZXJpZlwiLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3RhbmRhcmRcIixcbiAgICAgICAgICAgIFwidXJsXCI6IFwiXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2l6ZVwiOiBcIjE4cHhcIixcbiAgICAgICAgICBcImN1c3RvbVNpemVcIjogXCJcIixcbiAgICAgICAgICBcImFsaWduXCI6IFwibGVmdFwiLFxuICAgICAgICAgIFwiYm9sZFwiOiB0cnVlLFxuICAgICAgICAgIFwiaXRhbGljXCI6IGZhbHNlLFxuICAgICAgICAgIFwidW5kZXJsaW5lXCI6IGZhbHNlLFxuICAgICAgICAgIFwiZm9yZWNvbG9yXCI6IFwiYmxhY2tcIixcbiAgICAgICAgICBcImJhY2tjb2xvclwiOiBcInRyYW5zcGFyZW50XCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwidGltZXN0YW1wXCI6IHtcbiAgICAgICAgXCJmb250U3R5bGVcIjoge1xuICAgICAgICAgIFwiZm9udFwiOiB7XG4gICAgICAgICAgICBcImZhbWlseVwiOiBcInZlcmRhbmEsZ2VuZXZhLHNhbnMtc2VyaWZcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInN0YW5kYXJkXCIsXG4gICAgICAgICAgICBcInVybFwiOiBcIlwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNpemVcIjogXCIxNHB4XCIsXG4gICAgICAgICAgXCJjdXN0b21TaXplXCI6IFwiXCIsXG4gICAgICAgICAgXCJhbGlnblwiOiBcImxlZnRcIixcbiAgICAgICAgICBcImJvbGRcIjogdHJ1ZSxcbiAgICAgICAgICBcIml0YWxpY1wiOiBmYWxzZSxcbiAgICAgICAgICBcInVuZGVybGluZVwiOiBmYWxzZSxcbiAgICAgICAgICBcImZvcmVjb2xvclwiOiBcIiM5Njk2OTZcIixcbiAgICAgICAgICBcImJhY2tjb2xvclwiOiBcInRyYW5zcGFyZW50XCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiYXV0aG9yXCI6IHtcbiAgICAgICAgXCJmb250U3R5bGVcIjoge1xuICAgICAgICAgIFwiZm9udFwiOiB7XG4gICAgICAgICAgICBcImZhbWlseVwiOiBcInZlcmRhbmEsZ2VuZXZhLHNhbnMtc2VyaWZcIixcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInN0YW5kYXJkXCIsXG4gICAgICAgICAgICBcInVybFwiOiBcIlwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNpemVcIjogXCIxNHB4XCIsXG4gICAgICAgICAgXCJjdXN0b21TaXplXCI6IFwiXCIsXG4gICAgICAgICAgXCJhbGlnblwiOiBcImxlZnRcIixcbiAgICAgICAgICBcImJvbGRcIjogdHJ1ZSxcbiAgICAgICAgICBcIml0YWxpY1wiOiBmYWxzZSxcbiAgICAgICAgICBcInVuZGVybGluZVwiOiBmYWxzZSxcbiAgICAgICAgICBcImZvcmVjb2xvclwiOiBcIiM5Njk2OTZcIixcbiAgICAgICAgICBcImJhY2tjb2xvclwiOiBcInRyYW5zcGFyZW50XCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwidHJhbnNpdGlvblwiOiB7fSxcbiAgICAgIFwiZGF0YVNlbGVjdGlvblwiOiB7XG4gICAgICAgIFwic2hvd1RpdGxlXCI6IHRydWUsXG4gICAgICAgIFwic2hvd1RpbWVzdGFtcFwiOiB0cnVlLFxuICAgICAgICBcInNob3dBdXRob3JcIjogdHJ1ZSxcbiAgICAgICAgXCJzaG93SW1hZ2VcIjogdHJ1ZSxcbiAgICAgICAgXCJzaG93RGVzY3JpcHRpb25cIjogXCJzbmlwcGV0XCIsXG4gICAgICAgIFwic25pcHBldExlbmd0aFwiOiAxMjBcbiAgICAgIH0sXG4gICAgICBcImxheW91dFwiOiBcImxheW91dC00eDFcIixcbiAgICAgIFwibGF5b3V0VXJsXCI6IFwiXCIsXG4gICAgICBcInNlcGFyYXRvclwiOiB7XG4gICAgICAgIFwic2hvd1wiOiB0cnVlLFxuICAgICAgICBcInNpemVcIjogMSxcbiAgICAgICAgXCJjb2xvclwiOiBcInJnYigyMzgsMjM4LDIzOClcIlxuICAgICAgfVxuICAgIH1cbiAgfSApO1xuXG5hbmd1bGFyLm1vZHVsZSggXCJyaXNldmlzaW9uLndpZGdldC5yc3Muc2V0dGluZ3NcIiApXG4gIC5mYWN0b3J5KCBcImZlZWRWYWxpZGF0b3JcIiwgWyBcIiRsb2dcIiwgXCIkaHR0cFwiLCBcIiR3aW5kb3dcIiwgZnVuY3Rpb24oICRsb2csICRodHRwLCAkd2luZG93ICkge1xuXG4gICAgdmFyIGZhY3RvcnkgPSB7XG4gICAgICBpc1ZhbGlkOiBmdW5jdGlvbiggdXJsICkge1xuXG4gICAgICAgIHJldHVybiAkaHR0cCgge1xuICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly9wcm94eS5yaXNldmlzaW9uLmNvbS9odHRwczovL3ZhbGlkYXRvci53My5vcmcvZmVlZC9jaGVjay5jZ2k/dXJsPVwiICsgdXJsICsgXCImb3V0cHV0PXNvYXAxMlwiXG4gICAgICAgIH0gKS50aGVuKCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG4gICAgICAgICAgdmFyIHBhcnNlZCxcbiAgICAgICAgICAgIHZhbGlkYXRpb25SZXNwb25zZTtcblxuICAgICAgICAgIGlmICggcmVzcG9uc2UgJiYgcmVzcG9uc2UuZGF0YSApIHtcbiAgICAgICAgICAgIHBhcnNlZCA9ICR3aW5kb3cueG1sVG9KU09OLnBhcnNlU3RyaW5nKCByZXNwb25zZS5kYXRhICk7XG4gICAgICAgICAgICB2YWxpZGF0aW9uUmVzcG9uc2UgPSBwYXJzZWQuRW52ZWxvcGVbIDAgXS5Cb2R5WyAwIF0uZmVlZHZhbGlkYXRpb25yZXNwb25zZVsgMCBdO1xuXG4gICAgICAgICAgICByZXR1cm4gdmFsaWRhdGlvblJlc3BvbnNlLnZhbGlkaXR5WyAwIF0uX3RleHQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0sIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcbiAgICAgICAgICAkbG9nLmRlYnVnKCBcIlZhbGlkYXRpb24gcmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSBcIiArIHJlc3BvbnNlLnN0YXR1cyArIFwiOiBcIiArIHJlc3BvbnNlLnN0YXR1c1RleHQgKTtcbiAgICAgICAgfSApO1xuICAgICAgfSxcbiAgICAgIGlzUGFyc2FibGU6IGZ1bmN0aW9uKCB1cmwgKSB7XG4gICAgICAgIHJldHVybiAkaHR0cCgge1xuICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly9mZWVkLXBhcnNlci5yaXNldmlzaW9uLmNvbS9cIiArIHVybFxuICAgICAgICB9IClcbiAgICAgICAgICAudGhlbiggZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuICAgICAgICAgICAgaWYgKCByZXNwb25zZSAmJiByZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEuRXJyb3IgKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLkVycm9yO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9LCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG4gICAgICAgICAgICAkbG9nLmRlYnVnKCBcIkZlZWQgcGFyc2VyIGNoZWNrIGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlIFwiICsgcmVzcG9uc2Uuc3RhdHVzICsgXCI6IFwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dCApO1xuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9ICk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmYWN0b3J5O1xuICB9IF0gKTtcbiJdfQ==
