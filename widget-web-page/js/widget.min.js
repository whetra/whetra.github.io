var WIDGET_COMMON_CONFIG={AUTH_PATH_URL:"v1/widget/auth",LOGGER_CLIENT_ID:"1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com",LOGGER_CLIENT_SECRET:"nlZyrcPLg6oEwO9f9Wfn29Wh",LOGGER_REFRESH_TOKEN:"1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT",STORE_URL:"https://store-dot-rvaserver2.appspot.com/"},RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.LoggerUtils=function(){"use strict";function e(e,t){var o=null;e.event?(o=e,o.file_url&&(o.file_format=n(o.file_url)),o.company_id=c,o.display_id=l,u&&(o.version=u),t(o)):t(o)}function t(){var e=new Date,t=e.getUTCFullYear(),n=e.getUTCMonth()+1,o=e.getUTCDate();return 10>n&&(n="0"+n),10>o&&(o="0"+o),""+t+n+o}function n(e){var t,n=/[?#&]/;return e&&"string"==typeof e?(t=e.substr(e.lastIndexOf(".")+1),n.test(t)&&(t=t.substr(0,-1!==t.indexOf("?")?t.indexOf("?"):t.length),t=t.substr(0,-1!==t.indexOf("#")?t.indexOf("#"):t.length),t=t.substr(0,-1!==t.indexOf("&")?t.indexOf("&"):t.length)),t.toLowerCase()):null}function o(e){var n={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:t(),rows:[{insertId:""}]},o=JSON.parse(JSON.stringify(n));return o.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),o.rows[0].json=JSON.parse(JSON.stringify(e)),o.rows[0].json.ts=(new Date).toISOString(),o}function i(t,n){e(n,function(e){null!==e&&RiseVision.Common.Logger.log(t,e)})}function r(e,n){try{top.postToPlayer({message:"widget-log",table:e,params:JSON.stringify(n),suffix:t()})}catch(o){console.log("widget-common.logEventToPlayer",o)}}function s(e,t){c=e,l=t}function a(e){u=e}var l="",c="",u=null;return{getInsertData:o,getFileFormat:n,logEvent:i,logEventToPlayer:r,setIds:s,setVersion:a}}(),RiseVision.Common.Logger=function(e){"use strict";function t(e){var t=new XMLHttpRequest;return new Date-c<358e4?e({}):(t.open("POST",i,!0),t.onloadend=function(){var n={};try{n=JSON.parse(t.response)}catch(o){console.warn("Can't refresh logger token - ",o.message)}e({token:n.access_token,refreshedAt:new Date})},t.send(),void 0)}function n(e){return s&&l===e}function o(o,i){function g(t){var n,s,a=new XMLHttpRequest;s=r.replace("TABLE_ID",o),c=t.refreshedAt||c,u=t.token||u,n=e.getInsertData(i),a.open("POST",s,!0),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+u),i.cb&&"function"==typeof i.cb&&(a.onloadend=function(){i.cb(a.response)}),a.send(JSON.stringify(n))}if(!(!o||!i||i.hasOwnProperty("event")&&!i.event||i.hasOwnProperty("event")&&n(i.event))&&i.display_id&&"preview"!==i.display_id&&"display_id"!==i.display_id&&"displayId"!==i.display_id){try{if(top.postToPlayer&&top.enableWidgetLogging)return e.logEventToPlayer(o,i)}catch(f){console.log("widget-common: logger",f)}return s=!0,l=i.event,setTimeout(function(){s=!1},a),t(g)}}var i="https://www.googleapis.com/oauth2/v3/token?client_id="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_ID+"&client_secret="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_SECRET+"&refresh_token="+WIDGET_COMMON_CONFIG.LOGGER_REFRESH_TOKEN+"&grant_type=refresh_token",r="https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Widget_Events/tables/TABLE_ID/insertAll",s=!1,a=1e3,l="",c=0,u="";return{log:o}}(RiseVision.Common.LoggerUtils);var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Utilities=function(){function e(e,t){var n="font-family: "+decodeURIComponent(t.font.family).replace(/'/g,"")+"; ",o="color: "+(t.color?t.color:t.forecolor)+"; ",i="font-size: "+(-1===t.size.indexOf("px")?t.size+"px; ":t.size+"; "),r="font-weight: "+(t.bold?"bold":"normal")+"; ",s="font-style: "+(t.italic?"italic":"normal")+"; ",a="text-decoration: "+(t.underline?"underline":"none")+"; ",l="background-color: "+(t.highlightColor?t.highlightColor:t.backcolor)+";";return"."+e+" {"+n+o+i+r+s+a+l+"}"}function t(e){for(var t=document.createElement("style"),n=0,o=e.length;o>n;n++)t.appendChild(document.createTextNode(e[n]));document.head.appendChild(t)}function n(n,r){function s(){r&&"function"==typeof r&&r()}function a(){s()}var l=null,c=[],u=[],g=[];if(!n||0===n.length)return s(),void 0;n.forEach(function(n){n.class&&n.fontStyle&&t([e(n.class,n.fontStyle)])});for(var f=0;f<n.length;f++)n[f].fontStyle&&n[f].fontStyle.font.type&&"google"===n[f].fontStyle.font.type&&(l=n[f].fontStyle.font.family.split(",")[0],l=l.replace(/'/g,""),c.push(l));for(f=0;f<n.length;f++)n[f].fontStyle&&n[f].fontStyle.font.type&&"custom"===n[f].fontStyle.font.type&&(u.push(decodeURIComponent(n[f].fontStyle.font.family).replace(/'/g,"")),g.push(n[f].fontStyle.font.url.replace(/'/g,"\\'")));if(0===c.length&&0===u.length)s();else{for(var d=0;d<u.length;d+=1)o(u[d],g[d]);c.length>0?i(c,a):s()}}function o(e,t,n){var o=null,i="font-family: "+e+"; src: url('"+t+"');";n=n||document,o=n.styleSheets[0],null!==o&&o.addRule("@font-face",i)}function i(e,t){WebFont.load({google:{families:e},active:function(){t&&"function"==typeof t&&t()},inactive:function(){t&&"function"==typeof t&&t()},timeout:2e3})}function r(e){var t=document.createElement("script");t.src=e,document.body.appendChild(t)}function s(e){for(var t=e.length,n=[],o=0;t>o;o++)n[o]=new Image,n[o].src=e[o]}function a(e){return l(e,window.location.search.substring(1))}function l(e,t){for(var n,o=t.split("&"),i=0;i<o.length;i++)if(n=o[i].split("="),n[0]==e)return decodeURIComponent(n[1]);return""}function c(e){var t=/(\d{4})\.(\d{2})\.(\d{2})\.(\d{2})\.(\d{2})/,n=t.exec(e);return n?new Date(+n[1],+n[2]-1,+n[3],+n[4],+n[5]):void 0}function u(e){var t="";switch(e){case 404:t="The file does not exist or cannot be accessed.";break;case 507:t="There is not enough disk space to save the file on Rise Cache.";break;default:t="There was a problem retrieving the file from Rise Cache."}return t}function g(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent}function f(e,t){var n=new XMLHttpRequest;if(e&&t&&"function"==typeof t){n.open("HEAD",e+"?cb="+(new Date).getTime(),!1);try{n.send(),t(n.status>=200&&n.status<304)}catch(o){t(!1)}}}function d(){var e=25,t=navigator.userAgent.match(/Chrome\/(\S+)/),n=t?t[1]:0;return n&&(n=parseInt(n.substring(0,n.indexOf("."))),e>=n)?!0:!1}function m(e,t){return/^(?:f|ht)tps?\:\/\//.test(e)||(e=(t?"https://":"http://")+e),e}return{addProtocol:m,getQueryParameter:a,getQueryStringParameter:l,getFontCssStyle:e,addCSSRules:t,loadFonts:n,loadCustomFont:o,loadGoogleFonts:i,loadScript:r,preloadImages:s,getRiseCacheErrorMessage:u,unescapeHTML:g,hasInternetConnection:f,isLegacy:d,getDateObjectFromPlayerVersionString:c}}();var config={STORAGE_ENV:"prod"};"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json");var RiseVision=RiseVision||{};RiseVision.WebPage={},RiseVision.WebPage=function(e,t){"use strict";function n(){t.rpc.call("","rsevent_ready",null,w.getString("id"),!0,!0,!0,!0,!1)}function o(){p({event:"configuration",event_details:JSON.stringify(R),url:E})}function i(t){var n=e.querySelector(".blocker");n.style.display=R.interactivity.interactive?"none":"block",t.setAttribute("scrolling",R.interactivity.interactive&&R.interactivity.scrollbars?"yes":"no")}function r(){var t=e.getElementById("container"),n=w.getInt("rsH")/w.getInt("rsW")*100;t&&(0!==I&&(n+=I/w.getInt("rsW")*100),t.setAttribute("style","padding-bottom:"+n+"%"))}function s(e){var t=parseFloat(R.zoom),n="",o="";o="-ms-zoom:"+t+";-moz-transform: scale("+t+");-moz-transform-origin: 0 0;-o-transform: scale("+t+");-o-transform-origin: 0 0;-webkit-transform: scale("+t+");-webkit-transform-origin: 0 0;transform: scale("+t+");transform-origin: 0 0;",n=e.getAttribute("style"),o+="width: "+(1/t*100+T)+"%;height: "+1/t*100+"%;",n&&(o=n+o),e.setAttribute("style",o)}function a(e){var t="",n="",o=0;R.region&&R.region.showRegion&&"region"===R.region.showRegion&&(R.region.horizontal>0&&(o=R.region.horizontal),R.region.vertical>0&&(I=R.region.vertical),(0!==o||0!==I)&&(T=100*o/w.getInt("rsW"),t=e.getAttribute("style"),n="margin: -"+I+"px 0 0 -"+o+"px;",t&&(n=t+n),e.setAttribute("style",n)))}function l(){O=setInterval(function(){_.hasInternetConnection("img/transparent.png",function(e){e&&g(!0)})},R.refresh)}function c(){var t=e.createElement("iframe"),n=e.getElementById("container");return t.className="webpage-frame",t.style.visibility="hidden",t.setAttribute("frameborder","0"),t.setAttribute("allowTransparency","true"),t.setAttribute("sandbox","allow-forms allow-same-origin allow-scripts"),i(t),a(t),s(t),r(),t.onload=function(){this.onload=null,this.style.visibility="visible",S=!1,R.refresh>0&&null===O&&l(),e.querySelectorAll(".webpage-frame").length>1&&n.removeChild(e.querySelector(".webpage-frame"))},t}function u(e){var t=!R.hasOwnProperty("cacheBuster")||R.cacheBuster;return e&&t}function g(t){var n=e.getElementById("container"),o=e.createDocumentFragment(),i=c(),r=u(t)?b(E):E;i.setAttribute("src",r),o.appendChild(i),n.appendChild(o)}function f(){var t=e.getElementById("container"),n=e.querySelector(".webpage-frame");R.refresh>0&&(clearInterval(O),O=null),n&&t.removeChild(n)}function d(){A=new RiseVision.Common.Message(e.getElementById("container"),e.getElementById("messageContainer")),e.getElementById("messageContainer").style.height=w.getInt("rsH")+"px",E=R.url,-1===E.indexOf("://")&&(E="http://"+E),o(),n()}function m(){return"webpage_events"}function p(e){RiseVision.Common.LoggerUtils.logEvent(m(),e)}function y(){R.unload&&f()}function h(){(S||R.unload)&&g(!1)}function v(){y()}function C(e){R=JSON.parse(JSON.stringify(e)),d()}function b(e){var t=e.indexOf("#"),n=0>t?[e,""]:[e.substring(0,t),e.substring(t)],o=/[?&]/.test(n[0])?"&":"?",i=(new Date).getTime();return n[0]+o+"__cachebuster__="+i+n[1]}var w=new t.Prefs,_=RiseVision.Common.Utilities,R=null,E="",I=0,O=null,S=!0,T=0,A=null;return{getTableName:m,logEvent:p,setAdditionalParams:C,pause:y,play:h,stop:v,withCacheBuster:b}}(document,gadgets);var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Message=function(e,t){"use strict";function n(){try{t.style.height=e.style.height}catch(n){console.warn("Can't initialize Message - ",n.message)}}function o(){if(r){for(;t.firstChild;)t.removeChild(t.firstChild);t.style.display="none",e.style.display="block",r=!1}}function i(n){var o,i=document.createDocumentFragment();r?(o=t.querySelector(".message"),o.innerHTML=n):(e.style.display="none",t.style.display="block",o=document.createElement("p"),o.innerHTML=n,o.setAttribute("class","message"),i.appendChild(o),t.appendChild(i),r=!0)}var r=!1;return n(),{hide:o,show:i}},function(e,t,n){"use strict";function o(e,t){var n,o="",i="";Array.isArray(e)&&e.length>0&&Array.isArray(t)&&t.length>0&&("companyId"===e[0]&&(o=t[0]),"displayId"===e[1]&&(i=t[1]?t[1]:"preview"),RiseVision.Common.LoggerUtils.setIds(o,i),"additionalParams"===e[2]&&(n=JSON.parse(t[2]),RiseVision.WebPage.setAdditionalParams(n)))}function i(){RiseVision.WebPage.play()}function r(){RiseVision.WebPage.pause()}function s(){RiseVision.WebPage.stop()}var a=(new n.Prefs).getString("id");e.oncontextmenu=function(){return!1},t.body.onmousedown=function(){return!1},a&&""!==a&&(n.rpc.register("rscmd_play_"+a,i),n.rpc.register("rscmd_pause_"+a,r),n.rpc.register("rscmd_stop_"+a,s),n.rpc.register("rsparam_set_"+a,o),n.rpc.call("","rsparam_get",null,a,["companyId","displayId","additionalParams"]))}(window,document,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-6"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiV0lER0VUX0NPTU1PTl9DT05GSUciLCJBVVRIX1BBVEhfVVJMIiwiTE9HR0VSX0NMSUVOVF9JRCIsIkxPR0dFUl9DTElFTlRfU0VDUkVUIiwiTE9HR0VSX1JFRlJFU0hfVE9LRU4iLCJTVE9SRV9VUkwiLCJSaXNlVmlzaW9uIiwiQ29tbW9uIiwiTG9nZ2VyVXRpbHMiLCJnZXRFdmVudFBhcmFtcyIsInBhcmFtcyIsImNiIiwianNvbiIsImV2ZW50IiwiZmlsZV91cmwiLCJmaWxlX2Zvcm1hdCIsImdldEZpbGVGb3JtYXQiLCJjb21wYW55X2lkIiwiY29tcGFueUlkIiwiZGlzcGxheV9pZCIsImRpc3BsYXlJZCIsInZlcnNpb24iLCJnZXRTdWZmaXgiLCJkYXRlIiwiRGF0ZSIsInllYXIiLCJnZXRVVENGdWxsWWVhciIsIm1vbnRoIiwiZ2V0VVRDTW9udGgiLCJkYXkiLCJnZXRVVENEYXRlIiwidXJsIiwic3RyIiwiaGFzUGFyYW1zIiwic3Vic3RyIiwibGFzdEluZGV4T2YiLCJ0ZXN0IiwiaW5kZXhPZiIsImxlbmd0aCIsInRvTG93ZXJDYXNlIiwiZ2V0SW5zZXJ0RGF0YSIsIkJBU0VfSU5TRVJUX1NDSEVNQSIsImtpbmQiLCJza2lwSW52YWxpZFJvd3MiLCJpZ25vcmVVbmtub3duVmFsdWVzIiwidGVtcGxhdGVTdWZmaXgiLCJyb3dzIiwiaW5zZXJ0SWQiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwidG9VcHBlckNhc2UiLCJ0cyIsInRvSVNPU3RyaW5nIiwibG9nRXZlbnQiLCJ0YWJsZSIsIkxvZ2dlciIsImxvZyIsImxvZ0V2ZW50VG9QbGF5ZXIiLCJ0b3AiLCJwb3N0VG9QbGF5ZXIiLCJtZXNzYWdlIiwic3VmZml4IiwiZXJyIiwiY29uc29sZSIsInNldElkcyIsImNvbXBhbnkiLCJkaXNwbGF5Iiwic2V0VmVyc2lvbiIsInZhbHVlIiwidXRpbHMiLCJyZWZyZXNoVG9rZW4iLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsInJlZnJlc2hEYXRlIiwib3BlbiIsIlJFRlJFU0hfVVJMIiwib25sb2FkZW5kIiwicmVzcCIsInJlc3BvbnNlIiwiZSIsIndhcm4iLCJ0b2tlbiIsImFjY2Vzc190b2tlbiIsInJlZnJlc2hlZEF0Iiwic2VuZCIsImlzVGhyb3R0bGVkIiwidGhyb3R0bGUiLCJsYXN0RXZlbnQiLCJ0YWJsZU5hbWUiLCJpbnNlcnRXaXRoVG9rZW4iLCJyZWZyZXNoRGF0YSIsImluc2VydERhdGEiLCJzZXJ2aWNlVXJsIiwicmVwbGFjZSIsInNldFJlcXVlc3RIZWFkZXIiLCJoYXNPd25Qcm9wZXJ0eSIsImVuYWJsZVdpZGdldExvZ2dpbmciLCJzZXRUaW1lb3V0IiwidGhyb3R0bGVEZWxheSIsIlV0aWxpdGllcyIsImdldEZvbnRDc3NTdHlsZSIsImNsYXNzTmFtZSIsImZvbnRPYmoiLCJmYW1pbHkiLCJkZWNvZGVVUklDb21wb25lbnQiLCJmb250IiwiY29sb3IiLCJmb3JlY29sb3IiLCJzaXplIiwid2VpZ2h0IiwiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsImhpZ2hsaWdodCIsImhpZ2hsaWdodENvbG9yIiwiYmFja2NvbG9yIiwiYWRkQ1NTUnVsZXMiLCJydWxlcyIsInN0eWxlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaSIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJoZWFkIiwibG9hZEZvbnRzIiwic2V0dGluZ3MiLCJjYWxsYmFjayIsIm9uR29vZ2xlRm9udHNMb2FkZWQiLCJmYW1pbGllcyIsImdvb2dsZUZhbWlsaWVzIiwiY3VzdG9tRmFtaWxpZXMiLCJjdXN0b21VcmxzIiwiZm9yRWFjaCIsIml0ZW0iLCJjbGFzcyIsImZvbnRTdHlsZSIsInR5cGUiLCJzcGxpdCIsInB1c2giLCJqIiwibG9hZEN1c3RvbUZvbnQiLCJsb2FkR29vZ2xlRm9udHMiLCJjb250ZW50RG9jIiwic2hlZXQiLCJydWxlIiwic3R5bGVTaGVldHMiLCJhZGRSdWxlIiwiV2ViRm9udCIsImxvYWQiLCJnb29nbGUiLCJhY3RpdmUiLCJpbmFjdGl2ZSIsInRpbWVvdXQiLCJsb2FkU2NyaXB0Iiwic3JjIiwic2NyaXB0IiwiYm9keSIsInByZWxvYWRJbWFnZXMiLCJ1cmxzIiwiaW1hZ2VzIiwiSW1hZ2UiLCJnZXRRdWVyeVBhcmFtZXRlciIsInBhcmFtIiwiZ2V0UXVlcnlTdHJpbmdQYXJhbWV0ZXIiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaCIsInN1YnN0cmluZyIsInF1ZXJ5IiwicGFpciIsInZhcnMiLCJnZXREYXRlT2JqZWN0RnJvbVBsYXllclZlcnNpb25TdHJpbmciLCJwbGF5ZXJWZXJzaW9uIiwicmVnZ2llIiwiZGF0ZUFycmF5IiwiZXhlYyIsImdldFJpc2VDYWNoZUVycm9yTWVzc2FnZSIsInN0YXR1c0NvZGUiLCJlcnJvck1lc3NhZ2UiLCJ1bmVzY2FwZUhUTUwiLCJodG1sIiwiZGl2IiwiaW5uZXJIVE1MIiwidGV4dENvbnRlbnQiLCJoYXNJbnRlcm5ldENvbm5lY3Rpb24iLCJmaWxlUGF0aCIsImdldFRpbWUiLCJzdGF0dXMiLCJpc0xlZ2FjeSIsImxlZ2FjeVZlcnNpb24iLCJtYXRjaCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInBhcnNlSW50IiwiYWRkUHJvdG9jb2wiLCJzZWN1cmUiLCJjb25maWciLCJTVE9SQUdFX0VOViIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25zdGFudCIsIldlYlBhZ2UiLCJnYWRnZXRzIiwiX3JlYWR5IiwicnBjIiwiY2FsbCIsIl9wcmVmcyIsImdldFN0cmluZyIsIl9sb2dDb25maWd1cmF0aW9uIiwiZXZlbnRfZGV0YWlscyIsIl9hZGRpdGlvbmFsUGFyYW1zIiwiX3VybCIsIl9zZXRJbnRlcmFjdGl2aXR5IiwiZnJhbWUiLCJibG9ja2VyIiwicXVlcnlTZWxlY3RvciIsImludGVyYWN0aXZpdHkiLCJzZXRBdHRyaWJ1dGUiLCJpbnRlcmFjdGl2ZSIsInNjcm9sbGJhcnMiLCJfc2V0QXNwZWN0UmF0aW8iLCJjb250YWluZXIiLCJnZXRFbGVtZW50QnlJZCIsImFzcGVjdFJhdGlvIiwiZ2V0SW50IiwiX3ZlcnRpY2FsIiwiX3NldFpvb20iLCJ6b29tIiwicGFyc2VGbG9hdCIsImN1cnJlbnRTdHlsZSIsInpvb21TdHlsZSIsImdldEF0dHJpYnV0ZSIsIl93aWR0aE9mZnNldCIsIl9zZXRSZWdpb24iLCJtYXJnaW5TdHlsZSIsImhvcml6b250YWwiLCJyZWdpb24iLCJzaG93UmVnaW9uIiwidmVydGljYWwiLCJfc3RhcnRSZWZyZXNoSW50ZXJ2YWwiLCJfaW50ZXJ2YWxJZCIsInNldEludGVydmFsIiwiX3V0aWxzIiwiaGFzSW50ZXJuZXQiLCJfbG9hZEZyYW1lIiwicmVmcmVzaCIsIl9nZXRGcmFtZUVsZW1lbnQiLCJ2aXNpYmlsaXR5Iiwib25sb2FkIiwidGhpcyIsIl9pbml0aWFsTG9hZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZW1vdmVDaGlsZCIsIl9zaG91bGRVc2VDYWNoZUJ1c3RlciIsImlzUmVmcmVzaCIsInVzZUNhY2hlQnVzdGVyIiwiY2FjaGVCdXN0ZXIiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJyZWZyZXNoVXJsIiwid2l0aENhY2hlQnVzdGVyIiwiX3VubG9hZEZyYW1lIiwiY2xlYXJJbnRlcnZhbCIsIl9pbml0IiwiX21lc3NhZ2UiLCJNZXNzYWdlIiwiaGVpZ2h0IiwiZ2V0VGFibGVOYW1lIiwicGF1c2UiLCJ1bmxvYWQiLCJwbGF5Iiwic3RvcCIsInNldEFkZGl0aW9uYWxQYXJhbXMiLCJhZGRpdGlvbmFsUGFyYW1zIiwiaGFzaEluZGV4IiwiZnJhZ21lbnRzIiwic2VwYXJhdG9yIiwidGltZXN0YW1wIiwiUHJlZnMiLCJtYWluQ29udGFpbmVyIiwibWVzc2FnZUNvbnRhaW5lciIsImhpZGUiLCJfYWN0aXZlIiwiZmlyc3RDaGlsZCIsInNob3ciLCJwIiwiY29uZmlndXJlIiwibmFtZXMiLCJ2YWx1ZXMiLCJBcnJheSIsImlzQXJyYXkiLCJpZCIsIm9uY29udGV4dG1lbnUiLCJvbm1vdXNlZG93biIsInJlZ2lzdGVyIiwiX2dhcSIsImdhIiwiYXN5bmMiLCJwcm90b2NvbCIsInMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiXSwibWFwcGluZ3MiOiJBQUNBLEdBQUlBLHVCQUNGQyxjQUFlLGlCQUNmQyxpQkFBa0IsNEVBQ2xCQyxxQkFBc0IsMkJBQ3RCQyxxQkFBc0IscUVBQ3RCQyxVQUFXLDZDQUlUQyxXQUFhQSxjQUNqQkEsWUFBV0MsT0FBU0QsV0FBV0MsV0FFL0JELFdBQVdDLE9BQU9DLFlBQWMsV0FDOUIsWUFXQSxTQUFTQyxHQUFlQyxFQUFRQyxHQUM5QixHQUFJQyxHQUFPLElBR1BGLEdBQU9HLE9BQ1RELEVBQU9GLEVBRUhFLEVBQUtFLFdBQ1BGLEVBQUtHLFlBQWNDLEVBQWNKLEVBQUtFLFdBR3hDRixFQUFLSyxXQUFhQyxFQUNsQk4sRUFBS08sV0FBYUMsRUFFZEMsSUFDRlQsRUFBS1MsUUFBVUEsR0FHakJWLEVBQUdDLElBR0hELEVBQUdDLEdBS1AsUUFBU1UsS0FDUCxHQUFJQyxHQUFPLEdBQUlDLE1BQ2JDLEVBQU9GLEVBQUtHLGlCQUNaQyxFQUFRSixFQUFLSyxjQUFnQixFQUM3QkMsRUFBTU4sRUFBS08sWUFVYixPQVJZLElBQVJILElBQ0ZBLEVBQVEsSUFBTUEsR0FHTixHQUFORSxJQUNGQSxFQUFNLElBQU1BLEdBR1AsR0FBS0osRUFBT0UsRUFBUUUsRUFNN0IsUUFBU2IsR0FBY2UsR0FDckIsR0FDRUMsR0FERUMsRUFBWSxPQUdoQixPQUFLRixJQUFzQixnQkFBUkEsSUFJbkJDLEVBQU1ELEVBQUlHLE9BQU9ILEVBQUlJLFlBQVksS0FBTyxHQUdwQ0YsRUFBVUcsS0FBS0osS0FDakJBLEVBQU1BLEVBQUlFLE9BQU8sRUFBeUIsS0FBckJGLEVBQUlLLFFBQVEsS0FBZUwsRUFBSUssUUFBUSxLQUFPTCxFQUFJTSxRQUV2RU4sRUFBTUEsRUFBSUUs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bUJnSyxFQUFHQyxPQUFRLEVBQ25GRCxFQUFHOUksS0FBTyxVQUFZcEMsU0FBUytDLFNBQVNxSSxTQUFXLGNBQWdCLGNBQWdCLDZCQUNuRixJQUFJQyxHQUFJckwsU0FBU3NMLHFCQUFxQixVQUFVLEVBQUlELEdBQUVFLFdBQVdDLGFBQWFOLEVBQUlHIiwiZmlsZSI6ImpzL3dpZGdldC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBleHBvcnRlZCBXSURHRVRfQ09NTU9OX0NPTkZJRyAqL1xudmFyIFdJREdFVF9DT01NT05fQ09ORklHID0ge1xuICBBVVRIX1BBVEhfVVJMOiBcInYxL3dpZGdldC9hdXRoXCIsXG4gIExPR0dFUl9DTElFTlRfSUQ6IFwiMTA4ODUyNzE0NzEwOS02cTFvMnZ0aWhuMzQyOTJwanQ0Y2tobWhjazByazBvNy5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbVwiLFxuICBMT0dHRVJfQ0xJRU5UX1NFQ1JFVDogXCJubFp5cmNQTGc2b0V3TzlmOVdmbjI5V2hcIixcbiAgTE9HR0VSX1JFRlJFU0hfVE9LRU46IFwiMS94enQ0a3d6RTFIN1c5Vm5LQjhjQWFDeDZ6YjRFczRuS0VvcWFZSGRURDE1SWdPckpEdGR1bjZ6SzZYaUFUQ0tUXCIsXG4gIFNUT1JFX1VSTDogXCJodHRwczovL3N0b3JlLWRvdC1ydmFzZXJ2ZXIyLmFwcHNwb3QuY29tL1wiXG59O1xuLyogZ2xvYmFsIFdJREdFVF9DT01NT05fQ09ORklHICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzID0gKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAgdmFyIGRpc3BsYXlJZCA9IFwiXCIsXG4gICAgIGNvbXBhbnlJZCA9IFwiXCIsXG4gICAgIHZlcnNpb24gPSBudWxsO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG5cbiAgLyogUmV0cmlldmUgcGFyYW1ldGVycyB0byBwYXNzIHRvIHRoZSBldmVudCBsb2dnZXIuICovXG4gIGZ1bmN0aW9uIGdldEV2ZW50UGFyYW1zKHBhcmFtcywgY2IpIHtcbiAgICB2YXIganNvbiA9IG51bGw7XG5cbiAgICAvLyBldmVudCBpcyByZXF1aXJlZC5cbiAgICBpZiAocGFyYW1zLmV2ZW50KSB7XG4gICAgICBqc29uID0gcGFyYW1zO1xuXG4gICAgICBpZiAoanNvbi5maWxlX3VybCkge1xuICAgICAgICBqc29uLmZpbGVfZm9ybWF0ID0gZ2V0RmlsZUZvcm1hdChqc29uLmZpbGVfdXJsKTtcbiAgICAgIH1cblxuICAgICAganNvbi5jb21wYW55X2lkID0gY29tcGFueUlkO1xuICAgICAganNvbi5kaXNwbGF5X2lkID0gZGlzcGxheUlkO1xuXG4gICAgICBpZiAodmVyc2lvbikge1xuICAgICAgICBqc29uLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgfVxuXG4gICAgICBjYihqc29uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjYihqc29uKTtcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgc3VmZml4IGZvciBCUSB0YWJsZSBuYW1lLlxuICBmdW5jdGlvbiBnZXRTdWZmaXgoKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpLFxuICAgICAgeWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgIG1vbnRoID0gZGF0ZS5nZXRVVENNb250aCgpICsgMSxcbiAgICAgIGRheSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuXG4gICAgaWYgKG1vbnRoIDwgMTApIHtcbiAgICAgIG1vbnRoID0gXCIwXCIgKyBtb250aDtcbiAgICB9XG5cbiAgICBpZiAoZGF5IDwgMTApIHtcbiAgICAgIGRheSA9IFwiMFwiICsgZGF5O1xuICAgIH1cblxuICAgIHJldHVybiBcIlwiICsgeWVhciArIG1vbnRoICsgZGF5O1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBnZXRGaWxlRm9ybWF0KHVybCkge1xuICAgIHZhciBoYXNQYXJhbXMgPSAvWz8jJl0vLFxuICAgICAgc3RyO1xuXG4gICAgaWYgKCF1cmwgfHwgdHlwZW9mIHVybCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgc3RyID0gdXJsLnN1YnN0cih1cmwubGFzdEluZGV4T2YoXCIuXCIpICsgMSk7XG5cbiAgICAvLyBkb24ndCBpbmNsdWRlIGFueSBwYXJhbXMgYWZ0ZXIgdGhlIGZpbGVuYW1lXG4gICAgaWYgKGhhc1BhcmFtcy50ZXN0KHN0cikpIHtcbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCAsKHN0ci5pbmRleE9mKFwiP1wiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCI/XCIpIDogc3RyLmxlbmd0aCk7XG5cbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgKHN0ci5pbmRleE9mKFwiI1wiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCIjXCIpIDogc3RyLmxlbmd0aCk7XG5cbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgKHN0ci5pbmRleE9mKFwiJlwiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCImXCIpIDogc3RyLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW5zZXJ0RGF0YShwYXJhbXMpIHtcbiAgICB2YXIgQkFTRV9JTlNFUlRfU0NIRU1BID0ge1xuICAgICAgXCJraW5kXCI6IFwiYmlncXVlcnkjdGFibGVEYXRhSW5zZXJ0QWxsUmVxdWVzdFwiLFxuICAgICAgXCJza2lwSW52YWxpZFJvd3NcIjogZmFsc2UsXG4gICAgICBcImlnbm9yZVVua25vd25WYWx1ZXNcIjogZmFsc2UsXG4gICAgICBcInRlbXBsYXRlU3VmZml4XCI6IGdldFN1ZmZpeCgpLFxuICAgICAgXCJyb3dzXCI6IFt7XG4gICAgICAgIFwiaW5zZXJ0SWRcIjogXCJcIlxuICAgICAgfV1cbiAgICB9LFxuICAgIGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KEJBU0VfSU5TRVJUX1NDSEVNQSkpO1xuXG4gICAgZGF0YS5yb3dzWzBdLmluc2VydElkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIpLnRvVXBwZXJDYXNlKCk7XG4gICAgZGF0YS5yb3dzWzBdLmpzb24gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHBhcmFtcykpO1xuICAgIGRhdGEucm93c1swXS5qc29uLnRzID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBmdW5jdGlvbiBsb2dFdmVudCh0YWJsZSwgcGFyYW1zKSB7XG4gICAgZ2V0RXZlbnRQYXJhbXMocGFyYW1zLCBmdW5jdGlvbihqc29uKSB7XG4gICAgICBpZiAoanNvbiAhPT0gbnVsbCkge1xuICAgICAgICBSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXIubG9nKHRhYmxlLCBqc29uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvZ0V2ZW50VG9QbGF5ZXIodGFibGUsIHBhcmFtcykge1xuICAgIHRyeSB7XG4gICAgICB0b3AucG9zdFRvUGxheWVyKCB7XG4gICAgICAgIG1lc3NhZ2U6IFwid2lkZ2V0LWxvZ1wiLFxuICAgICAgICB0YWJsZTogdGFibGUsXG4gICAgICAgIHBhcmFtczogSlNPTi5zdHJpbmdpZnkocGFyYW1zKSxcbiAgICAgICAgc3VmZml4OiBnZXRTdWZmaXgoKVxuICAgICAgfSApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5sb2coXCJ3aWRnZXQtY29tbW9uLmxvZ0V2ZW50VG9QbGF5ZXJcIiwgZXJyKTtcbiAgICB9XG4gIH1cblxuICAvKiBTZXQgdGhlIENvbXBhbnkgYW5kIERpc3BsYXkgSURzLiAqL1xuICBmdW5jdGlvbiBzZXRJZHMoY29tcGFueSwgZGlzcGxheSkge1xuICAgIGNvbXBhbnlJZCA9IGNvbXBhbnk7XG4gICAgZGlzcGxheUlkID0gZGlzcGxheTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFZlcnNpb24odmFsdWUpIHtcbiAgICB2ZXJzaW9uID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiZ2V0SW5zZXJ0RGF0YVwiOiBnZXRJbnNlcnREYXRhLFxuICAgIFwiZ2V0RmlsZUZvcm1hdFwiOiBnZXRGaWxlRm9ybWF0LFxuICAgIFwibG9nRXZlbnRcIjogbG9nRXZlbnQsXG4gICAgXCJsb2dFdmVudFRvUGxheWVyXCI6IGxvZ0V2ZW50VG9QbGF5ZXIsXG4gICAgXCJzZXRJZHNcIjogc2V0SWRzLFxuICAgIFwic2V0VmVyc2lvblwiOiBzZXRWZXJzaW9uXG4gIH07XG59KSgpO1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXIgPSAoZnVuY3Rpb24odXRpbHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIFJFRlJFU0hfVVJMID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjMvdG9rZW4/Y2xpZW50X2lkPVwiICsgV0lER0VUX0NPTU1PTl9DT05GSUcuTE9HR0VSX0NMSUVOVF9JRCArXG4gICAgICBcIiZjbGllbnRfc2VjcmV0PVwiICsgV0lER0VUX0NPTU1PTl9DT05GSUcuTE9HR0VSX0NMSUVOVF9TRUNSRVQgK1xuICAgICAgXCImcmVmcmVzaF90b2tlbj1cIiArIFdJREdFVF9DT01NT05fQ09ORklHLkxPR0dFUl9SRUZSRVNIX1RPS0VOICtcbiAgICAgIFwiJmdyYW50X3R5cGU9cmVmcmVzaF90b2tlblwiO1xuXG4gIHZhciBzZXJ2aWNlVXJsID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9iaWdxdWVyeS92Mi9wcm9qZWN0cy9jbGllbnQtc2lkZS1ldmVudHMvZGF0YXNldHMvV2lkZ2V0X0V2ZW50cy90YWJsZXMvVEFCTEVfSUQvaW5zZXJ0QWxsXCIsXG4gICAgdGhyb3R0bGUgPSBmYWxzZSxcbiAgICB0aHJvdHRsZURlbGF5ID0gMTAwMCxcbiAgICBsYXN0RXZlbnQgPSBcIlwiLFxuICAgIHJlZnJlc2hEYXRlID0gMCxcbiAgICB0b2tlbiA9IFwiXCI7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gcmVmcmVzaFRva2VuKGNiKSB7XG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgaWYgKG5ldyBEYXRlKCkgLSByZWZyZXNoRGF0ZSA8IDM1ODAwMDApIHtcbiAgICAgIHJldHVybiBjYih7fSk7XG4gICAgfVxuXG4gICAgeGhyLm9wZW4oXCJQT1NUXCIsIFJFRlJFU0hfVVJMLCB0cnVlKTtcbiAgICB4aHIub25sb2FkZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVzcCA9IHt9O1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzcCA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJDYW4ndCByZWZyZXNoIGxvZ2dlciB0b2tlbiAtIFwiLCBlLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgY2IoeyB0b2tlbjogcmVzcC5hY2Nlc3NfdG9rZW4sIHJlZnJlc2hlZEF0OiBuZXcgRGF0ZSgpIH0pO1xuICAgIH07XG5cbiAgICB4aHIuc2VuZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNUaHJvdHRsZWQoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhyb3R0bGUgJiYgKGxhc3RFdmVudCA9PT0gZXZlbnQpO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBsb2codGFibGVOYW1lLCBwYXJhbXMpIHtcbiAgICBpZiAoIXRhYmxlTmFtZSB8fCAhcGFyYW1zIHx8IChwYXJhbXMuaGFzT3duUHJvcGVydHkoXCJldmVudFwiKSAmJiAhcGFyYW1zLmV2ZW50KSB8fFxuICAgICAgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcImV2ZW50XCIpICYmIGlzVGhyb3R0bGVkKHBhcmFtcy5ldmVudCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZG9uJ3QgbG9nIGlmIGRpc3BsYXkgaWQgaXMgaW52YWxpZCBvciBwcmV2aWV3L2xvY2FsXG4gICAgaWYgKCFwYXJhbXMuZGlzcGxheV9pZCB8fCBwYXJhbXMuZGlzcGxheV9pZCA9PT0gXCJwcmV2aWV3XCIgfHwgcGFyYW1zLmRpc3BsYXlfaWQgPT09IFwiZGlzcGxheV9pZFwiIHx8XG4gICAgICBwYXJhbXMuZGlzcGxheV9pZCA9PT0gXCJkaXNwbGF5SWRcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpZiAoIHRvcC5wb3N0VG9QbGF5ZXIgJiYgdG9wLmVuYWJsZVdpZGdldExvZ2dpbmcgKSB7XG4gICAgICAgIC8vIHNlbmQgbG9nIGRhdGEgdG8gcGxheWVyIGluc3RlYWQgb2YgQlFcbiAgICAgICAgcmV0dXJuIHV0aWxzLmxvZ0V2ZW50VG9QbGF5ZXIoIHRhYmxlTmFtZSwgcGFyYW1zICk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoIGUgKSB7XG4gICAgICBjb25zb2xlLmxvZyggXCJ3aWRnZXQtY29tbW9uOiBsb2dnZXJcIiwgZSApO1xuICAgIH1cblxuICAgIHRocm90dGxlID0gdHJ1ZTtcbiAgICBsYXN0RXZlbnQgPSBwYXJhbXMuZXZlbnQ7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm90dGxlID0gZmFsc2U7XG4gICAgfSwgdGhyb3R0bGVEZWxheSk7XG5cbiAgICBmdW5jdGlvbiBpbnNlcnRXaXRoVG9rZW4ocmVmcmVzaERhdGEpIHtcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSxcbiAgICAgICAgaW5zZXJ0RGF0YSwgdXJsO1xuXG4gICAgICB1cmwgPSBzZXJ2aWNlVXJsLnJlcGxhY2UoXCJUQUJMRV9JRFwiLCB0YWJsZU5hbWUpO1xuICAgICAgcmVmcmVzaERhdGUgPSByZWZyZXNoRGF0YS5yZWZyZXNoZWRBdCB8fCByZWZyZXNoRGF0ZTtcbiAgICAgIHRva2VuID0gcmVmcmVzaERhdGEudG9rZW4gfHwgdG9rZW47XG4gICAgICBpbnNlcnREYXRhID0gdXRpbHMuZ2V0SW5zZXJ0RGF0YShwYXJhbXMpO1xuXG4gICAgICAvLyBJbnNlcnQgdGhlIGRhdGEuXG4gICAgICB4aHIub3BlbihcIlBPU1RcIiwgdXJsLCB0cnVlKTtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBcIkJlYXJlciBcIiArIHRva2VuKTtcblxuICAgICAgaWYgKHBhcmFtcy5jYiAmJiB0eXBlb2YgcGFyYW1zLmNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgeGhyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHBhcmFtcy5jYih4aHIucmVzcG9uc2UpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB4aHIuc2VuZChKU09OLnN0cmluZ2lmeShpbnNlcnREYXRhKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlZnJlc2hUb2tlbihpbnNlcnRXaXRoVG9rZW4pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImxvZ1wiOiBsb2dcbiAgfTtcbn0pKFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzKTtcblxuLyogZ2xvYmFsIFdlYkZvbnQgKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXMgPSAoZnVuY3Rpb24oKSB7XG5cbiAgZnVuY3Rpb24gZ2V0Rm9udENzc1N0eWxlKGNsYXNzTmFtZSwgZm9udE9iaikge1xuICAgIHZhciBmYW1pbHkgPSBcImZvbnQtZmFtaWx5OiBcIiArIGRlY29kZVVSSUNvbXBvbmVudChmb250T2JqLmZvbnQuZmFtaWx5KS5yZXBsYWNlKC8nL2csIFwiXCIpICsgXCI7IFwiO1xuICAgIHZhciBjb2xvciA9IFwiY29sb3I6IFwiICsgKGZvbnRPYmouY29sb3IgPyBmb250T2JqLmNvbG9yIDogZm9udE9iai5mb3JlY29sb3IpICsgXCI7IFwiO1xuICAgIHZhciBzaXplID0gXCJmb250LXNpemU6IFwiICsgKGZvbnRPYmouc2l6ZS5pbmRleE9mKFwicHhcIikgPT09IC0xID8gZm9udE9iai5zaXplICsgXCJweDsgXCIgOiBmb250T2JqLnNpemUgKyBcIjsgXCIpO1xuICAgIHZhciB3ZWlnaHQgPSBcImZvbnQtd2VpZ2h0OiBcIiArIChmb250T2JqLmJvbGQgPyBcImJvbGRcIiA6IFwibm9ybWFsXCIpICsgXCI7IFwiO1xuICAgIHZhciBpdGFsaWMgPSBcImZvbnQtc3R5bGU6IFwiICsgKGZvbnRPYmouaXRhbGljID8gXCJpdGFsaWNcIiA6IFwibm9ybWFsXCIpICsgXCI7IFwiO1xuICAgIHZhciB1bmRlcmxpbmUgPSBcInRleHQtZGVjb3JhdGlvbjogXCIgKyAoZm9udE9iai51bmRlcmxpbmUgPyBcInVuZGVybGluZVwiIDogXCJub25lXCIpICsgXCI7IFwiO1xuICAgIHZhciBoaWdobGlnaHQgPSBcImJhY2tncm91bmQtY29sb3I6IFwiICsgKGZvbnRPYmouaGlnaGxpZ2h0Q29sb3IgPyBmb250T2JqLmhpZ2hsaWdodENvbG9yIDogZm9udE9iai5iYWNrY29sb3IpICsgXCI7XCI7XG5cbiAgICByZXR1cm4gXCIuXCIgKyBjbGFzc05hbWUgKyBcIiB7XCIgKyBmYW1pbHkgKyBjb2xvciArIHNpemUgKyB3ZWlnaHQgKyBpdGFsaWMgKyB1bmRlcmxpbmUgKyBoaWdobGlnaHQgKyBcIn1cIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZENTU1J1bGVzKHJ1bGVzKSB7XG4gICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHJ1bGVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShydWxlc1tpXSkpO1xuICAgIH1cblxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgLypcbiAgICogTG9hZHMgR29vZ2xlIG9yIGN1c3RvbSBmb250cywgaWYgYXBwbGljYWJsZSwgYW5kIGluamVjdHMgQ1NTIHN0eWxlc1xuICAgKiBpbnRvIHRoZSBoZWFkIG9mIHRoZSBkb2N1bWVudC5cbiAgICpcbiAgICogQHBhcmFtICAgIGFycmF5ICAgIHNldHRpbmdzICAgIEFycmF5IG9mIG9iamVjdHMgd2l0aCB0aGUgZm9sbG93aW5nIGZvcm06XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3tcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJkYXRlXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZvbnRTZXR0aW5nXCI6IHtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2xkOiB0cnVlLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcImJsYWNrXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDoge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFtaWx5OiBcIkFrcm9uaW1cIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IFwiQWtyb25pbVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJWZXJkYW5hXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdvb2dsZVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcImh0dHA6Ly9jdXN0b20tZm9udC11cmxcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0Q29sb3I6IFwidHJhbnNwYXJlbnRcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGFsaWM6IGZhbHNlLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwiMjBcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlcmxpbmU6IGZhbHNlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICpcbiAgICogICAgICAgICAgIG9iamVjdCAgIGNvbnRlbnREb2MgICAgRG9jdW1lbnQgb2JqZWN0IGludG8gd2hpY2ggdG8gaW5qZWN0IHN0eWxlc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgbG9hZCBmb250cyAob3B0aW9uYWwpLlxuICAgKi9cbiAgZnVuY3Rpb24gbG9hZEZvbnRzKHNldHRpbmdzLCBjYikge1xuICAgIHZhciBmYW1pbGllcyA9IG51bGwsXG4gICAgICBnb29nbGVGYW1pbGllcyA9IFtdLFxuICAgICAgY3VzdG9tRmFtaWxpZXMgPSBbXSxcbiAgICAgIGN1c3RvbVVybHMgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNiKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Hb29nbGVGb250c0xvYWRlZCgpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgaWYgKCFzZXR0aW5ncyB8fCBzZXR0aW5ncy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGN1c3RvbSBjc3MgY2xhc3MgbmFtZXMgYW5kIGFkZCBydWxlcyBpZiBzb1xuICAgIHNldHRpbmdzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgaWYgKGl0ZW0uY2xhc3MgJiYgaXRlbS5mb250U3R5bGUpIHtcbiAgICAgICAgYWRkQ1NTUnVsZXMoWyBnZXRGb250Q3NzU3R5bGUoaXRlbS5jbGFzcywgaXRlbS5mb250U3R5bGUpIF0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gR29vZ2xlIGZvbnRzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXR0aW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHNldHRpbmdzW2ldLmZvbnRTdHlsZSAmJiBzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlICYmXG4gICAgICAgIChzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlID09PSBcImdvb2dsZVwiKSkge1xuICAgICAgICAvLyBSZW1vdmUgZmFsbGJhY2sgZm9udC5cbiAgICAgICAgZmFtaWxpZXMgPSBzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC5mYW1pbHkuc3BsaXQoXCIsXCIpWzBdO1xuXG4gICAgICAgIC8vIHN0cmlwIHBvc3NpYmxlIHNpbmdsZSBxdW90ZXNcbiAgICAgICAgZmFtaWxpZXMgPSBmYW1pbGllcy5yZXBsYWNlKC8nL2csIFwiXCIpO1xuXG4gICAgICAgIGdvb2dsZUZhbWlsaWVzLnB1c2goZmFtaWxpZXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEN1c3RvbSBmb250c1xuICAgIGZvciAoaSA9IDA7IGkgPCBzZXR0aW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHNldHRpbmdzW2ldLmZvbnRTdHlsZSAmJiBzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlICYmXG4gICAgICAgIChzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlID09PSBcImN1c3RvbVwiKSkge1xuICAgICAgICAvLyBkZWNvZGUgdmFsdWUgYW5kIHN0cmlwIHNpbmdsZSBxdW90ZXNcbiAgICAgICAgY3VzdG9tRmFtaWxpZXMucHVzaChkZWNvZGVVUklDb21wb25lbnQoc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQuZmFtaWx5KS5yZXBsYWNlKC8nL2csIFwiXCIpKTtcbiAgICAgICAgLy8gc3RyaXAgc2luZ2xlIHF1b3Rlc1xuICAgICAgICBjdXN0b21VcmxzLnB1c2goc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQudXJsLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGdvb2dsZUZhbWlsaWVzLmxlbmd0aCA9PT0gMCAmJiBjdXN0b21GYW1pbGllcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gTG9hZCB0aGUgZm9udHNcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY3VzdG9tRmFtaWxpZXMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgbG9hZEN1c3RvbUZvbnQoY3VzdG9tRmFtaWxpZXNbal0sIGN1c3RvbVVybHNbal0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZ29vZ2xlRmFtaWxpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBsb2FkR29vZ2xlRm9udHMoZ29vZ2xlRmFtaWxpZXMsIG9uR29vZ2xlRm9udHNMb2FkZWQpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbG9hZEN1c3RvbUZvbnQoZmFtaWx5LCB1cmwsIGNvbnRlbnREb2MpIHtcbiAgICB2YXIgc2hlZXQgPSBudWxsO1xuICAgIHZhciBydWxlID0gXCJmb250LWZhbWlseTogXCIgKyBmYW1pbHkgKyBcIjsgXCIgKyBcInNyYzogdXJsKCdcIiArIHVybCArIFwiJyk7XCI7XG5cbiAgICBjb250ZW50RG9jID0gY29udGVudERvYyB8fCBkb2N1bWVudDtcblxuICAgIHNoZWV0ID0gY29udGVudERvYy5zdHlsZVNoZWV0c1swXTtcblxuICAgIGlmIChzaGVldCAhPT0gbnVsbCkge1xuICAgICAgc2hlZXQuYWRkUnVsZShcIkBmb250LWZhY2VcIiwgcnVsZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbG9hZEdvb2dsZUZvbnRzKGZhbWlsaWVzLCBjYikge1xuICAgIFdlYkZvbnQubG9hZCh7XG4gICAgICBnb29nbGU6IHtcbiAgICAgICAgZmFtaWxpZXM6IGZhbWlsaWVzXG4gICAgICB9LFxuICAgICAgYWN0aXZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGluYWN0aXZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHRpbWVvdXQ6IDIwMDBcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWRTY3JpcHQoIHNyYyApIHtcbiAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJzY3JpcHRcIiApO1xuXG4gICAgc2NyaXB0LnNyYyA9IHNyYztcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCBzY3JpcHQgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByZWxvYWRJbWFnZXModXJscykge1xuICAgIHZhciBsZW5ndGggPSB1cmxzLmxlbmd0aCxcbiAgICAgIGltYWdlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaW1hZ2VzW2ldID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWFnZXNbaV0uc3JjID0gdXJsc1tpXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IFVSSSBxdWVyeSBwYXJhbVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0UXVlcnlQYXJhbWV0ZXIocGFyYW0pIHtcbiAgICByZXR1cm4gZ2V0UXVlcnlTdHJpbmdQYXJhbWV0ZXIocGFyYW0sIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHF1ZXJ5IHBhcmFtZXRlciBmcm9tIGEgcXVlcnkgc3RyaW5nXG4gICAqL1xuICBmdW5jdGlvbiBnZXRRdWVyeVN0cmluZ1BhcmFtZXRlcihwYXJhbSwgcXVlcnkpIHtcbiAgICB2YXIgdmFycyA9IHF1ZXJ5LnNwbGl0KFwiJlwiKSxcbiAgICAgIHBhaXI7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBhaXIgPSB2YXJzW2ldLnNwbGl0KFwiPVwiKTtcblxuICAgICAgaWYgKHBhaXJbMF0gPT0gcGFyYW0pIHsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGRhdGUgb2JqZWN0IGZyb20gcGxheWVyIHZlcnNpb24gc3RyaW5nXG4gICAqL1xuICBmdW5jdGlvbiBnZXREYXRlT2JqZWN0RnJvbVBsYXllclZlcnNpb25TdHJpbmcocGxheWVyVmVyc2lvbikge1xuICAgIHZhciByZWdnaWUgPSAvKFxcZHs0fSlcXC4oXFxkezJ9KVxcLihcXGR7Mn0pXFwuKFxcZHsyfSlcXC4oXFxkezJ9KS87XG4gICAgdmFyIGRhdGVBcnJheSA9IHJlZ2dpZS5leGVjKHBsYXllclZlcnNpb24pO1xuICAgIGlmIChkYXRlQXJyYXkpIHtcbiAgICAgIHJldHVybiBuZXcgRGF0ZShcbiAgICAgICAgKCtkYXRlQXJyYXlbMV0pLFxuICAgICAgICAgICgrZGF0ZUFycmF5WzJdKS0xLCAvLyBDYXJlZnVsLCBtb250aCBzdGFydHMgYXQgMCFcbiAgICAgICAgKCtkYXRlQXJyYXlbM10pLFxuICAgICAgICAoK2RhdGVBcnJheVs0XSksXG4gICAgICAgICgrZGF0ZUFycmF5WzVdKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJpc2VDYWNoZUVycm9yTWVzc2FnZShzdGF0dXNDb2RlKSB7XG4gICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiXCI7XG4gICAgc3dpdGNoIChzdGF0dXNDb2RlKSB7XG4gICAgICBjYXNlIDQwNDpcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGUgZmlsZSBkb2VzIG5vdCBleGlzdCBvciBjYW5ub3QgYmUgYWNjZXNzZWQuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA1MDc6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhlcmUgaXMgbm90IGVub3VnaCBkaXNrIHNwYWNlIHRvIHNhdmUgdGhlIGZpbGUgb24gUmlzZSBDYWNoZS5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZXJlIHdhcyBhIHByb2JsZW0gcmV0cmlldmluZyB0aGUgZmlsZSBmcm9tIFJpc2UgQ2FjaGUuXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9yTWVzc2FnZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVuZXNjYXBlSFRNTChodG1sKSB7XG4gICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBkaXYuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgIHJldHVybiBkaXYudGV4dENvbnRlbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNJbnRlcm5ldENvbm5lY3Rpb24oZmlsZVBhdGgsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgaWYgKCFmaWxlUGF0aCB8fCAhY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB4aHIub3BlbihcIkhFQURcIiwgZmlsZVBhdGggKyBcIj9jYj1cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpLCBmYWxzZSk7XG5cbiAgICB0cnkge1xuICAgICAgeGhyLnNlbmQoKTtcblxuICAgICAgY2FsbGJhY2soKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDQpKTtcblxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgY2hyb21lIHZlcnNpb24gaXMgdW5kZXIgYSBjZXJ0YWluIHZlcnNpb25cbiAgICovXG4gIGZ1bmN0aW9uIGlzTGVnYWN5KCkge1xuICAgIHZhciBsZWdhY3lWZXJzaW9uID0gMjU7XG5cbiAgICB2YXIgbWF0Y2ggPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWVcXC8oXFxTKykvKTtcbiAgICB2YXIgdmVyc2lvbiA9IG1hdGNoID8gbWF0Y2hbMV0gOiAwO1xuXG4gICAgaWYgKHZlcnNpb24pIHtcbiAgICAgIHZlcnNpb24gPSBwYXJzZUludCh2ZXJzaW9uLnN1YnN0cmluZygwLHZlcnNpb24uaW5kZXhPZihcIi5cIikpKTtcblxuICAgICAgaWYgKHZlcnNpb24gPD0gbGVnYWN5VmVyc2lvbikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBodHRwOi8vIG9yIGh0dHBzOi8vIHByb3RvY29sIHRvIHVybCBpZiB0aGUgcHJvdG9jb2wgaXMgbWlzc2luZ1xuICAgKi9cbiAgZnVuY3Rpb24gYWRkUHJvdG9jb2wodXJsLCBzZWN1cmUpIHtcbiAgICBpZiAoIS9eKD86ZnxodCl0cHM/XFw6XFwvXFwvLy50ZXN0KHVybCkpIHtcbiAgICAgIHVybCA9ICgoc2VjdXJlKSA/IFwiaHR0cHM6Ly9cIiA6IFwiaHR0cDovL1wiKSArIHVybDtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYWRkUHJvdG9jb2w6ICAgICAgICAgICAgICBhZGRQcm90b2NvbCxcbiAgICBnZXRRdWVyeVBhcmFtZXRlcjogICAgICAgIGdldFF1ZXJ5UGFyYW1ldGVyLFxuICAgIGdldFF1ZXJ5U3RyaW5nUGFyYW1ldGVyOiAgZ2V0UXVlcnlTdHJpbmdQYXJhbWV0ZXIsXG4gICAgZ2V0Rm9udENzc1N0eWxlOiAgICAgICAgICBnZXRGb250Q3NzU3R5bGUsXG4gICAgYWRkQ1NTUnVsZXM6ICAgICAgICAgICAgICBhZGRDU1NSdWxlcyxcbiAgICBsb2FkRm9udHM6ICAgICAgICAgICAgICAgIGxvYWRGb250cyxcbiAgICBsb2FkQ3VzdG9tRm9udDogICAgICAgICAgIGxvYWRDdXN0b21Gb250LFxuICAgIGxvYWRHb29nbGVGb250czogICAgICAgICAgbG9hZEdvb2dsZUZvbnRzLFxuICAgIGxvYWRTY3JpcHQ6ICAgICAgICAgICAgICAgbG9hZFNjcmlwdCxcbiAgICBwcmVsb2FkSW1hZ2VzOiAgICAgICAgICAgIHByZWxvYWRJbWFnZXMsXG4gICAgZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlOiBnZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2UsXG4gICAgdW5lc2NhcGVIVE1MOiAgICAgICAgICAgICB1bmVzY2FwZUhUTUwsXG4gICAgaGFzSW50ZXJuZXRDb25uZWN0aW9uOiAgICBoYXNJbnRlcm5ldENvbm5lY3Rpb24sXG4gICAgaXNMZWdhY3k6ICAgICAgICAgICAgICAgICBpc0xlZ2FjeSxcbiAgICBnZXREYXRlT2JqZWN0RnJvbVBsYXllclZlcnNpb25TdHJpbmc6IGdldERhdGVPYmplY3RGcm9tUGxheWVyVmVyc2lvblN0cmluZ1xuICB9O1xufSkoKTtcblxuLyogZXhwb3J0ZWQgY29uZmlnICovXG52YXIgY29uZmlnID0ge1xuICBTVE9SQUdFX0VOVjogXCJwcm9kXCJcbn07XG5cbmlmICggdHlwZW9mIGFuZ3VsYXIgIT09IFwidW5kZWZpbmVkXCIgKSB7XG4gIGFuZ3VsYXIubW9kdWxlKCBcInJpc2V2aXNpb24uY29tbW9uLmkxOG4uY29uZmlnXCIsIFtdIClcbiAgICAuY29uc3RhbnQoIFwiTE9DQUxFU19QUkVGSVhcIiwgXCJsb2NhbGVzL3RyYW5zbGF0aW9uX1wiIClcbiAgICAuY29uc3RhbnQoIFwiTE9DQUxFU19TVUZJWFwiLCBcIi5qc29uXCIgKTtcbn1cblxuLyogZ2xvYmFsIGdhZGdldHMgKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLldlYlBhZ2UgPSB7fTtcblxuUmlzZVZpc2lvbi5XZWJQYWdlID0gKCBmdW5jdGlvbiggZG9jdW1lbnQsIGdhZGdldHMgKSB7XG5cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLy8gcHJpdmF0ZSB2YXJpYWJsZXNcbiAgdmFyIF9wcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCksXG4gICAgX3V0aWxzID0gUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzLFxuICAgIF9hZGRpdGlvbmFsUGFyYW1zID0gbnVsbCxcbiAgICBfdXJsID0gXCJcIixcbiAgICBfdmVydGljYWwgPSAwLFxuICAgIF9pbnRlcnZhbElkID0gbnVsbCxcbiAgICBfaW5pdGlhbExvYWQgPSB0cnVlLFxuICAgIF93aWR0aE9mZnNldCA9IDAsXG4gICAgX21lc3NhZ2UgPSBudWxsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gX3JlYWR5KCkge1xuICAgIGdhZGdldHMucnBjLmNhbGwoIFwiXCIsIFwicnNldmVudF9yZWFkeVwiLCBudWxsLCBfcHJlZnMuZ2V0U3RyaW5nKCBcImlkXCIgKSxcbiAgICAgIHRydWUsIHRydWUsIHRydWUsIHRydWUsIGZhbHNlICk7XG4gIH1cblxuICBmdW5jdGlvbiBfbG9nQ29uZmlndXJhdGlvbigpIHtcbiAgICBsb2dFdmVudCgge1xuICAgICAgZXZlbnQ6IFwiY29uZmlndXJhdGlvblwiLFxuICAgICAgZXZlbnRfZGV0YWlsczogSlNPTi5zdHJpbmdpZnkoIF9hZGRpdGlvbmFsUGFyYW1zICksXG4gICAgICB1cmw6IF91cmxcbiAgICB9IClcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zZXRJbnRlcmFjdGl2aXR5KCBmcmFtZSApIHtcbiAgICB2YXIgYmxvY2tlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIFwiLmJsb2NrZXJcIiApO1xuXG4gICAgYmxvY2tlci5zdHlsZS5kaXNwbGF5ID0gKCBfYWRkaXRpb25hbFBhcmFtcy5pbnRlcmFjdGl2aXR5LmludGVyYWN0aXZlICkgPyBcIm5vbmVcIiA6IFwiYmxvY2tcIjtcblxuICAgIGZyYW1lLnNldEF0dHJpYnV0ZSggXCJzY3JvbGxpbmdcIixcbiAgICAgICggX2FkZGl0aW9uYWxQYXJhbXMuaW50ZXJhY3Rpdml0eS5pbnRlcmFjdGl2ZSAmJiBfYWRkaXRpb25hbFBhcmFtcy5pbnRlcmFjdGl2aXR5LnNjcm9sbGJhcnMgKSA/IFwieWVzXCIgOiBcIm5vXCIgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zZXRBc3BlY3RSYXRpbygpIHtcbiAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIFwiY29udGFpbmVyXCIgKSxcbiAgICAgIGFzcGVjdFJhdGlvID0gKCBfcHJlZnMuZ2V0SW50KCBcInJzSFwiICkgLyBfcHJlZnMuZ2V0SW50KCBcInJzV1wiICkgKSAqIDEwMDtcblxuICAgIGlmICggY29udGFpbmVyICkge1xuICAgICAgLy8gaW1wbGVtZW50IHJlc3BvbnNpdmUgaWZyYW1lXG4gICAgICBpZiAoIF92ZXJ0aWNhbCAhPT0gMCApIHtcbiAgICAgICAgYXNwZWN0UmF0aW8gKz0gKCBfdmVydGljYWwgLyBfcHJlZnMuZ2V0SW50KCBcInJzV1wiICkgKSAqIDEwMDtcbiAgICAgIH1cblxuICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSggXCJzdHlsZVwiLCBcInBhZGRpbmctYm90dG9tOlwiICsgYXNwZWN0UmF0aW8gKyBcIiVcIiApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9zZXRab29tKCBmcmFtZSApIHtcbiAgICB2YXIgem9vbSA9IHBhcnNlRmxvYXQoIF9hZGRpdGlvbmFsUGFyYW1zLnpvb20gKSxcbiAgICAgIGN1cnJlbnRTdHlsZSA9IFwiXCIsXG4gICAgICB6b29tU3R5bGUgPSBcIlwiO1xuXG4gICAgLy8gQ29uZmlndXJlIHRoZSB6b29tIChzY2FsZSkgc3R5bGluZ1xuICAgIHpvb21TdHlsZSA9IFwiLW1zLXpvb206XCIgKyB6b29tICsgXCI7XCIgK1xuICAgICAgXCItbW96LXRyYW5zZm9ybTogc2NhbGUoXCIgKyB6b29tICsgXCIpO1wiICtcbiAgICAgIFwiLW1vei10cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XCIgK1xuICAgICAgXCItby10cmFuc2Zvcm06IHNjYWxlKFwiICsgem9vbSArIFwiKTtcIiArXG4gICAgICBcIi1vLXRyYW5zZm9ybS1vcmlnaW46IDAgMDtcIiArXG4gICAgICBcIi13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZShcIiArIHpvb20gKyBcIik7XCIgK1xuICAgICAgXCItd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IDAgMDtcIiArXG4gICAgICBcInRyYW5zZm9ybTogc2NhbGUoXCIgKyB6b29tICsgXCIpO1wiICtcbiAgICAgIFwidHJhbnNmb3JtLW9yaWdpbjogMCAwO1wiO1xuXG4gICAgY3VycmVudFN0eWxlID0gZnJhbWUuZ2V0QXR0cmlidXRlKCBcInN0eWxlXCIgKTtcbiAgICB6b29tU3R5bGUgKz0gXCJ3aWR0aDogXCIgKyAoICggKCAxIC8gem9vbSApICogMTAwICkgKyBfd2lkdGhPZmZzZXQgKSArIFwiJTtcIiArXG4gICAgICBcImhlaWdodDogXCIgKyAoICggMSAvIHpvb20gKSAqIDEwMCApICsgXCIlO1wiO1xuXG4gICAgaWYgKCBjdXJyZW50U3R5bGUgKSB7XG4gICAgICB6b29tU3R5bGUgPSBjdXJyZW50U3R5bGUgKyB6b29tU3R5bGU7XG4gICAgfVxuXG4gICAgZnJhbWUuc2V0QXR0cmlidXRlKCBcInN0eWxlXCIsIHpvb21TdHlsZSApO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NldFJlZ2lvbiggZnJhbWUgKSB7XG4gICAgdmFyIGN1cnJlbnRTdHlsZSA9IFwiXCIsXG4gICAgICBtYXJnaW5TdHlsZSA9IFwiXCIsXG4gICAgICBob3Jpem9udGFsID0gMDtcblxuICAgIGlmICggX2FkZGl0aW9uYWxQYXJhbXMucmVnaW9uICYmIF9hZGRpdGlvbmFsUGFyYW1zLnJlZ2lvbi5zaG93UmVnaW9uICYmXG4gICAgICAoIF9hZGRpdGlvbmFsUGFyYW1zLnJlZ2lvbi5zaG93UmVnaW9uID09PSBcInJlZ2lvblwiICkgKSB7XG4gICAgICBpZiAoIF9hZGRpdGlvbmFsUGFyYW1zLnJlZ2lvbi5ob3Jpem9udGFsID4gMCApIHtcbiAgICAgICAgaG9yaXpvbnRhbCA9IF9hZGRpdGlvbmFsUGFyYW1zLnJlZ2lvbi5ob3Jpem9udGFsO1xuICAgICAgfVxuXG4gICAgICBpZiAoIF9hZGRpdGlvbmFsUGFyYW1zLnJlZ2lvbi52ZXJ0aWNhbCA+IDAgKSB7XG4gICAgICAgIF92ZXJ0aWNhbCA9IF9hZGRpdGlvbmFsUGFyYW1zLnJlZ2lvbi52ZXJ0aWNhbDtcbiAgICAgIH1cblxuICAgICAgLy8gQXBwbHkgbmVnYXRpdmUgbWFyZ2lucyBpbiBvcmRlciB0byBzaG93IGEgcmVnaW9uLlxuICAgICAgaWYgKCAoIGhvcml6b250YWwgIT09IDAgKSB8fCAoIF92ZXJ0aWNhbCAhPT0gMCApICkge1xuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHdpZHRoIG9mZnNldCB3aGVuIHJlZ2lvbiBpcyBjaG9zZW4uXG4gICAgICAgIF93aWR0aE9mZnNldCA9ICggaG9yaXpvbnRhbCAqIDEwMCApIC8gX3ByZWZzLmdldEludCggXCJyc1dcIiApO1xuXG4gICAgICAgIGN1cnJlbnRTdHlsZSA9IGZyYW1lLmdldEF0dHJpYnV0ZSggXCJzdHlsZVwiICk7XG4gICAgICAgIG1hcmdpblN0eWxlID0gXCJtYXJnaW46IFwiICsgXCItXCIgKyBfdmVydGljYWwgKyBcInB4IDAgMCAtXCIgKyBob3Jpem9udGFsICsgXCJweDtcIjtcblxuICAgICAgICBpZiAoIGN1cnJlbnRTdHlsZSApIHtcbiAgICAgICAgICBtYXJnaW5TdHlsZSA9IGN1cnJlbnRTdHlsZSArIG1hcmdpblN0eWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnJhbWUuc2V0QXR0cmlidXRlKCBcInN0eWxlXCIsIG1hcmdpblN0eWxlICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX3N0YXJ0UmVmcmVzaEludGVydmFsKCkge1xuICAgIF9pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoIGZ1bmN0aW9uKCkge1xuICAgICAgX3V0aWxzLmhhc0ludGVybmV0Q29ubmVjdGlvbiggXCJpbWcvdHJhbnNwYXJlbnQucG5nXCIsIGZ1bmN0aW9uKCBoYXNJbnRlcm5ldCApIHtcbiAgICAgICAgaWYgKCBoYXNJbnRlcm5ldCApIHtcbiAgICAgICAgICBfbG9hZEZyYW1lKCB0cnVlICk7XG4gICAgICAgIH1cbiAgICAgIH0gKTtcbiAgICB9LCBfYWRkaXRpb25hbFBhcmFtcy5yZWZyZXNoICk7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0RnJhbWVFbGVtZW50KCkge1xuICAgIHZhciBmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaWZyYW1lXCIgKSxcbiAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBcImNvbnRhaW5lclwiICk7XG5cbiAgICBmcmFtZS5jbGFzc05hbWUgPSBcIndlYnBhZ2UtZnJhbWVcIjtcbiAgICBmcmFtZS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICBmcmFtZS5zZXRBdHRyaWJ1dGUoIFwiZnJhbWVib3JkZXJcIiwgXCIwXCIgKTtcbiAgICBmcmFtZS5zZXRBdHRyaWJ1dGUoIFwiYWxsb3dUcmFuc3BhcmVuY3lcIiwgXCJ0cnVlXCIgKTtcbiAgICBmcmFtZS5zZXRBdHRyaWJ1dGUoIFwic2FuZGJveFwiLCBcImFsbG93LWZvcm1zIGFsbG93LXNhbWUtb3JpZ2luIGFsbG93LXNjcmlwdHNcIiApO1xuXG4gICAgX3NldEludGVyYWN0aXZpdHkoIGZyYW1lICk7XG4gICAgX3NldFJlZ2lvbiggZnJhbWUgKTtcbiAgICBfc2V0Wm9vbSggZnJhbWUgKTtcbiAgICBfc2V0QXNwZWN0UmF0aW8oKTtcblxuICAgIGZyYW1lLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5vbmxvYWQgPSBudWxsO1xuICAgICAgdGhpcy5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG5cbiAgICAgIF9pbml0aWFsTG9hZCA9IGZhbHNlO1xuXG4gICAgICAvLyBjaGVjayBpZiByZWZyZXNoIGludGVydmFsIHNob3VsZCBiZSBzdGFydGVkXG4gICAgICBpZiAoIF9hZGRpdGlvbmFsUGFyYW1zLnJlZnJlc2ggPiAwICYmIF9pbnRlcnZhbElkID09PSBudWxsICkge1xuICAgICAgICBfc3RhcnRSZWZyZXNoSW50ZXJ2YWwoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCBcIi53ZWJwYWdlLWZyYW1lXCIgKS5sZW5ndGggPiAxICkge1xuICAgICAgICAvLyBSZWZyZXNoIG9jY3VycmVkLCByZW1vdmUgb2xkIGlmcmFtZVxuICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIFwiLndlYnBhZ2UtZnJhbWVcIiApICk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmcmFtZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zaG91bGRVc2VDYWNoZUJ1c3RlciggaXNSZWZyZXNoICkge1xuICAgIHZhciB1c2VDYWNoZUJ1c3RlciA9ICFfYWRkaXRpb25hbFBhcmFtcy5oYXNPd25Qcm9wZXJ0eSggXCJjYWNoZUJ1c3RlclwiICkgfHxcbiAgICAgIF9hZGRpdGlvbmFsUGFyYW1zLmNhY2hlQnVzdGVyO1xuXG4gICAgcmV0dXJuIGlzUmVmcmVzaCAmJiB1c2VDYWNoZUJ1c3RlcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9sb2FkRnJhbWUoIGlzUmVmcmVzaCApIHtcbiAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIFwiY29udGFpbmVyXCIgKSxcbiAgICAgIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgZnJhbWUgPSBfZ2V0RnJhbWVFbGVtZW50KCksXG4gICAgICByZWZyZXNoVXJsID0gX3Nob3VsZFVzZUNhY2hlQnVzdGVyKCBpc1JlZnJlc2ggKSA/XG4gICAgICAgIHdpdGhDYWNoZUJ1c3RlciggX3VybCApIDogX3VybDtcblxuICAgIGZyYW1lLnNldEF0dHJpYnV0ZSggXCJzcmNcIiwgcmVmcmVzaFVybCApO1xuXG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGZyYW1lICk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKCBmcmFnbWVudCApO1xuICB9XG5cbiAgZnVuY3Rpb24gX3VubG9hZEZyYW1lKCkge1xuICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggXCJjb250YWluZXJcIiApLFxuICAgICAgZnJhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBcIi53ZWJwYWdlLWZyYW1lXCIgKTtcblxuICAgIGlmICggX2FkZGl0aW9uYWxQYXJhbXMucmVmcmVzaCA+IDAgKSB7XG4gICAgICBjbGVhckludGVydmFsKCBfaW50ZXJ2YWxJZCApO1xuICAgICAgX2ludGVydmFsSWQgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICggZnJhbWUgKSB7XG4gICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoIGZyYW1lICk7XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgICBfbWVzc2FnZSA9IG5ldyBSaXNlVmlzaW9uLkNvbW1vbi5NZXNzYWdlKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggXCJjb250YWluZXJcIiApLFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIFwibWVzc2FnZUNvbnRhaW5lclwiICkgKTtcblxuICAgIC8vIGFwcGx5IGhlaWdodCB2YWx1ZSB0byBtZXNzYWdlIGNvbnRhaW5lciBzbyBhIG1lc3NhZ2UgZ2V0cyB2ZXJ0aWNhbGx5IGNlbnRlcmVkXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIFwibWVzc2FnZUNvbnRhaW5lclwiICkuc3R5bGUuaGVpZ2h0ID0gX3ByZWZzLmdldEludCggXCJyc0hcIiApICsgXCJweFwiO1xuXG4gICAgLy8gQ29uZmlndXJlIHRoZSB2YWx1ZSBmb3IgX3VybFxuICAgIF91cmwgPSBfYWRkaXRpb25hbFBhcmFtcy51cmw7XG5cbiAgICAvLyBBZGQgaHR0cDovLyBpZiBubyBwcm90b2NvbCBwYXJhbWV0ZXIgZXhpc3RzXG4gICAgaWYgKCBfdXJsLmluZGV4T2YoIFwiOi8vXCIgKSA9PT0gLTEgKSB7XG4gICAgICBfdXJsID0gXCJodHRwOi8vXCIgKyBfdXJsO1xuICAgIH1cblxuICAgIF9sb2dDb25maWd1cmF0aW9uKCk7XG4gICAgX3JlYWR5KCk7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGdldFRhYmxlTmFtZSgpIHtcbiAgICByZXR1cm4gXCJ3ZWJwYWdlX2V2ZW50c1wiO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9nRXZlbnQoIHBhcmFtcyApIHtcbiAgICBSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscy5sb2dFdmVudCggZ2V0VGFibGVOYW1lKCksIHBhcmFtcyApO1xuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgaWYgKCBfYWRkaXRpb25hbFBhcmFtcy51bmxvYWQgKSB7XG4gICAgICBfdW5sb2FkRnJhbWUoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIGlmICggX2luaXRpYWxMb2FkIHx8IF9hZGRpdGlvbmFsUGFyYW1zLnVubG9hZCApIHtcbiAgICAgIF9sb2FkRnJhbWUoIGZhbHNlICk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBwYXVzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0QWRkaXRpb25hbFBhcmFtcyggYWRkaXRpb25hbFBhcmFtcyApIHtcbiAgICBfYWRkaXRpb25hbFBhcmFtcyA9IEpTT04ucGFyc2UoIEpTT04uc3RyaW5naWZ5KCBhZGRpdGlvbmFsUGFyYW1zICkgKTtcblxuICAgIF9pbml0KCk7XG4gIH1cblxuICBmdW5jdGlvbiB3aXRoQ2FjaGVCdXN0ZXIoIHVybCApIHtcbiAgICB2YXIgaGFzaEluZGV4ID0gdXJsLmluZGV4T2YoIFwiI1wiICksXG4gICAgICBmcmFnbWVudHMgPSBoYXNoSW5kZXggPCAwID8gWyB1cmwsIFwiXCIgXSA6IFtcbiAgICAgICAgdXJsLnN1YnN0cmluZyggMCwgaGFzaEluZGV4ICksIHVybC5zdWJzdHJpbmcoIGhhc2hJbmRleCApXG4gICAgICBdLFxuICAgICAgc2VwYXJhdG9yID0gL1s/Jl0vLnRlc3QoIGZyYWdtZW50c1sgMCBdICkgPyBcIiZcIiA6IFwiP1wiLFxuICAgICAgdGltZXN0YW1wID0gKCBuZXcgRGF0ZSgpICkuZ2V0VGltZSgpO1xuXG4gICAgcmV0dXJuIGZyYWdtZW50c1sgMCBdICsgc2VwYXJhdG9yICsgXCJfX2NhY2hlYnVzdGVyX189XCIgKyB0aW1lc3RhbXAgKyBmcmFnbWVudHNbIDEgXTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJnZXRUYWJsZU5hbWVcIjogZ2V0VGFibGVOYW1lLFxuICAgIFwibG9nRXZlbnRcIjogbG9nRXZlbnQsXG4gICAgXCJzZXRBZGRpdGlvbmFsUGFyYW1zXCI6IHNldEFkZGl0aW9uYWxQYXJhbXMsXG4gICAgXCJwYXVzZVwiOiBwYXVzZSxcbiAgICBcInBsYXlcIjogcGxheSxcbiAgICBcInN0b3BcIjogc3RvcCxcbiAgICBcIndpdGhDYWNoZUJ1c3RlclwiOiB3aXRoQ2FjaGVCdXN0ZXJcbiAgfTtcblxufSApKCBkb2N1bWVudCwgZ2FkZ2V0cyApO1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5NZXNzYWdlID0gZnVuY3Rpb24gKG1haW5Db250YWluZXIsIG1lc3NhZ2VDb250YWluZXIpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9hY3RpdmUgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgICB0cnkge1xuICAgICAgbWVzc2FnZUNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBtYWluQ29udGFpbmVyLnN0eWxlLmhlaWdodDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJDYW4ndCBpbml0aWFsaXplIE1lc3NhZ2UgLSBcIiwgZS5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgaWYgKF9hY3RpdmUpIHtcbiAgICAgIC8vIGNsZWFyIGNvbnRlbnQgb2YgbWVzc2FnZSBjb250YWluZXJcbiAgICAgIHdoaWxlIChtZXNzYWdlQ29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgbWVzc2FnZUNvbnRhaW5lci5yZW1vdmVDaGlsZChtZXNzYWdlQ29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuXG4gICAgICAvLyBoaWRlIG1lc3NhZ2UgY29udGFpbmVyXG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgICAgLy8gc2hvdyBtYWluIGNvbnRhaW5lclxuICAgICAgbWFpbkNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG4gICAgICBfYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2hvdyhtZXNzYWdlKSB7XG4gICAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgcDtcblxuICAgIGlmICghX2FjdGl2ZSkge1xuICAgICAgLy8gaGlkZSBtYWluIGNvbnRhaW5lclxuICAgICAgbWFpbkNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgICAgIG1lc3NhZ2VDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgICAgLy8gY3JlYXRlIG1lc3NhZ2UgZWxlbWVudFxuICAgICAgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgcC5pbm5lckhUTUwgPSBtZXNzYWdlO1xuICAgICAgcC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1lc3NhZ2VcIik7XG5cbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHApO1xuICAgICAgbWVzc2FnZUNvbnRhaW5lci5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG5cbiAgICAgIF9hY3RpdmUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBtZXNzYWdlIGFscmVhZHkgYmVpbmcgc2hvd24sIHVwZGF0ZSBtZXNzYWdlIHRleHRcbiAgICAgIHAgPSBtZXNzYWdlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIubWVzc2FnZVwiKTtcbiAgICAgIHAuaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgICB9XG4gIH1cblxuICBfaW5pdCgpO1xuXG4gIHJldHVybiB7XG4gICAgXCJoaWRlXCI6IGhpZGUsXG4gICAgXCJzaG93XCI6IHNob3dcbiAgfTtcbn07XG5cbi8qIGdsb2JhbCBSaXNlVmlzaW9uLCBnYWRnZXRzICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZG9jdW1lbnQsIGdhZGdldHMgKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBpZCA9IG5ldyBnYWRnZXRzLlByZWZzKCkuZ2V0U3RyaW5nKCBcImlkXCIgKTtcblxuICAvLyBEaXNhYmxlIGNvbnRleHQgbWVudSAocmlnaHQgY2xpY2sgbWVudSlcbiAgd2luZG93Lm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgZG9jdW1lbnQuYm9keS5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBmdW5jdGlvbiBjb25maWd1cmUoIG5hbWVzLCB2YWx1ZXMgKSB7XG4gICAgdmFyIGFkZGl0aW9uYWxQYXJhbXMsXG4gICAgICBjb21wYW55SWQgPSBcIlwiLFxuICAgICAgZGlzcGxheUlkID0gXCJcIjtcblxuICAgIGlmICggQXJyYXkuaXNBcnJheSggbmFtZXMgKSAmJiBuYW1lcy5sZW5ndGggPiAwICYmIEFycmF5LmlzQXJyYXkoIHZhbHVlcyApICYmIHZhbHVlcy5sZW5ndGggPiAwICkge1xuICAgICAgLy8gY29tcGFueSBpZFxuICAgICAgaWYgKCBuYW1lc1sgMCBdID09PSBcImNvbXBhbnlJZFwiICkge1xuICAgICAgICBjb21wYW55SWQgPSB2YWx1ZXNbIDAgXTtcbiAgICAgIH1cblxuICAgICAgLy8gZGlzcGxheSBpZFxuICAgICAgaWYgKCBuYW1lc1sgMSBdID09PSBcImRpc3BsYXlJZFwiICkge1xuICAgICAgICBpZiAoIHZhbHVlc1sgMSBdICkge1xuICAgICAgICAgIGRpc3BsYXlJZCA9IHZhbHVlc1sgMSBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpc3BsYXlJZCA9IFwicHJldmlld1wiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHByb3ZpZGUgTG9nZ2VyVXRpbHMgdGhlIGlkcyB0byB1c2VcbiAgICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzLnNldElkcyggY29tcGFueUlkLCBkaXNwbGF5SWQgKTtcblxuICAgICAgLy8gYWRkaXRpb25hbCBwYXJhbXNcbiAgICAgIGlmICggbmFtZXNbIDIgXSA9PT0gXCJhZGRpdGlvbmFsUGFyYW1zXCIgKSB7XG4gICAgICAgIGFkZGl0aW9uYWxQYXJhbXMgPSBKU09OLnBhcnNlKCB2YWx1ZXNbIDIgXSApO1xuXG4gICAgICAgIFJpc2VWaXNpb24uV2ViUGFnZS5zZXRBZGRpdGlvbmFsUGFyYW1zKCBhZGRpdGlvbmFsUGFyYW1zICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBSaXNlVmlzaW9uLldlYlBhZ2UucGxheSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgUmlzZVZpc2lvbi5XZWJQYWdlLnBhdXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzdG9wKCkge1xuICAgIFJpc2VWaXNpb24uV2ViUGFnZS5zdG9wKCk7XG4gIH1cblxuICBpZiAoIGlkICYmIGlkICE9PSBcIlwiICkge1xuICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKCBcInJzY21kX3BsYXlfXCIgKyBpZCwgcGxheSApO1xuICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKCBcInJzY21kX3BhdXNlX1wiICsgaWQsIHBhdXNlICk7XG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoIFwicnNjbWRfc3RvcF9cIiArIGlkLCBzdG9wICk7XG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoIFwicnNwYXJhbV9zZXRfXCIgKyBpZCwgY29uZmlndXJlICk7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbCggXCJcIiwgXCJyc3BhcmFtX2dldFwiLCBudWxsLCBpZCwgWyBcImNvbXBhbnlJZFwiLCBcImRpc3BsYXlJZFwiLCBcImFkZGl0aW9uYWxQYXJhbXNcIiBdICk7XG4gIH1cblxufSApKCB3aW5kb3csIGRvY3VtZW50LCBnYWRnZXRzICk7XG5cblxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG52YXIgX2dhcSA9IF9nYXEgfHwgW107XG5cbl9nYXEucHVzaChbJ19zZXRBY2NvdW50JywgJ1VBLTU3MDkyMTU5LTYnXSk7XG5fZ2FxLnB1c2goWydfdHJhY2tQYWdldmlldyddKTtcblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgZ2EgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsgZ2EudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnOyBnYS5hc3luYyA9IHRydWU7XG4gIGdhLnNyYyA9ICgnaHR0cHM6JyA9PSBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCA/ICdodHRwczovL3NzbCcgOiAnaHR0cDovL3d3dycpICsgJy5nb29nbGUtYW5hbHl0aWNzLmNvbS9nYS5qcyc7XG4gIHZhciBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdOyBzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGdhLCBzKTtcbn0pKCk7XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuIl19
