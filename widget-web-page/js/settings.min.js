!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t){"use strict";var e=t.storageKey(),n=t.storage(),a=function(){var a=t.preferredLanguage();angular.isString(a)?t.use(a):n.put(e,t.use())};a.displayName="fallbackFromIncorrectStorageValue",n?n.get(e)?t.use(n.get(e))["catch"](a):a():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function e(){"use strict";var t,e,n,a=null,i=!1,r=!1;n={sanitize:function(t,e){return"text"===e&&(t=s(t)),t},escape:function(t,e){return"text"===e&&(t=o(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=c(t,s)),t},escapeParameters:function(t,e){return"params"===e&&(t=c(t,o)),t},sce:function(t,e,n){return"text"===e?t=l(t):"params"===e&&"filter"!==n&&(t=c(t,o)),t},sceParameters:function(t,e){return"params"===e&&(t=c(t,l)),t}},n.escaped=n.escapeParameters,this.addStrategy=function(t,e){return n[t]=e,this},this.removeStrategy=function(t){return delete n[t],this},this.useStrategy=function(t){return i=!0,a=t,this},this.$get=["$injector","$log",function(o,s){var l={},c=function(t,e,a,i){return angular.forEach(i,function(i){if(angular.isFunction(i))t=i(t,e,a);else if(angular.isFunction(n[i]))t=n[i](t,e,a);else{if(!angular.isString(n[i]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'");if(!l[n[i]])try{l[n[i]]=o.get(n[i])}catch(r){throw l[n[i]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'")}t=l[n[i]](t,e,a)}}),t},u=function(){i||r||(s.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),r=!0)};return o.has("$sanitize")&&(t=o.get("$sanitize")),o.has("$sce")&&(e=o.get("$sce")),{useStrategy:function(t){return function(e){t.useStrategy(e)}}(this),sanitize:function(t,e,n,i){if(a||u(),n||null===n||(n=a),!n)return t;i||(i="service");var r=angular.isArray(n)?n:[n];return c(t,e,i,r)}}}];var o=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},s=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(e)},l=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return e.trustAsHtml(t)},c=function(t,e,n){if(angular.isDate(t))return t;if(angular.isObject(t)){var a=angular.isArray(t)?[]:{};if(n){if(n.indexOf(t)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(t),angular.forEach(t,function(t,i){angular.isFunction(t)||(a[i]=c(t,e,n))}),n.splice(-1,1),a}return angular.isNumber(t)?t:e(t)}}function n(t,e,n,a){"use strict";var i,r,o,s,l,c,u,p,d,f,h,g,m,v,b,y,$={},w=[],x=t,k=[],C="translate-cloak",T=!1,D=!1,E=".",S=!1,O=!1,M=0,P=!0,A="default",I={"default":function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():e},"iso639-1":function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n[0].toLowerCase()}},L="2.13.1",N=function(){if(angular.isFunction(a.getLocale))return a.getLocale();var t,n,i=e.$get().navigator,r=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(i.languages))for(t=0;t<i.languages.length;t++)if(n=i.languages[t],n&&n.length)return n;for(t=0;t<r.length;t++)if(n=i[r[t]],n&&n.length)return n;return null};N.displayName="angular-translate/service: getFirstBrowserLanguage";var F=function(){var t=N()||"";return I[A]&&(t=I[A](t)),t};F.displayName="angular-translate/service: getLocale";var j=function(t,e){for(var n=0,a=t.length;a>n;n++)if(t[n]===e)return n;return-1},V=function(){return this.toString().replace(/^\s+|\s+$/g,"")},U=function(t){if(t){for(var e=[],n=angular.lowercase(t),a=0,i=w.length;i>a;a++)e.push(angular.lowercase(w[a]));if(j(e,n)>-1)return t;if(r){var o;for(var s in r)if(r.hasOwnProperty(s)){var l=!1,c=Object.prototype.hasOwnProperty.call(r,s)&&angular.lowercase(s)===angular.lowercase(t);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===t.slice(0,s.length-1)),(c||l)&&(o=r[s],j(e,angular.lowercase(o))>-1))return o}}var u=t.split("_");return u.length>1&&j(e,angular.lowercase(u[0]))>-1?u[0]:void 0}},H=function(t,e){if(!t&&!e)return $;if(t&&!e){if(angular.isString(t))return $[t]}else angular.isObject($[t])||($[t]={}),angular.extend($[t],R(e));return this};this.translations=H,this.cloakClassName=function(t){return t?(C=t,this):C},this.nestedObjectDelimeter=function(t){return t?(E=t,this):E};var R=function(t,e,n,a){var i,r,o,s;e||(e=[]),n||(n={});for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s=t[i],angular.isObject(s)?R(s,e.concat(i),n,i):(r=e.length?""+e.join(E)+E+i:i,e.length&&i===a&&(o=""+e.join(E),n[o]="@:"+r),n[r]=s));return n};R.displayName="flatObject",this.addInterpolation=function(t){return k.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return f=t,this},this.useSanitizeValueStrategy=function(t){return n.useStrategy(t),this},this.preferredLanguage=function(t){return t?(_(t),this):i};var _=function(t){return t&&(i=t),i};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(m=t,this):m},this.translationNotFoundIndicatorRight=function(t){return t?(v=t,this):v},this.fallbackLanguage=function(t){return q(t),this};var q=function(t){return t?(angular.isString(t)?(s=!0,o=[t]):angular.isArray(t)&&(s=!1,o=t),angular.isString(i)&&j(o,i)<0&&o.push(i),this):s?o[0]:o};this.use=function(t){if(t){if(!$[t]&&!h)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return l=t,this}return l},this.resolveClientLocale=function(){return F()};var z=function(t){return t?(x=t,this):p?p+x:x};this.storageKey=z,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return h=t,g=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return u=t,this},this.storagePrefix=function(t){return t?(p=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return d=t,this},this.usePostCompiling=function(t){return T=!!t,this},this.forceAsyncReload=function(t){return D=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},A=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():F();return i=w.length?U(e)||e:e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(w=t,e&&(r=e),this):w},this.useLoaderCache=function(t){return t===!1?b=void 0:t===!0?b=!0:"undefined"==typeof t?b="$translationCache":t&&(b=t),this},this.directivePriority=function(t){return void 0===t?M:(M=t,this)},this.statefulFilter=function(t){return void 0===t?P:(P=t,this)},this.postProcess=function(t){return y=t?t:void 0,this},this.keepContent=function(t){return O=!!t,this},this.$get=["$log","$injector","$rootScope","$q",function(t,e,n,a){var r,p,A,I=e.get(f||"$translateDefaultInterpolation"),N=!1,B={},W={},Y=function(t,e,n,s,c){!l&&i&&(l=i);var d=c&&c!==l?U(c)||c:l;if(c&&ue(c),angular.isArray(t)){var f=function(t){for(var i={},r=[],o=function(t){var r=a.defer(),o=function(e){i[t]=e,r.resolve([t,e])};return Y(t,e,n,s,c).then(o,o),r.promise},l=0,u=t.length;u>l;l++)r.push(o(t[l]));return a.all(r).then(function(){return i})};return f(t)}var h=a.defer();t&&(t=V.apply(t));var g=function(){var t=i?W[i]:W[d];if(p=0,u&&!t){var e=r.get(x);if(t=W[e],o&&o.length){var n=j(o,e);p=0===n?1:0,j(o,i)<0&&o.push(i)}}return t}();if(g){var m=function(){c||(d=l),oe(t,e,n,s,d).then(h.resolve,h.reject)};m.displayName="promiseResolved",g["finally"](m)}else oe(t,e,n,s,d).then(h.resolve,h.reject);return h.promise},G=function(t){return m&&(t=[m,t].join(" ")),v&&(t=[t,v].join(" ")),t},K=function(t){l=t,u&&r.put(Y.storageKey(),l),n.$emit("$translateChangeSuccess",{language:t}),I.setLocale(l);var e=function(t,e){B[e].setLocale(l)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(B,e),n.$emit("$translateChangeEnd",{language:t})},X=function(t){if(!t)throw"No language key specified for loading.";var i=a.defer();n.$emit("$translateLoadingStart",{language:t}),N=!0;var r=b;"string"==typeof r&&(r=e.get(r));var o=angular.extend({},g,{key:t,$http:angular.extend({},{cache:r},g.$http)}),s=function(e){var a={};n.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(e)?angular.forEach(e,function(t){angular.extend(a,R(t))}):angular.extend(a,R(e)),N=!1,i.resolve({key:t,table:a}),n.$emit("$translateLoadingEnd",{language:t})};s.displayName="onLoaderSuccess";var l=function(t){n.$emit("$translateLoadingError",{language:t}),i.reject(t),n.$emit("$translateLoadingEnd",{language:t})};return l.displayName="onLoaderError",e.get(h)(o).then(s,l),i.promise};if(u&&(r=e.get(u),!r.get||!r.put))throw new Error("Couldn't use storage '"+u+"', missing get() or put() method!");if(k.length){var Q=function(t){var n=e.get(t);n.setLocale(i||l),B[n.getInterpolationIdentifier()]=n};Q.displayName="interpolationFactoryAdder",angular.forEach(k,Q)}var Z=function(t){var e=a.defer();if(Object.prototype.hasOwnProperty.call($,t))e.resolve($[t]);else if(W[t]){var n=function(t){H(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",W[t].then(n,e.reject)}else e.reject();return e.promise},J=function(t,e,n,i){var r=a.defer(),o=function(a){if(Object.prototype.hasOwnProperty.call(a,e)){i.setLocale(t);var o=a[e];if("@:"===o.substr(0,2))J(t,o.substr(2),n,i).then(r.resolve,r.reject);else{var s=i.interpolate(a[e],n,"service");s=ce(e,a[e],s,n,t),r.resolve(s)}i.setLocale(l)}else r.reject()};return o.displayName="fallbackTranslationResolver",Z(t).then(o,r.reject),r.promise},te=function(t,e,n,a,i){var r,o=$[t];if(o&&Object.prototype.hasOwnProperty.call(o,e)){if(a.setLocale(t),r=a.interpolate(o[e],n,"filter",i),r=ce(e,o[e],r,n,t,i),!angular.isString(r)&&angular.isFunction(r.$$unwrapTrustedValue)){var s=r.$$unwrapTrustedValue();if("@:"===s.substr(0,2))return te(t,s.substr(2),n,a,i)}else if("@:"===r.substr(0,2))return te(t,r.substr(2),n,a,i);a.setLocale(l)}return r},ee=function(t,n,a,i){return d?e.get(d)(t,l,n,a,i):t},ne=function(t,e,n,i,r){var s=a.defer();if(t<o.length){var l=o[t];J(l,e,n,i).then(function(t){s.resolve(t)},function(){return ne(t+1,e,n,i,r).then(s.resolve,s.reject)})}else if(r)s.resolve(r);else{var c=ee(e,n,r);d&&c?s.resolve(c):s.reject(G(e))}return s.promise},ae=function(t,e,n,a,i){var r;if(t<o.length){var s=o[t];r=te(s,e,n,a,i),r||""===r||(r=ae(t+1,e,n,a))}return r},ie=function(t,e,n,a){return ne(A>0?A:p,t,e,n,a)},re=function(t,e,n,a){return ae(A>0?A:p,t,e,n,a)},oe=function(t,e,n,i,r){var s=a.defer(),l=r?$[r]:$,c=n?B[n]:I;if(l&&Object.prototype.hasOwnProperty.call(l,t)){var u=l[t];if("@:"===u.substr(0,2))Y(u.substr(2),e,n,i,r).then(s.resolve,s.reject);else{var p=c.interpolate(u,e,"service");p=ce(t,u,p,e,r),s.resolve(p)}}else{var f;d&&!N&&(f=ee(t,e,i)),r&&o&&o.length?ie(t,e,c,i).then(function(t){s.resolve(t)},function(t){s.reject(G(t))}):d&&!N&&f?i?s.resolve(i):s.resolve(f):i?s.resolve(i):s.reject(G(t))}return s.promise},se=function(t,e,n,a,i){var r,s=a?$[a]:$,l=I;if(B&&Object.prototype.hasOwnProperty.call(B,n)&&(l=B[n]),s&&Object.prototype.hasOwnProperty.call(s,t)){var c=s[t];"@:"===c.substr(0,2)?r=se(c.substr(2),e,n,a,i):(r=l.interpolate(c,e,"filter",i),r=ce(t,c,r,e,a,i))}else{var u;d&&!N&&(u=ee(t,e,i)),a&&o&&o.length?(p=0,r=re(t,e,l,i)):r=d&&!N&&u?u:G(t)}return r},le=function(t){c===t&&(c=void 0),W[t]=void 0},ce=function(t,n,a,i,r,o){var s=y;return s&&("string"==typeof s&&(s=e.get(s)),s)?s(t,n,a,i,r,o):a},ue=function(t){$[t]||!h||W[t]||(W[t]=X(t).then(function(t){return H(t.key,t.table),t}))};Y.preferredLanguage=function(t){return t&&_(t),i},Y.cloakClassName=function(){return C},Y.nestedObjectDelimeter=function(){return E},Y.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(q(t),h&&o&&o.length)for(var e=0,n=o.length;n>e;e++)W[o[e]]||(W[o[e]]=X(o[e]));Y.use(Y.use())}return s?o[0]:o},Y.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=j(o,t);e>-1&&(A=e)}else A=0},Y.proposedLanguage=function(){return c},Y.storage=function(){return r},Y.negotiateLocale=U,Y.use=function(t){if(!t)return l;var e=a.defer();n.$emit("$translateChangeStart",{language:t});var i=U(t);return w.length>0&&!i?a.reject(t):(i&&(t=i),c=t,!D&&$[t]||!h||W[t]?W[t]?W[t].then(function(t){return c===t.key&&K(t.key),e.resolve(t.key),t},function(t){return!l&&o&&o.length>0&&o[0]!==t?Y.use(o[0]).then(e.resolve,e.reject):e.reject(t)}):(e.resolve(t),K(t)):(W[t]=X(t).then(function(n){return H(n.key,n.table),e.resolve(n.key),c===t&&K(n.key),n},function(t){return n.$emit("$translateChangeError",{language:t}),e.reject(t),n.$emit("$translateChangeEnd",{language:t}),a.reject(t)}),W[t]["finally"](function(){le(t)})),e.promise)},Y.resolveClientLocale=function(){return F()},Y.storageKey=function(){return z()},Y.isPostCompilingEnabled=function(){return T},Y.isForceAsyncReloadEnabled=function(){return D},Y.isKeepContent=function(){return O},Y.refresh=function(t){function e(){r.resolve(),n.$emit("$translateRefreshEnd",{language:t})}function i(){r.reject(),n.$emit("$translateRefreshEnd",{language:t})}if(!h)throw new Error("Couldn't refresh translation table, no loader registered!");var r=a.defer();if(n.$emit("$translateRefreshStart",{language:t}),t)if($[t]){var s=function(n){return H(n.key,n.table),t===l&&K(l),e(),n};s.displayName="refreshPostProcessor",X(t).then(s,i)}else i();else{var c=[],u={};if(o&&o.length)for(var p=0,d=o.length;d>p;p++)c.push(X(o[p])),u[o[p]]=!0;l&&!u[l]&&c.push(X(l));var f=function(t){$={},angular.forEach(t,function(t){H(t.key,t.table)}),l&&K(l),e()};f.displayName="refreshPostProcessor",a.all(c).then(f,i)}return r.promise},Y.instant=function(t,e,n,a,r){var s=a&&a!==l?U(a)||a:l;if(null===t||angular.isUndefined(t))return t;if(a&&ue(a),angular.isArray(t)){for(var c={},u=0,p=t.length;p>u;u++)c[t[u]]=Y.instant(t[u],e,n,a,r);return c}if(angular.isString(t)&&t.length<1)return t;t&&(t=V.apply(t));var f,h=[];i&&h.push(i),s&&h.push(s),o&&o.length&&(h=h.concat(o));for(var g=0,b=h.length;b>g;g++){var y=h[g];if($[y]&&"undefined"!=typeof $[y][t]&&(f=se(t,e,n,s,r)),"undefined"!=typeof f)break}if(!f&&""!==f)if(m||v)f=G(t);else{f=I.interpolate(t,e,"filter",r);var w;d&&!N&&(w=ee(t,e,r)),d&&!N&&w&&(f=w)}return f},Y.versionInfo=function(){return L},Y.loaderCache=function(){return b},Y.directivePriority=function(){return M},Y.statefulFilter=function(){return P},Y.isReady=function(){return S};var pe=a.defer();pe.promise.then(function(){S=!0}),Y.onReady=function(t){var e=a.defer();return angular.isFunction(t)&&e.promise.then(t),S?e.resolve():pe.promise.then(e.resolve),e.promise},Y.getAvailableLanguageKeys=function(){return w.length>0?w:null},Y.getTranslationTable=function(t){return t=t||Y.use(),t&&$[t]?angular.copy($[t]):null};var de=n.$on("$translateReady",function(){pe.resolve(),de(),de=null}),fe=n.$on("$translateChangeEnd",function(){pe.resolve(),fe(),fe=null});if(h){if(angular.equals($,{})&&Y.use()&&Y.use(Y.use()),o&&o.length)for(var he=function(t){return H(t.key,t.table),n.$emit("$translateChangeEnd",{language:t.key}),t},ge=0,me=o.length;me>ge;ge++){var ve=o[ge];(D||!$[ve])&&(W[ve]=X(ve).then(he))}}else n.$emit("$translateReady",{language:Y.use()});return Y}]}function a(t,e){"use strict";var n,a={},i="default";return a.setLocale=function(t){n=t},a.getInterpolationIdentifier=function(){return i},a.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},a.interpolate=function(n,a,i,r){a=a||{},a=e.sanitize(a,"params",r,i);var o;return angular.isNumber(n)?o=""+n:angular.isString(n)?(o=t(n)(a),o=e.sanitize(o,"text",r,i)):o="",o},a}function i(t,e,n,a,i){"use strict";var o=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:t.directivePriority(),compile:function(s,l){var c=l.translateValues?l.translateValues:void 0,u=l.translateInterpolation?l.translateInterpolation:void 0,p=s[0].outerHTML.match(/translate-value-+/i),d="^(.*)("+e.startSymbol()+".*"+e.endSymbol()+")(.*)",f="^(.*)"+e.startSymbol()+"(.*)"+e.endSymbol()+"(.*)";return function(s,h,g){s.interpolateParams={},s.preText="",s.postText="",s.translateNamespace=r(s);var m={},v=function(t,e,n){if(e.translateValues&&angular.extend(t,a(e.translateValues)(s.$parent)),p)for(var i in n)if(Object.prototype.hasOwnProperty.call(e,i)&&"translateValue"===i.substr(0,14)&&"translateValues"!==i){var r=angular.lowercase(i.substr(14,1))+i.substr(15);t[r]=n[i]}},b=function(t){if(angular.isFunction(b._unwatchOld)&&(b._unwatchOld(),b._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var n=o.apply(h.text()),a=n.match(d);if(angular.isArray(a)){s.preText=a[1],s.postText=a[3],m.translate=e(a[2])(s.$parent);var i=n.match(f);angular.isArray(i)&&i[2]&&i[2].length&&(b._unwatchOld=s.$watch(i[2],function(t){m.translate=t,C()}))}else m.translate=n?n:void 0}else m.translate=t;C()},y=function(t){g.$observe(t,function(e){m[t]=e,C()})};v(s.interpolateParams,g,l);var $=!0;g.$observe("translate",function(t){"undefined"==typeof t?b(""):""===t&&$||(m.translate=t,C()),$=!1});for(var w in g)g.hasOwnProperty(w)&&"translateAttr"===w.substr(0,13)&&w.length>13&&y(w);if(g.$observe("translateDefault",function(t){s.defaultText=t,C()}),c&&g.$observe("translateValues",function(t){t&&s.$parent.$watch(function(){angular.extend(s.interpolateParams,a(t)(s.$parent))})}),p){var x=function(t){g.$observe(t,function(e){var n=angular.lowercase(t.substr(14,1))+t.substr(15);s.interpolateParams[n]=e})};for(var k in g)Object.prototype.hasOwnProperty.call(g,k)&&"translateValue"===k.substr(0,14)&&"translateValues"!==k&&x(k)}var C=function(){for(var t in m)m.hasOwnProperty(t)&&void 0!==m[t]&&T(t,m[t],s,s.interpolateParams,s.defaultText,s.translateNamespace)},T=function(e,n,a,i,r,o){n?(o&&"."===n.charAt(0)&&(n=o+n),t(n,i,u,r,a.translateLanguage).then(function(t){D(t,a,!0,e)},function(t){D(t,a,!1,e)})):D(n,a,!1,e)},D=function(e,a,i,r){if(i||"undefined"!=typeof a.defaultText&&(e=a.defaultText),"translate"===r){(i||!i&&!t.isKeepContent()&&"undefined"==typeof g.translateKeepContent)&&h.empty().append(a.preText+e+a.postText);var o=t.isPostCompilingEnabled(),s="undefined"!=typeof l.translateCompile,c=s&&"false"!==l.translateCompile;(o&&!s||c)&&n(h.contents())(a)}else{var u=g.$attr[r];"data-"===u.substr(0,5)&&(u=u.substr(5)),u=u.substr(15),h.attr(u,e)}};(c||p||g.translateDefault)&&s.$watch("interpolateParams",C,!0),s.$on("translateLanguageChanged",C);var E=i.$on("$translateChangeSuccess",C);h.text().length?g.translate?b(g.translate):b(""):g.translate&&b(g.translate),C(),s.$on("$destroy",E)}}}}function r(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?r(t.$parent):void 0}function o(t,e){"use strict";return{restrict:"A",priority:t.directivePriority(),link:function(n,a,i){var r,o,l={},c=function(){angular.forEach(r,function(e,r){e&&(l[r]=!0,n.translateNamespace&&"."===e.charAt(0)&&(e=n.translateNamespace+e),t(e,o,i.translateInterpolation,void 0,n.translateLanguage).then(function(t){a.attr(r,t)},function(t){a.attr(r,t)}))}),angular.forEach(l,function(t,e){r[e]||(a.removeAttr(e),delete l[e])})};s(n,i.translateAttr,function(t){r=t},c),s(n,i.translateValues,function(t){o=t},c),i.translateValues&&n.$watch(i.translateValues,c,!0),n.$on("translateLanguageChanged",c);var u=e.$on("$translateChangeSuccess",c);c(),n.$on("$destroy",u)}}}function s(t,e,n,a){"use strict";e&&("::"===e.substr(0,2)?e=e.substr(2):t.$watch(e,function(t){n(t),a()},!0),n(t.$eval(e)))}function l(t,e){"use strict";return{compile:function(n){var a=function(){n.addClass(t.cloakClassName())},i=function(){n.removeClass(t.cloakClassName())};return t.onReady(function(){i()}),a(),function(n,r,o){o.translateCloak&&o.translateCloak.length&&(o.$observe("translateCloak",function(e){t(e).then(i,a)}),e.$on("$translateChangeSuccess",function(){t(o.translateCloak).then(i,a)}))}}}}function c(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,n){t.translateNamespace=r(t),t.translateNamespace&&"."===n.translateNamespace.charAt(0)?t.translateNamespace+=n.translateNamespace:t.translateNamespace=n.translateNamespace}}}}}function r(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?r(t.$parent):void 0}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(t,e,n){n.$observe("translateLanguage",function(e){t.translateLanguage=e}),t.$watch("translateLanguage",function(){t.$broadcast("translateLanguageChanged")})}}}}function p(t,e){"use strict";var n=function(n,a,i,r){return angular.isObject(a)||(a=t(a)(this)),e.instant(n,a,i,r)};return e.statefulFilter()&&(n.$stateful=!0),n}function d(t){"use strict";return t("translations")}return t.$inject=["$translate"],n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],a.$inject=["$interpolate","$translateSanitization"],i.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],o.$inject=["$translate","$rootScope"],l.$inject=["$translate","$rootScope"],p.$inject=["$parse","$translate"],d.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(t),t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",e),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",a),a.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",o),o.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",l),l.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",c),c.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",u),u.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",p),p.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",d),d.displayName="$translationCache","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t,e){"use strict";return function(n){if(!(n&&(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var a=function(a){if(!a||!angular.isString(a.prefix)||!angular.isString(a.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var i=[a.prefix,n.key,a.suffix].join("");return angular.isObject(n.fileMap)&&n.fileMap[i]&&(i=n.fileMap[i]),e(angular.extend({url:i,method:"GET",params:""},n.$http)).then(function(t){return t.data},function(){return t.reject(n.key)})},i=[],r=n.files.length,o=0;r>o;o++)i.push(a({prefix:n.files[o].prefix,key:n.key,suffix:n.files[o].suffix}));return t.all(i).then(function(t){for(var e=t.length,n={},a=0;e>a;a++)for(var i in t[a])n[i]=t[a][i];return n})}}return t.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",t),t.displayName="$translateStaticFilesLoader","pascalprecht.translate"});try{angular.module("risevision.common.i18n.config")}catch(err){angular.module("risevision.common.i18n.config",[])}angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(t,e){function n(t,a){e(angular.extend({url:[t.prefix,t.key.toLowerCase(),t.suffix].join(""),method:"GET",params:""},t.$http)).then(function(t){a.resolve(t.data)},function(){if(t.key.indexOf("_")>=0){var e=t.key.substr(0,t.key.lastIndexOf("_")),i=angular.extend({},t,{key:e});n(i,a)}else a.resolve("{}")})}return function(e){if(!e||!angular.isString(e.prefix)||!angular.isString(e.suffix))throw new Error('Couldn"t load static files, no prefix or suffix specified!');var a=t.defer();return n(e,a),a.promise}}]),angular.module("risevision.common.i18n",["pascalprecht.translate","risevision.common.i18n.config"]).config(["$translateProvider","LOCALES_PREFIX","LOCALES_SUFIX",function(t,e,n){t.useStaticFilesLoader({prefix:e,suffix:n}),t.determinePreferredLanguage().fallbackLanguage("en").useSanitizeValueStrategy(null)}]),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.affix"),r="object"==typeof e&&e;i||a.data("bs.affix",i=new n(this,r)),"string"==typeof e&&i[e]()})}var n=function(e,a){this.options=t.extend({},n.DEFAULTS,a),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=t(document).height(),a=this.$target.scrollTop(),i=this.$element.offset(),r=this.options.offset,o=r.top,s=r.bottom;"object"!=typeof r&&(s=o=r),"function"==typeof o&&(o=r.top(this.$element)),"function"==typeof s&&(s=r.bottom(this.$element));var l=null!=this.unpin&&a+this.unpin<=i.top?!1:null!=s&&i.top+this.$element.height()>=e-s?"bottom":null!=o&&o>=a?"top":!1;if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=t.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(t.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:e-this.$element.height()-s}))}}};var a=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=a,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),a=n.data();a.offset=a.offset||{},a.offsetBottom&&(a.offset.bottom=a.offsetBottom),a.offsetTop&&(a.offset.top=a.offsetTop),e.call(n,a)})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new a(this)),"string"==typeof e&&i[e].call(n)})}var n='[data-dismiss="alert"]',a=function(e){t(e).on("click",n,this.close)};a.VERSION="3.2.0",a.prototype.close=function(e){function n(){r.detach().trigger("closed.bs.alert").remove()}var a=t(this),i=a.attr("data-target");i||(i=a.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var r=t(i);e&&e.preventDefault(),r.length||(r=a.hasClass("alert")?a:a.parent()),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var i=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=a,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",n,a.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.button"),r="object"==typeof e&&e;i||a.data("bs.button",i=new n(this,r)),"toggle"==e?i.toggle():e&&i.setState(e)})}var n=function(e,a){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,a),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",a=this.$element,i=a.is("input")?"val":"html",r=a.data();e+="Text",null==r.resetText&&a.data("resetText",a[i]()),a[i](null==r[e]?this.options[e]:r[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,a.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,a.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var a=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=a,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var a=t(n.target);a.hasClass("btn")||(a=a.closest(".btn")),e.call(a,"toggle"),n.preventDefault()})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.carousel"),r=t.extend({},n.DEFAULTS,a.data(),"object"==typeof e&&e),o="string"==typeof e?e:r.slide;i||a.data("bs.carousel",i=new n(this,r)),"number"==typeof e?i.to(e):o?i[o]():r.interval&&i.pause().cycle()})}var n=function(e,n){this.$element=t(e).on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.to=function(e){var n=this,a=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):a==e?this.pause().cycle():this.slide(e>a?"next":"prev",t(this.$items[e]))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this
},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,n){var a=this.$element.find(".item.active"),i=n||a[e](),r=this.interval,o="next"==e?"left":"right",s="next"==e?"first":"last",l=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[s]()}if(i.hasClass("active"))return this.sliding=!1;var c=i[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:o});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=t(this.$indicators.children()[this.getItemIndex(i)]);p&&p.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:c,direction:o});return t.support.transition&&this.$element.hasClass("slide")?(i.addClass(e),i[0].offsetWidth,a.addClass(o),i.addClass(o),a.one("bsTransitionEnd",function(){i.removeClass([e,o].join(" ")).addClass("active"),a.removeClass(["active",o].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(1e3*a.css("transition-duration").slice(0,-1))):(a.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(d)),r&&this.cycle(),this}};var a=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=a,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var a,i=t(this),r=t(i.attr("data-target")||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var o=t.extend({},r.data(),i.data()),s=i.attr("data-slide-to");s&&(o.interval=!1),e.call(r,o),s&&r.data("bs.carousel").to(s),n.preventDefault()}}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.collapse"),r=t.extend({},n.DEFAULTS,a.data(),"object"==typeof e&&e);!i&&r.toggle&&"show"==e&&(e=!e),i||a.data("bs.collapse",i=new n(this,r)),"string"==typeof e&&i[e]()})}var n=function(e,a){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,a),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var a=this.$parent&&this.$parent.find("> .panel > .in");if(a&&a.length){var i=a.data("bs.collapse");if(i&&i.transitioning)return;e.call(a,"hide"),i||a.data("bs.collapse",null)}var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var s=t.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(350)[r](this.$element[0][s])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?(this.$element[n](0).one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(350),void 0):a.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var a=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=a,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var a,i=t(this),r=i.attr("data-target")||n.preventDefault()||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""),o=t(r),s=o.data("bs.collapse"),l=s?"toggle":i.data(),c=i.attr("data-parent"),u=c&&t(c);s&&s.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(i).addClass("collapsed"),i[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(o,l)})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(i).remove(),t(r).each(function(){var a=n(t(this)),i={relatedTarget:this};a.hasClass("open")&&(a.trigger(e=t.Event("hide.bs.dropdown",i)),e.isDefaultPrevented()||a.removeClass("open").trigger("hidden.bs.dropdown",i))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var a=n&&t(n);return a&&a.length?a:e.parent()}function a(e){return this.each(function(){var n=t(this),a=n.data("bs.dropdown");a||n.data("bs.dropdown",a=new o(this)),"string"==typeof e&&a[e].call(n)})}var i=".dropdown-backdrop",r='[data-toggle="dropdown"]',o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.VERSION="3.2.0",o.prototype.toggle=function(a){var i=t(this);if(!i.is(".disabled, :disabled")){var r=n(i),o=r.hasClass("open");if(e(),!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var s={relatedTarget:this};if(r.trigger(a=t.Event("show.bs.dropdown",s)),a.isDefaultPrevented())return;i.trigger("focus"),r.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},o.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var a=t(this);if(e.preventDefault(),e.stopPropagation(),!a.is(".disabled, :disabled")){var i=n(a),o=i.hasClass("open");if(!o||o&&27==e.keyCode)return 27==e.which&&i.find(r).trigger("focus"),a.trigger("click");var s=" li:not(.divider):visible a",l=i.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(l.filter(":focus"));38==e.keyCode&&c>0&&c--,40==e.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=a,t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,o.prototype.toggle).on("keydown.bs.dropdown.data-api",r+', [role="menu"], [role="listbox"]',o.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.tab");i||a.data("bs.tab",i=new n(this)),"string"==typeof e&&i[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.2.0",n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),a=e.data("target");if(a||(a=e.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],r=t.Event("show.bs.tab",{relatedTarget:i});if(e.trigger(r),!r.isDefaultPrevented()){var o=t(a);this.activate(e.closest("li"),n),this.activate(o,o.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},n.prototype.activate=function(e,n,a){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),a&&a()}var r=n.find("> .active"),o=a&&t.support.transition&&r.hasClass("fade");o?r.one("bsTransitionEnd",i).emulateTransitionEnd(150):i(),r.removeClass("in")};var a=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=a,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),e.call(t(this),"show")})}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,a=this;t(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||t(a).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(n,a){var i=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(n).is("body")?t(window):t(n),this.options=t.extend({},e.DEFAULTS,a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var a=t(this),i=a.data("bs.scrollspy"),r="object"==typeof n&&n;i||a.data("bs.scrollspy",i=new e(this,r)),"string"==typeof n&&i[n]()})}e.VERSION="3.2.0",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",n=0;t.isWindow(this.$scrollElement[0])||(e="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var a=this;this.$body.find(this.selector).map(function(){var a=t(this),i=a.data("target")||a.attr("href"),r=/^#./.test(i)&&t(i);return r&&r.length&&r.is(":visible")&&[[r[e]().top+n,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){a.offsets.push(this[0]),a.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),a=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,r=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=a)return o!=(t=r[r.length-1])&&this.activate(t);if(o&&e<=i[0])return o!=(t=r[0])&&this.activate(t);for(t=i.length;t--;)o!=r[t]&&e>=i[t]&&(!i[t+1]||e<=i[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',a=t(n).parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active")),a.trigger("activate.bs.scrollspy")};var a=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=a,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e,a){return this.each(function(){var i=t(this),r=i.data("bs.modal"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);r||i.data("bs.modal",r=new n(this,o)),"string"==typeof e?r[e](a):o.show&&r.show(a)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var n=this,a=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var a=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),a&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=t.Event("shown.bs.modal",{relatedTarget:e});a?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var n=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&a;if(this.$backdrop=t('<div class="modal-backdrop '+a+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(150):r()}else e&&e()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var a=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=a,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var a=t(this),i=a.attr("href"),r=t(a.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},r.data(),a.data());a.is("a")&&n.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){a.is(":visible")&&a.trigger("focus")})}),e.call(r,o,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.tooltip"),r="object"==typeof e&&e;(i||"destroy"!=e)&&(i||a.data("bs.tooltip",i=new n(this,r)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,a){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(a),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),r=i.length;r--;){var o=i[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,a){n[t]!=a&&(e[t]=a)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var a=this,i=this.tip(),r=this.getUID(this.type);this.setContent(),i.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&i.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,l=s.test(o);l&&(o=o.replace(s,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var c=this.getPosition(),u=i[0].offsetWidth,p=i[0].offsetHeight;if(l){var d=o,f=this.$element.parent(),h=this.getPosition(f);o="bottom"==o&&c.top+c.height+p-h.scroll>h.height?"top":"top"==o&&c.top-h.scroll-p<0?"bottom":"right"==o&&c.right+u>h.width?"left":"left"==o&&c.left-u<h.left?"right":o,i.removeClass(d).addClass(o)}var g=this.getCalculatedOffset(o,c,u,p);this.applyPlacement(g,o);var m=function(){a.$element.trigger("shown.bs."+a.type),a.hoverState=null};t.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",m).emulateTransitionEnd(150):m()}},n.prototype.applyPlacement=function(e,n){var a=this.tip(),i=a[0].offsetWidth,r=a[0].offsetHeight,o=parseInt(a.css("margin-top"),10),s=parseInt(a.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),e.top=e.top+o,e.left=e.left+s,t.offset.setOffset(a[0],t.extend({using:function(t){a.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),a.addClass("in");var l=a[0].offsetWidth,c=a[0].offsetHeight;"top"==n&&c!=r&&(e.top=e.top+r-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var p=u.left?2*u.left-i+l:2*u.top-r+c,d=u.left?"left":"top",f=u.left?"offsetWidth":"offsetHeight";a.offset(e),this.replaceArrow(p,a[0][f],d)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function e(){"in"!=n.hoverState&&a.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,a=this.tip(),i=t.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(a.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],a="BODY"==n.tagName;return t.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:a?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:a?t(window).width():e.outerWidth(),height:a?t(window).height():e.outerHeight()},a?{top:0,left:0}:e.offset())},n.prototype.getCalculatedOffset=function(t,e,n,a){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-a,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-a/2,left:e.left-n}:{top:e.top+e.height/2-a/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,a){var i={top:0,left:0};if(!this.$viewport)return i;var r=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-r-o.scroll,l=e.top+r-o.scroll+a;s<o.top?i.top=o.top-s:l>o.top+o.height&&(i.top=o.top+o.height-l)}else{var c=e.left-r,u=e.left+r+n;c<o.left?i.left=o.left-c:u>o.width&&(i.left=o.left+o.width-u)}return i},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var a=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=a,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.popover"),r="object"==typeof e&&e;(i||"destroy"!=e)&&(i||a.data("bs.popover",i=new n(this,r)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var a=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=a,this}}(jQuery),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(t){return{link:function(e,n,a){function i(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),t.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(r)}function r(){n.removeClass("collapsing"),n.css({height:"auto"})}function o(){return n.hasClass("collapse")||n.hasClass("in")?(n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),t.removeClass(n,"in",{to:{height:"0"}}).then(s),void 0):s()}function s(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}e.$watch(a.collapse,function(t){t?o():i()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(a){var i=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(t){t!==a&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,a){a.addGroup(t),t.$watch("isOpen",function(e){e&&a.closeOthers(t)}),t.toggleOpen=function(){t.isDisabled||(t.isOpen=!t.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(t,e,n,a,i){a.setHeading(i(t,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,a){t.$watch(function(){return a[n.accordionTransclude]},function(t){t&&(e.html(""),e.append(t))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable=!!e.close,this.close=t.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(t){return{require:"alert",link:function(e,n,a,i){t(function(){i.close()},parseInt(a.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(t,e){return function(n,a,i){e||t.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),a.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe),n.$watch(i.bindHtmlUnsafe,function(t){a.html(t||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(t,e,n,a){var i=a[0],r=a[1];r.$render=function(){e.toggleClass(i.activeClass,angular.equals(r.$modelValue,t.$eval(n.btnRadio)))},e.bind(i.toggleEvent,function(){var a=e.hasClass(i.activeClass);(!a||angular.isDefined(n.uncheckable))&&t.$apply(function(){r.$setViewValue(a?null:t.$eval(n.btnRadio)),r.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(t,e,n,a){function i(){return o(n.btnCheckboxTrue,!0)}function r(){return o(n.btnCheckboxFalse,!1)}function o(e,n){var a=t.$eval(e);return angular.isDefined(a)?a:n}var s=a[0],l=a[1];l.$render=function(){e.toggleClass(s.activeClass,angular.equals(l.$modelValue,i()))},e.bind(s.toggleEvent,function(){t.$apply(function(){l.$setViewValue(e.hasClass(s.activeClass)?r():i()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(t,e,n,a){function i(e,n,i){m||(angular.extend(e,{direction:i,active:!0}),angular.extend(p.currentSlide||{},{direction:i,active:!1}),a.enabled()&&!t.noTransition&&!t.$currentTransition&&e.$element&&(e.$element.data(h,e.direction),t.$currentTransition=!0,e.$element.one("$animate:close",function(){t.$currentTransition=null})),p.currentSlide=e,g=n,o())}function r(t){if(angular.isUndefined(d[t].index))return d[t];{var e;d.length}for(e=0;e<d.length;++e)if(d[e].index==t)return d[e]}function o(){s();var e=+t.interval;!isNaN(e)&&e>0&&(c=n(l,e))
}function s(){c&&(n.cancel(c),c=null)}function l(){var e=+t.interval;u&&!isNaN(e)&&e>0&&d.length?t.next():t.pause()}var c,u,p=this,d=p.slides=t.slides=[],f="uib-noTransition",h="uib-slideDirection",g=-1;p.currentSlide=null;var m=!1;p.select=t.select=function(e,n){var a=p.indexOfSlide(e);void 0===n&&(n=a>p.getCurrentIndex()?"next":"prev"),e&&e!==p.currentSlide&&!t.$currentTransition&&i(e,a,n)},t.$on("$destroy",function(){m=!0}),p.getCurrentIndex=function(){return p.currentSlide&&angular.isDefined(p.currentSlide.index)?+p.currentSlide.index:g},p.indexOfSlide=function(t){return angular.isDefined(t.index)?+t.index:d.indexOf(t)},t.next=function(){var e=(p.getCurrentIndex()+1)%d.length;return 0===e&&t.noWrap()?(t.pause(),void 0):p.select(r(e),"next")},t.prev=function(){var e=p.getCurrentIndex()-1<0?d.length-1:p.getCurrentIndex()-1;return t.noWrap()&&e===d.length-1?(t.pause(),void 0):p.select(r(e),"prev")},t.isActive=function(t){return p.currentSlide===t},t.$watch("interval",o),t.$on("$destroy",s),t.play=function(){u||(u=!0,o())},t.pause=function(){t.noPause||(u=!1,s())},p.addSlide=function(e,n){e.$element=n,d.push(e),1===d.length||e.active?(p.select(d[d.length-1]),1==d.length&&t.play()):e.active=!1},p.removeSlide=function(t){angular.isDefined(t.index)&&d.sort(function(t,e){return+t.index>+e.index});var e=d.indexOf(t);d.splice(e,1),d.length>0&&t.active?e>=d.length?p.select(d[e-1]):p.select(d[e]):g>e&&g--},t.$watch("noTransition",function(t){e.data(f,t)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(t,e,n,a){a.addSlide(t,e),t.$on("$destroy",function(){a.removeSlide(t)}),t.$watch("active",function(e){e&&a.select(t)})}}}).animation(".item",["$animate",function(t){var e="uib-noTransition",n="uib-slideDirection";return{beforeAddClass:function(a,i,r){if("active"==i&&a.parent()&&!a.parent().data(e)){var o=!1,s=a.data(n),l="next"==s?"left":"right";return a.addClass(s),t.addClass(a,l).then(function(){o||a.removeClass(l+" "+s),r()}),function(){o=!0}}r()},beforeRemoveClass:function(a,i,r){if("active"==i&&a.parent()&&!a.parent().data(e)){var o=!1,s=a.data(n),l="next"==s?"left":"right";return t.addClass(a,l).then(function(){o||a.removeClass(l),r()}),function(){o=!0}}r()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(t,e){function n(t){var n=[],a=t.split("");return angular.forEach(r,function(e,i){var r=t.indexOf(i);if(r>-1){t=t.split(""),a[r]="("+e.regex+")",t[r]="$";for(var o=r+1,s=r+i.length;s>o;o++)a[o]="",t[o]="$";t=t.join(""),n.push({index:r,apply:e.apply})}}),{regex:new RegExp("^"+a.join("")+"$"),map:e(n,"index")}}function a(t,e,n){return 1>n?!1:1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3===e||5===e||8===e||10===e?31>n:!0}var i=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var r={yyyy:{regex:"\\d{4}",apply:function(t){this.year=+t}},yy:{regex:"\\d{2}",apply:function(t){this.year=+t+2e3}},y:{regex:"\\d{1,4}",apply:function(t){this.year=+t}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1}},M:{regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t}},H:{regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t}},mm:{regex:"[0-5][0-9]",apply:function(t){this.minutes=+t}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t}},sss:{regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t}},ss:{regex:"[0-5][0-9]",apply:function(t){this.seconds=+t}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t}}};this.parse=function(e,r,o){if(!angular.isString(e)||!r)return e;r=t.DATETIME_FORMATS[r]||r,r=r.replace(i,"\\$&"),this.parsers[r]||(this.parsers[r]=n(r));var s=this.parsers[r],l=s.regex,c=s.map,u=e.match(l);if(u&&u.length){var p,d;p=o?{year:o.getFullYear(),month:o.getMonth(),date:o.getDate(),hours:o.getHours(),minutes:o.getMinutes(),seconds:o.getSeconds(),milliseconds:o.getMilliseconds()}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};for(var f=1,h=u.length;h>f;f++){var g=c[f-1];g.apply&&g.apply.call(p,u[f])}return a(p.year,p.month,p.date)&&(d=new Date(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0)),d}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function n(t,n){return t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n]}function a(t){return"static"===(n(t,"position")||"static")}var i=function(e){for(var n=t[0],i=e.offsetParent||n;i&&i!==n&&a(i);)i=i.offsetParent;return i||n};return{position:function(e){var n=this.offset(e),a={top:0,left:0},r=i(e[0]);r!=t[0]&&(a=this.offset(angular.element(r)),a.top+=r.clientTop-r.scrollTop,a.left+=r.clientLeft-r.scrollLeft);var o=e[0].getBoundingClientRect();return{width:o.width||e.prop("offsetWidth"),height:o.height||e.prop("offsetHeight"),top:n.top-a.top,left:n.left-a.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:a.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,n,a){var i,r,o,s,l=n.split("-"),c=l[0],u=l[1]||"center";i=a?this.offset(t):this.position(t),r=e.prop("offsetWidth"),o=e.prop("offsetHeight");var p={center:function(){return i.left+i.width/2-r/2},left:function(){return i.left},right:function(){return i.left+i.width}},d={center:function(){return i.top+i.height/2-o/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":s={top:d[u](),left:p[c]()};break;case"left":s={top:d[u](),left:i.left-r};break;case"bottom":s={top:d[c](),left:p[u]()};break;default:s={top:i.top-o,left:p[u]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig",function(t,e,n,a,i,r,o){var s=this,l={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,i){s[n]=angular.isDefined(e[n])?8>i?a(e[n])(t.$parent):t.$parent.$eval(e[n]):o[n]}),angular.forEach(["minDate","maxDate"],function(a){e[a]?t.$parent.$watch(n(e[a]),function(t){s[a]=t?new Date(t):null,s.refreshView()}):s[a]=o[a]?new Date(o[a]):null}),t.datepickerMode=t.datepickerMode||o.datepickerMode,t.maxMode=s.maxMode,t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(e.initDate)?(this.activeDate=t.$parent.$eval(e.initDate)||new Date,t.$parent.$watch(e.initDate,function(t){t&&(l.$isEmpty(l.$modelValue)||l.$invalid)&&(s.activeDate=t,s.refreshView())})):this.activeDate=new Date,t.isActive=function(e){return 0===s.compare(e.date,s.activeDate)?(t.activeDateId=e.uid,!0):!1},this.init=function(t){l=t,l.$render=function(){s.render()}},this.render=function(){if(l.$viewValue){var t=new Date(l.$viewValue),e=!isNaN(t);e?this.activeDate=t:i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),l.$setValidity("date",e)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var t=l.$viewValue?new Date(l.$viewValue):null;l.$setValidity("date-disabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=l.$viewValue?new Date(l.$viewValue):null;return{date:t,label:r(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),current:0===this.compare(t,new Date),customClass:this.customClass(t)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||e.dateDisabled&&t.dateDisabled({date:n,mode:t.datepickerMode})},this.customClass=function(e){return t.customClass({date:e,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},this.fixTimeZone=function(t){var e=t.getHours();t.setHours(23===e?e+2:0)},t.select=function(e){if(t.datepickerMode===s.minMode){var n=l.$viewValue?new Date(l.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),l.$setViewValue(n),l.$render()}else s.activeDate=e,t.datepickerMode=s.modes[s.modes.indexOf(t.datepickerMode)-1]},t.move=function(t){var e=s.activeDate.getFullYear()+t*(s.step.years||0),n=s.activeDate.getMonth()+t*(s.step.months||0);s.activeDate.setFullYear(e,n,1),s.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===s.maxMode&&1===e||t.datepickerMode===s.minMode&&-1===e||(t.datepickerMode=s.modes[s.modes.indexOf(t.datepickerMode)+e])},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){s.element[0].focus()};t.$on("datepicker.focus",c),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),s.shortcutPropagation||e.stopPropagation(),"enter"===n||"space"===n){if(s.isDisabled(s.activeDate))return;t.select(s.activeDate),c()}else!e.ctrlKey||"up"!==n&&"down"!==n?(s.handleKeyDown(n,e),s.refreshView()):(t.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(t,e,n,a){var i=a[0],r=a[1];r&&i.init(r)}}}).directive("daypicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(e,n,a,i){function r(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?l[e]:29}function o(t,e){for(var n,a=new Array(e),r=new Date(t),o=0;e>o;)n=new Date(r),i.fixTimeZone(n),a[o++]=n,r.setDate(r.getDate()+1);return a}function s(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}e.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),a=i.activeDate.getMonth(),r=new Date(n,a,1),l=i.startingDay-r.getDay(),c=l>0?7-l:-l,u=new Date(r);c>0&&u.setDate(-c+1);for(var p=o(u,42),d=0;42>d;d++)p[d]=angular.extend(i.createDateObject(p[d],i.formatDay),{secondary:p[d].getMonth()!==a,uid:e.uniqueId+"-"+d});e.labels=new Array(7);for(var f=0;7>f;f++)e.labels[f]={abbr:t(p[f].date,i.formatDayHeader),full:t(p[f].date,"EEEE")};if(e.title=t(i.activeDate,i.formatDayTitle),e.rows=i.split(p,7),e.showWeeks){e.weekNumbers=[];for(var h=(11-i.startingDay)%7,g=e.rows.length,m=0;g>m;m++)e.weekNumbers.push(s(e.rows[m][h].date))}},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},i.handleKeyDown=function(t){var e=i.activeDate.getDate();if("left"===t)e-=1;else if("up"===t)e-=7;else if("right"===t)e+=1;else if("down"===t)e+=7;else if("pageup"===t||"pagedown"===t){var n=i.activeDate.getMonth()+("pageup"===t?-1:1);i.activeDate.setMonth(n,1),e=Math.min(r(i.activeDate.getFullYear(),i.activeDate.getMonth()),e)}else"home"===t?e=1:"end"===t&&(e=r(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(e)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(e,n,a,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n,a=new Array(12),r=i.activeDate.getFullYear(),o=0;12>o;o++)n=new Date(r,o,1),i.fixTimeZone(n),a[o]=angular.extend(i.createDateObject(n,i.formatMonth),{uid:e.uniqueId+"-"+o});e.title=t(i.activeDate,i.formatMonthTitle),e.rows=i.split(a,3)},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},i.handleKeyDown=function(t){var e=i.activeDate.getMonth();if("left"===t)e-=1;else if("up"===t)e-=3;else if("right"===t)e+=1;else if("down"===t)e+=3;else if("pageup"===t||"pagedown"===t){var n=i.activeDate.getFullYear()+("pageup"===t?-1:1);i.activeDate.setFullYear(n)}else"home"===t?e=0:"end"===t&&(e=11);i.activeDate.setMonth(e)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(t,e,n,a){function i(t){return parseInt((t-1)/r,10)*r+1}var r=a.yearRange;a.step={years:r},a.element=e,a._refreshView=function(){for(var e,n=new Array(r),o=0,s=i(a.activeDate.getFullYear());r>o;o++)e=new Date(s+o,0,1),a.fixTimeZone(e),n[o]=angular.extend(a.createDateObject(e,a.formatYear),{uid:t.uniqueId+"-"+o});t.title=[n[0].label,n[r-1].label].join(" - "),t.rows=a.split(n,5)},a.compare=function(t,e){return t.getFullYear()-e.getFullYear()},a.handleKeyDown=function(t){var e=a.activeDate.getFullYear();"left"===t?e-=1:"up"===t?e-=5:"right"===t?e+=1:"down"===t?e+=5:"pageup"===t||"pagedown"===t?e+=("pageup"===t?-1:1)*a.step.years:"home"===t?e=i(a.activeDate.getFullYear()):"end"===t&&(e=i(a.activeDate.getFullYear())+r-1),a.activeDate.setFullYear(e)},a.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(t,e,n,a,i,r,o,s){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(l,c,u,p){function d(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function f(t){if(angular.isNumber(t)&&(t=new Date(t)),t){if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=r.parse(t,g,l.date)||new Date(t);return isNaN(e)?void 0:e}return void 0}return null}function h(t,e){var n=t||e;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var a=r.parse(n,g)||new Date(n);return!isNaN(a)}return!1}return!0}var g,m=angular.isDefined(u.closeOnDateSelection)?l.$parent.$eval(u.closeOnDateSelection):o.closeOnDateSelection,v=angular.isDefined(u.datepickerAppendToBody)?l.$parent.$eval(u.datepickerAppendToBody):o.appendToBody;l.showButtonBar=angular.isDefined(u.showButtonBar)?l.$parent.$eval(u.showButtonBar):o.showButtonBar,l.getText=function(t){return l[t+"Text"]||o[t+"Text"]};var b=!1;if(o.html5Types[u.type]?(g=o.html5Types[u.type],b=!0):(g=u.datepickerPopup||o.datepickerPopup,u.$observe("datepickerPopup",function(t){var e=t||o.datepickerPopup;if(e!==g&&(g=e,p.$modelValue=null,!g))throw new Error("datepickerPopup must have a date format specified.")})),!g)throw new Error("datepickerPopup must have a date format specified.");if(b&&u.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var y=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");y.attr({"ng-model":"date","ng-change":"dateSelection(date)"});var $=angular.element(y.children()[0]);if(b&&"month"==u.type&&($.attr("datepicker-mode",'"month"'),$.attr("min-mode","month")),u.datepickerOptions){var w=l.$parent.$eval(u.datepickerOptions);w.initDate&&(l.initDate=w.initDate,$.attr("init-date","initDate"),delete w.initDate),angular.forEach(w,function(t,e){$.attr(d(e),t)})}l.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(t){if(u[t]){var n=e(u[t]);if(l.$parent.$watch(n,function(e){l.watchData[t]=e}),$.attr(d(t),"watchData."+t),"datepickerMode"===t){var a=n.assign;l.$watch("watchData."+t,function(t,e){angular.isFunction(a)&&t!==e&&a(l.$parent,t)})}}}),u.dateDisabled&&$.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),u.showWeeks&&$.attr("show-weeks",u.showWeeks),u.customClass&&$.attr("custom-class","customClass({ date: date, mode: mode })"),b?p.$formatters.push(function(t){return l.date=t,t}):(p.$$parserName="date",p.$validators.date=h,p.$parsers.unshift(f),p.$formatters.push(function(t){return l.date=t,p.$isEmpty(t)?t:i(t,g)})),l.dateSelection=function(t){angular.isDefined(t)&&(l.date=t);var e=l.date?i(l.date,g):"";c.val(e),p.$setViewValue(e),m&&(l.isOpen=!1,c[0].focus())},p.$viewChangeListeners.push(function(){l.date=r.parse(p.$viewValue,g,l.date)||new Date(p.$viewValue)});var x=function(t){l.isOpen&&t.target!==c[0]&&l.$apply(function(){l.isOpen=!1})},k=function(t){27===t.which&&l.isOpen?(t.preventDefault(),t.stopPropagation(),l.$apply(function(){l.isOpen=!1}),c[0].focus()):40!==t.which||l.isOpen||(t.preventDefault(),t.stopPropagation(),l.$apply(function(){l.isOpen=!0}))};c.bind("keydown",k),l.keydown=function(t){27===t.which&&(l.isOpen=!1,c[0].focus())},l.$watch("isOpen",function(t){t?(l.position=v?a.offset(c):a.position(c),l.position.top=l.position.top+c.prop("offsetHeight"),n.bind("click",x),s(function(){l.$broadcast("datepicker.focus")},0,!1)):n.unbind("click",x)}),l.select=function(t){if("today"===t){var e=new Date;angular.isDate(l.date)?(t=new Date(l.date),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate())):t=new Date(e.setHours(0,0,0,0))}l.dateSelection(t)},l.close=function(){l.isOpen=!1,c[0].focus()};var C=t(y)(l);y.remove(),v?n.find("body").append(C):c.after(C),l.$on("$destroy",function(){l.isOpen===!0&&l.$apply(function(){l.isOpen=!1}),C.remove(),c.unbind("keydown",k),n.unbind("click",x)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html"}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(t,e){var n=null;this.open=function(e){n||(t.bind("click",a),t.bind("keydown",i)),n&&n!==e&&(n.isOpen=!1),n=e},this.close=function(e){n===e&&(n=null,t.unbind("click",a),t.unbind("keydown",i))};var a=function(t){if(n&&(!t||"disabled"!==n.getAutoClose())){var a=n.getToggleElement();if(!(t&&a&&a[0].contains(t.target))){var i=n.getDropdownElement();t&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(t.target)||(n.isOpen=!1,e.$$phase||n.$apply())}}},i=function(t){27===t.which?(n.focusToggleElement(),a()):n.isKeynavEnabled()&&/(38|40)/.test(t.which)&&n.isOpen&&(t.preventDefault(),t.stopPropagation(),n.focusDropdownEntry(t.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(t,e,n,a,i,r,o,s,l,c){var u,p,d=this,f=t.$new(),h=a.openClass,g=angular.noop,m=e.onToggle?n(e.onToggle):angular.noop,v=!1,b=!1;this.init=function(a){d.$element=a,e.isOpen&&(p=n(e.isOpen),g=p.assign,t.$watch(p,function(t){f.isOpen=!!t})),v=angular.isDefined(e.dropdownAppendToBody),b=angular.isDefined(e.keyboardNav),v&&d.dropdownMenu&&(s.find("body").append(d.dropdownMenu),a.on("$destroy",function(){d.dropdownMenu.remove()}))},this.toggle=function(t){return f.isOpen=arguments.length?!!t:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return d.toggleElement},f.getAutoClose=function(){return e.autoClose||"always"},f.getElement=function(){return d.$element},f.isKeynavEnabled=function(){return b},f.focusDropdownEntry=function(t){var e=d.dropdownMenu?angular.element(d.dropdownMenu).find("a"):angular.element(d.$element).find("ul").eq(0).find("a");switch(t){case 40:d.selectedOption=angular.isNumber(d.selectedOption)?d.selectedOption===e.length-1?d.selectedOption:d.selectedOption+1:0;break;case 38:if(!angular.isNumber(d.selectedOption))return;d.selectedOption=0===d.selectedOption?0:d.selectedOption-1}e[d.selectedOption].focus()},f.getDropdownElement=function(){return d.dropdownMenu},f.focusToggleElement=function(){d.toggleElement&&d.toggleElement[0].focus()},f.$watch("isOpen",function(e,n){if(v&&d.dropdownMenu){var a=o.positionElements(d.$element,d.dropdownMenu,"bottom-left",!0),s={top:a.top+"px",display:e?"block":"none"},p=d.dropdownMenu.hasClass("dropdown-menu-right");p?(s.left="auto",s.right=window.innerWidth-(a.left+d.$element.prop("offsetWidth"))+"px"):(s.left=a.left+"px",s.right="auto"),d.dropdownMenu.css(s)}if(r[e?"addClass":"removeClass"](d.$element,h).then(function(){angular.isDefined(e)&&e!==n&&m(t,{open:!!e})}),e)d.dropdownMenuTemplateUrl&&c(d.dropdownMenuTemplateUrl).then(function(t){u=f.$new(),l(t.trim())(u,function(t){var e=t;d.dropdownMenu.replaceWith(e),d.dropdownMenu=e})}),f.focusToggleElement(),i.open(f);else{if(d.dropdownMenuTemplateUrl){u&&u.$destroy();var b=angular.element('<ul class="dropdown-menu"></ul>');d.dropdownMenu.replaceWith(b),d.dropdownMenu=b}i.close(f),d.selectedOption=null}g(t,e)}),t.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)}),t.$on("$destroy",function(){f.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(t,e,n,a){a.init(e),e.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(t,e,n,a){if(a){var i=n.templateUrl;i&&(a.dropdownMenuTemplateUrl=i),a.dropdownMenu||(a.dropdownMenu=e)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(t,e,n,a){e.bind("keydown",function(t){if(-1!==[38,40].indexOf(t.which)){t.preventDefault(),t.stopPropagation();var n=angular.element(e).find("a");switch(t.keyCode){case 40:a.selectedOption=angular.isNumber(a.selectedOption)?a.selectedOption===n.length-1?a.selectedOption:a.selectedOption+1:0;break;case 38:a.selectedOption=0===a.selectedOption?0:a.selectedOption-1}n[a.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(t,e,n,a){if(a){e.addClass("dropdown-toggle"),a.toggleElement=e;var i=function(i){i.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){a.toggle()})};e.bind("click",i),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(a.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e==t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,a=0;a<t.length;a++)if(e==t[a].key){n=a;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}).directive("modalBackdrop",["$animate","$modalStack",function(t,e){function n(n,a,i){i.modalInClass&&(t.addClass(a,i.modalInClass),n.$on(e.NOW_CLOSING_EVENT,function(e,n){var r=n();t.removeClass(a,i.modalInClass).then(r)}))}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(t,e){return t.addClass(e.backdropClass),n}}}]).directive("modalWindow",["$modalStack","$q","$animate",function(t,e,n){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/modal/window.html"},link:function(a,i,r){i.addClass(r.windowClass||""),a.size=r.size,a.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))},a.$isRendered=!0;var o=e.defer();r.$observe("modalRender",function(t){"true"==t&&o.resolve()}),o.promise.then(function(){r.modalInClass&&(n.addClass(i,r.modalInClass),a.$on(t.NOW_CLOSING_EVENT,function(t,e){var a=e();n.removeClass(i,r.modalInClass).then(a)}));var e=i[0].querySelectorAll("[autofocus]");e.length?e[0].focus():i[0].focus();var o=t.getTop();o&&t.modalRendered(o.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(t,e,n,a,i){i(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$$stackedMap",function(t,e,n,a,i,r,o){function s(){for(var t=-1,e=g.keys(),n=0;n<e.length;n++)g.get(e[n]).value.backdrop&&(t=n);return t}function l(t,e){var a=n.find("body").eq(0),i=g.get(t).value;g.remove(t),u(i.modalDomEl,i.modalScope,function(){a.toggleClass(h,g.length()>0),c()}),e&&e.focus?e.focus():a.focus()}function c(){if(d&&-1==s()){var t=f;u(d,f,function(){t=null}),d=void 0,f=void 0}}function u(t,e,n){function a(){a.done||(a.done=!0,t.remove(),e.$destroy(),n&&n())}var i,o=null,s=function(){return i||(i=r.defer(),o=i.promise),function(){i.resolve()}};return e.$broadcast(m.NOW_CLOSING_EVENT,s),r.when(o).then(a)}function p(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}var d,f,h="modal-open",g=o.createNew(),m={NOW_CLOSING_EVENT:"modal.stack.now-closing"};return i.$watch(s,function(t){f&&(f.index=t)}),n.bind("keydown",function(t){var e;27===t.which&&(e=g.top(),e&&e.value.keyboard&&(t.preventDefault(),i.$apply(function(){m.dismiss(e.key,"escape key press")})))}),m.open=function(t,e){var r=n[0].activeElement;g.add(t,{deferred:e.deferred,renderDeferred:e.renderDeferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var o=n.find("body").eq(0),l=s();if(l>=0&&!d){f=i.$new(!0),f.index=l;var c=angular.element('<div modal-backdrop="modal-backdrop"></div>');c.attr("backdrop-class",e.backdropClass),e.animation&&c.attr("modal-animation","true"),d=a(c)(f),o.append(d)}var u=angular.element('<div modal-window="modal-window"></div>');u.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:g.length()-1,animate:"animate"}).html(e.content),e.animation&&u.attr("modal-animation","true");var p=a(u)(e.scope);g.top().value.modalDomEl=p,g.top().value.modalOpener=r,o.append(p),o.addClass(h)},m.close=function(t,e){var n=g.get(t);return n&&p(n,e,!0)?(n.value.deferred.resolve(e),l(t,n.value.modalOpener),!0):!n},m.dismiss=function(t,e){var n=g.get(t);return n&&p(n,e,!1)?(n.value.deferred.reject(e),l(t,n.value.modalOpener),!0):!n},m.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},m.getTop=function(){return g.top()},m.modalRendered=function(t){var e=g.get(t);e&&e.value.renderDeferred.resolve()},m}]).provider("$modal",function(){var t={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(e,n,a,i,r,o){function s(t){return t.template?a.when(t.template):i(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl)}function l(t){var n=[];return angular.forEach(t,function(t){(angular.isFunction(t)||angular.isArray(t))&&n.push(a.when(e.invoke(t)))}),n}var c={};return c.open=function(e){var i=a.defer(),c=a.defer(),u=a.defer(),p={result:i.promise,opened:c.promise,rendered:u.promise,close:function(t){return o.close(p,t)},dismiss:function(t){return o.dismiss(p,t)}};if(e=angular.extend({},t.options,e),e.resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var d=a.all([s(e)].concat(l(e.resolve)));return d.then(function(t){var a=(e.scope||n).$new();a.$close=p.close,a.$dismiss=p.dismiss;var s,l={},c=1;e.controller&&(l.$scope=a,l.$modalInstance=p,angular.forEach(e.resolve,function(e,n){l[n]=t[c++]}),s=r(e.controller,l),e.controllerAs&&(e.bindToController?angular.extend(a,s):a[e.controllerAs]=s)),o.open(p,{scope:a,deferred:i,renderDeferred:u,content:t[0],animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size})},function(t){i.reject(t)}),d.then(function(){c.resolve(!0)},function(t){c.reject(t)}),p},c}]};return t}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(t,e,n){var a=this,i={$setViewValue:angular.noop},r=e.numPages?n(e.numPages).assign:angular.noop;this.init=function(o,s){i=o,this.config=s,i.$render=function(){a.render()},e.itemsPerPage?t.$parent.$watch(n(e.itemsPerPage),function(e){a.itemsPerPage=parseInt(e,10),t.totalPages=a.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,t.$watch("totalItems",function(){t.totalPages=a.calculateTotalPages()}),t.$watch("totalPages",function(e){r(t.$parent,e),t.page>e?t.selectPage(e):i.$render()})},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){t.page=parseInt(i.$viewValue,10)||1},t.selectPage=function(e,n){var a=!t.ngDisabled||!n;a&&t.page!==e&&e>0&&e<=t.totalPages&&(n&&n.target&&n.target.blur(),i.$setViewValue(e),i.$render())},t.getText=function(e){return t[e+"Text"]||a.config[e+"Text"]},t.noPrevious=function(){return 1===t.page},t.noNext=function(){return t.page===t.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,a,i,r){function o(t,e,n){return{number:t,text:e,active:n}}function s(t,e){var n=[],a=1,i=e,r=angular.isDefined(u)&&e>u;r&&(p?(a=Math.max(t-Math.floor(u/2),1),i=a+u-1,i>e&&(i=e,a=i-u+1)):(a=(Math.ceil(t/u)-1)*u+1,i=Math.min(a+u-1,e)));for(var s=a;i>=s;s++){var l=o(s,s,s===t);n.push(l)}if(r&&!p){if(a>1){var c=o(a-1,"...",!1);n.unshift(c)}if(e>i){var d=o(i+1,"...",!1);n.push(d)}}return n}var l=r[0],c=r[1];if(c){var u=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):e.maxSize,p=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):e.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):e.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):e.directionLinks,l.init(c,e),i.maxSize&&n.$parent.$watch(t(i.maxSize),function(t){u=parseInt(t,10),l.render()});var d=l.render;l.render=function(){d(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))
}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,n,a,i){var r=i[0],o=i[1];o&&(e.align=angular.isDefined(a.align)?e.$parent.$eval(a.align):t.align,r.init(o,t))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur"},a={};this.options=function(t){angular.extend(a,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(i,r,o,s,l,c){return function(i,u,p,d){function f(t){var e=t||d.trigger||p,a=n[e]||e;return{show:e,hide:a}}d=angular.extend({},e,a,d);var h=t(i),g=c.startSymbol(),m=c.endSymbol(),v="<div "+h+'-popup title="'+g+"title"+m+'" '+(d.useContentExp?'content-exp="contentExp()" ':'content="'+g+"content"+m+'" ')+'placement="'+g+"placement"+m+'" popup-class="'+g+"popupClass"+m+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var t=r(v);return function(e,n,a){function r(){M.isOpen?p():c()}function c(){(!O||e.$eval(a[u+"Enable"]))&&(b(),M.popupDelay?D||(D=o(h,M.popupDelay,!1),D.then(function(t){t()})):h()())}function p(){e.$apply(function(){g()})}function h(){return D=null,T&&(o.cancel(T),T=null),(d.useContentExp?M.contentExp():M.content)?(m(),k.css({top:0,left:0,display:"block"}),M.$digest(),P(),M.isOpen=!0,M.$apply(),P):angular.noop}function g(){M.isOpen=!1,o.cancel(D),D=null,M.animation?T||(T=o(v,500)):v()}function m(){k&&v(),C=M.$new(),k=t(C,function(t){E?s.find("body").append(t):n.after(t)}),C.$watch(function(){o(P,0,!1)}),d.useContentExp&&C.$watch("contentExp()",function(t){!t&&M.isOpen&&g()})}function v(){T=null,k&&(k.remove(),k=null),C&&(C.$destroy(),C=null)}function b(){y(),$(),w()}function y(){M.popupClass=a[u+"Class"]}function $(){var t=a[u+"Placement"];M.placement=angular.isDefined(t)?t:d.placement}function w(){var t=a[u+"PopupDelay"],e=parseInt(t,10);M.popupDelay=isNaN(e)?d.popupDelay:e}function x(){var t=a[u+"Trigger"];A(),S=f(t),S.show===S.hide?n.bind(S.show,r):(n.bind(S.show,c),n.bind(S.hide,p))}var k,C,T,D,E=angular.isDefined(d.appendToBody)?d.appendToBody:!1,S=f(void 0),O=angular.isDefined(a[u+"Enable"]),M=e.$new(!0),P=function(){if(k){var t=l.positionElements(n,k,M.placement,E);t.top+="px",t.left+="px",k.css(t)}};M.origScope=e,M.isOpen=!1,M.contentExp=function(){return e.$eval(a[i])},d.useContentExp||a.$observe(i,function(t){M.content=t,!t&&M.isOpen&&g()}),a.$observe("disabled",function(t){t&&M.isOpen&&g()}),a.$observe(u+"Title",function(t){M.title=t});var A=function(){n.unbind(S.show,c),n.unbind(S.hide,p)};x();var I=e.$eval(a[u+"Animation"]);M.animation=angular.isDefined(I)?!!I:d.animation;var L=e.$eval(a[u+"AppendToBody"]);E=angular.isDefined(L)?L:E,E&&e.$on("$locationChangeSuccess",function(){M.isOpen&&g()}),e.$on("$destroy",function(){o.cancel(T),o.cancel(D),A(),v(),M=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(t,e,n,a){return{link:function(i,r,o){var s,l,c,u=i.$eval(o.tooltipTemplateTranscludeScope),p=0,d=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(t.leave(c).then(function(){l=null}),l=c,c=null)};i.$watch(e.parseAsResourceUrl(o.tooltipTemplateTransclude),function(e){var o=++p;e?(a(e,!0).then(function(a){if(o===p){var i=u.$new(),l=a,f=n(l)(i,function(e){d(),t.enter(e,r)});s=i,c=f,s.$emit("$includeContentLoaded",e)}},function(){o===p&&(d(),i.$emit("$includeContentError",e))}),i.$emit("$includeContentRequested",e)):d()}),i.$on("$destroy",d)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(t,e,n){t.placement&&e.addClass(t.placement),t.popupClass&&e.addClass(t.popupClass),t.animation()&&e.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(t){return t("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(t){return t("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(t,e,n){return e||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(t){return t("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(t,e,n){var a=this,i=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=angular.isDefined(t.max)?t.max:n.max,this.addBar=function(e,n){i||n.css({transition:"none"}),this.bars.push(e),e.max=t.max,e.$watch("value",function(){e.recalculatePercentage()}),e.recalculatePercentage=function(){e.percent=+(100*e.value/e.max).toFixed(2)},e.$on("$destroy",function(){n=null,a.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1)},t.$watch("max",function(){a.bars.forEach(function(e){e.max=t.max,e.recalculatePercentage()})})}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,a){a.addBar(t,e)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,a){a.addBar(t,angular.element(e.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(t,e,n){var a={$setViewValue:angular.noop};this.init=function(i){a=i,a.$render=this.render,a.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff;var r=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff},t[e]);return t},t.rate=function(e){!t.readonly&&e>=0&&e<=t.range.length&&(a.$setViewValue(a.$viewValue===e?0:e),a.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=a.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=a.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(t,e,n,a){var i=a[0],r=a[1];i.init(r)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var e=this,n=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(n,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect())}),t.active=!0,t.onSelect()},e.addTab=function(t){n.push(t),1===n.length&&t.active!==!1?t.active=!0:t.active?e.select(t):t.active=!1},e.removeTab=function(t){var i=n.indexOf(t);if(t.active&&n.length>1&&!a){var r=i==n.length-1?i-1:i+1;e.select(n[r])}n.splice(i,1)};var a;t.$on("$destroy",function(){a=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=angular.isDefined(n.vertical)?t.$parent.$eval(n.vertical):!1,t.justified=angular.isDefined(n.justified)?t.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse","$log",function(t,e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(n,a,i){return function(n,a,r,o){n.$watch("active",function(t){t&&o.select(n)}),n.disabled=!1,r.disable&&n.$parent.$watch(t(r.disable),function(t){n.disabled=!!t}),r.disabled&&(e.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(t(r.disabled),function(t){n.disabled=!!t})),n.select=function(){n.disabled||(n.active=!0)},o.addTab(n),n.$on("$destroy",function(){o.removeTab(n)}),n.$transcludeFn=i}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(e,n,a){var i=e.$eval(a.tabContentTransclude);i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){t(e)?i.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(t,e,n,a,i,r){function o(){var e=parseInt(t.hours,10),n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n?(t.showMeridian&&(12===e&&(e=0),t.meridian===g[1]&&(e+=12)),e):void 0}function s(){var e=parseInt(t.minutes,10);return e>=0&&60>e?e:void 0}function l(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t.toString()}function c(t){u(),h.$setViewValue(new Date(f)),p(t)}function u(){h.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1}function p(e){var n=f.getHours(),a=f.getMinutes();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:l(n),"m"!==e&&(t.minutes=l(a)),t.meridian=f.getHours()<12?g[0]:g[1]}function d(t){var e=new Date(f.getTime()+6e4*t);f.setHours(e.getHours(),e.getMinutes()),c()}var f=new Date,h={$setViewValue:angular.noop},g=angular.isDefined(e.meridians)?t.$parent.$eval(e.meridians):r.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,a){h=n,h.$render=this.render,h.$formatters.unshift(function(t){return t?new Date(t):null});var i=a.eq(0),o=a.eq(1),s=angular.isDefined(e.mousewheel)?t.$parent.$eval(e.mousewheel):r.mousewheel;s&&this.setupMousewheelEvents(i,o);var l=angular.isDefined(e.arrowkeys)?t.$parent.$eval(e.arrowkeys):r.arrowkeys;l&&this.setupArrowkeyEvents(i,o),t.readonlyInput=angular.isDefined(e.readonlyInput)?t.$parent.$eval(e.readonlyInput):r.readonlyInput,this.setupInputEvents(i,o)};var m=r.hourStep;e.hourStep&&t.$parent.$watch(n(e.hourStep),function(t){m=parseInt(t,10)});var v=r.minuteStep;e.minuteStep&&t.$parent.$watch(n(e.minuteStep),function(t){v=parseInt(t,10)}),t.showMeridian=r.showMeridian,e.showMeridian&&t.$parent.$watch(n(e.showMeridian),function(e){if(t.showMeridian=!!e,h.$error.time){var n=o(),a=s();angular.isDefined(n)&&angular.isDefined(a)&&(f.setHours(n),c())}else p()}),this.setupMousewheelEvents=function(e,n){var a=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){t.$apply(a(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.bind("mousewheel wheel",function(e){t.$apply(a(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,n){e.bind("keydown",function(e){38===e.which?(e.preventDefault(),t.incrementHours(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementHours(),t.$apply())}),n.bind("keydown",function(e){38===e.which?(e.preventDefault(),t.incrementMinutes(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementMinutes(),t.$apply())})},this.setupInputEvents=function(e,n){if(t.readonlyInput)return t.updateHours=angular.noop,t.updateMinutes=angular.noop,void 0;var a=function(e,n){h.$setViewValue(null),h.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(n)&&(t.invalidMinutes=n)};t.updateHours=function(){var t=o();angular.isDefined(t)?(f.setHours(t),c("h")):a(!0)},e.bind("blur",function(){!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=l(t.hours)})}),t.updateMinutes=function(){var t=s();angular.isDefined(t)?(f.setMinutes(t),c("m")):a(void 0,!0)},n.bind("blur",function(){!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=l(t.minutes)})})},this.render=function(){var t=h.$viewValue;isNaN(t)?(h.$setValidity("time",!1),a.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(f=t),u(),p())},t.showSpinners=angular.isDefined(e.showSpinners)?t.$parent.$eval(e.showSpinners):r.showSpinners,t.incrementHours=function(){d(60*m)},t.decrementHours=function(){d(60*-m)},t.incrementMinutes=function(){d(v)},t.decrementMinutes=function(){d(-v)},t.toggleMeridian=function(){d(720*(f.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(t,e,n,a){var i=a[0],r=a[1];r&&i.init(r,e.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(t,e,n,a,i){function r(t){for(var e in t)if(void 0!==s.style[e])return t[e]}i||a.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var o=function(a,i,r){r=r||{};var s=t.defer(),l=o[r.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){a.unbind(l,c),s.resolve(a)})};return l&&a.bind(l,c),e(function(){angular.isString(i)?a.addClass(i):angular.isFunction(i)?i(a):angular.isObject(i)&&a.css(i),l||s.resolve(a)}),s.promise.cancel=function(){l&&a.unbind(l,c),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},c={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return o.transitionEndEventName=r(l),o.animationEndEventName=r(c),o}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var a=n.match(e);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:t(a[4]),viewMapper:t(a[2]||a[1]),modelMapper:t(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(t,e,n,a,i,r,o,s,l){var c=[9,13,27,38,40],u=200;return{require:"ngModel",link:function(p,d,f,h){function g(){M.moveInProgress||(M.moveInProgress=!0,M.$digest()),F&&a.cancel(F),F=a(function(){M.matches.length&&m(),M.moveInProgress=!1,M.$digest()},u)}function m(){M.position=D?s.offset(d):s.position(d),M.position.top+=d.prop("offsetHeight")}var v=p.$eval(f.typeaheadMinLength);v||0===v||(v=1);var b,y,$=p.$eval(f.typeaheadWaitMs)||0,w=p.$eval(f.typeaheadEditable)!==!1,x=e(f.typeaheadLoading).assign||angular.noop,k=e(f.typeaheadOnSelect),C=angular.isDefined(f.typeaheadSelectOnBlur)?p.$eval(f.typeaheadSelectOnBlur):!1,T=f.typeaheadInputFormatter?e(f.typeaheadInputFormatter):void 0,D=f.typeaheadAppendToBody?p.$eval(f.typeaheadAppendToBody):!1,E=p.$eval(f.typeaheadFocusFirst)!==!1,S=e(f.ngModel).assign,O=l.parse(f.typeahead),M=p.$new();p.$on("$destroy",function(){M.$destroy()});var P="typeahead-"+M.$id+"-"+Math.floor(1e4*Math.random());d.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":P});var A=angular.element("<div typeahead-popup></div>");A.attr({id:P,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(f.typeaheadTemplateUrl)&&A.attr("template-url",f.typeaheadTemplateUrl);var I=function(){M.matches=[],M.activeIdx=-1,d.attr("aria-expanded",!1)},L=function(t){return P+"-option-"+t};M.$watch("activeIdx",function(t){0>t?d.removeAttr("aria-activedescendant"):d.attr("aria-activedescendant",L(t))});var N=function(t){var e={$viewValue:t};x(p,!0),n.when(O.source(p,e)).then(function(n){var a=t===h.$viewValue;if(a&&b)if(n&&n.length>0){M.activeIdx=E?0:-1,M.matches.length=0;for(var i=0;i<n.length;i++)e[O.itemName]=n[i],M.matches.push({id:L(i),label:O.viewMapper(M,e),model:n[i]});M.query=t,m(),d.attr("aria-expanded",!0)}else I();a&&x(p,!1)},function(){I(),x(p,!1)})};D&&(angular.element(r).bind("resize",g),i.find("body").bind("scroll",g));var F;M.moveInProgress=!1,I(),M.query=void 0;var j,V=function(t){j=a(function(){N(t)},$)},U=function(){j&&a.cancel(j)};h.$parsers.unshift(function(t){return b=!0,0===v||t&&t.length>=v?$>0?(U(),V(t)):N(t):(x(p,!1),U(),I()),w?t:t?(h.$setValidity("editable",!1),void 0):(h.$setValidity("editable",!0),t)}),h.$formatters.push(function(t){var e,n,a={};return w||h.$setValidity("editable",!0),T?(a.$model=t,T(p,a)):(a[O.itemName]=t,e=O.viewMapper(p,a),a[O.itemName]=void 0,n=O.viewMapper(p,a),e!==n?e:t)}),M.select=function(t){var e,n,i={};y=!0,i[O.itemName]=n=M.matches[t].model,e=O.modelMapper(p,i),S(p,e),h.$setValidity("editable",!0),h.$setValidity("parse",!0),k(p,{$item:n,$model:e,$label:O.viewMapper(p,i)}),I(),a(function(){d[0].focus()},0,!1)},d.bind("keydown",function(t){if(0!==M.matches.length&&-1!==c.indexOf(t.which)&&(-1!==M.activeIdx||13!==t.which)){if(-1===M.activeIdx&&9===t.which)return I(),M.$digest(),void 0;t.preventDefault(),40===t.which?(M.activeIdx=(M.activeIdx+1)%M.matches.length,M.$digest()):38===t.which?(M.activeIdx=(M.activeIdx>0?M.activeIdx:M.matches.length)-1,M.$digest()):13===t.which||9===t.which?M.$apply(function(){M.select(M.activeIdx)}):27===t.which&&(t.stopPropagation(),I(),M.$digest())}}),d.bind("blur",function(){C&&M.matches.length&&-1!==M.activeIdx&&!y&&(y=!0,M.$apply(function(){M.select(M.activeIdx)})),b=!1,y=!1});var H=function(t){d[0]!==t.target&&3!==t.which&&(I(),o.$$phase||M.$digest())};i.bind("click",H),p.$on("$destroy",function(){i.unbind("click",H),D&&R.remove(),A.remove()});var R=t(A)(M);D?i.find("body").append(R):d.after(R)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(a,i,r){var o=n(r.templateUrl)(a.$parent)||"template/typeahead/typeahead-match.html";t(o).then(function(t){e(t.trim())(a,function(t){i.replaceWith(t)})})}}}]).filter("typeaheadHighlight",function(){function t(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,n){return n?(""+e).replace(new RegExp(t(n),"gi"),"<strong>$&</strong>"):e}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href="#" tabindex="0" class="accordion-toggle" ng-click="$event.preventDefault(); toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:\'index\' track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(t){t.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n	ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')
}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href="#" ng-click="$event.preventDefault(); select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-match.html",'<a href="#" ng-click="$event.preventDefault()" tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),function(){"use strict";angular.module("risevision.widget.common.widget-button-toolbar",["risevision.common.i18n"]).directive("widgetButtonToolbar",["$templateCache",function(t){return{restrict:"E",scope:{save:"&",cancel:"&",disableSave:"&"},template:t.get("_angular/widget-button-toolbar/widget-button-toolbar.html")}}])}(),function(t){try{t=angular.module("risevision.widget.common.widget-button-toolbar")}catch(e){t=angular.module("risevision.widget.common.widget-button-toolbar",[])}t.run(["$templateCache",function(t){"use strict";t.put("_angular/widget-button-toolbar/widget-button-toolbar.html",'<div class="pull-right">\n  <button id="save" class="btn btn-primary btn-fixed-width" type="button" ng-click="save()" ng-disabled="disableSave()">\n    <span>{{"common.save" | translate}}</span>\n    <i class="fa fa-white fa-check icon-right"></i>\n  </button>\n  <button id="cancel" class="btn btn-default btn-fixed-width" type="button" ng-click="cancel()">\n    <span>{{"common.cancel" | translate}}</span>\n    <i class="fa fa-white fa-times icon-right"></i>\n  </button>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.tooltip",["ui.bootstrap"]).directive("rvTooltip",[function(){return{restrict:"A",link:function(t,e){e.addClass("fa"),e.addClass("fa-question-circle"),e.addClass("fa-lg")}}}])}(),function(){"use strict";angular.module("risevision.widget.common.url-field",["risevision.common.i18n","risevision.widget.common.tooltip"]).directive("urlField",["$templateCache","$log",function(t,e){return{restrict:"E",require:"?ngModel",scope:{url:"=",hideLabel:"@",fileType:"@"},template:t.get("_angular/url-field/url-field.html"),link:function(t,n,a,i){function r(t,e){var n,a=t.toLowerCase();switch(e){case"image":n=[".jpg",".jpeg",".png",".bmp",".svg",".gif",".webp"];break;case"video":n=[".webm",".mp4",".ogv",".ogg"];break;default:n=[]}for(var i=0,r=n.length;r>i;i++)if(-1!==a.indexOf(n[i]))return!0;return!1}function o(){if("undefined"!==t.fileType&&"undefined"!==t.url&&"image"===t.fileType){var e=new Image;e.onload=function(){t.valid=!0,t.$apply()},e.onerror=function(){t.valid=!1,t.invalidType=t.fileType,t.$apply()},e.src=t.url}}function s(e){var n,a;return n=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[\/?#]\S*)?$/i,-1===e.indexOf("://")&&(e="http://"+e),a=n.test(e),a&&"undefined"!=typeof t.fileType?(a=r(e,t.fileType),a||(t.invalidType=t.fileType)):t.invalidType="url",a&&o(),a}t.doValidation=!0,t.forcedValid=!1,t.valid=!0,t.invalidType="url",t.allowInitEmpty="undefined"!=typeof a.initEmpty,t.blur=function(){t.$emit("urlFieldBlur")},t.$watch("url",function(e){"undefined"!=typeof e&&null!==e&&(""!==e&&t.allowInitEmpty&&(t.allowInitEmpty=!1),t.doValidation&&!t.allowInitEmpty&&(t.valid=s(t.url)))}),t.$watch("valid",function(t){i&&(e.info("Calling $setValidity() on parent controller"),i.$setValidity("valid",t))}),t.$watch("doValidation",function(e){"undefined"!=typeof t.url&&(e?(t.forcedValid=!1,t.allowInitEmpty||(t.valid=s(t.url))):(t.forcedValid=!0,t.valid=!0))})}}}])}(),function(t){try{t=angular.module("risevision.widget.common.url-field")}catch(e){t=angular.module("risevision.widget.common.url-field",[])}t.run(["$templateCache",function(t){"use strict";t.put("_angular/url-field/url-field.html",'<div class="form-group" >\n  <label ng-if="!hideLabel">{{ "url.label" | translate }}</label>\n  <div>\n    <input name="url" type="text" ng-model="url" ng-blur="blur()" class="form-control" placeholder="http://">\n  </div>\n  <p ng-if="!valid && invalidType === \'url\'" class="text-danger">{{ "url.errors.url" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'image\'" class="text-danger">{{ "url.errors.image" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'video\'" class="text-danger">{{ "url.errors.video" | translate }}</p>\n  <div class="checkbox" ng-show="forcedValid || !valid">\n    <label>\n      <input name="validate-url" ng-click="doValidation = !doValidation" type="checkbox"\n             value="validate-url"> {{"url.validate.label" | translate}}\n    </label>\n  </div>\n</div>\n')}])}();var config={STORAGE_ENV:"prod"};"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json"),angular.module("risevision.widget.web-page.settings",["risevision.common.i18n","risevision.widget.common","risevision.widget.common.widget-button-toolbar","risevision.widget.common.tooltip","risevision.widget.common.url-field"]),angular.module("risevision.widget.common",[]),angular.module("risevision.widget.common").controller("settingsController",["$scope","settingsSaver","settingsGetter","settingsCloser",function(t,e,n,a){t.settings={params:{},additionalParams:{}},t.alerts=[],t.getAdditionalParam=function(e,n){var a=t.settings.additionalParams[e];return angular.isUndefined(a)?n:a},t.setAdditionalParam=function(e,n){t.settings.additionalParams[e]=n},t.loadAdditionalParams=function(){n.getAdditionalParams().then(function(e){t.settings.additionalParams=e,t.$broadcast("loadAdditionalParams",e)},function(t){alert(t)})},t.setAdditionalParams=function(e,n){t.settings.additionalParams[e]=n},t.saveSettings=function(){t.alerts=[],t.$broadcast("collectAdditionalParams"),e.saveSettings(t.settings).then(function(){},function(e){t.alerts=e.alerts})},t.closeSettings=function(){a.closeSettings().then(function(){},function(e){t.alerts=e.alerts})},t.settings.params=n.getParams(),t.loadAdditionalParams()}]).directive("scrollOnAlerts",function(){return{restrict:"A",scope:!1,link:function(t,e){t.$watchCollection("alerts",function(t,n){t.length>0&&0===n.length&&$("body").animate({scrollTop:e.offset().top},"fast")})}}}),angular.module("risevision.widget.common").constant("STORAGE_FILE_URL_BASE","storage.googleapis.com/risemedialibrary-").constant("STORAGE_FOLDER_URL_BASE","googleapis.com/storage/").factory("commonSettings",["$log","STORAGE_FILE_URL_BASE","STORAGE_FOLDER_URL_BASE",function(t,e,n){var a={getStorageUrlData:function(t){function a(t){return-1!==t.indexOf(e)?"file":-1!==t.indexOf(n)?"folder":null}function i(t){var e=t.split("risemedialibrary-");return e[1].slice(0,e[1].indexOf("/"))}var r,o,s,l,c={};if("file"===a(t))r=t.split(e)[1],r=decodeURIComponent(r.slice(r.indexOf("/")+1)),o=r.split("/"),c.companyId=i(t),c.fileName=o.pop(),c.folder=o.length>0?o.join("/"):"",""!==c.folder&&(c.folder+="/");else if("folder"===a(t)){s=t.split("?");for(var u=0;u<s.length;u++)if(l=s[u].split("="),"prefix"===l[0]&&"undefined"!=typeof l[1]&&""!==l[1]){c.companyId=i(t),c.folder=decodeURIComponent(l[1]),c.fileName="";break}}return c}};return a}]),angular.module("risevision.widget.common").factory("gadgetsApi",["$window",function(t){return t.gadgets}]),angular.module("risevision.widget.common").factory("googleFontLoader",["$http","angularLoad",function(t,e){function n(){for(var t="",n="",a="",r=[],o=!1,s=",sans-serif;",l="//fonts.googleapis.com/css?family=",c=["Buda","Coda Caption","Open Sans Condensed","UnifrakturCook","Molle"],u=0;u<i.length;u++)t=i[u],-1===c.indexOf(t)&&(a=l+t,e.loadCSS(a),r.push(a),/\s/.test(t)&&(o=!0),n+=o?t+"='"+t+"'"+s:t+"="+t+s);return{fonts:n,urls:r}}var a={},i=[];return a.getGoogleFonts=function(){return 0===i.length?t.get("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBXxVK_IOV7LNQMuVVo_l7ZvN53ejN86zY&sort=alpha",{cache:!0}).then(function(t){var e=null;if(t.data&&t.data.items){for(var a=0,r=t.data.items.length;r>a;a++)e=t.data.items[a],e.subsets&&1===e.subsets.length&&"khmer"===e.subsets[0].toLowerCase()||i.push(e.family);return n()}}):n()},a.getFontsUsed=function(t){var e=[];return angular.forEach(i,function(n){-1!==t.indexOf(n)&&e.push(n)}),e},a}]),angular.module("risevision.widget.common").service("i18nLoader",["$window","$q",function(t,e){var n=e.defer();t.i18n.init({fallbackLng:"en",resGetPath:"locales/__ns_____lng__.json"},function(){n.resolve(t.i18n)}),this.get=function(){return n.promise}}]),angular.module("risevision.widget.common").factory("imageValidator",["$q",function(t){var e={isImage:function(e){var n=t.defer(),a=new Image;return a.onload=function(){n.resolve(!0)},a.onerror=function(){n.resolve(!1)},a.src=e,n.promise}};return e}]),angular.module("risevision.widget.common").service("settingsSaver",["$q","$log","gadgetsApi","settingsParser",function(t,e,n,a){function i(t){var e=angular.copy(t);return delete e.params.id,delete e.params.companyId,delete e.params.rsW,delete e.params.rsH,e}this.saveSettings=function(r,o){var s=t.defer(),l=[],c="";r=i(r),o&&(l=o(r)),l.length>0&&(e.debug("Validation failed.",l),s.reject({alerts:l})),r.params.hasOwnProperty("layoutURL")&&(c+=r.params.layoutURL+"?",delete r.params.layoutURL),c+=a.encodeParams(r.params);var u=a.encodeAdditionalParams(r.additionalParams);return n.rpc.call("","rscmd_saveSettings",function(t){e.debug("encoded settings",JSON.stringify(t)),e.debug("Settings saved. ",r),s.resolve(t)},{params:c,additionalParams:u}),s.promise}}]).service("settingsGetter",["$q","gadgetsApi","$log","settingsParser","$window","defaultSettings",function(t,e,n,a,i,r){this.getAdditionalParams=function(){var i=t.defer(),o=r.additionalParams||{};return e.rpc.call("","rscmd_getAdditionalParams",function(t){t=t?a.parseAdditionalParams(t):{},n.debug("getAdditionalParams returns ",t),i.resolve($.extend(!0,o,t))}),i.promise},this.getParams=function(){var t=r.params||{};return angular.extend(t,a.parseParams(i.location.search))}}]).service("settingsParser",[function(){function t(t){return 0===t.indexOf("up_")?t.slice(3):null}this.parseAdditionalParams=function(t){return t?JSON.parse(t):{}},this.encodeAdditionalParams=function(t){return JSON.stringify(t)},this.encodeParams=function(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var a;a="object"==typeof t[n]?JSON.stringify(t[n]):t[n],e.push("up_"+encodeURIComponent(n)+"="+encodeURIComponent(a))}return e.join("&")},this.parseParams=function(e){"?"===e[0]&&(e=e.slice(1));for(var n={},a=e.split("&"),i=0;i<a.length;i++){var r=a[i].split("="),o=t(decodeURIComponent(r[0]));if(o)try{n[o]=JSON.parse(decodeURIComponent(r[1]))}catch(s){n[o]=decodeURIComponent(r[1])}}return n}}]).service("settingsCloser",["$q","$log","gadgetsApi",function(t,e,n){this.closeSettings=function(){var e=t.defer();return n.rpc.call("","rscmd_closeSettings",function(){e.resolve(!0)}),e.promise}}]).value("defaultSettings",{}),function(t){"use strict";t.module("risevision.widget.common.visualization",[]).factory("visualizationApi",["$q","$window",function(t,e){var n,a=t.defer(),i={get:function(){return n||(n=a.promise,e.google.visualization?a.resolve(e.google.visualization):e.google.setOnLoadCallback(function(){a.resolve(e.google.visualization)})),n}};return i}])}(angular),angular.module("risevision.widget.web-page.settings").controller("webPageSettingsController",["$scope","$log","responseHeaderAnalyzer",function(t,e,n){t.noFrameAncestors=!0,t.noXFrameOptions=!0,t.isPreviewUrl=!1,t.urlInput=!1,t.validateXFrame=function(){n.getOptions(t.settings.additionalParams.url).then(function(e){t.noFrameAncestors=!e.includes("frame-ancestors"),t.noXFrameOptions=!e.includes("X-Frame-Options")})},t.$on("urlFieldBlur",function(){t.settingsForm.pageUrl.$valid&&t.validateXFrame()}),t.$watch("urlInput",function(e){"undefined"!=typeof e&&t.settingsForm.pageUrl.$setValidity("urlInput",e)}),t.$watch("settings.additionalParams.url",function(e,n){t.isPreviewUrl=e&&e.indexOf("preview.risevision.com")>0,"undefined"==typeof n&&e&&""!==e?(t.urlInput=!0,t.validateXFrame()):"undefined"!=typeof e&&(t.noFrameAncestors=!0,t.noXFrameOptions=!0,""!==e&&(t.urlInput=!0))}),t.$watch("settings.additionalParams.zoom",function(e){"undefined"!=typeof e&&e>1&&(t.settings.additionalParams.interactivity.scrollbars=!1)}),t.$watch("settings.additionalParams.interactivity.interactive",function(e){"undefined"!=typeof e&&(e||(t.settings.additionalParams.interactivity.scrollbars=!1))})}]).value("defaultSettings",{params:{},additionalParams:{cacheBuster:!0,interactivity:{interactive:!1,scrollbars:!1},refresh:0,region:{showRegion:"page",horizontal:0,vertical:0},unload:!0,url:"",zoom:1}}),angular.module("risevision.widget.web-page.settings").factory("responseHeaderAnalyzer",["$log","$http",function(t,e){function n(t){var e,n=[];return e=t.headers("X-Frame-Options"),null!==e&&-1===e.indexOf("ALLOW-FROM")&&n.push("X-Frame-Options"),e=t.headers("content-security-policy"),null!==e&&e.indexOf("frame-ancestors")>0&&n.push("frame-ancestors"),n}var a={getOptions:function(a){return e({method:"GET",url:"https://proxy.risevision.com/"+a}).then(function(e){return e?(t.debug(e.headers()),e.headers()?n(e):[]):[]},function(e){return t.debug("Webpage request failed with status code "+e.status+": "+e.statusText),[]})}};return a}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3NldHRpbmdzLm1pbi5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJ0aGlzIiwicnVuVHJhbnNsYXRlIiwiJHRyYW5zbGF0ZSIsImtleSIsInN0b3JhZ2VLZXkiLCJzdG9yYWdlIiwiZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlIiwicHJlZmVycmVkIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJhbmd1bGFyIiwiaXNTdHJpbmciLCJ1c2UiLCJwdXQiLCJkaXNwbGF5TmFtZSIsImdldCIsIiR0cmFuc2xhdGVTYW5pdGl6YXRpb25Qcm92aWRlciIsIiRzYW5pdGl6ZSIsIiRzY2UiLCJzdHJhdGVnaWVzIiwiY3VycmVudFN0cmF0ZWd5IiwiaGFzQ29uZmlndXJlZFN0cmF0ZWd5IiwiaGFzU2hvd25Ob1N0cmF0ZWd5Q29uZmlndXJlZFdhcm5pbmciLCJzYW5pdGl6ZSIsInZhbHVlIiwibW9kZSIsImh0bWxTYW5pdGl6ZVZhbHVlIiwiZXNjYXBlIiwiaHRtbEVzY2FwZVZhbHVlIiwic2FuaXRpemVQYXJhbWV0ZXJzIiwibWFwSW50ZXJwb2xhdGlvblBhcmFtZXRlcnMiLCJlc2NhcGVQYXJhbWV0ZXJzIiwic2NlIiwiY29udGV4dCIsImh0bWxUcnVzdFZhbHVlIiwic2NlUGFyYW1ldGVycyIsImVzY2FwZWQiLCJhZGRTdHJhdGVneSIsInN0cmF0ZWd5TmFtZSIsInN0cmF0ZWd5RnVuY3Rpb24iLCJyZW1vdmVTdHJhdGVneSIsInVzZVN0cmF0ZWd5Iiwic3RyYXRlZ3kiLCIkZ2V0IiwiJGluamVjdG9yIiwiJGxvZyIsImNhY2hlZFN0cmF0ZWd5TWFwIiwiYXBwbHlTdHJhdGVnaWVzIiwic2VsZWN0ZWRTdHJhdGVnaWVzIiwiZm9yRWFjaCIsInNlbGVjdGVkU3RyYXRlZ3kiLCJpc0Z1bmN0aW9uIiwiRXJyb3IiLCJlIiwic2hvd05vU3RyYXRlZ3lDb25maWd1cmVkV2FybmluZyIsIndhcm4iLCJoYXMiLCJzZWxmIiwiaXNBcnJheSIsImVsZW1lbnQiLCJ0ZXh0IiwiaHRtbCIsInRydXN0QXNIdG1sIiwiaXRlcmF0ZWUiLCJzdGFjayIsImlzRGF0ZSIsImlzT2JqZWN0IiwicmVzdWx0IiwiaW5kZXhPZiIsInB1c2giLCJwcm9wZXJ0eVZhbHVlIiwicHJvcGVydHlLZXkiLCJzcGxpY2UiLCJpc051bWJlciIsIiRTVE9SQUdFX0tFWSIsIiR3aW5kb3dQcm92aWRlciIsInBhc2NhbHByZWNodFRyYW5zbGF0ZU92ZXJyaWRlciIsIiRwcmVmZXJyZWRMYW5ndWFnZSIsIiRsYW5ndWFnZUtleUFsaWFzZXMiLCIkZmFsbGJhY2tMYW5ndWFnZSIsIiRmYWxsYmFja1dhc1N0cmluZyIsIiR1c2VzIiwiJG5leHRMYW5nIiwiJHN0b3JhZ2VGYWN0b3J5IiwiJHN0b3JhZ2VQcmVmaXgiLCIkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkiLCIkaW50ZXJwb2xhdGlvbkZhY3RvcnkiLCIkbG9hZGVyRmFjdG9yeSIsIiRsb2FkZXJPcHRpb25zIiwiJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCIsIiRub3RGb3VuZEluZGljYXRvclJpZ2h0IiwibG9hZGVyQ2FjaGUiLCJwb3N0UHJvY2Vzc0ZuIiwiJHRyYW5zbGF0aW9uVGFibGUiLCIkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzIiwiJHN0b3JhZ2VLZXkiLCIkaW50ZXJwb2xhdG9yRmFjdG9yaWVzIiwiJGNsb2FrQ2xhc3NOYW1lIiwiJHBvc3RDb21waWxpbmdFbmFibGVkIiwiJGZvcmNlQXN5bmNSZWxvYWRFbmFibGVkIiwiJG5lc3RlZE9iamVjdERlbGltZXRlciIsIiRpc1JlYWR5IiwiJGtlZXBDb250ZW50IiwiZGlyZWN0aXZlUHJpb3JpdHkiLCJzdGF0ZWZ1bEZpbHRlciIsInVuaWZvcm1MYW5ndWFnZVRhZ1Jlc29sdmVyIiwibGFuZ3VhZ2VUYWdSZXNvbHZlciIsImRlZmF1bHQiLCJ0YWciLCJzcGxpdCIsImpvaW4iLCJqYXZhIiwidGVtcCIsInBhcnRzIiwibGVuZ3RoIiwidG9Mb3dlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsImJjcDQ3IiwiaXNvNjM5LTEiLCJ2ZXJzaW9uIiwiZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UiLCJnZXRMb2NhbGUiLCJpIiwibGFuZ3VhZ2UiLCJuYXYiLCJuYXZpZ2F0b3IiLCJicm93c2VyTGFuZ3VhZ2VQcm9wZXJ0eUtleXMiLCJsYW5ndWFnZXMiLCJsb2NhbGUiLCJhcnJheSIsInNlYXJjaEVsZW1lbnQiLCJsZW4iLCJ0cmltIiwidG9TdHJpbmciLCJyZXBsYWNlIiwibmVnb3RpYXRlTG9jYWxlIiwiYXZhaWwiLCJsb3dlcmNhc2UiLCJuIiwiYWxpYXMiLCJsYW5nS2V5QWxpYXMiLCJoYXNPd25Qcm9wZXJ0eSIsImhhc1dpbGRjYXJkS2V5IiwiaGFzRXhhY3RLZXkiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJjYWxsIiwic2xpY2UiLCJ0cmFuc2xhdGlvbnMiLCJsYW5nS2V5IiwidHJhbnNsYXRpb25UYWJsZSIsImV4dGVuZCIsImZsYXRPYmplY3QiLCJjbG9ha0NsYXNzTmFtZSIsIm5hbWUiLCJuZXN0ZWRPYmplY3REZWxpbWV0ZXIiLCJkZWxpbWl0ZXIiLCJkYXRhIiwicGF0aCIsInByZXZLZXkiLCJrZXlXaXRoUGF0aCIsImtleVdpdGhTaG9ydFBhdGgiLCJ2YWwiLCJjb25jYXQiLCJhZGRJbnRlcnBvbGF0aW9uIiwidXNlTWVzc2FnZUZvcm1hdEludGVycG9sYXRpb24iLCJ1c2VJbnRlcnBvbGF0aW9uIiwidXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5Iiwic2V0dXBQcmVmZXJyZWRMYW5ndWFnZSIsInRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3IiLCJpbmRpY2F0b3IiLCJ0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdCIsInRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JSaWdodCIsImZhbGxiYWNrTGFuZ3VhZ2UiLCJmYWxsYmFja1N0YWNrIiwicmVzb2x2ZUNsaWVudExvY2FsZSIsInVzZVVybExvYWRlciIsInVybCIsIm9wdGlvbnMiLCJ1c2VMb2FkZXIiLCJ1c2VTdGF0aWNGaWxlc0xvYWRlciIsImxvYWRlckZhY3RvcnkiLCJ1c2VMb2NhbFN0b3JhZ2UiLCJ1c2VTdG9yYWdlIiwidXNlQ29va2llU3RvcmFnZSIsInN0b3JhZ2VGYWN0b3J5Iiwic3RvcmFnZVByZWZpeCIsInByZWZpeCIsInVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2ciLCJ1c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyIiwidXNlUG9zdENvbXBpbGluZyIsImZvcmNlQXN5bmNSZWxvYWQiLCJ1bmlmb3JtTGFuZ3VhZ2VUYWciLCJzdGFuZGFyZCIsImRldGVybWluZVByZWZlcnJlZExhbmd1YWdlIiwiZm4iLCJyZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsImxhbmd1YWdlS2V5cyIsImFsaWFzZXMiLCJ1c2VMb2FkZXJDYWNoZSIsImNhY2hlIiwidW5kZWZpbmVkIiwicHJpb3JpdHkiLCJzdGF0ZSIsInBvc3RQcm9jZXNzIiwia2VlcENvbnRlbnQiLCIkcm9vdFNjb3BlIiwiJHEiLCJTdG9yYWdlIiwiZmFsbGJhY2tJbmRleCIsInN0YXJ0RmFsbGJhY2tJdGVyYXRpb24iLCJkZWZhdWx0SW50ZXJwb2xhdG9yIiwicGVuZGluZ0xvYWRlciIsImludGVycG9sYXRvckhhc2hNYXAiLCJsYW5nUHJvbWlzZXMiLCJ0cmFuc2xhdGlvbklkIiwiaW50ZXJwb2xhdGVQYXJhbXMiLCJpbnRlcnBvbGF0aW9uSWQiLCJkZWZhdWx0VHJhbnNsYXRpb25UZXh0IiwiZm9yY2VMYW5ndWFnZSIsInVzZXMiLCJsb2FkVHJhbnNsYXRpb25zSWZNaXNzaW5nIiwidHJhbnNsYXRlQWxsIiwidHJhbnNsYXRpb25JZHMiLCJyZXN1bHRzIiwicHJvbWlzZXMiLCJ0cmFuc2xhdGUiLCJkZWZlcnJlZCIsImRlZmVyIiwicmVnYXJkbGVzcyIsInJlc29sdmUiLCJ0aGVuIiwicHJvbWlzZSIsImMiLCJhbGwiLCJhcHBseSIsInByb21pc2VUb1dhaXRGb3IiLCJpbmRleCIsInByb21pc2VSZXNvbHZlZCIsImRldGVybWluZVRyYW5zbGF0aW9uIiwicmVqZWN0IiwiYXBwbHlOb3RGb3VuZEluZGljYXRvcnMiLCJ1c2VMYW5ndWFnZSIsIiRlbWl0Iiwic2V0TG9jYWxlIiwiZWFjaEludGVycG9sYXRvciIsImludGVycG9sYXRvciIsImlkIiwibG9hZEFzeW5jIiwibG9hZGVyT3B0aW9ucyIsIiRodHRwIiwib25Mb2FkZXJTdWNjZXNzIiwidGFibGUiLCJvbkxvYWRlckVycm9yIiwiZWFjaEludGVycG9sYXRpb25GYWN0b3J5IiwiaW50ZXJwb2xhdG9yRmFjdG9yeSIsImdldEludGVycG9sYXRpb25JZGVudGlmaWVyIiwiZ2V0VHJhbnNsYXRpb25UYWJsZSIsIm9uUmVzb2x2ZSIsImdldEZhbGxiYWNrVHJhbnNsYXRpb24iLCJJbnRlcnBvbGF0b3IiLCJ0cmFuc2xhdGlvbiIsInN1YnN0ciIsImludGVycG9sYXRlZFZhbHVlIiwiaW50ZXJwb2xhdGUiLCJhcHBseVBvc3RQcm9jZXNzaW5nIiwiZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQiLCJzYW5pdGl6ZVN0cmF0ZWd5IiwiJCR1bndyYXBUcnVzdGVkVmFsdWUiLCJyZXN1bHQyIiwidHJhbnNsYXRlQnlIYW5kbGVyIiwicmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UiLCJmYWxsYmFja0xhbmd1YWdlSW5kZXgiLCJtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24iLCJyZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnQiLCJmYWxsYmFja1RyYW5zbGF0aW9uIiwiZmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQiLCJyZXNvbHZlZFRyYW5zbGF0aW9uIiwiX3RyYW5zbGF0aW9uSWQiLCJkZXRlcm1pbmVUcmFuc2xhdGlvbkluc3RhbnQiLCJjbGVhck5leHRMYW5nQW5kUHJvbWlzZSIsInVzZUZhbGxiYWNrTGFuZ3VhZ2UiLCJsYW5nS2V5UG9zaXRpb24iLCJwcm9wb3NlZExhbmd1YWdlIiwiYWxpYXNlZEtleSIsImlzUG9zdENvbXBpbGluZ0VuYWJsZWQiLCJpc0ZvcmNlQXN5bmNSZWxvYWRFbmFibGVkIiwiaXNLZWVwQ29udGVudCIsInJlZnJlc2giLCJvbmVUcmFuc2xhdGlvbnNMb2FkZWQiLCJ0YWJsZXMiLCJsb2FkaW5nS2V5cyIsImFsbFRyYW5zbGF0aW9uc0xvYWRlZCIsInRhYmxlRGF0YSIsImluc3RhbnQiLCJpc1VuZGVmaW5lZCIsInBvc3NpYmxlTGFuZ0tleXMiLCJqIiwiZCIsInBvc3NpYmxlTGFuZ0tleSIsInZlcnNpb25JbmZvIiwiaXNSZWFkeSIsIiRvblJlYWR5RGVmZXJyZWQiLCJvblJlYWR5IiwiZ2V0QXZhaWxhYmxlTGFuZ3VhZ2VLZXlzIiwiY29weSIsImdsb2JhbE9uUmVhZHlMaXN0ZW5lciIsIiRvbiIsImdsb2JhbE9uQ2hhbmdlTGlzdGVuZXIiLCJlcXVhbHMiLCJwcm9jZXNzQXN5bmNSZXN1bHQiLCJmYWxsYmFja0xhbmd1YWdlSWQiLCIkdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24iLCIkaW50ZXJwb2xhdGUiLCIkdHJhbnNsYXRlU2FuaXRpemF0aW9uIiwiJGxvY2FsZSIsIiR0cmFuc2xhdGVJbnRlcnBvbGF0b3IiLCIkaWRlbnRpZmllciIsImludGVycG9sYXRpb25QYXJhbXMiLCJpbnRlcnBvbGF0ZWRUZXh0IiwidHJhbnNsYXRlRGlyZWN0aXZlIiwiJGNvbXBpbGUiLCIkcGFyc2UiLCJyZXN0cmljdCIsInNjb3BlIiwiY29tcGlsZSIsInRFbGVtZW50IiwidEF0dHIiLCJ0cmFuc2xhdGVWYWx1ZXNFeGlzdCIsInRyYW5zbGF0ZVZhbHVlcyIsInRyYW5zbGF0ZUludGVycG9sYXRpb24iLCJ0cmFuc2xhdGVWYWx1ZUV4aXN0Iiwib3V0ZXJIVE1MIiwibWF0Y2giLCJpbnRlcnBvbGF0ZVJlZ0V4cCIsInN0YXJ0U3ltYm9sIiwiZW5kU3ltYm9sIiwid2F0Y2hlclJlZ0V4cCIsImlFbGVtZW50IiwiaUF0dHIiLCJwcmVUZXh0IiwicG9zdFRleHQiLCJ0cmFuc2xhdGVOYW1lc3BhY2UiLCJnZXRUcmFuc2xhdGVOYW1lc3BhY2UiLCJpbml0SW50ZXJwb2xhdGlvblBhcmFtcyIsIiRwYXJlbnQiLCJhdHRyIiwiYXR0cmlidXRlTmFtZSIsIm9ic2VydmVFbGVtZW50VHJhbnNsYXRpb24iLCJfdW53YXRjaE9sZCIsImlzRGVmaW5lZCIsImlFbGVtZW50VGV4dCIsImludGVycG9sYXRlTWF0Y2hlcyIsIndhdGNoZXJNYXRjaGVzIiwiJHdhdGNoIiwibmV3VmFsdWUiLCJ1cGRhdGVUcmFuc2xhdGlvbnMiLCJvYnNlcnZlQXR0cmlidXRlVHJhbnNsYXRpb24iLCJ0cmFuc2xhdGVBdHRyIiwiJG9ic2VydmUiLCJmaXJzdEF0dHJpYnV0ZUNoYW5nZWRFdmVudCIsImRlZmF1bHRUZXh0Iiwib2JzZXJ2ZVZhbHVlQXR0cmlidXRlIiwiYXR0ck5hbWUiLCJ1cGRhdGVUcmFuc2xhdGlvbiIsImNoYXJBdCIsInRyYW5zbGF0ZUxhbmd1YWdlIiwiYXBwbHlUcmFuc2xhdGlvbiIsInN1Y2Nlc3NmdWwiLCJ0cmFuc2xhdGVLZWVwQ29udGVudCIsImVtcHR5IiwiYXBwZW5kIiwiZ2xvYmFsbHlFbmFibGVkIiwibG9jYWxseURlZmluZWQiLCJ0cmFuc2xhdGVDb21waWxlIiwibG9jYWxseUVuYWJsZWQiLCJjb250ZW50cyIsIiRhdHRyIiwidHJhbnNsYXRlRGVmYXVsdCIsInVuYmluZCIsInRyYW5zbGF0ZUF0dHJEaXJlY3RpdmUiLCJsaW5rIiwicHJldmlvdXNBdHRyaWJ1dGVzIiwiZmxhZyIsInJlbW92ZUF0dHIiLCJ3YXRjaEF0dHJpYnV0ZSIsImF0dHJpYnV0ZSIsInZhbHVlQ2FsbGJhY2siLCJjaGFuZ2VDYWxsYmFjayIsIiRldmFsIiwidHJhbnNsYXRlQ2xvYWtEaXJlY3RpdmUiLCJhcHBseUNsb2FrIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbG9hayIsInJlbW92ZUNsYXNzIiwidHJhbnNsYXRlQ2xvYWsiLCJ0cmFuc2xhdGVOYW1lc3BhY2VEaXJlY3RpdmUiLCJwcmUiLCJpQXR0cnMiLCJ0cmFuc2xhdGVMYW5ndWFnZURpcmVjdGl2ZSIsIm5ld1RyYW5zbGF0ZUxhbmd1YWdlIiwiJGJyb2FkY2FzdCIsInRyYW5zbGF0ZUZpbHRlckZhY3RvcnkiLCJ0cmFuc2xhdGVGaWx0ZXIiLCJpbnRlcnBvbGF0aW9uIiwiJHN0YXRlZnVsIiwiJHRyYW5zbGF0aW9uQ2FjaGUiLCIkY2FjaGVGYWN0b3J5IiwiJGluamVjdCIsInJ1biIsInByb3ZpZGVyIiwiY29uc3RhbnQiLCJkaXJlY3RpdmUiLCJmaWx0ZXIiLCIkdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXIiLCJmaWxlcyIsInN1ZmZpeCIsImxvYWQiLCJmaWxlIiwiZmlsZVVybCIsImZpbGVNYXAiLCJtZXRob2QiLCJwYXJhbXMiLCJtZXJnZWREYXRhIiwiZXJyIiwibG9hZFRyYW5zbGF0aW9uRmlsZSIsInJlc3BvbnNlIiwibGFzdEluZGV4T2YiLCJvcHRzIiwiY29uZmlnIiwiJHRyYW5zbGF0ZVByb3ZpZGVyIiwiTE9DQUxFU19QUkVGSVgiLCJMT0NBTEVTX1NVRklYIiwiJCIsIlBsdWdpbiIsIm9wdGlvbiIsImVhY2giLCIkdGhpcyIsIkFmZml4IiwiREVGQVVMVFMiLCIkdGFyZ2V0IiwidGFyZ2V0Iiwib24iLCJwcm94eSIsImNoZWNrUG9zaXRpb24iLCJjaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCIsIiRlbGVtZW50IiwiYWZmaXhlZCIsInVucGluIiwicGlubmVkT2Zmc2V0IiwiVkVSU0lPTiIsIlJFU0VUIiwib2Zmc2V0Iiwid2luZG93IiwiZ2V0UGlubmVkT2Zmc2V0Iiwic2Nyb2xsVG9wIiwicG9zaXRpb24iLCJ0b3AiLCJzZXRUaW1lb3V0IiwiaXMiLCJzY3JvbGxIZWlnaHQiLCJkb2N1bWVudCIsImhlaWdodCIsIm9mZnNldFRvcCIsIm9mZnNldEJvdHRvbSIsImJvdHRvbSIsImFmZml4IiwiY3NzIiwiYWZmaXhUeXBlIiwiRXZlbnQiLCJ0cmlnZ2VyIiwiaXNEZWZhdWx0UHJldmVudGVkIiwib2xkIiwiQ29uc3RydWN0b3IiLCJub0NvbmZsaWN0IiwiJHNweSIsImpRdWVyeSIsIkFsZXJ0IiwiZGlzbWlzcyIsImVsIiwiY2xvc2UiLCJyZW1vdmVFbGVtZW50IiwiZGV0YWNoIiwicmVtb3ZlIiwic2VsZWN0b3IiLCJwcmV2ZW50RGVmYXVsdCIsImhhc0NsYXNzIiwicGFyZW50Iiwic3VwcG9ydCIsInRyYW5zaXRpb24iLCJvbmUiLCJlbXVsYXRlVHJhbnNpdGlvbkVuZCIsImFsZXJ0IiwiQnV0dG9uIiwidG9nZ2xlIiwic2V0U3RhdGUiLCJpc0xvYWRpbmciLCJsb2FkaW5nVGV4dCIsIiRlbCIsInJlc2V0VGV4dCIsImNoYW5nZWQiLCJjbG9zZXN0IiwiJGlucHV0IiwiZmluZCIsInByb3AiLCJ0b2dnbGVDbGFzcyIsImJ1dHRvbiIsIiRidG4iLCJDYXJvdXNlbCIsImFjdGlvbiIsInNsaWRlIiwidG8iLCJpbnRlcnZhbCIsInBhdXNlIiwiY3ljbGUiLCJrZXlkb3duIiwiJGluZGljYXRvcnMiLCJwYXVzZWQiLCJzbGlkaW5nIiwiJGFjdGl2ZSIsIiRpdGVtcyIsIndyYXAiLCJ3aGljaCIsInByZXYiLCJuZXh0IiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwiZ2V0SXRlbUluZGV4IiwiaXRlbSIsImNoaWxkcmVuIiwicG9zIiwidGhhdCIsImFjdGl2ZUluZGV4IiwiZW5kIiwidHlwZSIsIiRuZXh0IiwiaXNDeWNsaW5nIiwiZGlyZWN0aW9uIiwiZmFsbGJhY2siLCJyZWxhdGVkVGFyZ2V0Iiwic2xpZGVFdmVudCIsIiRuZXh0SW5kaWNhdG9yIiwic2xpZEV2ZW50Iiwib2Zmc2V0V2lkdGgiLCJjYXJvdXNlbCIsImhyZWYiLCJzbGlkZUluZGV4IiwiJGNhcm91c2VsIiwiQ29sbGFwc2UiLCJ0cmFuc2l0aW9uaW5nIiwiZGltZW5zaW9uIiwiaGFzV2lkdGgiLCJzaG93Iiwic3RhcnRFdmVudCIsImFjdGl2ZXMiLCJoYXNEYXRhIiwiY29tcGxldGUiLCJzY3JvbGxTaXplIiwiY2FtZWxDYXNlIiwiaGlkZSIsIm9mZnNldEhlaWdodCIsImNvbGxhcHNlIiwibm90IiwiY2xlYXJNZW51cyIsImJhY2tkcm9wIiwiZ2V0UGFyZW50IiwidGVzdCIsIkRyb3Bkb3duIiwiaXNBY3RpdmUiLCJkb2N1bWVudEVsZW1lbnQiLCJpbnNlcnRBZnRlciIsImtleUNvZGUiLCJzdG9wUHJvcGFnYXRpb24iLCJkZXNjIiwiZXEiLCJkcm9wZG93biIsIlRhYiIsIiR1bCIsInByZXZpb3VzIiwiYWN0aXZhdGUiLCJjb250YWluZXIiLCJjYWxsYmFjayIsInRhYiIsInRyYW5zaXRpb25FbmQiLCJjcmVhdGVFbGVtZW50IiwidHJhbnNFbmRFdmVudE5hbWVzIiwiV2Via2l0VHJhbnNpdGlvbiIsIk1velRyYW5zaXRpb24iLCJPVHJhbnNpdGlvbiIsInN0eWxlIiwiZHVyYXRpb24iLCJjYWxsZWQiLCJldmVudCIsInNwZWNpYWwiLCJic1RyYW5zaXRpb25FbmQiLCJiaW5kVHlwZSIsImRlbGVnYXRlVHlwZSIsImhhbmRsZSIsImhhbmRsZU9iaiIsImhhbmRsZXIiLCJhcmd1bWVudHMiLCJTY3JvbGxTcHkiLCJwcm9jZXNzIiwiJGJvZHkiLCIkc2Nyb2xsRWxlbWVudCIsIm9mZnNldHMiLCJ0YXJnZXRzIiwiYWN0aXZlVGFyZ2V0IiwiZ2V0U2Nyb2xsSGVpZ2h0IiwiTWF0aCIsIm1heCIsIm9mZnNldE1ldGhvZCIsIm9mZnNldEJhc2UiLCJpc1dpbmRvdyIsIm1hcCIsIiRocmVmIiwic29ydCIsImEiLCJiIiwibWF4U2Nyb2xsIiwicGFyZW50c1VudGlsIiwiYWN0aXZlIiwicGFyZW50cyIsInNjcm9sbHNweSIsIl9yZWxhdGVkVGFyZ2V0IiwiTW9kYWwiLCJib2R5IiwiJGJhY2tkcm9wIiwiaXNTaG93biIsInNjcm9sbGJhcldpZHRoIiwicmVtb3RlIiwia2V5Ym9hcmQiLCJjaGVja1Njcm9sbGJhciIsInNldFNjcm9sbGJhciIsImFwcGVuZFRvIiwiZW5mb3JjZUZvY3VzIiwicmVzZXRTY3JvbGxiYXIiLCJvZmYiLCJoaWRlTW9kYWwiLCJyZW1vdmVCYWNrZHJvcCIsImFuaW1hdGUiLCJkb0FuaW1hdGUiLCJjdXJyZW50VGFyZ2V0IiwiZm9jdXMiLCJjYWxsYmFja1JlbW92ZSIsImNsaWVudFdpZHRoIiwiaW5uZXJXaWR0aCIsIm1lYXN1cmVTY3JvbGxiYXIiLCJib2R5UGFkIiwicGFyc2VJbnQiLCJzY3JvbGxEaXYiLCJjbGFzc05hbWUiLCJyZW1vdmVDaGlsZCIsIm1vZGFsIiwic2hvd0V2ZW50IiwiVG9vbHRpcCIsImVuYWJsZWQiLCJ0aW1lb3V0IiwiaG92ZXJTdGF0ZSIsImluaXQiLCJhbmltYXRpb24iLCJwbGFjZW1lbnQiLCJ0ZW1wbGF0ZSIsInRpdGxlIiwiZGVsYXkiLCJ2aWV3cG9ydCIsInBhZGRpbmciLCJnZXRPcHRpb25zIiwiJHZpZXdwb3J0IiwidHJpZ2dlcnMiLCJldmVudEluIiwiZXZlbnRPdXQiLCJlbnRlciIsImxlYXZlIiwiX29wdGlvbnMiLCJmaXhUaXRsZSIsImdldERlZmF1bHRzIiwiZ2V0RGVsZWdhdGVPcHRpb25zIiwiZGVmYXVsdHMiLCJvYmoiLCJjb25zdHJ1Y3RvciIsImNsZWFyVGltZW91dCIsImhhc0NvbnRlbnQiLCJpbkRvbSIsImNvbnRhaW5zIiwiJHRpcCIsInRpcCIsInRpcElkIiwiZ2V0VUlEIiwic2V0Q29udGVudCIsImF1dG9Ub2tlbiIsImF1dG9QbGFjZSIsImxlZnQiLCJkaXNwbGF5IiwiZ2V0UG9zaXRpb24iLCJhY3R1YWxXaWR0aCIsImFjdHVhbEhlaWdodCIsIm9yZ1BsYWNlbWVudCIsInBhcmVudERpbSIsInNjcm9sbCIsInJpZ2h0Iiwid2lkdGgiLCJjYWxjdWxhdGVkT2Zmc2V0IiwiZ2V0Q2FsY3VsYXRlZE9mZnNldCIsImFwcGx5UGxhY2VtZW50IiwibWFyZ2luVG9wIiwibWFyZ2luTGVmdCIsImlzTmFOIiwic2V0T2Zmc2V0IiwidXNpbmciLCJwcm9wcyIsInJvdW5kIiwiZGVsdGEiLCJnZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEiLCJhcnJvd0RlbHRhIiwiYXJyb3dQb3NpdGlvbiIsImFycm93T2Zmc2V0UG9zaXRpb24iLCJyZXBsYWNlQXJyb3ciLCJhcnJvdyIsImdldFRpdGxlIiwiJGUiLCJpc0JvZHkiLCJ0YWdOYW1lIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwib3V0ZXJXaWR0aCIsIm91dGVySGVpZ2h0Iiwidmlld3BvcnRQYWRkaW5nIiwidmlld3BvcnREaW1lbnNpb25zIiwidG9wRWRnZU9mZnNldCIsImJvdHRvbUVkZ2VPZmZzZXQiLCJsZWZ0RWRnZU9mZnNldCIsInJpZ2h0RWRnZU9mZnNldCIsIm8iLCJyYW5kb20iLCJnZXRFbGVtZW50QnlJZCIsIiRhcnJvdyIsInZhbGlkYXRlIiwicGFyZW50Tm9kZSIsImVuYWJsZSIsImRpc2FibGUiLCJ0b2dnbGVFbmFibGVkIiwiZGVzdHJveSIsInJlbW92ZURhdGEiLCJ0b29sdGlwIiwiUG9wb3ZlciIsImNvbnRlbnQiLCJnZXRDb250ZW50IiwicG9wb3ZlciIsIiRhbmltYXRlIiwiYXR0cnMiLCJleHBhbmQiLCJleHBhbmREb25lIiwiY29sbGFwc2VEb25lIiwic2hvdWxkQ29sbGFwc2UiLCJjbG9zZU90aGVycyIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkYXR0cnMiLCJhY2NvcmRpb25Db25maWciLCJncm91cHMiLCJvcGVuR3JvdXAiLCJncm91cCIsImlzT3BlbiIsImFkZEdyb3VwIiwiZ3JvdXBTY29wZSIsInJlbW92ZUdyb3VwIiwidHJhbnNjbHVkZSIsInRlbXBsYXRlVXJsIiwicmVxdWlyZSIsImhlYWRpbmciLCJpc0Rpc2FibGVkIiwic2V0SGVhZGluZyIsImFjY29yZGlvbkN0cmwiLCJ0b2dnbGVPcGVuIiwiYWNjb3JkaW9uR3JvdXBDdHJsIiwibm9vcCIsImFjY29yZGlvblRyYW5zY2x1ZGUiLCJjbG9zZWFibGUiLCIkdGltZW91dCIsImFsZXJ0Q3RybCIsImRpc21pc3NPblRpbWVvdXQiLCIkYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQiLCJiaW5kSHRtbFVuc2FmZSIsImFjdGl2ZUNsYXNzIiwidG9nZ2xlRXZlbnQiLCJidXR0b25Db25maWciLCJjdHJscyIsImJ1dHRvbnNDdHJsIiwibmdNb2RlbEN0cmwiLCIkcmVuZGVyIiwiJG1vZGVsVmFsdWUiLCJidG5SYWRpbyIsImJpbmQiLCJ1bmNoZWNrYWJsZSIsIiRhcHBseSIsIiRzZXRWaWV3VmFsdWUiLCJnZXRUcnVlVmFsdWUiLCJnZXRDaGVja2JveFZhbHVlIiwiYnRuQ2hlY2tib3hUcnVlIiwiZ2V0RmFsc2VWYWx1ZSIsImJ0bkNoZWNrYm94RmFsc2UiLCJhdHRyaWJ1dGVWYWx1ZSIsImRlZmF1bHRWYWx1ZSIsIiRpbnRlcnZhbCIsImdvTmV4dCIsImRlc3Ryb3llZCIsImN1cnJlbnRTbGlkZSIsIm5vVHJhbnNpdGlvbiIsIiRjdXJyZW50VHJhbnNpdGlvbiIsIlNMSURFX0RJUkVDVElPTiIsImN1cnJlbnRJbmRleCIsInJlc3RhcnRUaW1lciIsImdldFNsaWRlQnlJbmRleCIsInNsaWRlcyIsInJlc2V0VGltZXIiLCJjdXJyZW50SW50ZXJ2YWwiLCJ0aW1lckZuIiwiY2FuY2VsIiwiaXNQbGF5aW5nIiwiTk9fVFJBTlNJVElPTiIsInNlbGVjdCIsIm5leHRTbGlkZSIsIm5leHRJbmRleCIsImluZGV4T2ZTbGlkZSIsImdldEN1cnJlbnRJbmRleCIsIm5ld0luZGV4Iiwibm9XcmFwIiwicGxheSIsIm5vUGF1c2UiLCJhZGRTbGlkZSIsInJlbW92ZVNsaWRlIiwiY2Fyb3VzZWxDdHJsIiwiYmVmb3JlQWRkQ2xhc3MiLCJkb25lIiwic3RvcHBlZCIsImRpcmVjdGlvbkNsYXNzIiwiYmVmb3JlUmVtb3ZlQ2xhc3MiLCJzZXJ2aWNlIiwib3JkZXJCeUZpbHRlciIsImNyZWF0ZVBhcnNlciIsImZvcm1hdCIsInJlZ2V4IiwiZm9ybWF0Q29kZVRvUmVnZXgiLCJjb2RlIiwiUmVnRXhwIiwiaXNWYWxpZCIsInllYXIiLCJtb250aCIsImRhdGUiLCJTUEVDSUFMX0NIQVJBQ1RFUlNfUkVHRVhQIiwicGFyc2VycyIsInl5eXkiLCJ5eSIsInkiLCJNTU1NIiwiREFURVRJTUVfRk9STUFUUyIsIk1PTlRIIiwiTU1NIiwiU0hPUlRNT05USCIsIk1NIiwiTSIsImRkIiwiRUVFRSIsIkRBWSIsIkVFRSIsIlNIT1JUREFZIiwiSEgiLCJob3VycyIsIkgiLCJtbSIsIm1pbnV0ZXMiLCJtIiwic3NzIiwibWlsbGlzZWNvbmRzIiwic3MiLCJzZWNvbmRzIiwicyIsInBhcnNlIiwiaW5wdXQiLCJiYXNlRGF0ZSIsInBhcnNlciIsImZpZWxkcyIsImR0IiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiZ2V0TWlsbGlzZWNvbmRzIiwibWFwcGVyIiwiRGF0ZSIsIiRkb2N1bWVudCIsIiR3aW5kb3ciLCJnZXRTdHlsZSIsImNzc3Byb3AiLCJjdXJyZW50U3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiaXNTdGF0aWNQb3NpdGlvbmVkIiwicGFyZW50T2Zmc2V0RWwiLCJkb2NEb21FbCIsIm9mZnNldFBhcmVudCIsImVsQkNSIiwib2Zmc2V0UGFyZW50QkNSIiwib2Zmc2V0UGFyZW50RWwiLCJjbGllbnRUb3AiLCJjbGllbnRMZWZ0Iiwic2Nyb2xsTGVmdCIsImJvdW5kaW5nQ2xpZW50UmVjdCIsInBhZ2VZT2Zmc2V0IiwicGFnZVhPZmZzZXQiLCJwb3NpdGlvbkVsZW1lbnRzIiwiaG9zdEVsIiwidGFyZ2V0RWwiLCJwb3NpdGlvblN0ciIsImFwcGVuZFRvQm9keSIsImhvc3RFbFBvcyIsInRhcmdldEVsV2lkdGgiLCJ0YXJnZXRFbEhlaWdodCIsInRhcmdldEVsUG9zIiwicG9zaXRpb25TdHJQYXJ0cyIsInBvczAiLCJwb3MxIiwic2hpZnRXaWR0aCIsImNlbnRlciIsInNoaWZ0SGVpZ2h0IiwiZm9ybWF0RGF5IiwiZm9ybWF0TW9udGgiLCJmb3JtYXRZZWFyIiwiZm9ybWF0RGF5SGVhZGVyIiwiZm9ybWF0RGF5VGl0bGUiLCJmb3JtYXRNb250aFRpdGxlIiwiZGF0ZXBpY2tlck1vZGUiLCJtaW5Nb2RlIiwibWF4TW9kZSIsInNob3dXZWVrcyIsInN0YXJ0aW5nRGF5IiwieWVhclJhbmdlIiwibWluRGF0ZSIsIm1heERhdGUiLCJzaG9ydGN1dFByb3BhZ2F0aW9uIiwiZGF0ZUZpbHRlciIsImRhdGVwaWNrZXJDb25maWciLCJtb2RlcyIsInJlZnJlc2hWaWV3IiwidW5pcXVlSWQiLCIkaWQiLCJmbG9vciIsImluaXREYXRlIiwiYWN0aXZlRGF0ZSIsIiRpc0VtcHR5IiwiJGludmFsaWQiLCJkYXRlT2JqZWN0IiwiY29tcGFyZSIsImFjdGl2ZURhdGVJZCIsInVpZCIsIm5nTW9kZWxDdHJsXyIsInJlbmRlciIsIiR2aWV3VmFsdWUiLCJlcnJvciIsIiRzZXRWYWxpZGl0eSIsIl9yZWZyZXNoVmlldyIsImNyZWF0ZURhdGVPYmplY3QiLCJtb2RlbCIsImxhYmVsIiwic2VsZWN0ZWQiLCJkaXNhYmxlZCIsImN1cnJlbnQiLCJjdXN0b21DbGFzcyIsImRhdGVEaXNhYmxlZCIsImFyciIsInNpemUiLCJhcnJheXMiLCJmaXhUaW1lWm9uZSIsInNldEhvdXJzIiwic2V0RnVsbFllYXIiLCJtb3ZlIiwic3RlcCIsInllYXJzIiwibW9udGhzIiwidG9nZ2xlTW9kZSIsImtleXMiLDEzLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLCJmb2N1c0VsZW1lbnQiLCJldnQiLCJzaGlmdEtleSIsImFsdEtleSIsImN0cmxLZXkiLCJoYW5kbGVLZXlEb3duIiwiZGF0ZXBpY2tlckN0cmwiLCJjdHJsIiwiZ2V0RGF5c0luTW9udGgiLCJEQVlTX0lOX01PTlRIIiwiZ2V0RGF0ZXMiLCJzdGFydERhdGUiLCJkYXRlcyIsIkFycmF5Iiwic2V0RGF0ZSIsImdldElTTzg2MDFXZWVrTnVtYmVyIiwiY2hlY2tEYXRlIiwiZ2V0RGF5IiwidGltZSIsImdldFRpbWUiLCJzZXRNb250aCIsImZpcnN0RGF5T2ZNb250aCIsImRpZmZlcmVuY2UiLCJudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCIsImZpcnN0RGF0ZSIsImRheXMiLCJzZWNvbmRhcnkiLCJsYWJlbHMiLCJhYmJyIiwiZnVsbCIsInJvd3MiLCJ3ZWVrTnVtYmVycyIsInRodXJzZGF5SW5kZXgiLCJudW1XZWVrcyIsImN1cldlZWsiLCJkYXRlMSIsImRhdGUyIiwibWluIiwiZ2V0U3RhcnRpbmdZZWFyIiwicmFuZ2UiLCJzdGFydCIsImRhdGVwaWNrZXJQb3B1cCIsImh0bWw1VHlwZXMiLCJkYXRldGltZS1sb2NhbCIsImN1cnJlbnRUZXh0IiwiY2xlYXJUZXh0IiwiY2xvc2VUZXh0IiwiY2xvc2VPbkRhdGVTZWxlY3Rpb24iLCJzaG93QnV0dG9uQmFyIiwiJHBvc2l0aW9uIiwiZGF0ZVBhcnNlciIsImRhdGVwaWNrZXJQb3B1cENvbmZpZyIsIm5nTW9kZWwiLCJjYW1lbHRvRGFzaCIsInN0cmluZyIsIiQxIiwicGFyc2VEYXRlIiwidmlld1ZhbHVlIiwiZGF0ZUZvcm1hdCIsInZhbGlkYXRvciIsIm1vZGVsVmFsdWUiLCJkYXRlcGlja2VyQXBwZW5kVG9Cb2R5IiwiZ2V0VGV4dCIsImlzSHRtbDVEYXRlSW5wdXQiLCJuZXdEYXRlRm9ybWF0IiwicG9wdXBFbCIsIm5nLW1vZGVsIiwibmctY2hhbmdlIiwiZGF0ZXBpY2tlckVsIiwiZGF0ZXBpY2tlck9wdGlvbnMiLCJ3YXRjaERhdGEiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJhc3NpZ24iLCJvbGR2YWx1ZSIsIiRmb3JtYXR0ZXJzIiwiJCRwYXJzZXJOYW1lIiwiJHZhbGlkYXRvcnMiLCIkcGFyc2VycyIsInVuc2hpZnQiLCJkYXRlU2VsZWN0aW9uIiwiJHZpZXdDaGFuZ2VMaXN0ZW5lcnMiLCJkb2N1bWVudENsaWNrQmluZCIsImlucHV0S2V5ZG93bkJpbmQiLCJ0b2RheSIsIiRwb3B1cCIsImFmdGVyIiwib3BlbkNsYXNzIiwib3BlblNjb3BlIiwib3BlbiIsImRyb3Bkb3duU2NvcGUiLCJjbG9zZURyb3Bkb3duIiwia2V5YmluZEZpbHRlciIsImdldEF1dG9DbG9zZSIsInRvZ2dsZUVsZW1lbnQiLCJnZXRUb2dnbGVFbGVtZW50IiwiZHJvcGRvd25FbGVtZW50IiwiZ2V0RHJvcGRvd25FbGVtZW50IiwiJCRwaGFzZSIsImZvY3VzVG9nZ2xlRWxlbWVudCIsImlzS2V5bmF2RW5hYmxlZCIsImZvY3VzRHJvcGRvd25FbnRyeSIsImRyb3Bkb3duQ29uZmlnIiwiZHJvcGRvd25TZXJ2aWNlIiwiJHRlbXBsYXRlUmVxdWVzdCIsInRlbXBsYXRlU2NvcGUiLCJnZXRJc09wZW4iLCIkbmV3Iiwic2V0SXNPcGVuIiwidG9nZ2xlSW52b2tlciIsIm9uVG9nZ2xlIiwia2V5bmF2RW5hYmxlZCIsImRyb3Bkb3duQXBwZW5kVG9Cb2R5Iiwia2V5Ym9hcmROYXYiLCJkcm9wZG93bk1lbnUiLCJhdXRvQ2xvc2UiLCJnZXRFbGVtZW50IiwiZWxlbXMiLCJzZWxlY3RlZE9wdGlvbiIsIndhc09wZW4iLCJyaWdodGFsaWduIiwiZHJvcGRvd25NZW51VGVtcGxhdGVVcmwiLCJ0cGxDb250ZW50IiwibmV3RWwiLCJyZXBsYWNlV2l0aCIsIiRkZXN0cm95IiwiZHJvcGRvd25DdHJsIiwidHBsVXJsIiwidG9nZ2xlRHJvcGRvd24iLCJhcmlhLWhhc3BvcHVwIiwiYXJpYS1leHBhbmRlZCIsImNyZWF0ZU5ldyIsImFkZCIsImlkeCIsInJlbW92ZVRvcCIsIiRtb2RhbFN0YWNrIiwibGlua0ZuIiwibW9kYWxJbkNsYXNzIiwiTk9XX0NMT1NJTkdfRVZFTlQiLCJzZXRJc0FzeW5jIiwidEF0dHJzIiwiYmFja2Ryb3BDbGFzcyIsIndpbmRvd0NsYXNzIiwiZ2V0VG9wIiwiJGlzUmVuZGVyZWQiLCJtb2RhbFJlbmRlckRlZmVyT2JqIiwiaW5wdXRzV2l0aEF1dG9mb2N1cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtb2RhbFJlbmRlcmVkIiwibW9kYWxBbmltYXRpb24iLCJtb2RhbEFuaW1hdGlvbkNsYXNzIiwiJHRyYW5zY2x1ZGUiLCJjbG9uZSIsIiQkc3RhY2tlZE1hcCIsImJhY2tkcm9wSW5kZXgiLCJ0b3BCYWNrZHJvcEluZGV4Iiwib3BlbmVkIiwib3BlbmVkV2luZG93cyIsInJlbW92ZU1vZGFsV2luZG93IiwibW9kYWxJbnN0YW5jZSIsImVsZW1lbnRUb1JlY2VpdmVGb2N1cyIsIm1vZGFsV2luZG93IiwicmVtb3ZlQWZ0ZXJBbmltYXRlIiwibW9kYWxEb21FbCIsIm1vZGFsU2NvcGUiLCJPUEVORURfTU9EQUxfQ0xBU1MiLCJjaGVja1JlbW92ZUJhY2tkcm9wIiwiYmFja2Ryb3BEb21FbCIsImJhY2tkcm9wU2NvcGVSZWYiLCJiYWNrZHJvcFNjb3BlIiwiZG9tRWwiLCJhZnRlckFuaW1hdGluZyIsImFzeW5jRGVmZXJyZWQiLCJhc3luY1Byb21pc2UiLCJ3aGVuIiwiYnJvYWRjYXN0Q2xvc2luZyIsInJlc3VsdE9yUmVhc29uIiwiY2xvc2luZyIsImRlZmF1bHRQcmV2ZW50ZWQiLCJuZXdCYWNrZHJvcEluZGV4IiwibW9kYWxPcGVuZXIiLCJhY3RpdmVFbGVtZW50IiwicmVuZGVyRGVmZXJyZWQiLCJjdXJyQmFja2Ryb3BJbmRleCIsImFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwiLCJhbmd1bGFyRG9tRWwiLCJ0ZW1wbGF0ZS11cmwiLCJ3aW5kb3dUZW1wbGF0ZVVybCIsIndpbmRvdy1jbGFzcyIsInJlYXNvbiIsImRpc21pc3NBbGwiLCJ0b3BNb2RhbCIsIiRtb2RhbFByb3ZpZGVyIiwiJGNvbnRyb2xsZXIiLCJnZXRUZW1wbGF0ZVByb21pc2UiLCJnZXRSZXNvbHZlUHJvbWlzZXMiLCJyZXNvbHZlcyIsInByb21pc2VzQXJyIiwiaW52b2tlIiwiJG1vZGFsIiwibW9kYWxPcHRpb25zIiwibW9kYWxSZXN1bHREZWZlcnJlZCIsIm1vZGFsT3BlbmVkRGVmZXJyZWQiLCJtb2RhbFJlbmRlckRlZmVycmVkIiwicmVuZGVyZWQiLCJ0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlIiwidHBsQW5kVmFycyIsIiRjbG9zZSIsIiRkaXNtaXNzIiwiY3RybEluc3RhbmNlIiwiY3RybExvY2FscyIsInJlc29sdmVJdGVyIiwiJG1vZGFsSW5zdGFuY2UiLCJjb250cm9sbGVyQXMiLCJiaW5kVG9Db250cm9sbGVyIiwic2V0TnVtUGFnZXMiLCJudW1QYWdlcyIsIml0ZW1zUGVyUGFnZSIsInRvdGFsUGFnZXMiLCJjYWxjdWxhdGVUb3RhbFBhZ2VzIiwicGFnZSIsInNlbGVjdFBhZ2UiLCJjZWlsIiwidG90YWxJdGVtcyIsImNsaWNrQWxsb3dlZCIsIm5nRGlzYWJsZWQiLCJibHVyIiwibm9QcmV2aW91cyIsIm5vTmV4dCIsImJvdW5kYXJ5TGlua3MiLCJkaXJlY3Rpb25MaW5rcyIsImZpcnN0VGV4dCIsInByZXZpb3VzVGV4dCIsIm5leHRUZXh0IiwibGFzdFRleHQiLCJyb3RhdGUiLCJwYWdpbmF0aW9uQ29uZmlnIiwibWFrZVBhZ2UiLCJudW1iZXIiLCJnZXRQYWdlcyIsImN1cnJlbnRQYWdlIiwicGFnZXMiLCJzdGFydFBhZ2UiLCJlbmRQYWdlIiwiaXNNYXhTaXplZCIsIm1heFNpemUiLCJwcmV2aW91c1BhZ2VTZXQiLCJuZXh0UGFnZVNldCIsInBhZ2luYXRpb25DdHJsIiwib3JpZ2luYWxSZW5kZXIiLCJhbGlnbiIsInBhZ2VyQ29uZmlnIiwic25ha2VfY2FzZSIsInJlZ2V4cCIsInNlcGFyYXRvciIsImxldHRlciIsImRlZmF1bHRPcHRpb25zIiwicG9wdXBEZWxheSIsInVzZUNvbnRlbnRFeHAiLCJ0cmlnZ2VyTWFwIiwibW91c2VlbnRlciIsImNsaWNrIiwiZ2xvYmFsT3B0aW9ucyIsInNldFRyaWdnZXJzIiwiZGVmYXVsdFRyaWdnZXJTaG93IiwiZ2V0VHJpZ2dlcnMiLCJkaXJlY3RpdmVOYW1lIiwic3RhcnRTeW0iLCJlbmRTeW0iLCJ0b29sdGlwTGlua2VyIiwidG9nZ2xlVG9vbHRpcEJpbmQiLCJ0dFNjb3BlIiwiaGlkZVRvb2x0aXBCaW5kIiwic2hvd1Rvb2x0aXBCaW5kIiwiaGFzRW5hYmxlRXhwIiwicHJlcGFyZVRvb2x0aXAiLCJwb3B1cFRpbWVvdXQiLCJyZXBvc2l0aW9uIiwidHJhbnNpdGlvblRpbWVvdXQiLCJjb250ZW50RXhwIiwiY3JlYXRlVG9vbHRpcCIsIiRkaWdlc3QiLCJwb3NpdGlvblRvb2x0aXAiLCJyZW1vdmVUb29sdGlwIiwidG9vbHRpcExpbmtlZFNjb3BlIiwicHJlcFBvcHVwQ2xhc3MiLCJwcmVwUGxhY2VtZW50IiwicHJlcFBvcHVwRGVsYXkiLCJwb3B1cENsYXNzIiwicHJlcFRyaWdnZXJzIiwidW5yZWdpc3RlclRyaWdnZXJzIiwidHRQb3NpdGlvbiIsIm9yaWdTY29wZSIsImFwcGVuZFRvQm9keVZhbCIsImVsZW0iLCJjdXJyZW50U2NvcGUiLCJwcmV2aW91c0VsZW1lbnQiLCJjdXJyZW50RWxlbWVudCIsInRvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGVTY29wZSIsImNoYW5nZUNvdW50ZXIiLCJjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50IiwicGFyc2VBc1Jlc291cmNlVXJsIiwidG9vbHRpcFRlbXBsYXRlVHJhbnNjbHVkZSIsInNyYyIsInRoaXNDaGFuZ2VJZCIsIm5ld1Njb3BlIiwidG9vbHRpcEFuaW1hdGlvbkNsYXNzIiwiJHRvb2x0aXAiLCJvcmlnaW5TY29wZSIsInRvb2x0aXBIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkIiwicHJvZ3Jlc3NDb25maWciLCJiYXJzIiwiYWRkQmFyIiwiYmFyIiwicmVjYWxjdWxhdGVQZXJjZW50YWdlIiwicGVyY2VudCIsInRvRml4ZWQiLCJyZW1vdmVCYXIiLCJwcm9ncmVzc0N0cmwiLCJzdGF0ZU9uIiwic3RhdGVPZmYiLCJyYXRpbmdDb25maWciLCJyYXRpbmdTdGF0ZXMiLCJidWlsZFRlbXBsYXRlT2JqZWN0cyIsInN0YXRlcyIsInJhdGUiLCJyZWFkb25seSIsIm9uSG92ZXIiLCJyZXNldCIsIm9uTGVhdmUiLCJvbktleWRvd24iLCJyYXRpbmdDdHJsIiwidGFicyIsInNlbGVjdGVkVGFiIiwib25EZXNlbGVjdCIsIm9uU2VsZWN0IiwiYWRkVGFiIiwicmVtb3ZlVGFiIiwibmV3QWN0aXZlSW5kZXgiLCJ2ZXJ0aWNhbCIsImp1c3RpZmllZCIsImVsbSIsInRhYnNldEN0cmwiLCIkdHJhbnNjbHVkZUZuIiwiaXNUYWJIZWFkaW5nIiwibm9kZSIsImhhc0F0dHJpYnV0ZSIsInRhYkNvbnRlbnRUcmFuc2NsdWRlIiwiaGVhZGluZ0VsZW1lbnQiLCJob3VyU3RlcCIsIm1pbnV0ZVN0ZXAiLCJzaG93TWVyaWRpYW4iLCJtZXJpZGlhbnMiLCJyZWFkb25seUlucHV0IiwibW91c2V3aGVlbCIsImFycm93a2V5cyIsInNob3dTcGlubmVycyIsInRpbWVwaWNrZXJDb25maWciLCJnZXRIb3Vyc0Zyb21UZW1wbGF0ZSIsInZhbGlkIiwibWVyaWRpYW4iLCJnZXRNaW51dGVzRnJvbVRlbXBsYXRlIiwicGFkIiwia2V5Ym9hcmRDaGFuZ2UiLCJtYWtlVmFsaWQiLCJ1cGRhdGVUZW1wbGF0ZSIsImludmFsaWRIb3VycyIsImludmFsaWRNaW51dGVzIiwiYWRkTWludXRlcyIsIkFNUE1TIiwiaW5wdXRzIiwiaG91cnNJbnB1dEVsIiwibWludXRlc0lucHV0RWwiLCJzZXR1cE1vdXNld2hlZWxFdmVudHMiLCJzZXR1cEFycm93a2V5RXZlbnRzIiwic2V0dXBJbnB1dEV2ZW50cyIsIiRlcnJvciIsImlzU2Nyb2xsaW5nVXAiLCJvcmlnaW5hbEV2ZW50Iiwid2hlZWxEZWx0YSIsImRlbHRhWSIsImRldGFpbCIsImluY3JlbWVudEhvdXJzIiwiZGVjcmVtZW50SG91cnMiLCJpbmNyZW1lbnRNaW51dGVzIiwiZGVjcmVtZW50TWludXRlcyIsInVwZGF0ZUhvdXJzIiwidXBkYXRlTWludXRlcyIsImludmFsaWRhdGUiLCJzZXRNaW51dGVzIiwidG9nZ2xlTWVyaWRpYW4iLCJ0aW1lcGlja2VyQ3RybCIsIiR0cmFuc2l0aW9uU3VwcHJlc3NEZXByZWNhdGVkIiwiZmluZEVuZEV2ZW50TmFtZSIsImVuZEV2ZW50TmFtZXMiLCJ0cmFuc0VsZW1lbnQiLCIkdHJhbnNpdGlvbiIsImVuZEV2ZW50TmFtZSIsInRyYW5zaXRpb25FbmRIYW5kbGVyIiwidHJhbnNpdGlvbkVuZEV2ZW50TmFtZXMiLCJhbmltYXRpb25FbmRFdmVudE5hbWVzIiwidHJhbnNpdGlvbkVuZEV2ZW50TmFtZSIsImFuaW1hdGlvbkVuZEV2ZW50TmFtZSIsIlRZUEVBSEVBRF9SRUdFWFAiLCJpdGVtTmFtZSIsInNvdXJjZSIsInZpZXdNYXBwZXIiLCJtb2RlbE1hcHBlciIsInR5cGVhaGVhZFBhcnNlciIsIkhPVF9LRVlTIiwiZXZlbnREZWJvdW5jZVRpbWUiLCJvcmlnaW5hbFNjb3BlIiwibW9kZWxDdHJsIiwiZmlyZVJlY2FsY3VsYXRpbmciLCJtb3ZlSW5Qcm9ncmVzcyIsInRpbWVvdXRFdmVudFByb21pc2UiLCJtYXRjaGVzIiwicmVjYWxjdWxhdGVQb3NpdGlvbiIsIm1pbkxlbmd0aCIsInR5cGVhaGVhZE1pbkxlbmd0aCIsImhhc0ZvY3VzIiwid2FpdFRpbWUiLCJ0eXBlYWhlYWRXYWl0TXMiLCJpc0VkaXRhYmxlIiwidHlwZWFoZWFkRWRpdGFibGUiLCJpc0xvYWRpbmdTZXR0ZXIiLCJ0eXBlYWhlYWRMb2FkaW5nIiwib25TZWxlY3RDYWxsYmFjayIsInR5cGVhaGVhZE9uU2VsZWN0IiwiaXNTZWxlY3RPbkJsdXIiLCJ0eXBlYWhlYWRTZWxlY3RPbkJsdXIiLCJpbnB1dEZvcm1hdHRlciIsInR5cGVhaGVhZElucHV0Rm9ybWF0dGVyIiwidHlwZWFoZWFkQXBwZW5kVG9Cb2R5IiwiZm9jdXNGaXJzdCIsInR5cGVhaGVhZEZvY3VzRmlyc3QiLCIkc2V0TW9kZWxWYWx1ZSIsInBhcnNlclJlc3VsdCIsInR5cGVhaGVhZCIsInBvcHVwSWQiLCJhcmlhLWF1dG9jb21wbGV0ZSIsImFyaWEtb3ducyIsInBvcFVwRWwiLCJtb3ZlLWluLXByb2dyZXNzIiwicXVlcnkiLCJ0eXBlYWhlYWRUZW1wbGF0ZVVybCIsInJlc2V0TWF0Y2hlcyIsImFjdGl2ZUlkeCIsImdldE1hdGNoSWQiLCJnZXRNYXRjaGVzQXN5bmMiLCJpbnB1dFZhbHVlIiwibG9jYWxzIiwib25DdXJyZW50UmVxdWVzdCIsInRpbWVvdXRQcm9taXNlIiwic2NoZWR1bGVTZWFyY2hXaXRoVGltZW91dCIsImNhbmNlbFByZXZpb3VzVGltZW91dCIsImNhbmRpZGF0ZVZpZXdWYWx1ZSIsImVtcHR5Vmlld1ZhbHVlIiwiJG1vZGVsIiwiJGl0ZW0iLCIkbGFiZWwiLCJkaXNtaXNzQ2xpY2tIYW5kbGVyIiwibWF0Y2hJZHgiLCJzZWxlY3RBY3RpdmUiLCJzZWxlY3RNYXRjaCIsImNsb25lZEVsZW1lbnQiLCJlc2NhcGVSZWdleHAiLCJxdWVyeVRvRXNjYXBlIiwibWF0Y2hJdGVtIiwiJHRlbXBsYXRlQ2FjaGUiLCIkJGNzcCIsInByZXBlbmQiLCJzYXZlIiwiZGlzYWJsZVNhdmUiLCJoaWRlTGFiZWwiLCJmaWxlVHlwZSIsImhhc1ZhbGlkRXh0ZW5zaW9uIiwiZXh0ZW5zaW9ucyIsInRlc3RVcmwiLCJ0ZXN0SW1hZ2UiLCJpbWFnZSIsIkltYWdlIiwib25sb2FkIiwib25lcnJvciIsImludmFsaWRUeXBlIiwidXJsUmVnRXhwIiwiZG9WYWxpZGF0aW9uIiwiZm9yY2VkVmFsaWQiLCJhbGxvd0luaXRFbXB0eSIsImluaXRFbXB0eSIsImluZm8iLCJTVE9SQUdFX0VOViIsInNldHRpbmdzU2F2ZXIiLCJzZXR0aW5nc0dldHRlciIsInNldHRpbmdzQ2xvc2VyIiwic2V0dGluZ3MiLCJhZGRpdGlvbmFsUGFyYW1zIiwiYWxlcnRzIiwiZ2V0QWRkaXRpb25hbFBhcmFtIiwiZGVmYXVsdFZhbCIsInNldEFkZGl0aW9uYWxQYXJhbSIsImxvYWRBZGRpdGlvbmFsUGFyYW1zIiwiZ2V0QWRkaXRpb25hbFBhcmFtcyIsInNldEFkZGl0aW9uYWxQYXJhbXMiLCJzYXZlU2V0dGluZ3MiLCJjbG9zZVNldHRpbmdzIiwiZ2V0UGFyYW1zIiwiJGVsbSIsIiR3YXRjaENvbGxlY3Rpb24iLCJuZXdBbGVydHMiLCJvbGRBbGVydHMiLCJTVE9SQUdFX0ZJTEVfVVJMX0JBU0UiLCJTVE9SQUdFX0ZPTERFUl9VUkxfQkFTRSIsImdldFN0b3JhZ2VVcmxEYXRhIiwiZ2V0U3RvcmFnZVR5cGUiLCJzdG9yYWdlVXJsIiwiZ2V0Q29tcGFueUlkIiwicCIsInN0ciIsInBhaXIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjb21wYW55SWQiLCJmaWxlTmFtZSIsInBvcCIsImZvbGRlciIsImdhZGdldHMiLCJhbmd1bGFyTG9hZCIsImxvYWRGb250cyIsImZhbWlseSIsImZvbnRzIiwidXJscyIsInNwYWNlcyIsImZvbnRCYXNlVXJsIiwiZXhjbHVkZSIsImFsbEZvbnRzIiwibG9hZENTUyIsImdldEdvb2dsZUZvbnRzIiwicmVzcCIsIml0ZW1zIiwic3Vic2V0cyIsImdldEZvbnRzVXNlZCIsImZhbWlseUxpc3QiLCJmb250c1VzZWQiLCJpMThuIiwiZmFsbGJhY2tMbmciLCJyZXNHZXRQYXRoIiwiaXNJbWFnZSIsImdhZGdldHNBcGkiLCJzZXR0aW5nc1BhcnNlciIsInByb2Nlc3NTZXR0aW5ncyIsIm5ld1NldHRpbmdzIiwicnNXIiwicnNIIiwiZGVidWciLCJsYXlvdXRVUkwiLCJlbmNvZGVQYXJhbXMiLCJhZGRpdGlvbmFsUGFyYW1zU3RyIiwiZW5jb2RlQWRkaXRpb25hbFBhcmFtcyIsInJwYyIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZWZhdWx0U2V0dGluZ3MiLCJkZWZhdWx0QWRkaXRpb25hbFBhcmFtcyIsInBhcnNlQWRkaXRpb25hbFBhcmFtcyIsImRlZmF1bHRQYXJhbXMiLCJwYXJzZVBhcmFtcyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3RyaXBQcmVmaXgiLCJlbmNvZGVVUklDb21wb25lbnQiLCJwYXJhbXNTdHIiLCJ2YXJzIiwiZ29vZ2xlIiwidmlzdWFsaXphdGlvbiIsInNldE9uTG9hZENhbGxiYWNrIiwicmVzcG9uc2VIZWFkZXJBbmFseXplciIsIm5vRnJhbWVBbmNlc3RvcnMiLCJub1hGcmFtZU9wdGlvbnMiLCJpc1ByZXZpZXdVcmwiLCJ1cmxJbnB1dCIsInZhbGlkYXRlWEZyYW1lIiwiaW5jbHVkZXMiLCJzZXR0aW5nc0Zvcm0iLCJwYWdlVXJsIiwiJHZhbGlkIiwibmV3VmFsIiwib2xkVmFsIiwiaW50ZXJhY3Rpdml0eSIsInNjcm9sbGJhcnMiLCJjYWNoZUJ1c3RlciIsImludGVyYWN0aXZlIiwicmVnaW9uIiwic2hvd1JlZ2lvbiIsImhvcml6b250YWwiLCJ1bmxvYWQiLCJ6b29tIiwiZXh0cmFjdE9wdGlvbnNGcm9tIiwiaGVhZGVyIiwiaGVhZGVycyIsInN0YXR1cyIsInN0YXR1c1RleHQiXSwibWFwcGluZ3MiOiJDQUtDLFNBQVVBLEVBQU1DLEdBQ08sa0JBQVhDLFNBQXlCQSxPQUFPQyxJQUV6Q0QsVUFBVyxXQUNULE1BQVFELE9BRWtCLGdCQUFaRyxTQUloQkMsT0FBT0QsUUFBVUgsSUFFakJBLEtBRUZLLEtBQU0sV0FvQlIsUUFBU0MsR0FBYUMsR0FFcEIsWUFFQSxJQUFJQyxHQUFNRCxFQUFXRSxhQUNuQkMsRUFBVUgsRUFBV0csVUFFbkJDLEVBQW9DLFdBQ3RDLEdBQUlDLEdBQVlMLEVBQVdNLG1CQUN2QkMsU0FBUUMsU0FBU0gsR0FDbkJMLEVBQVdTLElBQUlKLEdBSWZGLEVBQVFPLElBQUlULEVBQUtELEVBQVdTLE9BSWhDTCxHQUFrQ08sWUFBYyxvQ0FFNUNSLEVBQ0dBLEVBQVFTLElBQUlYLEdBR2ZELEVBQVdTLElBQUlOLEVBQVFTLElBQUlYLElBQU0sU0FBU0csR0FGMUNBLElBSU9HLFFBQVFDLFNBQVNSLEVBQVdNLHNCQUNyQ04sRUFBV1MsSUFBSVQsRUFBV00scUJBZ0I5QixRQUFTTyxLQUVQLFlBRUEsSUFBSUMsR0FDQUMsRUFJQUMsRUFIQUMsRUFBa0IsS0FDbEJDLEdBQXdCLEVBQ3hCQyxHQUFzQyxDQWlDMUNILElBQ0VJLFNBQVUsU0FBVUMsRUFBT0MsR0FJekIsTUFIYSxTQUFUQSxJQUNGRCxFQUFRRSxFQUFrQkYsSUFFckJBLEdBRVRHLE9BQVEsU0FBVUgsRUFBT0MsR0FJdkIsTUFIYSxTQUFUQSxJQUNGRCxFQUFRSSxFQUFnQkosSUFFbkJBLEdBRVRLLG1CQUFvQixT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WCxPQUFYRCxHQUFzRCxLQUFuQ0EsRUFBT2ovQyxRQUFTLGVBQ3RDOEcsRUFBUTdHLEtBQU0sbUJBR2hCZy9DLEVBQVMzb0MsRUFBUzRvQyxRQUFTLDJCQUNYLE9BQVhELEdBQW1CQSxFQUFPai9DLFFBQVMsbUJBQXNCLEdBQzVEOEcsRUFBUTdHLEtBQU0sbUJBR1Q2RyxFQXJDVCxHQUFJdEwsSUFDRitwQixXQUFZLFNBQVUxZSxHQUVwQixNQUFPeUUsSUFDTDJLLE9BQVEsTUFDUnBQLElBQUssZ0NBQWtDQSxJQUNyQ3NELEtBQU0sU0FBVW1NLEdBRWxCLE1BQU1BLElBSU43WCxFQUFLNDlDLE1BQU8vbEMsRUFBUzRvQyxXQUVkNW9DLEVBQVM0b0MsVUFBWUYsRUFBb0Ixb0MsV0FDL0MsU0FBVUEsR0FHWCxNQUZBN1gsR0FBSzQ5QyxNQUFPLDJDQUE2Qy9sQyxFQUFTNm9DLE9BQVMsS0FBTzdvQyxFQUFTOG9DLGtCQXdCakcsT0FBTzVqRCIsImZpbGUiOiJqcy9zZXR0aW5ncy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIGFuZ3VsYXItdHJhbnNsYXRlIC0gdjIuMTMuMSAtIDIwMTYtMTItMDZcbiAqIFxuICogQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBhbmd1bGFyLXRyYW5zbGF0ZSB0ZWFtLCBQYXNjYWwgUHJlY2h0OyBMaWNlbnNlZCBNSVRcbiAqL1xuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUgdW5sZXNzIGFtZE1vZHVsZUlkIGlzIHNldFxuICAgIGRlZmluZShbXSwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIChmYWN0b3J5KCkpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgIC8vIGxpa2UgTm9kZS5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24gKCkge1xuXG4vKipcbiAqIEBuZ2RvYyBvdmVydmlld1xuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIG1haW4gbW9kdWxlIHdoaWNoIGhvbGRzIGV2ZXJ5dGhpbmcgdG9nZXRoZXIuXG4gKi9cbnJ1blRyYW5zbGF0ZS4kaW5qZWN0ID0gWyckdHJhbnNsYXRlJ107XG4kdHJhbnNsYXRlLiRpbmplY3QgPSBbJyRTVE9SQUdFX0tFWScsICckd2luZG93UHJvdmlkZXInLCAnJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyJywgJ3Bhc2NhbHByZWNodFRyYW5zbGF0ZU92ZXJyaWRlciddO1xuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uLiRpbmplY3QgPSBbJyRpbnRlcnBvbGF0ZScsICckdHJhbnNsYXRlU2FuaXRpemF0aW9uJ107XG50cmFuc2xhdGVEaXJlY3RpdmUuJGluamVjdCA9IFsnJHRyYW5zbGF0ZScsICckaW50ZXJwb2xhdGUnLCAnJGNvbXBpbGUnLCAnJHBhcnNlJywgJyRyb290U2NvcGUnXTtcbnRyYW5zbGF0ZUF0dHJEaXJlY3RpdmUuJGluamVjdCA9IFsnJHRyYW5zbGF0ZScsICckcm9vdFNjb3BlJ107XG50cmFuc2xhdGVDbG9ha0RpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdHJhbnNsYXRlJywgJyRyb290U2NvcGUnXTtcbnRyYW5zbGF0ZUZpbHRlckZhY3RvcnkuJGluamVjdCA9IFsnJHBhcnNlJywgJyR0cmFuc2xhdGUnXTtcbiR0cmFuc2xhdGlvbkNhY2hlLiRpbmplY3QgPSBbJyRjYWNoZUZhY3RvcnknXTtcbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJywgWyduZyddKVxuICAucnVuKHJ1blRyYW5zbGF0ZSk7XG5cbmZ1bmN0aW9uIHJ1blRyYW5zbGF0ZSgkdHJhbnNsYXRlKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBrZXkgPSAkdHJhbnNsYXRlLnN0b3JhZ2VLZXkoKSxcbiAgICBzdG9yYWdlID0gJHRyYW5zbGF0ZS5zdG9yYWdlKCk7XG5cbiAgdmFyIGZhbGxiYWNrRnJvbUluY29ycmVjdFN0b3JhZ2VWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJlZmVycmVkID0gJHRyYW5zbGF0ZS5wcmVmZXJyZWRMYW5ndWFnZSgpO1xuICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKHByZWZlcnJlZCkpIHtcbiAgICAgICR0cmFuc2xhdGUudXNlKHByZWZlcnJlZCk7XG4gICAgICAvLyAkdHJhbnNsYXRlLnVzZSgpIHdpbGwgYWxzbyByZW1lbWJlciB0aGUgbGFuZ3VhZ2UuXG4gICAgICAvLyBTbywgd2UgZG9uJ3QgbmVlZCB0byBjYWxsIHN0b3JhZ2UucHV0KCkgaGVyZS5cbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcmFnZS5wdXQoa2V5LCAkdHJhbnNsYXRlLnVzZSgpKTtcbiAgICB9XG4gIH07XG5cbiAgZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlLmRpc3BsYXlOYW1lID0gJ2ZhbGxiYWNrRnJvbUluY29ycmVjdFN0b3JhZ2VWYWx1ZSc7XG5cbiAgaWYgKHN0b3JhZ2UpIHtcbiAgICBpZiAoIXN0b3JhZ2UuZ2V0KGtleSkpIHtcbiAgICAgIGZhbGxiYWNrRnJvbUluY29ycmVjdFN0b3JhZ2VWYWx1ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkdHJhbnNsYXRlLnVzZShzdG9yYWdlLmdldChrZXkpKVsnY2F0Y2gnXShmYWxsYmFja0Zyb21JbmNvcnJlY3RTdG9yYWdlVmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKCR0cmFuc2xhdGUucHJlZmVycmVkTGFuZ3VhZ2UoKSkpIHtcbiAgICAkdHJhbnNsYXRlLnVzZSgkdHJhbnNsYXRlLnByZWZlcnJlZExhbmd1YWdlKCkpO1xuICB9XG59XG5cbnJ1blRyYW5zbGF0ZS5kaXNwbGF5TmFtZSA9ICdydW5UcmFuc2xhdGUnO1xuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogQ29uZmlndXJhdGlvbnMgZm9yICR0cmFuc2xhdGVTYW5pdGl6YXRpb25cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKS5wcm92aWRlcignJHRyYW5zbGF0ZVNhbml0aXphdGlvbicsICR0cmFuc2xhdGVTYW5pdGl6YXRpb25Qcm92aWRlcik7XG5cbmZ1bmN0aW9uICR0cmFuc2xhdGVTYW5pdGl6YXRpb25Qcm92aWRlciAoKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciAkc2FuaXRpemUsXG4gICAgICAkc2NlLFxuICAgICAgY3VycmVudFN0cmF0ZWd5ID0gbnVsbCwgLy8gVE9ETyBjaGFuZ2UgdG8gZWl0aGVyICdzYW5pdGl6ZScsICdlc2NhcGUnIG9yIFsnc2FuaXRpemUnLCAnZXNjYXBlUGFyYW1ldGVycyddIGluIDMuMC5cbiAgICAgIGhhc0NvbmZpZ3VyZWRTdHJhdGVneSA9IGZhbHNlLFxuICAgICAgaGFzU2hvd25Ob1N0cmF0ZWd5Q29uZmlndXJlZFdhcm5pbmcgPSBmYWxzZSxcbiAgICAgIHN0cmF0ZWdpZXM7XG5cbiAgLyoqXG4gICAqIERlZmluaXRpb24gb2YgYSBzYW5pdGl6YXRpb24gc3RyYXRlZ3kgZnVuY3Rpb25cbiAgICogQGNhbGxiYWNrIFN0cmF0ZWd5RnVuY3Rpb25cbiAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSB2YWx1ZSAtIHZhbHVlIHRvIGJlIHNhbml0aXplZCAoZWl0aGVyIGEgc3RyaW5nIG9yIGFuIGludGVycG9sYXRlZCB2YWx1ZSBtYXApXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIC0gZWl0aGVyICd0ZXh0JyBmb3IgYSBzdHJpbmcgKHRyYW5zbGF0aW9uKSBvciAncGFyYW1zJyBmb3IgdGhlIGludGVycG9sYXRlZCBwYXJhbXNcbiAgICogQHJldHVybiB7c3RyaW5nfG9iamVjdH1cbiAgICovXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgKiBAbmFtZSBzdHJhdGVnaWVzXG4gICAqIEBwcm9wZXJ0eU9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBGb2xsb3dpbmcgc3RyYXRlZ2llcyBhcmUgYnVpbHQtaW46XG4gICAqIDxkbD5cbiAgICogICA8ZHQ+c2FuaXRpemU8L2R0PlxuICAgKiAgIDxkZD5TYW5pdGl6ZXMgSFRNTCBpbiB0aGUgdHJhbnNsYXRpb24gdGV4dCB1c2luZyAkc2FuaXRpemU8L2RkPlxuICAgKiAgIDxkdD5lc2NhcGU8L2R0PlxuICAgKiAgIDxkZD5Fc2NhcGVzIEhUTUwgaW4gdGhlIHRyYW5zbGF0aW9uPC9kZD5cbiAgICogICA8ZHQ+c2FuaXRpemVQYXJhbWV0ZXJzPC9kdD5cbiAgICogICA8ZGQ+U2FuaXRpemVzIEhUTUwgaW4gdGhlIHZhbHVlcyBvZiB0aGUgaW50ZXJwb2xhdGlvbiBwYXJhbWV0ZXJzIHVzaW5nICRzYW5pdGl6ZTwvZGQ+XG4gICAqICAgPGR0PmVzY2FwZVBhcmFtZXRlcnM8L2R0PlxuICAgKiAgIDxkZD5Fc2NhcGVzIEhUTUwgaW4gdGhlIHZhbHVlcyBvZiB0aGUgaW50ZXJwb2xhdGlvbiBwYXJhbWV0ZXJzPC9kZD5cbiAgICogICA8ZHQ+ZXNjYXBlZDwvZHQ+XG4gICAqICAgPGRkPlN1cHBvcnQgbGVnYWN5IHN0cmF0ZWd5IG5hbWUgJ2VzY2FwZWQnIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSAod2lsbCBiZSByZW1vdmVkIGluIDMuMCk8L2RkPlxuICAgKiA8L2RsPlxuICAgKlxuICAgKi9cblxuICBzdHJhdGVnaWVzID0ge1xuICAgIHNhbml0aXplOiBmdW5jdGlvbiAodmFsdWUsIG1vZGUvKiwgY29udGV4dCovKSB7XG4gICAgICBpZiAobW9kZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIHZhbHVlID0gaHRtbFNhbml0aXplVmFsdWUodmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgZXNjYXBlOiBmdW5jdGlvbiAodmFsdWUsIG1vZGUvKiwgY29udGV4dCovKSB7XG4gICAgICBpZiAobW9kZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIHZhbHVlID0gaHRtbEVzY2FwZVZhbHVlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIHNhbml0aXplUGFyYW1ldGVyczogZnVuY3Rpb24gKHZhbHVlLCBtb2RlLyosIGNvbnRleHQqLykge1xuICAgICAgaWYgKG1vZGUgPT09ICdwYXJhbXMnKSB7XG4gICAgICAgIHZhbHVlID0gbWFwSW50ZXJwb2xhdGlvblBhcmFtZXRlcnModmFsdWUsIGh0bWxTYW5pdGl6ZVZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIGVzY2FwZVBhcmFtZXRlcnM6IGZ1bmN0aW9uICh2YWx1ZSwgbW9kZS8qLCBjb250ZXh0Ki8pIHtcbiAgICAgIGlmIChtb2RlID09PSAncGFyYW1zJykge1xuICAgICAgICB2YWx1ZSA9IG1hcEludGVycG9sYXRpb25QYXJhbWV0ZXJzKHZhbHVlLCBodG1sRXNjYXBlVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgc2NlOiBmdW5jdGlvbiAodmFsdWUsIG1vZGUsIGNvbnRleHQpIHtcbiAgICAgIGlmIChtb2RlID09PSAndGV4dCcpIHtcbiAgICAgICAgdmFsdWUgPSBodG1sVHJ1c3RWYWx1ZSh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdwYXJhbXMnKSB7XG4gICAgICAgIGlmIChjb250ZXh0ICE9PSAnZmlsdGVyJykge1xuICAgICAgICAgIC8vIGRvIGh0bWwgZXNjYXBlIGluIGZpbHRlciBjb250ZXh0ICMxMTAxXG4gICAgICAgICAgdmFsdWUgPSBtYXBJbnRlcnBvbGF0aW9uUGFyYW1ldGVycyh2YWx1ZSwgaHRtbEVzY2FwZVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgc2NlUGFyYW1ldGVyczogZnVuY3Rpb24gKHZhbHVlLCBtb2RlLyosIGNvbnRleHQqLykge1xuICAgICAgaWYgKG1vZGUgPT09ICdwYXJhbXMnKSB7XG4gICAgICAgIHZhbHVlID0gbWFwSW50ZXJwb2xhdGlvblBhcmFtZXRlcnModmFsdWUsIGh0bWxUcnVzdFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH07XG4gIC8vIFN1cHBvcnQgbGVnYWN5IHN0cmF0ZWd5IG5hbWUgJ2VzY2FwZWQnIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgLy8gVE9ETyBzaG91bGQgYmUgcmVtb3ZlZCBpbiAzLjBcbiAgc3RyYXRlZ2llcy5lc2NhcGVkID0gc3RyYXRlZ2llcy5lc2NhcGVQYXJhbWV0ZXJzO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXIjYWRkU3RyYXRlZ3lcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBBZGRzIGEgc2FuaXRpemF0aW9uIHN0cmF0ZWd5IHRvIHRoZSBsaXN0IG9mIGtub3duIHN0cmF0ZWdpZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJhdGVneU5hbWUgLSB1bmlxdWUga2V5IGZvciBhIHN0cmF0ZWd5XG4gICAqIEBwYXJhbSB7U3RyYXRlZ3lGdW5jdGlvbn0gc3RyYXRlZ3lGdW5jdGlvbiAtIHN0cmF0ZWd5IGZ1bmN0aW9uXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHRoaXNcbiAgICovXG4gIHRoaXMuYWRkU3RyYXRlZ3kgPSBmdW5jdGlvbiAoc3RyYXRlZ3lOYW1lLCBzdHJhdGVneUZ1bmN0aW9uKSB7XG4gICAgc3RyYXRlZ2llc1tzdHJhdGVneU5hbWVdID0gc3RyYXRlZ3lGdW5jdGlvbjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyI3JlbW92ZVN0cmF0ZWd5XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb25Qcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVtb3ZlcyBhIHNhbml0aXphdGlvbiBzdHJhdGVneSBmcm9tIHRoZSBsaXN0IG9mIGtub3duIHN0cmF0ZWdpZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJhdGVneU5hbWUgLSB1bmlxdWUga2V5IGZvciBhIHN0cmF0ZWd5XG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHRoaXNcbiAgICovXG4gIHRoaXMucmVtb3ZlU3RyYXRlZ3kgPSBmdW5jdGlvbiAoc3RyYXRlZ3lOYW1lKSB7XG4gICAgZGVsZXRlIHN0cmF0ZWdpZXNbc3RyYXRlZ3lOYW1lXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyI3VzZVN0cmF0ZWd5XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb25Qcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2VsZWN0cyBhIHNhbml0aXphdGlvbiBzdHJhdGVneS4gV2hlbiBhbiBhcnJheSBpcyBwcm92aWRlZCB0aGUgc3RyYXRlZ2llcyB3aWxsIGJlIGV4ZWN1dGVkIGluIG9yZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xTdHJhdGVneUZ1bmN0aW9ufGFycmF5fSBzdHJhdGVneSBUaGUgc2FuaXRpemF0aW9uIHN0cmF0ZWd5IC8gc3RyYXRlZ2llcyB3aGljaCBzaG91bGQgYmUgdXNlZC4gRWl0aGVyIGEgbmFtZSBvZiBhbiBleGlzdGluZyBzdHJhdGVneSwgYSBjdXN0b20gc3RyYXRlZ3kgZnVuY3Rpb24sIG9yIGFuIGFycmF5IGNvbnNpc3Rpbmcgb2YgbXVsdGlwbGUgbmFtZXMgYW5kIC8gb3IgY3VzdG9tIGZ1bmN0aW9ucy5cbiAgICogQHJldHVybnMge29iamVjdH0gdGhpc1xuICAgKi9cbiAgdGhpcy51c2VTdHJhdGVneSA9IGZ1bmN0aW9uIChzdHJhdGVneSkge1xuICAgIGhhc0NvbmZpZ3VyZWRTdHJhdGVneSA9IHRydWU7XG4gICAgY3VycmVudFN0cmF0ZWd5ID0gc3RyYXRlZ3k7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBvYmplY3RcbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uXG4gICAqIEByZXF1aXJlcyAkaW5qZWN0b3JcbiAgICogQHJlcXVpcmVzICRsb2dcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNhbml0aXplcyBpbnRlcnBvbGF0aW9uIHBhcmFtZXRlcnMgYW5kIHRyYW5zbGF0ZWQgdGV4dHMuXG4gICAqXG4gICAqL1xuICB0aGlzLiRnZXQgPSBbJyRpbmplY3RvcicsICckbG9nJywgZnVuY3Rpb24gKCRpbmplY3RvciwgJGxvZykge1xuXG4gICAgdmFyIGNhY2hlZFN0cmF0ZWd5TWFwID0ge307XG5cbiAgICB2YXIgYXBwbHlTdHJhdGVnaWVzID0gZnVuY3Rpb24gKHZhbHVlLCBtb2RlLCBjb250ZXh0LCBzZWxlY3RlZFN0cmF0ZWdpZXMpIHtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxlY3RlZFN0cmF0ZWdpZXMsIGZ1bmN0aW9uIChzZWxlY3RlZFN0cmF0ZWd5KSB7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oc2VsZWN0ZWRTdHJhdGVneSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IHNlbGVjdGVkU3RyYXRlZ3kodmFsdWUsIG1vZGUsIGNvbnRleHQpO1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihzdHJhdGVnaWVzW3NlbGVjdGVkU3RyYXRlZ3ldKSkge1xuICAgICAgICAgIHZhbHVlID0gc3RyYXRlZ2llc1tzZWxlY3RlZFN0cmF0ZWd5XSh2YWx1ZSwgbW9kZSwgY29udGV4dCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc1N0cmluZyhzdHJhdGVnaWVzW3NlbGVjdGVkU3RyYXRlZ3ldKSkge1xuICAgICAgICAgIGlmICghY2FjaGVkU3RyYXRlZ3lNYXBbc3RyYXRlZ2llc1tzZWxlY3RlZFN0cmF0ZWd5XV0pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNhY2hlZFN0cmF0ZWd5TWFwW3N0cmF0ZWdpZXNbc2VsZWN0ZWRTdHJhdGVneV1dID0gJGluamVjdG9yLmdldChzdHJhdGVnaWVzW3NlbGVjdGVkU3RyYXRlZ3ldKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgY2FjaGVkU3RyYXRlZ3lNYXBbc3RyYXRlZ2llc1tzZWxlY3RlZFN0cmF0ZWd5XV0gPSBmdW5jdGlvbigpIHt9O1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvbjogVW5rbm93biBzYW5pdGl6YXRpb24gc3RyYXRlZ3k6IFxcJycgKyBzZWxlY3RlZFN0cmF0ZWd5ICsgJ1xcJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB2YWx1ZSA9IGNhY2hlZFN0cmF0ZWd5TWFwW3N0cmF0ZWdpZXNbc2VsZWN0ZWRTdHJhdGVneV1dKHZhbHVlLCBtb2RlLCBjb250ZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvbjogVW5rbm93biBzYW5pdGl6YXRpb24gc3RyYXRlZ3k6IFxcJycgKyBzZWxlY3RlZFN0cmF0ZWd5ICsgJ1xcJycpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLy8gVE9ETzogc2hvdWxkIGJlIHJlbW92ZWQgaW4gMy4wXG4gICAgdmFyIHNob3dOb1N0cmF0ZWd5Q29uZmlndXJlZFdhcm5pbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIWhhc0NvbmZpZ3VyZWRTdHJhdGVneSAmJiAhaGFzU2hvd25Ob1N0cmF0ZWd5Q29uZmlndXJlZFdhcm5pbmcpIHtcbiAgICAgICAgJGxvZy53YXJuKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb246IE5vIHNhbml0aXphdGlvbiBzdHJhdGVneSBoYXMgYmVlbiBjb25maWd1cmVkLiBUaGlzIGNhbiBoYXZlIHNlcmlvdXMgc2VjdXJpdHkgaW1wbGljYXRpb25zLiBTZWUgaHR0cDovL2FuZ3VsYXItdHJhbnNsYXRlLmdpdGh1Yi5pby9kb2NzLyMvZ3VpZGUvMTlfc2VjdXJpdHkgZm9yIGRldGFpbHMuJyk7XG4gICAgICAgIGhhc1Nob3duTm9TdHJhdGVneUNvbmZpZ3VyZWRXYXJuaW5nID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKCRpbmplY3Rvci5oYXMoJyRzYW5pdGl6ZScpKSB7XG4gICAgICAkc2FuaXRpemUgPSAkaW5qZWN0b3IuZ2V0KCckc2FuaXRpemUnKTtcbiAgICB9XG4gICAgaWYgKCRpbmplY3Rvci5oYXMoJyRzY2UnKSkge1xuICAgICAgJHNjZSA9ICRpbmplY3Rvci5nZXQoJyRzY2UnKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvbiN1c2VTdHJhdGVneVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogU2VsZWN0cyBhIHNhbml0aXphdGlvbiBzdHJhdGVneS4gV2hlbiBhbiBhcnJheSBpcyBwcm92aWRlZCB0aGUgc3RyYXRlZ2llcyB3aWxsIGJlIGV4ZWN1dGVkIGluIG9yZGVyLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfFN0cmF0ZWd5RnVuY3Rpb258YXJyYXl9IHN0cmF0ZWd5IFRoZSBzYW5pdGl6YXRpb24gc3RyYXRlZ3kgLyBzdHJhdGVnaWVzIHdoaWNoIHNob3VsZCBiZSB1c2VkLiBFaXRoZXIgYSBuYW1lIG9mIGFuIGV4aXN0aW5nIHN0cmF0ZWd5LCBhIGN1c3RvbSBzdHJhdGVneSBmdW5jdGlvbiwgb3IgYW4gYXJyYXkgY29uc2lzdGluZyBvZiBtdWx0aXBsZSBuYW1lcyBhbmQgLyBvciBjdXN0b20gZnVuY3Rpb25zLlxuICAgICAgICovXG4gICAgICB1c2VTdHJhdGVneTogKGZ1bmN0aW9uIChzZWxmKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc3RyYXRlZ3kpIHtcbiAgICAgICAgICBzZWxmLnVzZVN0cmF0ZWd5KHN0cmF0ZWd5KTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uI3Nhbml0aXplXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBTYW5pdGl6ZXMgYSB2YWx1ZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHZhbHVlIFRoZSB2YWx1ZSB3aGljaCBzaG91bGQgYmUgc2FuaXRpemVkLlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgVGhlIGN1cnJlbnQgc2FuaXRpemF0aW9uIG1vZGUsIGVpdGhlciAncGFyYW1zJyBvciAndGV4dCcuXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xTdHJhdGVneUZ1bmN0aW9ufGFycmF5fSBbc3RyYXRlZ3ldIE9wdGlvbmFsIGN1c3RvbSBzdHJhdGVneSB3aGljaCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgc3RyYXRlZ3kuXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NvbnRleHRdIFRoZSBjb250ZXh0IG9mIHRoaXMgY2FsbDogZmlsdGVyLCBzZXJ2aWNlLiBEZWZhdWx0IGlzIHNlcnZpY2VcbiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8b2JqZWN0fSBzYW5pdGl6ZWQgdmFsdWVcbiAgICAgICAqL1xuICAgICAgc2FuaXRpemU6IGZ1bmN0aW9uICh2YWx1ZSwgbW9kZSwgc3RyYXRlZ3ksIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKCFjdXJyZW50U3RyYXRlZ3kpIHtcbiAgICAgICAgICBzaG93Tm9TdHJhdGVneUNvbmZpZ3VyZWRXYXJuaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN0cmF0ZWd5ICYmIHN0cmF0ZWd5ICE9PSBudWxsKSB7XG4gICAgICAgICAgc3RyYXRlZ3kgPSBjdXJyZW50U3RyYXRlZ3k7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN0cmF0ZWd5KSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgY29udGV4dCA9ICdzZXJ2aWNlJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWxlY3RlZFN0cmF0ZWdpZXMgPSBhbmd1bGFyLmlzQXJyYXkoc3RyYXRlZ3kpID8gc3RyYXRlZ3kgOiBbc3RyYXRlZ3ldO1xuICAgICAgICByZXR1cm4gYXBwbHlTdHJhdGVnaWVzKHZhbHVlLCBtb2RlLCBjb250ZXh0LCBzZWxlY3RlZFN0cmF0ZWdpZXMpO1xuICAgICAgfVxuICAgIH07XG4gIH1dO1xuXG4gIHZhciBodG1sRXNjYXBlVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdj48L2Rpdj4nKTtcbiAgICBlbGVtZW50LnRleHQodmFsdWUpOyAvLyBub3QgY2hhaW5hYmxlLCBzZWUgIzEwNDRcbiAgICByZXR1cm4gZWxlbWVudC5odG1sKCk7XG4gIH07XG5cbiAgdmFyIGh0bWxTYW5pdGl6ZVZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKCEkc2FuaXRpemUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uOiBFcnJvciBjYW5ub3QgZmluZCAkc2FuaXRpemUgc2VydmljZS4gRWl0aGVyIGluY2x1ZGUgdGhlIG5nU2FuaXRpemUgbW9kdWxlIChodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmdTYW5pdGl6ZSkgb3IgdXNlIGEgc2FuaXRpemF0aW9uIHN0cmF0ZWd5IHdoaWNoIGRvZXMgbm90IGRlcGVuZCBvbiAkc2FuaXRpemUsIHN1Y2ggYXMgXFwnZXNjYXBlXFwnLicpO1xuICAgIH1cbiAgICByZXR1cm4gJHNhbml0aXplKHZhbHVlKTtcbiAgfTtcblxuICB2YXIgaHRtbFRydXN0VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAoISRzY2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uOiBFcnJvciBjYW5ub3QgZmluZCAkc2NlIHNlcnZpY2UuJyk7XG4gICAgfVxuICAgIHJldHVybiAkc2NlLnRydXN0QXNIdG1sKHZhbHVlKTtcbiAgfTtcblxuICB2YXIgbWFwSW50ZXJwb2xhdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiAodmFsdWUsIGl0ZXJhdGVlLCBzdGFjaykge1xuICAgIGlmIChhbmd1bGFyLmlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gYW5ndWxhci5pc0FycmF5KHZhbHVlKSA/IFtdIDoge307XG5cbiAgICAgIGlmICghc3RhY2spIHtcbiAgICAgICAgc3RhY2sgPSBbXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzdGFjay5pbmRleE9mKHZhbHVlKSA+IC0xKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb246IEVycm9yIGNhbm5vdCBpbnRlcnBvbGF0ZSBwYXJhbWV0ZXIgZHVlIHJlY3Vyc2l2ZSBvYmplY3QnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzdGFjay5wdXNoKHZhbHVlKTtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24gKHByb3BlcnR5VmFsdWUsIHByb3BlcnR5S2V5KSB7XG5cbiAgICAgICAgLyogU2tpcHBpbmcgZnVuY3Rpb24gcHJvcGVydGllcy4gKi9cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihwcm9wZXJ0eVZhbHVlKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdFtwcm9wZXJ0eUtleV0gPSBtYXBJbnRlcnBvbGF0aW9uUGFyYW1ldGVycyhwcm9wZXJ0eVZhbHVlLCBpdGVyYXRlZSwgc3RhY2spO1xuICAgICAgfSk7XG4gICAgICBzdGFjay5zcGxpY2UoLTEsIDEpOyAvLyByZW1vdmUgbGFzdFxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGl0ZXJhdGVlKHZhbHVlKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqICR0cmFuc2xhdGVQcm92aWRlciBhbGxvd3MgZGV2ZWxvcGVycyB0byByZWdpc3RlciB0cmFuc2xhdGlvbi10YWJsZXMsIGFzeW5jaHJvbm91cyBsb2FkZXJzXG4gKiBhbmQgc2ltaWxhciB0byBjb25maWd1cmUgdHJhbnNsYXRpb24gYmVoYXZpb3IgZGlyZWN0bHkgaW5zaWRlIG9mIGEgbW9kdWxlLlxuICpcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuICAuY29uc3RhbnQoJ3Bhc2NhbHByZWNodFRyYW5zbGF0ZU92ZXJyaWRlcicsIHt9KVxuICAucHJvdmlkZXIoJyR0cmFuc2xhdGUnLCAkdHJhbnNsYXRlKTtcblxuZnVuY3Rpb24gJHRyYW5zbGF0ZSgkU1RPUkFHRV9LRVksICR3aW5kb3dQcm92aWRlciwgJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyLCBwYXNjYWxwcmVjaHRUcmFuc2xhdGVPdmVycmlkZXIpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyICR0cmFuc2xhdGlvblRhYmxlID0ge30sXG4gICAgJHByZWZlcnJlZExhbmd1YWdlLFxuICAgICRhdmFpbGFibGVMYW5ndWFnZUtleXMgPSBbXSxcbiAgICAkbGFuZ3VhZ2VLZXlBbGlhc2VzLFxuICAgICRmYWxsYmFja0xhbmd1YWdlLFxuICAgICRmYWxsYmFja1dhc1N0cmluZyxcbiAgICAkdXNlcyxcbiAgICAkbmV4dExhbmcsXG4gICAgJHN0b3JhZ2VGYWN0b3J5LFxuICAgICRzdG9yYWdlS2V5ID0gJFNUT1JBR0VfS0VZLFxuICAgICRzdG9yYWdlUHJlZml4LFxuICAgICRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSxcbiAgICAkaW50ZXJwb2xhdGlvbkZhY3RvcnksXG4gICAgJGludGVycG9sYXRvckZhY3RvcmllcyA9IFtdLFxuICAgICRsb2FkZXJGYWN0b3J5LFxuICAgICRjbG9ha0NsYXNzTmFtZSA9ICd0cmFuc2xhdGUtY2xvYWsnLFxuICAgICRsb2FkZXJPcHRpb25zLFxuICAgICRub3RGb3VuZEluZGljYXRvckxlZnQsXG4gICAgJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQsXG4gICAgJHBvc3RDb21waWxpbmdFbmFibGVkID0gZmFsc2UsXG4gICAgJGZvcmNlQXN5bmNSZWxvYWRFbmFibGVkID0gZmFsc2UsXG4gICAgJG5lc3RlZE9iamVjdERlbGltZXRlciA9ICcuJyxcbiAgICAkaXNSZWFkeSA9IGZhbHNlLFxuICAgICRrZWVwQ29udGVudCA9IGZhbHNlLFxuICAgIGxvYWRlckNhY2hlLFxuICAgIGRpcmVjdGl2ZVByaW9yaXR5ID0gMCxcbiAgICBzdGF0ZWZ1bEZpbHRlciA9IHRydWUsXG4gICAgcG9zdFByb2Nlc3NGbixcbiAgICB1bmlmb3JtTGFuZ3VhZ2VUYWdSZXNvbHZlciA9ICdkZWZhdWx0JyxcbiAgICBsYW5ndWFnZVRhZ1Jlc29sdmVyID0ge1xuICAgICAgJ2RlZmF1bHQnIDogZnVuY3Rpb24gKHRhZykge1xuICAgICAgICByZXR1cm4gKHRhZyB8fCAnJykuc3BsaXQoJy0nKS5qb2luKCdfJyk7XG4gICAgICB9LFxuICAgICAgamF2YSA6IGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgICAgdmFyIHRlbXAgPSAodGFnIHx8ICcnKS5zcGxpdCgnLScpLmpvaW4oJ18nKTtcbiAgICAgICAgdmFyIHBhcnRzID0gdGVtcC5zcGxpdCgnXycpO1xuICAgICAgICByZXR1cm4gcGFydHMubGVuZ3RoID4gMSA/IChwYXJ0c1swXS50b0xvd2VyQ2FzZSgpICsgJ18nICsgcGFydHNbMV0udG9VcHBlckNhc2UoKSkgOiB0ZW1wO1xuICAgICAgfSxcbiAgICAgIGJjcDQ3IDogZnVuY3Rpb24gKHRhZykge1xuICAgICAgICB2YXIgdGVtcCA9ICh0YWcgfHwgJycpLnNwbGl0KCdfJykuam9pbignLScpO1xuICAgICAgICB2YXIgcGFydHMgPSB0ZW1wLnNwbGl0KCctJyk7XG4gICAgICAgIHJldHVybiBwYXJ0cy5sZW5ndGggPiAxID8gKHBhcnRzWzBdLnRvTG93ZXJDYXNlKCkgKyAnLScgKyBwYXJ0c1sxXS50b1VwcGVyQ2FzZSgpKSA6IHRlbXA7XG4gICAgICB9LFxuICAgICAgJ2lzbzYzOS0xJyA6IGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgICAgdmFyIHRlbXAgPSAodGFnIHx8ICcnKS5zcGxpdCgnXycpLmpvaW4oJy0nKTtcbiAgICAgICAgdmFyIHBhcnRzID0gdGVtcC5zcGxpdCgnLScpO1xuICAgICAgICByZXR1cm4gcGFydHNbMF0udG9Mb3dlckNhc2UoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gIHZhciB2ZXJzaW9uID0gJzIuMTMuMSc7XG5cbiAgLy8gdHJpZXMgdG8gZGV0ZXJtaW5lIHRoZSBicm93c2VycyBsYW5ndWFnZVxuICB2YXIgZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyBpbnRlcm5hbCBwdXJwb3NlIG9ubHlcbiAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHBhc2NhbHByZWNodFRyYW5zbGF0ZU92ZXJyaWRlci5nZXRMb2NhbGUpKSB7XG4gICAgICByZXR1cm4gcGFzY2FscHJlY2h0VHJhbnNsYXRlT3ZlcnJpZGVyLmdldExvY2FsZSgpO1xuICAgIH1cblxuICAgIHZhciBuYXYgPSAkd2luZG93UHJvdmlkZXIuJGdldCgpLm5hdmlnYXRvcixcbiAgICAgIGJyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5cyA9IFsnbGFuZ3VhZ2UnLCAnYnJvd3Nlckxhbmd1YWdlJywgJ3N5c3RlbUxhbmd1YWdlJywgJ3VzZXJMYW5ndWFnZSddLFxuICAgICAgaSxcbiAgICAgIGxhbmd1YWdlO1xuXG4gICAgLy8gc3VwcG9ydCBmb3IgSFRNTCA1LjEgXCJuYXZpZ2F0b3IubGFuZ3VhZ2VzXCJcbiAgICBpZiAoYW5ndWxhci5pc0FycmF5KG5hdi5sYW5ndWFnZXMpKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbmF2Lmxhbmd1YWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsYW5ndWFnZSA9IG5hdi5sYW5ndWFnZXNbaV07XG4gICAgICAgIGlmIChsYW5ndWFnZSAmJiBsYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gbGFuZ3VhZ2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0IGZvciBvdGhlciB3ZWxsIGtub3duIHByb3BlcnRpZXMgaW4gYnJvd3NlcnNcbiAgICBmb3IgKGkgPSAwOyBpIDwgYnJvd3Nlckxhbmd1YWdlUHJvcGVydHlLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsYW5ndWFnZSA9IG5hdlticm93c2VyTGFuZ3VhZ2VQcm9wZXJ0eUtleXNbaV1dO1xuICAgICAgaWYgKGxhbmd1YWdlICYmIGxhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbGFuZ3VhZ2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIGdldEZpcnN0QnJvd3Nlckxhbmd1YWdlLmRpc3BsYXlOYW1lID0gJ2FuZ3VsYXItdHJhbnNsYXRlL3NlcnZpY2U6IGdldEZpcnN0QnJvd3Nlckxhbmd1YWdlJztcblxuICAvLyB0cmllcyB0byBkZXRlcm1pbmUgdGhlIGJyb3dzZXJzIGxvY2FsZVxuICB2YXIgZ2V0TG9jYWxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsb2NhbGUgPSBnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSgpIHx8ICcnO1xuICAgIGlmIChsYW5ndWFnZVRhZ1Jlc29sdmVyW3VuaWZvcm1MYW5ndWFnZVRhZ1Jlc29sdmVyXSkge1xuICAgICAgbG9jYWxlID0gbGFuZ3VhZ2VUYWdSZXNvbHZlclt1bmlmb3JtTGFuZ3VhZ2VUYWdSZXNvbHZlcl0obG9jYWxlKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsZTtcbiAgfTtcbiAgZ2V0TG9jYWxlLmRpc3BsYXlOYW1lID0gJ2FuZ3VsYXItdHJhbnNsYXRlL3NlcnZpY2U6IGdldExvY2FsZSc7XG5cbiAgLyoqXG4gICAqIEBuYW1lIGluZGV4T2ZcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIGluZGV4T2YgcG9seWZpbGwuIEtpbmRhIHNvcnRhLlxuICAgKlxuICAgKiBAcGFyYW0ge2FycmF5fSBhcnJheSBBcnJheSB0byBzZWFyY2ggaW4uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWFyY2hFbGVtZW50IEVsZW1lbnQgdG8gc2VhcmNoIGZvci5cbiAgICpcbiAgICogQHJldHVybnMge2ludH0gSW5kZXggb2Ygc2VhcmNoIGVsZW1lbnQuXG4gICAqL1xuICB2YXIgaW5kZXhPZiA9IGZ1bmN0aW9uIChhcnJheSwgc2VhcmNoRWxlbWVudCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGFycmF5W2ldID09PSBzZWFyY2hFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuYW1lIHRyaW1cbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIHRyaW0gcG9seWZpbGxcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHN0cmluZyBzdHJpcHBlZCBvZiB3aGl0ZXNwYWNlIGZyb20gYm90aCBlbmRzXG4gICAqL1xuICB2YXIgdHJpbSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50b1N0cmluZygpLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbiAgfTtcblxuICB2YXIgbmVnb3RpYXRlTG9jYWxlID0gZnVuY3Rpb24gKHByZWZlcnJlZCkge1xuICAgIGlmICghcHJlZmVycmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGF2YWlsID0gW10sXG4gICAgICBsb2NhbGUgPSBhbmd1bGFyLmxvd2VyY2FzZShwcmVmZXJyZWQpLFxuICAgICAgaSA9IDAsXG4gICAgICBuID0gJGF2YWlsYWJsZUxhbmd1YWdlS2V5cy5sZW5ndGg7XG5cbiAgICBmb3IgKDsgaSA8IG47IGkrKykge1xuICAgICAgYXZhaWwucHVzaChhbmd1bGFyLmxvd2VyY2FzZSgkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzW2ldKSk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGFuIGV4YWN0IG1hdGNoIGluIG91ciBsaXN0IG9mIGF2YWlsYWJsZSBrZXlzXG4gICAgaWYgKGluZGV4T2YoYXZhaWwsIGxvY2FsZSkgPiAtMSkge1xuICAgICAgcmV0dXJuIHByZWZlcnJlZDtcbiAgICB9XG5cbiAgICBpZiAoJGxhbmd1YWdlS2V5QWxpYXNlcykge1xuICAgICAgdmFyIGFsaWFzO1xuICAgICAgZm9yICh2YXIgbGFuZ0tleUFsaWFzIGluICRsYW5ndWFnZUtleUFsaWFzZXMpIHtcbiAgICAgICAgaWYgKCRsYW5ndWFnZUtleUFsaWFzZXMuaGFzT3duUHJvcGVydHkobGFuZ0tleUFsaWFzKSkge1xuICAgICAgICAgIHZhciBoYXNXaWxkY2FyZEtleSA9IGZhbHNlO1xuICAgICAgICAgIHZhciBoYXNFeGFjdEtleSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgkbGFuZ3VhZ2VLZXlBbGlhc2VzLCBsYW5nS2V5QWxpYXMpICYmXG4gICAgICAgICAgICBhbmd1bGFyLmxvd2VyY2FzZShsYW5nS2V5QWxpYXMpID09PSBhbmd1bGFyLmxvd2VyY2FzZShwcmVmZXJyZWQpO1xuXG4gICAgICAgICAgaWYgKGxhbmdLZXlBbGlhcy5zbGljZSgtMSkgPT09ICcqJykge1xuICAgICAgICAgICAgaGFzV2lsZGNhcmRLZXkgPSBsYW5nS2V5QWxpYXMuc2xpY2UoMCwgLTEpID09PSBwcmVmZXJyZWQuc2xpY2UoMCwgbGFuZ0tleUFsaWFzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaGFzRXhhY3RLZXkgfHwgaGFzV2lsZGNhcmRLZXkpIHtcbiAgICAgICAgICAgIGFsaWFzID0gJGxhbmd1YWdlS2V5QWxpYXNlc1tsYW5nS2V5QWxpYXNdO1xuICAgICAgICAgICAgaWYgKGluZGV4T2YoYXZhaWwsIGFuZ3VsYXIubG93ZXJjYXNlKGFsaWFzKSkgPiAtMSkge1xuICAgICAgICAgICAgICByZXR1cm4gYWxpYXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGEgbGFuZ3VhZ2UgY29kZSB3aXRob3V0IHJlZ2lvblxuICAgIHZhciBwYXJ0cyA9IHByZWZlcnJlZC5zcGxpdCgnXycpO1xuXG4gICAgaWYgKHBhcnRzLmxlbmd0aCA+IDEgJiYgaW5kZXhPZihhdmFpbCwgYW5ndWxhci5sb3dlcmNhc2UocGFydHNbMF0pKSA+IC0xKSB7XG4gICAgICByZXR1cm4gcGFydHNbMF07XG4gICAgfVxuXG4gICAgLy8gSWYgZXZlcnl0aGluZyBmYWlscywgcmV0dXJuIHVuZGVmaW5lZC5cbiAgICByZXR1cm47XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN0cmFuc2xhdGlvbnNcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlcnMgYSBuZXcgdHJhbnNsYXRpb24gdGFibGUgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGtleS5cbiAgICpcbiAgICogVG8gcmVnaXN0ZXIgYSB0cmFuc2xhdGlvbiB0YWJsZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UsIHBhc3MgYSBkZWZpbmVkIGxhbmd1YWdlXG4gICAqIGtleSBhcyBmaXJzdCBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIDxwcmU+XG4gICAqICAvLyByZWdpc3RlciB0cmFuc2xhdGlvbiB0YWJsZSBmb3IgbGFuZ3VhZ2U6ICdkZV9ERSdcbiAgICogICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2RlX0RFJywge1xuICAgKiAgICAnR1JFRVRJTkcnOiAnSGFsbG8gV2VsdCEnXG4gICAqICB9KTtcbiAgICpcbiAgICogIC8vIHJlZ2lzdGVyIGFub3RoZXIgb25lXG4gICAqICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbl9VUycsIHtcbiAgICogICAgJ0dSRUVUSU5HJzogJ0hlbGxvIHdvcmxkISdcbiAgICogIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogV2hlbiByZWdpc3RlcmluZyBtdWx0aXBsZSB0cmFuc2xhdGlvbiB0YWJsZXMgZm9yIGZvciB0aGUgc2FtZSBsYW5ndWFnZSBrZXksXG4gICAqIHRoZSBhY3R1YWwgdHJhbnNsYXRpb24gdGFibGUgZ2V0cyBleHRlbmRlZC4gVGhpcyBhbGxvd3MgeW91IHRvIGRlZmluZSBtb2R1bGVcbiAgICogc3BlY2lmaWMgdHJhbnNsYXRpb24gd2hpY2ggb25seSBnZXQgYWRkZWQsIG9uY2UgYSBzcGVjaWZpYyBtb2R1bGUgaXMgbG9hZGVkIGluXG4gICAqIHlvdXIgYXBwLlxuICAgKlxuICAgKiBJbnZva2luZyB0aGlzIG1ldGhvZCB3aXRoIG5vIGFyZ3VtZW50cyByZXR1cm5zIHRoZSB0cmFuc2xhdGlvbiB0YWJsZSB3aGljaCB3YXNcbiAgICogcmVnaXN0ZXJlZCB3aXRoIG5vIGxhbmd1YWdlIGtleS4gSW52b2tpbmcgaXQgd2l0aCBhIGxhbmd1YWdlIGtleSByZXR1cm5zIHRoZVxuICAgKiByZWxhdGVkIHRyYW5zbGF0aW9uIHRhYmxlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBBIGxhbmd1YWdlIGtleS5cbiAgICogQHBhcmFtIHtvYmplY3R9IHRyYW5zbGF0aW9uVGFibGUgQSBwbGFpbiBvbGQgSmF2YVNjcmlwdCBvYmplY3QgdGhhdCByZXByZXNlbnRzIGEgdHJhbnNsYXRpb24gdGFibGUuXG4gICAqXG4gICAqL1xuICB2YXIgdHJhbnNsYXRpb25zID0gZnVuY3Rpb24gKGxhbmdLZXksIHRyYW5zbGF0aW9uVGFibGUpIHtcblxuICAgIGlmICghbGFuZ0tleSAmJiAhdHJhbnNsYXRpb25UYWJsZSkge1xuICAgICAgcmV0dXJuICR0cmFuc2xhdGlvblRhYmxlO1xuICAgIH1cblxuICAgIGlmIChsYW5nS2V5ICYmICF0cmFuc2xhdGlvblRhYmxlKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhsYW5nS2V5KSkge1xuICAgICAgICByZXR1cm4gJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghYW5ndWxhci5pc09iamVjdCgkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSkpIHtcbiAgICAgICAgJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0gPSB7fTtcbiAgICAgIH1cbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKCR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldLCBmbGF0T2JqZWN0KHRyYW5zbGF0aW9uVGFibGUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdGhpcy50cmFuc2xhdGlvbnMgPSB0cmFuc2xhdGlvbnM7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNjbG9ha0NsYXNzTmFtZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIExldCdzIHlvdSBjaGFuZ2UgdGhlIGNsYXNzIG5hbWUgZm9yIGB0cmFuc2xhdGUtY2xvYWtgIGRpcmVjdGl2ZS5cbiAgICogRGVmYXVsdCBjbGFzcyBuYW1lIGlzIGB0cmFuc2xhdGUtY2xvYWtgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSB0cmFuc2xhdGUtY2xvYWsgY2xhc3MgbmFtZVxuICAgKi9cbiAgdGhpcy5jbG9ha0NsYXNzTmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICByZXR1cm4gJGNsb2FrQ2xhc3NOYW1lO1xuICAgIH1cbiAgICAkY2xvYWtDbGFzc05hbWUgPSBuYW1lO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjbmVzdGVkT2JqZWN0RGVsaW1ldGVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogTGV0J3MgeW91IGNoYW5nZSB0aGUgZGVsaW1pdGVyIGZvciBuYW1lc3BhY2VkIHRyYW5zbGF0aW9ucy5cbiAgICogRGVmYXVsdCBkZWxpbWl0ZXIgaXMgYC5gLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGVsaW1pdGVyIG5hbWVzcGFjZSBzZXBhcmF0b3JcbiAgICovXG4gIHRoaXMubmVzdGVkT2JqZWN0RGVsaW1ldGVyID0gZnVuY3Rpb24gKGRlbGltaXRlcikge1xuICAgIGlmICghZGVsaW1pdGVyKSB7XG4gICAgICByZXR1cm4gJG5lc3RlZE9iamVjdERlbGltZXRlcjtcbiAgICB9XG4gICAgJG5lc3RlZE9iamVjdERlbGltZXRlciA9IGRlbGltaXRlcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5hbWUgZmxhdE9iamVjdFxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogRmxhdHMgYW4gb2JqZWN0LiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gZmxhdHRlbiBnaXZlbiB0cmFuc2xhdGlvbiBkYXRhIHdpdGhcbiAgICogbmFtZXNwYWNlcywgc28gdGhleSBhcmUgbGF0ZXIgYWNjZXNzaWJsZSB2aWEgZG90IG5vdGF0aW9uLlxuICAgKi9cbiAgdmFyIGZsYXRPYmplY3QgPSBmdW5jdGlvbiAoZGF0YSwgcGF0aCwgcmVzdWx0LCBwcmV2S2V5KSB7XG4gICAgdmFyIGtleSwga2V5V2l0aFBhdGgsIGtleVdpdGhTaG9ydFBhdGgsIHZhbDtcblxuICAgIGlmICghcGF0aCkge1xuICAgICAgcGF0aCA9IFtdO1xuICAgIH1cbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgcmVzdWx0ID0ge307XG4gICAgfVxuICAgIGZvciAoa2V5IGluIGRhdGEpIHtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YWwgPSBkYXRhW2tleV07XG4gICAgICBpZiAoYW5ndWxhci5pc09iamVjdCh2YWwpKSB7XG4gICAgICAgIGZsYXRPYmplY3QodmFsLCBwYXRoLmNvbmNhdChrZXkpLCByZXN1bHQsIGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBrZXlXaXRoUGF0aCA9IHBhdGgubGVuZ3RoID8gKCcnICsgcGF0aC5qb2luKCRuZXN0ZWRPYmplY3REZWxpbWV0ZXIpICsgJG5lc3RlZE9iamVjdERlbGltZXRlciArIGtleSkgOiBrZXk7XG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCAmJiBrZXkgPT09IHByZXZLZXkpIHtcbiAgICAgICAgICAvLyBDcmVhdGUgc2hvcnRjdXQgcGF0aCAoZm9vLmJhciA9PSBmb28uYmFyLmJhcilcbiAgICAgICAgICBrZXlXaXRoU2hvcnRQYXRoID0gJycgKyBwYXRoLmpvaW4oJG5lc3RlZE9iamVjdERlbGltZXRlcik7XG4gICAgICAgICAgLy8gTGluayBpdCB0byBvcmlnaW5hbCBwYXRoXG4gICAgICAgICAgcmVzdWx0W2tleVdpdGhTaG9ydFBhdGhdID0gJ0A6JyArIGtleVdpdGhQYXRoO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtrZXlXaXRoUGF0aF0gPSB2YWw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIGZsYXRPYmplY3QuZGlzcGxheU5hbWUgPSAnZmxhdE9iamVjdCc7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNhZGRJbnRlcnBvbGF0aW9uXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQWRkcyBpbnRlcnBvbGF0aW9uIHNlcnZpY2VzIHRvIGFuZ3VsYXItdHJhbnNsYXRlLCBzbyBpdCBjYW4gbWFuYWdlIHRoZW0uXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBmYWN0b3J5IEludGVycG9sYXRpb24gc2VydmljZSBmYWN0b3J5XG4gICAqL1xuICB0aGlzLmFkZEludGVycG9sYXRpb24gPSBmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICRpbnRlcnBvbGF0b3JGYWN0b3JpZXMucHVzaChmYWN0b3J5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZU1lc3NhZ2VGb3JtYXRJbnRlcnBvbGF0aW9uXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGludGVycG9sYXRpb24gZnVuY3Rpb25hbGl0eSBvZiBtZXNzYWdlZm9ybWF0LmpzLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGhhdmluZyBoaWdoIGxldmVsIHBsdXJhbGl6YXRpb24gYW5kIGdlbmRlciBzZWxlY3Rpb24uXG4gICAqL1xuICB0aGlzLnVzZU1lc3NhZ2VGb3JtYXRJbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVzZUludGVycG9sYXRpb24oJyR0cmFuc2xhdGVNZXNzYWdlRm9ybWF0SW50ZXJwb2xhdGlvbicpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlSW50ZXJwb2xhdGlvblxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHdoaWNoIGludGVycG9sYXRpb24gc3R5bGUgdG8gdXNlIGFzIGRlZmF1bHQsIGFwcGxpY2F0aW9uLXdpZGUuXG4gICAqIFNpbXBseSBwYXNzIGEgZmFjdG9yeS9zZXJ2aWNlIG5hbWUuIFRoZSBpbnRlcnBvbGF0aW9uIHNlcnZpY2UgaGFzIHRvIGltcGxlbWVudFxuICAgKiB0aGUgY29ycmVjdCBpbnRlcmZhY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWN0b3J5IEludGVycG9sYXRpb24gc2VydmljZSBuYW1lLlxuICAgKi9cbiAgdGhpcy51c2VJbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICAkaW50ZXJwb2xhdGlvbkZhY3RvcnkgPSBmYWN0b3J5O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlU2FuaXRpemVTdHJhdGVneVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNpbXBseSBzZXRzIGEgc2FuaXRhdGlvbiBzdHJhdGVneSB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgU3RyYXRlZ3kgdHlwZS5cbiAgICovXG4gIHRoaXMudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyLnVzZVN0cmF0ZWd5KHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3ByZWZlcnJlZExhbmd1YWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgdGhlIG1vZHVsZSB3aGljaCBvZiB0aGUgcmVnaXN0ZXJlZCB0cmFuc2xhdGlvbiB0YWJsZXMgdG8gdXNlIGZvciB0cmFuc2xhdGlvblxuICAgKiBhdCBpbml0aWFsIHN0YXJ0dXAgYnkgcGFzc2luZyBhIGxhbmd1YWdlIGtleS4gU2ltaWxhciB0byBgJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZWBcbiAgICogb25seSB0aGF0IGl0IHNheXMgd2hpY2ggbGFuZ3VhZ2UgdG8gKipwcmVmZXIqKi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkuXG4gICAqL1xuICB0aGlzLnByZWZlcnJlZExhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICBpZiAobGFuZ0tleSkge1xuICAgICAgc2V0dXBQcmVmZXJyZWRMYW5ndWFnZShsYW5nS2V5KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gJHByZWZlcnJlZExhbmd1YWdlO1xuICB9O1xuICB2YXIgc2V0dXBQcmVmZXJyZWRMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgaWYgKGxhbmdLZXkpIHtcbiAgICAgICRwcmVmZXJyZWRMYW5ndWFnZSA9IGxhbmdLZXk7XG4gICAgfVxuICAgIHJldHVybiAkcHJlZmVycmVkTGFuZ3VhZ2U7XG4gIH07XG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW4gaW5kaWNhdG9yIHdoaWNoIGlzIHVzZWQgd2hlbiBhIHRyYW5zbGF0aW9uIGlzbid0IGZvdW5kLiBFLmcuIHdoZW5cbiAgICogc2V0dGluZyB0aGUgaW5kaWNhdG9yIGFzICdYJyBhbmQgb25lIHRyaWVzIHRvIHRyYW5zbGF0ZSBhIHRyYW5zbGF0aW9uIGlkXG4gICAqIGNhbGxlZCBgTk9UX0ZPVU5EYCwgdGhpcyB3aWxsIHJlc3VsdCBpbiBgWCBOT1RfRk9VTkQgWGAuXG4gICAqXG4gICAqIEludGVybmFsbHkgdGhpcyBtZXRob2RzIHNldHMgYSBsZWZ0IGluZGljYXRvciBhbmQgYSByaWdodCBpbmRpY2F0b3IgdXNpbmdcbiAgICogYCR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdCgpYCBhbmRcbiAgICogYCR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQoKWAuXG4gICAqXG4gICAqICoqTm90ZSoqOiBUaGVzZSBtZXRob2RzIGF1dG9tYXRpY2FsbHkgYWRkIGEgd2hpdGVzcGFjZSBiZXR3ZWVuIHRoZSBpbmRpY2F0b3JzXG4gICAqIGFuZCB0aGUgdHJhbnNsYXRpb24gaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbmRpY2F0b3IgQW4gaW5kaWNhdG9yLCBjb3VsZCBiZSBhbnkgc3RyaW5nLlxuICAgKi9cbiAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yID0gZnVuY3Rpb24gKGluZGljYXRvcikge1xuICAgIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQoaW5kaWNhdG9yKTtcbiAgICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JSaWdodChpbmRpY2F0b3IpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdFxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW4gaW5kaWNhdG9yIHdoaWNoIGlzIHVzZWQgd2hlbiBhIHRyYW5zbGF0aW9uIGlzbid0IGZvdW5kIGxlZnQgdG8gdGhlXG4gICAqIHRyYW5zbGF0aW9uIGlkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW5kaWNhdG9yIEFuIGluZGljYXRvci5cbiAgICovXG4gIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQgPSBmdW5jdGlvbiAoaW5kaWNhdG9yKSB7XG4gICAgaWYgKCFpbmRpY2F0b3IpIHtcbiAgICAgIHJldHVybiAkbm90Rm91bmRJbmRpY2F0b3JMZWZ0O1xuICAgIH1cbiAgICAkbm90Rm91bmRJbmRpY2F0b3JMZWZ0ID0gaW5kaWNhdG9yO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdFxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW4gaW5kaWNhdG9yIHdoaWNoIGlzIHVzZWQgd2hlbiBhIHRyYW5zbGF0aW9uIGlzbid0IGZvdW5kIHJpZ2h0IHRvIHRoZVxuICAgKiB0cmFuc2xhdGlvbiBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGluZGljYXRvciBBbiBpbmRpY2F0b3IuXG4gICAqL1xuICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JSaWdodCA9IGZ1bmN0aW9uIChpbmRpY2F0b3IpIHtcbiAgICBpZiAoIWluZGljYXRvcikge1xuICAgICAgcmV0dXJuICRub3RGb3VuZEluZGljYXRvclJpZ2h0O1xuICAgIH1cbiAgICAkbm90Rm91bmRJbmRpY2F0b3JSaWdodCA9IGluZGljYXRvcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2ZhbGxiYWNrTGFuZ3VhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyB0aGUgbW9kdWxlIHdoaWNoIG9mIHRoZSByZWdpc3RlcmVkIHRyYW5zbGF0aW9uIHRhYmxlcyB0byB1c2Ugd2hlbiBtaXNzaW5nIHRyYW5zbGF0aW9uc1xuICAgKiBhdCBpbml0aWFsIHN0YXJ0dXAgYnkgcGFzc2luZyBhIGxhbmd1YWdlIGtleS4gU2ltaWxhciB0byBgJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZWBcbiAgICogb25seSB0aGF0IGl0IHNheXMgd2hpY2ggbGFuZ3VhZ2UgdG8gKipmYWxsYmFjayoqLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3x8YXJyYXl9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkuXG4gICAqXG4gICAqL1xuICB0aGlzLmZhbGxiYWNrTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgIGZhbGxiYWNrU3RhY2sobGFuZ0tleSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdmFyIGZhbGxiYWNrU3RhY2sgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgIGlmIChsYW5nS2V5KSB7XG4gICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhsYW5nS2V5KSkge1xuICAgICAgICAkZmFsbGJhY2tXYXNTdHJpbmcgPSB0cnVlO1xuICAgICAgICAkZmFsbGJhY2tMYW5ndWFnZSA9IFtsYW5nS2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc0FycmF5KGxhbmdLZXkpKSB7XG4gICAgICAgICRmYWxsYmFja1dhc1N0cmluZyA9IGZhbHNlO1xuICAgICAgICAkZmFsbGJhY2tMYW5ndWFnZSA9IGxhbmdLZXk7XG4gICAgICB9XG4gICAgICBpZiAoYW5ndWxhci5pc1N0cmluZygkcHJlZmVycmVkTGFuZ3VhZ2UpICYmIGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsICRwcmVmZXJyZWRMYW5ndWFnZSkgPCAwKSB7XG4gICAgICAgICRmYWxsYmFja0xhbmd1YWdlLnB1c2goJHByZWZlcnJlZExhbmd1YWdlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgkZmFsbGJhY2tXYXNTdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuICRmYWxsYmFja0xhbmd1YWdlWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICRmYWxsYmFja0xhbmd1YWdlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldCB3aGljaCB0cmFuc2xhdGlvbiB0YWJsZSB0byB1c2UgZm9yIHRyYW5zbGF0aW9uIGJ5IGdpdmVuIGxhbmd1YWdlIGtleS4gV2hlblxuICAgKiB0cnlpbmcgdG8gJ3VzZScgYSBsYW5ndWFnZSB3aGljaCBpc24ndCBwcm92aWRlZCwgaXQnbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAqXG4gICAqIFlvdSBhY3R1YWxseSBkb24ndCBoYXZlIHRvIHVzZSB0aGlzIG1ldGhvZCBzaW5jZSBgJHRyYW5zbGF0ZVByb3ZpZGVyI3ByZWZlcnJlZExhbmd1YWdlYFxuICAgKiBkb2VzIHRoZSBqb2IgdG9vLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBBIGxhbmd1YWdlIGtleS5cbiAgICovXG4gIHRoaXMudXNlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICBpZiAobGFuZ0tleSkge1xuICAgICAgaWYgKCEkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSAmJiAoISRsb2FkZXJGYWN0b3J5KSkge1xuICAgICAgICAvLyBvbmx5IHRocm93IGFuIGVycm9yLCB3aGVuIG5vdCBsb2FkaW5nIHRyYW5zbGF0aW9uIGRhdGEgYXN5bmNocm9ub3VzbHlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCckdHJhbnNsYXRlUHJvdmlkZXIgY291bGRuXFwndCBmaW5kIHRyYW5zbGF0aW9uVGFibGUgZm9yIGxhbmdLZXk6IFxcJycgKyBsYW5nS2V5ICsgJ1xcJycpO1xuICAgICAgfVxuICAgICAgJHVzZXMgPSBsYW5nS2V5O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiAkdXNlcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3Jlc29sdmVDbGllbnRMb2NhbGVcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIHJldHVybnMgdGhlIGN1cnJlbnQgYnJvd3Nlci9jbGllbnQncyBsYW5ndWFnZSBrZXkuIFRoZSByZXN1bHQgaXMgcHJvY2Vzc2VkIHdpdGggdGhlIGNvbmZpZ3VyZWQgdW5pZm9ybSB0YWcgcmVzb2x2ZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBjdXJyZW50IGNsaWVudC9icm93c2VyIGxhbmd1YWdlIGtleVxuICAgKi9cbiAgdGhpcy5yZXNvbHZlQ2xpZW50TG9jYWxlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnZXRMb2NhbGUoKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3N0b3JhZ2VLZXlcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyB0aGUgbW9kdWxlIHdoaWNoIGtleSBtdXN0IHJlcHJlc2VudCB0aGUgY2hvb3NlZCBsYW5ndWFnZSBieSBhIHVzZXIgaW4gdGhlIHN0b3JhZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgQSBrZXkgZm9yIHRoZSBzdG9yYWdlLlxuICAgKi9cbiAgdmFyIHN0b3JhZ2VLZXkgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIGlmICgkc3RvcmFnZVByZWZpeCkge1xuICAgICAgICByZXR1cm4gJHN0b3JhZ2VQcmVmaXggKyAkc3RvcmFnZUtleTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAkc3RvcmFnZUtleTtcbiAgICB9XG4gICAgJHN0b3JhZ2VLZXkgPSBrZXk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdGhpcy5zdG9yYWdlS2V5ID0gc3RvcmFnZUtleTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVVybExvYWRlclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBgJHRyYW5zbGF0ZVVybExvYWRlcmAgZXh0ZW5zaW9uIHNlcnZpY2UgYXMgbG9hZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVybFxuICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICovXG4gIHRoaXMudXNlVXJsTG9hZGVyID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnVzZUxvYWRlcignJHRyYW5zbGF0ZVVybExvYWRlcicsIGFuZ3VsYXIuZXh0ZW5kKHt1cmwgOiB1cmx9LCBvcHRpb25zKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VTdGF0aWNGaWxlc0xvYWRlclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBgJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyYCBleHRlbnNpb24gc2VydmljZSBhcyBsb2FkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgKi9cbiAgdGhpcy51c2VTdGF0aWNGaWxlc0xvYWRlciA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlTG9hZGVyKCckdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXInLCBvcHRpb25zKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUxvYWRlclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBhbnkgb3RoZXIgc2VydmljZSBhcyBsb2FkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsb2FkZXJGYWN0b3J5IEZhY3RvcnkgbmFtZSB0byB1c2VcbiAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAqL1xuICB0aGlzLnVzZUxvYWRlciA9IGZ1bmN0aW9uIChsb2FkZXJGYWN0b3J5LCBvcHRpb25zKSB7XG4gICAgJGxvYWRlckZhY3RvcnkgPSBsb2FkZXJGYWN0b3J5O1xuICAgICRsb2FkZXJPcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUxvY2FsU3RvcmFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBgJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZWAgc2VydmljZSBhcyBzdG9yYWdlIGxheWVyLlxuICAgKlxuICAgKi9cbiAgdGhpcy51c2VMb2NhbFN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlU3RvcmFnZSgnJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZScpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlQ29va2llU3RvcmFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBgJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VgIHNlcnZpY2UgYXMgc3RvcmFnZSBsYXllci5cbiAgICovXG4gIHRoaXMudXNlQ29va2llU3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VTdG9yYWdlKCckdHJhbnNsYXRlQ29va2llU3RvcmFnZScpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlU3RvcmFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBjdXN0b20gc2VydmljZSBhcyBzdG9yYWdlIGxheWVyLlxuICAgKi9cbiAgdGhpcy51c2VTdG9yYWdlID0gZnVuY3Rpb24gKHN0b3JhZ2VGYWN0b3J5KSB7XG4gICAgJHN0b3JhZ2VGYWN0b3J5ID0gc3RvcmFnZUZhY3Rvcnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNzdG9yYWdlUHJlZml4XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBwcmVmaXggZm9yIHN0b3JhZ2Uga2V5LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJlZml4IFN0b3JhZ2Uga2V5IHByZWZpeFxuICAgKi9cbiAgdGhpcy5zdG9yYWdlUHJlZml4ID0gZnVuY3Rpb24gKHByZWZpeCkge1xuICAgIGlmICghcHJlZml4KSB7XG4gICAgICByZXR1cm4gcHJlZml4O1xuICAgIH1cbiAgICAkc3RvcmFnZVByZWZpeCA9IHByZWZpeDtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2dcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYnVpbHQtaW4gbG9nIGhhbmRsZXIgd2hlbiB0cnlpbmcgdG8gdHJhbnNsYXRlXG4gICAqIGEgdHJhbnNsYXRpb24gSWQgd2hpY2ggZG9lc24ndCBleGlzdC5cbiAgICpcbiAgICogVGhpcyBpcyBhY3R1YWxseSBhIHNob3J0Y3V0IG1ldGhvZCBmb3IgYHVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIoKWAuXG4gICAqXG4gICAqL1xuICB0aGlzLnVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlcignJHRyYW5zbGF0ZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2cnKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBFeHBlY3RzIGEgZmFjdG9yeSBuYW1lIHdoaWNoIGxhdGVyIGdldHMgaW5zdGFudGlhdGVkIHdpdGggYCRpbmplY3RvcmAuXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSB1c2VkIHRvIHRlbGwgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGEgY3VzdG9tXG4gICAqIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIuIEp1c3QgYnVpbGQgYSBmYWN0b3J5IHdoaWNoIHJldHVybnMgYSBmdW5jdGlvblxuICAgKiBhbmQgZXhwZWN0cyBhIHRyYW5zbGF0aW9uIGlkIGFzIGFyZ3VtZW50LlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiA8cHJlPlxuICAgKiAgYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XG4gICAqICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyKCdjdXN0b21IYW5kbGVyJyk7XG4gICAqICB9KTtcbiAgICpcbiAgICogIGFwcC5mYWN0b3J5KCdjdXN0b21IYW5kbGVyJywgZnVuY3Rpb24gKGRlcDEsIGRlcDIpIHtcbiAgICogICAgcmV0dXJuIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAqICAgICAgLy8gc29tZXRoaW5nIHdpdGggdHJhbnNsYXRpb25JZCBhbmQgZGVwMSBhbmQgZGVwMlxuICAgKiAgICB9O1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjdG9yeSBGYWN0b3J5IG5hbWVcbiAgICovXG4gIHRoaXMudXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlciA9IGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ID0gZmFjdG9yeTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVBvc3RDb21waWxpbmdcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBJZiBwb3N0IGNvbXBpbGluZyBpcyBlbmFibGVkLCBhbGwgdHJhbnNsYXRlZCB2YWx1ZXMgd2lsbCBiZSBwcm9jZXNzZWRcbiAgICogYWdhaW4gd2l0aCBBbmd1bGFySlMnICRjb21waWxlLlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiA8cHJlPlxuICAgKiAgYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XG4gICAqICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VQb3N0Q29tcGlsaW5nKHRydWUpO1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjdG9yeSBGYWN0b3J5IG5hbWVcbiAgICovXG4gIHRoaXMudXNlUG9zdENvbXBpbGluZyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICRwb3N0Q29tcGlsaW5nRW5hYmxlZCA9ICEoIXZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2ZvcmNlQXN5bmNSZWxvYWRcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBJZiBmb3JjZSBhc3luYyByZWxvYWQgaXMgZW5hYmxlZCwgYXN5bmMgbG9hZGVyIHdpbGwgYWx3YXlzIGJlIGNhbGxlZFxuICAgKiBldmVuIGlmICR0cmFuc2xhdGlvblRhYmxlIGFscmVhZHkgY29udGFpbnMgdGhlIGxhbmd1YWdlIGtleSwgYWRkaW5nXG4gICAqIHBvc3NpYmxlIG5ldyBlbnRyaWVzIHRvIHRoZSAkdHJhbnNsYXRpb25UYWJsZS5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogPHByZT5cbiAgICogIGFwcC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuICAgKiAgICAkdHJhbnNsYXRlUHJvdmlkZXIuZm9yY2VBc3luY1JlbG9hZCh0cnVlKTtcbiAgICogIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIHZhbGlkIHZhbHVlcyBhcmUgdHJ1ZSBvciBmYWxzZVxuICAgKi9cbiAgdGhpcy5mb3JjZUFzeW5jUmVsb2FkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgJGZvcmNlQXN5bmNSZWxvYWRFbmFibGVkID0gISghdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdW5pZm9ybUxhbmd1YWdlVGFnXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgd2hpY2ggbGFuZ3VhZ2UgdGFnIHNob3VsZCBiZSB1c2VkIGFzIGEgcmVzdWx0IHdoZW4gZGV0ZXJtaW5pbmdcbiAgICogdGhlIGN1cnJlbnQgYnJvd3NlciBsYW5ndWFnZS5cbiAgICpcbiAgICogVGhpcyBzZXR0aW5nIG11c3QgYmUgc2V0IGJlZm9yZSBpbnZva2luZyB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjbWV0aG9kc19kZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSBkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSgpfS5cbiAgICpcbiAgICogPHByZT5cbiAgICogJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqICAgLnVuaWZvcm1MYW5ndWFnZVRhZygnYmNwNDcnKVxuICAgKiAgIC5kZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSgpXG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBUaGUgcmVzb2x2ZXIgY3VycmVudGx5IHN1cHBvcnRzOlxuICAgKiAqIGRlZmF1bHRcbiAgICogICAgICh0cmFkaXRpb25hbGx5OiBoeXBoZW5zIHdpbGwgYmUgY29udmVydGVkIGludG8gdW5kZXJzY29yZXMsIGkuZS4gZW4tVVMgPT4gZW5fVVMpXG4gICAqICAgICBlbi1VUyA9PiBlbl9VU1xuICAgKiAgICAgZW5fVVMgPT4gZW5fVVNcbiAgICogICAgIGVuLXVzID0+IGVuX3VzXG4gICAqICogamF2YVxuICAgKiAgICAgbGlrZSBkZWZhdWx0LCBidXQgdGhlIHNlY29uZCBwYXJ0IHdpbGwgYmUgYWx3YXlzIGluIHVwcGVyY2FzZVxuICAgKiAgICAgZW4tVVMgPT4gZW5fVVNcbiAgICogICAgIGVuX1VTID0+IGVuX1VTXG4gICAqICAgICBlbi11cyA9PiBlbl9VU1xuICAgKiAqIEJDUCA0NyAoUkZDIDQ2NDYgJiA0NjQ3KVxuICAgKiAgICAgZW4tVVMgPT4gZW4tVVNcbiAgICogICAgIGVuX1VTID0+IGVuLVVTXG4gICAqICAgICBlbi11cyA9PiBlbi1VU1xuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICogKiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lFVEZfbGFuZ3VhZ2VfdGFnXG4gICAqICogaHR0cDovL3d3dy53My5vcmcvSW50ZXJuYXRpb25hbC9jb3JlL2xhbmd0YWdzL1xuICAgKiAqIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2JjcDQ3XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnMgKG9yIHN0YW5kYXJkKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5zdGFuZGFyZCAtIHZhbGlkIHZhbHVlcyBhcmUgJ2RlZmF1bHQnLCAnYmNwNDcnLCAnamF2YSdcbiAgICovXG4gIHRoaXMudW5pZm9ybUxhbmd1YWdlVGFnID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblxuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc1N0cmluZyhvcHRpb25zKSkge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgc3RhbmRhcmQgOiBvcHRpb25zXG4gICAgICB9O1xuICAgIH1cblxuICAgIHVuaWZvcm1MYW5ndWFnZVRhZ1Jlc29sdmVyID0gb3B0aW9ucy5zdGFuZGFyZDtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB0cnkgdG8gZGV0ZXJtaW5lIG9uIGl0cyBvd24gd2hpY2ggbGFuZ3VhZ2Uga2V5XG4gICAqIHRvIHNldCBhcyBwcmVmZXJyZWQgbGFuZ3VhZ2UuIFdoZW4gYGZuYCBpcyBnaXZlbiwgYW5ndWxhci10cmFuc2xhdGUgdXNlcyBpdFxuICAgKiB0byBkZXRlcm1pbmUgYSBsYW5ndWFnZSBrZXksIG90aGVyd2lzZSBpdCB1c2VzIHRoZSBidWlsdC1pbiBgZ2V0TG9jYWxlKClgXG4gICAqIG1ldGhvZC5cbiAgICpcbiAgICogVGhlIGBnZXRMb2NhbGUoKWAgcmV0dXJucyBhIGxhbmd1YWdlIGtleSBpbiB0aGUgZm9ybWF0IGBbbGFuZ11fW2NvdW50cnldYCBvclxuICAgKiBgW2xhbmddYCBkZXBlbmRpbmcgb24gd2hhdCB0aGUgYnJvd3NlciBwcm92aWRlcy5cbiAgICpcbiAgICogVXNlIHRoaXMgbWV0aG9kIGF0IHlvdXIgb3duIHJpc2ssIHNpbmNlIG5vdCBhbGwgYnJvd3NlcnMgcmV0dXJuIGEgdmFsaWRcbiAgICogbG9jYWxlIChzZWUge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI21ldGhvZHNfdW5pZm9ybUxhbmd1YWdlVGFnIHVuaWZvcm1MYW5ndWFnZVRhZygpfSkuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb249fSBmbiBGdW5jdGlvbiB0byBkZXRlcm1pbmUgYSBicm93c2VyJ3MgbG9jYWxlXG4gICAqL1xuICB0aGlzLmRldGVybWluZVByZWZlcnJlZExhbmd1YWdlID0gZnVuY3Rpb24gKGZuKSB7XG5cbiAgICB2YXIgbG9jYWxlID0gKGZuICYmIGFuZ3VsYXIuaXNGdW5jdGlvbihmbikpID8gZm4oKSA6IGdldExvY2FsZSgpO1xuXG4gICAgaWYgKCEkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzLmxlbmd0aCkge1xuICAgICAgJHByZWZlcnJlZExhbmd1YWdlID0gbG9jYWxlO1xuICAgIH0gZWxzZSB7XG4gICAgICAkcHJlZmVycmVkTGFuZ3VhZ2UgPSBuZWdvdGlhdGVMb2NhbGUobG9jYWxlKSB8fCBsb2NhbGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNyZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5c1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVycyBhIHNldCBvZiBsYW5ndWFnZSBrZXlzIHRoZSBhcHAgd2lsbCB3b3JrIHdpdGguIFVzZSB0aGlzIG1ldGhvZCBpblxuICAgKiBjb21iaW5hdGlvbiB3aXRoXG4gICAqIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSBkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZX0uXG4gICAqIFdoZW4gYXZhaWxhYmxlIGxhbmd1YWdlcyBrZXlzIGFyZSByZWdpc3RlcmVkLCBhbmd1bGFyLXRyYW5zbGF0ZVxuICAgKiB0cmllcyB0byBmaW5kIHRoZSBiZXN0IGZpdHRpbmcgbGFuZ3VhZ2Uga2V5IGRlcGVuZGluZyBvbiB0aGUgYnJvd3NlcnMgbG9jYWxlLFxuICAgKiBjb25zaWRlcmluZyB5b3VyIGxhbmd1YWdlIGtleSBjb252ZW50aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gbGFuZ3VhZ2VLZXlzIEFycmF5IG9mIGxhbmd1YWdlIGtleXMgdGhlIHlvdXIgYXBwIHdpbGwgdXNlXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gYWxpYXNlcyBBbGlhcyBtYXAuXG4gICAqL1xuICB0aGlzLnJlZ2lzdGVyQXZhaWxhYmxlTGFuZ3VhZ2VLZXlzID0gZnVuY3Rpb24gKGxhbmd1YWdlS2V5cywgYWxpYXNlcykge1xuICAgIGlmIChsYW5ndWFnZUtleXMpIHtcbiAgICAgICRhdmFpbGFibGVMYW5ndWFnZUtleXMgPSBsYW5ndWFnZUtleXM7XG4gICAgICBpZiAoYWxpYXNlcykge1xuICAgICAgICAkbGFuZ3VhZ2VLZXlBbGlhc2VzID0gYWxpYXNlcztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gJGF2YWlsYWJsZUxhbmd1YWdlS2V5cztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUxvYWRlckNhY2hlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXJzIGEgY2FjaGUgZm9yIGludGVybmFsICRodHRwIGJhc2VkIGxvYWRlcnMuXG4gICAqIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGlvbkNhY2hlICR0cmFuc2xhdGlvbkNhY2hlfS5cbiAgICogV2hlbiBmYWxzZSB0aGUgY2FjaGUgd2lsbCBiZSBkaXNhYmxlZCAoZGVmYXVsdCkuIFdoZW4gdHJ1ZSBvciB1bmRlZmluZWRcbiAgICogdGhlIGNhY2hlIHdpbGwgYmUgYSBkZWZhdWx0IChzZWUgJGNhY2hlRmFjdG9yeSkuIFdoZW4gYW4gb2JqZWN0IGl0IHdpbGxcbiAgICogYmUgdHJlYXQgYXMgYSBjYWNoZSBvYmplY3QgaXRzZWxmOiB0aGUgdXNhZ2UgaXMgJGh0dHAoe2NhY2hlOiBjYWNoZX0pXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjYWNoZSBib29sZWFuLCBzdHJpbmcgb3IgY2FjaGUtb2JqZWN0XG4gICAqL1xuICB0aGlzLnVzZUxvYWRlckNhY2hlID0gZnVuY3Rpb24gKGNhY2hlKSB7XG4gICAgaWYgKGNhY2hlID09PSBmYWxzZSkge1xuICAgICAgLy8gZGlzYWJsZSBjYWNoZVxuICAgICAgbG9hZGVyQ2FjaGUgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChjYWNoZSA9PT0gdHJ1ZSkge1xuICAgICAgLy8gZW5hYmxlIGNhY2hlIHVzaW5nIEFKUyBkZWZhdWx0c1xuICAgICAgbG9hZGVyQ2FjaGUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mKGNhY2hlKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVuYWJsZSBjYWNoZSB1c2luZyBkZWZhdWx0XG4gICAgICBsb2FkZXJDYWNoZSA9ICckdHJhbnNsYXRpb25DYWNoZSc7XG4gICAgfSBlbHNlIGlmIChjYWNoZSkge1xuICAgICAgLy8gZW5hYmxlIGNhY2hlIHVzaW5nIGdpdmVuIG9uZSAoc2VlICRjYWNoZUZhY3RvcnkpXG4gICAgICBsb2FkZXJDYWNoZSA9IGNhY2hlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2RpcmVjdGl2ZVByaW9yaXR5XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgZGVmYXVsdCBwcmlvcml0eSBvZiB0aGUgdHJhbnNsYXRlIGRpcmVjdGl2ZS4gVGhlIHN0YW5kYXJkIHZhbHVlIGlzIGAwYC5cbiAgICogQ2FsbGluZyB0aGlzIGZ1bmN0aW9uIHdpdGhvdXQgYW4gYXJndW1lbnQgd2lsbCByZXR1cm4gdGhlIGN1cnJlbnQgdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwcmlvcml0eSBmb3IgdGhlIHRyYW5zbGF0ZS1kaXJlY3RpdmVcbiAgICovXG4gIHRoaXMuZGlyZWN0aXZlUHJpb3JpdHkgPSBmdW5jdGlvbiAocHJpb3JpdHkpIHtcbiAgICBpZiAocHJpb3JpdHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gZ2V0dGVyXG4gICAgICByZXR1cm4gZGlyZWN0aXZlUHJpb3JpdHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNldHRlciB3aXRoIGNoYWluaW5nXG4gICAgICBkaXJlY3RpdmVQcmlvcml0eSA9IHByaW9yaXR5O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjc3RhdGVmdWxGaWx0ZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTaW5jZSBBbmd1bGFySlMgMS4zLCBmaWx0ZXJzIHdoaWNoIGFyZSBub3Qgc3RhdGVsZXNzIChkZXBlbmRpbmcgYXQgdGhlIHNjb3BlKVxuICAgKiBoYXZlIHRvIGV4cGxpY2l0IGRlZmluZSB0aGlzIGJlaGF2aW9yLlxuICAgKiBTZXRzIHdoZXRoZXIgdGhlIHRyYW5zbGF0ZSBmaWx0ZXIgc2hvdWxkIGJlIHN0YXRlZnVsIG9yIHN0YXRlbGVzcy4gVGhlIHN0YW5kYXJkIHZhbHVlIGlzIGB0cnVlYFxuICAgKiBtZWFuaW5nIGJlaW5nIHN0YXRlZnVsLlxuICAgKiBDYWxsaW5nIHRoaXMgZnVuY3Rpb24gd2l0aG91dCBhbiBhcmd1bWVudCB3aWxsIHJldHVybiB0aGUgY3VycmVudCB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBzdGF0ZSAtIGRlZmluZXMgdGhlIHN0YXRlIG9mIHRoZSBmaWx0ZXJcbiAgICovXG4gIHRoaXMuc3RhdGVmdWxGaWx0ZXIgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gZ2V0dGVyXG4gICAgICByZXR1cm4gc3RhdGVmdWxGaWx0ZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNldHRlciB3aXRoIGNoYWluaW5nXG4gICAgICBzdGF0ZWZ1bEZpbHRlciA9IHN0YXRlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjcG9zdFByb2Nlc3NcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGUgcG9zdCBwcm9jZXNzb3Igd2lsbCBiZSBpbnRlcmNlcHQgcmlnaHQgYWZ0ZXIgdGhlIHRyYW5zbGF0aW9uIHJlc3VsdC4gSXQgY2FuIG1vZGlmeSB0aGUgcmVzdWx0LlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZm4gRnVuY3Rpb24gb3Igc2VydmljZSBuYW1lIChzdHJpbmcpIHRvIGJlIGNhbGxlZCBhZnRlciB0aGUgdHJhbnNsYXRpb24gdmFsdWUgaGFzIGJlZW4gc2V0IC8gcmVzb2x2ZWQuIFRoZSBmdW5jdGlvbiBpdHNlbGYgd2lsbCBlbnJpY2ggZXZlcnkgdmFsdWUgYmVpbmcgcHJvY2Vzc2VkIGFuZCB0aGVuIGNvbnRpbnVlIHRoZSBub3JtYWwgcmVzb2x2ZXIgcHJvY2Vzc1xuICAgKi9cbiAgdGhpcy5wb3N0UHJvY2VzcyA9IGZ1bmN0aW9uIChmbikge1xuICAgIGlmIChmbikge1xuICAgICAgcG9zdFByb2Nlc3NGbiA9IGZuO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb3N0UHJvY2Vzc0ZuID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2tlZXBDb250ZW50XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSWYga2VlcENvbnRlbnQgaXMgc2V0IHRvIHRydWUgdGhhbiB0cmFuc2xhdGUgZGlyZWN0aXZlIHdpbGwgYWx3YXlzIHVzZSBpbm5lckhUTUxcbiAgICogYXMgYSBkZWZhdWx0IHRyYW5zbGF0aW9uXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqIDxwcmU+XG4gICAqICBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcbiAgICogICAgJHRyYW5zbGF0ZVByb3ZpZGVyLmtlZXBDb250ZW50KHRydWUpO1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gdmFsaWQgdmFsdWVzIGFyZSB0cnVlIG9yIGZhbHNlXG4gICAqL1xuICB0aGlzLmtlZXBDb250ZW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgJGtlZXBDb250ZW50ID0gISghdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2Mgb2JqZWN0XG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgKiBAcmVxdWlyZXMgJGludGVycG9sYXRlXG4gICAqIEByZXF1aXJlcyAkbG9nXG4gICAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gICAqIEByZXF1aXJlcyAkcVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhlIGAkdHJhbnNsYXRlYCBzZXJ2aWNlIGlzIHRoZSBhY3R1YWwgY29yZSBvZiBhbmd1bGFyLXRyYW5zbGF0ZS4gSXQgZXhwZWN0cyBhIHRyYW5zbGF0aW9uIGlkXG4gICAqIGFuZCBvcHRpb25hbCBpbnRlcnBvbGF0ZSBwYXJhbWV0ZXJzIHRvIHRyYW5zbGF0ZSBjb250ZW50cy5cbiAgICpcbiAgICogPHByZT5cbiAgICogICR0cmFuc2xhdGUoJ0hFQURMSU5FX1RFWFQnKS50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgKiAgICAkc2NvcGUudHJhbnNsYXRlZFRleHQgPSB0cmFuc2xhdGlvbjtcbiAgICogIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8YXJyYXl9IHRyYW5zbGF0aW9uSWQgQSB0b2tlbiB3aGljaCByZXByZXNlbnRzIGEgdHJhbnNsYXRpb24gaWRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBjYW4gYmUgb3B0aW9uYWxseSBhbiBhcnJheSBvZiB0cmFuc2xhdGlvbiBpZHMgd2hpY2hcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyB0aGF0IHRoZSBmdW5jdGlvbiByZXR1cm5zIGFuIG9iamVjdCB3aGVyZSBlYWNoIGtleVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyB0aGUgdHJhbnNsYXRpb24gaWQgYW5kIHRoZSB2YWx1ZSB0aGUgdHJhbnNsYXRpb24uXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gaW50ZXJwb2xhdGVQYXJhbXMgQW4gb2JqZWN0IGhhc2ggZm9yIGR5bmFtaWMgdmFsdWVzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbnRlcnBvbGF0aW9uSWQgVGhlIGlkIG9mIHRoZSBpbnRlcnBvbGF0aW9uIHRvIHVzZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCB0aGUgb3B0aW9uYWwgZGVmYXVsdCB0cmFuc2xhdGlvbiB0ZXh0IHRoYXQgaXMgd3JpdHRlbiBhc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcyBkZWZhdWx0IHRleHQgaW4gY2FzZSBpdCBpcyBub3QgZm91bmQgaW4gYW55IGNvbmZpZ3VyZWQgbGFuZ3VhZ2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZvcmNlTGFuZ3VhZ2UgQSBsYW5ndWFnZSB0byBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgbGFuZ3VhZ2VcbiAgICogQHJldHVybnMge29iamVjdH0gcHJvbWlzZVxuICAgKi9cbiAgdGhpcy4kZ2V0ID0gWyckbG9nJywgJyRpbmplY3RvcicsICckcm9vdFNjb3BlJywgJyRxJywgZnVuY3Rpb24gKCRsb2csICRpbmplY3RvciwgJHJvb3RTY29wZSwgJHEpIHtcblxuICAgIHZhciBTdG9yYWdlLFxuICAgICAgZGVmYXVsdEludGVycG9sYXRvciA9ICRpbmplY3Rvci5nZXQoJGludGVycG9sYXRpb25GYWN0b3J5IHx8ICckdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24nKSxcbiAgICAgIHBlbmRpbmdMb2FkZXIgPSBmYWxzZSxcbiAgICAgIGludGVycG9sYXRvckhhc2hNYXAgPSB7fSxcbiAgICAgIGxhbmdQcm9taXNlcyA9IHt9LFxuICAgICAgZmFsbGJhY2tJbmRleCxcbiAgICAgIHN0YXJ0RmFsbGJhY2tJdGVyYXRpb247XG5cbiAgICB2YXIgJHRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCBmb3JjZUxhbmd1YWdlKSB7XG4gICAgICBpZiAoISR1c2VzICYmICRwcmVmZXJyZWRMYW5ndWFnZSkge1xuICAgICAgICAkdXNlcyA9ICRwcmVmZXJyZWRMYW5ndWFnZTtcbiAgICAgIH1cbiAgICAgIHZhciB1c2VzID0gKGZvcmNlTGFuZ3VhZ2UgJiYgZm9yY2VMYW5ndWFnZSAhPT0gJHVzZXMpID8gLy8gd2UgZG9uJ3Qgd2FudCB0byByZS1uZWdvdGlhdGUgJHVzZXNcbiAgICAgICAgKG5lZ290aWF0ZUxvY2FsZShmb3JjZUxhbmd1YWdlKSB8fCBmb3JjZUxhbmd1YWdlKSA6ICR1c2VzO1xuXG4gICAgICAvLyBDaGVjayBmb3JjZUxhbmd1YWdlIGlzIHByZXNlbnRcbiAgICAgIGlmIChmb3JjZUxhbmd1YWdlKSB7XG4gICAgICAgIGxvYWRUcmFuc2xhdGlvbnNJZk1pc3NpbmcoZm9yY2VMYW5ndWFnZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIER1Y2sgZGV0ZWN0aW9uOiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYW4gYXJyYXksIGEgYnVuY2ggb2YgdHJhbnNsYXRpb25zIHdhcyByZXF1ZXN0ZWQuXG4gICAgICAvLyBUaGUgcmVzdWx0IGlzIGFuIG9iamVjdC5cbiAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkodHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgLy8gSW5zcGlyZWQgYnkgUS5hbGxTZXR0bGVkIGJ5IEtyaXMgS293YWxcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL2Jsb2IvYjBmYTcyOTgwNzE3ZGMyMDJmZmMzY2JmMDNiOTM2ZTEwZWJiYjlkNy9xLmpzI0wxNTUzLTE1NjNcbiAgICAgICAgLy8gVGhpcyB0cmFuc2Zvcm1zIGFsbCBwcm9taXNlcyByZWdhcmRsZXNzIHJlc29sdmVkIG9yIHJlamVjdGVkXG4gICAgICAgIHZhciB0cmFuc2xhdGVBbGwgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZHMpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0cyA9IHt9OyAvLyBzdG9yaW5nIHRoZSBhY3R1YWwgcmVzdWx0c1xuICAgICAgICAgIHZhciBwcm9taXNlcyA9IFtdOyAvLyBwcm9taXNlcyB0byB3YWl0IGZvclxuICAgICAgICAgIC8vIFdyYXBzIHRoZSBwcm9taXNlIGEpIGJlaW5nIGFsd2F5cyByZXNvbHZlZCBhbmQgYikgc3RvcmluZyB0aGUgbGluayBpZC0+dmFsdWVcbiAgICAgICAgICB2YXIgdHJhbnNsYXRlID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICB2YXIgcmVnYXJkbGVzcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICByZXN1bHRzW3RyYW5zbGF0aW9uSWRdID0gdmFsdWU7XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoW3RyYW5zbGF0aW9uSWQsIHZhbHVlXSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgY2FyZSB3aGV0aGVyIHRoZSBwcm9taXNlIHdhcyByZXNvbHZlZCBvciByZWplY3RlZDsganVzdCBzdG9yZSB0aGUgdmFsdWVzXG4gICAgICAgICAgICAkdHJhbnNsYXRlKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIGZvcmNlTGFuZ3VhZ2UpLnRoZW4ocmVnYXJkbGVzcywgcmVnYXJkbGVzcyk7XG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjID0gdHJhbnNsYXRpb25JZHMubGVuZ3RoOyBpIDwgYzsgaSsrKSB7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRyYW5zbGF0ZSh0cmFuc2xhdGlvbklkc1tpXSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB3YWl0IGZvciBhbGwgKGluY2x1ZGluZyBzdG9yaW5nIHRvIHJlc3VsdHMpXG4gICAgICAgICAgcmV0dXJuICRxLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyByZXR1cm4gdGhlIHJlc3VsdHNcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdHJhbnNsYXRlQWxsKHRyYW5zbGF0aW9uSWQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAvLyB0cmltIG9mZiBhbnkgd2hpdGVzcGFjZVxuICAgICAgaWYgKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgdHJhbnNsYXRpb25JZCA9IHRyaW0uYXBwbHkodHJhbnNsYXRpb25JZCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9taXNlVG9XYWl0Rm9yID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSAkcHJlZmVycmVkTGFuZ3VhZ2UgP1xuICAgICAgICAgIGxhbmdQcm9taXNlc1skcHJlZmVycmVkTGFuZ3VhZ2VdIDpcbiAgICAgICAgICBsYW5nUHJvbWlzZXNbdXNlc107XG5cbiAgICAgICAgZmFsbGJhY2tJbmRleCA9IDA7XG5cbiAgICAgICAgaWYgKCRzdG9yYWdlRmFjdG9yeSAmJiAhcHJvbWlzZSkge1xuICAgICAgICAgIC8vIGxvb2tzIGxpa2UgdGhlcmUncyBubyBwZW5kaW5nIHByb21pc2UgZm9yICRwcmVmZXJyZWRMYW5ndWFnZSBvclxuICAgICAgICAgIC8vICR1c2VzLiBNYXliZSB0aGVyZSdzIG9uZSBwZW5kaW5nIGZvciBhIGxhbmd1YWdlIHRoYXQgY29tZXMgZnJvbVxuICAgICAgICAgIC8vIHN0b3JhZ2UuXG4gICAgICAgICAgdmFyIGxhbmdLZXkgPSBTdG9yYWdlLmdldCgkc3RvcmFnZUtleSk7XG4gICAgICAgICAgcHJvbWlzZSA9IGxhbmdQcm9taXNlc1tsYW5nS2V5XTtcblxuICAgICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsIGxhbmdLZXkpO1xuICAgICAgICAgICAgLy8gbWF5YmUgdGhlIGxhbmd1YWdlIGZyb20gc3RvcmFnZSBpcyBhbHNvIGRlZmluZWQgYXMgZmFsbGJhY2sgbGFuZ3VhZ2VcbiAgICAgICAgICAgIC8vIHdlIGluY3JlYXNlIHRoZSBmYWxsYmFjayBsYW5ndWFnZSBpbmRleCB0byBub3Qgc2VhcmNoIGluIHRoYXQgbGFuZ3VhZ2VcbiAgICAgICAgICAgIC8vIGFzIGZhbGxiYWNrLCBzaW5jZSBpdCdzIHByb2JhYmx5IHRoZSBmaXJzdCB1c2VkIGxhbmd1YWdlXG4gICAgICAgICAgICAvLyBpbiB0aGF0IGNhc2UgdGhlIGluZGV4IHN0YXJ0cyBhZnRlciB0aGUgZmlyc3QgZWxlbWVudFxuICAgICAgICAgICAgZmFsbGJhY2tJbmRleCA9IChpbmRleCA9PT0gMCkgPyAxIDogMDtcblxuICAgICAgICAgICAgLy8gYnV0IHdlIGNhbiBtYWtlIHN1cmUgdG8gQUxXQVlTIGZhbGxiYWNrIHRvIHByZWZlcnJlZCBsYW5ndWFnZSBhdCBsZWFzdFxuICAgICAgICAgICAgaWYgKGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsICRwcmVmZXJyZWRMYW5ndWFnZSkgPCAwKSB7XG4gICAgICAgICAgICAgICRmYWxsYmFja0xhbmd1YWdlLnB1c2goJHByZWZlcnJlZExhbmd1YWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9KCkpO1xuXG4gICAgICBpZiAoIXByb21pc2VUb1dhaXRGb3IpIHtcbiAgICAgICAgLy8gbm8gcHJvbWlzZSB0byB3YWl0IGZvcj8gb2theS4gVGhlbiB0aGVyZSdzIG5vIGxvYWRlciByZWdpc3RlcmVkXG4gICAgICAgIC8vIG5vciBpcyBhIG9uZSBwZW5kaW5nIGZvciBsYW5ndWFnZSB0aGF0IGNvbWVzIGZyb20gc3RvcmFnZS5cbiAgICAgICAgLy8gV2UgY2FuIGp1c3QgdHJhbnNsYXRlLlxuICAgICAgICBkZXRlcm1pbmVUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCB1c2VzKS50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcHJvbWlzZVJlc29sdmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vICR1c2VzIG1heSBoYXZlIGNoYW5nZWQgd2hpbGUgd2FpdGluZ1xuICAgICAgICAgIGlmICghZm9yY2VMYW5ndWFnZSkge1xuICAgICAgICAgICAgdXNlcyA9ICR1c2VzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZXRlcm1pbmVUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCB1c2VzKS50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgIH07XG4gICAgICAgIHByb21pc2VSZXNvbHZlZC5kaXNwbGF5TmFtZSA9ICdwcm9taXNlUmVzb2x2ZWQnO1xuXG4gICAgICAgIHByb21pc2VUb1dhaXRGb3JbJ2ZpbmFsbHknXShwcm9taXNlUmVzb2x2ZWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lIGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEFwcGxpZXMgbm90IGZvdW50IGluZGljYXRvcnMgdG8gZ2l2ZW4gdHJhbnNsYXRpb24gaWQsIGlmIG5lZWRlZC5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGdldHMgb25seSBleGVjdXRlZCwgaWYgYSB0cmFuc2xhdGlvbiBpZCBkb2Vzbid0IGV4aXN0LFxuICAgICAqIHdoaWNoIGlzIHdoeSBhIHRyYW5zbGF0aW9uIGlkIGlzIGV4cGVjdGVkIGFzIGFyZ3VtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zbGF0aW9uSWQgVHJhbnNsYXRpb24gaWQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gU2FtZSBhcyBnaXZlbiB0cmFuc2xhdGlvbiBpZCBidXQgYXBwbGllZCB3aXRoIG5vdCBmb3VuZFxuICAgICAqIGluZGljYXRvcnMuXG4gICAgICovXG4gICAgdmFyIGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgIC8vIGFwcGx5aW5nIG5vdEZvdW5kSW5kaWNhdG9yc1xuICAgICAgaWYgKCRub3RGb3VuZEluZGljYXRvckxlZnQpIHtcbiAgICAgICAgdHJhbnNsYXRpb25JZCA9IFskbm90Rm91bmRJbmRpY2F0b3JMZWZ0LCB0cmFuc2xhdGlvbklkXS5qb2luKCcgJyk7XG4gICAgICB9XG4gICAgICBpZiAoJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQpIHtcbiAgICAgICAgdHJhbnNsYXRpb25JZCA9IFt0cmFuc2xhdGlvbklkLCAkbm90Rm91bmRJbmRpY2F0b3JSaWdodF0uam9pbignICcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uSWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lIHVzZUxhbmd1YWdlXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIE1ha2VzIGFjdHVhbCB1c2Ugb2YgYSBsYW5ndWFnZSBieSBzZXR0aW5nIGEgZ2l2ZW4gbGFuZ3VhZ2Uga2V5IGFzIHVzZWRcbiAgICAgKiBsYW5ndWFnZSBhbmQgaW5mb3JtcyByZWdpc3RlcmVkIGludGVycG9sYXRvcnMgdG8gYWxzbyB1c2UgdGhlIGdpdmVuXG4gICAgICoga2V5IGFzIGxvY2FsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgTG9jYWxlIGtleS5cbiAgICAgKi9cbiAgICB2YXIgdXNlTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAkdXNlcyA9IGtleTtcblxuICAgICAgLy8gbWFrZSBzdXJlIHRvIHN0b3JlIG5ldyBsYW5ndWFnZSBrZXkgYmVmb3JlIHRyaWdnZXJpbmcgc3VjY2VzcyBldmVudFxuICAgICAgaWYgKCRzdG9yYWdlRmFjdG9yeSkge1xuICAgICAgICBTdG9yYWdlLnB1dCgkdHJhbnNsYXRlLnN0b3JhZ2VLZXkoKSwgJHVzZXMpO1xuICAgICAgfVxuXG4gICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlU3VjY2VzcycsIHtsYW5ndWFnZSA6IGtleX0pO1xuXG4gICAgICAvLyBpbmZvcm0gZGVmYXVsdCBpbnRlcnBvbGF0b3JcbiAgICAgIGRlZmF1bHRJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKCR1c2VzKTtcblxuICAgICAgdmFyIGVhY2hJbnRlcnBvbGF0b3IgPSBmdW5jdGlvbiAoaW50ZXJwb2xhdG9yLCBpZCkge1xuICAgICAgICBpbnRlcnBvbGF0b3JIYXNoTWFwW2lkXS5zZXRMb2NhbGUoJHVzZXMpO1xuICAgICAgfTtcbiAgICAgIGVhY2hJbnRlcnBvbGF0b3IuZGlzcGxheU5hbWUgPSAnZWFjaEludGVycG9sYXRvckxvY2FsZVNldHRlcic7XG5cbiAgICAgIC8vIGluZm9ybSBhbGwgb3RoZXJzIHRvbyFcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChpbnRlcnBvbGF0b3JIYXNoTWFwLCBlYWNoSW50ZXJwb2xhdG9yKTtcbiAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VFbmQnLCB7bGFuZ3VhZ2UgOiBrZXl9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgbG9hZEFzeW5jXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEtpY2tzIG9mIHJlZ2lzdGVyZWQgYXN5bmMgbG9hZGVyIHVzaW5nIGAkaW5qZWN0b3JgIGFuZCBhcHBsaWVzIGV4aXN0aW5nXG4gICAgICogbG9hZGVyIG9wdGlvbnMuIFdoZW4gcmVzb2x2ZWQsIGl0IHVwZGF0ZXMgdHJhbnNsYXRpb24gdGFibGVzIGFjY29yZGluZ2x5XG4gICAgICogb3IgcmVqZWN0cyB3aXRoIGdpdmVuIGxhbmd1YWdlIGtleS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgTGFuZ3VhZ2Uga2V5LlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZS5cbiAgICAgKi9cbiAgICB2YXIgbG9hZEFzeW5jID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgdGhyb3cgJ05vIGxhbmd1YWdlIGtleSBzcGVjaWZpZWQgZm9yIGxvYWRpbmcuJztcbiAgICAgIH1cblxuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdTdGFydCcsIHtsYW5ndWFnZSA6IGtleX0pO1xuICAgICAgcGVuZGluZ0xvYWRlciA9IHRydWU7XG5cbiAgICAgIHZhciBjYWNoZSA9IGxvYWRlckNhY2hlO1xuICAgICAgaWYgKHR5cGVvZihjYWNoZSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIGdldHRpbmcgb24tZGVtYW5kIGluc3RhbmNlIG9mIGxvYWRlclxuICAgICAgICBjYWNoZSA9ICRpbmplY3Rvci5nZXQoY2FjaGUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbG9hZGVyT3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCAkbG9hZGVyT3B0aW9ucywge1xuICAgICAgICBrZXkgOiBrZXksXG4gICAgICAgICRodHRwIDogYW5ndWxhci5leHRlbmQoe30sIHtcbiAgICAgICAgICBjYWNoZSA6IGNhY2hlXG4gICAgICAgIH0sICRsb2FkZXJPcHRpb25zLiRodHRwKVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBvbkxvYWRlclN1Y2Nlc3MgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgdHJhbnNsYXRpb25UYWJsZSA9IHt9O1xuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlTG9hZGluZ1N1Y2Nlc3MnLCB7bGFuZ3VhZ2UgOiBrZXl9KTtcblxuICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGEsIGZ1bmN0aW9uICh0YWJsZSkge1xuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQodHJhbnNsYXRpb25UYWJsZSwgZmxhdE9iamVjdCh0YWJsZSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHRyYW5zbGF0aW9uVGFibGUsIGZsYXRPYmplY3QoZGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIHBlbmRpbmdMb2FkZXIgPSBmYWxzZTtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh7XG4gICAgICAgICAga2V5IDoga2V5LFxuICAgICAgICAgIHRhYmxlIDogdHJhbnNsYXRpb25UYWJsZVxuICAgICAgICB9KTtcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdFbmQnLCB7bGFuZ3VhZ2UgOiBrZXl9KTtcbiAgICAgIH07XG4gICAgICBvbkxvYWRlclN1Y2Nlc3MuZGlzcGxheU5hbWUgPSAnb25Mb2FkZXJTdWNjZXNzJztcblxuICAgICAgdmFyIG9uTG9hZGVyRXJyb3IgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nRXJyb3InLCB7bGFuZ3VhZ2UgOiBrZXl9KTtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KGtleSk7XG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nRW5kJywge2xhbmd1YWdlIDoga2V5fSk7XG4gICAgICB9O1xuICAgICAgb25Mb2FkZXJFcnJvci5kaXNwbGF5TmFtZSA9ICdvbkxvYWRlckVycm9yJztcblxuICAgICAgJGluamVjdG9yLmdldCgkbG9hZGVyRmFjdG9yeSkobG9hZGVyT3B0aW9ucylcbiAgICAgICAgLnRoZW4ob25Mb2FkZXJTdWNjZXNzLCBvbkxvYWRlckVycm9yKTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIGlmICgkc3RvcmFnZUZhY3RvcnkpIHtcbiAgICAgIFN0b3JhZ2UgPSAkaW5qZWN0b3IuZ2V0KCRzdG9yYWdlRmFjdG9yeSk7XG5cbiAgICAgIGlmICghU3RvcmFnZS5nZXQgfHwgIVN0b3JhZ2UucHV0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCB1c2Ugc3RvcmFnZSBcXCcnICsgJHN0b3JhZ2VGYWN0b3J5ICsgJ1xcJywgbWlzc2luZyBnZXQoKSBvciBwdXQoKSBtZXRob2QhJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaWYgd2UgaGF2ZSBhZGRpdGlvbmFsIGludGVycG9sYXRpb25zIHRoYXQgd2VyZSBhZGRlZCB2aWFcbiAgICAvLyAkdHJhbnNsYXRlUHJvdmlkZXIuYWRkSW50ZXJwb2xhdGlvbigpLCB3ZSBoYXZlIHRvIG1hcCdlbVxuICAgIGlmICgkaW50ZXJwb2xhdG9yRmFjdG9yaWVzLmxlbmd0aCkge1xuICAgICAgdmFyIGVhY2hJbnRlcnBvbGF0aW9uRmFjdG9yeSA9IGZ1bmN0aW9uIChpbnRlcnBvbGF0b3JGYWN0b3J5KSB7XG4gICAgICAgIHZhciBpbnRlcnBvbGF0b3IgPSAkaW5qZWN0b3IuZ2V0KGludGVycG9sYXRvckZhY3RvcnkpO1xuICAgICAgICAvLyBzZXR0aW5nIGluaXRpYWwgbG9jYWxlIGZvciBlYWNoIGludGVycG9sYXRpb24gc2VydmljZVxuICAgICAgICBpbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKCRwcmVmZXJyZWRMYW5ndWFnZSB8fCAkdXNlcyk7XG4gICAgICAgIC8vIG1ha2UnZW0gcmVjb2duaXphYmxlIHRocm91Z2ggaWRcbiAgICAgICAgaW50ZXJwb2xhdG9ySGFzaE1hcFtpbnRlcnBvbGF0b3IuZ2V0SW50ZXJwb2xhdGlvbklkZW50aWZpZXIoKV0gPSBpbnRlcnBvbGF0b3I7XG4gICAgICB9O1xuICAgICAgZWFjaEludGVycG9sYXRpb25GYWN0b3J5LmRpc3BsYXlOYW1lID0gJ2ludGVycG9sYXRpb25GYWN0b3J5QWRkZXInO1xuXG4gICAgICBhbmd1bGFyLmZvckVhY2goJGludGVycG9sYXRvckZhY3RvcmllcywgZWFjaEludGVycG9sYXRpb25GYWN0b3J5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBnZXRUcmFuc2xhdGlvblRhYmxlXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zbGF0aW9uIHRhYmxlXG4gICAgICogb3IgaXMgcmVqZWN0ZWQgaWYgYW4gZXJyb3Igb2NjdXJyZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGFuZ0tleVxuICAgICAqIEByZXR1cm5zIHtRLnByb21pc2V9XG4gICAgICovXG4gICAgdmFyIGdldFRyYW5zbGF0aW9uVGFibGUgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoJHRyYW5zbGF0aW9uVGFibGUsIGxhbmdLZXkpKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0pO1xuICAgICAgfSBlbHNlIGlmIChsYW5nUHJvbWlzZXNbbGFuZ0tleV0pIHtcbiAgICAgICAgdmFyIG9uUmVzb2x2ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgdHJhbnNsYXRpb25zKGRhdGEua2V5LCBkYXRhLnRhYmxlKTtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEudGFibGUpO1xuICAgICAgICB9O1xuICAgICAgICBvblJlc29sdmUuZGlzcGxheU5hbWUgPSAndHJhbnNsYXRpb25UYWJsZVJlc29sdmVyJztcbiAgICAgICAgbGFuZ1Byb21pc2VzW2xhbmdLZXldLnRoZW4ob25SZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSB0byB0aGUgdHJhbnNsYXRpb25cbiAgICAgKiBvciBiZSByZWplY3RlZCBpZiBubyB0cmFuc2xhdGlvbiB3YXMgZm91bmQgZm9yIHRoZSBsYW5ndWFnZS5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGN1cnJlbnRseSBvbmx5IHVzZWQgZm9yIGZhbGxiYWNrIGxhbmd1YWdlIHRyYW5zbGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIGxhbmdLZXkgVGhlIGxhbmd1YWdlIHRvIHRyYW5zbGF0ZSB0by5cbiAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgKiBAcmV0dXJucyB7US5wcm9taXNlfVxuICAgICAqL1xuICAgIHZhciBnZXRGYWxsYmFja1RyYW5zbGF0aW9uID0gZnVuY3Rpb24gKGxhbmdLZXksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIHZhciBvblJlc29sdmUgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25UYWJsZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRyYW5zbGF0aW9uVGFibGUsIHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgSW50ZXJwb2xhdG9yLnNldExvY2FsZShsYW5nS2V5KTtcbiAgICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvblRhYmxlW3RyYW5zbGF0aW9uSWRdO1xuICAgICAgICAgIGlmICh0cmFuc2xhdGlvbi5zdWJzdHIoMCwgMikgPT09ICdAOicpIHtcbiAgICAgICAgICAgIGdldEZhbGxiYWNrVHJhbnNsYXRpb24obGFuZ0tleSwgdHJhbnNsYXRpb24uc3Vic3RyKDIpLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKVxuICAgICAgICAgICAgICAudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaW50ZXJwb2xhdGVkVmFsdWUgPSBJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb25UYWJsZVt0cmFuc2xhdGlvbklkXSwgaW50ZXJwb2xhdGVQYXJhbXMsICdzZXJ2aWNlJyk7XG4gICAgICAgICAgICBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGFwcGx5UG9zdFByb2Nlc3NpbmcodHJhbnNsYXRpb25JZCwgdHJhbnNsYXRpb25UYWJsZVt0cmFuc2xhdGlvbklkXSwgaW50ZXJwb2xhdGVkVmFsdWUsIGludGVycG9sYXRlUGFyYW1zLCBsYW5nS2V5KTtcblxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShpbnRlcnBvbGF0ZWRWYWx1ZSk7XG5cbiAgICAgICAgICB9XG4gICAgICAgICAgSW50ZXJwb2xhdG9yLnNldExvY2FsZSgkdXNlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBvblJlc29sdmUuZGlzcGxheU5hbWUgPSAnZmFsbGJhY2tUcmFuc2xhdGlvblJlc29sdmVyJztcblxuICAgICAgZ2V0VHJhbnNsYXRpb25UYWJsZShsYW5nS2V5KS50aGVuKG9uUmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lIGdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYSB0cmFuc2xhdGlvblxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY3VycmVudGx5IG9ubHkgdXNlZCBmb3IgZmFsbGJhY2sgbGFuZ3VhZ2UgdHJhbnNsYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGFuZ0tleSBUaGUgbGFuZ3VhZ2UgdG8gdHJhbnNsYXRlIHRvLlxuICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAqIEBwYXJhbSBzYW5pdGl6ZVN0cmF0ZWd5IHNhbml0aXplIHN0cmF0ZWd5IG92ZXJyaWRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0cmFuc2xhdGlvblxuICAgICAqL1xuICAgIHZhciBnZXRGYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudCA9IGZ1bmN0aW9uIChsYW5nS2V5LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yLCBzYW5pdGl6ZVN0cmF0ZWd5KSB7XG4gICAgICB2YXIgcmVzdWx0LCB0cmFuc2xhdGlvblRhYmxlID0gJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV07XG5cbiAgICAgIGlmICh0cmFuc2xhdGlvblRhYmxlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0cmFuc2xhdGlvblRhYmxlLCB0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICBJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKGxhbmdLZXkpO1xuICAgICAgICByZXN1bHQgPSBJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb25UYWJsZVt0cmFuc2xhdGlvbklkXSwgaW50ZXJwb2xhdGVQYXJhbXMsICdmaWx0ZXInLCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICAgICAgcmVzdWx0ID0gYXBwbHlQb3N0UHJvY2Vzc2luZyh0cmFuc2xhdGlvbklkLCB0cmFuc2xhdGlvblRhYmxlW3RyYW5zbGF0aW9uSWRdLCByZXN1bHQsIGludGVycG9sYXRlUGFyYW1zLCBsYW5nS2V5LCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgVHJ1c3RlZFZhbHVlSG9sZGVyVHlwZVxuICAgICAgICBpZiAoIWFuZ3VsYXIuaXNTdHJpbmcocmVzdWx0KSAmJiBhbmd1bGFyLmlzRnVuY3Rpb24ocmVzdWx0LiQkdW53cmFwVHJ1c3RlZFZhbHVlKSkge1xuICAgICAgICAgIHZhciByZXN1bHQyID0gcmVzdWx0LiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7XG4gICAgICAgICAgaWYgKHJlc3VsdDIuc3Vic3RyKDAsIDIpID09PSAnQDonKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQobGFuZ0tleSwgcmVzdWx0Mi5zdWJzdHIoMiksIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuc3Vic3RyKDAsIDIpID09PSAnQDonKSB7XG4gICAgICAgICAgcmV0dXJuIGdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50KGxhbmdLZXksIHJlc3VsdC5zdWJzdHIoMiksIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICB9XG4gICAgICAgIEludGVycG9sYXRvci5zZXRMb2NhbGUoJHVzZXMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIEBuYW1lIHRyYW5zbGF0ZUJ5SGFuZGxlclxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKiBUcmFuc2xhdGUgYnkgbWlzc2luZyB0cmFuc2xhdGlvbiBoYW5kbGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFRyYW5zbGF0aW9uVGV4dFxuICAgICAqIEBwYXJhbSBzYW5pdGl6ZVN0cmF0ZWd5IHNhbml0aXplIHN0cmF0ZWd5IG92ZXJyaWRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0cmFuc2xhdGlvbiBjcmVhdGVkIGJ5ICRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyIG9yIHRyYW5zbGF0aW9uSWQgaXMgJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIgaXNcbiAgICAgKiBhYnNlbnRcbiAgICAgKi9cbiAgICB2YXIgdHJhbnNsYXRlQnlIYW5kbGVyID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCBzYW5pdGl6ZVN0cmF0ZWd5KSB7XG4gICAgICAvLyBJZiB3ZSBoYXZlIGEgaGFuZGxlciBmYWN0b3J5IC0gd2UgbWlnaHQgYWxzbyBjYWxsIGl0IGhlcmUgdG8gZGV0ZXJtaW5lIGlmIGl0IHByb3ZpZGVzXG4gICAgICAvLyBhIGRlZmF1bHQgdGV4dCBmb3IgYSB0cmFuc2xhdGlvbmlkIHRoYXQgY2FuJ3QgYmUgZm91bmQgYW55d2hlcmUgaW4gb3VyIHRhYmxlc1xuICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSkge1xuICAgICAgICByZXR1cm4gJGluamVjdG9yLmdldCgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkpKHRyYW5zbGF0aW9uSWQsICR1c2VzLCBpbnRlcnBvbGF0ZVBhcmFtcywgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCwgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogUmVjdXJzaXZlIGhlbHBlciBmdW5jdGlvbiBmb3IgZmFsbGJhY2tUcmFuc2xhdGlvbiB0aGF0IHdpbGwgc2VxdWVudGlhbGx5IGxvb2tcbiAgICAgKiBmb3IgYSB0cmFuc2xhdGlvbiBpbiB0aGUgZmFsbGJhY2tMYW5ndWFnZXMgc3RhcnRpbmcgd2l0aCBmYWxsYmFja0xhbmd1YWdlSW5kZXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmFsbGJhY2tMYW5ndWFnZUluZGV4XG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICogQHJldHVybnMge1EucHJvbWlzZX0gUHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSB0byB0aGUgdHJhbnNsYXRpb24uXG4gICAgICovXG4gICAgdmFyIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlID0gZnVuY3Rpb24gKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgaWYgKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCA8ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICB2YXIgbGFuZ0tleSA9ICRmYWxsYmFja0xhbmd1YWdlW2ZhbGxiYWNrTGFuZ3VhZ2VJbmRleF07XG4gICAgICAgIGdldEZhbGxiYWNrVHJhbnNsYXRpb24obGFuZ0tleSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikudGhlbihcbiAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIExvb2sgaW4gdGhlIG5leHQgZmFsbGJhY2sgbGFuZ3VhZ2UgZm9yIGEgdHJhbnNsYXRpb24uXG4gICAgICAgICAgICAvLyBJdCBkZWxheXMgdGhlIHJlc29sdmluZyBieSBwYXNzaW5nIGFub3RoZXIgcHJvbWlzZSB0byByZXNvbHZlLlxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCArIDEsIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQpLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBObyB0cmFuc2xhdGlvbiBmb3VuZCBpbiBhbnkgZmFsbGJhY2sgbGFuZ3VhZ2VcbiAgICAgICAgLy8gaWYgYSBkZWZhdWx0IHRyYW5zbGF0aW9uIHRleHQgaXMgc2V0IGluIHRoZSBkaXJlY3RpdmUsIHRoZW4gcmV0dXJuIHRoaXMgYXMgYSByZXN1bHRcbiAgICAgICAgaWYgKGRlZmF1bHRUcmFuc2xhdGlvblRleHQpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRlZmF1bHRUcmFuc2xhdGlvblRleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24gPSB0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQpO1xuXG4gICAgICAgICAgLy8gaWYgbm8gZGVmYXVsdCB0cmFuc2xhdGlvbiBpcyBzZXQgYW5kIGFuIGVycm9yIGhhbmRsZXIgaXMgZGVmaW5lZCwgc2VuZCBpdCB0byB0aGUgaGFuZGxlclxuICAgICAgICAgIC8vIGFuZCB0aGVuIHJldHVybiB0aGUgcmVzdWx0IGlmIGl0IGlzbid0IHVuZGVmaW5lZFxuICAgICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyh0cmFuc2xhdGlvbklkKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIFJlY3Vyc2l2ZSBoZWxwZXIgZnVuY3Rpb24gZm9yIGZhbGxiYWNrVHJhbnNsYXRpb24gdGhhdCB3aWxsIHNlcXVlbnRpYWxseSBsb29rXG4gICAgICogZm9yIGEgdHJhbnNsYXRpb24gaW4gdGhlIGZhbGxiYWNrTGFuZ3VhZ2VzIHN0YXJ0aW5nIHdpdGggZmFsbGJhY2tMYW5ndWFnZUluZGV4LlxuICAgICAqXG4gICAgICogQHBhcmFtIGZhbGxiYWNrTGFuZ3VhZ2VJbmRleFxuICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAqIEBwYXJhbSBzYW5pdGl6ZVN0cmF0ZWd5XG4gICAgICogQHJldHVybnMge3N0cmluZ30gdHJhbnNsYXRpb25cbiAgICAgKi9cbiAgICB2YXIgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50ID0gZnVuY3Rpb24gKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgc2FuaXRpemVTdHJhdGVneSkge1xuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgaWYgKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCA8ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICB2YXIgbGFuZ0tleSA9ICRmYWxsYmFja0xhbmd1YWdlW2ZhbGxiYWNrTGFuZ3VhZ2VJbmRleF07XG4gICAgICAgIHJlc3VsdCA9IGdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50KGxhbmdLZXksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICBpZiAoIXJlc3VsdCAmJiByZXN1bHQgIT09ICcnKSB7XG4gICAgICAgICAgcmVzdWx0ID0gcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50KGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCArIDEsIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIHdpdGggdGhlIHVzYWdlIG9mIHRoZSBmYWxsYmFjayBsYW5ndWFnZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgKiBAcmV0dXJucyB7US5wcm9taXNlfSBQcm9taXNlLCB0aGF0IHJlc29sdmVzIHRvIHRoZSB0cmFuc2xhdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgZmFsbGJhY2tUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0KSB7XG4gICAgICAvLyBTdGFydCB3aXRoIHRoZSBmYWxsYmFja0xhbmd1YWdlIHdpdGggaW5kZXggMFxuICAgICAgcmV0dXJuIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlKChzdGFydEZhbGxiYWNrSXRlcmF0aW9uID4gMCA/IHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gOiBmYWxsYmFja0luZGV4KSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgd2l0aCB0aGUgdXNhZ2Ugb2YgdGhlIGZhbGxiYWNrIGxhbmd1YWdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHRyYW5zbGF0aW9uXG4gICAgICovXG4gICAgdmFyIGZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50ID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIHNhbml0aXplU3RyYXRlZ3kpIHtcbiAgICAgIC8vIFN0YXJ0IHdpdGggdGhlIGZhbGxiYWNrTGFuZ3VhZ2Ugd2l0aCBpbmRleCAwXG4gICAgICByZXR1cm4gcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50KChzdGFydEZhbGxiYWNrSXRlcmF0aW9uID4gMCA/IHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gOiBmYWxsYmFja0luZGV4KSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgfTtcblxuICAgIHZhciBkZXRlcm1pbmVUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCB1c2VzKSB7XG5cbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIHZhciB0YWJsZSA9IHVzZXMgPyAkdHJhbnNsYXRpb25UYWJsZVt1c2VzXSA6ICR0cmFuc2xhdGlvblRhYmxlLFxuICAgICAgICBJbnRlcnBvbGF0b3IgPSAoaW50ZXJwb2xhdGlvbklkKSA/IGludGVycG9sYXRvckhhc2hNYXBbaW50ZXJwb2xhdGlvbklkXSA6IGRlZmF1bHRJbnRlcnBvbGF0b3I7XG5cbiAgICAgIC8vIGlmIHRoZSB0cmFuc2xhdGlvbiBpZCBleGlzdHMsIHdlIGNhbiBqdXN0IGludGVycG9sYXRlIGl0XG4gICAgICBpZiAodGFibGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhYmxlLCB0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSB0YWJsZVt0cmFuc2xhdGlvbklkXTtcblxuICAgICAgICAvLyBJZiB1c2luZyBsaW5rLCByZXJ1biAkdHJhbnNsYXRlIHdpdGggbGlua2VkIHRyYW5zbGF0aW9uSWQgYW5kIHJldHVybiBpdFxuICAgICAgICBpZiAodHJhbnNsYXRpb24uc3Vic3RyKDAsIDIpID09PSAnQDonKSB7XG5cbiAgICAgICAgICAkdHJhbnNsYXRlKHRyYW5zbGF0aW9uLnN1YnN0cigyKSwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCwgdXNlcylcbiAgICAgICAgICAgIC50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICB2YXIgcmVzb2x2ZWRUcmFuc2xhdGlvbiA9IEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvbiwgaW50ZXJwb2xhdGVQYXJhbXMsICdzZXJ2aWNlJyk7XG4gICAgICAgICAgcmVzb2x2ZWRUcmFuc2xhdGlvbiA9IGFwcGx5UG9zdFByb2Nlc3NpbmcodHJhbnNsYXRpb25JZCwgdHJhbnNsYXRpb24sIHJlc29sdmVkVHJhbnNsYXRpb24sIGludGVycG9sYXRlUGFyYW1zLCB1c2VzKTtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc29sdmVkVHJhbnNsYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uO1xuICAgICAgICAvLyBmb3IgbG9nZ2luZyBwdXJwb3NlcyBvbmx5IChhcyBpbiAkdHJhbnNsYXRlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyksIHZhbHVlIGlzIG5vdCByZXR1cm5lZCB0byBwcm9taXNlXG4gICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIpIHtcbiAgICAgICAgICBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24gPSB0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2luY2Ugd2UgY291bGRuJ3QgdHJhbnNsYXRlIHRoZSBpbml0YWwgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkLFxuICAgICAgICAvLyB3ZSB0cnkgaXQgbm93IHdpdGggb25lIG9yIG1vcmUgZmFsbGJhY2sgbGFuZ3VhZ2VzLCBpZiBmYWxsYmFjayBsYW5ndWFnZShzKSBpc1xuICAgICAgICAvLyBjb25maWd1cmVkLlxuICAgICAgICBpZiAodXNlcyAmJiAkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICBmYWxsYmFja1RyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cmFuc2xhdGlvbik7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoX3RyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzKF90cmFuc2xhdGlvbklkKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIgJiYgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGUgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkIGRvZXNuJ3QgZXhpc3RzLlxuICAgICAgICAgIC8vIE5vdywgaWYgdGhlcmUgaXMgYSByZWdpc3RlcmVkIGhhbmRsZXIgZm9yIG1pc3NpbmcgdHJhbnNsYXRpb25zIGFuZCBub1xuICAgICAgICAgIC8vIGFzeW5jTG9hZGVyIGlzIHBlbmRpbmcsIHdlIGV4ZWN1dGUgdGhlIGhhbmRsZXJcbiAgICAgICAgICBpZiAoZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkZWZhdWx0VHJhbnNsYXRpb25UZXh0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkZWZhdWx0VHJhbnNsYXRpb25UZXh0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzKHRyYW5zbGF0aW9uSWQpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgICB2YXIgZGV0ZXJtaW5lVHJhbnNsYXRpb25JbnN0YW50ID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIHVzZXMsIHNhbml0aXplU3RyYXRlZ3kpIHtcblxuICAgICAgdmFyIHJlc3VsdCwgdGFibGUgPSB1c2VzID8gJHRyYW5zbGF0aW9uVGFibGVbdXNlc10gOiAkdHJhbnNsYXRpb25UYWJsZSxcbiAgICAgICAgSW50ZXJwb2xhdG9yID0gZGVmYXVsdEludGVycG9sYXRvcjtcblxuICAgICAgLy8gaWYgdGhlIGludGVycG9sYXRpb24gaWQgZXhpc3RzIHVzZSBjdXN0b20gaW50ZXJwb2xhdG9yXG4gICAgICBpZiAoaW50ZXJwb2xhdG9ySGFzaE1hcCAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW50ZXJwb2xhdG9ySGFzaE1hcCwgaW50ZXJwb2xhdGlvbklkKSkge1xuICAgICAgICBJbnRlcnBvbGF0b3IgPSBpbnRlcnBvbGF0b3JIYXNoTWFwW2ludGVycG9sYXRpb25JZF07XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHRoZSB0cmFuc2xhdGlvbiBpZCBleGlzdHMsIHdlIGNhbiBqdXN0IGludGVycG9sYXRlIGl0XG4gICAgICBpZiAodGFibGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhYmxlLCB0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSB0YWJsZVt0cmFuc2xhdGlvbklkXTtcblxuICAgICAgICAvLyBJZiB1c2luZyBsaW5rLCByZXJ1biAkdHJhbnNsYXRlIHdpdGggbGlua2VkIHRyYW5zbGF0aW9uSWQgYW5kIHJldHVybiBpdFxuICAgICAgICBpZiAodHJhbnNsYXRpb24uc3Vic3RyKDAsIDIpID09PSAnQDonKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZGV0ZXJtaW5lVHJhbnNsYXRpb25JbnN0YW50KHRyYW5zbGF0aW9uLnN1YnN0cigyKSwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCwgdXNlcywgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gSW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHRyYW5zbGF0aW9uLCBpbnRlcnBvbGF0ZVBhcmFtcywgJ2ZpbHRlcicsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICAgIHJlc3VsdCA9IGFwcGx5UG9zdFByb2Nlc3NpbmcodHJhbnNsYXRpb25JZCwgdHJhbnNsYXRpb24sIHJlc3VsdCwgaW50ZXJwb2xhdGVQYXJhbXMsIHVzZXMsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uO1xuICAgICAgICAvLyBmb3IgbG9nZ2luZyBwdXJwb3NlcyBvbmx5IChhcyBpbiAkdHJhbnNsYXRlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyksIHZhbHVlIGlzIG5vdCByZXR1cm5lZCB0byBwcm9taXNlXG4gICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIpIHtcbiAgICAgICAgICBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24gPSB0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2luY2Ugd2UgY291bGRuJ3QgdHJhbnNsYXRlIHRoZSBpbml0YWwgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkLFxuICAgICAgICAvLyB3ZSB0cnkgaXQgbm93IHdpdGggb25lIG9yIG1vcmUgZmFsbGJhY2sgbGFuZ3VhZ2VzLCBpZiBmYWxsYmFjayBsYW5ndWFnZShzKSBpc1xuICAgICAgICAvLyBjb25maWd1cmVkLlxuICAgICAgICBpZiAodXNlcyAmJiAkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICBmYWxsYmFja0luZGV4ID0gMDtcbiAgICAgICAgICByZXN1bHQgPSBmYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudCh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yLCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICAgICAgfSBlbHNlIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIgJiYgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGUgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkIGRvZXNuJ3QgZXhpc3RzLlxuICAgICAgICAgIC8vIE5vdywgaWYgdGhlcmUgaXMgYSByZWdpc3RlcmVkIGhhbmRsZXIgZm9yIG1pc3NpbmcgdHJhbnNsYXRpb25zIGFuZCBub1xuICAgICAgICAgIC8vIGFzeW5jTG9hZGVyIGlzIHBlbmRpbmcsIHdlIGV4ZWN1dGUgdGhlIGhhbmRsZXJcbiAgICAgICAgICByZXN1bHQgPSBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gYXBwbHlOb3RGb3VuZEluZGljYXRvcnModHJhbnNsYXRpb25JZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgdmFyIGNsZWFyTmV4dExhbmdBbmRQcm9taXNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKCRuZXh0TGFuZyA9PT0ga2V5KSB7XG4gICAgICAgICRuZXh0TGFuZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGxhbmdQcm9taXNlc1trZXldID0gdW5kZWZpbmVkO1xuICAgIH07XG5cbiAgICB2YXIgYXBwbHlQb3N0UHJvY2Vzc2luZyA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCB0cmFuc2xhdGlvbiwgcmVzb2x2ZWRUcmFuc2xhdGlvbiwgaW50ZXJwb2xhdGVQYXJhbXMsIHVzZXMsIHNhbml0aXplU3RyYXRlZ3kpIHtcbiAgICAgIHZhciBmbiA9IHBvc3RQcm9jZXNzRm47XG5cbiAgICAgIGlmIChmbikge1xuXG4gICAgICAgIGlmICh0eXBlb2YoZm4pID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIC8vIGdldHRpbmcgb24tZGVtYW5kIGluc3RhbmNlXG4gICAgICAgICAgZm4gPSAkaW5qZWN0b3IuZ2V0KGZuKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICByZXR1cm4gZm4odHJhbnNsYXRpb25JZCwgdHJhbnNsYXRpb24sIHJlc29sdmVkVHJhbnNsYXRpb24sIGludGVycG9sYXRlUGFyYW1zLCB1c2VzLCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzb2x2ZWRUcmFuc2xhdGlvbjtcbiAgICB9O1xuXG4gICAgdmFyIGxvYWRUcmFuc2xhdGlvbnNJZk1pc3NpbmcgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoISR0cmFuc2xhdGlvblRhYmxlW2tleV0gJiYgJGxvYWRlckZhY3RvcnkgJiYgIWxhbmdQcm9taXNlc1trZXldKSB7XG4gICAgICAgIGxhbmdQcm9taXNlc1trZXldID0gbG9hZEFzeW5jKGtleSkudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbnModHJhbnNsYXRpb24ua2V5LCB0cmFuc2xhdGlvbi50YWJsZSk7XG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3ByZWZlcnJlZExhbmd1YWdlXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB0aGUgbGFuZ3VhZ2Uga2V5IGZvciB0aGUgcHJlZmVycmVkIGxhbmd1YWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgbGFuZ3VhZ2UgU3RyaW5nIG9yIEFycmF5IHRvIGJlIHVzZWQgYXMgcHJlZmVycmVkTGFuZ3VhZ2UgKGNoYW5naW5nIGF0IHJ1bnRpbWUpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHByZWZlcnJlZCBsYW5ndWFnZSBrZXlcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLnByZWZlcnJlZExhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgIGlmIChsYW5nS2V5KSB7XG4gICAgICAgIHNldHVwUHJlZmVycmVkTGFuZ3VhZ2UobGFuZ0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gJHByZWZlcnJlZExhbmd1YWdlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjY2xvYWtDbGFzc05hbWVcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBjb25maWd1cmVkIGNsYXNzIG5hbWUgZm9yIGB0cmFuc2xhdGUtY2xvYWtgIGRpcmVjdGl2ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gY2xvYWtDbGFzc05hbWVcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLmNsb2FrQ2xhc3NOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICRjbG9ha0NsYXNzTmFtZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI25lc3RlZE9iamVjdERlbGltZXRlclxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgdGhlIGNvbmZpZ3VyZWQgZGVsaW1pdGVyIGZvciBuZXN0ZWQgbmFtZXNwYWNlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gbmVzdGVkT2JqZWN0RGVsaW1ldGVyXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5uZXN0ZWRPYmplY3REZWxpbWV0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJG5lc3RlZE9iamVjdERlbGltZXRlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2ZhbGxiYWNrTGFuZ3VhZ2VcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBsYW5ndWFnZSBrZXkgZm9yIHRoZSBmYWxsYmFjayBsYW5ndWFnZXMgb3Igc2V0cyBhIG5ldyBmYWxsYmFjayBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbGFuZ0tleSBsYW5ndWFnZSBTdHJpbmcgb3IgQXJyYXkgb2YgZmFsbGJhY2sgbGFuZ3VhZ2VzIHRvIGJlIHVzZWQgKHRvIGNoYW5nZSBzdGFjayBhdCBydW50aW1lKVxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfHxhcnJheX0gZmFsbGJhY2sgbGFuZ3VhZ2Uga2V5XG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5mYWxsYmFja0xhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgIGlmIChsYW5nS2V5ICE9PSB1bmRlZmluZWQgJiYgbGFuZ0tleSAhPT0gbnVsbCkge1xuICAgICAgICBmYWxsYmFja1N0YWNrKGxhbmdLZXkpO1xuXG4gICAgICAgIC8vIGFzIHdlIG1pZ2h0IGhhdmUgYW4gYXN5bmMgbG9hZGVyIGluaXRpYXRlZCBhbmQgYSBuZXcgdHJhbnNsYXRpb24gbGFuZ3VhZ2UgbWlnaHQgaGF2ZSBiZWVuIGRlZmluZWRcbiAgICAgICAgLy8gd2UgbmVlZCB0byBhZGQgdGhlIHByb21pc2UgdG8gdGhlIHN0YWNrIGFsc28uIFNvIC0gaXRlcmF0ZS5cbiAgICAgICAgaWYgKCRsb2FkZXJGYWN0b3J5KSB7XG4gICAgICAgICAgaWYgKCRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICghbGFuZ1Byb21pc2VzWyRmYWxsYmFja0xhbmd1YWdlW2ldXSkge1xuICAgICAgICAgICAgICAgIGxhbmdQcm9taXNlc1skZmFsbGJhY2tMYW5ndWFnZVtpXV0gPSBsb2FkQXN5bmMoJGZhbGxiYWNrTGFuZ3VhZ2VbaV0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICR0cmFuc2xhdGUudXNlKCR0cmFuc2xhdGUudXNlKCkpO1xuICAgICAgfVxuICAgICAgaWYgKCRmYWxsYmFja1dhc1N0cmluZykge1xuICAgICAgICByZXR1cm4gJGZhbGxiYWNrTGFuZ3VhZ2VbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJGZhbGxiYWNrTGFuZ3VhZ2U7XG4gICAgICB9XG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3VzZUZhbGxiYWNrTGFuZ3VhZ2VcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTZXRzIHRoZSBmaXJzdCBrZXkgb2YgdGhlIGZhbGxiYWNrIGxhbmd1YWdlIHN0YWNrIHRvIGJlIHVzZWQgZm9yIHRyYW5zbGF0aW9uLlxuICAgICAqIFRoZXJlZm9yZSBhbGwgbGFuZ3VhZ2VzIGluIHRoZSBmYWxsYmFjayBhcnJheSBCRUZPUkUgdGhpcyBrZXkgd2lsbCBiZSBza2lwcGVkIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBsYW5nS2V5IENvbnRhaW5zIHRoZSBsYW5nS2V5IHRoZSBpdGVyYXRpb24gc2hhbGwgc3RhcnQgd2l0aC4gU2V0IHRvIGZhbHNlIGlmIHlvdSB3YW50IHRvXG4gICAgICogZ2V0IGJhY2sgdG8gdGhlIHdob2xlIHN0YWNrXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS51c2VGYWxsYmFja0xhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgIGlmIChsYW5nS2V5ICE9PSB1bmRlZmluZWQgJiYgbGFuZ0tleSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoIWxhbmdLZXkpIHtcbiAgICAgICAgICBzdGFydEZhbGxiYWNrSXRlcmF0aW9uID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbGFuZ0tleVBvc2l0aW9uID0gaW5kZXhPZigkZmFsbGJhY2tMYW5ndWFnZSwgbGFuZ0tleSk7XG4gICAgICAgICAgaWYgKGxhbmdLZXlQb3NpdGlvbiA+IC0xKSB7XG4gICAgICAgICAgICBzdGFydEZhbGxiYWNrSXRlcmF0aW9uID0gbGFuZ0tleVBvc2l0aW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3Byb3Bvc2VkTGFuZ3VhZ2VcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBsYW5ndWFnZSBrZXkgb2YgbGFuZ3VhZ2UgdGhhdCBpcyBjdXJyZW50bHkgbG9hZGVkIGFzeW5jaHJvbm91c2x5LlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBsYW5ndWFnZSBrZXlcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLnByb3Bvc2VkTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJG5leHRMYW5nO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjc3RvcmFnZVxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgcmVnaXN0ZXJlZCBzdG9yYWdlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBTdG9yYWdlXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5zdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIFN0b3JhZ2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNuZWdvdGlhdGVMb2NhbGVcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIGEgbGFuZ3VhZ2Uga2V5IGJhc2VkIG9uIGF2YWlsYWJsZSBsYW5ndWFnZXMgYW5kIGxhbmd1YWdlIGFsaWFzZXMuIElmIGFcbiAgICAgKiBsYW5ndWFnZSBrZXkgY2Fubm90IGJlIHJlc29sdmVkLCByZXR1cm5zIHVuZGVmaW5lZC5cbiAgICAgKlxuICAgICAqIElmIG5vIG9yIGEgZmFsc3kga2V5IGlzIGdpdmVuLCByZXR1cm5zIHVuZGVmaW5lZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2V5XSBMYW5ndWFnZSBrZXlcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBMYW5ndWFnZSBrZXkgb3IgdW5kZWZpbmVkIGlmIG5vIGxhbmd1YWdlIGtleSBpcyBmb3VuZC5cbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLm5lZ290aWF0ZUxvY2FsZSA9IG5lZ290aWF0ZUxvY2FsZTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSN1c2VcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB3aGljaCBsYW5ndWFnZSB0byB1c2UgYnkgZ2l2ZW4gbGFuZ3VhZ2Uga2V5LiBUaGlzIG1ldGhvZCBpc1xuICAgICAqIHVzZWQgdG8gY2hhbmdlIGxhbmd1YWdlIGF0IHJ1bnRpbWUuIEl0IGFsc28gdGFrZXMgY2FyZSBvZiBzdG9yaW5nIHRoZSBsYW5ndWFnZVxuICAgICAqIGtleSBpbiBhIGNvbmZpZ3VyZWQgc3RvcmUgdG8gbGV0IHlvdXIgYXBwIHJlbWVtYmVyIHRoZSBjaG9vc2VkIGxhbmd1YWdlLlxuICAgICAqXG4gICAgICogV2hlbiB0cnlpbmcgdG8gJ3VzZScgYSBsYW5ndWFnZSB3aGljaCBpc24ndCBhdmFpbGFibGUgaXQgdHJpZXMgdG8gbG9hZCBpdFxuICAgICAqIGFzeW5jaHJvbm91c2x5IHdpdGggcmVnaXN0ZXJlZCBsb2FkZXJzLlxuICAgICAqXG4gICAgICogUmV0dXJucyBwcm9taXNlIG9iamVjdCB3aXRoIGxvYWRlZCBsYW5ndWFnZSBmaWxlIGRhdGEgb3Igc3RyaW5nIG9mIHRoZSBjdXJyZW50bHkgdXNlZCBsYW5ndWFnZS5cbiAgICAgKlxuICAgICAqIElmIG5vIG9yIGEgZmFsc3kga2V5IGlzIGdpdmVuIGl0IHJldHVybnMgdGhlIGN1cnJlbnRseSB1c2VkIGxhbmd1YWdlIGtleS5cbiAgICAgKiBUaGUgcmV0dXJuZWQgc3RyaW5nIHdpbGwgYmUgYGBgdW5kZWZpbmVkYGBgIGlmIHNldHRpbmcgdXAgJHRyYW5zbGF0ZSBoYXNuJ3QgZmluaXNoZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAkdHJhbnNsYXRlLnVzZShcImVuX1VTXCIpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgKiAgICRzY29wZS50ZXh0ID0gJHRyYW5zbGF0ZShcIkhFTExPXCIpO1xuICAgICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gTGFuZ3VhZ2Uga2V5XG4gICAgICogQHJldHVybiB7b2JqZWN0fHN0cmluZ30gUHJvbWlzZSB3aXRoIGxvYWRlZCBsYW5ndWFnZSBkYXRhIG9yIHRoZSBsYW5ndWFnZSBrZXkgaWYgYSBmYWxzeSBwYXJhbSB3YXMgZ2l2ZW4uXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS51c2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoIWtleSkge1xuICAgICAgICByZXR1cm4gJHVzZXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VTdGFydCcsIHtsYW5ndWFnZSA6IGtleX0pO1xuXG4gICAgICAvLyBUcnkgdG8gZ2V0IHRoZSBhbGlhc2VkIGxhbmd1YWdlIGtleVxuICAgICAgdmFyIGFsaWFzZWRLZXkgPSBuZWdvdGlhdGVMb2NhbGUoa2V5KTtcbiAgICAgIC8vIEVuc3VyZSBvbmx5IHJlZ2lzdGVyZWQgbGFuZ3VhZ2Uga2V5cyB3aWxsIGJlIGxvYWRlZFxuICAgICAgaWYgKCRhdmFpbGFibGVMYW5ndWFnZUtleXMubGVuZ3RoID4gMCAmJiAhYWxpYXNlZEtleSkge1xuICAgICAgICByZXR1cm4gJHEucmVqZWN0KGtleSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbGlhc2VkS2V5KSB7XG4gICAgICAgIGtleSA9IGFsaWFzZWRLZXk7XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHRoZXJlIGlzbid0IGEgdHJhbnNsYXRpb24gdGFibGUgZm9yIHRoZSBsYW5ndWFnZSB3ZSd2ZSByZXF1ZXN0ZWQsXG4gICAgICAvLyB3ZSBsb2FkIGl0IGFzeW5jaHJvbm91c2x5XG4gICAgICAkbmV4dExhbmcgPSBrZXk7XG4gICAgICBpZiAoKCRmb3JjZUFzeW5jUmVsb2FkRW5hYmxlZCB8fCAhJHRyYW5zbGF0aW9uVGFibGVba2V5XSkgJiYgJGxvYWRlckZhY3RvcnkgJiYgIWxhbmdQcm9taXNlc1trZXldKSB7XG4gICAgICAgIGxhbmdQcm9taXNlc1trZXldID0gbG9hZEFzeW5jKGtleSkudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbnModHJhbnNsYXRpb24ua2V5LCB0cmFuc2xhdGlvbi50YWJsZSk7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cmFuc2xhdGlvbi5rZXkpO1xuICAgICAgICAgIGlmICgkbmV4dExhbmcgPT09IGtleSkge1xuICAgICAgICAgICAgdXNlTGFuZ3VhZ2UodHJhbnNsYXRpb24ua2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgICAgICB9LCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVycm9yJywge2xhbmd1YWdlIDoga2V5fSk7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGtleSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIHtsYW5ndWFnZSA6IGtleX0pO1xuICAgICAgICAgIHJldHVybiAkcS5yZWplY3Qoa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxhbmdQcm9taXNlc1trZXldWydmaW5hbGx5J10oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNsZWFyTmV4dExhbmdBbmRQcm9taXNlKGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChsYW5nUHJvbWlzZXNba2V5XSkge1xuICAgICAgICAvLyB3ZSBhcmUgYWxyZWFkeSBsb2FkaW5nIHRoaXMgYXN5bmNocm9ub3VzbHlcbiAgICAgICAgLy8gcmVzb2x2ZSBvdXIgbmV3IGRlZmVycmVkIHdoZW4gdGhlIG9sZCBsYW5nUHJvbWlzZSBpcyByZXNvbHZlZFxuICAgICAgICBsYW5nUHJvbWlzZXNba2V5XS50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgIGlmICgkbmV4dExhbmcgPT09IHRyYW5zbGF0aW9uLmtleSkge1xuICAgICAgICAgICAgdXNlTGFuZ3VhZ2UodHJhbnNsYXRpb24ua2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cmFuc2xhdGlvbi5rZXkpO1xuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbjtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIC8vIGZpbmQgZmlyc3QgYXZhaWxhYmxlIGZhbGxiYWNrIGxhbmd1YWdlIGlmIHRoYXQgcmVxdWVzdCBoYXMgZmFpbGVkXG4gICAgICAgICAgaWYgKCEkdXNlcyAmJiAkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGggPiAwICYmICRmYWxsYmFja0xhbmd1YWdlWzBdICE9PSBrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiAkdHJhbnNsYXRlLnVzZSgkZmFsbGJhY2tMYW5ndWFnZVswXSkudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucmVqZWN0KGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoa2V5KTtcbiAgICAgICAgdXNlTGFuZ3VhZ2Uoa2V5KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNyZXNvbHZlQ2xpZW50TG9jYWxlXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhpcyByZXR1cm5zIHRoZSBjdXJyZW50IGJyb3dzZXIvY2xpZW50J3MgbGFuZ3VhZ2Uga2V5LiBUaGUgcmVzdWx0IGlzIHByb2Nlc3NlZCB3aXRoIHRoZSBjb25maWd1cmVkIHVuaWZvcm0gdGFnIHJlc29sdmVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gdGhlIGN1cnJlbnQgY2xpZW50L2Jyb3dzZXIgbGFuZ3VhZ2Uga2V5XG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5yZXNvbHZlQ2xpZW50TG9jYWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGdldExvY2FsZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjc3RvcmFnZUtleVxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgdGhlIGtleSBmb3IgdGhlIHN0b3JhZ2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0b3JhZ2Uga2V5XG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5zdG9yYWdlS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHN0b3JhZ2VLZXkoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2lzUG9zdENvbXBpbGluZ0VuYWJsZWRcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgcG9zdCBjb21waWxpbmcgaXMgZW5hYmxlZCBvciBub3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2x9IHN0b3JhZ2Uga2V5XG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5pc1Bvc3RDb21waWxpbmdFbmFibGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICRwb3N0Q29tcGlsaW5nRW5hYmxlZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2lzRm9yY2VBc3luY1JlbG9hZEVuYWJsZWRcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgZm9yY2UgYXN5bmMgcmVsb2FkIGlzIGVuYWJsZWQgb3Igbm90XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBmb3JjZUFzeW5jUmVsb2FkIHZhbHVlXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5pc0ZvcmNlQXN5bmNSZWxvYWRFbmFibGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICRmb3JjZUFzeW5jUmVsb2FkRW5hYmxlZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2lzS2VlcENvbnRlbnRcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIga2VlcENvbnRlbnQgb3Igbm90XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBrZWVwQ29udGVudCB2YWx1ZVxuICAgICAqL1xuICAgICR0cmFuc2xhdGUuaXNLZWVwQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAka2VlcENvbnRlbnQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNyZWZyZXNoXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmVmcmVzaGVzIGEgdHJhbnNsYXRpb24gdGFibGUgcG9pbnRlZCBieSB0aGUgZ2l2ZW4gbGFuZ0tleS4gSWYgbGFuZ0tleSBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAqIHRoZSBtb2R1bGUgd2lsbCBkcm9wIGFsbCBleGlzdGVudCB0cmFuc2xhdGlvbiB0YWJsZXMgYW5kIGxvYWQgbmV3IHZlcnNpb24gb2YgdGhvc2Ugd2hpY2hcbiAgICAgKiBhcmUgY3VycmVudGx5IGluIHVzZS5cbiAgICAgKlxuICAgICAqIFJlZnJlc2ggbWVhbnMgdGhhdCB0aGUgbW9kdWxlIHdpbGwgZHJvcCB0YXJnZXQgdHJhbnNsYXRpb24gdGFibGUgYW5kIHRyeSB0byBsb2FkIGl0IGFnYWluLlxuICAgICAqXG4gICAgICogSW4gY2FzZSB0aGVyZSBhcmUgbm8gbG9hZGVycyByZWdpc3RlcmVkIHRoZSByZWZyZXNoKCkgbWV0aG9kIHdpbGwgdGhyb3cgYW4gRXJyb3IuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgbW9kdWxlIGlzIGFibGUgdG8gcmVmcmVzaCB0cmFuc2xhdGlvbiB0YWJsZXMgcmVmcmVzaCgpIG1ldGhvZCB3aWxsIGJyb2FkY2FzdFxuICAgICAqICR0cmFuc2xhdGVSZWZyZXNoU3RhcnQgYW5kICR0cmFuc2xhdGVSZWZyZXNoRW5kIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gdGhpcyB3aWxsIGRyb3AgYWxsIGN1cnJlbnRseSBleGlzdGVudCB0cmFuc2xhdGlvbiB0YWJsZXMgYW5kIHJlbG9hZCB0aG9zZSB3aGljaCBhcmVcbiAgICAgKiAvLyBjdXJyZW50bHkgaW4gdXNlXG4gICAgICogJHRyYW5zbGF0ZS5yZWZyZXNoKCk7XG4gICAgICogLy8gdGhpcyB3aWxsIHJlZnJlc2ggYSB0cmFuc2xhdGlvbiB0YWJsZSBmb3IgdGhlIGVuX1VTIGxhbmd1YWdlXG4gICAgICogJHRyYW5zbGF0ZS5yZWZyZXNoKCdlbl9VUycpO1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkgb2YgdGhlIHRhYmxlLCB3aGljaCBoYXMgdG8gYmUgcmVmcmVzaGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtwcm9taXNlfSBQcm9taXNlLCB3aGljaCB3aWxsIGJlIHJlc29sdmVkIGluIGNhc2UgYSB0cmFuc2xhdGlvbiB0YWJsZXMgcmVmcmVzaGluZ1xuICAgICAqIHByb2Nlc3MgaXMgZmluaXNoZWQgc3VjY2Vzc2Z1bGx5LCBhbmQgcmVqZWN0IGlmIG5vdC5cbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLnJlZnJlc2ggPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgaWYgKCEkbG9hZGVyRmFjdG9yeSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkblxcJ3QgcmVmcmVzaCB0cmFuc2xhdGlvbiB0YWJsZSwgbm8gbG9hZGVyIHJlZ2lzdGVyZWQhJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlc29sdmUoKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZVJlZnJlc2hFbmQnLCB7bGFuZ3VhZ2UgOiBsYW5nS2V5fSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlamVjdCgpIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVSZWZyZXNoRW5kJywge2xhbmd1YWdlIDogbGFuZ0tleX0pO1xuICAgICAgfVxuXG4gICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlUmVmcmVzaFN0YXJ0Jywge2xhbmd1YWdlIDogbGFuZ0tleX0pO1xuXG4gICAgICBpZiAoIWxhbmdLZXkpIHtcbiAgICAgICAgLy8gaWYgdGhlcmUncyBubyBsYW5ndWFnZSBrZXkgc3BlY2lmaWVkIHdlIHJlZnJlc2ggQUxMIFRIRSBUSElOR1MhXG4gICAgICAgIHZhciB0YWJsZXMgPSBbXSwgbG9hZGluZ0tleXMgPSB7fTtcblxuICAgICAgICAvLyByZWxvYWQgcmVnaXN0ZXJlZCBmYWxsYmFjayBsYW5ndWFnZXNcbiAgICAgICAgaWYgKCRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdGFibGVzLnB1c2gobG9hZEFzeW5jKCRmYWxsYmFja0xhbmd1YWdlW2ldKSk7XG4gICAgICAgICAgICBsb2FkaW5nS2V5c1skZmFsbGJhY2tMYW5ndWFnZVtpXV0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbG9hZCBjdXJyZW50bHkgdXNlZCBsYW5ndWFnZVxuICAgICAgICBpZiAoJHVzZXMgJiYgIWxvYWRpbmdLZXlzWyR1c2VzXSkge1xuICAgICAgICAgIHRhYmxlcy5wdXNoKGxvYWRBc3luYygkdXNlcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFsbFRyYW5zbGF0aW9uc0xvYWRlZCA9IGZ1bmN0aW9uICh0YWJsZURhdGEpIHtcbiAgICAgICAgICAkdHJhbnNsYXRpb25UYWJsZSA9IHt9O1xuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0YWJsZURhdGEsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbnMoZGF0YS5rZXksIGRhdGEudGFibGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICgkdXNlcykge1xuICAgICAgICAgICAgdXNlTGFuZ3VhZ2UoJHVzZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGFsbFRyYW5zbGF0aW9uc0xvYWRlZC5kaXNwbGF5TmFtZSA9ICdyZWZyZXNoUG9zdFByb2Nlc3Nvcic7XG5cbiAgICAgICAgJHEuYWxsKHRhYmxlcykudGhlbihhbGxUcmFuc2xhdGlvbnNMb2FkZWQsIHJlamVjdCk7XG5cbiAgICAgIH0gZWxzZSBpZiAoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0pIHtcblxuICAgICAgICB2YXIgb25lVHJhbnNsYXRpb25zTG9hZGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbnMoZGF0YS5rZXksIGRhdGEudGFibGUpO1xuICAgICAgICAgIGlmIChsYW5nS2V5ID09PSAkdXNlcykge1xuICAgICAgICAgICAgdXNlTGFuZ3VhZ2UoJHVzZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH07XG4gICAgICAgIG9uZVRyYW5zbGF0aW9uc0xvYWRlZC5kaXNwbGF5TmFtZSA9ICdyZWZyZXNoUG9zdFByb2Nlc3Nvcic7XG5cbiAgICAgICAgbG9hZEFzeW5jKGxhbmdLZXkpLnRoZW4ob25lVHJhbnNsYXRpb25zTG9hZGVkLCByZWplY3QpO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWplY3QoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjaW5zdGFudFxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYSB0cmFuc2xhdGlvbiBpbnN0YW50bHkgZnJvbSB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgbG9hZGVkIHRyYW5zbGF0aW9uLiBBbGwgcnVsZXNcbiAgICAgKiByZWdhcmRpbmcgdGhlIGN1cnJlbnQgbGFuZ3VhZ2UsIHRoZSBwcmVmZXJyZWQgbGFuZ3VhZ2Ugb2YgZXZlbiBmYWxsYmFjayBsYW5ndWFnZXMgd2lsbCBiZVxuICAgICAqIHVzZWQgZXhjZXB0IGFueSBwcm9taXNlIGhhbmRsaW5nLiBJZiBhIGxhbmd1YWdlIHdhcyBub3QgZm91bmQsIGFuIGFzeW5jaHJvbm91cyBsb2FkaW5nXG4gICAgICogd2lsbCBiZSBpbnZva2VkIGluIHRoZSBiYWNrZ3JvdW5kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd8YXJyYXl9IHRyYW5zbGF0aW9uSWQgQSB0b2tlbiB3aGljaCByZXByZXNlbnRzIGEgdHJhbnNsYXRpb24gaWRcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGNhbiBiZSBvcHRpb25hbGx5IGFuIGFycmF5IG9mIHRyYW5zbGF0aW9uIGlkcyB3aGljaFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMgdGhhdCB0aGUgZnVuY3Rpb24ncyBwcm9taXNlIHJldHVybnMgYW4gb2JqZWN0IHdoZXJlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFjaCBrZXkgaXMgdGhlIHRyYW5zbGF0aW9uIGlkIGFuZCB0aGUgdmFsdWUgdGhlIHRyYW5zbGF0aW9uLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBpbnRlcnBvbGF0ZVBhcmFtcyBQYXJhbXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW50ZXJwb2xhdGlvbklkIFRoZSBpZCBvZiB0aGUgaW50ZXJwb2xhdGlvbiB0byB1c2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZm9yY2VMYW5ndWFnZSBBIGxhbmd1YWdlIHRvIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBsYW5ndWFnZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzYW5pdGl6ZVN0cmF0ZWd5IGZvcmNlIHNhbml0aXplIHN0cmF0ZWd5IGZvciB0aGlzIGNhbGwgaW5zdGVhZCBvZiB1c2luZyB0aGUgY29uZmlndXJlZCBvbmVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3xvYmplY3R9IHRyYW5zbGF0aW9uXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5pbnN0YW50ID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIGZvcmNlTGFuZ3VhZ2UsIHNhbml0aXplU3RyYXRlZ3kpIHtcblxuICAgICAgLy8gd2UgZG9uJ3Qgd2FudCB0byByZS1uZWdvdGlhdGUgJHVzZXNcbiAgICAgIHZhciB1c2VzID0gKGZvcmNlTGFuZ3VhZ2UgJiYgZm9yY2VMYW5ndWFnZSAhPT0gJHVzZXMpID8gLy8gd2UgZG9uJ3Qgd2FudCB0byByZS1uZWdvdGlhdGUgJHVzZXNcbiAgICAgICAgKG5lZ290aWF0ZUxvY2FsZShmb3JjZUxhbmd1YWdlKSB8fCBmb3JjZUxhbmd1YWdlKSA6ICR1c2VzO1xuXG4gICAgICAvLyBEZXRlY3QgdW5kZWZpbmVkIGFuZCBudWxsIHZhbHVlcyB0byBzaG9ydGVuIHRoZSBleGVjdXRpb24gYW5kIHByZXZlbnQgZXhjZXB0aW9uc1xuICAgICAgaWYgKHRyYW5zbGF0aW9uSWQgPT09IG51bGwgfHwgYW5ndWxhci5pc1VuZGVmaW5lZCh0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZm9yY2VMYW5ndWFnZSBpcyBwcmVzZW50XG4gICAgICBpZiAoZm9yY2VMYW5ndWFnZSkge1xuICAgICAgICBsb2FkVHJhbnNsYXRpb25zSWZNaXNzaW5nKGZvcmNlTGFuZ3VhZ2UpO1xuICAgICAgfVxuXG4gICAgICAvLyBEdWNrIGRldGVjdGlvbjogSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGFuIGFycmF5LCBhIGJ1bmNoIG9mIHRyYW5zbGF0aW9ucyB3YXMgcmVxdWVzdGVkLlxuICAgICAgLy8gVGhlIHJlc3VsdCBpcyBhbiBvYmplY3QuXG4gICAgICBpZiAoYW5ndWxhci5pc0FycmF5KHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgIHZhciByZXN1bHRzID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBjID0gdHJhbnNsYXRpb25JZC5sZW5ndGg7IGkgPCBjOyBpKyspIHtcbiAgICAgICAgICByZXN1bHRzW3RyYW5zbGF0aW9uSWRbaV1dID0gJHRyYW5zbGF0ZS5pbnN0YW50KHRyYW5zbGF0aW9uSWRbaV0sIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIGZvcmNlTGFuZ3VhZ2UsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgfVxuXG4gICAgICAvLyBXZSBkaXNjYXJkZWQgdW5hY2NlcHRhYmxlIHZhbHVlcy4gU28gd2UganVzdCBuZWVkIHRvIHZlcmlmeSBpZiB0cmFuc2xhdGlvbklkIGlzIGVtcHR5IFN0cmluZ1xuICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodHJhbnNsYXRpb25JZCkgJiYgdHJhbnNsYXRpb25JZC5sZW5ndGggPCAxKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgfVxuXG4gICAgICAvLyB0cmltIG9mZiBhbnkgd2hpdGVzcGFjZVxuICAgICAgaWYgKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgdHJhbnNsYXRpb25JZCA9IHRyaW0uYXBwbHkodHJhbnNsYXRpb25JZCk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZXN1bHQsIHBvc3NpYmxlTGFuZ0tleXMgPSBbXTtcbiAgICAgIGlmICgkcHJlZmVycmVkTGFuZ3VhZ2UpIHtcbiAgICAgICAgcG9zc2libGVMYW5nS2V5cy5wdXNoKCRwcmVmZXJyZWRMYW5ndWFnZSk7XG4gICAgICB9XG4gICAgICBpZiAodXNlcykge1xuICAgICAgICBwb3NzaWJsZUxhbmdLZXlzLnB1c2godXNlcyk7XG4gICAgICB9XG4gICAgICBpZiAoJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgIHBvc3NpYmxlTGFuZ0tleXMgPSBwb3NzaWJsZUxhbmdLZXlzLmNvbmNhdCgkZmFsbGJhY2tMYW5ndWFnZSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBqID0gMCwgZCA9IHBvc3NpYmxlTGFuZ0tleXMubGVuZ3RoOyBqIDwgZDsgaisrKSB7XG4gICAgICAgIHZhciBwb3NzaWJsZUxhbmdLZXkgPSBwb3NzaWJsZUxhbmdLZXlzW2pdO1xuICAgICAgICBpZiAoJHRyYW5zbGF0aW9uVGFibGVbcG9zc2libGVMYW5nS2V5XSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgJHRyYW5zbGF0aW9uVGFibGVbcG9zc2libGVMYW5nS2V5XVt0cmFuc2xhdGlvbklkXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkLCB1c2VzLCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFyZXN1bHQgJiYgcmVzdWx0ICE9PSAnJykge1xuICAgICAgICBpZiAoJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCB8fCAkbm90Rm91bmRJbmRpY2F0b3JSaWdodCkge1xuICAgICAgICAgIHJlc3VsdCA9IGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzKHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFJldHVybiB0cmFuc2xhdGlvbiBvZiBkZWZhdWx0IGludGVycG9sYXRvciBpZiBub3QgZm91bmQgYW55dGhpbmcuXG4gICAgICAgICAgcmVzdWx0ID0gZGVmYXVsdEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgJ2ZpbHRlcicsIHNhbml0aXplU3RyYXRlZ3kpO1xuXG4gICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGUgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkIGRvZXNuJ3QgZXhpc3RzLlxuICAgICAgICAgIC8vIE5vdywgaWYgdGhlcmUgaXMgYSByZWdpc3RlcmVkIGhhbmRsZXIgZm9yIG1pc3NpbmcgdHJhbnNsYXRpb25zIGFuZCBub1xuICAgICAgICAgIC8vIGFzeW5jTG9hZGVyIGlzIHBlbmRpbmcsIHdlIGV4ZWN1dGUgdGhlIGhhbmRsZXJcbiAgICAgICAgICB2YXIgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uO1xuICAgICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIpIHtcbiAgICAgICAgICAgIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbiA9IHRyYW5zbGF0ZUJ5SGFuZGxlcih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlciAmJiBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3ZlcnNpb25JbmZvXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCB2ZXJzaW9uIGluZm9ybWF0aW9uIGZvciB0aGUgYW5ndWxhci10cmFuc2xhdGUgbGlicmFyeVxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBhbmd1bGFyLXRyYW5zbGF0ZSB2ZXJzaW9uXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS52ZXJzaW9uSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB2ZXJzaW9uO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjbG9hZGVyQ2FjaGVcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBkZWZpbmVkIGxvYWRlckNhY2hlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbnxzdHJpbmd8b2JqZWN0fSBjdXJyZW50IHZhbHVlIG9mIGxvYWRlckNhY2hlXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5sb2FkZXJDYWNoZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBsb2FkZXJDYWNoZTtcbiAgICB9O1xuXG4gICAgLy8gaW50ZXJuYWwgcHVycG9zZSBvbmx5XG4gICAgJHRyYW5zbGF0ZS5kaXJlY3RpdmVQcmlvcml0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBkaXJlY3RpdmVQcmlvcml0eTtcbiAgICB9O1xuXG4gICAgLy8gaW50ZXJuYWwgcHVycG9zZSBvbmx5XG4gICAgJHRyYW5zbGF0ZS5zdGF0ZWZ1bEZpbHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzdGF0ZWZ1bEZpbHRlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2lzUmVhZHlcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHNlcnZpY2UgaXMgXCJyZWFkeVwiIHRvIHRyYW5zbGF0ZSAoaS5lLiBsb2FkaW5nIDFzdCBsYW5ndWFnZSkuXG4gICAgICpcbiAgICAgKiBTZWUgYWxzbyB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI21ldGhvZHNfb25SZWFkeSBvblJlYWR5KCl9LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gY3VycmVudCB2YWx1ZSBvZiByZWFkeVxuICAgICAqL1xuICAgICR0cmFuc2xhdGUuaXNSZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkaXNSZWFkeTtcbiAgICB9O1xuXG4gICAgdmFyICRvblJlYWR5RGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICRvblJlYWR5RGVmZXJyZWQucHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICRpc1JlYWR5ID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNvblJlYWR5XG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBzZXJ2aWNlIGlzIFwicmVhZHlcIiB0byB0cmFuc2xhdGUgKGkuZS4gbG9hZGluZyAxc3QgbGFuZ3VhZ2UpLlxuICAgICAqXG4gICAgICogU2VlIGFsc28ge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNtZXRob2RzX2lzUmVhZHkgaXNSZWFkeSgpfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb249fSBmbiBGdW5jdGlvbiB0byBpbnZva2Ugd2hlbiBzZXJ2aWNlIGlzIHJlYWR5XG4gICAgICogQHJldHVybiB7b2JqZWN0fSBQcm9taXNlIHJlc29sdmVkIHdoZW4gc2VydmljZSBpcyByZWFkeVxuICAgICAqL1xuICAgICR0cmFuc2xhdGUub25SZWFkeSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oZm4pKSB7XG4gICAgICAgIGRlZmVycmVkLnByb21pc2UudGhlbihmbik7XG4gICAgICB9XG4gICAgICBpZiAoJGlzUmVhZHkpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJG9uUmVhZHlEZWZlcnJlZC5wcm9taXNlLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2dldEF2YWlsYWJsZUxhbmd1YWdlS2V5c1xuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2ltcGx5IHJldHVybnMgdGhlIHJlZ2lzdGVyZWQgbGFuZ3VhZ2Uga2V5cyBiZWluZyBkZWZpbmVkIGJlZm9yZSBpbiB0aGUgY29uZmlnIHBoYXNlXG4gICAgICogV2l0aCB0aGlzLCBhbiBhcHBsaWNhdGlvbiBjYW4gdXNlIHRoZSBhcnJheSB0byBwcm92aWRlIGEgbGFuZ3VhZ2Ugc2VsZWN0aW9uIGRyb3Bkb3duIG9yIHNpbWlsYXJcbiAgICAgKiB3aXRob3V0IGFueSBhZGRpdGlvbmFsIGVmZm9ydFxuICAgICAqXG4gICAgICogQHJldHVybnMge29iamVjdH0gcmV0dXJucyB0aGUgbGlzdCBvZiBwb3NzaWJseSByZWdpc3RlcmVkIGxhbmd1YWdlIGtleXMgYW5kIG1hcHBpbmcgb3IgbnVsbCBpZiBub3QgZGVmaW5lZFxuICAgICAqL1xuICAgICR0cmFuc2xhdGUuZ2V0QXZhaWxhYmxlTGFuZ3VhZ2VLZXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCRhdmFpbGFibGVMYW5ndWFnZUtleXMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gJGF2YWlsYWJsZUxhbmd1YWdlS2V5cztcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjZ2V0VHJhbnNsYXRpb25UYWJsZVxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgdHJhbnNsYXRpb24gdGFibGUgYnkgdGhlIGdpdmVuIGxhbmd1YWdlIGtleS5cbiAgICAgKlxuICAgICAqIFVubGVzcyBhIGxhbmd1YWdlIGlzIHByb3ZpZGVkIGl0IHJldHVybnMgYSB0cmFuc2xhdGlvbiB0YWJsZSBvZiB0aGUgY3VycmVudCBvbmUuXG4gICAgICogTm90ZTogSWYgdHJhbnNsYXRpb24gZGljdGlvbmFyeSBpcyBjdXJyZW50bHkgZG93bmxvYWRpbmcgb3IgaW4gcHJvZ3Jlc3NcbiAgICAgKiBpdCB3aWxsIHJldHVybiBudWxsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgQSB0b2tlbiB3aGljaCByZXByZXNlbnRzIGEgdHJhbnNsYXRpb24gaWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gYSBjb3B5IG9mIGFuZ3VsYXItdHJhbnNsYXRlICR0cmFuc2xhdGlvblRhYmxlXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5nZXRUcmFuc2xhdGlvblRhYmxlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgIGxhbmdLZXkgPSBsYW5nS2V5IHx8ICR0cmFuc2xhdGUudXNlKCk7XG4gICAgICBpZiAobGFuZ0tleSAmJiAkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSkge1xuICAgICAgICByZXR1cm4gYW5ndWxhci5jb3B5KCR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICAvLyBXaGVuZXZlciAkdHJhbnNsYXRlUmVhZHkgaXMgYmVpbmcgZmlyZWQsIHRoaXMgd2lsbCBlbnN1cmUgdGhlIHN0YXRlIG9mICRpc1JlYWR5XG4gICAgdmFyIGdsb2JhbE9uUmVhZHlMaXN0ZW5lciA9ICRyb290U2NvcGUuJG9uKCckdHJhbnNsYXRlUmVhZHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkb25SZWFkeURlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgIGdsb2JhbE9uUmVhZHlMaXN0ZW5lcigpOyAvLyBvbmUgdGltZSBvbmx5XG4gICAgICBnbG9iYWxPblJlYWR5TGlzdGVuZXIgPSBudWxsO1xuICAgIH0pO1xuICAgIHZhciBnbG9iYWxPbkNoYW5nZUxpc3RlbmVyID0gJHJvb3RTY29wZS4kb24oJyR0cmFuc2xhdGVDaGFuZ2VFbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkb25SZWFkeURlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgIGdsb2JhbE9uQ2hhbmdlTGlzdGVuZXIoKTsgLy8gb25lIHRpbWUgb25seVxuICAgICAgZ2xvYmFsT25DaGFuZ2VMaXN0ZW5lciA9IG51bGw7XG4gICAgfSk7XG5cbiAgICBpZiAoJGxvYWRlckZhY3RvcnkpIHtcblxuICAgICAgLy8gSWYgYXQgbGVhc3Qgb25lIGFzeW5jIGxvYWRlciBpcyBkZWZpbmVkIGFuZCB0aGVyZSBhcmUgbm9cbiAgICAgIC8vIChkZWZhdWx0KSB0cmFuc2xhdGlvbnMgYXZhaWxhYmxlIHdlIHNob3VsZCB0cnkgdG8gbG9hZCB0aGVtLlxuICAgICAgaWYgKGFuZ3VsYXIuZXF1YWxzKCR0cmFuc2xhdGlvblRhYmxlLCB7fSkpIHtcbiAgICAgICAgaWYgKCR0cmFuc2xhdGUudXNlKCkpIHtcbiAgICAgICAgICAkdHJhbnNsYXRlLnVzZSgkdHJhbnNsYXRlLnVzZSgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBbHNvLCBpZiB0aGVyZSBhcmUgYW55IGZhbGxiYWNrIGxhbmd1YWdlIHJlZ2lzdGVyZWQsIHdlIHN0YXJ0XG4gICAgICAvLyBsb2FkaW5nIHRoZW0gYXN5bmNocm9ub3VzbHkgYXMgc29vbiBhcyB3ZSBjYW4uXG4gICAgICBpZiAoJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgIHZhciBwcm9jZXNzQXN5bmNSZXN1bHQgPSBmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbnModHJhbnNsYXRpb24ua2V5LCB0cmFuc2xhdGlvbi50YWJsZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIHtsYW5ndWFnZSA6IHRyYW5zbGF0aW9uLmtleX0pO1xuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbjtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgdmFyIGZhbGxiYWNrTGFuZ3VhZ2VJZCA9ICRmYWxsYmFja0xhbmd1YWdlW2ldO1xuICAgICAgICAgIGlmICgkZm9yY2VBc3luY1JlbG9hZEVuYWJsZWQgfHwgISR0cmFuc2xhdGlvblRhYmxlW2ZhbGxiYWNrTGFuZ3VhZ2VJZF0pIHtcbiAgICAgICAgICAgIGxhbmdQcm9taXNlc1tmYWxsYmFja0xhbmd1YWdlSWRdID0gbG9hZEFzeW5jKGZhbGxiYWNrTGFuZ3VhZ2VJZCkudGhlbihwcm9jZXNzQXN5bmNSZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlUmVhZHknLCB7bGFuZ3VhZ2UgOiAkdHJhbnNsYXRlLnVzZSgpfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICR0cmFuc2xhdGU7XG4gIH1dO1xufVxuXG4kdHJhbnNsYXRlLmRpc3BsYXlOYW1lID0gJ2Rpc3BsYXlOYW1lJztcblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvblxuICogQHJlcXVpcmVzICRpbnRlcnBvbGF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlcyBhbmd1bGFyJ3MgYCRpbnRlcnBvbGF0ZWAgc2VydmljZXMgdG8gaW50ZXJwb2xhdGUgc3RyaW5ncyBhZ2FpbnN0IHNvbWUgdmFsdWVzLlxuICpcbiAqIEJlIGF3YXJlIHRvIGNvbmZpZ3VyZSBhIHByb3BlciBzYW5pdGl6YXRpb24gc3RyYXRlZ3kuXG4gKlxuICogU2VlIGFsc286XG4gKiAqIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb259XG4gKlxuICogQHJldHVybiB7b2JqZWN0fSAkdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24gSW50ZXJwb2xhdG9yIHNlcnZpY2VcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKS5mYWN0b3J5KCckdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24nLCAkdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24pO1xuXG5mdW5jdGlvbiAkdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24gKCRpbnRlcnBvbGF0ZSwgJHRyYW5zbGF0ZVNhbml0aXphdGlvbikge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgJHRyYW5zbGF0ZUludGVycG9sYXRvciA9IHt9LFxuICAgICAgJGxvY2FsZSxcbiAgICAgICRpZGVudGlmaWVyID0gJ2RlZmF1bHQnO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24jc2V0TG9jYWxlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBjdXJyZW50IGxvY2FsZSAodGhpcyBpcyBjdXJyZW50bHkgbm90IHVzZSBpbiB0aGlzIGludGVycG9sYXRpb24pLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxlIExhbmd1YWdlIGtleSBvciBsb2NhbGUuXG4gICAqL1xuICAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yLnNldExvY2FsZSA9IGZ1bmN0aW9uIChsb2NhbGUpIHtcbiAgICAkbG9jYWxlID0gbG9jYWxlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24jZ2V0SW50ZXJwb2xhdGlvbklkZW50aWZpZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXR1cm5zIGFuIGlkZW50aWZpZXIgZm9yIHRoaXMgaW50ZXJwb2xhdGlvbiBzZXJ2aWNlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSAkaWRlbnRpZmllclxuICAgKi9cbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci5nZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJGlkZW50aWZpZXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjBcbiAgICogQHNlZSB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9ufVxuICAgKi9cbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAkdHJhbnNsYXRlU2FuaXRpemF0aW9uLnVzZVN0cmF0ZWd5KHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uI2ludGVycG9sYXRlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSW50ZXJwb2xhdGVzIGdpdmVuIHZhbHVlIGFnYWlucyBnaXZlbiBpbnRlcnBvbGF0ZSBwYXJhbXMgdXNpbmcgYW5ndWxhcnNcbiAgICogYCRpbnRlcnBvbGF0ZWAgc2VydmljZS5cbiAgICpcbiAgICogU2luY2UgQW5ndWxhckpTIDEuNSwgYHZhbHVlYCBtdXN0IG5vdCBiZSBhIHN0cmluZyBidXQgY2FuIGJlIGFueXRoaW5nIGlucHV0LlxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBpbnRlcnBvbGF0ZWQgc3RyaW5nLlxuICAgKi9cbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgaW50ZXJwb2xhdGlvblBhcmFtcywgY29udGV4dCwgc2FuaXRpemVTdHJhdGVneSkge1xuICAgIGludGVycG9sYXRpb25QYXJhbXMgPSBpbnRlcnBvbGF0aW9uUGFyYW1zIHx8IHt9O1xuICAgIGludGVycG9sYXRpb25QYXJhbXMgPSAkdHJhbnNsYXRlU2FuaXRpemF0aW9uLnNhbml0aXplKGludGVycG9sYXRpb25QYXJhbXMsICdwYXJhbXMnLCBzYW5pdGl6ZVN0cmF0ZWd5LCBjb250ZXh0KTtcblxuICAgIHZhciBpbnRlcnBvbGF0ZWRUZXh0O1xuICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgLy8gbnVtYmVycyBhcmUgc2FmZVxuICAgICAgaW50ZXJwb2xhdGVkVGV4dCA9ICcnICsgdmFsdWU7XG4gICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgLy8gc3RyaW5ncyBtdXN0IGJlIGludGVycG9sYXRlZCAodGhhdCdzIHRoZSBqb2IgaGVyZSlcbiAgICAgIGludGVycG9sYXRlZFRleHQgPSAkaW50ZXJwb2xhdGUodmFsdWUpKGludGVycG9sYXRpb25QYXJhbXMpO1xuICAgICAgaW50ZXJwb2xhdGVkVGV4dCA9ICR0cmFuc2xhdGVTYW5pdGl6YXRpb24uc2FuaXRpemUoaW50ZXJwb2xhdGVkVGV4dCwgJ3RleHQnLCBzYW5pdGl6ZVN0cmF0ZWd5LCBjb250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbmVpdGhlciBhIG51bWJlciBvciBhIHN0cmluZywgY2FudCBpbnRlcnBvbGF0ZSA9PiBlbXB0eSBzdHJpbmdcbiAgICAgIGludGVycG9sYXRlZFRleHQgPSAnJztcbiAgICB9XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGVkVGV4dDtcbiAgfTtcblxuICByZXR1cm4gJHRyYW5zbGF0ZUludGVycG9sYXRvcjtcbn1cblxuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uLmRpc3BsYXlOYW1lID0gJyR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbic7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJykuY29uc3RhbnQoJyRTVE9SQUdFX0tFWScsICdOR19UUkFOU0xBVEVfTEFOR19LRVknKTtcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmRpcmVjdGl2ZTp0cmFuc2xhdGVcbiAqIEByZXF1aXJlcyAkaW50ZXJwb2xhdGUsIFxuICogQHJlcXVpcmVzICRjb21waWxlLCBcbiAqIEByZXF1aXJlcyAkcGFyc2UsIFxuICogQHJlcXVpcmVzICRyb290U2NvcGVcbiAqIEByZXN0cmljdCBBRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVHJhbnNsYXRlcyBnaXZlbiB0cmFuc2xhdGlvbiBpZCBlaXRoZXIgdGhyb3VnaCBhdHRyaWJ1dGUgb3IgRE9NIGNvbnRlbnQuXG4gKiBJbnRlcm5hbGx5IGl0IHVzZXMgJHRyYW5zbGF0ZSBzZXJ2aWNlIHRvIHRyYW5zbGF0ZSB0aGUgdHJhbnNsYXRpb24gaWQuIEl0IHBvc3NpYmxlIHRvXG4gKiBwYXNzIGFuIG9wdGlvbmFsIGB0cmFuc2xhdGUtdmFsdWVzYCBvYmplY3QgbGl0ZXJhbCBhcyBzdHJpbmcgaW50byB0cmFuc2xhdGlvbiBpZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZSBUcmFuc2xhdGlvbiBpZCB3aGljaCBjb3VsZCBiZSBlaXRoZXIgc3RyaW5nIG9yIGludGVycG9sYXRlZCBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS12YWx1ZXMgVmFsdWVzIHRvIHBhc3MgaW50byB0cmFuc2xhdGlvbiBpZC4gQ2FuIGJlIHBhc3NlZCBhcyBvYmplY3QgbGl0ZXJhbCBzdHJpbmcgb3IgaW50ZXJwb2xhdGVkIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlLWF0dHItQVRUUiB0cmFuc2xhdGUgVHJhbnNsYXRpb24gaWQgYW5kIHB1dCBpdCBpbnRvIEFUVFIgYXR0cmlidXRlLlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUtZGVmYXVsdCB3aWxsIGJlIHVzZWQgdW5sZXNzIHRyYW5zbGF0aW9uIHdhcyBzdWNjZXNzZnVsXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB0cmFuc2xhdGUtY29tcGlsZSAoZGVmYXVsdCB0cnVlIGlmIHByZXNlbnQpIGRlZmluZXMgbG9jYWxseSBhY3RpdmF0aW9uIG9mIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNtZXRob2RzX3VzZVBvc3RDb21waWxpbmd9XG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB0cmFuc2xhdGUta2VlcC1jb250ZW50IChkZWZhdWx0IHRydWUgaWYgcHJlc2VudCkgZGVmaW5lcyB0aGF0IGluIGNhc2UgYSBLRVkgY291bGQgbm90IGJlIHRyYW5zbGF0ZWQsIHRoYXQgdGhlIGV4aXN0aW5nIGNvbnRlbnQgaXMgbGVmdCBpbiB0aGUgaW5uZXJIVE1MfVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ1ZpZXdcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiVHJhbnNsYXRlQ3RybFwiPlxuXG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwiVFJBTlNMQVRJT05fSURcIj48L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU+VFJBTlNMQVRJT05fSUQ8L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGUgdHJhbnNsYXRlLWF0dHItdGl0bGU9XCJUUkFOU0xBVElPTl9JRFwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT1cInt7dHJhbnNsYXRpb25JZH19XCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPnt7dHJhbnNsYXRpb25JZH19PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwiV0lUSF9WQUxVRVNcIiB0cmFuc2xhdGUtdmFsdWVzPVwie3ZhbHVlOiA1fVwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZSB0cmFuc2xhdGUtdmFsdWVzPVwie3ZhbHVlOiA1fVwiPldJVEhfVkFMVUVTPC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwiV0lUSF9WQUxVRVNcIiB0cmFuc2xhdGUtdmFsdWVzPVwie3t2YWx1ZXN9fVwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZSB0cmFuc2xhdGUtdmFsdWVzPVwie3t2YWx1ZXN9fVwiPldJVEhfVkFMVUVTPC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlIHRyYW5zbGF0ZS1hdHRyLXRpdGxlPVwiV0lUSF9WQUxVRVNcIiB0cmFuc2xhdGUtdmFsdWVzPVwie3t2YWx1ZXN9fVwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT1cIldJVEhfQ0FNRUxfQ0FTRV9LRVlcIiB0cmFuc2xhdGUtdmFsdWUtY2FtZWwtY2FzZS1rZXk9XCJIaVwiPjwvcHJlPlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycsIFsncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSddKVxuXG4gICAgICAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcblxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbicse1xuICAgICAgICAgICdUUkFOU0xBVElPTl9JRCc6ICdIZWxsbyB0aGVyZSEnLFxuICAgICAgICAgICdXSVRIX1ZBTFVFUyc6ICdUaGUgZm9sbG93aW5nIHZhbHVlIGlzIGR5bmFtaWM6IHt7dmFsdWV9fScsXG4gICAgICAgICAgJ1dJVEhfQ0FNRUxfQ0FTRV9LRVknOiAnVGhlIGludGVycG9sYXRpb24ga2V5IGlzIGNhbWVsIGNhc2VkOiB7e2NhbWVsQ2FzZUtleX19J1xuICAgICAgICB9KS5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcblxuICAgICAgfSk7XG5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1ZpZXcnKS5jb250cm9sbGVyKCdUcmFuc2xhdGVDdHJsJywgZnVuY3Rpb24gKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUudHJhbnNsYXRpb25JZCA9ICdUUkFOU0xBVElPTl9JRCc7XG5cbiAgICAgICAgJHNjb3BlLnZhbHVlcyA9IHtcbiAgICAgICAgICB2YWx1ZTogNzhcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NlbmFyaW8uanNcIj5cbiAgICAgIGl0KCdzaG91bGQgdHJhbnNsYXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpbmplY3QoZnVuY3Rpb24gKCRyb290U2NvcGUsICRjb21waWxlKSB7XG4gICAgICAgICAgJHJvb3RTY29wZS50cmFuc2xhdGlvbklkID0gJ1RSQU5TTEFUSU9OX0lEJztcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPVwiVFJBTlNMQVRJT05fSURcIj48L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPVwie3t0cmFuc2xhdGlvbklkfX1cIj48L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPlRSQU5TTEFUSU9OX0lEPC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LnRleHQoKSkudG9CZSgnSGVsbG8gdGhlcmUhJyk7XG5cbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxwIHRyYW5zbGF0ZT57e3RyYW5zbGF0aW9uSWR9fTwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC50ZXh0KCkpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGUgdHJhbnNsYXRlLWF0dHItdGl0bGU9XCJUUkFOU0xBVElPTl9JRFwiPjwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC5hdHRyKCd0aXRsZScpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPVwiV0lUSF9DQU1FTF9DQVNFX0tFWVwiIHRyYW5zbGF0ZS12YWx1ZS1jYW1lbC1jYXNlLWtleT1cIkhlbGxvXCI+PC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LnRleHQoKSkudG9CZSgnVGhlIGludGVycG9sYXRpb24ga2V5IGlzIGNhbWVsIGNhc2VkOiBIZWxsbycpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgndHJhbnNsYXRlJywgdHJhbnNsYXRlRGlyZWN0aXZlKTtcbmZ1bmN0aW9uIHRyYW5zbGF0ZURpcmVjdGl2ZSgkdHJhbnNsYXRlLCAkaW50ZXJwb2xhdGUsICRjb21waWxlLCAkcGFyc2UsICRyb290U2NvcGUpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIEBuYW1lIHRyaW1cbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIHRyaW0gcG9seWZpbGxcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHN0cmluZyBzdHJpcHBlZCBvZiB3aGl0ZXNwYWNlIGZyb20gYm90aCBlbmRzXG4gICAqL1xuICB2YXIgdHJpbSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCkucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBRScsXG4gICAgc2NvcGU6IHRydWUsXG4gICAgcHJpb3JpdHk6ICR0cmFuc2xhdGUuZGlyZWN0aXZlUHJpb3JpdHkoKSxcbiAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW1lbnQsIHRBdHRyKSB7XG5cbiAgICAgIHZhciB0cmFuc2xhdGVWYWx1ZXNFeGlzdCA9ICh0QXR0ci50cmFuc2xhdGVWYWx1ZXMpID9cbiAgICAgICAgdEF0dHIudHJhbnNsYXRlVmFsdWVzIDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgdHJhbnNsYXRlSW50ZXJwb2xhdGlvbiA9ICh0QXR0ci50cmFuc2xhdGVJbnRlcnBvbGF0aW9uKSA/XG4gICAgICAgIHRBdHRyLnRyYW5zbGF0ZUludGVycG9sYXRpb24gOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciB0cmFuc2xhdGVWYWx1ZUV4aXN0ID0gdEVsZW1lbnRbMF0ub3V0ZXJIVE1MLm1hdGNoKC90cmFuc2xhdGUtdmFsdWUtKy9pKTtcblxuICAgICAgdmFyIGludGVycG9sYXRlUmVnRXhwID0gJ14oLiopKCcgKyAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSArICcuKicgKyAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCkgKyAnKSguKiknLFxuICAgICAgICAgIHdhdGNoZXJSZWdFeHAgPSAnXiguKiknICsgJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCkgKyAnKC4qKScgKyAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCkgKyAnKC4qKSc7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rRm4oc2NvcGUsIGlFbGVtZW50LCBpQXR0cikge1xuXG4gICAgICAgIHNjb3BlLmludGVycG9sYXRlUGFyYW1zID0ge307XG4gICAgICAgIHNjb3BlLnByZVRleHQgPSAnJztcbiAgICAgICAgc2NvcGUucG9zdFRleHQgPSAnJztcbiAgICAgICAgc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlID0gZ2V0VHJhbnNsYXRlTmFtZXNwYWNlKHNjb3BlKTtcbiAgICAgICAgdmFyIHRyYW5zbGF0aW9uSWRzID0ge307XG5cbiAgICAgICAgdmFyIGluaXRJbnRlcnBvbGF0aW9uUGFyYW1zID0gZnVuY3Rpb24gKGludGVycG9sYXRlUGFyYW1zLCBpQXR0ciwgdEF0dHIpIHtcbiAgICAgICAgICAvLyBpbml0aWFsIHNldHVwXG4gICAgICAgICAgaWYgKGlBdHRyLnRyYW5zbGF0ZVZhbHVlcykge1xuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoaW50ZXJwb2xhdGVQYXJhbXMsICRwYXJzZShpQXR0ci50cmFuc2xhdGVWYWx1ZXMpKHNjb3BlLiRwYXJlbnQpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gaW5pdGlhbGx5IGZldGNoIGFsbCBhdHRyaWJ1dGVzIGlmIGV4aXN0aW5nIGFuZCBmaWxsIHRoZSBwYXJhbXNcbiAgICAgICAgICBpZiAodHJhbnNsYXRlVmFsdWVFeGlzdCkge1xuICAgICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiB0QXR0cikge1xuICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGlBdHRyLCBhdHRyKSAmJiBhdHRyLnN1YnN0cigwLCAxNCkgPT09ICd0cmFuc2xhdGVWYWx1ZScgJiYgYXR0ciAhPT0gJ3RyYW5zbGF0ZVZhbHVlcycpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IGFuZ3VsYXIubG93ZXJjYXNlKGF0dHIuc3Vic3RyKDE0LCAxKSkgKyBhdHRyLnN1YnN0cigxNSk7XG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVQYXJhbXNbYXR0cmlidXRlTmFtZV0gPSB0QXR0clthdHRyXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBFbnN1cmVzIGFueSBjaGFuZ2Ugb2YgdGhlIGF0dHJpYnV0ZSBcInRyYW5zbGF0ZVwiIGNvbnRhaW5pbmcgdGhlIGlkIHdpbGxcbiAgICAgICAgLy8gYmUgcmUtc3RvcmVkIHRvIHRoZSBzY29wZSdzIFwidHJhbnNsYXRpb25JZFwiLlxuICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlIGhhcyBubyBjb250ZW50LCB0aGUgZWxlbWVudCdzIHRleHQgdmFsdWUgKHdoaXRlIHNwYWNlcyB0cmltbWVkIG9mZikgd2lsbCBiZSB1c2VkLlxuICAgICAgICB2YXIgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG5cbiAgICAgICAgICAvLyBSZW1vdmUgYW55IG9sZCB3YXRjaGVyXG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uLl91bndhdGNoT2xkKSkge1xuICAgICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbi5fdW53YXRjaE9sZCgpO1xuICAgICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbi5fdW53YXRjaE9sZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYW5ndWxhci5lcXVhbHModHJhbnNsYXRpb25JZCAsICcnKSB8fCAhYW5ndWxhci5pc0RlZmluZWQodHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICAgIHZhciBpRWxlbWVudFRleHQgPSB0cmltLmFwcGx5KGlFbGVtZW50LnRleHQoKSk7XG5cbiAgICAgICAgICAgIC8vIFJlc29sdmUgdHJhbnNsYXRpb24gaWQgYnkgaW5uZXIgaHRtbCBpZiByZXF1aXJlZFxuICAgICAgICAgICAgdmFyIGludGVycG9sYXRlTWF0Y2hlcyA9IGlFbGVtZW50VGV4dC5tYXRjaChpbnRlcnBvbGF0ZVJlZ0V4cCk7XG4gICAgICAgICAgICAvLyBJbnRlcnBvbGF0ZSB0cmFuc2xhdGlvbiBpZCBpZiByZXF1aXJlZFxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShpbnRlcnBvbGF0ZU1hdGNoZXMpKSB7XG4gICAgICAgICAgICAgIHNjb3BlLnByZVRleHQgPSBpbnRlcnBvbGF0ZU1hdGNoZXNbMV07XG4gICAgICAgICAgICAgIHNjb3BlLnBvc3RUZXh0ID0gaW50ZXJwb2xhdGVNYXRjaGVzWzNdO1xuICAgICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSAkaW50ZXJwb2xhdGUoaW50ZXJwb2xhdGVNYXRjaGVzWzJdKShzY29wZS4kcGFyZW50KTtcbiAgICAgICAgICAgICAgdmFyIHdhdGNoZXJNYXRjaGVzID0gaUVsZW1lbnRUZXh0Lm1hdGNoKHdhdGNoZXJSZWdFeHApO1xuICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KHdhdGNoZXJNYXRjaGVzKSAmJiB3YXRjaGVyTWF0Y2hlc1syXSAmJiB3YXRjaGVyTWF0Y2hlc1syXS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uLl91bndhdGNoT2xkID0gc2NvcGUuJHdhdGNoKHdhdGNoZXJNYXRjaGVzWzJdLCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uSWRzLnRyYW5zbGF0ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGRvIG5vdCBhc3NpZ25lIHRoZSB0cmFuc2xhdGlvbiBpZCBpZiBpdCBpcyBlbXB0eS5cbiAgICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gIWlFbGVtZW50VGV4dCA/IHVuZGVmaW5lZCA6IGlFbGVtZW50VGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG9ic2VydmVBdHRyaWJ1dGVUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGVBdHRyKSB7XG4gICAgICAgICAgaUF0dHIuJG9ic2VydmUodHJhbnNsYXRlQXR0ciwgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uSWRzW3RyYW5zbGF0ZUF0dHJdID0gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGluaXRpYWwgc2V0dXAgd2l0aCB2YWx1ZXNcbiAgICAgICAgaW5pdEludGVycG9sYXRpb25QYXJhbXMoc2NvcGUuaW50ZXJwb2xhdGVQYXJhbXMsIGlBdHRyLCB0QXR0cik7XG5cbiAgICAgICAgdmFyIGZpcnN0QXR0cmlidXRlQ2hhbmdlZEV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZScsIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0cmFuc2xhdGlvbklkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgLy8gY2FzZSBvZiBlbGVtZW50IFwiPHRyYW5zbGF0ZT54eXo8L3RyYW5zbGF0ZT5cIlxuICAgICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbignJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNhc2Ugb2YgcmVndWxhciBhdHRyaWJ1dGVcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGlvbklkICE9PSAnJyB8fCAhZmlyc3RBdHRyaWJ1dGVDaGFuZ2VkRXZlbnQpIHtcbiAgICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpcnN0QXR0cmlidXRlQ2hhbmdlZEV2ZW50ID0gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAodmFyIHRyYW5zbGF0ZUF0dHIgaW4gaUF0dHIpIHtcbiAgICAgICAgICBpZiAoaUF0dHIuaGFzT3duUHJvcGVydHkodHJhbnNsYXRlQXR0cikgJiYgdHJhbnNsYXRlQXR0ci5zdWJzdHIoMCwgMTMpID09PSAndHJhbnNsYXRlQXR0cicgJiYgdHJhbnNsYXRlQXR0ci5sZW5ndGggPiAxMykge1xuICAgICAgICAgICAgb2JzZXJ2ZUF0dHJpYnV0ZVRyYW5zbGF0aW9uKHRyYW5zbGF0ZUF0dHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlBdHRyLiRvYnNlcnZlKCd0cmFuc2xhdGVEZWZhdWx0JywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgc2NvcGUuZGVmYXVsdFRleHQgPSB2YWx1ZTtcbiAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRyYW5zbGF0ZVZhbHVlc0V4aXN0KSB7XG4gICAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZVZhbHVlcycsIGZ1bmN0aW9uIChpbnRlcnBvbGF0ZVBhcmFtcykge1xuICAgICAgICAgICAgaWYgKGludGVycG9sYXRlUGFyYW1zKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChzY29wZS5pbnRlcnBvbGF0ZVBhcmFtcywgJHBhcnNlKGludGVycG9sYXRlUGFyYW1zKShzY29wZS4kcGFyZW50KSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYW5zbGF0ZVZhbHVlRXhpc3QpIHtcbiAgICAgICAgICB2YXIgb2JzZXJ2ZVZhbHVlQXR0cmlidXRlID0gZnVuY3Rpb24gKGF0dHJOYW1lKSB7XG4gICAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZShhdHRyTmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gYW5ndWxhci5sb3dlcmNhc2UoYXR0ck5hbWUuc3Vic3RyKDE0LCAxKSkgKyBhdHRyTmFtZS5zdWJzdHIoMTUpO1xuICAgICAgICAgICAgICBzY29wZS5pbnRlcnBvbGF0ZVBhcmFtc1thdHRyaWJ1dGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBmb3IgKHZhciBhdHRyIGluIGlBdHRyKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGlBdHRyLCBhdHRyKSAmJiBhdHRyLnN1YnN0cigwLCAxNCkgPT09ICd0cmFuc2xhdGVWYWx1ZScgJiYgYXR0ciAhPT0gJ3RyYW5zbGF0ZVZhbHVlcycpIHtcbiAgICAgICAgICAgICAgb2JzZXJ2ZVZhbHVlQXR0cmlidXRlKGF0dHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1hc3RlciB1cGRhdGUgZnVuY3Rpb25cbiAgICAgICAgdmFyIHVwZGF0ZVRyYW5zbGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdHJhbnNsYXRpb25JZHMpIHtcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGlvbklkcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIHRyYW5zbGF0aW9uSWRzW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbihrZXksIHRyYW5zbGF0aW9uSWRzW2tleV0sIHNjb3BlLCBzY29wZS5pbnRlcnBvbGF0ZVBhcmFtcywgc2NvcGUuZGVmYXVsdFRleHQsIHNjb3BlLnRyYW5zbGF0ZU5hbWVzcGFjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFB1dCB0cmFuc2xhdGlvbiBwcm9jZXNzaW5nIGZ1bmN0aW9uIG91dHNpZGUgbG9vcFxuICAgICAgICB2YXIgdXBkYXRlVHJhbnNsYXRpb24gPSBmdW5jdGlvbih0cmFuc2xhdGVBdHRyLCB0cmFuc2xhdGlvbklkLCBzY29wZSwgaW50ZXJwb2xhdGVQYXJhbXMsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIHRyYW5zbGF0ZU5hbWVzcGFjZSkge1xuICAgICAgICAgIGlmICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICAvLyBpZiB0cmFuc2xhdGlvbiBpZCBzdGFydHMgd2l0aCAnLicgYW5kIHRyYW5zbGF0ZU5hbWVzcGFjZSBnaXZlbiwgcHJlcGVuZCBuYW1lc3BhY2VcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGVOYW1lc3BhY2UgJiYgdHJhbnNsYXRpb25JZC5jaGFyQXQoMCkgPT09ICcuJykge1xuICAgICAgICAgICAgICB0cmFuc2xhdGlvbklkID0gdHJhbnNsYXRlTmFtZXNwYWNlICsgdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHRyYW5zbGF0ZSh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgdHJhbnNsYXRlSW50ZXJwb2xhdGlvbiwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCwgc2NvcGUudHJhbnNsYXRlTGFuZ3VhZ2UpXG4gICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgICAgICAgIGFwcGx5VHJhbnNsYXRpb24odHJhbnNsYXRpb24sIHNjb3BlLCB0cnVlLCB0cmFuc2xhdGVBdHRyKTtcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgICAgICBhcHBseVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIHNjb3BlLCBmYWxzZSwgdHJhbnNsYXRlQXR0cik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBhcyBhbiBlbXB0eSBzdHJpbmcgY2Fubm90IGJlIHRyYW5zbGF0ZWQsIHdlIGNhbiBzb2x2ZSB0aGlzIHVzaW5nIHN1Y2Nlc3NmdWw9ZmFsc2VcbiAgICAgICAgICAgIGFwcGx5VHJhbnNsYXRpb24odHJhbnNsYXRpb25JZCwgc2NvcGUsIGZhbHNlLCB0cmFuc2xhdGVBdHRyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGFwcGx5VHJhbnNsYXRpb24gPSBmdW5jdGlvbiAodmFsdWUsIHNjb3BlLCBzdWNjZXNzZnVsLCB0cmFuc2xhdGVBdHRyKSB7XG4gICAgICAgICAgaWYgKCFzdWNjZXNzZnVsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNjb3BlLmRlZmF1bHRUZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHNjb3BlLmRlZmF1bHRUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHJhbnNsYXRlQXR0ciA9PT0gJ3RyYW5zbGF0ZScpIHtcbiAgICAgICAgICAgIC8vIGRlZmF1bHQgdHJhbnNsYXRlIGludG8gaW5uZXJIVE1MXG4gICAgICAgICAgICBpZiAoc3VjY2Vzc2Z1bCB8fCAoIXN1Y2Nlc3NmdWwgJiYgISR0cmFuc2xhdGUuaXNLZWVwQ29udGVudCgpICYmIHR5cGVvZiBpQXR0ci50cmFuc2xhdGVLZWVwQ29udGVudCA9PT0gJ3VuZGVmaW5lZCcpKSB7XG4gICAgICAgICAgICAgIGlFbGVtZW50LmVtcHR5KCkuYXBwZW5kKHNjb3BlLnByZVRleHQgKyB2YWx1ZSArIHNjb3BlLnBvc3RUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBnbG9iYWxseUVuYWJsZWQgPSAkdHJhbnNsYXRlLmlzUG9zdENvbXBpbGluZ0VuYWJsZWQoKTtcbiAgICAgICAgICAgIHZhciBsb2NhbGx5RGVmaW5lZCA9IHR5cGVvZiB0QXR0ci50cmFuc2xhdGVDb21waWxlICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgICAgIHZhciBsb2NhbGx5RW5hYmxlZCA9IGxvY2FsbHlEZWZpbmVkICYmIHRBdHRyLnRyYW5zbGF0ZUNvbXBpbGUgIT09ICdmYWxzZSc7XG4gICAgICAgICAgICBpZiAoKGdsb2JhbGx5RW5hYmxlZCAmJiAhbG9jYWxseURlZmluZWQpIHx8IGxvY2FsbHlFbmFibGVkKSB7XG4gICAgICAgICAgICAgICRjb21waWxlKGlFbGVtZW50LmNvbnRlbnRzKCkpKHNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdHJhbnNsYXRlIGF0dHJpYnV0ZVxuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBpQXR0ci4kYXR0clt0cmFuc2xhdGVBdHRyXTtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lLnN1YnN0cigwLCA1KSA9PT0gJ2RhdGEtJykge1xuICAgICAgICAgICAgICAvLyBlbnN1cmUgaHRtbDUgZGF0YSBwcmVmaXggaXMgc3RyaXBwZWRcbiAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZU5hbWUuc3Vic3RyKDUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZU5hbWUuc3Vic3RyKDE1KTtcbiAgICAgICAgICAgIGlFbGVtZW50LmF0dHIoYXR0cmlidXRlTmFtZSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodHJhbnNsYXRlVmFsdWVzRXhpc3QgfHwgdHJhbnNsYXRlVmFsdWVFeGlzdCB8fCBpQXR0ci50cmFuc2xhdGVEZWZhdWx0KSB7XG4gICAgICAgICAgc2NvcGUuJHdhdGNoKCdpbnRlcnBvbGF0ZVBhcmFtcycsIHVwZGF0ZVRyYW5zbGF0aW9ucywgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXBsYWNlZCB3YXRjaGVyIG9uIHRyYW5zbGF0ZUxhbmd1YWdlIHdpdGggZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgc2NvcGUuJG9uKCd0cmFuc2xhdGVMYW5ndWFnZUNoYW5nZWQnLCB1cGRhdGVUcmFuc2xhdGlvbnMpO1xuXG4gICAgICAgIC8vIEVuc3VyZXMgdGhlIHRleHQgd2lsbCBiZSByZWZyZXNoZWQgYWZ0ZXIgdGhlIGN1cnJlbnQgbGFuZ3VhZ2Ugd2FzIGNoYW5nZWRcbiAgICAgICAgLy8gdy8gJHRyYW5zbGF0ZS51c2UoLi4uKVxuICAgICAgICB2YXIgdW5iaW5kID0gJHJvb3RTY29wZS4kb24oJyR0cmFuc2xhdGVDaGFuZ2VTdWNjZXNzJywgdXBkYXRlVHJhbnNsYXRpb25zKTtcblxuICAgICAgICAvLyBlbnN1cmUgdHJhbnNsYXRpb24gd2lsbCBiZSBsb29rZWQgdXAgYXQgbGVhc3Qgb25lXG4gICAgICAgIGlmIChpRWxlbWVudC50ZXh0KCkubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKGlBdHRyLnRyYW5zbGF0ZSkge1xuICAgICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbihpQXR0ci50cmFuc2xhdGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uKCcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaUF0dHIudHJhbnNsYXRlKSB7XG4gICAgICAgICAgLy8gZW5zdXJlIGF0dHJpYnV0ZSB3aWxsIGJlIG5vdCBza2lwcGVkXG4gICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbihpQXR0ci50cmFuc2xhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgdW5iaW5kKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHNjb3BlJ3MgbmFtZXNwYWNlLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBzY29wZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0VHJhbnNsYXRlTmFtZXNwYWNlKHNjb3BlKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgaWYgKHNjb3BlLnRyYW5zbGF0ZU5hbWVzcGFjZSkge1xuICAgIHJldHVybiBzY29wZS50cmFuc2xhdGVOYW1lc3BhY2U7XG4gIH1cbiAgaWYgKHNjb3BlLiRwYXJlbnQpIHtcbiAgICByZXR1cm4gZ2V0VHJhbnNsYXRlTmFtZXNwYWNlKHNjb3BlLiRwYXJlbnQpO1xuICB9XG59XG5cbnRyYW5zbGF0ZURpcmVjdGl2ZS5kaXNwbGF5TmFtZSA9ICd0cmFuc2xhdGVEaXJlY3RpdmUnO1xuXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuZGlyZWN0aXZlOnRyYW5zbGF0ZS1hdHRyXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVHJhbnNsYXRlcyBhdHRyaWJ1dGVzIGxpa2UgdHJhbnNsYXRlLWF0dHItQVRUUiwgYnV0IHdpdGggYW4gb2JqZWN0IGxpa2UgbmctY2xhc3MuXG4gKiBJbnRlcm5hbGx5IGl0IHVzZXMgYHRyYW5zbGF0ZWAgc2VydmljZSB0byB0cmFuc2xhdGUgdHJhbnNsYXRpb24gaWQuIEl0IHBvc3NpYmxlIHRvXG4gKiBwYXNzIGFuIG9wdGlvbmFsIGB0cmFuc2xhdGUtdmFsdWVzYCBvYmplY3QgbGl0ZXJhbCBhcyBzdHJpbmcgaW50byB0cmFuc2xhdGlvbiBpZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS1hdHRyIE9iamVjdCBsaXRlcmFsIG1hcHBpbmcgYXR0cmlidXRlcyB0byB0cmFuc2xhdGlvbiBpZHMuXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS12YWx1ZXMgVmFsdWVzIHRvIHBhc3MgaW50byB0aGUgdHJhbnNsYXRpb24gaWRzLiBDYW4gYmUgcGFzc2VkIGFzIG9iamVjdCBsaXRlcmFsIHN0cmluZy5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibmdWaWV3XCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIlRyYW5zbGF0ZUN0cmxcIj5cblxuICAgICAgICA8aW5wdXQgdHJhbnNsYXRlLWF0dHI9XCJ7IHBsYWNlaG9sZGVyOiB0cmFuc2xhdGlvbklkLCB0aXRsZTogJ1dJVEhfVkFMVUVTJyB9XCIgdHJhbnNsYXRlLXZhbHVlcz1cInt2YWx1ZTogNX1cIiAvPlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycsIFsncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSddKVxuXG4gICAgICAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcblxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbicse1xuICAgICAgICAgICdUUkFOU0xBVElPTl9JRCc6ICdIZWxsbyB0aGVyZSEnLFxuICAgICAgICAgICdXSVRIX1ZBTFVFUyc6ICdUaGUgZm9sbG93aW5nIHZhbHVlIGlzIGR5bmFtaWM6IHt7dmFsdWV9fScsXG4gICAgICAgIH0pLnByZWZlcnJlZExhbmd1YWdlKCdlbicpO1xuXG4gICAgICB9KTtcblxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycpLmNvbnRyb2xsZXIoJ1RyYW5zbGF0ZUN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS50cmFuc2xhdGlvbklkID0gJ1RSQU5TTEFUSU9OX0lEJztcblxuICAgICAgICAkc2NvcGUudmFsdWVzID0ge1xuICAgICAgICAgIHZhbHVlOiA3OFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY2VuYXJpby5qc1wiPlxuICAgICAgaXQoJ3Nob3VsZCB0cmFuc2xhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGluamVjdChmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGNvbXBpbGUpIHtcbiAgICAgICAgICAkcm9vdFNjb3BlLnRyYW5zbGF0aW9uSWQgPSAnVFJBTlNMQVRJT05fSUQnO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8aW5wdXQgdHJhbnNsYXRlLWF0dHI9XCJ7IHBsYWNlaG9sZGVyOiB0cmFuc2xhdGlvbklkLCB0aXRsZTogJ1dJVEhfVkFMVUVTJyB9XCIgdHJhbnNsYXRlLXZhbHVlcz1cInsgdmFsdWU6IDUgfVwiIC8+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYXR0cigncGxhY2Vob2xkZXIpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC5hdHRyKCd0aXRsZSkpLnRvQmUoJ1RoZSBmb2xsb3dpbmcgdmFsdWUgaXMgZHluYW1pYzogNScpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgndHJhbnNsYXRlQXR0cicsIHRyYW5zbGF0ZUF0dHJEaXJlY3RpdmUpO1xuZnVuY3Rpb24gdHJhbnNsYXRlQXR0ckRpcmVjdGl2ZSgkdHJhbnNsYXRlLCAkcm9vdFNjb3BlKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBwcmlvcml0eTogJHRyYW5zbGF0ZS5kaXJlY3RpdmVQcmlvcml0eSgpLFxuICAgIGxpbms6IGZ1bmN0aW9uIGxpbmtGbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuXG4gICAgICB2YXIgdHJhbnNsYXRlQXR0cixcbiAgICAgICAgICB0cmFuc2xhdGVWYWx1ZXMsXG4gICAgICAgICAgcHJldmlvdXNBdHRyaWJ1dGVzID0ge307XG5cbiAgICAgIC8vIE1haW4gdXBkYXRlIHRyYW5zbGF0aW9ucyBmdW5jdGlvblxuICAgICAgdmFyIHVwZGF0ZVRyYW5zbGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRyYW5zbGF0ZUF0dHIsIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgICAgaWYgKCF0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHByZXZpb3VzQXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSA9IHRydWU7XG5cbiAgICAgICAgICAvLyBpZiB0cmFuc2xhdGlvbiBpZCBzdGFydHMgd2l0aCAnLicgYW5kIHRyYW5zbGF0ZU5hbWVzcGFjZSBnaXZlbiwgcHJlcGVuZCBuYW1lc3BhY2VcbiAgICAgICAgICBpZiAoc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlICYmIHRyYW5zbGF0aW9uSWQuY2hhckF0KDApID09PSAnLicpIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uSWQgPSBzY29wZS50cmFuc2xhdGVOYW1lc3BhY2UgKyB0cmFuc2xhdGlvbklkO1xuICAgICAgICAgIH1cbiAgICAgICAgICAkdHJhbnNsYXRlKHRyYW5zbGF0aW9uSWQsIHRyYW5zbGF0ZVZhbHVlcywgYXR0ci50cmFuc2xhdGVJbnRlcnBvbGF0aW9uLCB1bmRlZmluZWQsIHNjb3BlLnRyYW5zbGF0ZUxhbmd1YWdlKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQuYXR0cihhdHRyaWJ1dGVOYW1lLCB0cmFuc2xhdGlvbik7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgICBlbGVtZW50LmF0dHIoYXR0cmlidXRlTmFtZSwgdHJhbnNsYXRpb25JZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmVtb3ZpbmcgdW51c2VkIGF0dHJpYnV0ZXMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgdXNlZFxuICAgICAgICBhbmd1bGFyLmZvckVhY2gocHJldmlvdXNBdHRyaWJ1dGVzLCBmdW5jdGlvbiAoZmxhZywgYXR0cmlidXRlTmFtZSkge1xuICAgICAgICAgIGlmICghdHJhbnNsYXRlQXR0clthdHRyaWJ1dGVOYW1lXSkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgZGVsZXRlIHByZXZpb3VzQXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgLy8gV2F0Y2ggZm9yIGF0dHJpYnV0ZSBjaGFuZ2VzXG4gICAgICB3YXRjaEF0dHJpYnV0ZShcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGF0dHIudHJhbnNsYXRlQXR0cixcbiAgICAgICAgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7IHRyYW5zbGF0ZUF0dHIgPSBuZXdWYWx1ZTsgfSxcbiAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zXG4gICAgICApO1xuICAgICAgLy8gV2F0Y2ggZm9yIHZhbHVlIGNoYW5nZXNcbiAgICAgIHdhdGNoQXR0cmlidXRlKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgYXR0ci50cmFuc2xhdGVWYWx1ZXMsXG4gICAgICAgIGZ1bmN0aW9uIChuZXdWYWx1ZSkgeyB0cmFuc2xhdGVWYWx1ZXMgPSBuZXdWYWx1ZTsgfSxcbiAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zXG4gICAgICApO1xuXG4gICAgICBpZiAoYXR0ci50cmFuc2xhdGVWYWx1ZXMpIHtcbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHIudHJhbnNsYXRlVmFsdWVzLCB1cGRhdGVUcmFuc2xhdGlvbnMsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXBsYWNlZCB3YXRjaGVyIG9uIHRyYW5zbGF0ZUxhbmd1YWdlIHdpdGggZXZlbnQgbGlzdGVuZXJcbiAgICAgIHNjb3BlLiRvbigndHJhbnNsYXRlTGFuZ3VhZ2VDaGFuZ2VkJywgdXBkYXRlVHJhbnNsYXRpb25zKTtcblxuICAgICAgLy8gRW5zdXJlcyB0aGUgdGV4dCB3aWxsIGJlIHJlZnJlc2hlZCBhZnRlciB0aGUgY3VycmVudCBsYW5ndWFnZSB3YXMgY2hhbmdlZFxuICAgICAgLy8gdy8gJHRyYW5zbGF0ZS51c2UoLi4uKVxuICAgICAgdmFyIHVuYmluZCA9ICRyb290U2NvcGUuJG9uKCckdHJhbnNsYXRlQ2hhbmdlU3VjY2VzcycsIHVwZGF0ZVRyYW5zbGF0aW9ucyk7XG5cbiAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIHVuYmluZCk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiB3YXRjaEF0dHJpYnV0ZShzY29wZSwgYXR0cmlidXRlLCB2YWx1ZUNhbGxiYWNrLCBjaGFuZ2VDYWxsYmFjaykge1xuICAndXNlIHN0cmljdCc7XG4gIGlmICghYXR0cmlidXRlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChhdHRyaWJ1dGUuc3Vic3RyKDAsIDIpID09PSAnOjonKSB7XG4gICAgYXR0cmlidXRlID0gYXR0cmlidXRlLnN1YnN0cigyKTtcbiAgfSBlbHNlIHtcbiAgICBzY29wZS4kd2F0Y2goYXR0cmlidXRlLCBmdW5jdGlvbihuZXdWYWx1ZSkge1xuICAgICAgdmFsdWVDYWxsYmFjayhuZXdWYWx1ZSk7XG4gICAgICBjaGFuZ2VDYWxsYmFjaygpO1xuICAgIH0sIHRydWUpO1xuICB9XG4gIHZhbHVlQ2FsbGJhY2soc2NvcGUuJGV2YWwoYXR0cmlidXRlKSk7XG59XG5cbnRyYW5zbGF0ZUF0dHJEaXJlY3RpdmUuZGlzcGxheU5hbWUgPSAndHJhbnNsYXRlQXR0ckRpcmVjdGl2ZSc7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS5kaXJlY3RpdmU6dHJhbnNsYXRlQ2xvYWtcbiAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gKiBAcmVxdWlyZXMgJHRyYW5zbGF0ZVxuICogQHJlc3RyaWN0IEFcbiAqXG4gKiAkZGVzY3JpcHRpb25cbiAqIEFkZHMgYSBgdHJhbnNsYXRlLWNsb2FrYCBjbGFzcyBuYW1lIHRvIHRoZSBnaXZlbiBlbGVtZW50IHdoZXJlIHRoaXMgZGlyZWN0aXZlXG4gKiBpcyBhcHBsaWVkIGluaXRpYWxseSBhbmQgcmVtb3ZlcyBpdCwgb25jZSBhIGxvYWRlciBoYXMgZmluaXNoZWQgbG9hZGluZy5cbiAqXG4gKiBUaGlzIGRpcmVjdGl2ZSBjYW4gYmUgdXNlZCB0byBwcmV2ZW50IGluaXRpYWwgZmxpY2tlcmluZyB3aGVuIGxvYWRpbmcgdHJhbnNsYXRpb25cbiAqIGRhdGEgYXN5bmNocm9ub3VzbHkuXG4gKlxuICogVGhlIGNsYXNzIG5hbWUgaXMgZGVmaW5lZCBpblxuICoge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2Nsb2FrQ2xhc3NOYW1lICR0cmFuc2xhdGUuY2xvYWtDbGFzc05hbWUoKX0uXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUtY2xvYWsgSWYgYSB0cmFuc2xhdGlvbklkIGlzIHByb3ZpZGVkLCBpdCB3aWxsIGJlIHVzZWQgZm9yIHNob3dpbmdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIGhpZGluZyB0aGUgY2xvYWsuIEJhc2ljYWxseSBpdCByZWxpZXMgb24gdGhlIHRyYW5zbGF0aW9uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlLlxuICovXG4uZGlyZWN0aXZlKCd0cmFuc2xhdGVDbG9haycsIHRyYW5zbGF0ZUNsb2FrRGlyZWN0aXZlKTtcblxuZnVuY3Rpb24gdHJhbnNsYXRlQ2xvYWtEaXJlY3RpdmUoJHRyYW5zbGF0ZSwgJHJvb3RTY29wZSkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICByZXR1cm4ge1xuICAgIGNvbXBpbGU6IGZ1bmN0aW9uICh0RWxlbWVudCkge1xuICAgICAgdmFyIGFwcGx5Q2xvYWsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRFbGVtZW50LmFkZENsYXNzKCR0cmFuc2xhdGUuY2xvYWtDbGFzc05hbWUoKSk7XG4gICAgICB9LFxuICAgICAgcmVtb3ZlQ2xvYWsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRFbGVtZW50LnJlbW92ZUNsYXNzKCR0cmFuc2xhdGUuY2xvYWtDbGFzc05hbWUoKSk7XG4gICAgICB9O1xuICAgICAgJHRyYW5zbGF0ZS5vblJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVtb3ZlQ2xvYWsoKTtcbiAgICAgIH0pO1xuICAgICAgYXBwbHlDbG9haygpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbGlua0ZuKHNjb3BlLCBpRWxlbWVudCwgaUF0dHIpIHtcbiAgICAgICAgaWYgKGlBdHRyLnRyYW5zbGF0ZUNsb2FrICYmIGlBdHRyLnRyYW5zbGF0ZUNsb2FrLmxlbmd0aCkge1xuICAgICAgICAgIC8vIFJlZ2lzdGVyIGEgd2F0Y2hlciBmb3IgdGhlIGRlZmluZWQgdHJhbnNsYXRpb24gYWxsb3dpbmcgYSBmaW5lIHR1bmVkIGNsb2FrXG4gICAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZUNsb2FrJywgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgICR0cmFuc2xhdGUodHJhbnNsYXRpb25JZCkudGhlbihyZW1vdmVDbG9haywgYXBwbHlDbG9hayk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gUmVnaXN0ZXIgZm9yIGNoYW5nZSBldmVudHMgYXMgdGhpcyBpcyBiZWluZyBhbm90aGVyIGluZGljaWNhdG9yIHJldmFsaWRhdGluZyB0aGUgY2xvYWspXG4gICAgICAgICAgJHJvb3RTY29wZS4kb24oJyR0cmFuc2xhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHRyYW5zbGF0ZShpQXR0ci50cmFuc2xhdGVDbG9haykudGhlbihyZW1vdmVDbG9haywgYXBwbHlDbG9hayk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuXG50cmFuc2xhdGVDbG9ha0RpcmVjdGl2ZS5kaXNwbGF5TmFtZSA9ICd0cmFuc2xhdGVDbG9ha0RpcmVjdGl2ZSc7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS5kaXJlY3RpdmU6dHJhbnNsYXRlTmFtZXNwYWNlXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVHJhbnNsYXRlcyBnaXZlbiB0cmFuc2xhdGlvbiBpZCBlaXRoZXIgdGhyb3VnaCBhdHRyaWJ1dGUgb3IgRE9NIGNvbnRlbnQuXG4gKiBJbnRlcm5hbGx5IGl0IHVzZXMgYHRyYW5zbGF0ZWAgZmlsdGVyIHRvIHRyYW5zbGF0ZSB0cmFuc2xhdGlvbiBpZC4gSXQgcG9zc2libGUgdG9cbiAqIHBhc3MgYW4gb3B0aW9uYWwgYHRyYW5zbGF0ZS12YWx1ZXNgIG9iamVjdCBsaXRlcmFsIGFzIHN0cmluZyBpbnRvIHRyYW5zbGF0aW9uIGlkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlIG5hbWVzcGFjZSBuYW1lIHdoaWNoIGNvdWxkIGJlIGVpdGhlciBzdHJpbmcgb3IgaW50ZXJwb2xhdGVkIHN0cmluZy5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibmdWaWV3XCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgdHJhbnNsYXRlLW5hbWVzcGFjZT1cIkNPTlRFTlRcIj5cblxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGgxIHRyYW5zbGF0ZT4uSEVBREVSUy5USVRMRTwvaDE+XG4gICAgICAgICAgICA8aDEgdHJhbnNsYXRlPi5IRUFERVJTLldFTENPTUU8L2gxPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IHRyYW5zbGF0ZS1uYW1lc3BhY2U9XCIuSEVBREVSU1wiPlxuICAgICAgICAgICAgPGgxIHRyYW5zbGF0ZT4uVElUTEU8L2gxPlxuICAgICAgICAgICAgPGgxIHRyYW5zbGF0ZT4uV0VMQ09NRTwvaDE+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycsIFsncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSddKVxuXG4gICAgICAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcblxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbicse1xuICAgICAgICAgICdUUkFOU0xBVElPTl9JRCc6ICdIZWxsbyB0aGVyZSEnLFxuICAgICAgICAgICdDT05URU5UJzoge1xuICAgICAgICAgICAgJ0hFQURFUlMnOiB7XG4gICAgICAgICAgICAgICAgVElUTEU6ICdUaXRsZSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgICdDT05URU5ULkhFQURFUlMuV0VMQ09NRSc6ICdXZWxjb21lJ1xuICAgICAgICB9KS5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcblxuICAgICAgfSk7XG5cbiAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ3RyYW5zbGF0ZU5hbWVzcGFjZScsIHRyYW5zbGF0ZU5hbWVzcGFjZURpcmVjdGl2ZSk7XG5cbmZ1bmN0aW9uIHRyYW5zbGF0ZU5hbWVzcGFjZURpcmVjdGl2ZSgpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHNjb3BlOiB0cnVlLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByZTogZnVuY3Rpb24gKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7XG4gICAgICAgICAgc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlID0gZ2V0VHJhbnNsYXRlTmFtZXNwYWNlKHNjb3BlKTtcblxuICAgICAgICAgIGlmIChzY29wZS50cmFuc2xhdGVOYW1lc3BhY2UgJiYgaUF0dHJzLnRyYW5zbGF0ZU5hbWVzcGFjZS5jaGFyQXQoMCkgPT09ICcuJykge1xuICAgICAgICAgICAgc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlICs9IGlBdHRycy50cmFuc2xhdGVOYW1lc3BhY2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNjb3BlLnRyYW5zbGF0ZU5hbWVzcGFjZSA9IGlBdHRycy50cmFuc2xhdGVOYW1lc3BhY2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY29wZSdzIG5hbWVzcGFjZS5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gc2NvcGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldFRyYW5zbGF0ZU5hbWVzcGFjZShzY29wZSkge1xuICAndXNlIHN0cmljdCc7XG4gIGlmIChzY29wZS50cmFuc2xhdGVOYW1lc3BhY2UpIHtcbiAgICByZXR1cm4gc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlO1xuICB9XG4gIGlmIChzY29wZS4kcGFyZW50KSB7XG4gICAgcmV0dXJuIGdldFRyYW5zbGF0ZU5hbWVzcGFjZShzY29wZS4kcGFyZW50KTtcbiAgfVxufVxuXG50cmFuc2xhdGVOYW1lc3BhY2VEaXJlY3RpdmUuZGlzcGxheU5hbWUgPSAndHJhbnNsYXRlTmFtZXNwYWNlRGlyZWN0aXZlJztcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmRpcmVjdGl2ZTp0cmFuc2xhdGVMYW5ndWFnZVxuICogQHJlc3RyaWN0IEFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZvcmNlcyB0aGUgbGFuZ3VhZ2UgdG8gdGhlIGRpcmVjdGl2ZXMgaW4gdGhlIHVuZGVybHlpbmcgc2NvcGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUgbGFuZ3VhZ2UgdGhhdCB3aWxsIGJlIG5lZ290aWF0ZWQuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cIm5nVmlld1wiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2PlxuXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDEgdHJhbnNsYXRlPkhFTExPPC9oMT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiB0cmFuc2xhdGUtbGFuZ3VhZ2U9XCJkZVwiPlxuICAgICAgICAgICAgPGgxIHRyYW5zbGF0ZT5IRUxMTzwvaDE+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycsIFsncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSddKVxuXG4gICAgICAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcblxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXJcbiAgICAgICAgICAudHJhbnNsYXRpb25zKCdlbicse1xuICAgICAgICAgICAgJ0hFTExPJzogJ0hlbGxvIHdvcmxkISdcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50cmFuc2xhdGlvbnMoJ2RlJyx7XG4gICAgICAgICAgICAnSEVMTE8nOiAnSGFsbG8gV2VsdCEnXG4gICAgICAgICAgfSlcbiAgICAgICAgICAucHJlZmVycmVkTGFuZ3VhZ2UoJ2VuJyk7XG5cbiAgICAgIH0pO1xuXG4gICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG4uZGlyZWN0aXZlKCd0cmFuc2xhdGVMYW5ndWFnZScsIHRyYW5zbGF0ZUxhbmd1YWdlRGlyZWN0aXZlKTtcblxuZnVuY3Rpb24gdHJhbnNsYXRlTGFuZ3VhZ2VEaXJlY3RpdmUoKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBzY29wZTogdHJ1ZSxcbiAgICBjb21waWxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gbGlua0ZuKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7XG5cbiAgICAgICAgaUF0dHJzLiRvYnNlcnZlKCd0cmFuc2xhdGVMYW5ndWFnZScsIGZ1bmN0aW9uIChuZXdUcmFuc2xhdGVMYW5ndWFnZSkge1xuICAgICAgICAgIHNjb3BlLnRyYW5zbGF0ZUxhbmd1YWdlID0gbmV3VHJhbnNsYXRlTGFuZ3VhZ2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNjb3BlLiR3YXRjaCgndHJhbnNsYXRlTGFuZ3VhZ2UnLCBmdW5jdGlvbigpe1xuICAgICAgICAgIHNjb3BlLiRicm9hZGNhc3QoJ3RyYW5zbGF0ZUxhbmd1YWdlQ2hhbmdlZCcpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuXG50cmFuc2xhdGVMYW5ndWFnZURpcmVjdGl2ZS5kaXNwbGF5TmFtZSA9ICd0cmFuc2xhdGVMYW5ndWFnZURpcmVjdGl2ZSc7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS5maWx0ZXI6dHJhbnNsYXRlXG4gKiBAcmVxdWlyZXMgJHBhcnNlXG4gKiBAcmVxdWlyZXMgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gKiBAZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZXMgYCR0cmFuc2xhdGVgIHNlcnZpY2UgdG8gdHJhbnNsYXRlIGNvbnRlbnRzLiBBY2NlcHRzIGludGVycG9sYXRlIHBhcmFtZXRlcnNcbiAqIHRvIHBhc3MgZHluYW1pemVkIHZhbHVlcyB0aG91Z2ggdHJhbnNsYXRpb24uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zbGF0aW9uSWQgQSB0cmFuc2xhdGlvbiBpZCB0byBiZSB0cmFuc2xhdGVkLlxuICogQHBhcmFtIHsqPX0gaW50ZXJwb2xhdGVQYXJhbXMgT3B0aW9uYWwgb2JqZWN0IGxpdGVyYWwgKGFzIGhhc2ggb3Igc3RyaW5nKSB0byBwYXNzIHZhbHVlcyBpbnRvIHRyYW5zbGF0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRyYW5zbGF0ZWQgdGV4dC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibmdWaWV3XCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIlRyYW5zbGF0ZUN0cmxcIj5cblxuICAgICAgICA8cHJlPnt7ICdUUkFOU0xBVElPTl9JRCcgfCB0cmFuc2xhdGUgfX08L3ByZT5cbiAgICAgICAgPHByZT57eyB0cmFuc2xhdGlvbklkIHwgdHJhbnNsYXRlIH19PC9wcmU+XG4gICAgICAgIDxwcmU+e3sgJ1dJVEhfVkFMVUVTJyB8IHRyYW5zbGF0ZTone3ZhbHVlOiA1fScgfX08L3ByZT5cbiAgICAgICAgPHByZT57eyAnV0lUSF9WQUxVRVMnIHwgdHJhbnNsYXRlOnZhbHVlcyB9fTwvcHJlPlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycsIFsncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSddKVxuXG4gICAgICAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcblxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbicsIHtcbiAgICAgICAgICAnVFJBTlNMQVRJT05fSUQnOiAnSGVsbG8gdGhlcmUhJyxcbiAgICAgICAgICAnV0lUSF9WQUxVRVMnOiAnVGhlIGZvbGxvd2luZyB2YWx1ZSBpcyBkeW5hbWljOiB7e3ZhbHVlfX0nXG4gICAgICAgIH0pO1xuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIucHJlZmVycmVkTGFuZ3VhZ2UoJ2VuJyk7XG5cbiAgICAgIH0pO1xuXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JykuY29udHJvbGxlcignVHJhbnNsYXRlQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLnRyYW5zbGF0aW9uSWQgPSAnVFJBTlNMQVRJT05fSUQnO1xuXG4gICAgICAgICRzY29wZS52YWx1ZXMgPSB7XG4gICAgICAgICAgdmFsdWU6IDc4XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbi5maWx0ZXIoJ3RyYW5zbGF0ZScsIHRyYW5zbGF0ZUZpbHRlckZhY3RvcnkpO1xuXG5mdW5jdGlvbiB0cmFuc2xhdGVGaWx0ZXJGYWN0b3J5KCRwYXJzZSwgJHRyYW5zbGF0ZSkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgdHJhbnNsYXRlRmlsdGVyID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uLCBmb3JjZUxhbmd1YWdlKSB7XG4gICAgaWYgKCFhbmd1bGFyLmlzT2JqZWN0KGludGVycG9sYXRlUGFyYW1zKSkge1xuICAgICAgaW50ZXJwb2xhdGVQYXJhbXMgPSAkcGFyc2UoaW50ZXJwb2xhdGVQYXJhbXMpKHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiAkdHJhbnNsYXRlLmluc3RhbnQodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb24sIGZvcmNlTGFuZ3VhZ2UpO1xuICB9O1xuXG4gIGlmICgkdHJhbnNsYXRlLnN0YXRlZnVsRmlsdGVyKCkpIHtcbiAgICB0cmFuc2xhdGVGaWx0ZXIuJHN0YXRlZnVsID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiB0cmFuc2xhdGVGaWx0ZXI7XG59XG5cbnRyYW5zbGF0ZUZpbHRlckZhY3RvcnkuZGlzcGxheU5hbWUgPSAndHJhbnNsYXRlRmlsdGVyRmFjdG9yeSc7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGlvbkNhY2hlXG4gKiBAcmVxdWlyZXMgJGNhY2hlRmFjdG9yeVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGZpcnN0IHRpbWUgYSB0cmFuc2xhdGlvbiB0YWJsZSBpcyB1c2VkLCBpdCBpcyBsb2FkZWQgaW4gdGhlIHRyYW5zbGF0aW9uIGNhY2hlIGZvciBxdWljayByZXRyaWV2YWwuIFlvdVxuICogY2FuIGxvYWQgdHJhbnNsYXRpb24gdGFibGVzIGRpcmVjdGx5IGludG8gdGhlIGNhY2hlIGJ5IGNvbnN1bWluZyB0aGVcbiAqIGAkdHJhbnNsYXRpb25DYWNoZWAgc2VydmljZSBkaXJlY3RseS5cbiAqXG4gKiBAcmV0dXJuIHtvYmplY3R9ICRjYWNoZUZhY3Rvcnkgb2JqZWN0LlxuICovXG4gIC5mYWN0b3J5KCckdHJhbnNsYXRpb25DYWNoZScsICR0cmFuc2xhdGlvbkNhY2hlKTtcblxuZnVuY3Rpb24gJHRyYW5zbGF0aW9uQ2FjaGUoJGNhY2hlRmFjdG9yeSkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICByZXR1cm4gJGNhY2hlRmFjdG9yeSgndHJhbnNsYXRpb25zJyk7XG59XG5cbiR0cmFuc2xhdGlvbkNhY2hlLmRpc3BsYXlOYW1lID0gJyR0cmFuc2xhdGlvbkNhY2hlJztcbnJldHVybiAncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSc7XG5cbn0pKTtcblxuLyohXG4gKiBhbmd1bGFyLXRyYW5zbGF0ZSAtIHYyLjEzLjEgLSAyMDE2LTEyLTA2XG4gKiBcbiAqIENvcHlyaWdodCAoYykgMjAxNiBUaGUgYW5ndWxhci10cmFuc2xhdGUgdGVhbSwgUGFzY2FsIFByZWNodDsgTGljZW5zZWQgTUlUXG4gKi9cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHVubGVzcyBhbWRNb2R1bGVJZCBpcyBzZXRcbiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAoZmFjdG9yeSgpKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAvLyBsaWtlIE5vZGUuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyLiRpbmplY3QgPSBbJyRxJywgJyRodHRwJ107XG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyXG4gKiBAcmVxdWlyZXMgJHFcbiAqIEByZXF1aXJlcyAkaHR0cFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhIGxvYWRpbmcgZnVuY3Rpb24gZm9yIGEgdHlwaWNhbCBzdGF0aWMgZmlsZSB1cmwgcGF0dGVybjpcbiAqIFwibGFuZy1lbl9VUy5qc29uXCIsIFwibGFuZy1kZV9ERS5qc29uXCIsIGV0Yy4gVXNpbmcgdGhpcyBidWlsZGVyLFxuICogdGhlIHJlc3BvbnNlIG9mIHRoZXNlIHVybHMgbXVzdCBiZSBhbiBvYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0LCB3aGljaCBnZXRzIHByZWZpeCwgc3VmZml4LCBrZXksIGFuZCBmaWxlTWFwXG4gKi9cbi5mYWN0b3J5KCckdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXInLCAkdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXIpO1xuXG5mdW5jdGlvbiAkdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXIoJHEsICRodHRwKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHJldHVybiBmdW5jdGlvbiAob3B0aW9ucykge1xuXG4gICAgaWYgKCFvcHRpb25zIHx8ICghYW5ndWxhci5pc0FycmF5KG9wdGlvbnMuZmlsZXMpICYmICghYW5ndWxhci5pc1N0cmluZyhvcHRpb25zLnByZWZpeCkgfHwgIWFuZ3VsYXIuaXNTdHJpbmcob3B0aW9ucy5zdWZmaXgpKSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCBsb2FkIHN0YXRpYyBmaWxlcywgbm8gZmlsZXMgYW5kIHByZWZpeCBvciBzdWZmaXggc3BlY2lmaWVkIScpO1xuICAgIH1cblxuICAgIGlmICghb3B0aW9ucy5maWxlcykge1xuICAgICAgb3B0aW9ucy5maWxlcyA9IFt7XG4gICAgICAgIHByZWZpeDogb3B0aW9ucy5wcmVmaXgsXG4gICAgICAgIHN1ZmZpeDogb3B0aW9ucy5zdWZmaXhcbiAgICAgIH1dO1xuICAgIH1cblxuICAgIHZhciBsb2FkID0gZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgIGlmICghZmlsZSB8fCAoIWFuZ3VsYXIuaXNTdHJpbmcoZmlsZS5wcmVmaXgpIHx8ICFhbmd1bGFyLmlzU3RyaW5nKGZpbGUuc3VmZml4KSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZG5cXCd0IGxvYWQgc3RhdGljIGZpbGUsIG5vIHByZWZpeCBvciBzdWZmaXggc3BlY2lmaWVkIScpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZmlsZVVybCA9IFtcbiAgICAgICAgZmlsZS5wcmVmaXgsXG4gICAgICAgIG9wdGlvbnMua2V5LFxuICAgICAgICBmaWxlLnN1ZmZpeFxuICAgICAgXS5qb2luKCcnKTtcblxuICAgICAgaWYgKGFuZ3VsYXIuaXNPYmplY3Qob3B0aW9ucy5maWxlTWFwKSAmJiBvcHRpb25zLmZpbGVNYXBbZmlsZVVybF0pIHtcbiAgICAgICAgZmlsZVVybCA9IG9wdGlvbnMuZmlsZU1hcFtmaWxlVXJsXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICRodHRwKGFuZ3VsYXIuZXh0ZW5kKHtcbiAgICAgICAgdXJsOiBmaWxlVXJsLFxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBwYXJhbXM6ICcnXG4gICAgICB9LCBvcHRpb25zLiRodHRwKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuICRxLnJlamVjdChvcHRpb25zLmtleSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgcHJvbWlzZXMgPSBbXSxcbiAgICAgICAgbGVuZ3RoID0gb3B0aW9ucy5maWxlcy5sZW5ndGg7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKGxvYWQoe1xuICAgICAgICBwcmVmaXg6IG9wdGlvbnMuZmlsZXNbaV0ucHJlZml4LFxuICAgICAgICBrZXk6IG9wdGlvbnMua2V5LFxuICAgICAgICBzdWZmaXg6IG9wdGlvbnMuZmlsZXNbaV0uc3VmZml4XG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICRxLmFsbChwcm9taXNlcylcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgICAgIG1lcmdlZERhdGEgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGFbaV0pIHtcbiAgICAgICAgICAgIG1lcmdlZERhdGFba2V5XSA9IGRhdGFbaV1ba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVyZ2VkRGF0YTtcbiAgICAgIH0pO1xuICB9O1xufVxuXG4kdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXIuZGlzcGxheU5hbWUgPSAnJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyJztcbnJldHVybiAncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSc7XG5cbn0pKTtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBnbG9iYWwgYW5ndWxhciAqL1xuXG50cnkge1xuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24uY29tbW9uLmkxOG4uY29uZmlnXCIpO1xufSBjYXRjaCAoZXJyKSB7XG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIiwgW10pO1xufVxuXG4vKipcbiAqIFJlaW1wbGVtZW50YXRpb24gb2YgJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyIHRvIGhhbmRsZSBtaXNzaW5nIGZpbGVzIGFuZCBsb2NhbGUgaGllcmFyY2h5IChlbi9lbl9VUylcbiAqL1xuYW5ndWxhci5tb2R1bGUoXCJwYXNjYWxwcmVjaHQudHJhbnNsYXRlXCIpXG4gIC5mYWN0b3J5KFwiJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyXCIsIFtcIiRxXCIsIFwiJGh0dHBcIixcbiAgICBmdW5jdGlvbiAoJHEsICRodHRwKSB7XG4gICAgICBmdW5jdGlvbiBsb2FkVHJhbnNsYXRpb25GaWxlKG9wdGlvbnMsIGRlZmVycmVkKSB7XG4gICAgICAgICRodHRwKGFuZ3VsYXIuZXh0ZW5kKHtcbiAgICAgICAgICB1cmw6IFtcbiAgICAgICAgICAgIG9wdGlvbnMucHJlZml4LFxuICAgICAgICAgICAgb3B0aW9ucy5rZXkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgIG9wdGlvbnMuc3VmZml4XG4gICAgICAgICAgXS5qb2luKFwiXCIpLFxuICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICBwYXJhbXM6IFwiXCJcbiAgICAgICAgfSwgb3B0aW9ucy4kaHR0cCkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChvcHRpb25zLmtleS5pbmRleE9mKFwiX1wiKSA+PSAwKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gb3B0aW9ucy5rZXkuc3Vic3RyKDAsIG9wdGlvbnMua2V5Lmxhc3RJbmRleE9mKFwiX1wiKSk7XG4gICAgICAgICAgICB2YXIgb3B0cyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBvcHRpb25zLCB7XG4gICAgICAgICAgICAgIGtleToga2V5XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbG9hZFRyYW5zbGF0aW9uRmlsZShvcHRzLCBkZWZlcnJlZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoXCJ7fVwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAoIW9wdGlvbnMgfHwgKCFhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMucHJlZml4KSB8fFxuICAgICAgICAgICFhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMuc3VmZml4KSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBcIkNvdWxkblxcXCJ0IGxvYWQgc3RhdGljIGZpbGVzLCBubyBwcmVmaXggb3Igc3VmZml4IHNwZWNpZmllZCFcIik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIGxvYWRUcmFuc2xhdGlvbkZpbGUob3B0aW9ucywgZGVmZXJyZWQpO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcbiAgICB9XG4gIF0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIiwgW1xuICBcInBhc2NhbHByZWNodC50cmFuc2xhdGVcIixcbiAgXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuLmNvbmZpZ1wiXG5dKVxuICAuY29uZmlnKFtcIiR0cmFuc2xhdGVQcm92aWRlclwiLCBcIkxPQ0FMRVNfUFJFRklYXCIsIFwiTE9DQUxFU19TVUZJWFwiLFxuICAgIGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIsIExPQ0FMRVNfUFJFRklYLCBMT0NBTEVTX1NVRklYKSB7XG4gICAgICAvLyBUcmllcyB0byBkZXRlcm1pbmUgdGhlIGJyb3dzZXJzIGxvY2FsZVxuICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVN0YXRpY0ZpbGVzTG9hZGVyKHtcbiAgICAgICAgcHJlZml4OiBMT0NBTEVTX1BSRUZJWCxcbiAgICAgICAgc3VmZml4OiBMT0NBTEVTX1NVRklYXG4gICAgICB9KTtcblxuICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAgICAgIC5kZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSgpXG4gICAgICAgIC5mYWxsYmFja0xhbmd1YWdlKFwiZW5cIilcbiAgICAgICAgLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneShudWxsKTtcbiAgICB9XG4gIF0pO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYWZmaXguanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNhZmZpeFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEFGRklYIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBBZmZpeCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIEFmZml4LkRFRkFVTFRTLCBvcHRpb25zKVxuXG4gICAgdGhpcy4kdGFyZ2V0ID0gJCh0aGlzLm9wdGlvbnMudGFyZ2V0KVxuICAgICAgLm9uKCdzY3JvbGwuYnMuYWZmaXguZGF0YS1hcGknLCAkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbiwgdGhpcykpXG4gICAgICAub24oJ2NsaWNrLmJzLmFmZml4LmRhdGEtYXBpJywgICQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCwgdGhpcykpXG5cbiAgICB0aGlzLiRlbGVtZW50ICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLmFmZml4ZWQgICAgICA9XG4gICAgdGhpcy51bnBpbiAgICAgICAgPVxuICAgIHRoaXMucGlubmVkT2Zmc2V0ID0gbnVsbFxuXG4gICAgdGhpcy5jaGVja1Bvc2l0aW9uKClcbiAgfVxuXG4gIEFmZml4LlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIEFmZml4LlJFU0VUICAgID0gJ2FmZml4IGFmZml4LXRvcCBhZmZpeC1ib3R0b20nXG5cbiAgQWZmaXguREVGQVVMVFMgPSB7XG4gICAgb2Zmc2V0OiAwLFxuICAgIHRhcmdldDogd2luZG93XG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuZ2V0UGlubmVkT2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnBpbm5lZE9mZnNldCkgcmV0dXJuIHRoaXMucGlubmVkT2Zmc2V0XG4gICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhBZmZpeC5SRVNFVCkuYWRkQ2xhc3MoJ2FmZml4JylcbiAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpXG4gICAgdmFyIHBvc2l0aW9uICA9IHRoaXMuJGVsZW1lbnQub2Zmc2V0KClcbiAgICByZXR1cm4gKHRoaXMucGlubmVkT2Zmc2V0ID0gcG9zaXRpb24udG9wIC0gc2Nyb2xsVG9wKVxuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wID0gZnVuY3Rpb24gKCkge1xuICAgIHNldFRpbWVvdXQoJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sIHRoaXMpLCAxKVxuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmNoZWNrUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpKSByZXR1cm5cblxuICAgIHZhciBzY3JvbGxIZWlnaHQgPSAkKGRvY3VtZW50KS5oZWlnaHQoKVxuICAgIHZhciBzY3JvbGxUb3AgICAgPSB0aGlzLiR0YXJnZXQuc2Nyb2xsVG9wKClcbiAgICB2YXIgcG9zaXRpb24gICAgID0gdGhpcy4kZWxlbWVudC5vZmZzZXQoKVxuICAgIHZhciBvZmZzZXQgICAgICAgPSB0aGlzLm9wdGlvbnMub2Zmc2V0XG4gICAgdmFyIG9mZnNldFRvcCAgICA9IG9mZnNldC50b3BcbiAgICB2YXIgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0LmJvdHRvbVxuXG4gICAgaWYgKHR5cGVvZiBvZmZzZXQgIT0gJ29iamVjdCcpICAgICAgICAgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0VG9wID0gb2Zmc2V0XG4gICAgaWYgKHR5cGVvZiBvZmZzZXRUb3AgPT0gJ2Z1bmN0aW9uJykgICAgb2Zmc2V0VG9wICAgID0gb2Zmc2V0LnRvcCh0aGlzLiRlbGVtZW50KVxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0Qm90dG9tID09ICdmdW5jdGlvbicpIG9mZnNldEJvdHRvbSA9IG9mZnNldC5ib3R0b20odGhpcy4kZWxlbWVudClcblxuICAgIHZhciBhZmZpeCA9IHRoaXMudW5waW4gICAhPSBudWxsICYmIChzY3JvbGxUb3AgKyB0aGlzLnVucGluIDw9IHBvc2l0aW9uLnRvcCkgPyBmYWxzZSA6XG4gICAgICAgICAgICAgICAgb2Zmc2V0Qm90dG9tICE9IG51bGwgJiYgKHBvc2l0aW9uLnRvcCArIHRoaXMuJGVsZW1lbnQuaGVpZ2h0KCkgPj0gc2Nyb2xsSGVpZ2h0IC0gb2Zmc2V0Qm90dG9tKSA/ICdib3R0b20nIDpcbiAgICAgICAgICAgICAgICBvZmZzZXRUb3AgICAgIT0gbnVsbCAmJiAoc2Nyb2xsVG9wIDw9IG9mZnNldFRvcCkgPyAndG9wJyA6IGZhbHNlXG5cbiAgICBpZiAodGhpcy5hZmZpeGVkID09PSBhZmZpeCkgcmV0dXJuXG4gICAgaWYgKHRoaXMudW5waW4gIT0gbnVsbCkgdGhpcy4kZWxlbWVudC5jc3MoJ3RvcCcsICcnKVxuXG4gICAgdmFyIGFmZml4VHlwZSA9ICdhZmZpeCcgKyAoYWZmaXggPyAnLScgKyBhZmZpeCA6ICcnKVxuICAgIHZhciBlICAgICAgICAgPSAkLkV2ZW50KGFmZml4VHlwZSArICcuYnMuYWZmaXgnKVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB0aGlzLmFmZml4ZWQgPSBhZmZpeFxuICAgIHRoaXMudW5waW4gPSBhZmZpeCA9PSAnYm90dG9tJyA/IHRoaXMuZ2V0UGlubmVkT2Zmc2V0KCkgOiBudWxsXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAucmVtb3ZlQ2xhc3MoQWZmaXguUkVTRVQpXG4gICAgICAuYWRkQ2xhc3MoYWZmaXhUeXBlKVxuICAgICAgLnRyaWdnZXIoJC5FdmVudChhZmZpeFR5cGUucmVwbGFjZSgnYWZmaXgnLCAnYWZmaXhlZCcpKSlcblxuICAgIGlmIChhZmZpeCA9PSAnYm90dG9tJykge1xuICAgICAgdGhpcy4kZWxlbWVudC5vZmZzZXQoe1xuICAgICAgICB0b3A6IHNjcm9sbEhlaWdodCAtIHRoaXMuJGVsZW1lbnQuaGVpZ2h0KCkgLSBvZmZzZXRCb3R0b21cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cblxuICAvLyBBRkZJWCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5hZmZpeCcpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYWZmaXgnLCAoZGF0YSA9IG5ldyBBZmZpeCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uYWZmaXhcblxuICAkLmZuLmFmZml4ICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uYWZmaXguQ29uc3RydWN0b3IgPSBBZmZpeFxuXG5cbiAgLy8gQUZGSVggTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmFmZml4Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5hZmZpeCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEFGRklYIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICQoJ1tkYXRhLXNweT1cImFmZml4XCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHNweSA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhID0gJHNweS5kYXRhKClcblxuICAgICAgZGF0YS5vZmZzZXQgPSBkYXRhLm9mZnNldCB8fCB7fVxuXG4gICAgICBpZiAoZGF0YS5vZmZzZXRCb3R0b20pIGRhdGEub2Zmc2V0LmJvdHRvbSA9IGRhdGEub2Zmc2V0Qm90dG9tXG4gICAgICBpZiAoZGF0YS5vZmZzZXRUb3ApICAgIGRhdGEub2Zmc2V0LnRvcCAgICA9IGRhdGEub2Zmc2V0VG9wXG5cbiAgICAgIFBsdWdpbi5jYWxsKCRzcHksIGRhdGEpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYWxlcnQuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNhbGVydHNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBBTEVSVCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgZGlzbWlzcyA9ICdbZGF0YS1kaXNtaXNzPVwiYWxlcnRcIl0nXG4gIHZhciBBbGVydCAgID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgJChlbCkub24oJ2NsaWNrJywgZGlzbWlzcywgdGhpcy5jbG9zZSlcbiAgfVxuXG4gIEFsZXJ0LlZFUlNJT04gPSAnMy4yLjAnXG5cbiAgQWxlcnQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICAgPSAkKHRoaXMpXG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICB2YXIgJHBhcmVudCA9ICQoc2VsZWN0b3IpXG5cbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBpZiAoISRwYXJlbnQubGVuZ3RoKSB7XG4gICAgICAkcGFyZW50ID0gJHRoaXMuaGFzQ2xhc3MoJ2FsZXJ0JykgPyAkdGhpcyA6ICR0aGlzLnBhcmVudCgpXG4gICAgfVxuXG4gICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdjbG9zZS5icy5hbGVydCcpKVxuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgJHBhcmVudC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCgpIHtcbiAgICAgIC8vIGRldGFjaCBmcm9tIHBhcmVudCwgZmlyZSBldmVudCB0aGVuIGNsZWFuIHVwIGRhdGFcbiAgICAgICRwYXJlbnQuZGV0YWNoKCkudHJpZ2dlcignY2xvc2VkLmJzLmFsZXJ0JykucmVtb3ZlKClcbiAgICB9XG5cbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiAkcGFyZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgJHBhcmVudFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCByZW1vdmVFbGVtZW50KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICByZW1vdmVFbGVtZW50KClcbiAgfVxuXG5cbiAgLy8gQUxFUlQgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy5hbGVydCcpXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYWxlcnQnLCAoZGF0YSA9IG5ldyBBbGVydCh0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmFsZXJ0XG5cbiAgJC5mbi5hbGVydCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmFsZXJ0LkNvbnN0cnVjdG9yID0gQWxlcnRcblxuXG4gIC8vIEFMRVJUIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5hbGVydC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uYWxlcnQgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBBTEVSVCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5hbGVydC5kYXRhLWFwaScsIGRpc21pc3MsIEFsZXJ0LnByb3RvdHlwZS5jbG9zZSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYnV0dG9uLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYnV0dG9uc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEJVVFRPTiBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQnV0dG9uID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICA9ICQuZXh0ZW5kKHt9LCBCdXR0b24uREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZVxuICB9XG5cbiAgQnV0dG9uLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIEJ1dHRvbi5ERUZBVUxUUyA9IHtcbiAgICBsb2FkaW5nVGV4dDogJ2xvYWRpbmcuLi4nXG4gIH1cblxuICBCdXR0b24ucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgdmFyIGQgICAgPSAnZGlzYWJsZWQnXG4gICAgdmFyICRlbCAgPSB0aGlzLiRlbGVtZW50XG4gICAgdmFyIHZhbCAgPSAkZWwuaXMoJ2lucHV0JykgPyAndmFsJyA6ICdodG1sJ1xuICAgIHZhciBkYXRhID0gJGVsLmRhdGEoKVxuXG4gICAgc3RhdGUgPSBzdGF0ZSArICdUZXh0J1xuXG4gICAgaWYgKGRhdGEucmVzZXRUZXh0ID09IG51bGwpICRlbC5kYXRhKCdyZXNldFRleHQnLCAkZWxbdmFsXSgpKVxuXG4gICAgJGVsW3ZhbF0oZGF0YVtzdGF0ZV0gPT0gbnVsbCA/IHRoaXMub3B0aW9uc1tzdGF0ZV0gOiBkYXRhW3N0YXRlXSlcblxuICAgIC8vIHB1c2ggdG8gZXZlbnQgbG9vcCB0byBhbGxvdyBmb3JtcyB0byBzdWJtaXRcbiAgICBzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHN0YXRlID09ICdsb2FkaW5nVGV4dCcpIHtcbiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlXG4gICAgICAgICRlbC5hZGRDbGFzcyhkKS5hdHRyKGQsIGQpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2VcbiAgICAgICAgJGVsLnJlbW92ZUNsYXNzKGQpLnJlbW92ZUF0dHIoZClcbiAgICAgIH1cbiAgICB9LCB0aGlzKSwgMClcbiAgfVxuXG4gIEJ1dHRvbi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjaGFuZ2VkID0gdHJ1ZVxuICAgIHZhciAkcGFyZW50ID0gdGhpcy4kZWxlbWVudC5jbG9zZXN0KCdbZGF0YS10b2dnbGU9XCJidXR0b25zXCJdJylcblxuICAgIGlmICgkcGFyZW50Lmxlbmd0aCkge1xuICAgICAgdmFyICRpbnB1dCA9IHRoaXMuJGVsZW1lbnQuZmluZCgnaW5wdXQnKVxuICAgICAgaWYgKCRpbnB1dC5wcm9wKCd0eXBlJykgPT0gJ3JhZGlvJykge1xuICAgICAgICBpZiAoJGlucHV0LnByb3AoJ2NoZWNrZWQnKSAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdhY3RpdmUnKSkgY2hhbmdlZCA9IGZhbHNlXG4gICAgICAgIGVsc2UgJHBhcmVudC5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB9XG4gICAgICBpZiAoY2hhbmdlZCkgJGlucHV0LnByb3AoJ2NoZWNrZWQnLCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpLnRyaWdnZXIoJ2NoYW5nZScpXG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZWQpIHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpXG4gIH1cblxuXG4gIC8vIEJVVFRPTiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuYnV0dG9uJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5idXR0b24nLCAoZGF0YSA9IG5ldyBCdXR0b24odGhpcywgb3B0aW9ucykpKVxuXG4gICAgICBpZiAob3B0aW9uID09ICd0b2dnbGUnKSBkYXRhLnRvZ2dsZSgpXG4gICAgICBlbHNlIGlmIChvcHRpb24pIGRhdGEuc2V0U3RhdGUob3B0aW9uKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5idXR0b25cblxuICAkLmZuLmJ1dHRvbiAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmJ1dHRvbi5Db25zdHJ1Y3RvciA9IEJ1dHRvblxuXG5cbiAgLy8gQlVUVE9OIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uYnV0dG9uLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5idXR0b24gPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBCVVRUT04gREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmJ1dHRvbi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGVePVwiYnV0dG9uXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJGJ0biA9ICQoZS50YXJnZXQpXG4gICAgaWYgKCEkYnRuLmhhc0NsYXNzKCdidG4nKSkgJGJ0biA9ICRidG4uY2xvc2VzdCgnLmJ0bicpXG4gICAgUGx1Z2luLmNhbGwoJGJ0biwgJ3RvZ2dsZScpXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGNhcm91c2VsLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY2Fyb3VzZWxcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDQVJPVVNFTCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQ2Fyb3VzZWwgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgICAgPSAkKGVsZW1lbnQpLm9uKCdrZXlkb3duLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmtleWRvd24sIHRoaXMpKVxuICAgIHRoaXMuJGluZGljYXRvcnMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5jYXJvdXNlbC1pbmRpY2F0b3JzJylcbiAgICB0aGlzLm9wdGlvbnMgICAgID0gb3B0aW9uc1xuICAgIHRoaXMucGF1c2VkICAgICAgPVxuICAgIHRoaXMuc2xpZGluZyAgICAgPVxuICAgIHRoaXMuaW50ZXJ2YWwgICAgPVxuICAgIHRoaXMuJGFjdGl2ZSAgICAgPVxuICAgIHRoaXMuJGl0ZW1zICAgICAgPSBudWxsXG5cbiAgICB0aGlzLm9wdGlvbnMucGF1c2UgPT0gJ2hvdmVyJyAmJiB0aGlzLiRlbGVtZW50XG4gICAgICAub24oJ21vdXNlZW50ZXIuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMucGF1c2UsIHRoaXMpKVxuICAgICAgLm9uKCdtb3VzZWxlYXZlLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmN5Y2xlLCB0aGlzKSlcbiAgfVxuXG4gIENhcm91c2VsLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIENhcm91c2VsLkRFRkFVTFRTID0ge1xuICAgIGludGVydmFsOiA1MDAwLFxuICAgIHBhdXNlOiAnaG92ZXInLFxuICAgIHdyYXA6IHRydWVcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICBzd2l0Y2ggKGUud2hpY2gpIHtcbiAgICAgIGNhc2UgMzc6IHRoaXMucHJldigpOyBicmVha1xuICAgICAgY2FzZSAzOTogdGhpcy5uZXh0KCk7IGJyZWFrXG4gICAgICBkZWZhdWx0OiByZXR1cm5cbiAgICB9XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5jeWNsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZSB8fCAodGhpcy5wYXVzZWQgPSBmYWxzZSlcblxuICAgIHRoaXMuaW50ZXJ2YWwgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuXG4gICAgdGhpcy5vcHRpb25zLmludGVydmFsXG4gICAgICAmJiAhdGhpcy5wYXVzZWRcbiAgICAgICYmICh0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoJC5wcm94eSh0aGlzLm5leHQsIHRoaXMpLCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIHRoaXMuJGl0ZW1zID0gaXRlbS5wYXJlbnQoKS5jaGlsZHJlbignLml0ZW0nKVxuICAgIHJldHVybiB0aGlzLiRpdGVtcy5pbmRleChpdGVtIHx8IHRoaXMuJGFjdGl2ZSlcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS50byA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgICB2YXIgdGhhdCAgICAgICAgPSB0aGlzXG4gICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgodGhpcy4kYWN0aXZlID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKSlcblxuICAgIGlmIChwb3MgPiAodGhpcy4kaXRlbXMubGVuZ3RoIC0gMSkgfHwgcG9zIDwgMCkgcmV0dXJuXG5cbiAgICBpZiAodGhpcy5zbGlkaW5nKSAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudC5vbmUoJ3NsaWQuYnMuY2Fyb3VzZWwnLCBmdW5jdGlvbiAoKSB7IHRoYXQudG8ocG9zKSB9KSAvLyB5ZXMsIFwic2xpZFwiXG4gICAgaWYgKGFjdGl2ZUluZGV4ID09IHBvcykgcmV0dXJuIHRoaXMucGF1c2UoKS5jeWNsZSgpXG5cbiAgICByZXR1cm4gdGhpcy5zbGlkZShwb3MgPiBhY3RpdmVJbmRleCA/ICduZXh0JyA6ICdwcmV2JywgJCh0aGlzLiRpdGVtc1twb3NdKSlcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZSB8fCAodGhpcy5wYXVzZWQgPSB0cnVlKVxuXG4gICAgaWYgKHRoaXMuJGVsZW1lbnQuZmluZCgnLm5leHQsIC5wcmV2JykubGVuZ3RoICYmICQuc3VwcG9ydC50cmFuc2l0aW9uKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKVxuICAgICAgdGhpcy5jeWNsZSh0cnVlKVxuICAgIH1cblxuICAgIHRoaXMuaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUoJ25leHQnKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUoJ3ByZXYnKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnNsaWRlID0gZnVuY3Rpb24gKHR5cGUsIG5leHQpIHtcbiAgICB2YXIgJGFjdGl2ZSAgID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKVxuICAgIHZhciAkbmV4dCAgICAgPSBuZXh0IHx8ICRhY3RpdmVbdHlwZV0oKVxuICAgIHZhciBpc0N5Y2xpbmcgPSB0aGlzLmludGVydmFsXG4gICAgdmFyIGRpcmVjdGlvbiA9IHR5cGUgPT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0J1xuICAgIHZhciBmYWxsYmFjayAgPSB0eXBlID09ICduZXh0JyA/ICdmaXJzdCcgOiAnbGFzdCdcbiAgICB2YXIgdGhhdCAgICAgID0gdGhpc1xuXG4gICAgaWYgKCEkbmV4dC5sZW5ndGgpIHtcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLndyYXApIHJldHVyblxuICAgICAgJG5leHQgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtJylbZmFsbGJhY2tdKClcbiAgICB9XG5cbiAgICBpZiAoJG5leHQuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm4gKHRoaXMuc2xpZGluZyA9IGZhbHNlKVxuXG4gICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSAkbmV4dFswXVxuICAgIHZhciBzbGlkZUV2ZW50ID0gJC5FdmVudCgnc2xpZGUuYnMuY2Fyb3VzZWwnLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LFxuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICB9KVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkZUV2ZW50KVxuICAgIGlmIChzbGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuc2xpZGluZyA9IHRydWVcblxuICAgIGlzQ3ljbGluZyAmJiB0aGlzLnBhdXNlKClcblxuICAgIGlmICh0aGlzLiRpbmRpY2F0b3JzLmxlbmd0aCkge1xuICAgICAgdGhpcy4kaW5kaWNhdG9ycy5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB2YXIgJG5leHRJbmRpY2F0b3IgPSAkKHRoaXMuJGluZGljYXRvcnMuY2hpbGRyZW4oKVt0aGlzLmdldEl0ZW1JbmRleCgkbmV4dCldKVxuICAgICAgJG5leHRJbmRpY2F0b3IgJiYgJG5leHRJbmRpY2F0b3IuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgfVxuXG4gICAgdmFyIHNsaWRFdmVudCA9ICQuRXZlbnQoJ3NsaWQuYnMuY2Fyb3VzZWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsIGRpcmVjdGlvbjogZGlyZWN0aW9uIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICBpZiAoJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnc2xpZGUnKSkge1xuICAgICAgJG5leHQuYWRkQ2xhc3ModHlwZSlcbiAgICAgICRuZXh0WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuICAgICAgJGFjdGl2ZS5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAkbmV4dC5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkbmV4dC5yZW1vdmVDbGFzcyhbdHlwZSwgZGlyZWN0aW9uXS5qb2luKCcgJykpLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoWydhY3RpdmUnLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSlcbiAgICAgICAgICB0aGF0LnNsaWRpbmcgPSBmYWxzZVxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICAgICAgICB9LCAwKVxuICAgICAgICB9KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoJGFjdGl2ZS5jc3MoJ3RyYW5zaXRpb24tZHVyYXRpb24nKS5zbGljZSgwLCAtMSkgKiAxMDAwKVxuICAgIH0gZWxzZSB7XG4gICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgJG5leHQuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICB9XG5cbiAgICBpc0N5Y2xpbmcgJiYgdGhpcy5jeWNsZSgpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDQVJPVVNFTCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDYXJvdXNlbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcbiAgICAgIHZhciBhY3Rpb24gID0gdHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJyA/IG9wdGlvbiA6IG9wdGlvbnMuc2xpZGVcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcsIChkYXRhID0gbmV3IENhcm91c2VsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdudW1iZXInKSBkYXRhLnRvKG9wdGlvbilcbiAgICAgIGVsc2UgaWYgKGFjdGlvbikgZGF0YVthY3Rpb25dKClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbnMuaW50ZXJ2YWwpIGRhdGEucGF1c2UoKS5jeWNsZSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmNhcm91c2VsXG5cbiAgJC5mbi5jYXJvdXNlbCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmNhcm91c2VsLkNvbnN0cnVjdG9yID0gQ2Fyb3VzZWxcblxuXG4gIC8vIENBUk9VU0VMIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5jYXJvdXNlbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uY2Fyb3VzZWwgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDQVJPVVNFTCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaScsICdbZGF0YS1zbGlkZV0sIFtkYXRhLXNsaWRlLXRvXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGhyZWZcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgJHRhcmdldCA9ICQoJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSB8fCAoaHJlZiA9ICR0aGlzLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpIC8vIHN0cmlwIGZvciBpZTdcbiAgICBpZiAoISR0YXJnZXQuaGFzQ2xhc3MoJ2Nhcm91c2VsJykpIHJldHVyblxuICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpXG4gICAgdmFyIHNsaWRlSW5kZXggPSAkdGhpcy5hdHRyKCdkYXRhLXNsaWRlLXRvJylcbiAgICBpZiAoc2xpZGVJbmRleCkgb3B0aW9ucy5pbnRlcnZhbCA9IGZhbHNlXG5cbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb25zKVxuXG4gICAgaWYgKHNsaWRlSW5kZXgpIHtcbiAgICAgICR0YXJnZXQuZGF0YSgnYnMuY2Fyb3VzZWwnKS50byhzbGlkZUluZGV4KVxuICAgIH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9KVxuXG4gICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCdbZGF0YS1yaWRlPVwiY2Fyb3VzZWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkY2Fyb3VzZWwgPSAkKHRoaXMpXG4gICAgICBQbHVnaW4uY2FsbCgkY2Fyb3VzZWwsICRjYXJvdXNlbC5kYXRhKCkpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogY29sbGFwc2UuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjb2xsYXBzZVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENPTExBUFNFIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIENvbGxhcHNlID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICAgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgICAgID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCBvcHRpb25zKVxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IG51bGxcblxuICAgIGlmICh0aGlzLm9wdGlvbnMucGFyZW50KSB0aGlzLiRwYXJlbnQgPSAkKHRoaXMub3B0aW9ucy5wYXJlbnQpXG4gICAgaWYgKHRoaXMub3B0aW9ucy50b2dnbGUpIHRoaXMudG9nZ2xlKClcbiAgfVxuXG4gIENvbGxhcHNlLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIENvbGxhcHNlLkRFRkFVTFRTID0ge1xuICAgIHRvZ2dsZTogdHJ1ZVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmRpbWVuc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaGFzV2lkdGggPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCd3aWR0aCcpXG4gICAgcmV0dXJuIGhhc1dpZHRoID8gJ3dpZHRoJyA6ICdoZWlnaHQnXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nIHx8IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdzaG93LmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB2YXIgYWN0aXZlcyA9IHRoaXMuJHBhcmVudCAmJiB0aGlzLiRwYXJlbnQuZmluZCgnPiAucGFuZWwgPiAuaW4nKVxuXG4gICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgIHZhciBoYXNEYXRhID0gYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICBpZiAoaGFzRGF0YSAmJiBoYXNEYXRhLnRyYW5zaXRpb25pbmcpIHJldHVyblxuICAgICAgUGx1Z2luLmNhbGwoYWN0aXZlcywgJ2hpZGUnKVxuICAgICAgaGFzRGF0YSB8fCBhY3RpdmVzLmRhdGEoJ2JzLmNvbGxhcHNlJywgbnVsbClcbiAgICB9XG5cbiAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpXG4gICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVtkaW1lbnNpb25dKDApXG5cbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG5cbiAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UgaW4nKVtkaW1lbnNpb25dKCcnKVxuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAudHJpZ2dlcignc2hvd24uYnMuY29sbGFwc2UnKVxuICAgIH1cblxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXG5cbiAgICB2YXIgc2Nyb2xsU2l6ZSA9ICQuY2FtZWxDYXNlKFsnc2Nyb2xsJywgZGltZW5zaW9uXS5qb2luKCctJykpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzNTApW2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFswXVtzY3JvbGxTaXplXSlcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdoaWRlLmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuXG4gICAgdGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSgpKVswXS5vZmZzZXRIZWlnaHRcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgIC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuXG4gICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAudHJpZ2dlcignaGlkZGVuLmJzLmNvbGxhcHNlJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZScpXG4gICAgfVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuIGNvbXBsZXRlLmNhbGwodGhpcylcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIFtkaW1lbnNpb25dKDApXG4gICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzNTApXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXNbdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSA/ICdoaWRlJyA6ICdzaG93J10oKVxuICB9XG5cblxuICAvLyBDT0xMQVBTRSBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDb2xsYXBzZS5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcblxuICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbnMudG9nZ2xlICYmIG9wdGlvbiA9PSAnc2hvdycpIG9wdGlvbiA9ICFvcHRpb25cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnLCAoZGF0YSA9IG5ldyBDb2xsYXBzZSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uY29sbGFwc2VcblxuICAkLmZuLmNvbGxhcHNlICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uY29sbGFwc2UuQ29uc3RydWN0b3IgPSBDb2xsYXBzZVxuXG5cbiAgLy8gQ09MTEFQU0UgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmNvbGxhcHNlLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5jb2xsYXBzZSA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENPTExBUFNFIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmNvbGxhcHNlLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgaHJlZlxuICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgIHZhciB0YXJnZXQgID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuICAgICAgICB8fCBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgfHwgKGhyZWYgPSAkdGhpcy5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB2YXIgJHRhcmdldCA9ICQodGFyZ2V0KVxuICAgIHZhciBkYXRhICAgID0gJHRhcmdldC5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgdmFyIG9wdGlvbiAgPSBkYXRhID8gJ3RvZ2dsZScgOiAkdGhpcy5kYXRhKClcbiAgICB2YXIgcGFyZW50ICA9ICR0aGlzLmF0dHIoJ2RhdGEtcGFyZW50JylcbiAgICB2YXIgJHBhcmVudCA9IHBhcmVudCAmJiAkKHBhcmVudClcblxuICAgIGlmICghZGF0YSB8fCAhZGF0YS50cmFuc2l0aW9uaW5nKSB7XG4gICAgICBpZiAoJHBhcmVudCkgJHBhcmVudC5maW5kKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXBhcmVudD1cIicgKyBwYXJlbnQgKyAnXCJdJykubm90KCR0aGlzKS5hZGRDbGFzcygnY29sbGFwc2VkJylcbiAgICAgICR0aGlzWyR0YXJnZXQuaGFzQ2xhc3MoJ2luJykgPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10oJ2NvbGxhcHNlZCcpXG4gICAgfVxuXG4gICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9uKVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBkcm9wZG93bi5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2Ryb3Bkb3duc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIERST1BET1dOIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBiYWNrZHJvcCA9ICcuZHJvcGRvd24tYmFja2Ryb3AnXG4gIHZhciB0b2dnbGUgICA9ICdbZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXSdcbiAgdmFyIERyb3Bkb3duID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAkKGVsZW1lbnQpLm9uKCdjbGljay5icy5kcm9wZG93bicsIHRoaXMudG9nZ2xlKVxuICB9XG5cbiAgRHJvcGRvd24uVkVSU0lPTiA9ICczLjIuMCdcblxuICBEcm9wZG93bi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxuXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgY2xlYXJNZW51cygpXG5cbiAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmICEkcGFyZW50LmNsb3Nlc3QoJy5uYXZiYXItbmF2JykubGVuZ3RoKSB7XG4gICAgICAgIC8vIGlmIG1vYmlsZSB3ZSB1c2UgYSBiYWNrZHJvcCBiZWNhdXNlIGNsaWNrIGV2ZW50cyBkb24ndCBkZWxlZ2F0ZVxuICAgICAgICAkKCc8ZGl2IGNsYXNzPVwiZHJvcGRvd24tYmFja2Ryb3BcIi8+JykuaW5zZXJ0QWZ0ZXIoJCh0aGlzKSkub24oJ2NsaWNrJywgY2xlYXJNZW51cylcbiAgICAgIH1cblxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfVxuICAgICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdzaG93LmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldCkpXG5cbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICAgJHRoaXMudHJpZ2dlcignZm9jdXMnKVxuXG4gICAgICAkcGFyZW50XG4gICAgICAgIC50b2dnbGVDbGFzcygnb3BlbicpXG4gICAgICAgIC50cmlnZ2VyKCdzaG93bi5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBEcm9wZG93bi5wcm90b3R5cGUua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCEvKDM4fDQwfDI3KS8udGVzdChlLmtleUNvZGUpKSByZXR1cm5cblxuICAgIHZhciAkdGhpcyA9ICQodGhpcylcblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgIGlmICgkdGhpcy5pcygnLmRpc2FibGVkLCA6ZGlzYWJsZWQnKSkgcmV0dXJuXG5cbiAgICB2YXIgJHBhcmVudCAgPSBnZXRQYXJlbnQoJHRoaXMpXG4gICAgdmFyIGlzQWN0aXZlID0gJHBhcmVudC5oYXNDbGFzcygnb3BlbicpXG5cbiAgICBpZiAoIWlzQWN0aXZlIHx8IChpc0FjdGl2ZSAmJiBlLmtleUNvZGUgPT0gMjcpKSB7XG4gICAgICBpZiAoZS53aGljaCA9PSAyNykgJHBhcmVudC5maW5kKHRvZ2dsZSkudHJpZ2dlcignZm9jdXMnKVxuICAgICAgcmV0dXJuICR0aGlzLnRyaWdnZXIoJ2NsaWNrJylcbiAgICB9XG5cbiAgICB2YXIgZGVzYyA9ICcgbGk6bm90KC5kaXZpZGVyKTp2aXNpYmxlIGEnXG4gICAgdmFyICRpdGVtcyA9ICRwYXJlbnQuZmluZCgnW3JvbGU9XCJtZW51XCJdJyArIGRlc2MgKyAnLCBbcm9sZT1cImxpc3Rib3hcIl0nICsgZGVzYylcblxuICAgIGlmICghJGl0ZW1zLmxlbmd0aCkgcmV0dXJuXG5cbiAgICB2YXIgaW5kZXggPSAkaXRlbXMuaW5kZXgoJGl0ZW1zLmZpbHRlcignOmZvY3VzJykpXG5cbiAgICBpZiAoZS5rZXlDb2RlID09IDM4ICYmIGluZGV4ID4gMCkgICAgICAgICAgICAgICAgIGluZGV4LS0gICAgICAgICAgICAgICAgICAgICAgICAvLyB1cFxuICAgIGlmIChlLmtleUNvZGUgPT0gNDAgJiYgaW5kZXggPCAkaXRlbXMubGVuZ3RoIC0gMSkgaW5kZXgrKyAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvd25cbiAgICBpZiAoIX5pbmRleCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMFxuXG4gICAgJGl0ZW1zLmVxKGluZGV4KS50cmlnZ2VyKCdmb2N1cycpXG4gIH1cblxuICBmdW5jdGlvbiBjbGVhck1lbnVzKGUpIHtcbiAgICBpZiAoZSAmJiBlLndoaWNoID09PSAzKSByZXR1cm5cbiAgICAkKGJhY2tkcm9wKS5yZW1vdmUoKVxuICAgICQodG9nZ2xlKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkcGFyZW50ID0gZ2V0UGFyZW50KCQodGhpcykpXG4gICAgICB2YXIgcmVsYXRlZFRhcmdldCA9IHsgcmVsYXRlZFRhcmdldDogdGhpcyB9XG4gICAgICBpZiAoISRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKSkgcmV0dXJuXG4gICAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ2hpZGUuYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cbiAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ29wZW4nKS50cmlnZ2VyKCdoaWRkZW4uYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBnZXRQYXJlbnQoJHRoaXMpIHtcbiAgICB2YXIgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpXG5cbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiAvI1tBLVphLXpdLy50ZXN0KHNlbGVjdG9yKSAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgIH1cblxuICAgIHZhciAkcGFyZW50ID0gc2VsZWN0b3IgJiYgJChzZWxlY3RvcilcblxuICAgIHJldHVybiAkcGFyZW50ICYmICRwYXJlbnQubGVuZ3RoID8gJHBhcmVudCA6ICR0aGlzLnBhcmVudCgpXG4gIH1cblxuXG4gIC8vIERST1BET1dOIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMuZHJvcGRvd24nKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmRyb3Bkb3duJywgKGRhdGEgPSBuZXcgRHJvcGRvd24odGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5kcm9wZG93blxuXG4gICQuZm4uZHJvcGRvd24gICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5kcm9wZG93bi5Db25zdHJ1Y3RvciA9IERyb3Bkb3duXG5cblxuICAvLyBEUk9QRE9XTiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uZHJvcGRvd24ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmRyb3Bkb3duID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQVBQTFkgVE8gU1RBTkRBUkQgRFJPUERPV04gRUxFTUVOVFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCBjbGVhck1lbnVzKVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCAnLmRyb3Bkb3duIGZvcm0nLCBmdW5jdGlvbiAoZSkgeyBlLnN0b3BQcm9wYWdhdGlvbigpIH0pXG4gICAgLm9uKCdjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaScsIHRvZ2dsZSwgRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZSlcbiAgICAub24oJ2tleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGknLCB0b2dnbGUgKyAnLCBbcm9sZT1cIm1lbnVcIl0sIFtyb2xlPVwibGlzdGJveFwiXScsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiB0YWIuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0YWJzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gVEFCIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgVGFiID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSAkKGVsZW1lbnQpXG4gIH1cblxuICBUYWIuVkVSU0lPTiA9ICczLjIuMCdcblxuICBUYWIucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aGlzICAgID0gdGhpcy5lbGVtZW50XG4gICAgdmFyICR1bCAgICAgID0gJHRoaXMuY2xvc2VzdCgndWw6bm90KC5kcm9wZG93bi1tZW51KScpXG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuZGF0YSgndGFyZ2V0JylcblxuICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIHNlbGVjdG9yID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgICBzZWxlY3RvciA9IHNlbGVjdG9yICYmIHNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgfVxuXG4gICAgaWYgKCR0aGlzLnBhcmVudCgnbGknKS5oYXNDbGFzcygnYWN0aXZlJykpIHJldHVyblxuXG4gICAgdmFyIHByZXZpb3VzID0gJHVsLmZpbmQoJy5hY3RpdmU6bGFzdCBhJylbMF1cbiAgICB2YXIgZSAgICAgICAgPSAkLkV2ZW50KCdzaG93LmJzLnRhYicsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6IHByZXZpb3VzXG4gICAgfSlcblxuICAgICR0aGlzLnRyaWdnZXIoZSlcblxuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHZhciAkdGFyZ2V0ID0gJChzZWxlY3RvcilcblxuICAgIHRoaXMuYWN0aXZhdGUoJHRoaXMuY2xvc2VzdCgnbGknKSwgJHVsKVxuICAgIHRoaXMuYWN0aXZhdGUoJHRhcmdldCwgJHRhcmdldC5wYXJlbnQoKSwgZnVuY3Rpb24gKCkge1xuICAgICAgJHRoaXMudHJpZ2dlcih7XG4gICAgICAgIHR5cGU6ICdzaG93bi5icy50YWInLFxuICAgICAgICByZWxhdGVkVGFyZ2V0OiBwcmV2aW91c1xuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgVGFiLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyICRhY3RpdmUgICAgPSBjb250YWluZXIuZmluZCgnPiAuYWN0aXZlJylcbiAgICB2YXIgdHJhbnNpdGlvbiA9IGNhbGxiYWNrXG4gICAgICAmJiAkLnN1cHBvcnQudHJhbnNpdGlvblxuICAgICAgJiYgJGFjdGl2ZS5oYXNDbGFzcygnZmFkZScpXG5cbiAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgJGFjdGl2ZVxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgIC5maW5kKCc+IC5kcm9wZG93bi1tZW51ID4gLmFjdGl2ZScpXG4gICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcblxuICAgICAgZWxlbWVudC5hZGRDbGFzcygnYWN0aXZlJylcblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgZWxlbWVudFswXS5vZmZzZXRXaWR0aCAvLyByZWZsb3cgZm9yIHRyYW5zaXRpb25cbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnaW4nKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnZmFkZScpXG4gICAgICB9XG5cbiAgICAgIGlmIChlbGVtZW50LnBhcmVudCgnLmRyb3Bkb3duLW1lbnUnKSkge1xuICAgICAgICBlbGVtZW50LmNsb3Nlc3QoJ2xpLmRyb3Bkb3duJykuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbiAgICB9XG5cbiAgICB0cmFuc2l0aW9uID9cbiAgICAgICRhY3RpdmVcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgbmV4dClcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxuICAgICAgbmV4dCgpXG5cbiAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdpbicpXG4gIH1cblxuXG4gIC8vIFRBQiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy50YWInKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnRhYicsIChkYXRhID0gbmV3IFRhYih0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4udGFiXG5cbiAgJC5mbi50YWIgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi50YWIuQ29uc3RydWN0b3IgPSBUYWJcblxuXG4gIC8vIFRBQiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT1cblxuICAkLmZuLnRhYi5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4udGFiID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gVEFCIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy50YWIuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwidGFiXCJdLCBbZGF0YS10b2dnbGU9XCJwaWxsXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBQbHVnaW4uY2FsbCgkKHRoaXMpLCAnc2hvdycpXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHRyYW5zaXRpb24uanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0cmFuc2l0aW9uc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENTUyBUUkFOU0lUSU9OIFNVUFBPUlQgKFNob3V0b3V0OiBodHRwOi8vd3d3Lm1vZGVybml6ci5jb20vKVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKCkge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Jvb3RzdHJhcCcpXG5cbiAgICB2YXIgdHJhbnNFbmRFdmVudE5hbWVzID0ge1xuICAgICAgV2Via2l0VHJhbnNpdGlvbiA6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcbiAgICAgIE1velRyYW5zaXRpb24gICAgOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgICBPVHJhbnNpdGlvbiAgICAgIDogJ29UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kJyxcbiAgICAgIHRyYW5zaXRpb24gICAgICAgOiAndHJhbnNpdGlvbmVuZCdcbiAgICB9XG5cbiAgICBmb3IgKHZhciBuYW1lIGluIHRyYW5zRW5kRXZlbnROYW1lcykge1xuICAgICAgaWYgKGVsLnN0eWxlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgZW5kOiB0cmFuc0VuZEV2ZW50TmFtZXNbbmFtZV0gfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZSAvLyBleHBsaWNpdCBmb3IgaWU4ICggIC5fLilcbiAgfVxuXG4gIC8vIGh0dHA6Ly9ibG9nLmFsZXhtYWNjYXcuY29tL2Nzcy10cmFuc2l0aW9uc1xuICAkLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gKGR1cmF0aW9uKSB7XG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlXG4gICAgdmFyICRlbCA9IHRoaXNcbiAgICAkKHRoaXMpLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkgeyBjYWxsZWQgPSB0cnVlIH0pXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBpZiAoIWNhbGxlZCkgJCgkZWwpLnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSB9XG4gICAgc2V0VGltZW91dChjYWxsYmFjaywgZHVyYXRpb24pXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gICQoZnVuY3Rpb24gKCkge1xuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkVuZCgpXG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm5cblxuICAgICQuZXZlbnQuc3BlY2lhbC5ic1RyYW5zaXRpb25FbmQgPSB7XG4gICAgICBiaW5kVHlwZTogJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLFxuICAgICAgZGVsZWdhdGVUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICBoYW5kbGU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICgkKGUudGFyZ2V0KS5pcyh0aGlzKSkgcmV0dXJuIGUuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogc2Nyb2xsc3B5LmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jc2Nyb2xsc3B5XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gU0NST0xMU1BZIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBTY3JvbGxTcHkoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHZhciBwcm9jZXNzICA9ICQucHJveHkodGhpcy5wcm9jZXNzLCB0aGlzKVxuXG4gICAgdGhpcy4kYm9keSAgICAgICAgICA9ICQoJ2JvZHknKVxuICAgIHRoaXMuJHNjcm9sbEVsZW1lbnQgPSAkKGVsZW1lbnQpLmlzKCdib2R5JykgPyAkKHdpbmRvdykgOiAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgICAgICA9ICQuZXh0ZW5kKHt9LCBTY3JvbGxTcHkuREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy5zZWxlY3RvciAgICAgICA9ICh0aGlzLm9wdGlvbnMudGFyZ2V0IHx8ICcnKSArICcgLm5hdiBsaSA+IGEnXG4gICAgdGhpcy5vZmZzZXRzICAgICAgICA9IFtdXG4gICAgdGhpcy50YXJnZXRzICAgICAgICA9IFtdXG4gICAgdGhpcy5hY3RpdmVUYXJnZXQgICA9IG51bGxcbiAgICB0aGlzLnNjcm9sbEhlaWdodCAgID0gMFxuXG4gICAgdGhpcy4kc2Nyb2xsRWxlbWVudC5vbignc2Nyb2xsLmJzLnNjcm9sbHNweScsIHByb2Nlc3MpXG4gICAgdGhpcy5yZWZyZXNoKClcbiAgICB0aGlzLnByb2Nlc3MoKVxuICB9XG5cbiAgU2Nyb2xsU3B5LlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIFNjcm9sbFNweS5ERUZBVUxUUyA9IHtcbiAgICBvZmZzZXQ6IDEwXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLmdldFNjcm9sbEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy4kc2Nyb2xsRWxlbWVudFswXS5zY3JvbGxIZWlnaHQgfHwgTWF0aC5tYXgodGhpcy4kYm9keVswXS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9mZnNldE1ldGhvZCA9ICdvZmZzZXQnXG4gICAgdmFyIG9mZnNldEJhc2UgICA9IDBcblxuICAgIGlmICghJC5pc1dpbmRvdyh0aGlzLiRzY3JvbGxFbGVtZW50WzBdKSkge1xuICAgICAgb2Zmc2V0TWV0aG9kID0gJ3Bvc2l0aW9uJ1xuICAgICAgb2Zmc2V0QmFzZSAgID0gdGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKVxuICAgIH1cblxuICAgIHRoaXMub2Zmc2V0cyA9IFtdXG4gICAgdGhpcy50YXJnZXRzID0gW11cbiAgICB0aGlzLnNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KClcblxuICAgIHZhciBzZWxmICAgICA9IHRoaXNcblxuICAgIHRoaXMuJGJvZHlcbiAgICAgIC5maW5kKHRoaXMuc2VsZWN0b3IpXG4gICAgICAubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRlbCAgID0gJCh0aGlzKVxuICAgICAgICB2YXIgaHJlZiAgPSAkZWwuZGF0YSgndGFyZ2V0JykgfHwgJGVsLmF0dHIoJ2hyZWYnKVxuICAgICAgICB2YXIgJGhyZWYgPSAvXiMuLy50ZXN0KGhyZWYpICYmICQoaHJlZilcblxuICAgICAgICByZXR1cm4gKCRocmVmXG4gICAgICAgICAgJiYgJGhyZWYubGVuZ3RoXG4gICAgICAgICAgJiYgJGhyZWYuaXMoJzp2aXNpYmxlJylcbiAgICAgICAgICAmJiBbWyRocmVmW29mZnNldE1ldGhvZF0oKS50b3AgKyBvZmZzZXRCYXNlLCBocmVmXV0pIHx8IG51bGxcbiAgICAgIH0pXG4gICAgICAuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYVswXSAtIGJbMF0gfSlcbiAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5vZmZzZXRzLnB1c2godGhpc1swXSlcbiAgICAgICAgc2VsZi50YXJnZXRzLnB1c2godGhpc1sxXSlcbiAgICAgIH0pXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNjcm9sbFRvcCAgICA9IHRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKCkgKyB0aGlzLm9wdGlvbnMub2Zmc2V0XG4gICAgdmFyIHNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KClcbiAgICB2YXIgbWF4U2Nyb2xsICAgID0gdGhpcy5vcHRpb25zLm9mZnNldCArIHNjcm9sbEhlaWdodCAtIHRoaXMuJHNjcm9sbEVsZW1lbnQuaGVpZ2h0KClcbiAgICB2YXIgb2Zmc2V0cyAgICAgID0gdGhpcy5vZmZzZXRzXG4gICAgdmFyIHRhcmdldHMgICAgICA9IHRoaXMudGFyZ2V0c1xuICAgIHZhciBhY3RpdmVUYXJnZXQgPSB0aGlzLmFjdGl2ZVRhcmdldFxuICAgIHZhciBpXG5cbiAgICBpZiAodGhpcy5zY3JvbGxIZWlnaHQgIT0gc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICB0aGlzLnJlZnJlc2goKVxuICAgIH1cblxuICAgIGlmIChzY3JvbGxUb3AgPj0gbWF4U2Nyb2xsKSB7XG4gICAgICByZXR1cm4gYWN0aXZlVGFyZ2V0ICE9IChpID0gdGFyZ2V0c1t0YXJnZXRzLmxlbmd0aCAtIDFdKSAmJiB0aGlzLmFjdGl2YXRlKGkpXG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZVRhcmdldCAmJiBzY3JvbGxUb3AgPD0gb2Zmc2V0c1swXSkge1xuICAgICAgcmV0dXJuIGFjdGl2ZVRhcmdldCAhPSAoaSA9IHRhcmdldHNbMF0pICYmIHRoaXMuYWN0aXZhdGUoaSlcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXRzLmxlbmd0aDsgaS0tOykge1xuICAgICAgYWN0aXZlVGFyZ2V0ICE9IHRhcmdldHNbaV1cbiAgICAgICAgJiYgc2Nyb2xsVG9wID49IG9mZnNldHNbaV1cbiAgICAgICAgJiYgKCFvZmZzZXRzW2kgKyAxXSB8fCBzY3JvbGxUb3AgPD0gb2Zmc2V0c1tpICsgMV0pXG4gICAgICAgICYmIHRoaXMuYWN0aXZhdGUodGFyZ2V0c1tpXSlcbiAgICB9XG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHRoaXMuYWN0aXZlVGFyZ2V0ID0gdGFyZ2V0XG5cbiAgICAkKHRoaXMuc2VsZWN0b3IpXG4gICAgICAucGFyZW50c1VudGlsKHRoaXMub3B0aW9ucy50YXJnZXQsICcuYWN0aXZlJylcbiAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcblxuICAgIHZhciBzZWxlY3RvciA9IHRoaXMuc2VsZWN0b3IgK1xuICAgICAgICAnW2RhdGEtdGFyZ2V0PVwiJyArIHRhcmdldCArICdcIl0sJyArXG4gICAgICAgIHRoaXMuc2VsZWN0b3IgKyAnW2hyZWY9XCInICsgdGFyZ2V0ICsgJ1wiXSdcblxuICAgIHZhciBhY3RpdmUgPSAkKHNlbGVjdG9yKVxuICAgICAgLnBhcmVudHMoJ2xpJylcbiAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcblxuICAgIGlmIChhY3RpdmUucGFyZW50KCcuZHJvcGRvd24tbWVudScpLmxlbmd0aCkge1xuICAgICAgYWN0aXZlID0gYWN0aXZlXG4gICAgICAgIC5jbG9zZXN0KCdsaS5kcm9wZG93bicpXG4gICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICB9XG5cbiAgICBhY3RpdmUudHJpZ2dlcignYWN0aXZhdGUuYnMuc2Nyb2xsc3B5JylcbiAgfVxuXG5cbiAgLy8gU0NST0xMU1BZIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5zY3JvbGxzcHknKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnNjcm9sbHNweScsIChkYXRhID0gbmV3IFNjcm9sbFNweSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uc2Nyb2xsc3B5XG5cbiAgJC5mbi5zY3JvbGxzcHkgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5zY3JvbGxzcHkuQ29uc3RydWN0b3IgPSBTY3JvbGxTcHlcblxuXG4gIC8vIFNDUk9MTFNQWSBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnNjcm9sbHNweS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uc2Nyb2xsc3B5ID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gU0NST0xMU1BZIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICQod2luZG93KS5vbignbG9hZC5icy5zY3JvbGxzcHkuZGF0YS1hcGknLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtc3B5PVwic2Nyb2xsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHNweSA9ICQodGhpcylcbiAgICAgIFBsdWdpbi5jYWxsKCRzcHksICRzcHkuZGF0YSgpKVxuICAgIH0pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IG1vZGFsLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jbW9kYWxzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gTU9EQUwgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIE1vZGFsID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgICAgICAgID0gb3B0aW9uc1xuICAgIHRoaXMuJGJvZHkgICAgICAgICAgPSAkKGRvY3VtZW50LmJvZHkpXG4gICAgdGhpcy4kZWxlbWVudCAgICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLiRiYWNrZHJvcCAgICAgID1cbiAgICB0aGlzLmlzU2hvd24gICAgICAgID0gbnVsbFxuICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggPSAwXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnJlbW90ZSkge1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAuZmluZCgnLm1vZGFsLWNvbnRlbnQnKVxuICAgICAgICAubG9hZCh0aGlzLm9wdGlvbnMucmVtb3RlLCAkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2xvYWRlZC5icy5tb2RhbCcpXG4gICAgICAgIH0sIHRoaXMpKVxuICAgIH1cbiAgfVxuXG4gIE1vZGFsLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIE1vZGFsLkRFRkFVTFRTID0ge1xuICAgIGJhY2tkcm9wOiB0cnVlLFxuICAgIGtleWJvYXJkOiB0cnVlLFxuICAgIHNob3c6IHRydWVcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5pc1Nob3duID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3coX3JlbGF0ZWRUYXJnZXQpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIChfcmVsYXRlZFRhcmdldCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciBlICAgID0gJC5FdmVudCgnc2hvdy5icy5tb2RhbCcsIHsgcmVsYXRlZFRhcmdldDogX3JlbGF0ZWRUYXJnZXQgfSlcblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKHRoaXMuaXNTaG93biB8fCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuaXNTaG93biA9IHRydWVcblxuICAgIHRoaXMuY2hlY2tTY3JvbGxiYXIoKVxuICAgIHRoaXMuJGJvZHkuYWRkQ2xhc3MoJ21vZGFsLW9wZW4nKVxuXG4gICAgdGhpcy5zZXRTY3JvbGxiYXIoKVxuICAgIHRoaXMuZXNjYXBlKClcblxuICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnLCAnW2RhdGEtZGlzbWlzcz1cIm1vZGFsXCJdJywgJC5wcm94eSh0aGlzLmhpZGUsIHRoaXMpKVxuXG4gICAgdGhpcy5iYWNrZHJvcChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdHJhbnNpdGlvbiA9ICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoYXQuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgICBpZiAoIXRoYXQuJGVsZW1lbnQucGFyZW50KCkubGVuZ3RoKSB7XG4gICAgICAgIHRoYXQuJGVsZW1lbnQuYXBwZW5kVG8odGhhdC4kYm9keSkgLy8gZG9uJ3QgbW92ZSBtb2RhbHMgZG9tIHBvc2l0aW9uXG4gICAgICB9XG5cbiAgICAgIHRoYXQuJGVsZW1lbnRcbiAgICAgICAgLnNob3coKVxuICAgICAgICAuc2Nyb2xsVG9wKDApXG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIHRoYXQuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG4gICAgICB9XG5cbiAgICAgIHRoYXQuJGVsZW1lbnRcbiAgICAgICAgLmFkZENsYXNzKCdpbicpXG4gICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsIGZhbHNlKVxuXG4gICAgICB0aGF0LmVuZm9yY2VGb2N1cygpXG5cbiAgICAgIHZhciBlID0gJC5FdmVudCgnc2hvd24uYnMubW9kYWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IF9yZWxhdGVkVGFyZ2V0IH0pXG5cbiAgICAgIHRyYW5zaXRpb24gP1xuICAgICAgICB0aGF0LiRlbGVtZW50LmZpbmQoJy5tb2RhbC1kaWFsb2cnKSAvLyB3YWl0IGZvciBtb2RhbCB0byBzbGlkZSBpblxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKS50cmlnZ2VyKGUpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzAwKSA6XG4gICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKS50cmlnZ2VyKGUpXG4gICAgfSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBlID0gJC5FdmVudCgnaGlkZS5icy5tb2RhbCcpXG5cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgIGlmICghdGhpcy5pc1Nob3duIHx8IGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5pc1Nob3duID0gZmFsc2VcblxuICAgIHRoaXMuJGJvZHkucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW4nKVxuXG4gICAgdGhpcy5yZXNldFNjcm9sbGJhcigpXG4gICAgdGhpcy5lc2NhcGUoKVxuXG4gICAgJChkb2N1bWVudCkub2ZmKCdmb2N1c2luLmJzLm1vZGFsJylcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcygnaW4nKVxuICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSlcbiAgICAgIC5vZmYoJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnKVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eSh0aGlzLmhpZGVNb2RhbCwgdGhpcykpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzMDApIDpcbiAgICAgIHRoaXMuaGlkZU1vZGFsKClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5lbmZvcmNlRm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgJChkb2N1bWVudClcbiAgICAgIC5vZmYoJ2ZvY3VzaW4uYnMubW9kYWwnKSAvLyBndWFyZCBhZ2FpbnN0IGluZmluaXRlIGZvY3VzIGxvb3BcbiAgICAgIC5vbignZm9jdXNpbi5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuJGVsZW1lbnRbMF0gIT09IGUudGFyZ2V0ICYmICF0aGlzLiRlbGVtZW50LmhhcyhlLnRhcmdldCkubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdmb2N1cycpXG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmVzY2FwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5pc1Nob3duICYmIHRoaXMub3B0aW9ucy5rZXlib2FyZCkge1xuICAgICAgdGhpcy4kZWxlbWVudC5vbigna2V5dXAuZGlzbWlzcy5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS53aGljaCA9PSAyNyAmJiB0aGlzLmhpZGUoKVxuICAgICAgfSwgdGhpcykpXG4gICAgfSBlbHNlIGlmICghdGhpcy5pc1Nob3duKSB7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9mZigna2V5dXAuZGlzbWlzcy5icy5tb2RhbCcpXG4gICAgfVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmhpZGVNb2RhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB0aGlzLiRlbGVtZW50LmhpZGUoKVxuICAgIHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24gKCkge1xuICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdoaWRkZW4uYnMubW9kYWwnKVxuICAgIH0pXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUucmVtb3ZlQmFja2Ryb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy4kYmFja2Ryb3AgJiYgdGhpcy4kYmFja2Ryb3AucmVtb3ZlKClcbiAgICB0aGlzLiRiYWNrZHJvcCA9IG51bGxcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5iYWNrZHJvcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciBhbmltYXRlID0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID8gJ2ZhZGUnIDogJydcblxuICAgIGlmICh0aGlzLmlzU2hvd24gJiYgdGhpcy5vcHRpb25zLmJhY2tkcm9wKSB7XG4gICAgICB2YXIgZG9BbmltYXRlID0gJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgYW5pbWF0ZVxuXG4gICAgICB0aGlzLiRiYWNrZHJvcCA9ICQoJzxkaXYgY2xhc3M9XCJtb2RhbC1iYWNrZHJvcCAnICsgYW5pbWF0ZSArICdcIiAvPicpXG4gICAgICAgIC5hcHBlbmRUbyh0aGlzLiRib2R5KVxuXG4gICAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS50YXJnZXQgIT09IGUuY3VycmVudFRhcmdldCkgcmV0dXJuXG4gICAgICAgIHRoaXMub3B0aW9ucy5iYWNrZHJvcCA9PSAnc3RhdGljJ1xuICAgICAgICAgID8gdGhpcy4kZWxlbWVudFswXS5mb2N1cy5jYWxsKHRoaXMuJGVsZW1lbnRbMF0pXG4gICAgICAgICAgOiB0aGlzLmhpZGUuY2FsbCh0aGlzKVxuICAgICAgfSwgdGhpcykpXG5cbiAgICAgIGlmIChkb0FuaW1hdGUpIHRoaXMuJGJhY2tkcm9wWzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuXG4gICAgICB0aGlzLiRiYWNrZHJvcC5hZGRDbGFzcygnaW4nKVxuXG4gICAgICBpZiAoIWNhbGxiYWNrKSByZXR1cm5cblxuICAgICAgZG9BbmltYXRlID9cbiAgICAgICAgdGhpcy4kYmFja2Ryb3BcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjYWxsYmFjaylcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICAgIGNhbGxiYWNrKClcblxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTaG93biAmJiB0aGlzLiRiYWNrZHJvcCkge1xuICAgICAgdGhpcy4kYmFja2Ryb3AucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgICAgdmFyIGNhbGxiYWNrUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGF0LnJlbW92ZUJhY2tkcm9wKClcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgICAgfVxuICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICAgdGhpcy4kYmFja2Ryb3BcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjYWxsYmFja1JlbW92ZSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICAgIGNhbGxiYWNrUmVtb3ZlKClcblxuICAgIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKClcbiAgICB9XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuY2hlY2tTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggPj0gd2luZG93LmlubmVyV2lkdGgpIHJldHVyblxuICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggPSB0aGlzLnNjcm9sbGJhcldpZHRoIHx8IHRoaXMubWVhc3VyZVNjcm9sbGJhcigpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuc2V0U2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBib2R5UGFkID0gcGFyc2VJbnQoKHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JykgfHwgMCksIDEwKVxuICAgIGlmICh0aGlzLnNjcm9sbGJhcldpZHRoKSB0aGlzLiRib2R5LmNzcygncGFkZGluZy1yaWdodCcsIGJvZHlQYWQgKyB0aGlzLnNjcm9sbGJhcldpZHRoKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnJlc2V0U2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgJycpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUubWVhc3VyZVNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHsgLy8gdGh4IHdhbHNoXG4gICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgc2Nyb2xsRGl2LmNsYXNzTmFtZSA9ICdtb2RhbC1zY3JvbGxiYXItbWVhc3VyZSdcbiAgICB0aGlzLiRib2R5LmFwcGVuZChzY3JvbGxEaXYpXG4gICAgdmFyIHNjcm9sbGJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoXG4gICAgdGhpcy4kYm9keVswXS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpXG4gICAgcmV0dXJuIHNjcm9sbGJhcldpZHRoXG4gIH1cblxuXG4gIC8vIE1PREFMIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbiwgX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5tb2RhbCcpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBNb2RhbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5tb2RhbCcsIChkYXRhID0gbmV3IE1vZGFsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oX3JlbGF0ZWRUYXJnZXQpXG4gICAgICBlbHNlIGlmIChvcHRpb25zLnNob3cpIGRhdGEuc2hvdyhfcmVsYXRlZFRhcmdldClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4ubW9kYWxcblxuICAkLmZuLm1vZGFsICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4ubW9kYWwuQ29uc3RydWN0b3IgPSBNb2RhbFxuXG5cbiAgLy8gTU9EQUwgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLm1vZGFsLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5tb2RhbCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIE1PREFMIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLm1vZGFsLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cIm1vZGFsXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgaHJlZiAgICA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgIHZhciAkdGFyZ2V0ID0gJCgkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpIHx8IChocmVmICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpKSkgLy8gc3RyaXAgZm9yIGllN1xuICAgIHZhciBvcHRpb24gID0gJHRhcmdldC5kYXRhKCdicy5tb2RhbCcpID8gJ3RvZ2dsZScgOiAkLmV4dGVuZCh7IHJlbW90ZTogIS8jLy50ZXN0KGhyZWYpICYmIGhyZWYgfSwgJHRhcmdldC5kYXRhKCksICR0aGlzLmRhdGEoKSlcblxuICAgIGlmICgkdGhpcy5pcygnYScpKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICR0YXJnZXQub25lKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKHNob3dFdmVudCkge1xuICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuIC8vIG9ubHkgcmVnaXN0ZXIgZm9jdXMgcmVzdG9yZXIgaWYgbW9kYWwgd2lsbCBhY3R1YWxseSBnZXQgc2hvd25cbiAgICAgICR0YXJnZXQub25lKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICR0aGlzLmlzKCc6dmlzaWJsZScpICYmICR0aGlzLnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgIH0pXG4gICAgfSlcbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb24sIHRoaXMpXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHRvb2x0aXAuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0b29sdGlwXG4gKiBJbnNwaXJlZCBieSB0aGUgb3JpZ2luYWwgalF1ZXJ5LnRpcHN5IGJ5IEphc29uIEZyYW1lXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gVE9PTFRJUCBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIFRvb2x0aXAgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMudHlwZSAgICAgICA9XG4gICAgdGhpcy5vcHRpb25zICAgID1cbiAgICB0aGlzLmVuYWJsZWQgICAgPVxuICAgIHRoaXMudGltZW91dCAgICA9XG4gICAgdGhpcy5ob3ZlclN0YXRlID1cbiAgICB0aGlzLiRlbGVtZW50ICAgPSBudWxsXG5cbiAgICB0aGlzLmluaXQoJ3Rvb2x0aXAnLCBlbGVtZW50LCBvcHRpb25zKVxuICB9XG5cbiAgVG9vbHRpcC5WRVJTSU9OICA9ICczLjIuMCdcblxuICBUb29sdGlwLkRFRkFVTFRTID0ge1xuICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuICAgIHNlbGVjdG9yOiBmYWxzZSxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJ0b29sdGlwXCIgcm9sZT1cInRvb2x0aXBcIj48ZGl2IGNsYXNzPVwidG9vbHRpcC1hcnJvd1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJ0b29sdGlwLWlubmVyXCI+PC9kaXY+PC9kaXY+JyxcbiAgICB0cmlnZ2VyOiAnaG92ZXIgZm9jdXMnLFxuICAgIHRpdGxlOiAnJyxcbiAgICBkZWxheTogMCxcbiAgICBodG1sOiBmYWxzZSxcbiAgICBjb250YWluZXI6IGZhbHNlLFxuICAgIHZpZXdwb3J0OiB7XG4gICAgICBzZWxlY3RvcjogJ2JvZHknLFxuICAgICAgcGFkZGluZzogMFxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAodHlwZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuZW5hYmxlZCAgID0gdHJ1ZVxuICAgIHRoaXMudHlwZSAgICAgID0gdHlwZVxuICAgIHRoaXMuJGVsZW1lbnQgID0gJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgID0gdGhpcy5nZXRPcHRpb25zKG9wdGlvbnMpXG4gICAgdGhpcy4kdmlld3BvcnQgPSB0aGlzLm9wdGlvbnMudmlld3BvcnQgJiYgJCh0aGlzLm9wdGlvbnMudmlld3BvcnQuc2VsZWN0b3IgfHwgdGhpcy5vcHRpb25zLnZpZXdwb3J0KVxuXG4gICAgdmFyIHRyaWdnZXJzID0gdGhpcy5vcHRpb25zLnRyaWdnZXIuc3BsaXQoJyAnKVxuXG4gICAgZm9yICh2YXIgaSA9IHRyaWdnZXJzLmxlbmd0aDsgaS0tOykge1xuICAgICAgdmFyIHRyaWdnZXIgPSB0cmlnZ2Vyc1tpXVxuXG4gICAgICBpZiAodHJpZ2dlciA9PSAnY2xpY2snKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLnRvZ2dsZSwgdGhpcykpXG4gICAgICB9IGVsc2UgaWYgKHRyaWdnZXIgIT0gJ21hbnVhbCcpIHtcbiAgICAgICAgdmFyIGV2ZW50SW4gID0gdHJpZ2dlciA9PSAnaG92ZXInID8gJ21vdXNlZW50ZXInIDogJ2ZvY3VzaW4nXG4gICAgICAgIHZhciBldmVudE91dCA9IHRyaWdnZXIgPT0gJ2hvdmVyJyA/ICdtb3VzZWxlYXZlJyA6ICdmb2N1c291dCdcblxuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKGV2ZW50SW4gICsgJy4nICsgdGhpcy50eXBlLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy5lbnRlciwgdGhpcykpXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oZXZlbnRPdXQgKyAnLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLmxlYXZlLCB0aGlzKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMuc2VsZWN0b3IgP1xuICAgICAgKHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCB7IHRyaWdnZXI6ICdtYW51YWwnLCBzZWxlY3RvcjogJycgfSkpIDpcbiAgICAgIHRoaXMuZml4VGl0bGUoKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFRvb2x0aXAuREVGQVVMVFNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5nZXREZWZhdWx0cygpLCB0aGlzLiRlbGVtZW50LmRhdGEoKSwgb3B0aW9ucylcblxuICAgIGlmIChvcHRpb25zLmRlbGF5ICYmIHR5cGVvZiBvcHRpb25zLmRlbGF5ID09ICdudW1iZXInKSB7XG4gICAgICBvcHRpb25zLmRlbGF5ID0ge1xuICAgICAgICBzaG93OiBvcHRpb25zLmRlbGF5LFxuICAgICAgICBoaWRlOiBvcHRpb25zLmRlbGF5XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9wdGlvbnNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldERlbGVnYXRlT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb3B0aW9ucyAgPSB7fVxuICAgIHZhciBkZWZhdWx0cyA9IHRoaXMuZ2V0RGVmYXVsdHMoKVxuXG4gICAgdGhpcy5fb3B0aW9ucyAmJiAkLmVhY2godGhpcy5fb3B0aW9ucywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChkZWZhdWx0c1trZXldICE9IHZhbHVlKSBvcHRpb25zW2tleV0gPSB2YWx1ZVxuICAgIH0pXG5cbiAgICByZXR1cm4gb3B0aW9uc1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZW50ZXIgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIHNlbGYgPSBvYmogaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yID9cbiAgICAgIG9iaiA6ICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAoIXNlbGYpIHtcbiAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihvYmouY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcbiAgICAgICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHNlbGYpXG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dClcblxuICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdpbidcblxuICAgIGlmICghc2VsZi5vcHRpb25zLmRlbGF5IHx8ICFzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdykgcmV0dXJuIHNlbGYuc2hvdygpXG5cbiAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZWxmLmhvdmVyU3RhdGUgPT0gJ2luJykgc2VsZi5zaG93KClcbiAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmxlYXZlID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBzZWxmID0gb2JqIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvciA/XG4gICAgICBvYmogOiAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuXG4gICAgaWYgKCFzZWxmKSB7XG4gICAgICBzZWxmID0gbmV3IHRoaXMuY29uc3RydWN0b3Iob2JqLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgIH1cblxuICAgIGNsZWFyVGltZW91dChzZWxmLnRpbWVvdXQpXG5cbiAgICBzZWxmLmhvdmVyU3RhdGUgPSAnb3V0J1xuXG4gICAgaWYgKCFzZWxmLm9wdGlvbnMuZGVsYXkgfHwgIXNlbGYub3B0aW9ucy5kZWxheS5oaWRlKSByZXR1cm4gc2VsZi5oaWRlKClcblxuICAgIHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNlbGYuaG92ZXJTdGF0ZSA9PSAnb3V0Jykgc2VsZi5oaWRlKClcbiAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuaGlkZSlcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGUgPSAkLkV2ZW50KCdzaG93LmJzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAodGhpcy5oYXNDb250ZW50KCkgJiYgdGhpcy5lbmFibGVkKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgICAgdmFyIGluRG9tID0gJC5jb250YWlucyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHRoaXMuJGVsZW1lbnRbMF0pXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAhaW5Eb20pIHJldHVyblxuICAgICAgdmFyIHRoYXQgPSB0aGlzXG5cbiAgICAgIHZhciAkdGlwID0gdGhpcy50aXAoKVxuXG4gICAgICB2YXIgdGlwSWQgPSB0aGlzLmdldFVJRCh0aGlzLnR5cGUpXG5cbiAgICAgIHRoaXMuc2V0Q29udGVudCgpXG4gICAgICAkdGlwLmF0dHIoJ2lkJywgdGlwSWQpXG4gICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknLCB0aXBJZClcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pICR0aXAuYWRkQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgICB2YXIgcGxhY2VtZW50ID0gdHlwZW9mIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQgPT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQuY2FsbCh0aGlzLCAkdGlwWzBdLCB0aGlzLiRlbGVtZW50WzBdKSA6XG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnRcblxuICAgICAgdmFyIGF1dG9Ub2tlbiA9IC9cXHM/YXV0bz9cXHM/L2lcbiAgICAgIHZhciBhdXRvUGxhY2UgPSBhdXRvVG9rZW4udGVzdChwbGFjZW1lbnQpXG4gICAgICBpZiAoYXV0b1BsYWNlKSBwbGFjZW1lbnQgPSBwbGFjZW1lbnQucmVwbGFjZShhdXRvVG9rZW4sICcnKSB8fCAndG9wJ1xuXG4gICAgICAkdGlwXG4gICAgICAgIC5kZXRhY2goKVxuICAgICAgICAuY3NzKHsgdG9wOiAwLCBsZWZ0OiAwLCBkaXNwbGF5OiAnYmxvY2snIH0pXG4gICAgICAgIC5hZGRDbGFzcyhwbGFjZW1lbnQpXG4gICAgICAgIC5kYXRhKCdicy4nICsgdGhpcy50eXBlLCB0aGlzKVxuXG4gICAgICB0aGlzLm9wdGlvbnMuY29udGFpbmVyID8gJHRpcC5hcHBlbmRUbyh0aGlzLm9wdGlvbnMuY29udGFpbmVyKSA6ICR0aXAuaW5zZXJ0QWZ0ZXIodGhpcy4kZWxlbWVudClcblxuICAgICAgdmFyIHBvcyAgICAgICAgICA9IHRoaXMuZ2V0UG9zaXRpb24oKVxuICAgICAgdmFyIGFjdHVhbFdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcbiAgICAgIHZhciBhY3R1YWxIZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgICBpZiAoYXV0b1BsYWNlKSB7XG4gICAgICAgIHZhciBvcmdQbGFjZW1lbnQgPSBwbGFjZW1lbnRcbiAgICAgICAgdmFyICRwYXJlbnQgICAgICA9IHRoaXMuJGVsZW1lbnQucGFyZW50KClcbiAgICAgICAgdmFyIHBhcmVudERpbSAgICA9IHRoaXMuZ2V0UG9zaXRpb24oJHBhcmVudClcblxuICAgICAgICBwbGFjZW1lbnQgPSBwbGFjZW1lbnQgPT0gJ2JvdHRvbScgJiYgcG9zLnRvcCAgICsgcG9zLmhlaWdodCAgICAgICArIGFjdHVhbEhlaWdodCAtIHBhcmVudERpbS5zY3JvbGwgPiBwYXJlbnREaW0uaGVpZ2h0ID8gJ3RvcCcgICAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3RvcCcgICAgJiYgcG9zLnRvcCAgIC0gcGFyZW50RGltLnNjcm9sbCAtIGFjdHVhbEhlaWdodCA8IDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JvdHRvbScgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3JpZ2h0JyAgJiYgcG9zLnJpZ2h0ICsgYWN0dWFsV2lkdGggICAgICA+IHBhcmVudERpbS53aWR0aCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2xlZnQnICAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ2xlZnQnICAgJiYgcG9zLmxlZnQgIC0gYWN0dWFsV2lkdGggICAgICA8IHBhcmVudERpbS5sZWZ0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3JpZ2h0JyAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnRcblxuICAgICAgICAkdGlwXG4gICAgICAgICAgLnJlbW92ZUNsYXNzKG9yZ1BsYWNlbWVudClcbiAgICAgICAgICAuYWRkQ2xhc3MocGxhY2VtZW50KVxuICAgICAgfVxuXG4gICAgICB2YXIgY2FsY3VsYXRlZE9mZnNldCA9IHRoaXMuZ2V0Q2FsY3VsYXRlZE9mZnNldChwbGFjZW1lbnQsIHBvcywgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodClcblxuICAgICAgdGhpcy5hcHBseVBsYWNlbWVudChjYWxjdWxhdGVkT2Zmc2V0LCBwbGFjZW1lbnQpXG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdzaG93bi5icy4nICsgdGhhdC50eXBlKVxuICAgICAgICB0aGF0LmhvdmVyU3RhdGUgPSBudWxsXG4gICAgICB9XG5cbiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJHRpcC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICAgJHRpcFxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNvbXBsZXRlKVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApIDpcbiAgICAgICAgY29tcGxldGUoKVxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmFwcGx5UGxhY2VtZW50ID0gZnVuY3Rpb24gKG9mZnNldCwgcGxhY2VtZW50KSB7XG4gICAgdmFyICR0aXAgICA9IHRoaXMudGlwKClcbiAgICB2YXIgd2lkdGggID0gJHRpcFswXS5vZmZzZXRXaWR0aFxuICAgIHZhciBoZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgLy8gbWFudWFsbHkgcmVhZCBtYXJnaW5zIGJlY2F1c2UgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGluY2x1ZGVzIGRpZmZlcmVuY2VcbiAgICB2YXIgbWFyZ2luVG9wID0gcGFyc2VJbnQoJHRpcC5jc3MoJ21hcmdpbi10b3AnKSwgMTApXG4gICAgdmFyIG1hcmdpbkxlZnQgPSBwYXJzZUludCgkdGlwLmNzcygnbWFyZ2luLWxlZnQnKSwgMTApXG5cbiAgICAvLyB3ZSBtdXN0IGNoZWNrIGZvciBOYU4gZm9yIGllIDgvOVxuICAgIGlmIChpc05hTihtYXJnaW5Ub3ApKSAgbWFyZ2luVG9wICA9IDBcbiAgICBpZiAoaXNOYU4obWFyZ2luTGVmdCkpIG1hcmdpbkxlZnQgPSAwXG5cbiAgICBvZmZzZXQudG9wICA9IG9mZnNldC50b3AgICsgbWFyZ2luVG9wXG4gICAgb2Zmc2V0LmxlZnQgPSBvZmZzZXQubGVmdCArIG1hcmdpbkxlZnRcblxuICAgIC8vICQuZm4ub2Zmc2V0IGRvZXNuJ3Qgcm91bmQgcGl4ZWwgdmFsdWVzXG4gICAgLy8gc28gd2UgdXNlIHNldE9mZnNldCBkaXJlY3RseSB3aXRoIG91ciBvd24gZnVuY3Rpb24gQi0wXG4gICAgJC5vZmZzZXQuc2V0T2Zmc2V0KCR0aXBbMF0sICQuZXh0ZW5kKHtcbiAgICAgIHVzaW5nOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgJHRpcC5jc3Moe1xuICAgICAgICAgIHRvcDogTWF0aC5yb3VuZChwcm9wcy50b3ApLFxuICAgICAgICAgIGxlZnQ6IE1hdGgucm91bmQocHJvcHMubGVmdClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LCBvZmZzZXQpLCAwKVxuXG4gICAgJHRpcC5hZGRDbGFzcygnaW4nKVxuXG4gICAgLy8gY2hlY2sgdG8gc2VlIGlmIHBsYWNpbmcgdGlwIGluIG5ldyBvZmZzZXQgY2F1c2VkIHRoZSB0aXAgdG8gcmVzaXplIGl0c2VsZlxuICAgIHZhciBhY3R1YWxXaWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgdmFyIGFjdHVhbEhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICBpZiAocGxhY2VtZW50ID09ICd0b3AnICYmIGFjdHVhbEhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgIG9mZnNldC50b3AgPSBvZmZzZXQudG9wICsgaGVpZ2h0IC0gYWN0dWFsSGVpZ2h0XG4gICAgfVxuXG4gICAgdmFyIGRlbHRhID0gdGhpcy5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEocGxhY2VtZW50LCBvZmZzZXQsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpXG5cbiAgICBpZiAoZGVsdGEubGVmdCkgb2Zmc2V0LmxlZnQgKz0gZGVsdGEubGVmdFxuICAgIGVsc2Ugb2Zmc2V0LnRvcCArPSBkZWx0YS50b3BcblxuICAgIHZhciBhcnJvd0RlbHRhICAgICAgICAgID0gZGVsdGEubGVmdCA/IGRlbHRhLmxlZnQgKiAyIC0gd2lkdGggKyBhY3R1YWxXaWR0aCA6IGRlbHRhLnRvcCAqIDIgLSBoZWlnaHQgKyBhY3R1YWxIZWlnaHRcbiAgICB2YXIgYXJyb3dQb3NpdGlvbiAgICAgICA9IGRlbHRhLmxlZnQgPyAnbGVmdCcgICAgICAgIDogJ3RvcCdcbiAgICB2YXIgYXJyb3dPZmZzZXRQb3NpdGlvbiA9IGRlbHRhLmxlZnQgPyAnb2Zmc2V0V2lkdGgnIDogJ29mZnNldEhlaWdodCdcblxuICAgICR0aXAub2Zmc2V0KG9mZnNldClcbiAgICB0aGlzLnJlcGxhY2VBcnJvdyhhcnJvd0RlbHRhLCAkdGlwWzBdW2Fycm93T2Zmc2V0UG9zaXRpb25dLCBhcnJvd1Bvc2l0aW9uKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUucmVwbGFjZUFycm93ID0gZnVuY3Rpb24gKGRlbHRhLCBkaW1lbnNpb24sIHBvc2l0aW9uKSB7XG4gICAgdGhpcy5hcnJvdygpLmNzcyhwb3NpdGlvbiwgZGVsdGEgPyAoNTAgKiAoMSAtIGRlbHRhIC8gZGltZW5zaW9uKSArICclJykgOiAnJylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aXAgID0gdGhpcy50aXAoKVxuICAgIHZhciB0aXRsZSA9IHRoaXMuZ2V0VGl0bGUoKVxuXG4gICAgJHRpcC5maW5kKCcudG9vbHRpcC1pbm5lcicpW3RoaXMub3B0aW9ucy5odG1sID8gJ2h0bWwnIDogJ3RleHQnXSh0aXRsZSlcbiAgICAkdGlwLnJlbW92ZUNsYXNzKCdmYWRlIGluIHRvcCBib3R0b20gbGVmdCByaWdodCcpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciAkdGlwID0gdGhpcy50aXAoKVxuICAgIHZhciBlICAgID0gJC5FdmVudCgnaGlkZS5icy4nICsgdGhpcy50eXBlKVxuXG4gICAgdGhpcy4kZWxlbWVudC5yZW1vdmVBdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JylcblxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgaWYgKHRoYXQuaG92ZXJTdGF0ZSAhPSAnaW4nKSAkdGlwLmRldGFjaCgpXG4gICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2hpZGRlbi5icy4nICsgdGhhdC50eXBlKVxuICAgIH1cblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kdGlwLmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgJHRpcFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjb21wbGV0ZSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxuICAgICAgY29tcGxldGUoKVxuXG4gICAgdGhpcy5ob3ZlclN0YXRlID0gbnVsbFxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmZpeFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICBpZiAoJGUuYXR0cigndGl0bGUnKSB8fCB0eXBlb2YgKCRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKSkgIT0gJ3N0cmluZycpIHtcbiAgICAgICRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCAkZS5hdHRyKCd0aXRsZScpIHx8ICcnKS5hdHRyKCd0aXRsZScsICcnKVxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmhhc0NvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGl0bGUoKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoJGVsZW1lbnQpIHtcbiAgICAkZWxlbWVudCAgID0gJGVsZW1lbnQgfHwgdGhpcy4kZWxlbWVudFxuICAgIHZhciBlbCAgICAgPSAkZWxlbWVudFswXVxuICAgIHZhciBpc0JvZHkgPSBlbC50YWdOYW1lID09ICdCT0RZJ1xuICAgIHJldHVybiAkLmV4dGVuZCh7fSwgKHR5cGVvZiBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgPT0gJ2Z1bmN0aW9uJykgPyBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IG51bGwsIHtcbiAgICAgIHNjcm9sbDogaXNCb2R5ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA6ICRlbGVtZW50LnNjcm9sbFRvcCgpLFxuICAgICAgd2lkdGg6ICBpc0JvZHkgPyAkKHdpbmRvdykud2lkdGgoKSAgOiAkZWxlbWVudC5vdXRlcldpZHRoKCksXG4gICAgICBoZWlnaHQ6IGlzQm9keSA/ICQod2luZG93KS5oZWlnaHQoKSA6ICRlbGVtZW50Lm91dGVySGVpZ2h0KClcbiAgICB9LCBpc0JvZHkgPyB7IHRvcDogMCwgbGVmdDogMCB9IDogJGVsZW1lbnQub2Zmc2V0KCkpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRDYWxjdWxhdGVkT2Zmc2V0ID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KSB7XG4gICAgcmV0dXJuIHBsYWNlbWVudCA9PSAnYm90dG9tJyA/IHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCwgICBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAvIDIgLSBhY3R1YWxXaWR0aCAvIDIgIH0gOlxuICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3RvcCcgICAgPyB7IHRvcDogcG9zLnRvcCAtIGFjdHVhbEhlaWdodCwgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggLyAyIC0gYWN0dWFsV2lkdGggLyAyICB9IDpcbiAgICAgICAgICAgcGxhY2VtZW50ID09ICdsZWZ0JyAgID8geyB0b3A6IHBvcy50b3AgKyBwb3MuaGVpZ2h0IC8gMiAtIGFjdHVhbEhlaWdodCAvIDIsIGxlZnQ6IHBvcy5sZWZ0IC0gYWN0dWFsV2lkdGggfSA6XG4gICAgICAgIC8qIHBsYWNlbWVudCA9PSAncmlnaHQnICovIHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCAvIDIgLSBhY3R1YWxIZWlnaHQgLyAyLCBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAgIH1cblxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KSB7XG4gICAgdmFyIGRlbHRhID0geyB0b3A6IDAsIGxlZnQ6IDAgfVxuICAgIGlmICghdGhpcy4kdmlld3BvcnQpIHJldHVybiBkZWx0YVxuXG4gICAgdmFyIHZpZXdwb3J0UGFkZGluZyA9IHRoaXMub3B0aW9ucy52aWV3cG9ydCAmJiB0aGlzLm9wdGlvbnMudmlld3BvcnQucGFkZGluZyB8fCAwXG4gICAgdmFyIHZpZXdwb3J0RGltZW5zaW9ucyA9IHRoaXMuZ2V0UG9zaXRpb24odGhpcy4kdmlld3BvcnQpXG5cbiAgICBpZiAoL3JpZ2h0fGxlZnQvLnRlc3QocGxhY2VtZW50KSkge1xuICAgICAgdmFyIHRvcEVkZ2VPZmZzZXQgICAgPSBwb3MudG9wIC0gdmlld3BvcnRQYWRkaW5nIC0gdmlld3BvcnREaW1lbnNpb25zLnNjcm9sbFxuICAgICAgdmFyIGJvdHRvbUVkZ2VPZmZzZXQgPSBwb3MudG9wICsgdmlld3BvcnRQYWRkaW5nIC0gdmlld3BvcnREaW1lbnNpb25zLnNjcm9sbCArIGFjdHVhbEhlaWdodFxuICAgICAgaWYgKHRvcEVkZ2VPZmZzZXQgPCB2aWV3cG9ydERpbWVuc2lvbnMudG9wKSB7IC8vIHRvcCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS50b3AgPSB2aWV3cG9ydERpbWVuc2lvbnMudG9wIC0gdG9wRWRnZU9mZnNldFxuICAgICAgfSBlbHNlIGlmIChib3R0b21FZGdlT2Zmc2V0ID4gdmlld3BvcnREaW1lbnNpb25zLnRvcCArIHZpZXdwb3J0RGltZW5zaW9ucy5oZWlnaHQpIHsgLy8gYm90dG9tIG92ZXJmbG93XG4gICAgICAgIGRlbHRhLnRvcCA9IHZpZXdwb3J0RGltZW5zaW9ucy50b3AgKyB2aWV3cG9ydERpbWVuc2lvbnMuaGVpZ2h0IC0gYm90dG9tRWRnZU9mZnNldFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbGVmdEVkZ2VPZmZzZXQgID0gcG9zLmxlZnQgLSB2aWV3cG9ydFBhZGRpbmdcbiAgICAgIHZhciByaWdodEVkZ2VPZmZzZXQgPSBwb3MubGVmdCArIHZpZXdwb3J0UGFkZGluZyArIGFjdHVhbFdpZHRoXG4gICAgICBpZiAobGVmdEVkZ2VPZmZzZXQgPCB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCkgeyAvLyBsZWZ0IG92ZXJmbG93XG4gICAgICAgIGRlbHRhLmxlZnQgPSB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCAtIGxlZnRFZGdlT2Zmc2V0XG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0RWRnZU9mZnNldCA+IHZpZXdwb3J0RGltZW5zaW9ucy53aWR0aCkgeyAvLyByaWdodCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS5sZWZ0ID0gdmlld3BvcnREaW1lbnNpb25zLmxlZnQgKyB2aWV3cG9ydERpbWVuc2lvbnMud2lkdGggLSByaWdodEVkZ2VPZmZzZXRcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVsdGFcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aXRsZVxuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICB2YXIgbyAgPSB0aGlzLm9wdGlvbnNcblxuICAgIHRpdGxlID0gJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScpXG4gICAgICB8fCAodHlwZW9mIG8udGl0bGUgPT0gJ2Z1bmN0aW9uJyA/IG8udGl0bGUuY2FsbCgkZVswXSkgOiAgby50aXRsZSlcblxuICAgIHJldHVybiB0aXRsZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0VUlEID0gZnVuY3Rpb24gKHByZWZpeCkge1xuICAgIGRvIHByZWZpeCArPSB+fihNYXRoLnJhbmRvbSgpICogMTAwMDAwMClcbiAgICB3aGlsZSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJlZml4KSlcbiAgICByZXR1cm4gcHJlZml4XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS50aXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLiR0aXAgPSB0aGlzLiR0aXAgfHwgJCh0aGlzLm9wdGlvbnMudGVtcGxhdGUpKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuYXJyb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLiRhcnJvdyA9IHRoaXMuJGFycm93IHx8IHRoaXMudGlwKCkuZmluZCgnLnRvb2x0aXAtYXJyb3cnKSlcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy4kZWxlbWVudFswXS5wYXJlbnROb2RlKSB7XG4gICAgICB0aGlzLmhpZGUoKVxuICAgICAgdGhpcy4kZWxlbWVudCA9IG51bGxcbiAgICAgIHRoaXMub3B0aW9ucyAgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWVcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2VcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZUVuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gIXRoaXMuZW5hYmxlZFxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICBpZiAoZSkge1xuICAgICAgc2VsZiA9ICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuICAgICAgaWYgKCFzZWxmKSB7XG4gICAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihlLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAgICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgICAgfVxuICAgIH1cblxuICAgIHNlbGYudGlwKCkuaGFzQ2xhc3MoJ2luJykgPyBzZWxmLmxlYXZlKHNlbGYpIDogc2VsZi5lbnRlcihzZWxmKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KVxuICAgIHRoaXMuaGlkZSgpLiRlbGVtZW50Lm9mZignLicgKyB0aGlzLnR5cGUpLnJlbW92ZURhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG4gIH1cblxuXG4gIC8vIFRPT0xUSVAgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy50b29sdGlwJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbiA9PSAnZGVzdHJveScpIHJldHVyblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy50b29sdGlwJywgKGRhdGEgPSBuZXcgVG9vbHRpcCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4udG9vbHRpcFxuXG4gICQuZm4udG9vbHRpcCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IgPSBUb29sdGlwXG5cblxuICAvLyBUT09MVElQIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnRvb2x0aXAubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnRvb2x0aXAgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHBvcG92ZXIuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNwb3BvdmVyc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFBPUE9WRVIgUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBQb3BvdmVyID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmluaXQoJ3BvcG92ZXInLCBlbGVtZW50LCBvcHRpb25zKVxuICB9XG5cbiAgaWYgKCEkLmZuLnRvb2x0aXApIHRocm93IG5ldyBFcnJvcignUG9wb3ZlciByZXF1aXJlcyB0b29sdGlwLmpzJylcblxuICBQb3BvdmVyLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIFBvcG92ZXIuREVGQVVMVFMgPSAkLmV4dGVuZCh7fSwgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLkRFRkFVTFRTLCB7XG4gICAgcGxhY2VtZW50OiAncmlnaHQnLFxuICAgIHRyaWdnZXI6ICdjbGljaycsXG4gICAgY29udGVudDogJycsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwicG9wb3ZlclwiIHJvbGU9XCJ0b29sdGlwXCI+PGRpdiBjbGFzcz1cImFycm93XCI+PC9kaXY+PGgzIGNsYXNzPVwicG9wb3Zlci10aXRsZVwiPjwvaDM+PGRpdiBjbGFzcz1cInBvcG92ZXItY29udGVudFwiPjwvZGl2PjwvZGl2PidcbiAgfSlcblxuXG4gIC8vIE5PVEU6IFBPUE9WRVIgRVhURU5EUyB0b29sdGlwLmpzXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUgPSAkLmV4dGVuZCh7fSwgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLnByb3RvdHlwZSlcblxuICBQb3BvdmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBvcG92ZXJcblxuICBQb3BvdmVyLnByb3RvdHlwZS5nZXREZWZhdWx0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gUG9wb3Zlci5ERUZBVUxUU1xuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRpcCAgICA9IHRoaXMudGlwKClcbiAgICB2YXIgdGl0bGUgICA9IHRoaXMuZ2V0VGl0bGUoKVxuICAgIHZhciBjb250ZW50ID0gdGhpcy5nZXRDb250ZW50KClcblxuICAgICR0aXAuZmluZCgnLnBvcG92ZXItdGl0bGUnKVt0aGlzLm9wdGlvbnMuaHRtbCA/ICdodG1sJyA6ICd0ZXh0J10odGl0bGUpXG4gICAgJHRpcC5maW5kKCcucG9wb3Zlci1jb250ZW50JykuZW1wdHkoKVsgLy8gd2UgdXNlIGFwcGVuZCBmb3IgaHRtbCBvYmplY3RzIHRvIG1haW50YWluIGpzIGV2ZW50c1xuICAgICAgdGhpcy5vcHRpb25zLmh0bWwgPyAodHlwZW9mIGNvbnRlbnQgPT0gJ3N0cmluZycgPyAnaHRtbCcgOiAnYXBwZW5kJykgOiAndGV4dCdcbiAgICBdKGNvbnRlbnQpXG5cbiAgICAkdGlwLnJlbW92ZUNsYXNzKCdmYWRlIHRvcCBib3R0b20gbGVmdCByaWdodCBpbicpXG5cbiAgICAvLyBJRTggZG9lc24ndCBhY2NlcHQgaGlkaW5nIHZpYSB0aGUgYDplbXB0eWAgcHNldWRvIHNlbGVjdG9yLCB3ZSBoYXZlIHRvIGRvXG4gICAgLy8gdGhpcyBtYW51YWxseSBieSBjaGVja2luZyB0aGUgY29udGVudHMuXG4gICAgaWYgKCEkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJykuaHRtbCgpKSAkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJykuaGlkZSgpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5oYXNDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdldFRpdGxlKCkgfHwgdGhpcy5nZXRDb250ZW50KClcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmdldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRlID0gdGhpcy4kZWxlbWVudFxuICAgIHZhciBvICA9IHRoaXMub3B0aW9uc1xuXG4gICAgcmV0dXJuICRlLmF0dHIoJ2RhdGEtY29udGVudCcpXG4gICAgICB8fCAodHlwZW9mIG8uY29udGVudCA9PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgIG8uY29udGVudC5jYWxsKCRlWzBdKSA6XG4gICAgICAgICAgICBvLmNvbnRlbnQpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5hcnJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuJGFycm93ID0gdGhpcy4kYXJyb3cgfHwgdGhpcy50aXAoKS5maW5kKCcuYXJyb3cnKSlcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLnRpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuJHRpcCkgdGhpcy4kdGlwID0gJCh0aGlzLm9wdGlvbnMudGVtcGxhdGUpXG4gICAgcmV0dXJuIHRoaXMuJHRpcFxuICB9XG5cblxuICAvLyBQT1BPVkVSIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMucG9wb3ZlcicpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSAmJiBvcHRpb24gPT0gJ2Rlc3Ryb3knKSByZXR1cm5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMucG9wb3ZlcicsIChkYXRhID0gbmV3IFBvcG92ZXIodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnBvcG92ZXJcblxuICAkLmZuLnBvcG92ZXIgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5wb3BvdmVyLkNvbnN0cnVjdG9yID0gUG9wb3ZlclxuXG5cbiAgLy8gUE9QT1ZFUiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5wb3BvdmVyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5wb3BvdmVyID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG59KGpRdWVyeSk7XG5cblxuLypcbiAqIGFuZ3VsYXItdWktYm9vdHN0cmFwXG4gKiBodHRwOi8vYW5ndWxhci11aS5naXRodWIuaW8vYm9vdHN0cmFwL1xuXG4gKiBWZXJzaW9uOiAwLjEzLjEtU05BUFNIT1QgLSAyMDE1LTA3LTIzXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuYW5ndWxhci5tb2R1bGUoXCJ1aS5ib290c3RyYXBcIiwgW1widWkuYm9vdHN0cmFwLnRwbHNcIiwgXCJ1aS5ib290c3RyYXAuY29sbGFwc2VcIixcInVpLmJvb3RzdHJhcC5hY2NvcmRpb25cIixcInVpLmJvb3RzdHJhcC5hbGVydFwiLFwidWkuYm9vdHN0cmFwLmJpbmRIdG1sXCIsXCJ1aS5ib290c3RyYXAuYnV0dG9uc1wiLFwidWkuYm9vdHN0cmFwLmNhcm91c2VsXCIsXCJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlclwiLFwidWkuYm9vdHN0cmFwLnBvc2l0aW9uXCIsXCJ1aS5ib290c3RyYXAuZGF0ZXBpY2tlclwiLFwidWkuYm9vdHN0cmFwLmRyb3Bkb3duXCIsXCJ1aS5ib290c3RyYXAubW9kYWxcIixcInVpLmJvb3RzdHJhcC5wYWdpbmF0aW9uXCIsXCJ1aS5ib290c3RyYXAudG9vbHRpcFwiLFwidWkuYm9vdHN0cmFwLnBvcG92ZXJcIixcInVpLmJvb3RzdHJhcC5wcm9ncmVzc2JhclwiLFwidWkuYm9vdHN0cmFwLnJhdGluZ1wiLFwidWkuYm9vdHN0cmFwLnRhYnNcIixcInVpLmJvb3RzdHJhcC50aW1lcGlja2VyXCIsXCJ1aS5ib290c3RyYXAudHJhbnNpdGlvblwiLFwidWkuYm9vdHN0cmFwLnR5cGVhaGVhZFwiXSk7XG5hbmd1bGFyLm1vZHVsZShcInVpLmJvb3RzdHJhcC50cGxzXCIsIFtcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbFwiLFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sXCIsXCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sXCIsXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sXCIsXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIixcInRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sXCIsXCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sXCIsXCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbFwiLFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sXCIsXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbFwiLFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtcG9wdXAuaHRtbFwiLFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWxcIixcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sXCIsXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtdGVtcGxhdGUtcG9wdXAuaHRtbFwiLFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLXRlbXBsYXRlLmh0bWxcIixcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sXCIsXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbFwiLFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbFwiLFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbFwiLFwidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sXCIsXCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sXCIsXCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sXCIsXCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbFwiLFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sXCIsXCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWxcIl0pO1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5jb2xsYXBzZScsIFtdKVxuXG4gIC5kaXJlY3RpdmUoJ2NvbGxhcHNlJywgWyckYW5pbWF0ZScsIGZ1bmN0aW9uICgkYW5pbWF0ZSkge1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgZnVuY3Rpb24gZXhwYW5kKCkge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCBmYWxzZSk7XG5cbiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCAnaW4nLCB7XG4gICAgICAgICAgICB0bzogeyBoZWlnaHQ6IGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0ICsgJ3B4JyB9XG4gICAgICAgICAgfSkudGhlbihleHBhbmREb25lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGV4cGFuZERvbmUoKSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpO1xuICAgICAgICAgIGVsZW1lbnQuY3NzKHtoZWlnaHQ6ICdhdXRvJ30pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY29sbGFwc2UoKSB7XG4gICAgICAgICAgaWYoISBlbGVtZW50Lmhhc0NsYXNzKCdjb2xsYXBzZScpICYmICEgZWxlbWVudC5oYXNDbGFzcygnaW4nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbGxhcHNlRG9uZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIC8vIElNUE9SVEFOVDogVGhlIGhlaWdodCBtdXN0IGJlIHNldCBiZWZvcmUgYWRkaW5nIFwiY29sbGFwc2luZ1wiIGNsYXNzLlxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB0aGUgYnJvd3NlciBhdHRlbXB0cyB0byBhbmltYXRlIGZyb20gaGVpZ2h0IDAgKGluXG4gICAgICAgICAgICAvLyBjb2xsYXBzaW5nIGNsYXNzKSB0byB0aGUgZ2l2ZW4gaGVpZ2h0IGhlcmUuXG4gICAgICAgICAgICAuY3NzKHtoZWlnaHQ6IGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0ICsgJ3B4J30pXG4gICAgICAgICAgICAvLyBpbml0aWFsbHkgYWxsIHBhbmVsIGNvbGxhcHNlIGhhdmUgdGhlIGNvbGxhcHNlIGNsYXNzLCB0aGlzIHJlbW92YWxcbiAgICAgICAgICAgIC8vIHByZXZlbnRzIHRoZSBhbmltYXRpb24gZnJvbSBqdW1waW5nIHRvIGNvbGxhcHNlZCBzdGF0ZVxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuXG4gICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgJ2luJywge1xuICAgICAgICAgICAgdG86IHtoZWlnaHQ6ICcwJ31cbiAgICAgICAgICB9KS50aGVuKGNvbGxhcHNlRG9uZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb2xsYXBzZURvbmUoKSB7XG4gICAgICAgICAgZWxlbWVudC5jc3Moe2hlaWdodDogJzAnfSk7IC8vIFJlcXVpcmVkIHNvIHRoYXQgY29sbGFwc2Ugd29ya3Mgd2hlbiBhbmltYXRpb24gaXMgZGlzYWJsZWRcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJyk7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnY29sbGFwc2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLiR3YXRjaChhdHRycy5jb2xsYXBzZSwgZnVuY3Rpb24gKHNob3VsZENvbGxhcHNlKSB7XG4gICAgICAgICAgaWYgKHNob3VsZENvbGxhcHNlKSB7XG4gICAgICAgICAgICBjb2xsYXBzZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHBhbmQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5hY2NvcmRpb24nLCBbJ3VpLmJvb3RzdHJhcC5jb2xsYXBzZSddKVxuXG4uY29uc3RhbnQoJ2FjY29yZGlvbkNvbmZpZycsIHtcbiAgY2xvc2VPdGhlcnM6IHRydWVcbn0pXG5cbi5jb250cm9sbGVyKCdBY2NvcmRpb25Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJ2FjY29yZGlvbkNvbmZpZycsIGZ1bmN0aW9uICgkc2NvcGUsICRhdHRycywgYWNjb3JkaW9uQ29uZmlnKSB7XG5cbiAgLy8gVGhpcyBhcnJheSBrZWVwcyB0cmFjayBvZiB0aGUgYWNjb3JkaW9uIGdyb3Vwc1xuICB0aGlzLmdyb3VwcyA9IFtdO1xuXG4gIC8vIEVuc3VyZSB0aGF0IGFsbCB0aGUgZ3JvdXBzIGluIHRoaXMgYWNjb3JkaW9uIGFyZSBjbG9zZWQsIHVubGVzcyBjbG9zZS1vdGhlcnMgZXhwbGljaXRseSBzYXlzIG5vdCB0b1xuICB0aGlzLmNsb3NlT3RoZXJzID0gZnVuY3Rpb24ob3Blbkdyb3VwKSB7XG4gICAgdmFyIGNsb3NlT3RoZXJzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmNsb3NlT3RoZXJzKSA/ICRzY29wZS4kZXZhbCgkYXR0cnMuY2xvc2VPdGhlcnMpIDogYWNjb3JkaW9uQ29uZmlnLmNsb3NlT3RoZXJzO1xuICAgIGlmICggY2xvc2VPdGhlcnMgKSB7XG4gICAgICBhbmd1bGFyLmZvckVhY2godGhpcy5ncm91cHMsIGZ1bmN0aW9uIChncm91cCkge1xuICAgICAgICBpZiAoIGdyb3VwICE9PSBvcGVuR3JvdXAgKSB7XG4gICAgICAgICAgZ3JvdXAuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBUaGlzIGlzIGNhbGxlZCBmcm9tIHRoZSBhY2NvcmRpb24tZ3JvdXAgZGlyZWN0aXZlIHRvIGFkZCBpdHNlbGYgdG8gdGhlIGFjY29yZGlvblxuICB0aGlzLmFkZEdyb3VwID0gZnVuY3Rpb24oZ3JvdXBTY29wZSkge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB0aGlzLmdyb3Vwcy5wdXNoKGdyb3VwU2NvcGUpO1xuXG4gICAgZ3JvdXBTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB0aGF0LnJlbW92ZUdyb3VwKGdyb3VwU2NvcGUpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFRoaXMgaXMgY2FsbGVkIGZyb20gdGhlIGFjY29yZGlvbi1ncm91cCBkaXJlY3RpdmUgd2hlbiB0byByZW1vdmUgaXRzZWxmXG4gIHRoaXMucmVtb3ZlR3JvdXAgPSBmdW5jdGlvbihncm91cCkge1xuICAgIHZhciBpbmRleCA9IHRoaXMuZ3JvdXBzLmluZGV4T2YoZ3JvdXApO1xuICAgIGlmICggaW5kZXggIT09IC0xICkge1xuICAgICAgdGhpcy5ncm91cHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH07XG5cbn1dKVxuXG4vLyBUaGUgYWNjb3JkaW9uIGRpcmVjdGl2ZSBzaW1wbHkgc2V0cyB1cCB0aGUgZGlyZWN0aXZlIGNvbnRyb2xsZXJcbi8vIGFuZCBhZGRzIGFuIGFjY29yZGlvbiBDU1MgY2xhc3MgdG8gaXRzZWxmIGVsZW1lbnQuXG4uZGlyZWN0aXZlKCdhY2NvcmRpb24nLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6J0VBJyxcbiAgICBjb250cm9sbGVyOidBY2NvcmRpb25Db250cm9sbGVyJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHJlcGxhY2U6IGZhbHNlLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sJ1xuICB9O1xufSlcblxuLy8gVGhlIGFjY29yZGlvbi1ncm91cCBkaXJlY3RpdmUgaW5kaWNhdGVzIGEgYmxvY2sgb2YgaHRtbCB0aGF0IHdpbGwgZXhwYW5kIGFuZCBjb2xsYXBzZSBpbiBhbiBhY2NvcmRpb25cbi5kaXJlY3RpdmUoJ2FjY29yZGlvbkdyb3VwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTonXmFjY29yZGlvbicsICAgICAgICAgLy8gV2UgbmVlZCB0aGlzIGRpcmVjdGl2ZSB0byBiZSBpbnNpZGUgYW4gYWNjb3JkaW9uXG4gICAgcmVzdHJpY3Q6J0VBJyxcbiAgICB0cmFuc2NsdWRlOnRydWUsICAgICAgICAgICAgICAvLyBJdCB0cmFuc2NsdWRlcyB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSBpbnRvIHRoZSB0ZW1wbGF0ZVxuICAgIHJlcGxhY2U6IHRydWUsICAgICAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIGRpcmVjdGl2ZSB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIHRlbXBsYXRlXG4gICAgdGVtcGxhdGVVcmw6J3RlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbCcsXG4gICAgc2NvcGU6IHtcbiAgICAgIGhlYWRpbmc6ICdAJywgICAgICAgICAgICAgICAvLyBJbnRlcnBvbGF0ZSB0aGUgaGVhZGluZyBhdHRyaWJ1dGUgb250byB0aGlzIHNjb3BlXG4gICAgICBpc09wZW46ICc9PycsXG4gICAgICBpc0Rpc2FibGVkOiAnPT8nXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuc2V0SGVhZGluZyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5oZWFkaW5nID0gZWxlbWVudDtcbiAgICAgIH07XG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGFjY29yZGlvbkN0cmwpIHtcbiAgICAgIGFjY29yZGlvbkN0cmwuYWRkR3JvdXAoc2NvcGUpO1xuXG4gICAgICBzY29wZS4kd2F0Y2goJ2lzT3BlbicsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmICggdmFsdWUgKSB7XG4gICAgICAgICAgYWNjb3JkaW9uQ3RybC5jbG9zZU90aGVycyhzY29wZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS50b2dnbGVPcGVuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICggIXNjb3BlLmlzRGlzYWJsZWQgKSB7XG4gICAgICAgICAgc2NvcGUuaXNPcGVuID0gIXNjb3BlLmlzT3BlbjtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59KVxuXG4vLyBVc2UgYWNjb3JkaW9uLWhlYWRpbmcgYmVsb3cgYW4gYWNjb3JkaW9uLWdyb3VwIHRvIHByb3ZpZGUgYSBoZWFkaW5nIGNvbnRhaW5pbmcgSFRNTFxuLy8gPGFjY29yZGlvbi1ncm91cD5cbi8vICAgPGFjY29yZGlvbi1oZWFkaW5nPkhlYWRpbmcgY29udGFpbmluZyBIVE1MIC0gPGltZyBzcmM9XCIuLi5cIj48L2FjY29yZGlvbi1oZWFkaW5nPlxuLy8gPC9hY2NvcmRpb24tZ3JvdXA+XG4uZGlyZWN0aXZlKCdhY2NvcmRpb25IZWFkaW5nJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSwgICAvLyBHcmFiIHRoZSBjb250ZW50cyB0byBiZSB1c2VkIGFzIHRoZSBoZWFkaW5nXG4gICAgdGVtcGxhdGU6ICcnLCAgICAgICAvLyBJbiBlZmZlY3QgcmVtb3ZlIHRoaXMgZWxlbWVudCFcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHJlcXVpcmU6ICdeYWNjb3JkaW9uR3JvdXAnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBhY2NvcmRpb25Hcm91cEN0cmwsIHRyYW5zY2x1ZGUpIHtcbiAgICAgIC8vIFBhc3MgdGhlIGhlYWRpbmcgdG8gdGhlIGFjY29yZGlvbi1ncm91cCBjb250cm9sbGVyXG4gICAgICAvLyBzbyB0aGF0IGl0IGNhbiBiZSB0cmFuc2NsdWRlZCBpbnRvIHRoZSByaWdodCBwbGFjZSBpbiB0aGUgdGVtcGxhdGVcbiAgICAgIC8vIFtUaGUgc2Vjb25kIHBhcmFtZXRlciB0byB0cmFuc2NsdWRlIGNhdXNlcyB0aGUgZWxlbWVudHMgdG8gYmUgY2xvbmVkIHNvIHRoYXQgdGhleSB3b3JrIGluIG5nLXJlcGVhdF1cbiAgICAgIGFjY29yZGlvbkdyb3VwQ3RybC5zZXRIZWFkaW5nKHRyYW5zY2x1ZGUoc2NvcGUsIGFuZ3VsYXIubm9vcCkpO1xuICAgIH1cbiAgfTtcbn0pXG5cbi8vIFVzZSBpbiB0aGUgYWNjb3JkaW9uLWdyb3VwIHRlbXBsYXRlIHRvIGluZGljYXRlIHdoZXJlIHlvdSB3YW50IHRoZSBoZWFkaW5nIHRvIGJlIHRyYW5zY2x1ZGVkXG4vLyBZb3UgbXVzdCBwcm92aWRlIHRoZSBwcm9wZXJ0eSBvbiB0aGUgYWNjb3JkaW9uLWdyb3VwIGNvbnRyb2xsZXIgdGhhdCB3aWxsIGhvbGQgdGhlIHRyYW5zY2x1ZGVkIGVsZW1lbnRcbi8vIDxkaXYgY2xhc3M9XCJhY2NvcmRpb24tZ3JvdXBcIj5cbi8vICAgPGRpdiBjbGFzcz1cImFjY29yZGlvbi1oZWFkaW5nXCIgPjxhIC4uLiBhY2NvcmRpb24tdHJhbnNjbHVkZT1cImhlYWRpbmdcIj4uLi48L2E+PC9kaXY+XG4vLyAgIC4uLlxuLy8gPC9kaXY+XG4uZGlyZWN0aXZlKCdhY2NvcmRpb25UcmFuc2NsdWRlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJ15hY2NvcmRpb25Hcm91cCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGNvbnRyb2xsZXIpIHtcbiAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHsgcmV0dXJuIGNvbnRyb2xsZXJbYXR0ci5hY2NvcmRpb25UcmFuc2NsdWRlXTsgfSwgZnVuY3Rpb24oaGVhZGluZykge1xuICAgICAgICBpZiAoIGhlYWRpbmcgKSB7XG4gICAgICAgICAgZWxlbWVudC5odG1sKCcnKTtcbiAgICAgICAgICBlbGVtZW50LmFwcGVuZChoZWFkaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmFsZXJ0JywgW10pXG5cbi5jb250cm9sbGVyKCdBbGVydENvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCBmdW5jdGlvbiAoJHNjb3BlLCAkYXR0cnMpIHtcbiAgJHNjb3BlLmNsb3NlYWJsZSA9ICEhJGF0dHJzLmNsb3NlO1xuICB0aGlzLmNsb3NlID0gJHNjb3BlLmNsb3NlO1xufV0pXG5cbi5kaXJlY3RpdmUoJ2FsZXJ0JywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OidFQScsXG4gICAgY29udHJvbGxlcjonQWxlcnRDb250cm9sbGVyJyxcbiAgICB0ZW1wbGF0ZVVybDondGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbCcsXG4gICAgdHJhbnNjbHVkZTp0cnVlLFxuICAgIHJlcGxhY2U6dHJ1ZSxcbiAgICBzY29wZToge1xuICAgICAgdHlwZTogJ0AnLFxuICAgICAgY2xvc2U6ICcmJ1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2Rpc21pc3NPblRpbWVvdXQnLCBbJyR0aW1lb3V0JywgZnVuY3Rpb24oJHRpbWVvdXQpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnYWxlcnQnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgYWxlcnRDdHJsKSB7XG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICBhbGVydEN0cmwuY2xvc2UoKTtcbiAgICAgIH0sIHBhcnNlSW50KGF0dHJzLmRpc21pc3NPblRpbWVvdXQsIDEwKSk7XG4gICAgfVxuICB9O1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmJpbmRIdG1sJywgW10pXG5cbiAgLnZhbHVlKCckYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQnLCBmYWxzZSlcblxuICAuZGlyZWN0aXZlKCdiaW5kSHRtbFVuc2FmZScsIFsnJGxvZycsICckYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQnLCBmdW5jdGlvbiAoJGxvZywgJGJpbmRIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgaWYgKCEkYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQpIHtcbiAgICAgICAgJGxvZy53YXJuKCdiaW5kSHRtbFVuc2FmZSBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIG5nQmluZEh0bWwgaW5zdGVhZCcpO1xuICAgICAgfVxuICAgICAgZWxlbWVudC5hZGRDbGFzcygnbmctYmluZGluZycpLmRhdGEoJyRiaW5kaW5nJywgYXR0ci5iaW5kSHRtbFVuc2FmZSk7XG4gICAgICBzY29wZS4kd2F0Y2goYXR0ci5iaW5kSHRtbFVuc2FmZSwgZnVuY3Rpb24gYmluZEh0bWxVbnNhZmVXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUgfHwgJycpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfV0pO1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5idXR0b25zJywgW10pXG5cbi5jb25zdGFudCgnYnV0dG9uQ29uZmlnJywge1xuICBhY3RpdmVDbGFzczogJ2FjdGl2ZScsXG4gIHRvZ2dsZUV2ZW50OiAnY2xpY2snXG59KVxuXG4uY29udHJvbGxlcignQnV0dG9uc0NvbnRyb2xsZXInLCBbJ2J1dHRvbkNvbmZpZycsIGZ1bmN0aW9uKGJ1dHRvbkNvbmZpZykge1xuICB0aGlzLmFjdGl2ZUNsYXNzID0gYnV0dG9uQ29uZmlnLmFjdGl2ZUNsYXNzIHx8ICdhY3RpdmUnO1xuICB0aGlzLnRvZ2dsZUV2ZW50ID0gYnV0dG9uQ29uZmlnLnRvZ2dsZUV2ZW50IHx8ICdjbGljayc7XG59XSlcblxuLmRpcmVjdGl2ZSgnYnRuUmFkaW8nLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogWydidG5SYWRpbycsICduZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ0J1dHRvbnNDb250cm9sbGVyJyxcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIGJ1dHRvbnNDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIC8vbW9kZWwgLT4gVUlcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MsIGFuZ3VsYXIuZXF1YWxzKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlLCBzY29wZS4kZXZhbChhdHRycy5idG5SYWRpbykpKTtcbiAgICAgIH07XG5cbiAgICAgIC8vdWktPm1vZGVsXG4gICAgICBlbGVtZW50LmJpbmQoYnV0dG9uc0N0cmwudG9nZ2xlRXZlbnQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlzQWN0aXZlID0gZWxlbWVudC5oYXNDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcyk7XG5cbiAgICAgICAgaWYgKCFpc0FjdGl2ZSB8fCBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy51bmNoZWNrYWJsZSkpIHtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShpc0FjdGl2ZSA/IG51bGwgOiBzY29wZS4kZXZhbChhdHRycy5idG5SYWRpbykpO1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdidG5DaGVja2JveCcsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiBbJ2J0bkNoZWNrYm94JywgJ25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiAnQnV0dG9uc0NvbnRyb2xsZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgYnV0dG9uc0N0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgZnVuY3Rpb24gZ2V0VHJ1ZVZhbHVlKCkge1xuICAgICAgICByZXR1cm4gZ2V0Q2hlY2tib3hWYWx1ZShhdHRycy5idG5DaGVja2JveFRydWUsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRGYWxzZVZhbHVlKCkge1xuICAgICAgICByZXR1cm4gZ2V0Q2hlY2tib3hWYWx1ZShhdHRycy5idG5DaGVja2JveEZhbHNlLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldENoZWNrYm94VmFsdWUoYXR0cmlidXRlVmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICB2YXIgdmFsID0gc2NvcGUuJGV2YWwoYXR0cmlidXRlVmFsdWUpO1xuICAgICAgICByZXR1cm4gYW5ndWxhci5pc0RlZmluZWQodmFsKSA/IHZhbCA6IGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgLy9tb2RlbCAtPiBVSVxuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZWxlbWVudC50b2dnbGVDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcywgYW5ndWxhci5lcXVhbHMobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUsIGdldFRydWVWYWx1ZSgpKSk7XG4gICAgICB9O1xuXG4gICAgICAvL3VpLT5tb2RlbFxuICAgICAgZWxlbWVudC5iaW5kKGJ1dHRvbnNDdHJsLnRvZ2dsZUV2ZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50Lmhhc0NsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzKSA/IGdldEZhbHNlVmFsdWUoKSA6IGdldFRydWVWYWx1ZSgpKTtcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSk7XG5cbi8qKlxuKiBAbmdkb2Mgb3ZlcnZpZXdcbiogQG5hbWUgdWkuYm9vdHN0cmFwLmNhcm91c2VsXG4qXG4qIEBkZXNjcmlwdGlvblxuKiBBbmd1bGFySlMgdmVyc2lvbiBvZiBhbiBpbWFnZSBjYXJvdXNlbC5cbipcbiovXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmNhcm91c2VsJywgW10pXG4uY29udHJvbGxlcignQ2Fyb3VzZWxDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGVsZW1lbnQnLCAnJGludGVydmFsJywgJyRhbmltYXRlJywgZnVuY3Rpb24gKCRzY29wZSwgJGVsZW1lbnQsICRpbnRlcnZhbCwgJGFuaW1hdGUpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgIHNsaWRlcyA9IHNlbGYuc2xpZGVzID0gJHNjb3BlLnNsaWRlcyA9IFtdLFxuICAgIE5PX1RSQU5TSVRJT04gPSAndWliLW5vVHJhbnNpdGlvbicsXG4gICAgU0xJREVfRElSRUNUSU9OID0gJ3VpYi1zbGlkZURpcmVjdGlvbicsXG4gICAgY3VycmVudEluZGV4ID0gLTEsXG4gICAgY3VycmVudEludGVydmFsLCBpc1BsYXlpbmc7XG4gIHNlbGYuY3VycmVudFNsaWRlID0gbnVsbDtcblxuICB2YXIgZGVzdHJveWVkID0gZmFsc2U7XG4gIC8qIGRpcmVjdGlvbjogXCJwcmV2XCIgb3IgXCJuZXh0XCIgKi9cbiAgc2VsZi5zZWxlY3QgPSAkc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24obmV4dFNsaWRlLCBkaXJlY3Rpb24pIHtcbiAgICB2YXIgbmV4dEluZGV4ID0gc2VsZi5pbmRleE9mU2xpZGUobmV4dFNsaWRlKTtcbiAgICAvL0RlY2lkZSBkaXJlY3Rpb24gaWYgaXQncyBub3QgZ2l2ZW5cbiAgICBpZiAoZGlyZWN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGRpcmVjdGlvbiA9IG5leHRJbmRleCA+IHNlbGYuZ2V0Q3VycmVudEluZGV4KCkgPyAnbmV4dCcgOiAncHJldic7XG4gICAgfVxuICAgIC8vUHJldmVudCB0aGlzIHVzZXItdHJpZ2dlcmVkIHRyYW5zaXRpb24gZnJvbSBvY2N1cnJpbmcgaWYgdGhlcmUgaXMgYWxyZWFkeSBvbmUgaW4gcHJvZ3Jlc3NcbiAgICBpZiAobmV4dFNsaWRlICYmIG5leHRTbGlkZSAhPT0gc2VsZi5jdXJyZW50U2xpZGUgJiYgISRzY29wZS4kY3VycmVudFRyYW5zaXRpb24pIHtcbiAgICAgIGdvTmV4dChuZXh0U2xpZGUsIG5leHRJbmRleCwgZGlyZWN0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gZ29OZXh0KHNsaWRlLCBpbmRleCwgZGlyZWN0aW9uKSB7XG4gICAgLy8gU2NvcGUgaGFzIGJlZW4gZGVzdHJveWVkLCBzdG9wIGhlcmUuXG4gICAgaWYgKGRlc3Ryb3llZCkgeyByZXR1cm47IH1cblxuICAgIGFuZ3VsYXIuZXh0ZW5kKHNsaWRlLCB7ZGlyZWN0aW9uOiBkaXJlY3Rpb24sIGFjdGl2ZTogdHJ1ZX0pO1xuICAgIGFuZ3VsYXIuZXh0ZW5kKHNlbGYuY3VycmVudFNsaWRlIHx8IHt9LCB7ZGlyZWN0aW9uOiBkaXJlY3Rpb24sIGFjdGl2ZTogZmFsc2V9KTtcbiAgICBpZiAoJGFuaW1hdGUuZW5hYmxlZCgpICYmICEkc2NvcGUubm9UcmFuc2l0aW9uICYmICEkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uICYmXG4gICAgICBzbGlkZS4kZWxlbWVudCkge1xuICAgICAgc2xpZGUuJGVsZW1lbnQuZGF0YShTTElERV9ESVJFQ1RJT04sIHNsaWRlLmRpcmVjdGlvbik7XG4gICAgICAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uID0gdHJ1ZTtcbiAgICAgIHNsaWRlLiRlbGVtZW50Lm9uZSgnJGFuaW1hdGU6Y2xvc2UnLCBmdW5jdGlvbiBjbG9zZUZuKCkge1xuICAgICAgICAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNlbGYuY3VycmVudFNsaWRlID0gc2xpZGU7XG4gICAgY3VycmVudEluZGV4ID0gaW5kZXg7XG5cbiAgICAvL2V2ZXJ5IHRpbWUgeW91IGNoYW5nZSBzbGlkZXMsIHJlc2V0IHRoZSB0aW1lclxuICAgIHJlc3RhcnRUaW1lcigpO1xuICB9XG5cbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XG4gICAgZGVzdHJveWVkID0gdHJ1ZTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZ2V0U2xpZGVCeUluZGV4KGluZGV4KSB7XG4gICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoc2xpZGVzW2luZGV4XS5pbmRleCkpIHtcbiAgICAgIHJldHVybiBzbGlkZXNbaW5kZXhdO1xuICAgIH1cbiAgICB2YXIgaSwgbGVuID0gc2xpZGVzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAoc2xpZGVzW2ldLmluZGV4ID09IGluZGV4KSB7XG4gICAgICAgIHJldHVybiBzbGlkZXNbaV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2VsZi5nZXRDdXJyZW50SW5kZXggPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoc2VsZi5jdXJyZW50U2xpZGUgJiYgYW5ndWxhci5pc0RlZmluZWQoc2VsZi5jdXJyZW50U2xpZGUuaW5kZXgpKSB7XG4gICAgICByZXR1cm4gK3NlbGYuY3VycmVudFNsaWRlLmluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudEluZGV4O1xuICB9O1xuXG4gIC8qIEFsbG93IG91dHNpZGUgcGVvcGxlIHRvIGNhbGwgaW5kZXhPZiBvbiBzbGlkZXMgYXJyYXkgKi9cbiAgc2VsZi5pbmRleE9mU2xpZGUgPSBmdW5jdGlvbihzbGlkZSkge1xuICAgIHJldHVybiBhbmd1bGFyLmlzRGVmaW5lZChzbGlkZS5pbmRleCkgPyArc2xpZGUuaW5kZXggOiBzbGlkZXMuaW5kZXhPZihzbGlkZSk7XG4gIH07XG5cbiAgJHNjb3BlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3SW5kZXggPSAoc2VsZi5nZXRDdXJyZW50SW5kZXgoKSArIDEpICUgc2xpZGVzLmxlbmd0aDtcblxuICAgIGlmIChuZXdJbmRleCA9PT0gMCAmJiAkc2NvcGUubm9XcmFwKCkpIHtcbiAgICAgICRzY29wZS5wYXVzZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmLnNlbGVjdChnZXRTbGlkZUJ5SW5kZXgobmV3SW5kZXgpLCAnbmV4dCcpO1xuICB9O1xuXG4gICRzY29wZS5wcmV2ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5ld0luZGV4ID0gc2VsZi5nZXRDdXJyZW50SW5kZXgoKSAtIDEgPCAwID8gc2xpZGVzLmxlbmd0aCAtIDEgOiBzZWxmLmdldEN1cnJlbnRJbmRleCgpIC0gMTtcblxuICAgIGlmICgkc2NvcGUubm9XcmFwKCkgJiYgbmV3SW5kZXggPT09IHNsaWRlcy5sZW5ndGggLSAxKXtcbiAgICAgICRzY29wZS5wYXVzZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmLnNlbGVjdChnZXRTbGlkZUJ5SW5kZXgobmV3SW5kZXgpLCAncHJldicpO1xuICB9O1xuXG4gICRzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgIHJldHVybiBzZWxmLmN1cnJlbnRTbGlkZSA9PT0gc2xpZGU7XG4gIH07XG5cbiAgJHNjb3BlLiR3YXRjaCgnaW50ZXJ2YWwnLCByZXN0YXJ0VGltZXIpO1xuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIHJlc2V0VGltZXIpO1xuXG4gIGZ1bmN0aW9uIHJlc3RhcnRUaW1lcigpIHtcbiAgICByZXNldFRpbWVyKCk7XG4gICAgdmFyIGludGVydmFsID0gKyRzY29wZS5pbnRlcnZhbDtcbiAgICBpZiAoIWlzTmFOKGludGVydmFsKSAmJiBpbnRlcnZhbCA+IDApIHtcbiAgICAgIGN1cnJlbnRJbnRlcnZhbCA9ICRpbnRlcnZhbCh0aW1lckZuLCBpbnRlcnZhbCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUaW1lcigpIHtcbiAgICBpZiAoY3VycmVudEludGVydmFsKSB7XG4gICAgICAkaW50ZXJ2YWwuY2FuY2VsKGN1cnJlbnRJbnRlcnZhbCk7XG4gICAgICBjdXJyZW50SW50ZXJ2YWwgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRpbWVyRm4oKSB7XG4gICAgdmFyIGludGVydmFsID0gKyRzY29wZS5pbnRlcnZhbDtcbiAgICBpZiAoaXNQbGF5aW5nICYmICFpc05hTihpbnRlcnZhbCkgJiYgaW50ZXJ2YWwgPiAwICYmIHNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICRzY29wZS5uZXh0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS5wYXVzZSgpO1xuICAgIH1cbiAgfVxuXG4gICRzY29wZS5wbGF5ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFpc1BsYXlpbmcpIHtcbiAgICAgIGlzUGxheWluZyA9IHRydWU7XG4gICAgICByZXN0YXJ0VGltZXIoKTtcbiAgICB9XG4gIH07XG4gICRzY29wZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghJHNjb3BlLm5vUGF1c2UpIHtcbiAgICAgIGlzUGxheWluZyA9IGZhbHNlO1xuICAgICAgcmVzZXRUaW1lcigpO1xuICAgIH1cbiAgfTtcblxuICBzZWxmLmFkZFNsaWRlID0gZnVuY3Rpb24oc2xpZGUsIGVsZW1lbnQpIHtcbiAgICBzbGlkZS4kZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgc2xpZGVzLnB1c2goc2xpZGUpO1xuICAgIC8vaWYgdGhpcyBpcyB0aGUgZmlyc3Qgc2xpZGUgb3IgdGhlIHNsaWRlIGlzIHNldCB0byBhY3RpdmUsIHNlbGVjdCBpdFxuICAgIGlmKHNsaWRlcy5sZW5ndGggPT09IDEgfHwgc2xpZGUuYWN0aXZlKSB7XG4gICAgICBzZWxmLnNlbGVjdChzbGlkZXNbc2xpZGVzLmxlbmd0aC0xXSk7XG4gICAgICBpZiAoc2xpZGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICRzY29wZS5wbGF5KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBzZWxmLnJlbW92ZVNsaWRlID0gZnVuY3Rpb24oc2xpZGUpIHtcbiAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoc2xpZGUuaW5kZXgpKSB7XG4gICAgICBzbGlkZXMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIHJldHVybiArYS5pbmRleCA+ICtiLmluZGV4O1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vZ2V0IHRoZSBpbmRleCBvZiB0aGUgc2xpZGUgaW5zaWRlIHRoZSBjYXJvdXNlbFxuICAgIHZhciBpbmRleCA9IHNsaWRlcy5pbmRleE9mKHNsaWRlKTtcbiAgICBzbGlkZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICBpZiAoc2xpZGVzLmxlbmd0aCA+IDAgJiYgc2xpZGUuYWN0aXZlKSB7XG4gICAgICBpZiAoaW5kZXggPj0gc2xpZGVzLmxlbmd0aCkge1xuICAgICAgICBzZWxmLnNlbGVjdChzbGlkZXNbaW5kZXgtMV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5zZWxlY3Qoc2xpZGVzW2luZGV4XSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjdXJyZW50SW5kZXggPiBpbmRleCkge1xuICAgICAgY3VycmVudEluZGV4LS07XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS4kd2F0Y2goJ25vVHJhbnNpdGlvbicsIGZ1bmN0aW9uKG5vVHJhbnNpdGlvbikge1xuICAgICRlbGVtZW50LmRhdGEoTk9fVFJBTlNJVElPTiwgbm9UcmFuc2l0aW9uKTtcbiAgfSk7XG5cbn1dKVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6Y2Fyb3VzZWxcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ2Fyb3VzZWwgaXMgdGhlIG91dGVyIGNvbnRhaW5lciBmb3IgYSBzZXQgb2YgaW1hZ2UgJ3NsaWRlcycgdG8gc2hvd2Nhc2UuXG4gKlxuICogQHBhcmFtIHtudW1iZXI9fSBpbnRlcnZhbCBUaGUgdGltZSwgaW4gbWlsbGlzZWNvbmRzLCB0aGF0IGl0IHdpbGwgdGFrZSB0aGUgY2Fyb3VzZWwgdG8gZ28gdG8gdGhlIG5leHQgc2xpZGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBub1RyYW5zaXRpb24gV2hldGhlciB0byBkaXNhYmxlIHRyYW5zaXRpb25zIG9uIHRoZSBjYXJvdXNlbC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vUGF1c2UgV2hldGhlciB0byBkaXNhYmxlIHBhdXNpbmcgb24gdGhlIGNhcm91c2VsIChieSBkZWZhdWx0LCB0aGUgY2Fyb3VzZWwgaW50ZXJ2YWwgcGF1c2VzIG9uIGhvdmVyKS5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgPGNhcm91c2VsPlxuICAgICAgPHNsaWRlPlxuICAgICAgICA8aW1nIHNyYz1cImh0dHA6Ly9wbGFjZWtpdHRlbi5jb20vMTUwLzE1MFwiIHN0eWxlPVwibWFyZ2luOmF1dG87XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1jYXB0aW9uXCI+XG4gICAgICAgICAgPHA+QmVhdXRpZnVsITwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3NsaWRlPlxuICAgICAgPHNsaWRlPlxuICAgICAgICA8aW1nIHNyYz1cImh0dHA6Ly9wbGFjZWtpdHRlbi5jb20vMTAwLzE1MFwiIHN0eWxlPVwibWFyZ2luOmF1dG87XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1jYXB0aW9uXCI+XG4gICAgICAgICAgPHA+RCdhd3chPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvc2xpZGU+XG4gICAgPC9jYXJvdXNlbD5cbiAgPC9maWxlPlxuICA8ZmlsZSBuYW1lPVwiZGVtby5jc3NcIj5cbiAgICAuY2Fyb3VzZWwtaW5kaWNhdG9ycyB7XG4gICAgICB0b3A6IGF1dG87XG4gICAgICBib3R0b206IDE1cHg7XG4gICAgfVxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ2Nhcm91c2VsJywgW2Z1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBjb250cm9sbGVyOiAnQ2Fyb3VzZWxDb250cm9sbGVyJyxcbiAgICByZXF1aXJlOiAnY2Fyb3VzZWwnLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCcsXG4gICAgc2NvcGU6IHtcbiAgICAgIGludGVydmFsOiAnPScsXG4gICAgICBub1RyYW5zaXRpb246ICc9JyxcbiAgICAgIG5vUGF1c2U6ICc9JyxcbiAgICAgIG5vV3JhcDogJyYnXG4gICAgfVxuICB9O1xufV0pXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkuYm9vdHN0cmFwLmNhcm91c2VsLmRpcmVjdGl2ZTpzbGlkZVxuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgc2xpZGUgaW5zaWRlIGEge0BsaW5rIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6Y2Fyb3VzZWwgY2Fyb3VzZWx9LiAgTXVzdCBiZSBwbGFjZWQgYXMgYSBjaGlsZCBvZiBhIGNhcm91c2VsIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gYWN0aXZlIE1vZGVsIGJpbmRpbmcsIHdoZXRoZXIgb3Igbm90IHRoaXMgc2xpZGUgaXMgY3VycmVudGx5IGFjdGl2ZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBzbGlkZS4gVGhlIHNsaWRlcyB3aWxsIGJlIHNvcnRlZCBieSB0aGlzIHBhcmFtZXRlci5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG48ZGl2IG5nLWNvbnRyb2xsZXI9XCJDYXJvdXNlbERlbW9DdHJsXCI+XG4gIDxjYXJvdXNlbD5cbiAgICA8c2xpZGUgbmctcmVwZWF0PVwic2xpZGUgaW4gc2xpZGVzXCIgYWN0aXZlPVwic2xpZGUuYWN0aXZlXCIgaW5kZXg9XCIkaW5kZXhcIj5cbiAgICAgIDxpbWcgbmctc3JjPVwie3tzbGlkZS5pbWFnZX19XCIgc3R5bGU9XCJtYXJnaW46YXV0bztcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1jYXB0aW9uXCI+XG4gICAgICAgIDxoND5TbGlkZSB7eyRpbmRleH19PC9oND5cbiAgICAgICAgPHA+e3tzbGlkZS50ZXh0fX08L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L3NsaWRlPlxuICA8L2Nhcm91c2VsPlxuICBJbnRlcnZhbCwgaW4gbWlsbGlzZWNvbmRzOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwibXlJbnRlcnZhbFwiPlxuICA8YnIgLz5FbnRlciBhIG5lZ2F0aXZlIG51bWJlciB0byBzdG9wIHRoZSBpbnRlcnZhbC5cbjwvZGl2PlxuICA8L2ZpbGU+XG4gIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbmZ1bmN0aW9uIENhcm91c2VsRGVtb0N0cmwoJHNjb3BlKSB7XG4gICRzY29wZS5teUludGVydmFsID0gNTAwMDtcbn1cbiAgPC9maWxlPlxuICA8ZmlsZSBuYW1lPVwiZGVtby5jc3NcIj5cbiAgICAuY2Fyb3VzZWwtaW5kaWNhdG9ycyB7XG4gICAgICB0b3A6IGF1dG87XG4gICAgICBib3R0b206IDE1cHg7XG4gICAgfVxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4qL1xuXG4uZGlyZWN0aXZlKCdzbGlkZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICdeY2Fyb3VzZWwnLFxuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwnLFxuICAgIHNjb3BlOiB7XG4gICAgICBhY3RpdmU6ICc9PycsXG4gICAgICBpbmRleDogJz0/J1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY2Fyb3VzZWxDdHJsKSB7XG4gICAgICBjYXJvdXNlbEN0cmwuYWRkU2xpZGUoc2NvcGUsIGVsZW1lbnQpO1xuICAgICAgLy93aGVuIHRoZSBzY29wZSBpcyBkZXN0cm95ZWQgdGhlbiByZW1vdmUgdGhlIHNsaWRlIGZyb20gdGhlIGN1cnJlbnQgc2xpZGVzIGFycmF5XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhcm91c2VsQ3RybC5yZW1vdmVTbGlkZShzY29wZSk7XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCdhY3RpdmUnLCBmdW5jdGlvbihhY3RpdmUpIHtcbiAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgIGNhcm91c2VsQ3RybC5zZWxlY3Qoc2NvcGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KVxuXG4uYW5pbWF0aW9uKCcuaXRlbScsIFtcbiAgICAgICAgICckYW5pbWF0ZScsXG5mdW5jdGlvbiAoJGFuaW1hdGUpIHtcbiAgdmFyIE5PX1RSQU5TSVRJT04gPSAndWliLW5vVHJhbnNpdGlvbicsXG4gICAgU0xJREVfRElSRUNUSU9OID0gJ3VpYi1zbGlkZURpcmVjdGlvbic7XG5cbiAgcmV0dXJuIHtcbiAgICBiZWZvcmVBZGRDbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkge1xuICAgICAgLy8gRHVlIHRvIHRyYW5zY2x1c2lvbiwgbm9UcmFuc2l0aW9uIHByb3BlcnR5IGlzIG9uIHBhcmVudCdzIHNjb3BlXG4gICAgICBpZiAoY2xhc3NOYW1lID09ICdhY3RpdmUnICYmIGVsZW1lbnQucGFyZW50KCkgJiZcbiAgICAgICAgICAhZWxlbWVudC5wYXJlbnQoKS5kYXRhKE5PX1RSQU5TSVRJT04pKSB7XG4gICAgICAgIHZhciBzdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBlbGVtZW50LmRhdGEoU0xJREVfRElSRUNUSU9OKTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbkNsYXNzID0gZGlyZWN0aW9uID09ICduZXh0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoZGlyZWN0aW9uKTtcbiAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgZGlyZWN0aW9uQ2xhc3MpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghc3RvcHBlZCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhkaXJlY3Rpb25DbGFzcyArICcgJyArIGRpcmVjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGRvbmUoKTtcbiAgICB9LFxuICAgIGJlZm9yZVJlbW92ZUNsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKSB7XG4gICAgICAvLyBEdWUgdG8gdHJhbnNjbHVzaW9uLCBub1RyYW5zaXRpb24gcHJvcGVydHkgaXMgb24gcGFyZW50J3Mgc2NvcGVcbiAgICAgIGlmIChjbGFzc05hbWUgPT0gJ2FjdGl2ZScgJiYgZWxlbWVudC5wYXJlbnQoKSAmJlxuICAgICAgICAgICFlbGVtZW50LnBhcmVudCgpLmRhdGEoTk9fVFJBTlNJVElPTikpIHtcbiAgICAgICAgdmFyIHN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGVsZW1lbnQuZGF0YShTTElERV9ESVJFQ1RJT04pO1xuICAgICAgICB2YXIgZGlyZWN0aW9uQ2xhc3MgPSBkaXJlY3Rpb24gPT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgZGlyZWN0aW9uQ2xhc3MpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghc3RvcHBlZCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhkaXJlY3Rpb25DbGFzcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBkb25lKCk7XG4gICAgfVxuICB9O1xuXG59XSlcblxuXG47XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuZGF0ZXBhcnNlcicsIFtdKVxuXG4uc2VydmljZSgnZGF0ZVBhcnNlcicsIFsnJGxvY2FsZScsICdvcmRlckJ5RmlsdGVyJywgZnVuY3Rpb24oJGxvY2FsZSwgb3JkZXJCeUZpbHRlcikge1xuICAvLyBQdWxsZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbWJvc3RvY2svZDMvYmxvYi9tYXN0ZXIvc3JjL2Zvcm1hdC9yZXF1b3RlLmpzXG4gIHZhciBTUEVDSUFMX0NIQVJBQ1RFUlNfUkVHRVhQID0gL1tcXFxcXFxeXFwkXFwqXFwrXFw/XFx8XFxbXFxdXFwoXFwpXFwuXFx7XFx9XS9nO1xuXG4gIHRoaXMucGFyc2VycyA9IHt9O1xuXG4gIHZhciBmb3JtYXRDb2RlVG9SZWdleCA9IHtcbiAgICAneXl5eSc6IHtcbiAgICAgIHJlZ2V4OiAnXFxcXGR7NH0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMueWVhciA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ3l5Jzoge1xuICAgICAgcmVnZXg6ICdcXFxcZHsyfScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy55ZWFyID0gK3ZhbHVlICsgMjAwMDsgfVxuICAgIH0sXG4gICAgJ3knOiB7XG4gICAgICByZWdleDogJ1xcXFxkezEsNH0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMueWVhciA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ01NTU0nOiB7XG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLk1PTlRILmpvaW4oJ3wnKSxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLk1PTlRILmluZGV4T2YodmFsdWUpOyB9XG4gICAgfSxcbiAgICAnTU1NJzoge1xuICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVE1PTlRILmpvaW4oJ3wnKSxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUTU9OVEguaW5kZXhPZih2YWx1ZSk7IH1cbiAgICB9LFxuICAgICdNTSc6IHtcbiAgICAgIHJlZ2V4OiAnMFsxLTldfDFbMC0yXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5tb250aCA9IHZhbHVlIC0gMTsgfVxuICAgIH0sXG4gICAgJ00nOiB7XG4gICAgICByZWdleDogJ1sxLTldfDFbMC0yXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5tb250aCA9IHZhbHVlIC0gMTsgfVxuICAgIH0sXG4gICAgJ2RkJzoge1xuICAgICAgcmVnZXg6ICdbMC0yXVswLTldezF9fDNbMC0xXXsxfScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5kYXRlID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnZCc6IHtcbiAgICAgIHJlZ2V4OiAnWzEtMl0/WzAtOV17MX18M1swLTFdezF9JyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmRhdGUgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdFRUVFJzoge1xuICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5EQVkuam9pbignfCcpXG4gICAgfSxcbiAgICAnRUVFJzoge1xuICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVERBWS5qb2luKCd8JylcbiAgICB9LFxuICAgICdISCc6IHtcbiAgICAgIHJlZ2V4OiAnKD86MHwxKVswLTldfDJbMC0zXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5ob3VycyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ0gnOiB7XG4gICAgICByZWdleDogJzE/WzAtOV18MlswLTNdJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmhvdXJzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnbW0nOiB7XG4gICAgICByZWdleDogJ1swLTVdWzAtOV0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubWludXRlcyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ20nOiB7XG4gICAgICByZWdleDogJ1swLTldfFsxLTVdWzAtOV0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubWludXRlcyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ3Nzcyc6IHtcbiAgICAgIHJlZ2V4OiAnWzAtOV1bMC05XVswLTldJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1pbGxpc2Vjb25kcyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ3NzJzoge1xuICAgICAgcmVnZXg6ICdbMC01XVswLTldJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnNlY29uZHMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdzJzoge1xuICAgICAgcmVnZXg6ICdbMC05XXxbMS01XVswLTldJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnNlY29uZHMgPSArdmFsdWU7IH1cbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gY3JlYXRlUGFyc2VyKGZvcm1hdCkge1xuICAgIHZhciBtYXAgPSBbXSwgcmVnZXggPSBmb3JtYXQuc3BsaXQoJycpO1xuXG4gICAgYW5ndWxhci5mb3JFYWNoKGZvcm1hdENvZGVUb1JlZ2V4LCBmdW5jdGlvbihkYXRhLCBjb2RlKSB7XG4gICAgICB2YXIgaW5kZXggPSBmb3JtYXQuaW5kZXhPZihjb2RlKTtcblxuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnNwbGl0KCcnKTtcblxuICAgICAgICByZWdleFtpbmRleF0gPSAnKCcgKyBkYXRhLnJlZ2V4ICsgJyknO1xuICAgICAgICBmb3JtYXRbaW5kZXhdID0gJyQnOyAvLyBDdXN0b20gc3ltYm9sIHRvIGRlZmluZSBjb25zdW1lZCBwYXJ0IG9mIGZvcm1hdFxuICAgICAgICBmb3IgKHZhciBpID0gaW5kZXggKyAxLCBuID0gaW5kZXggKyBjb2RlLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgIHJlZ2V4W2ldID0gJyc7XG4gICAgICAgICAgZm9ybWF0W2ldID0gJyQnO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdC5qb2luKCcnKTtcblxuICAgICAgICBtYXAucHVzaCh7IGluZGV4OiBpbmRleCwgYXBwbHk6IGRhdGEuYXBwbHkgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVnZXg6IG5ldyBSZWdFeHAoJ14nICsgcmVnZXguam9pbignJykgKyAnJCcpLFxuICAgICAgbWFwOiBvcmRlckJ5RmlsdGVyKG1hcCwgJ2luZGV4JylcbiAgICB9O1xuICB9XG5cbiAgdGhpcy5wYXJzZSA9IGZ1bmN0aW9uKGlucHV0LCBmb3JtYXQsIGJhc2VEYXRlKSB7XG4gICAgaWYgKCAhYW5ndWxhci5pc1N0cmluZyhpbnB1dCkgfHwgIWZvcm1hdCApIHtcbiAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICBmb3JtYXQgPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFNbZm9ybWF0XSB8fCBmb3JtYXQ7XG4gICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoU1BFQ0lBTF9DSEFSQUNURVJTX1JFR0VYUCwgJ1xcXFwkJicpO1xuXG4gICAgaWYgKCAhdGhpcy5wYXJzZXJzW2Zvcm1hdF0gKSB7XG4gICAgICB0aGlzLnBhcnNlcnNbZm9ybWF0XSA9IGNyZWF0ZVBhcnNlcihmb3JtYXQpO1xuICAgIH1cblxuICAgIHZhciBwYXJzZXIgPSB0aGlzLnBhcnNlcnNbZm9ybWF0XSxcbiAgICAgICAgcmVnZXggPSBwYXJzZXIucmVnZXgsXG4gICAgICAgIG1hcCA9IHBhcnNlci5tYXAsXG4gICAgICAgIHJlc3VsdHMgPSBpbnB1dC5tYXRjaChyZWdleCk7XG5cbiAgICBpZiAoIHJlc3VsdHMgJiYgcmVzdWx0cy5sZW5ndGggKSB7XG4gICAgICB2YXIgZmllbGRzLCBkdDtcbiAgICAgIGlmIChiYXNlRGF0ZSkge1xuICAgICAgICBmaWVsZHMgPSB7XG4gICAgICAgICAgeWVhcjogYmFzZURhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICBtb250aDogYmFzZURhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICBkYXRlOiBiYXNlRGF0ZS5nZXREYXRlKCksXG4gICAgICAgICAgaG91cnM6IGJhc2VEYXRlLmdldEhvdXJzKCksXG4gICAgICAgICAgbWludXRlczogYmFzZURhdGUuZ2V0TWludXRlcygpLFxuICAgICAgICAgIHNlY29uZHM6IGJhc2VEYXRlLmdldFNlY29uZHMoKSxcbiAgICAgICAgICBtaWxsaXNlY29uZHM6IGJhc2VEYXRlLmdldE1pbGxpc2Vjb25kcygpXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaWVsZHMgPSB7IHllYXI6IDE5MDAsIG1vbnRoOiAwLCBkYXRlOiAxLCBob3VyczogMCwgbWludXRlczogMCwgc2Vjb25kczogMCwgbWlsbGlzZWNvbmRzOiAwIH07XG4gICAgICB9XG5cbiAgICAgIGZvciggdmFyIGkgPSAxLCBuID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBuOyBpKysgKSB7XG4gICAgICAgIHZhciBtYXBwZXIgPSBtYXBbaS0xXTtcbiAgICAgICAgaWYgKCBtYXBwZXIuYXBwbHkgKSB7XG4gICAgICAgICAgbWFwcGVyLmFwcGx5LmNhbGwoZmllbGRzLCByZXN1bHRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIGlzVmFsaWQoZmllbGRzLnllYXIsIGZpZWxkcy5tb250aCwgZmllbGRzLmRhdGUpICkge1xuICAgICAgICBkdCA9IG5ldyBEYXRlKGZpZWxkcy55ZWFyLCBmaWVsZHMubW9udGgsIGZpZWxkcy5kYXRlLCBmaWVsZHMuaG91cnMsIGZpZWxkcy5taW51dGVzLCBmaWVsZHMuc2Vjb25kcyxcbiAgICAgICAgICBmaWVsZHMubWlsbGlzZWNvbmRzIHx8IDApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZHQ7XG4gICAgfVxuICB9O1xuXG4gIC8vIENoZWNrIGlmIGRhdGUgaXMgdmFsaWQgZm9yIHNwZWNpZmljIG1vbnRoIChhbmQgeWVhciBmb3IgRmVicnVhcnkpLlxuICAvLyBNb250aDogMCA9IEphbiwgMSA9IEZlYiwgZXRjXG4gIGZ1bmN0aW9uIGlzVmFsaWQoeWVhciwgbW9udGgsIGRhdGUpIHtcbiAgICBpZiAoZGF0ZSA8IDEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIG1vbnRoID09PSAxICYmIGRhdGUgPiAyOCkge1xuICAgICAgICByZXR1cm4gZGF0ZSA9PT0gMjkgJiYgKCh5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwKSB8fCB5ZWFyICUgNDAwID09PSAwKTtcbiAgICB9XG5cbiAgICBpZiAoIG1vbnRoID09PSAzIHx8IG1vbnRoID09PSA1IHx8IG1vbnRoID09PSA4IHx8IG1vbnRoID09PSAxMCkge1xuICAgICAgICByZXR1cm4gZGF0ZSA8IDMxO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucG9zaXRpb24nLCBbXSlcblxuLyoqXG4gKiBBIHNldCBvZiB1dGlsaXR5IG1ldGhvZHMgdGhhdCBjYW4gYmUgdXNlIHRvIHJldHJpZXZlIHBvc2l0aW9uIG9mIERPTSBlbGVtZW50cy5cbiAqIEl0IGlzIG1lYW50IHRvIGJlIHVzZWQgd2hlcmUgd2UgbmVlZCB0byBhYnNvbHV0ZS1wb3NpdGlvbiBET00gZWxlbWVudHMgaW5cbiAqIHJlbGF0aW9uIHRvIG90aGVyLCBleGlzdGluZyBlbGVtZW50cyAodGhpcyBpcyB0aGUgY2FzZSBmb3IgdG9vbHRpcHMsIHBvcG92ZXJzLFxuICogdHlwZWFoZWFkIHN1Z2dlc3Rpb25zIGV0Yy4pLlxuICovXG4gIC5mYWN0b3J5KCckcG9zaXRpb24nLCBbJyRkb2N1bWVudCcsICckd2luZG93JywgZnVuY3Rpb24gKCRkb2N1bWVudCwgJHdpbmRvdykge1xuXG4gICAgZnVuY3Rpb24gZ2V0U3R5bGUoZWwsIGNzc3Byb3ApIHtcbiAgICAgIGlmIChlbC5jdXJyZW50U3R5bGUpIHsgLy9JRVxuICAgICAgICByZXR1cm4gZWwuY3VycmVudFN0eWxlW2Nzc3Byb3BdO1xuICAgICAgfSBlbHNlIGlmICgkd2luZG93LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICAgICAgcmV0dXJuICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClbY3NzcHJvcF07XG4gICAgICB9XG4gICAgICAvLyBmaW5hbGx5IHRyeSBhbmQgZ2V0IGlubGluZSBzdHlsZVxuICAgICAgcmV0dXJuIGVsLnN0eWxlW2Nzc3Byb3BdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGdpdmVuIGVsZW1lbnQgaXMgc3RhdGljYWxseSBwb3NpdGlvbmVkXG4gICAgICogQHBhcmFtIGVsZW1lbnQgLSByYXcgRE9NIGVsZW1lbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0YXRpY1Bvc2l0aW9uZWQoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIChnZXRTdHlsZShlbGVtZW50LCAncG9zaXRpb24nKSB8fCAnc3RhdGljJyApID09PSAnc3RhdGljJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSBjbG9zZXN0LCBub24tc3RhdGljYWxseSBwb3NpdGlvbmVkIHBhcmVudE9mZnNldCBvZiBhIGdpdmVuIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqL1xuICAgIHZhciBwYXJlbnRPZmZzZXRFbCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICB2YXIgZG9jRG9tRWwgPSAkZG9jdW1lbnRbMF07XG4gICAgICB2YXIgb2Zmc2V0UGFyZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQgfHwgZG9jRG9tRWw7XG4gICAgICB3aGlsZSAob2Zmc2V0UGFyZW50ICYmIG9mZnNldFBhcmVudCAhPT0gZG9jRG9tRWwgJiYgaXNTdGF0aWNQb3NpdGlvbmVkKG9mZnNldFBhcmVudCkgKSB7XG4gICAgICAgIG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY0RvbUVsO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBQcm92aWRlcyByZWFkLW9ubHkgZXF1aXZhbGVudCBvZiBqUXVlcnkncyBwb3NpdGlvbiBmdW5jdGlvbjpcbiAgICAgICAqIGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wb3NpdGlvbi9cbiAgICAgICAqL1xuICAgICAgcG9zaXRpb246IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHZhciBlbEJDUiA9IHRoaXMub2Zmc2V0KGVsZW1lbnQpO1xuICAgICAgICB2YXIgb2Zmc2V0UGFyZW50QkNSID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcbiAgICAgICAgdmFyIG9mZnNldFBhcmVudEVsID0gcGFyZW50T2Zmc2V0RWwoZWxlbWVudFswXSk7XG4gICAgICAgIGlmIChvZmZzZXRQYXJlbnRFbCAhPSAkZG9jdW1lbnRbMF0pIHtcbiAgICAgICAgICBvZmZzZXRQYXJlbnRCQ1IgPSB0aGlzLm9mZnNldChhbmd1bGFyLmVsZW1lbnQob2Zmc2V0UGFyZW50RWwpKTtcbiAgICAgICAgICBvZmZzZXRQYXJlbnRCQ1IudG9wICs9IG9mZnNldFBhcmVudEVsLmNsaWVudFRvcCAtIG9mZnNldFBhcmVudEVsLnNjcm9sbFRvcDtcbiAgICAgICAgICBvZmZzZXRQYXJlbnRCQ1IubGVmdCArPSBvZmZzZXRQYXJlbnRFbC5jbGllbnRMZWZ0IC0gb2Zmc2V0UGFyZW50RWwuc2Nyb2xsTGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBib3VuZGluZ0NsaWVudFJlY3QgPSBlbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHdpZHRoOiBib3VuZGluZ0NsaWVudFJlY3Qud2lkdGggfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRXaWR0aCcpLFxuICAgICAgICAgIGhlaWdodDogYm91bmRpbmdDbGllbnRSZWN0LmhlaWdodCB8fCBlbGVtZW50LnByb3AoJ29mZnNldEhlaWdodCcpLFxuICAgICAgICAgIHRvcDogZWxCQ1IudG9wIC0gb2Zmc2V0UGFyZW50QkNSLnRvcCxcbiAgICAgICAgICBsZWZ0OiBlbEJDUi5sZWZ0IC0gb2Zmc2V0UGFyZW50QkNSLmxlZnRcbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUHJvdmlkZXMgcmVhZC1vbmx5IGVxdWl2YWxlbnQgb2YgalF1ZXJ5J3Mgb2Zmc2V0IGZ1bmN0aW9uOlxuICAgICAgICogaHR0cDovL2FwaS5qcXVlcnkuY29tL29mZnNldC9cbiAgICAgICAqL1xuICAgICAgb2Zmc2V0OiBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICB2YXIgYm91bmRpbmdDbGllbnRSZWN0ID0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB3aWR0aDogYm91bmRpbmdDbGllbnRSZWN0LndpZHRoIHx8IGVsZW1lbnQucHJvcCgnb2Zmc2V0V2lkdGgnKSxcbiAgICAgICAgICBoZWlnaHQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHQgfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKSxcbiAgICAgICAgICB0b3A6IGJvdW5kaW5nQ2xpZW50UmVjdC50b3AgKyAoJHdpbmRvdy5wYWdlWU9mZnNldCB8fCAkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCksXG4gICAgICAgICAgbGVmdDogYm91bmRpbmdDbGllbnRSZWN0LmxlZnQgKyAoJHdpbmRvdy5wYWdlWE9mZnNldCB8fCAkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQpXG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFByb3ZpZGVzIGNvb3JkaW5hdGVzIGZvciB0aGUgdGFyZ2V0RWwgaW4gcmVsYXRpb24gdG8gaG9zdEVsXG4gICAgICAgKi9cbiAgICAgIHBvc2l0aW9uRWxlbWVudHM6IGZ1bmN0aW9uIChob3N0RWwsIHRhcmdldEVsLCBwb3NpdGlvblN0ciwgYXBwZW5kVG9Cb2R5KSB7XG5cbiAgICAgICAgdmFyIHBvc2l0aW9uU3RyUGFydHMgPSBwb3NpdGlvblN0ci5zcGxpdCgnLScpO1xuICAgICAgICB2YXIgcG9zMCA9IHBvc2l0aW9uU3RyUGFydHNbMF0sIHBvczEgPSBwb3NpdGlvblN0clBhcnRzWzFdIHx8ICdjZW50ZXInO1xuXG4gICAgICAgIHZhciBob3N0RWxQb3MsXG4gICAgICAgICAgdGFyZ2V0RWxXaWR0aCxcbiAgICAgICAgICB0YXJnZXRFbEhlaWdodCxcbiAgICAgICAgICB0YXJnZXRFbFBvcztcblxuICAgICAgICBob3N0RWxQb3MgPSBhcHBlbmRUb0JvZHkgPyB0aGlzLm9mZnNldChob3N0RWwpIDogdGhpcy5wb3NpdGlvbihob3N0RWwpO1xuXG4gICAgICAgIHRhcmdldEVsV2lkdGggPSB0YXJnZXRFbC5wcm9wKCdvZmZzZXRXaWR0aCcpO1xuICAgICAgICB0YXJnZXRFbEhlaWdodCA9IHRhcmdldEVsLnByb3AoJ29mZnNldEhlaWdodCcpO1xuXG4gICAgICAgIHZhciBzaGlmdFdpZHRoID0ge1xuICAgICAgICAgIGNlbnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy5sZWZ0ICsgaG9zdEVsUG9zLndpZHRoIC8gMiAtIHRhcmdldEVsV2lkdGggLyAyO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbGVmdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy5sZWZ0O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmlnaHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MubGVmdCArIGhvc3RFbFBvcy53aWR0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHNoaWZ0SGVpZ2h0ID0ge1xuICAgICAgICAgIGNlbnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy50b3AgKyBob3N0RWxQb3MuaGVpZ2h0IC8gMiAtIHRhcmdldEVsSGVpZ2h0IC8gMjtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy50b3A7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBib3R0b206IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MudG9wICsgaG9zdEVsUG9zLmhlaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc3dpdGNoIChwb3MwKSB7XG4gICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7XG4gICAgICAgICAgICAgIHRvcDogc2hpZnRIZWlnaHRbcG9zMV0oKSxcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MwXSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICB0YXJnZXRFbFBvcyA9IHtcbiAgICAgICAgICAgICAgdG9wOiBzaGlmdEhlaWdodFtwb3MxXSgpLFxuICAgICAgICAgICAgICBsZWZ0OiBob3N0RWxQb3MubGVmdCAtIHRhcmdldEVsV2lkdGhcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7XG4gICAgICAgICAgICAgIHRvcDogc2hpZnRIZWlnaHRbcG9zMF0oKSxcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MxXSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRhcmdldEVsUG9zID0ge1xuICAgICAgICAgICAgICB0b3A6IGhvc3RFbFBvcy50b3AgLSB0YXJnZXRFbEhlaWdodCxcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MxXSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0RWxQb3M7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmRhdGVwaWNrZXInLCBbJ3VpLmJvb3RzdHJhcC5kYXRlcGFyc2VyJywgJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbiddKVxuXG4uY29uc3RhbnQoJ2RhdGVwaWNrZXJDb25maWcnLCB7XG4gIGZvcm1hdERheTogJ2RkJyxcbiAgZm9ybWF0TW9udGg6ICdNTU1NJyxcbiAgZm9ybWF0WWVhcjogJ3l5eXknLFxuICBmb3JtYXREYXlIZWFkZXI6ICdFRUUnLFxuICBmb3JtYXREYXlUaXRsZTogJ01NTU0geXl5eScsXG4gIGZvcm1hdE1vbnRoVGl0bGU6ICd5eXl5JyxcbiAgZGF0ZXBpY2tlck1vZGU6ICdkYXknLFxuICBtaW5Nb2RlOiAnZGF5JyxcbiAgbWF4TW9kZTogJ3llYXInLFxuICBzaG93V2Vla3M6IHRydWUsXG4gIHN0YXJ0aW5nRGF5OiAwLFxuICB5ZWFyUmFuZ2U6IDIwLFxuICBtaW5EYXRlOiBudWxsLFxuICBtYXhEYXRlOiBudWxsLFxuICBzaG9ydGN1dFByb3BhZ2F0aW9uOiBmYWxzZVxufSlcblxuLmNvbnRyb2xsZXIoJ0RhdGVwaWNrZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsICckaW50ZXJwb2xhdGUnLCAnJGxvZycsICdkYXRlRmlsdGVyJywgJ2RhdGVwaWNrZXJDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgJHBhcnNlLCAkaW50ZXJwb2xhdGUsICRsb2csIGRhdGVGaWx0ZXIsIGRhdGVwaWNrZXJDb25maWcpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9OyAvLyBudWxsTW9kZWxDdHJsO1xuXG4gIC8vIE1vZGVzIGNoYWluXG4gIHRoaXMubW9kZXMgPSBbJ2RheScsICdtb250aCcsICd5ZWFyJ107XG5cbiAgLy8gQ29uZmlndXJhdGlvbiBhdHRyaWJ1dGVzXG4gIGFuZ3VsYXIuZm9yRWFjaChbJ2Zvcm1hdERheScsICdmb3JtYXRNb250aCcsICdmb3JtYXRZZWFyJywgJ2Zvcm1hdERheUhlYWRlcicsICdmb3JtYXREYXlUaXRsZScsICdmb3JtYXRNb250aFRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAnbWluTW9kZScsICdtYXhNb2RlJywgJ3Nob3dXZWVrcycsICdzdGFydGluZ0RheScsICd5ZWFyUmFuZ2UnLCAnc2hvcnRjdXRQcm9wYWdhdGlvbiddLCBmdW5jdGlvbigga2V5LCBpbmRleCApIHtcbiAgICBzZWxmW2tleV0gPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnNba2V5XSkgPyAoaW5kZXggPCA4ID8gJGludGVycG9sYXRlKCRhdHRyc1trZXldKSgkc2NvcGUuJHBhcmVudCkgOiAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnNba2V5XSkpIDogZGF0ZXBpY2tlckNvbmZpZ1trZXldO1xuICB9KTtcblxuICAvLyBXYXRjaGFibGUgZGF0ZSBhdHRyaWJ1dGVzXG4gIGFuZ3VsYXIuZm9yRWFjaChbJ21pbkRhdGUnLCAnbWF4RGF0ZSddLCBmdW5jdGlvbigga2V5ICkge1xuICAgIGlmICggJGF0dHJzW2tleV0gKSB7XG4gICAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRyc1trZXldKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgc2VsZltrZXldID0gdmFsdWUgPyBuZXcgRGF0ZSh2YWx1ZSkgOiBudWxsO1xuICAgICAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZltrZXldID0gZGF0ZXBpY2tlckNvbmZpZ1trZXldID8gbmV3IERhdGUoZGF0ZXBpY2tlckNvbmZpZ1trZXldKSA6IG51bGw7XG4gICAgfVxuICB9KTtcblxuICAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPSAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgfHwgZGF0ZXBpY2tlckNvbmZpZy5kYXRlcGlja2VyTW9kZTtcbiAgJHNjb3BlLm1heE1vZGUgPSBzZWxmLm1heE1vZGU7XG4gICRzY29wZS51bmlxdWVJZCA9ICdkYXRlcGlja2VyLScgKyAkc2NvcGUuJGlkICsgJy0nICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApO1xuXG4gIGlmKGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5pbml0RGF0ZSkpIHtcbiAgICB0aGlzLmFjdGl2ZURhdGUgPSAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuaW5pdERhdGUpIHx8IG5ldyBEYXRlKCk7XG4gICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRhdHRycy5pbml0RGF0ZSwgZnVuY3Rpb24oaW5pdERhdGUpe1xuICAgICAgaWYoaW5pdERhdGUgJiYgKG5nTW9kZWxDdHJsLiRpc0VtcHR5KG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKSB8fCBuZ01vZGVsQ3RybC4kaW52YWxpZCkpe1xuICAgICAgICBzZWxmLmFjdGl2ZURhdGUgPSBpbml0RGF0ZTtcbiAgICAgICAgc2VsZi5yZWZyZXNoVmlldygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuYWN0aXZlRGF0ZSA9ICBuZXcgRGF0ZSgpO1xuICB9XG5cbiAgJHNjb3BlLmlzQWN0aXZlID0gZnVuY3Rpb24oZGF0ZU9iamVjdCkge1xuICAgIGlmIChzZWxmLmNvbXBhcmUoZGF0ZU9iamVjdC5kYXRlLCBzZWxmLmFjdGl2ZURhdGUpID09PSAwKSB7XG4gICAgICAkc2NvcGUuYWN0aXZlRGF0ZUlkID0gZGF0ZU9iamVjdC51aWQ7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCBuZ01vZGVsQ3RybF8gKSB7XG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XG5cbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnJlbmRlcigpO1xuICAgIH07XG4gIH07XG5cbiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgKSB7XG4gICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlICksXG4gICAgICAgICAgaXNWYWxpZCA9ICFpc05hTihkYXRlKTtcblxuICAgICAgaWYgKCBpc1ZhbGlkICkge1xuICAgICAgICB0aGlzLmFjdGl2ZURhdGUgPSBkYXRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGxvZy5lcnJvcignRGF0ZXBpY2tlciBkaXJlY3RpdmU6IFwibmctbW9kZWxcIiB2YWx1ZSBtdXN0IGJlIGEgRGF0ZSBvYmplY3QsIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSAwMS4wMS4xOTcwIG9yIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhbiBSRkMyODIyIG9yIElTTyA4NjAxIGRhdGUuJyk7XG4gICAgICB9XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2RhdGUnLCBpc1ZhbGlkKTtcbiAgICB9XG4gICAgdGhpcy5yZWZyZXNoVmlldygpO1xuICB9O1xuXG4gIHRoaXMucmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIHRoaXMuZWxlbWVudCApIHtcbiAgICAgIHRoaXMuX3JlZnJlc2hWaWV3KCk7XG5cbiAgICAgIHZhciBkYXRlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSA/IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpIDogbnVsbDtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZGF0ZS1kaXNhYmxlZCcsICFkYXRlIHx8ICh0aGlzLmVsZW1lbnQgJiYgIXRoaXMuaXNEaXNhYmxlZChkYXRlKSkpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmNyZWF0ZURhdGVPYmplY3QgPSBmdW5jdGlvbihkYXRlLCBmb3JtYXQpIHtcbiAgICB2YXIgbW9kZWwgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID8gbmV3IERhdGUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkgOiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgbGFiZWw6IGRhdGVGaWx0ZXIoZGF0ZSwgZm9ybWF0KSxcbiAgICAgIHNlbGVjdGVkOiBtb2RlbCAmJiB0aGlzLmNvbXBhcmUoZGF0ZSwgbW9kZWwpID09PSAwLFxuICAgICAgZGlzYWJsZWQ6IHRoaXMuaXNEaXNhYmxlZChkYXRlKSxcbiAgICAgIGN1cnJlbnQ6IHRoaXMuY29tcGFyZShkYXRlLCBuZXcgRGF0ZSgpKSA9PT0gMCxcbiAgICAgIGN1c3RvbUNsYXNzOiB0aGlzLmN1c3RvbUNsYXNzKGRhdGUpXG4gICAgfTtcbiAgfTtcblxuICB0aGlzLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiggZGF0ZSApIHtcbiAgICByZXR1cm4gKCh0aGlzLm1pbkRhdGUgJiYgdGhpcy5jb21wYXJlKGRhdGUsIHRoaXMubWluRGF0ZSkgPCAwKSB8fCAodGhpcy5tYXhEYXRlICYmIHRoaXMuY29tcGFyZShkYXRlLCB0aGlzLm1heERhdGUpID4gMCkgfHwgKCRhdHRycy5kYXRlRGlzYWJsZWQgJiYgJHNjb3BlLmRhdGVEaXNhYmxlZCh7ZGF0ZTogZGF0ZSwgbW9kZTogJHNjb3BlLmRhdGVwaWNrZXJNb2RlfSkpKTtcbiAgfTtcblxuICAgIHRoaXMuY3VzdG9tQ2xhc3MgPSBmdW5jdGlvbiggZGF0ZSApIHtcbiAgICAgIHJldHVybiAkc2NvcGUuY3VzdG9tQ2xhc3Moe2RhdGU6IGRhdGUsIG1vZGU6ICRzY29wZS5kYXRlcGlja2VyTW9kZX0pO1xuICAgIH07XG5cbiAgLy8gU3BsaXQgYXJyYXkgaW50byBzbWFsbGVyIGFycmF5c1xuICB0aGlzLnNwbGl0ID0gZnVuY3Rpb24oYXJyLCBzaXplKSB7XG4gICAgdmFyIGFycmF5cyA9IFtdO1xuICAgIHdoaWxlIChhcnIubGVuZ3RoID4gMCkge1xuICAgICAgYXJyYXlzLnB1c2goYXJyLnNwbGljZSgwLCBzaXplKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheXM7XG4gIH07XG5cbiAgLy8gRml4IGEgaGFyZC1yZXByb2R1c2libGUgYnVnIHdpdGggdGltZXpvbmVzXG4gIC8vIFRoZSBidWcgZGVwZW5kcyBvbiBPUywgYnJvd3NlciwgY3VycmVudCB0aW1lem9uZSBhbmQgY3VycmVudCBkYXRlXG4gIC8vIGkuZS5cbiAgLy8gdmFyIGRhdGUgPSBuZXcgRGF0ZSgyMDE0LCAwLCAxKTtcbiAgLy8gY29uc29sZS5sb2coZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpLCBkYXRlLmdldEhvdXJzKCkpO1xuICAvLyBjYW4gcmVzdWx0IGluIFwiMjAxMyAxMSAzMSAyM1wiIGJlY2F1c2Ugb2YgdGhlIGJ1Zy5cbiAgdGhpcy5maXhUaW1lWm9uZSA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICB2YXIgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgZGF0ZS5zZXRIb3Vycyhob3VycyA9PT0gMjMgPyBob3VycyArIDIgOiAwKTtcbiAgfTtcblxuICAkc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oIGRhdGUgKSB7XG4gICAgaWYgKCAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWluTW9kZSApIHtcbiAgICAgIHZhciBkdCA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgPyBuZXcgRGF0ZSggbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSApIDogbmV3IERhdGUoMCwgMCwgMCwgMCwgMCwgMCwgMCk7XG4gICAgICBkdC5zZXRGdWxsWWVhciggZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpICk7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKCBkdCApO1xuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmFjdGl2ZURhdGUgPSBkYXRlO1xuICAgICAgJHNjb3BlLmRhdGVwaWNrZXJNb2RlID0gc2VsZi5tb2Rlc1sgc2VsZi5tb2Rlcy5pbmRleE9mKCAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgKSAtIDEgXTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLm1vdmUgPSBmdW5jdGlvbiggZGlyZWN0aW9uICkge1xuICAgIHZhciB5ZWFyID0gc2VsZi5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkgKyBkaXJlY3Rpb24gKiAoc2VsZi5zdGVwLnllYXJzIHx8IDApLFxuICAgICAgICBtb250aCA9IHNlbGYuYWN0aXZlRGF0ZS5nZXRNb250aCgpICsgZGlyZWN0aW9uICogKHNlbGYuc3RlcC5tb250aHMgfHwgMCk7XG4gICAgc2VsZi5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKHllYXIsIG1vbnRoLCAxKTtcbiAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XG4gIH07XG5cbiAgJHNjb3BlLnRvZ2dsZU1vZGUgPSBmdW5jdGlvbiggZGlyZWN0aW9uICkge1xuICAgIGRpcmVjdGlvbiA9IGRpcmVjdGlvbiB8fCAxO1xuXG4gICAgaWYgKCgkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWF4TW9kZSAmJiBkaXJlY3Rpb24gPT09IDEpIHx8ICgkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWluTW9kZSAmJiBkaXJlY3Rpb24gPT09IC0xKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgICRzY29wZS5kYXRlcGlja2VyTW9kZSA9IHNlbGYubW9kZXNbIHNlbGYubW9kZXMuaW5kZXhPZiggJHNjb3BlLmRhdGVwaWNrZXJNb2RlICkgKyBkaXJlY3Rpb24gXTtcbiAgfTtcblxuICAvLyBLZXkgZXZlbnQgbWFwcGVyXG4gICRzY29wZS5rZXlzID0geyAxMzonZW50ZXInLCAzMjonc3BhY2UnLCAzMzoncGFnZXVwJywgMzQ6J3BhZ2Vkb3duJywgMzU6J2VuZCcsIDM2Oidob21lJywgMzc6J2xlZnQnLCAzODondXAnLCAzOToncmlnaHQnLCA0MDonZG93bicgfTtcblxuICB2YXIgZm9jdXNFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5lbGVtZW50WzBdLmZvY3VzKCk7XG4gIH07XG5cbiAgLy8gTGlzdGVuIGZvciBmb2N1cyByZXF1ZXN0cyBmcm9tIHBvcHVwIGRpcmVjdGl2ZVxuICAkc2NvcGUuJG9uKCdkYXRlcGlja2VyLmZvY3VzJywgZm9jdXNFbGVtZW50KTtcblxuICAkc2NvcGUua2V5ZG93biA9IGZ1bmN0aW9uKCBldnQgKSB7XG4gICAgdmFyIGtleSA9ICRzY29wZS5rZXlzW2V2dC53aGljaF07XG5cbiAgICBpZiAoICFrZXkgfHwgZXZ0LnNoaWZ0S2V5IHx8IGV2dC5hbHRLZXkgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYoIXNlbGYuc2hvcnRjdXRQcm9wYWdhdGlvbil7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAnZW50ZXInIHx8IGtleSA9PT0gJ3NwYWNlJykge1xuICAgICAgaWYgKCBzZWxmLmlzRGlzYWJsZWQoc2VsZi5hY3RpdmVEYXRlKSkge1xuICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmdcbiAgICAgIH1cbiAgICAgICRzY29wZS5zZWxlY3Qoc2VsZi5hY3RpdmVEYXRlKTtcbiAgICAgIGZvY3VzRWxlbWVudCgpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmN0cmxLZXkgJiYgKGtleSA9PT0gJ3VwJyB8fCBrZXkgPT09ICdkb3duJykpIHtcbiAgICAgICRzY29wZS50b2dnbGVNb2RlKGtleSA9PT0gJ3VwJyA/IDEgOiAtMSk7XG4gICAgICBmb2N1c0VsZW1lbnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5oYW5kbGVLZXlEb3duKGtleSwgZXZ0KTtcbiAgICAgIHNlbGYucmVmcmVzaFZpZXcoKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSggJ2RhdGVwaWNrZXInLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sJyxcbiAgICBzY29wZToge1xuICAgICAgZGF0ZXBpY2tlck1vZGU6ICc9PycsXG4gICAgICBkYXRlRGlzYWJsZWQ6ICcmJyxcbiAgICAgIGN1c3RvbUNsYXNzOiAnJicsXG4gICAgICBzaG9ydGN1dFByb3BhZ2F0aW9uOiAnJj8nXG4gICAgfSxcbiAgICByZXF1aXJlOiBbJ2RhdGVwaWNrZXInLCAnP15uZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ0RhdGVwaWNrZXJDb250cm9sbGVyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgZGF0ZXBpY2tlckN0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgaWYgKCBuZ01vZGVsQ3RybCApIHtcbiAgICAgICAgZGF0ZXBpY2tlckN0cmwuaW5pdCggbmdNb2RlbEN0cmwgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdkYXlwaWNrZXInLCBbJ2RhdGVGaWx0ZXInLCBmdW5jdGlvbiAoZGF0ZUZpbHRlcikge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sJyxcbiAgICByZXF1aXJlOiAnXmRhdGVwaWNrZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuICAgICAgc2NvcGUuc2hvd1dlZWtzID0gY3RybC5zaG93V2Vla3M7XG5cbiAgICAgIGN0cmwuc3RlcCA9IHsgbW9udGhzOiAxIH07XG4gICAgICBjdHJsLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICB2YXIgREFZU19JTl9NT05USCA9IFszMSwgMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTtcbiAgICAgIGZ1bmN0aW9uIGdldERheXNJbk1vbnRoKCB5ZWFyLCBtb250aCApIHtcbiAgICAgICAgcmV0dXJuICgobW9udGggPT09IDEpICYmICh5ZWFyICUgNCA9PT0gMCkgJiYgKCh5ZWFyICUgMTAwICE9PSAwKSB8fCAoeWVhciAlIDQwMCA9PT0gMCkpKSA/IDI5IDogREFZU19JTl9NT05USFttb250aF07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldERhdGVzKHN0YXJ0RGF0ZSwgbikge1xuICAgICAgICB2YXIgZGF0ZXMgPSBuZXcgQXJyYXkobiksIGN1cnJlbnQgPSBuZXcgRGF0ZShzdGFydERhdGUpLCBpID0gMCwgZGF0ZTtcbiAgICAgICAgd2hpbGUgKCBpIDwgbiApIHtcbiAgICAgICAgICBkYXRlID0gbmV3IERhdGUoY3VycmVudCk7XG4gICAgICAgICAgY3RybC5maXhUaW1lWm9uZShkYXRlKTtcbiAgICAgICAgICBkYXRlc1tpKytdID0gZGF0ZTtcbiAgICAgICAgICBjdXJyZW50LnNldERhdGUoIGN1cnJlbnQuZ2V0RGF0ZSgpICsgMSApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRlcztcbiAgICAgIH1cblxuICAgICAgY3RybC5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHllYXIgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICBtb250aCA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpLFxuICAgICAgICAgIGZpcnN0RGF5T2ZNb250aCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxKSxcbiAgICAgICAgICBkaWZmZXJlbmNlID0gY3RybC5zdGFydGluZ0RheSAtIGZpcnN0RGF5T2ZNb250aC5nZXREYXkoKSxcbiAgICAgICAgICBudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCA9IChkaWZmZXJlbmNlID4gMCkgPyA3IC0gZGlmZmVyZW5jZSA6IC0gZGlmZmVyZW5jZSxcbiAgICAgICAgICBmaXJzdERhdGUgPSBuZXcgRGF0ZShmaXJzdERheU9mTW9udGgpO1xuXG4gICAgICAgIGlmICggbnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGggPiAwICkge1xuICAgICAgICAgIGZpcnN0RGF0ZS5zZXREYXRlKCAtIG51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoICsgMSApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gNDIgaXMgdGhlIG51bWJlciBvZiBkYXlzIG9uIGEgc2l4LW1vbnRoIGNhbGVuZGFyXG4gICAgICAgIHZhciBkYXlzID0gZ2V0RGF0ZXMoZmlyc3REYXRlLCA0Mik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDI7IGkgKyspIHtcbiAgICAgICAgICBkYXlzW2ldID0gYW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KGRheXNbaV0sIGN0cmwuZm9ybWF0RGF5KSwge1xuICAgICAgICAgICAgc2Vjb25kYXJ5OiBkYXlzW2ldLmdldE1vbnRoKCkgIT09IG1vbnRoLFxuICAgICAgICAgICAgdWlkOiBzY29wZS51bmlxdWVJZCArICctJyArIGlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLmxhYmVscyA9IG5ldyBBcnJheSg3KTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA3OyBqKyspIHtcbiAgICAgICAgICBzY29wZS5sYWJlbHNbal0gPSB7XG4gICAgICAgICAgICBhYmJyOiBkYXRlRmlsdGVyKGRheXNbal0uZGF0ZSwgY3RybC5mb3JtYXREYXlIZWFkZXIpLFxuICAgICAgICAgICAgZnVsbDogZGF0ZUZpbHRlcihkYXlzW2pdLmRhdGUsICdFRUVFJylcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUudGl0bGUgPSBkYXRlRmlsdGVyKGN0cmwuYWN0aXZlRGF0ZSwgY3RybC5mb3JtYXREYXlUaXRsZSk7XG4gICAgICAgIHNjb3BlLnJvd3MgPSBjdHJsLnNwbGl0KGRheXMsIDcpO1xuXG4gICAgICAgIGlmICggc2NvcGUuc2hvd1dlZWtzICkge1xuICAgICAgICAgIHNjb3BlLndlZWtOdW1iZXJzID0gW107XG4gICAgICAgICAgdmFyIHRodXJzZGF5SW5kZXggPSAoNCArIDcgLSBjdHJsLnN0YXJ0aW5nRGF5KSAlIDcsXG4gICAgICAgICAgICAgIG51bVdlZWtzID0gc2NvcGUucm93cy5sZW5ndGg7XG4gICAgICAgICAgZm9yICh2YXIgY3VyV2VlayA9IDA7IGN1cldlZWsgPCBudW1XZWVrczsgY3VyV2VlaysrKSB7XG4gICAgICAgICAgICBzY29wZS53ZWVrTnVtYmVycy5wdXNoKFxuICAgICAgICAgICAgICBnZXRJU084NjAxV2Vla051bWJlciggc2NvcGUucm93c1tjdXJXZWVrXVt0aHVyc2RheUluZGV4XS5kYXRlICkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY3RybC5jb21wYXJlID0gZnVuY3Rpb24oZGF0ZTEsIGRhdGUyKSB7XG4gICAgICAgIHJldHVybiAobmV3IERhdGUoIGRhdGUxLmdldEZ1bGxZZWFyKCksIGRhdGUxLmdldE1vbnRoKCksIGRhdGUxLmdldERhdGUoKSApIC0gbmV3IERhdGUoIGRhdGUyLmdldEZ1bGxZZWFyKCksIGRhdGUyLmdldE1vbnRoKCksIGRhdGUyLmdldERhdGUoKSApICk7XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBnZXRJU084NjAxV2Vla051bWJlcihkYXRlKSB7XG4gICAgICAgIHZhciBjaGVja0RhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICAgICAgY2hlY2tEYXRlLnNldERhdGUoY2hlY2tEYXRlLmdldERhdGUoKSArIDQgLSAoY2hlY2tEYXRlLmdldERheSgpIHx8IDcpKTsgLy8gVGh1cnNkYXlcbiAgICAgICAgdmFyIHRpbWUgPSBjaGVja0RhdGUuZ2V0VGltZSgpO1xuICAgICAgICBjaGVja0RhdGUuc2V0TW9udGgoMCk7IC8vIENvbXBhcmUgd2l0aCBKYW4gMVxuICAgICAgICBjaGVja0RhdGUuc2V0RGF0ZSgxKTtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yb3VuZCgodGltZSAtIGNoZWNrRGF0ZSkgLyA4NjQwMDAwMCkgLyA3KSArIDE7XG4gICAgICB9XG5cbiAgICAgIGN0cmwuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKCBrZXksIGV2dCApIHtcbiAgICAgICAgdmFyIGRhdGUgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RGF0ZSgpO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdsZWZ0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gMTsgICAvLyB1cFxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3VwJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gNzsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyAxOyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdkb3duJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgNztcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdwYWdldXAnIHx8IGtleSA9PT0gJ3BhZ2Vkb3duJykge1xuICAgICAgICAgIHZhciBtb250aCA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpICsgKGtleSA9PT0gJ3BhZ2V1cCcgPyAtIDEgOiAxKTtcbiAgICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0TW9udGgobW9udGgsIDEpO1xuICAgICAgICAgIGRhdGUgPSBNYXRoLm1pbihnZXREYXlzSW5Nb250aChjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSwgY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkpLCBkYXRlKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdob21lJykge1xuICAgICAgICAgIGRhdGUgPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICBkYXRlID0gZ2V0RGF5c0luTW9udGgoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksIGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpKTtcbiAgICAgICAgfVxuICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0RGF0ZShkYXRlKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwucmVmcmVzaFZpZXcoKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgnbW9udGhwaWNrZXInLCBbJ2RhdGVGaWx0ZXInLCBmdW5jdGlvbiAoZGF0ZUZpbHRlcikge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwnLFxuICAgIHJlcXVpcmU6ICdeZGF0ZXBpY2tlcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XG4gICAgICBjdHJsLnN0ZXAgPSB7IHllYXJzOiAxIH07XG4gICAgICBjdHJsLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICBjdHJsLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbW9udGhzID0gbmV3IEFycmF5KDEyKSxcbiAgICAgICAgICAgIHllYXIgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgIGRhdGU7XG5cbiAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgMTI7IGkrKyApIHtcbiAgICAgICAgICBkYXRlID0gbmV3IERhdGUoeWVhciwgaSwgMSk7XG4gICAgICAgICAgY3RybC5maXhUaW1lWm9uZShkYXRlKTtcbiAgICAgICAgICBtb250aHNbaV0gPSBhbmd1bGFyLmV4dGVuZChjdHJsLmNyZWF0ZURhdGVPYmplY3QoZGF0ZSwgY3RybC5mb3JtYXRNb250aCksIHtcbiAgICAgICAgICAgIHVpZDogc2NvcGUudW5pcXVlSWQgKyAnLScgKyBpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS50aXRsZSA9IGRhdGVGaWx0ZXIoY3RybC5hY3RpdmVEYXRlLCBjdHJsLmZvcm1hdE1vbnRoVGl0bGUpO1xuICAgICAgICBzY29wZS5yb3dzID0gY3RybC5zcGxpdChtb250aHMsIDMpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5jb21wYXJlID0gZnVuY3Rpb24oZGF0ZTEsIGRhdGUyKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSggZGF0ZTEuZ2V0RnVsbFllYXIoKSwgZGF0ZTEuZ2V0TW9udGgoKSApIC0gbmV3IERhdGUoIGRhdGUyLmdldEZ1bGxZZWFyKCksIGRhdGUyLmdldE1vbnRoKCkgKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKCBrZXksIGV2dCApIHtcbiAgICAgICAgdmFyIGRhdGUgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnbGVmdCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDE7ICAgLy8gdXBcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICd1cCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDM7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgMTsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZG93bicpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDM7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncGFnZXVwJyB8fCBrZXkgPT09ICdwYWdlZG93bicpIHtcbiAgICAgICAgICB2YXIgeWVhciA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpICsgKGtleSA9PT0gJ3BhZ2V1cCcgPyAtIDEgOiAxKTtcbiAgICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoeWVhcik7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnaG9tZScpIHtcbiAgICAgICAgICBkYXRlID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdlbmQnKSB7XG4gICAgICAgICAgZGF0ZSA9IDExO1xuICAgICAgICB9XG4gICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXRNb250aChkYXRlKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwucmVmcmVzaFZpZXcoKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgneWVhcnBpY2tlcicsIFsnZGF0ZUZpbHRlcicsIGZ1bmN0aW9uIChkYXRlRmlsdGVyKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sJyxcbiAgICByZXF1aXJlOiAnXmRhdGVwaWNrZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuICAgICAgdmFyIHJhbmdlID0gY3RybC55ZWFyUmFuZ2U7XG5cbiAgICAgIGN0cmwuc3RlcCA9IHsgeWVhcnM6IHJhbmdlIH07XG4gICAgICBjdHJsLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICBmdW5jdGlvbiBnZXRTdGFydGluZ1llYXIoIHllYXIgKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludCgoeWVhciAtIDEpIC8gcmFuZ2UsIDEwKSAqIHJhbmdlICsgMTtcbiAgICAgIH1cblxuICAgICAgY3RybC5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHllYXJzID0gbmV3IEFycmF5KHJhbmdlKSwgZGF0ZTtcblxuICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIHN0YXJ0ID0gZ2V0U3RhcnRpbmdZZWFyKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKTsgaSA8IHJhbmdlOyBpKysgKSB7XG4gICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHN0YXJ0ICsgaSwgMCwgMSk7XG4gICAgICAgICAgY3RybC5maXhUaW1lWm9uZShkYXRlKTtcbiAgICAgICAgICB5ZWFyc1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKGN0cmwuY3JlYXRlRGF0ZU9iamVjdChkYXRlLCBjdHJsLmZvcm1hdFllYXIpLCB7XG4gICAgICAgICAgICB1aWQ6IHNjb3BlLnVuaXF1ZUlkICsgJy0nICsgaVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUudGl0bGUgPSBbeWVhcnNbMF0ubGFiZWwsIHllYXJzW3JhbmdlIC0gMV0ubGFiZWxdLmpvaW4oJyAtICcpO1xuICAgICAgICBzY29wZS5yb3dzID0gY3RybC5zcGxpdCh5ZWFycywgNSk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLmNvbXBhcmUgPSBmdW5jdGlvbihkYXRlMSwgZGF0ZTIpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUxLmdldEZ1bGxZZWFyKCkgLSBkYXRlMi5nZXRGdWxsWWVhcigpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24oIGtleSwgZXZ0ICkge1xuICAgICAgICB2YXIgZGF0ZSA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdsZWZ0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gMTsgICAvLyB1cFxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3VwJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gNTsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyAxOyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdkb3duJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgNTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdwYWdldXAnIHx8IGtleSA9PT0gJ3BhZ2Vkb3duJykge1xuICAgICAgICAgIGRhdGUgKz0gKGtleSA9PT0gJ3BhZ2V1cCcgPyAtIDEgOiAxKSAqIGN0cmwuc3RlcC55ZWFycztcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdob21lJykge1xuICAgICAgICAgIGRhdGUgPSBnZXRTdGFydGluZ1llYXIoIGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpICk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZW5kJykge1xuICAgICAgICAgIGRhdGUgPSBnZXRTdGFydGluZ1llYXIoIGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpICkgKyByYW5nZSAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKGRhdGUpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5yZWZyZXNoVmlldygpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uY29uc3RhbnQoJ2RhdGVwaWNrZXJQb3B1cENvbmZpZycsIHtcbiAgZGF0ZXBpY2tlclBvcHVwOiAneXl5eS1NTS1kZCcsXG4gIGh0bWw1VHlwZXM6IHtcbiAgICBkYXRlOiAneXl5eS1NTS1kZCcsXG4gICAgJ2RhdGV0aW1lLWxvY2FsJzogJ3l5eXktTU0tZGRUSEg6bW06c3Muc3NzJyxcbiAgICAnbW9udGgnOiAneXl5eS1NTSdcbiAgfSxcbiAgY3VycmVudFRleHQ6ICdUb2RheScsXG4gIGNsZWFyVGV4dDogJ0NsZWFyJyxcbiAgY2xvc2VUZXh0OiAnRG9uZScsXG4gIGNsb3NlT25EYXRlU2VsZWN0aW9uOiB0cnVlLFxuICBhcHBlbmRUb0JvZHk6IGZhbHNlLFxuICBzaG93QnV0dG9uQmFyOiB0cnVlXG59KVxuXG4uZGlyZWN0aXZlKCdkYXRlcGlja2VyUG9wdXAnLCBbJyRjb21waWxlJywgJyRwYXJzZScsICckZG9jdW1lbnQnLCAnJHBvc2l0aW9uJywgJ2RhdGVGaWx0ZXInLCAnZGF0ZVBhcnNlcicsICdkYXRlcGlja2VyUG9wdXBDb25maWcnLCAnJHRpbWVvdXQnLFxuZnVuY3Rpb24gKCRjb21waWxlLCAkcGFyc2UsICRkb2N1bWVudCwgJHBvc2l0aW9uLCBkYXRlRmlsdGVyLCBkYXRlUGFyc2VyLCBkYXRlcGlja2VyUG9wdXBDb25maWcsICR0aW1lb3V0KSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICAgIHNjb3BlOiB7XG4gICAgICBpc09wZW46ICc9PycsXG4gICAgICBjdXJyZW50VGV4dDogJ0AnLFxuICAgICAgY2xlYXJUZXh0OiAnQCcsXG4gICAgICBjbG9zZVRleHQ6ICdAJyxcbiAgICAgIGRhdGVEaXNhYmxlZDogJyYnLFxuICAgICAgY3VzdG9tQ2xhc3M6ICcmJ1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XG4gICAgICB2YXIgZGF0ZUZvcm1hdCxcbiAgICAgICAgICBjbG9zZU9uRGF0ZVNlbGVjdGlvbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmNsb3NlT25EYXRlU2VsZWN0aW9uKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuY2xvc2VPbkRhdGVTZWxlY3Rpb24pIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmNsb3NlT25EYXRlU2VsZWN0aW9uLFxuICAgICAgICAgIGFwcGVuZFRvQm9keSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmRhdGVwaWNrZXJBcHBlbmRUb0JvZHkpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5kYXRlcGlja2VyQXBwZW5kVG9Cb2R5KSA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5hcHBlbmRUb0JvZHk7XG5cbiAgICAgIHNjb3BlLnNob3dCdXR0b25CYXIgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5zaG93QnV0dG9uQmFyKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuc2hvd0J1dHRvbkJhcikgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuc2hvd0J1dHRvbkJhcjtcblxuICAgICAgc2NvcGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKCBrZXkgKSB7XG4gICAgICAgIHJldHVybiBzY29wZVtrZXkgKyAnVGV4dCddIHx8IGRhdGVwaWNrZXJQb3B1cENvbmZpZ1trZXkgKyAnVGV4dCddO1xuICAgICAgfTtcblxuICAgICAgdmFyIGlzSHRtbDVEYXRlSW5wdXQgPSBmYWxzZTtcbiAgICAgIGlmIChkYXRlcGlja2VyUG9wdXBDb25maWcuaHRtbDVUeXBlc1thdHRycy50eXBlXSkge1xuICAgICAgICBkYXRlRm9ybWF0ID0gZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmh0bWw1VHlwZXNbYXR0cnMudHlwZV07XG4gICAgICAgIGlzSHRtbDVEYXRlSW5wdXQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0ZUZvcm1hdCA9IGF0dHJzLmRhdGVwaWNrZXJQb3B1cCB8fCBkYXRlcGlja2VyUG9wdXBDb25maWcuZGF0ZXBpY2tlclBvcHVwO1xuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnZGF0ZXBpY2tlclBvcHVwJywgZnVuY3Rpb24odmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgbmV3RGF0ZUZvcm1hdCA9IHZhbHVlIHx8IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5kYXRlcGlja2VyUG9wdXA7XG4gICAgICAgICAgICAvLyBJbnZhbGlkYXRlIHRoZSAkbW9kZWxWYWx1ZSB0byBlbnN1cmUgdGhhdCBmb3JtYXR0ZXJzIHJlLXJ1blxuICAgICAgICAgICAgLy8gRklYTUU6IFJlZmFjdG9yIHdoZW4gUFIgaXMgbWVyZ2VkOiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3B1bGwvMTA3NjRcbiAgICAgICAgICAgIGlmIChuZXdEYXRlRm9ybWF0ICE9PSBkYXRlRm9ybWF0KSB7XG4gICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBuZXdEYXRlRm9ybWF0O1xuICAgICAgICAgICAgICBuZ01vZGVsLiRtb2RlbFZhbHVlID0gbnVsbDtcblxuICAgICAgICAgICAgICBpZiAoIWRhdGVGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGVwaWNrZXJQb3B1cCBtdXN0IGhhdmUgYSBkYXRlIGZvcm1hdCBzcGVjaWZpZWQuJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZGF0ZUZvcm1hdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGVwaWNrZXJQb3B1cCBtdXN0IGhhdmUgYSBkYXRlIGZvcm1hdCBzcGVjaWZpZWQuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0h0bWw1RGF0ZUlucHV0ICYmIGF0dHJzLmRhdGVwaWNrZXJQb3B1cCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hUTUw1IGRhdGUgaW5wdXQgdHlwZXMgZG8gbm90IHN1cHBvcnQgY3VzdG9tIGZvcm1hdHMuJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIHBvcHVwIGVsZW1lbnQgdXNlZCB0byBkaXNwbGF5IGNhbGVuZGFyXG4gICAgICB2YXIgcG9wdXBFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBkYXRlcGlja2VyLXBvcHVwLXdyYXA+PGRpdiBkYXRlcGlja2VyPjwvZGl2PjwvZGl2PicpO1xuICAgICAgcG9wdXBFbC5hdHRyKHtcbiAgICAgICAgJ25nLW1vZGVsJzogJ2RhdGUnLFxuICAgICAgICAnbmctY2hhbmdlJzogJ2RhdGVTZWxlY3Rpb24oZGF0ZSknXG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gY2FtZWx0b0Rhc2goIHN0cmluZyApe1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyhbQS1aXSkvZywgZnVuY3Rpb24oJDEpIHsgcmV0dXJuICctJyArICQxLnRvTG93ZXJDYXNlKCk7IH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBkYXRlcGlja2VyIGVsZW1lbnRcbiAgICAgIHZhciBkYXRlcGlja2VyRWwgPSBhbmd1bGFyLmVsZW1lbnQocG9wdXBFbC5jaGlsZHJlbigpWzBdKTtcbiAgICAgIGlmIChpc0h0bWw1RGF0ZUlucHV0KSB7XG4gICAgICAgIGlmIChhdHRycy50eXBlID09ICdtb250aCcpIHtcbiAgICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignZGF0ZXBpY2tlci1tb2RlJywgJ1wibW9udGhcIicpO1xuICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCdtaW4tbW9kZScsICdtb250aCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICggYXR0cnMuZGF0ZXBpY2tlck9wdGlvbnMgKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5kYXRlcGlja2VyT3B0aW9ucyk7XG4gICAgICAgIGlmKG9wdGlvbnMuaW5pdERhdGUpIHtcbiAgICAgICAgICBzY29wZS5pbml0RGF0ZSA9IG9wdGlvbnMuaW5pdERhdGU7XG4gICAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoICdpbml0LWRhdGUnLCAnaW5pdERhdGUnICk7XG4gICAgICAgICAgZGVsZXRlIG9wdGlvbnMuaW5pdERhdGU7XG4gICAgICAgIH1cbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKG9wdGlvbnMsIGZ1bmN0aW9uKCB2YWx1ZSwgb3B0aW9uICkge1xuICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCBjYW1lbHRvRGFzaChvcHRpb24pLCB2YWx1ZSApO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgc2NvcGUud2F0Y2hEYXRhID0ge307XG4gICAgICBhbmd1bGFyLmZvckVhY2goWydtaW5EYXRlJywgJ21heERhdGUnLCAnZGF0ZXBpY2tlck1vZGUnLCAnaW5pdERhdGUnLCAnc2hvcnRjdXRQcm9wYWdhdGlvbiddLCBmdW5jdGlvbigga2V5ICkge1xuICAgICAgICBpZiAoIGF0dHJzW2tleV0gKSB7XG4gICAgICAgICAgdmFyIGdldEF0dHJpYnV0ZSA9ICRwYXJzZShhdHRyc1trZXldKTtcbiAgICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaChnZXRBdHRyaWJ1dGUsIGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgIHNjb3BlLndhdGNoRGF0YVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoY2FtZWx0b0Rhc2goa2V5KSwgJ3dhdGNoRGF0YS4nICsga2V5KTtcblxuICAgICAgICAgIC8vIFByb3BhZ2F0ZSBjaGFuZ2VzIGZyb20gZGF0ZXBpY2tlciB0byBvdXRzaWRlXG4gICAgICAgICAgaWYgKCBrZXkgPT09ICdkYXRlcGlja2VyTW9kZScgKSB7XG4gICAgICAgICAgICB2YXIgc2V0QXR0cmlidXRlID0gZ2V0QXR0cmlidXRlLmFzc2lnbjtcbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaCgnd2F0Y2hEYXRhLicgKyBrZXksIGZ1bmN0aW9uKHZhbHVlLCBvbGR2YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoIGFuZ3VsYXIuaXNGdW5jdGlvbihzZXRBdHRyaWJ1dGUpICYmIHZhbHVlICE9PSBvbGR2YWx1ZSApIHtcbiAgICAgICAgICAgICAgICBzZXRBdHRyaWJ1dGUoc2NvcGUuJHBhcmVudCwgdmFsdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGF0dHJzLmRhdGVEaXNhYmxlZCkge1xuICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignZGF0ZS1kaXNhYmxlZCcsICdkYXRlRGlzYWJsZWQoeyBkYXRlOiBkYXRlLCBtb2RlOiBtb2RlIH0pJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRycy5zaG93V2Vla3MpIHtcbiAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoJ3Nob3ctd2Vla3MnLCBhdHRycy5zaG93V2Vla3MpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXR0cnMuY3VzdG9tQ2xhc3Mpe1xuICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignY3VzdG9tLWNsYXNzJywgJ2N1c3RvbUNsYXNzKHsgZGF0ZTogZGF0ZSwgbW9kZTogbW9kZSB9KScpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwYXJzZURhdGUodmlld1ZhbHVlKSB7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICAvLyBwcmVzdW1hYmx5IHRpbWVzdGFtcCB0byBkYXRlIG9iamVjdFxuICAgICAgICAgIHZpZXdWYWx1ZSA9IG5ldyBEYXRlKHZpZXdWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXZpZXdWYWx1ZSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNEYXRlKHZpZXdWYWx1ZSkgJiYgIWlzTmFOKHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdmlld1ZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodmlld1ZhbHVlKSkge1xuICAgICAgICAgIHZhciBkYXRlID0gZGF0ZVBhcnNlci5wYXJzZSh2aWV3VmFsdWUsIGRhdGVGb3JtYXQsIHNjb3BlLmRhdGUpIHx8IG5ldyBEYXRlKHZpZXdWYWx1ZSk7XG4gICAgICAgICAgaWYgKGlzTmFOKGRhdGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB2YWxpZGF0b3IobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xuICAgICAgICBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc0RhdGUodmFsdWUpICYmICFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgIHZhciBkYXRlID0gZGF0ZVBhcnNlci5wYXJzZSh2YWx1ZSwgZGF0ZUZvcm1hdCkgfHwgbmV3IERhdGUodmFsdWUpO1xuICAgICAgICAgIHJldHVybiAhaXNOYU4oZGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNIdG1sNURhdGVJbnB1dCkge1xuICAgICAgICAvLyBJbnRlcm5hbCBBUEkgdG8gbWFpbnRhaW4gdGhlIGNvcnJlY3QgbmctaW52YWxpZC1ba2V5XSBjbGFzc1xuICAgICAgICBuZ01vZGVsLiQkcGFyc2VyTmFtZSA9ICdkYXRlJztcbiAgICAgICAgbmdNb2RlbC4kdmFsaWRhdG9ycy5kYXRlID0gdmFsaWRhdG9yO1xuICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnVuc2hpZnQocGFyc2VEYXRlKTtcbiAgICAgICAgbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIHNjb3BlLmRhdGUgPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gbmdNb2RlbC4kaXNFbXB0eSh2YWx1ZSkgPyB2YWx1ZSA6IGRhdGVGaWx0ZXIodmFsdWUsIGRhdGVGb3JtYXQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgc2NvcGUuZGF0ZSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIElubmVyIGNoYW5nZVxuICAgICAgc2NvcGUuZGF0ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKGR0KSB7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChkdCkpIHtcbiAgICAgICAgICBzY29wZS5kYXRlID0gZHQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRhdGUgPSBzY29wZS5kYXRlID8gZGF0ZUZpbHRlcihzY29wZS5kYXRlLCBkYXRlRm9ybWF0KSA6ICcnO1xuICAgICAgICBlbGVtZW50LnZhbChkYXRlKTtcbiAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGRhdGUpO1xuXG4gICAgICAgIGlmICggY2xvc2VPbkRhdGVTZWxlY3Rpb24gKSB7XG4gICAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBEZXRlY3QgY2hhbmdlcyBpbiB0aGUgdmlldyBmcm9tIHRoZSB0ZXh0IGJveFxuICAgICAgbmdNb2RlbC4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2NvcGUuZGF0ZSA9IGRhdGVQYXJzZXIucGFyc2UobmdNb2RlbC4kdmlld1ZhbHVlLCBkYXRlRm9ybWF0LCBzY29wZS5kYXRlKSB8fCBuZXcgRGF0ZShuZ01vZGVsLiR2aWV3VmFsdWUpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBkb2N1bWVudENsaWNrQmluZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmIChzY29wZS5pc09wZW4gJiYgZXZlbnQudGFyZ2V0ICE9PSBlbGVtZW50WzBdKSB7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBpbnB1dEtleWRvd25CaW5kID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGlmIChldnQud2hpY2ggPT09IDI3ICYmIHNjb3BlLmlzT3Blbikge1xuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSA0MCAmJiAhc2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IHRydWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBlbGVtZW50LmJpbmQoJ2tleWRvd24nLCBpbnB1dEtleWRvd25CaW5kKTtcblxuICAgICAgc2NvcGUua2V5ZG93biA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBpZiAoZXZ0LndoaWNoID09PSAyNykge1xuICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCdpc09wZW4nLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBzY29wZS5wb3NpdGlvbiA9IGFwcGVuZFRvQm9keSA/ICRwb3NpdGlvbi5vZmZzZXQoZWxlbWVudCkgOiAkcG9zaXRpb24ucG9zaXRpb24oZWxlbWVudCk7XG4gICAgICAgICAgc2NvcGUucG9zaXRpb24udG9wID0gc2NvcGUucG9zaXRpb24udG9wICsgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKTtcblxuICAgICAgICAgICRkb2N1bWVudC5iaW5kKCdjbGljaycsIGRvY3VtZW50Q2xpY2tCaW5kKTtcblxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgnZGF0ZXBpY2tlci5mb2N1cycpO1xuICAgICAgICAgIH0sIDAsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkZG9jdW1lbnQudW5iaW5kKCdjbGljaycsIGRvY3VtZW50Q2xpY2tCaW5kKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKCBkYXRlICkge1xuICAgICAgICBpZiAoZGF0ZSA9PT0gJ3RvZGF5Jykge1xuICAgICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEYXRlKHNjb3BlLmRhdGUpKSB7XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoc2NvcGUuZGF0ZSk7XG4gICAgICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCksIHRvZGF5LmdldERhdGUoKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSh0b2RheS5zZXRIb3VycygwLCAwLCAwLCAwKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjb3BlLmRhdGVTZWxlY3Rpb24oIGRhdGUgKTtcbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgJHBvcHVwID0gJGNvbXBpbGUocG9wdXBFbCkoc2NvcGUpO1xuICAgICAgLy8gUHJldmVudCBqUXVlcnkgY2FjaGUgbWVtb3J5IGxlYWsgKHRlbXBsYXRlIGlzIG5vdyByZWR1bmRhbnQgYWZ0ZXIgbGlua2luZylcbiAgICAgIHBvcHVwRWwucmVtb3ZlKCk7XG5cbiAgICAgIGlmICggYXBwZW5kVG9Cb2R5ICkge1xuICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZCgkcG9wdXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5hZnRlcigkcG9wdXApO1xuICAgICAgfVxuXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChzY29wZS5pc09wZW4gPT09IHRydWUpIHtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICRwb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgZWxlbWVudC51bmJpbmQoJ2tleWRvd24nLCBpbnB1dEtleWRvd25CaW5kKTtcbiAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnY2xpY2snLCBkb2N1bWVudENsaWNrQmluZCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgnZGF0ZXBpY2tlclBvcHVwV3JhcCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OidFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sJ1xuICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuZHJvcGRvd24nLCBbJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbiddKVxuXG4uY29uc3RhbnQoJ2Ryb3Bkb3duQ29uZmlnJywge1xuICBvcGVuQ2xhc3M6ICdvcGVuJ1xufSlcblxuLnNlcnZpY2UoJ2Ryb3Bkb3duU2VydmljZScsIFsnJGRvY3VtZW50JywgJyRyb290U2NvcGUnLCBmdW5jdGlvbigkZG9jdW1lbnQsICRyb290U2NvcGUpIHtcbiAgdmFyIG9wZW5TY29wZSA9IG51bGw7XG5cbiAgdGhpcy5vcGVuID0gZnVuY3Rpb24oIGRyb3Bkb3duU2NvcGUgKSB7XG4gICAgaWYgKCAhb3BlblNjb3BlICkge1xuICAgICAgJGRvY3VtZW50LmJpbmQoJ2NsaWNrJywgY2xvc2VEcm9wZG93bik7XG4gICAgICAkZG9jdW1lbnQuYmluZCgna2V5ZG93bicsIGtleWJpbmRGaWx0ZXIpO1xuICAgIH1cblxuICAgIGlmICggb3BlblNjb3BlICYmIG9wZW5TY29wZSAhPT0gZHJvcGRvd25TY29wZSApIHtcbiAgICAgIG9wZW5TY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvcGVuU2NvcGUgPSBkcm9wZG93blNjb3BlO1xuICB9O1xuXG4gIHRoaXMuY2xvc2UgPSBmdW5jdGlvbiggZHJvcGRvd25TY29wZSApIHtcbiAgICBpZiAoIG9wZW5TY29wZSA9PT0gZHJvcGRvd25TY29wZSApIHtcbiAgICAgIG9wZW5TY29wZSA9IG51bGw7XG4gICAgICAkZG9jdW1lbnQudW5iaW5kKCdjbGljaycsIGNsb3NlRHJvcGRvd24pO1xuICAgICAgJGRvY3VtZW50LnVuYmluZCgna2V5ZG93bicsIGtleWJpbmRGaWx0ZXIpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgY2xvc2VEcm9wZG93biA9IGZ1bmN0aW9uKCBldnQgKSB7XG4gICAgLy8gVGhpcyBtZXRob2QgbWF5IHN0aWxsIGJlIGNhbGxlZCBkdXJpbmcgdGhlIHNhbWUgbW91c2UgZXZlbnQgdGhhdFxuICAgIC8vIHVuYm91bmQgdGhpcyBldmVudCBoYW5kbGVyLiBTbyBjaGVjayBvcGVuU2NvcGUgYmVmb3JlIHByb2NlZWRpbmcuXG4gICAgaWYgKCFvcGVuU2NvcGUpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiggZXZ0ICYmIG9wZW5TY29wZS5nZXRBdXRvQ2xvc2UoKSA9PT0gJ2Rpc2FibGVkJyApICB7IHJldHVybiA7IH1cblxuICAgIHZhciB0b2dnbGVFbGVtZW50ID0gb3BlblNjb3BlLmdldFRvZ2dsZUVsZW1lbnQoKTtcbiAgICBpZiAoIGV2dCAmJiB0b2dnbGVFbGVtZW50ICYmIHRvZ2dsZUVsZW1lbnRbMF0uY29udGFpbnMoZXZ0LnRhcmdldCkgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGRyb3Bkb3duRWxlbWVudCA9IG9wZW5TY29wZS5nZXREcm9wZG93bkVsZW1lbnQoKTtcbiAgICBpZiAoZXZ0ICYmIG9wZW5TY29wZS5nZXRBdXRvQ2xvc2UoKSA9PT0gJ291dHNpZGVDbGljaycgJiZcbiAgICAgIGRyb3Bkb3duRWxlbWVudCAmJiBkcm9wZG93bkVsZW1lbnRbMF0uY29udGFpbnMoZXZ0LnRhcmdldCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvcGVuU2NvcGUuaXNPcGVuID0gZmFsc2U7XG5cbiAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgb3BlblNjb3BlLiRhcHBseSgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIga2V5YmluZEZpbHRlciA9IGZ1bmN0aW9uKCBldnQgKSB7XG4gICAgaWYgKCBldnQud2hpY2ggPT09IDI3ICkge1xuICAgICAgb3BlblNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudCgpO1xuICAgICAgY2xvc2VEcm9wZG93bigpO1xuICAgIH1cbiAgICBlbHNlIGlmICggb3BlblNjb3BlLmlzS2V5bmF2RW5hYmxlZCgpICYmIC8oMzh8NDApLy50ZXN0KGV2dC53aGljaCkgJiYgb3BlblNjb3BlLmlzT3BlbiApIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgb3BlblNjb3BlLmZvY3VzRHJvcGRvd25FbnRyeShldnQud2hpY2gpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uY29udHJvbGxlcignRHJvcGRvd25Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsICdkcm9wZG93bkNvbmZpZycsICdkcm9wZG93blNlcnZpY2UnLCAnJGFuaW1hdGUnLCAnJHBvc2l0aW9uJywgJyRkb2N1bWVudCcsICckY29tcGlsZScsICckdGVtcGxhdGVSZXF1ZXN0JywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsICRwYXJzZSwgZHJvcGRvd25Db25maWcsIGRyb3Bkb3duU2VydmljZSwgJGFuaW1hdGUsICRwb3NpdGlvbiwgJGRvY3VtZW50LCAkY29tcGlsZSwgJHRlbXBsYXRlUmVxdWVzdCkge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgc2NvcGUgPSAkc2NvcGUuJG5ldygpLCAvLyBjcmVhdGUgYSBjaGlsZCBzY29wZSBzbyB3ZSBhcmUgbm90IHBvbGx1dGluZyBvcmlnaW5hbCBvbmVcblx0dGVtcGxhdGVTY29wZSxcbiAgICBvcGVuQ2xhc3MgPSBkcm9wZG93bkNvbmZpZy5vcGVuQ2xhc3MsXG4gICAgZ2V0SXNPcGVuLFxuICAgIHNldElzT3BlbiA9IGFuZ3VsYXIubm9vcCxcbiAgICB0b2dnbGVJbnZva2VyID0gJGF0dHJzLm9uVG9nZ2xlID8gJHBhcnNlKCRhdHRycy5vblRvZ2dsZSkgOiBhbmd1bGFyLm5vb3AsXG4gICAgYXBwZW5kVG9Cb2R5ID0gZmFsc2UsXG4gICAga2V5bmF2RW5hYmxlZCA9ZmFsc2UsXG4gICAgc2VsZWN0ZWRPcHRpb24gPSBudWxsO1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuICAgIHNlbGYuJGVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgaWYgKCAkYXR0cnMuaXNPcGVuICkge1xuICAgICAgZ2V0SXNPcGVuID0gJHBhcnNlKCRhdHRycy5pc09wZW4pO1xuICAgICAgc2V0SXNPcGVuID0gZ2V0SXNPcGVuLmFzc2lnbjtcblxuICAgICAgJHNjb3BlLiR3YXRjaChnZXRJc09wZW4sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHNjb3BlLmlzT3BlbiA9ICEhdmFsdWU7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBhcHBlbmRUb0JvZHkgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuZHJvcGRvd25BcHBlbmRUb0JvZHkpO1xuICAgIGtleW5hdkVuYWJsZWQgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMua2V5Ym9hcmROYXYpO1xuXG4gICAgaWYgKCBhcHBlbmRUb0JvZHkgJiYgc2VsZi5kcm9wZG93bk1lbnUgKSB7XG4gICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZCggc2VsZi5kcm9wZG93bk1lbnUgKTtcbiAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24gaGFuZGxlRGVzdHJveUV2ZW50KCkge1xuICAgICAgICBzZWxmLmRyb3Bkb3duTWVudS5yZW1vdmUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLnRvZ2dsZSA9IGZ1bmN0aW9uKCBvcGVuICkge1xuICAgIHJldHVybiBzY29wZS5pc09wZW4gPSBhcmd1bWVudHMubGVuZ3RoID8gISFvcGVuIDogIXNjb3BlLmlzT3BlbjtcbiAgfTtcblxuICAvLyBBbGxvdyBvdGhlciBkaXJlY3RpdmVzIHRvIHdhdGNoIHN0YXR1c1xuICB0aGlzLmlzT3BlbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzY29wZS5pc09wZW47XG4gIH07XG5cbiAgc2NvcGUuZ2V0VG9nZ2xlRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzZWxmLnRvZ2dsZUVsZW1lbnQ7XG4gIH07XG5cbiAgc2NvcGUuZ2V0QXV0b0Nsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICRhdHRycy5hdXRvQ2xvc2UgfHwgJ2Fsd2F5cyc7IC8vb3IgJ291dHNpZGVDbGljaycgb3IgJ2Rpc2FibGVkJ1xuICB9O1xuXG4gIHNjb3BlLmdldEVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi4kZWxlbWVudDtcbiAgfTtcblxuICBzY29wZS5pc0tleW5hdkVuYWJsZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ga2V5bmF2RW5hYmxlZDtcbiAgfTtcblxuICBzY29wZS5mb2N1c0Ryb3Bkb3duRW50cnkgPSBmdW5jdGlvbihrZXlDb2RlKSB7XG4gICAgdmFyIGVsZW1zID0gc2VsZi5kcm9wZG93bk1lbnUgPyAvL0lmIGFwcGVuZCB0byBib2R5IGlzIHVzZWQuXG4gICAgICAoYW5ndWxhci5lbGVtZW50KHNlbGYuZHJvcGRvd25NZW51KS5maW5kKCdhJykpIDpcbiAgICAgIChhbmd1bGFyLmVsZW1lbnQoc2VsZi4kZWxlbWVudCkuZmluZCgndWwnKS5lcSgwKS5maW5kKCdhJykpO1xuXG4gICAgc3dpdGNoIChrZXlDb2RlKSB7XG4gICAgICBjYXNlICg0MCk6IHtcbiAgICAgICAgaWYgKCAhYW5ndWxhci5pc051bWJlcihzZWxmLnNlbGVjdGVkT3B0aW9uKSkge1xuICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gPSAoc2VsZi5zZWxlY3RlZE9wdGlvbiA9PT0gZWxlbXMubGVuZ3RoIC0xID9cbiAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gOlxuICAgICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiArIDEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAoMzgpOiB7XG4gICAgICAgIGlmICggIWFuZ3VsYXIuaXNOdW1iZXIoc2VsZi5zZWxlY3RlZE9wdGlvbikpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA9IChzZWxmLnNlbGVjdGVkT3B0aW9uID09PSAwID9cbiAgICAgICAgICAgIDAgOlxuICAgICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBlbGVtc1tzZWxmLnNlbGVjdGVkT3B0aW9uXS5mb2N1cygpO1xuICB9O1xuXG4gIHNjb3BlLmdldERyb3Bkb3duRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzZWxmLmRyb3Bkb3duTWVudTtcbiAgfTtcblxuICBzY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIHNlbGYudG9nZ2xlRWxlbWVudCApIHtcbiAgICAgIHNlbGYudG9nZ2xlRWxlbWVudFswXS5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICBzY29wZS4kd2F0Y2goJ2lzT3BlbicsIGZ1bmN0aW9uKCBpc09wZW4sIHdhc09wZW4gKSB7XG4gICAgaWYgKGFwcGVuZFRvQm9keSAmJiBzZWxmLmRyb3Bkb3duTWVudSkge1xuICAgICAgICB2YXIgcG9zID0gJHBvc2l0aW9uLnBvc2l0aW9uRWxlbWVudHMoc2VsZi4kZWxlbWVudCwgc2VsZi5kcm9wZG93bk1lbnUsICdib3R0b20tbGVmdCcsIHRydWUpO1xuICAgICAgICB2YXIgY3NzID0ge1xuICAgICAgICAgICAgdG9wOiBwb3MudG9wICsgJ3B4JyxcbiAgICAgICAgICAgIGRpc3BsYXk6IGlzT3BlbiA/ICdibG9jaycgOiAnbm9uZSdcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmlnaHRhbGlnbiA9IHNlbGYuZHJvcGRvd25NZW51Lmhhc0NsYXNzKCdkcm9wZG93bi1tZW51LXJpZ2h0Jyk7XG4gICAgICAgIGlmICghcmlnaHRhbGlnbikge1xuICAgICAgICAgICAgY3NzLmxlZnQgPSBwb3MubGVmdCArICdweCc7XG4gICAgICAgICAgICBjc3MucmlnaHQgPSAnYXV0byc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjc3MubGVmdCA9ICdhdXRvJztcbiAgICAgICAgICAgIGNzcy5yaWdodCA9ICh3aW5kb3cuaW5uZXJXaWR0aCAtIChwb3MubGVmdCArIHNlbGYuJGVsZW1lbnQucHJvcCgnb2Zmc2V0V2lkdGgnKSkpICsgJ3B4JztcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuZHJvcGRvd25NZW51LmNzcyhjc3MpO1xuICAgIH1cblxuICAgICRhbmltYXRlW2lzT3BlbiA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShzZWxmLiRlbGVtZW50LCBvcGVuQ2xhc3MpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpc09wZW4pICYmIGlzT3BlbiAhPT0gd2FzT3Blbikge1xuICAgICAgICAgICB0b2dnbGVJbnZva2VyKCRzY29wZSwgeyBvcGVuOiAhIWlzT3BlbiB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCBpc09wZW4gKSB7XG4gICAgICBpZiAoc2VsZi5kcm9wZG93bk1lbnVUZW1wbGF0ZVVybCkge1xuICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0KHNlbGYuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwpLnRoZW4oZnVuY3Rpb24odHBsQ29udGVudCkge1xuICAgICAgICAgIHRlbXBsYXRlU2NvcGUgPSBzY29wZS4kbmV3KCk7XG4gICAgICAgICAgJGNvbXBpbGUodHBsQ29udGVudC50cmltKCkpKHRlbXBsYXRlU2NvcGUsIGZ1bmN0aW9uKGRyb3Bkb3duRWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIG5ld0VsID0gZHJvcGRvd25FbGVtZW50O1xuICAgICAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUucmVwbGFjZVdpdGgobmV3RWwpO1xuICAgICAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUgPSBuZXdFbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudCgpO1xuICAgICAgZHJvcGRvd25TZXJ2aWNlLm9wZW4oIHNjb3BlICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzZWxmLmRyb3Bkb3duTWVudVRlbXBsYXRlVXJsKSB7XG4gICAgICAgIGlmICh0ZW1wbGF0ZVNjb3BlKSB7XG4gICAgICAgICAgdGVtcGxhdGVTY29wZS4kZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXdFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPjwvdWw+Jyk7XG4gICAgICAgIHNlbGYuZHJvcGRvd25NZW51LnJlcGxhY2VXaXRoKG5ld0VsKTtcbiAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUgPSBuZXdFbDtcbiAgICAgIH1cblxuICAgICAgZHJvcGRvd25TZXJ2aWNlLmNsb3NlKCBzY29wZSApO1xuICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA9IG51bGw7XG4gICAgfVxuXG4gICAgc2V0SXNPcGVuKCRzY29wZSwgaXNPcGVuKTtcbiAgfSk7XG5cbiAgJHNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKCkge1xuICAgIGlmIChzY29wZS5nZXRBdXRvQ2xvc2UoKSAhPT0gJ2Rpc2FibGVkJykge1xuICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgIHNjb3BlLiRkZXN0cm95KCk7XG4gIH0pO1xufV0pXG5cbi5kaXJlY3RpdmUoJ2Ryb3Bkb3duJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgY29udHJvbGxlcjogJ0Ryb3Bkb3duQ29udHJvbGxlcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBkcm9wZG93bkN0cmwpIHtcbiAgICAgIGRyb3Bkb3duQ3RybC5pbml0KCBlbGVtZW50ICk7XG4gICAgICBlbGVtZW50LmFkZENsYXNzKCdkcm9wZG93bicpO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2Ryb3Bkb3duTWVudScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQUMnLFxuICAgIHJlcXVpcmU6ICc/XmRyb3Bkb3duJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkge1xuICAgICAgaWYgKCFkcm9wZG93bkN0cmwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHRwbFVybCA9IGF0dHJzLnRlbXBsYXRlVXJsO1xuICAgICAgaWYgKHRwbFVybCkge1xuICAgICAgICBkcm9wZG93bkN0cmwuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwgPSB0cGxVcmw7XG4gICAgICB9XG4gICAgICBpZiAoIWRyb3Bkb3duQ3RybC5kcm9wZG93bk1lbnUpIHtcbiAgICAgICAgZHJvcGRvd25DdHJsLmRyb3Bkb3duTWVudSA9IGVsZW1lbnQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgna2V5Ym9hcmROYXYnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/XmRyb3Bkb3duJyxcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBkcm9wZG93bkN0cmwpIHtcblxuICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuXG4gICAgICAgIGlmIChbMzgsIDQwXS5pbmRleE9mKGUud2hpY2gpICE9PSAtMSkge1xuXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICB2YXIgZWxlbXMgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudCkuZmluZCgnYScpO1xuXG4gICAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgKDQwKTogeyAvLyBEb3duXG4gICAgICAgICAgICAgIGlmICggIWFuZ3VsYXIuaXNOdW1iZXIoZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uKSkge1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9IDA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID0gKGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9PT0gZWxlbXMubGVuZ3RoIC0xID8gZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uIDogZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uKzEpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAoMzgpOiB7IC8vIFVwXG4gICAgICAgICAgICAgIGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9IChkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24gPT09IDAgPyAwIDogZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1zW2Ryb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbl0uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdkcm9wZG93blRvZ2dsZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICc/XmRyb3Bkb3duJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkge1xuICAgICAgaWYgKCAhZHJvcGRvd25DdHJsICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2Ryb3Bkb3duLXRvZ2dsZScpO1xuXG4gICAgICBkcm9wZG93bkN0cmwudG9nZ2xlRWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgIHZhciB0b2dnbGVEcm9wZG93biA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKCAhZWxlbWVudC5oYXNDbGFzcygnZGlzYWJsZWQnKSAmJiAhYXR0cnMuZGlzYWJsZWQgKSB7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZHJvcGRvd25DdHJsLnRvZ2dsZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBlbGVtZW50LmJpbmQoJ2NsaWNrJywgdG9nZ2xlRHJvcGRvd24pO1xuXG4gICAgICAvLyBXQUktQVJJQVxuICAgICAgZWxlbWVudC5hdHRyKHsgJ2FyaWEtaGFzcG9wdXAnOiB0cnVlLCAnYXJpYS1leHBhbmRlZCc6IGZhbHNlIH0pO1xuICAgICAgc2NvcGUuJHdhdGNoKGRyb3Bkb3duQ3RybC5pc09wZW4sIGZ1bmN0aW9uKCBpc09wZW4gKSB7XG4gICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsICEhaXNPcGVuKTtcbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQudW5iaW5kKCdjbGljaycsIHRvZ2dsZURyb3Bkb3duKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLm1vZGFsJywgW10pXG5cbi8qKlxuICogQSBoZWxwZXIsIGludGVybmFsIGRhdGEgc3RydWN0dXJlIHRoYXQgYWN0cyBhcyBhIG1hcCBidXQgYWxzbyBhbGxvd3MgZ2V0dGluZyAvIHJlbW92aW5nXG4gKiBlbGVtZW50cyBpbiB0aGUgTElGTyBvcmRlclxuICovXG4gIC5mYWN0b3J5KCckJHN0YWNrZWRNYXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZU5ldzogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhY2sgPSBbXTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFkZDogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAoa2V5ID09IHN0YWNrW2ldLmtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGFja1tpXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAga2V5czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBrZXlzLnB1c2goc3RhY2tbaV0ua2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciBpZHggPSAtMTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKGtleSA9PSBzdGFja1tpXS5rZXkpIHtcbiAgICAgICAgICAgICAgICBpZHggPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RhY2suc3BsaWNlKGlkeCwgMSlbMF07XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZW1vdmVUb3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFjay5zcGxpY2Uoc3RhY2subGVuZ3RoIC0gMSwgMSlbMF07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsZW5ndGg6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFjay5sZW5ndGg7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gIH0pXG5cbi8qKlxuICogQSBoZWxwZXIgZGlyZWN0aXZlIGZvciB0aGUgJG1vZGFsIHNlcnZpY2UuIEl0IGNyZWF0ZXMgYSBiYWNrZHJvcCBlbGVtZW50LlxuICovXG4gIC5kaXJlY3RpdmUoJ21vZGFsQmFja2Ryb3AnLCBbXG4gICAgICAgICAgICckYW5pbWF0ZScsICckbW9kYWxTdGFjaycsXG4gIGZ1bmN0aW9uICgkYW5pbWF0ZSAsICAkbW9kYWxTdGFjaykge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWwnLFxuICAgICAgY29tcGlsZTogZnVuY3Rpb24gKHRFbGVtZW50LCB0QXR0cnMpIHtcbiAgICAgICAgdEVsZW1lbnQuYWRkQ2xhc3ModEF0dHJzLmJhY2tkcm9wQ2xhc3MpO1xuICAgICAgICByZXR1cm4gbGlua0ZuO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBsaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICBpZiAoYXR0cnMubW9kYWxJbkNsYXNzKSB7XG4gICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcyk7XG5cbiAgICAgICAgc2NvcGUuJG9uKCRtb2RhbFN0YWNrLk5PV19DTE9TSU5HX0VWRU5ULCBmdW5jdGlvbiAoZSwgc2V0SXNBc3luYykge1xuICAgICAgICAgIHZhciBkb25lID0gc2V0SXNBc3luYygpO1xuICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcykudGhlbihkb25lKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XSlcblxuICAuZGlyZWN0aXZlKCdtb2RhbFdpbmRvdycsIFtcbiAgICAgICAgICAgJyRtb2RhbFN0YWNrJywgJyRxJywgJyRhbmltYXRlJyxcbiAgZnVuY3Rpb24gKCRtb2RhbFN0YWNrICwgICRxICwgICRhbmltYXRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgaW5kZXg6ICdAJ1xuICAgICAgfSxcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHtcbiAgICAgICAgcmV0dXJuIHRBdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWwnO1xuICAgICAgfSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhhdHRycy53aW5kb3dDbGFzcyB8fCAnJyk7XG4gICAgICAgIHNjb3BlLnNpemUgPSBhdHRycy5zaXplO1xuXG4gICAgICAgIHNjb3BlLmNsb3NlID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgIHZhciBtb2RhbCA9ICRtb2RhbFN0YWNrLmdldFRvcCgpO1xuICAgICAgICAgIGlmIChtb2RhbCAmJiBtb2RhbC52YWx1ZS5iYWNrZHJvcCAmJiBtb2RhbC52YWx1ZS5iYWNrZHJvcCAhPSAnc3RhdGljJyAmJiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpKSB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWwua2V5LCAnYmFja2Ryb3AgY2xpY2snKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVGhpcyBwcm9wZXJ0eSBpcyBvbmx5IGFkZGVkIHRvIHRoZSBzY29wZSBmb3IgdGhlIHB1cnBvc2Ugb2YgZGV0ZWN0aW5nIHdoZW4gdGhpcyBkaXJlY3RpdmUgaXMgcmVuZGVyZWQuXG4gICAgICAgIC8vIFdlIGNhbiBkZXRlY3QgdGhhdCBieSB1c2luZyB0aGlzIHByb3BlcnR5IGluIHRoZSB0ZW1wbGF0ZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBkaXJlY3RpdmUgYW5kIHRoZW4gdXNlXG4gICAgICAgIC8vIHtAbGluayBBdHRyaWJ1dGUjJG9ic2VydmV9IG9uIGl0LiBGb3IgbW9yZSBkZXRhaWxzIHBsZWFzZSBzZWUge0BsaW5rIFRhYmxlQ29sdW1uUmVzaXplfS5cbiAgICAgICAgc2NvcGUuJGlzUmVuZGVyZWQgPSB0cnVlO1xuXG4gICAgICAgIC8vIERlZmVycmVkIG9iamVjdCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2hlbiB0aGlzIG1vZGFsIGlzIHJlbmRlci5cbiAgICAgICAgdmFyIG1vZGFsUmVuZGVyRGVmZXJPYmogPSAkcS5kZWZlcigpO1xuICAgICAgICAvLyBPYnNlcnZlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIG9uIG5leHQgZGlnZXN0IGN5Y2xlIGFmdGVyIGNvbXBpbGF0aW9uLCBlbnN1cmluZyB0aGF0IHRoZSBET00gaXMgcmVhZHkuXG4gICAgICAgIC8vIEluIG9yZGVyIHRvIHVzZSB0aGlzIHdheSBvZiBmaW5kaW5nIHdoZXRoZXIgRE9NIGlzIHJlYWR5LCB3ZSBuZWVkIHRvIG9ic2VydmUgYSBzY29wZSBwcm9wZXJ0eSB1c2VkIGluIG1vZGFsJ3MgdGVtcGxhdGUuXG4gICAgICAgIGF0dHJzLiRvYnNlcnZlKCdtb2RhbFJlbmRlcicsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIGlmICh2YWx1ZSA9PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIG1vZGFsUmVuZGVyRGVmZXJPYmoucmVzb2x2ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbW9kYWxSZW5kZXJEZWZlck9iai5wcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChhdHRycy5tb2RhbEluQ2xhc3MpIHtcbiAgICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcyk7XG5cbiAgICAgICAgICAgIHNjb3BlLiRvbigkbW9kYWxTdGFjay5OT1dfQ0xPU0lOR19FVkVOVCwgZnVuY3Rpb24gKGUsIHNldElzQXN5bmMpIHtcbiAgICAgICAgICAgICAgdmFyIGRvbmUgPSBzZXRJc0FzeW5jKCk7XG4gICAgICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcykudGhlbihkb25lKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBpbnB1dHNXaXRoQXV0b2ZvY3VzID0gZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKCdbYXV0b2ZvY3VzXScpO1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEF1dG8tZm9jdXNpbmcgb2YgYSBmcmVzaGx5LW9wZW5lZCBtb2RhbCBlbGVtZW50IGNhdXNlcyBhbnkgY2hpbGQgZWxlbWVudHNcbiAgICAgICAgICAgKiB3aXRoIHRoZSBhdXRvZm9jdXMgYXR0cmlidXRlIHRvIGxvc2UgZm9jdXMuIFRoaXMgaXMgYW4gaXNzdWUgb24gdG91Y2hcbiAgICAgICAgICAgKiBiYXNlZCBkZXZpY2VzIHdoaWNoIHdpbGwgc2hvdyBhbmQgdGhlbiBoaWRlIHRoZSBvbnNjcmVlbiBrZXlib2FyZC5cbiAgICAgICAgICAgKiBBdHRlbXB0cyB0byByZWZvY3VzIHRoZSBhdXRvZm9jdXMgZWxlbWVudCB2aWEgSmF2YVNjcmlwdCB3aWxsIG5vdCByZW9wZW5cbiAgICAgICAgICAgKiB0aGUgb25zY3JlZW4ga2V5Ym9hcmQuIEZpeGVkIGJ5IHVwZGF0ZWQgdGhlIGZvY3VzaW5nIGxvZ2ljIHRvIG9ubHkgYXV0b2ZvY3VzXG4gICAgICAgICAgICogdGhlIG1vZGFsIGVsZW1lbnQgaWYgdGhlIG1vZGFsIGRvZXMgbm90IGNvbnRhaW4gYW4gYXV0b2ZvY3VzIGVsZW1lbnQuXG4gICAgICAgICAgICovXG4gICAgICAgICAgaWYgKGlucHV0c1dpdGhBdXRvZm9jdXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpbnB1dHNXaXRoQXV0b2ZvY3VzWzBdLmZvY3VzKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBOb3RpZnkge0BsaW5rICRtb2RhbFN0YWNrfSB0aGF0IG1vZGFsIGlzIHJlbmRlcmVkLlxuICAgICAgICAgIHZhciBtb2RhbCA9ICRtb2RhbFN0YWNrLmdldFRvcCgpO1xuICAgICAgICAgIGlmIChtb2RhbCkge1xuICAgICAgICAgICAgJG1vZGFsU3RhY2subW9kYWxSZW5kZXJlZChtb2RhbC5rZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pXG5cbiAgLmRpcmVjdGl2ZSgnbW9kYWxBbmltYXRpb25DbGFzcycsIFtcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW1lbnQsIHRBdHRycykge1xuICAgICAgICAgIGlmICh0QXR0cnMubW9kYWxBbmltYXRpb24pIHtcbiAgICAgICAgICAgIHRFbGVtZW50LmFkZENsYXNzKHRBdHRycy5tb2RhbEFuaW1hdGlvbkNsYXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pXG5cbiAgLmRpcmVjdGl2ZSgnbW9kYWxUcmFuc2NsdWRlJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsIGNvbnRyb2xsZXIsICR0cmFuc2NsdWRlKSB7XG4gICAgICAgICR0cmFuc2NsdWRlKCRzY29wZS4kcGFyZW50LCBmdW5jdGlvbihjbG9uZSkge1xuICAgICAgICAgICRlbGVtZW50LmVtcHR5KCk7XG4gICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSlcblxuICAuZmFjdG9yeSgnJG1vZGFsU3RhY2snLCBbXG4gICAgICAgICAgICAgJyRhbmltYXRlJywgJyR0aW1lb3V0JywgJyRkb2N1bWVudCcsICckY29tcGlsZScsICckcm9vdFNjb3BlJyxcbiAgICAgICAgICAgICAnJHEnLFxuICAgICAgICAgICAgICckJHN0YWNrZWRNYXAnLFxuICAgIGZ1bmN0aW9uICgkYW5pbWF0ZSAsICAkdGltZW91dCAsICAkZG9jdW1lbnQgLCAgJGNvbXBpbGUgLCAgJHJvb3RTY29wZSAsXG4gICAgICAgICAgICAgICRxLFxuICAgICAgICAgICAgICAkJHN0YWNrZWRNYXApIHtcblxuICAgICAgdmFyIE9QRU5FRF9NT0RBTF9DTEFTUyA9ICdtb2RhbC1vcGVuJztcblxuICAgICAgdmFyIGJhY2tkcm9wRG9tRWwsIGJhY2tkcm9wU2NvcGU7XG4gICAgICB2YXIgb3BlbmVkV2luZG93cyA9ICQkc3RhY2tlZE1hcC5jcmVhdGVOZXcoKTtcbiAgICAgIHZhciAkbW9kYWxTdGFjayA9IHtcbiAgICAgICAgTk9XX0NMT1NJTkdfRVZFTlQ6ICdtb2RhbC5zdGFjay5ub3ctY2xvc2luZydcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIGJhY2tkcm9wSW5kZXgoKSB7XG4gICAgICAgIHZhciB0b3BCYWNrZHJvcEluZGV4ID0gLTE7XG4gICAgICAgIHZhciBvcGVuZWQgPSBvcGVuZWRXaW5kb3dzLmtleXMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcGVuZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAob3BlbmVkV2luZG93cy5nZXQob3BlbmVkW2ldKS52YWx1ZS5iYWNrZHJvcCkge1xuICAgICAgICAgICAgdG9wQmFja2Ryb3BJbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b3BCYWNrZHJvcEluZGV4O1xuICAgICAgfVxuXG4gICAgICAkcm9vdFNjb3BlLiR3YXRjaChiYWNrZHJvcEluZGV4LCBmdW5jdGlvbihuZXdCYWNrZHJvcEluZGV4KXtcbiAgICAgICAgaWYgKGJhY2tkcm9wU2NvcGUpIHtcbiAgICAgICAgICBiYWNrZHJvcFNjb3BlLmluZGV4ID0gbmV3QmFja2Ryb3BJbmRleDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZU1vZGFsV2luZG93KG1vZGFsSW5zdGFuY2UsIGVsZW1lbnRUb1JlY2VpdmVGb2N1cykge1xuXG4gICAgICAgIHZhciBib2R5ID0gJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5lcSgwKTtcbiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSkudmFsdWU7XG5cbiAgICAgICAgLy9jbGVhbiB1cCB0aGUgc3RhY2tcbiAgICAgICAgb3BlbmVkV2luZG93cy5yZW1vdmUobW9kYWxJbnN0YW5jZSk7XG5cbiAgICAgICAgcmVtb3ZlQWZ0ZXJBbmltYXRlKG1vZGFsV2luZG93Lm1vZGFsRG9tRWwsIG1vZGFsV2luZG93Lm1vZGFsU2NvcGUsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGJvZHkudG9nZ2xlQ2xhc3MoT1BFTkVEX01PREFMX0NMQVNTLCBvcGVuZWRXaW5kb3dzLmxlbmd0aCgpID4gMCk7XG4gICAgICAgICAgY2hlY2tSZW1vdmVCYWNrZHJvcCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL21vdmUgZm9jdXMgdG8gc3BlY2lmaWVkIGVsZW1lbnQgaWYgYXZhaWxhYmxlLCBvciBlbHNlIHRvIGJvZHlcbiAgICAgICAgaWYgKGVsZW1lbnRUb1JlY2VpdmVGb2N1cyAmJiBlbGVtZW50VG9SZWNlaXZlRm9jdXMuZm9jdXMpIHtcbiAgICAgICAgICBlbGVtZW50VG9SZWNlaXZlRm9jdXMuZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBib2R5LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2hlY2tSZW1vdmVCYWNrZHJvcCgpIHtcbiAgICAgICAgICAvL3JlbW92ZSBiYWNrZHJvcCBpZiBubyBsb25nZXIgbmVlZGVkXG4gICAgICAgICAgaWYgKGJhY2tkcm9wRG9tRWwgJiYgYmFja2Ryb3BJbmRleCgpID09IC0xKSB7XG4gICAgICAgICAgICB2YXIgYmFja2Ryb3BTY29wZVJlZiA9IGJhY2tkcm9wU2NvcGU7XG4gICAgICAgICAgICByZW1vdmVBZnRlckFuaW1hdGUoYmFja2Ryb3BEb21FbCwgYmFja2Ryb3BTY29wZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBiYWNrZHJvcFNjb3BlUmVmID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYmFja2Ryb3BEb21FbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGJhY2tkcm9wU2NvcGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZW1vdmVBZnRlckFuaW1hdGUoZG9tRWwsIHNjb3BlLCBkb25lKSB7XG4gICAgICAgIHZhciBhc3luY0RlZmVycmVkO1xuICAgICAgICB2YXIgYXN5bmNQcm9taXNlID0gbnVsbDtcbiAgICAgICAgdmFyIHNldElzQXN5bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKCFhc3luY0RlZmVycmVkKSB7XG4gICAgICAgICAgICBhc3luY0RlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIGFzeW5jUHJvbWlzZSA9IGFzeW5jRGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gYXN5bmNEb25lKCkge1xuICAgICAgICAgICAgYXN5bmNEZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgkbW9kYWxTdGFjay5OT1dfQ0xPU0lOR19FVkVOVCwgc2V0SXNBc3luYyk7XG5cbiAgICAgICAgLy8gTm90ZSB0aGF0IGl0J3MgaW50ZW50aW9uYWwgdGhhdCBhc3luY1Byb21pc2UgbWlnaHQgYmUgbnVsbC5cbiAgICAgICAgLy8gVGhhdCdzIHdoZW4gc2V0SXNBc3luYyBoYXMgbm90IGJlZW4gY2FsbGVkIGR1cmluZyB0aGVcbiAgICAgICAgLy8gTk9XX0NMT1NJTkdfRVZFTlQgYnJvYWRjYXN0LlxuICAgICAgICByZXR1cm4gJHEud2hlbihhc3luY1Byb21pc2UpLnRoZW4oYWZ0ZXJBbmltYXRpbmcpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFmdGVyQW5pbWF0aW5nKCkge1xuICAgICAgICAgIGlmIChhZnRlckFuaW1hdGluZy5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGFmdGVyQW5pbWF0aW5nLmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgZG9tRWwucmVtb3ZlKCk7XG4gICAgICAgICAgc2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkZG9jdW1lbnQuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgdmFyIG1vZGFsO1xuXG4gICAgICAgIGlmIChldnQud2hpY2ggPT09IDI3KSB7XG4gICAgICAgICAgbW9kYWwgPSBvcGVuZWRXaW5kb3dzLnRvcCgpO1xuICAgICAgICAgIGlmIChtb2RhbCAmJiBtb2RhbC52YWx1ZS5rZXlib2FyZCkge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWwua2V5LCAnZXNjYXBlIGtleSBwcmVzcycpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgJG1vZGFsU3RhY2sub3BlbiA9IGZ1bmN0aW9uIChtb2RhbEluc3RhbmNlLCBtb2RhbCkge1xuXG4gICAgICAgIHZhciBtb2RhbE9wZW5lciA9ICRkb2N1bWVudFswXS5hY3RpdmVFbGVtZW50O1xuXG4gICAgICAgIG9wZW5lZFdpbmRvd3MuYWRkKG1vZGFsSW5zdGFuY2UsIHtcbiAgICAgICAgICBkZWZlcnJlZDogbW9kYWwuZGVmZXJyZWQsXG4gICAgICAgICAgcmVuZGVyRGVmZXJyZWQ6IG1vZGFsLnJlbmRlckRlZmVycmVkLFxuICAgICAgICAgIG1vZGFsU2NvcGU6IG1vZGFsLnNjb3BlLFxuICAgICAgICAgIGJhY2tkcm9wOiBtb2RhbC5iYWNrZHJvcCxcbiAgICAgICAgICBrZXlib2FyZDogbW9kYWwua2V5Ym9hcmRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGJvZHkgPSAkZG9jdW1lbnQuZmluZCgnYm9keScpLmVxKDApLFxuICAgICAgICAgICAgY3VyckJhY2tkcm9wSW5kZXggPSBiYWNrZHJvcEluZGV4KCk7XG5cbiAgICAgICAgaWYgKGN1cnJCYWNrZHJvcEluZGV4ID49IDAgJiYgIWJhY2tkcm9wRG9tRWwpIHtcbiAgICAgICAgICBiYWNrZHJvcFNjb3BlID0gJHJvb3RTY29wZS4kbmV3KHRydWUpO1xuICAgICAgICAgIGJhY2tkcm9wU2NvcGUuaW5kZXggPSBjdXJyQmFja2Ryb3BJbmRleDtcbiAgICAgICAgICB2YXIgYW5ndWxhckJhY2tncm91bmREb21FbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBtb2RhbC1iYWNrZHJvcD1cIm1vZGFsLWJhY2tkcm9wXCI+PC9kaXY+Jyk7XG4gICAgICAgICAgYW5ndWxhckJhY2tncm91bmREb21FbC5hdHRyKCdiYWNrZHJvcC1jbGFzcycsIG1vZGFsLmJhY2tkcm9wQ2xhc3MpO1xuICAgICAgICAgIGlmIChtb2RhbC5hbmltYXRpb24pIHtcbiAgICAgICAgICAgIGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwuYXR0cignbW9kYWwtYW5pbWF0aW9uJywgJ3RydWUnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYmFja2Ryb3BEb21FbCA9ICRjb21waWxlKGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwpKGJhY2tkcm9wU2NvcGUpO1xuICAgICAgICAgIGJvZHkuYXBwZW5kKGJhY2tkcm9wRG9tRWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFuZ3VsYXJEb21FbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBtb2RhbC13aW5kb3c9XCJtb2RhbC13aW5kb3dcIj48L2Rpdj4nKTtcbiAgICAgICAgYW5ndWxhckRvbUVsLmF0dHIoe1xuICAgICAgICAgICd0ZW1wbGF0ZS11cmwnOiBtb2RhbC53aW5kb3dUZW1wbGF0ZVVybCxcbiAgICAgICAgICAnd2luZG93LWNsYXNzJzogbW9kYWwud2luZG93Q2xhc3MsXG4gICAgICAgICAgJ3NpemUnOiBtb2RhbC5zaXplLFxuICAgICAgICAgICdpbmRleCc6IG9wZW5lZFdpbmRvd3MubGVuZ3RoKCkgLSAxLFxuICAgICAgICAgICdhbmltYXRlJzogJ2FuaW1hdGUnXG4gICAgICAgIH0pLmh0bWwobW9kYWwuY29udGVudCk7XG4gICAgICAgIGlmIChtb2RhbC5hbmltYXRpb24pIHtcbiAgICAgICAgICBhbmd1bGFyRG9tRWwuYXR0cignbW9kYWwtYW5pbWF0aW9uJywgJ3RydWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtb2RhbERvbUVsID0gJGNvbXBpbGUoYW5ndWxhckRvbUVsKShtb2RhbC5zY29wZSk7XG4gICAgICAgIG9wZW5lZFdpbmRvd3MudG9wKCkudmFsdWUubW9kYWxEb21FbCA9IG1vZGFsRG9tRWw7XG4gICAgICAgIG9wZW5lZFdpbmRvd3MudG9wKCkudmFsdWUubW9kYWxPcGVuZXIgPSBtb2RhbE9wZW5lcjtcbiAgICAgICAgYm9keS5hcHBlbmQobW9kYWxEb21FbCk7XG4gICAgICAgIGJvZHkuYWRkQ2xhc3MoT1BFTkVEX01PREFMX0NMQVNTKTtcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIGJyb2FkY2FzdENsb3NpbmcobW9kYWxXaW5kb3csIHJlc3VsdE9yUmVhc29uLCBjbG9zaW5nKSB7XG4gICAgICAgICAgcmV0dXJuICFtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbFNjb3BlLiRicm9hZGNhc3QoJ21vZGFsLmNsb3NpbmcnLCByZXN1bHRPclJlYXNvbiwgY2xvc2luZykuZGVmYXVsdFByZXZlbnRlZDtcbiAgICAgIH1cblxuICAgICAgJG1vZGFsU3RhY2suY2xvc2UgPSBmdW5jdGlvbiAobW9kYWxJbnN0YW5jZSwgcmVzdWx0KSB7XG4gICAgICAgIHZhciBtb2RhbFdpbmRvdyA9IG9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpO1xuICAgICAgICBpZiAobW9kYWxXaW5kb3cgJiYgYnJvYWRjYXN0Q2xvc2luZyhtb2RhbFdpbmRvdywgcmVzdWx0LCB0cnVlKSkge1xuICAgICAgICAgIG1vZGFsV2luZG93LnZhbHVlLmRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlLCBtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbE9wZW5lcik7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFtb2RhbFdpbmRvdztcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MgPSBmdW5jdGlvbiAobW9kYWxJbnN0YW5jZSwgcmVhc29uKSB7XG4gICAgICAgIHZhciBtb2RhbFdpbmRvdyA9IG9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpO1xuICAgICAgICBpZiAobW9kYWxXaW5kb3cgJiYgYnJvYWRjYXN0Q2xvc2luZyhtb2RhbFdpbmRvdywgcmVhc29uLCBmYWxzZSkpIHtcbiAgICAgICAgICBtb2RhbFdpbmRvdy52YWx1ZS5kZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlLCBtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbE9wZW5lcik7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFtb2RhbFdpbmRvdztcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmRpc21pc3NBbGwgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIHZhciB0b3BNb2RhbCA9IHRoaXMuZ2V0VG9wKCk7XG4gICAgICAgIHdoaWxlICh0b3BNb2RhbCAmJiB0aGlzLmRpc21pc3ModG9wTW9kYWwua2V5LCByZWFzb24pKSB7XG4gICAgICAgICAgdG9wTW9kYWwgPSB0aGlzLmdldFRvcCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5nZXRUb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBvcGVuZWRXaW5kb3dzLnRvcCgpO1xuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2subW9kYWxSZW5kZXJlZCA9IGZ1bmN0aW9uIChtb2RhbEluc3RhbmNlKSB7XG4gICAgICAgIHZhciBtb2RhbFdpbmRvdyA9IG9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpO1xuICAgICAgICBpZiAobW9kYWxXaW5kb3cpIHtcbiAgICAgICAgICBtb2RhbFdpbmRvdy52YWx1ZS5yZW5kZXJEZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiAkbW9kYWxTdGFjaztcbiAgICB9XSlcblxuICAucHJvdmlkZXIoJyRtb2RhbCcsIGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciAkbW9kYWxQcm92aWRlciA9IHtcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgICBiYWNrZHJvcDogdHJ1ZSwgLy9jYW4gYWxzbyBiZSBmYWxzZSBvciAnc3RhdGljJ1xuICAgICAgICBrZXlib2FyZDogdHJ1ZVxuICAgICAgfSxcbiAgICAgICRnZXQ6IFsnJGluamVjdG9yJywgJyRyb290U2NvcGUnLCAnJHEnLCAnJHRlbXBsYXRlUmVxdWVzdCcsICckY29udHJvbGxlcicsICckbW9kYWxTdGFjaycsXG4gICAgICAgIGZ1bmN0aW9uICgkaW5qZWN0b3IsICRyb290U2NvcGUsICRxLCAkdGVtcGxhdGVSZXF1ZXN0LCAkY29udHJvbGxlciwgJG1vZGFsU3RhY2spIHtcblxuICAgICAgICAgIHZhciAkbW9kYWwgPSB7fTtcblxuICAgICAgICAgIGZ1bmN0aW9uIGdldFRlbXBsYXRlUHJvbWlzZShvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy50ZW1wbGF0ZSA/ICRxLndoZW4ob3B0aW9ucy50ZW1wbGF0ZSkgOlxuICAgICAgICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0KGFuZ3VsYXIuaXNGdW5jdGlvbihvcHRpb25zLnRlbXBsYXRlVXJsKSA/IChvcHRpb25zLnRlbXBsYXRlVXJsKSgpIDogb3B0aW9ucy50ZW1wbGF0ZVVybCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0UmVzb2x2ZVByb21pc2VzKHJlc29sdmVzKSB7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZXNBcnIgPSBbXTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChyZXNvbHZlcywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odmFsdWUpIHx8IGFuZ3VsYXIuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlc0Fyci5wdXNoKCRxLndoZW4oJGluamVjdG9yLmludm9rZSh2YWx1ZSkpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZXNBcnI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJG1vZGFsLm9wZW4gPSBmdW5jdGlvbiAobW9kYWxPcHRpb25zKSB7XG5cbiAgICAgICAgICAgIHZhciBtb2RhbFJlc3VsdERlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIHZhciBtb2RhbE9wZW5lZERlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIHZhciBtb2RhbFJlbmRlckRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgLy9wcmVwYXJlIGFuIGluc3RhbmNlIG9mIGEgbW9kYWwgdG8gYmUgaW5qZWN0ZWQgaW50byBjb250cm9sbGVycyBhbmQgcmV0dXJuZWQgdG8gYSBjYWxsZXJcbiAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0ge1xuICAgICAgICAgICAgICByZXN1bHQ6IG1vZGFsUmVzdWx0RGVmZXJyZWQucHJvbWlzZSxcbiAgICAgICAgICAgICAgb3BlbmVkOiBtb2RhbE9wZW5lZERlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgICAgIHJlbmRlcmVkOiBtb2RhbFJlbmRlckRlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRtb2RhbFN0YWNrLmNsb3NlKG1vZGFsSW5zdGFuY2UsIHJlc3VsdCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGRpc21pc3M6IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJG1vZGFsU3RhY2suZGlzbWlzcyhtb2RhbEluc3RhbmNlLCByZWFzb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvL21lcmdlIGFuZCBjbGVhbiB1cCBvcHRpb25zXG4gICAgICAgICAgICBtb2RhbE9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgJG1vZGFsUHJvdmlkZXIub3B0aW9ucywgbW9kYWxPcHRpb25zKTtcbiAgICAgICAgICAgIG1vZGFsT3B0aW9ucy5yZXNvbHZlID0gbW9kYWxPcHRpb25zLnJlc29sdmUgfHwge307XG5cbiAgICAgICAgICAgIC8vdmVyaWZ5IG9wdGlvbnNcbiAgICAgICAgICAgIGlmICghbW9kYWxPcHRpb25zLnRlbXBsYXRlICYmICFtb2RhbE9wdGlvbnMudGVtcGxhdGVVcmwpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmUgb2YgdGVtcGxhdGUgb3IgdGVtcGxhdGVVcmwgb3B0aW9ucyBpcyByZXF1aXJlZC4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2UgPVxuICAgICAgICAgICAgICAkcS5hbGwoW2dldFRlbXBsYXRlUHJvbWlzZShtb2RhbE9wdGlvbnMpXS5jb25jYXQoZ2V0UmVzb2x2ZVByb21pc2VzKG1vZGFsT3B0aW9ucy5yZXNvbHZlKSkpO1xuXG5cbiAgICAgICAgICAgIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2UudGhlbihmdW5jdGlvbiByZXNvbHZlU3VjY2Vzcyh0cGxBbmRWYXJzKSB7XG5cbiAgICAgICAgICAgICAgdmFyIG1vZGFsU2NvcGUgPSAobW9kYWxPcHRpb25zLnNjb3BlIHx8ICRyb290U2NvcGUpLiRuZXcoKTtcbiAgICAgICAgICAgICAgbW9kYWxTY29wZS4kY2xvc2UgPSBtb2RhbEluc3RhbmNlLmNsb3NlO1xuICAgICAgICAgICAgICBtb2RhbFNjb3BlLiRkaXNtaXNzID0gbW9kYWxJbnN0YW5jZS5kaXNtaXNzO1xuXG4gICAgICAgICAgICAgIHZhciBjdHJsSW5zdGFuY2UsIGN0cmxMb2NhbHMgPSB7fTtcbiAgICAgICAgICAgICAgdmFyIHJlc29sdmVJdGVyID0gMTtcblxuICAgICAgICAgICAgICAvL2NvbnRyb2xsZXJzXG4gICAgICAgICAgICAgIGlmIChtb2RhbE9wdGlvbnMuY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIGN0cmxMb2NhbHMuJHNjb3BlID0gbW9kYWxTY29wZTtcbiAgICAgICAgICAgICAgICBjdHJsTG9jYWxzLiRtb2RhbEluc3RhbmNlID0gbW9kYWxJbnN0YW5jZTtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gobW9kYWxPcHRpb25zLnJlc29sdmUsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgICBjdHJsTG9jYWxzW2tleV0gPSB0cGxBbmRWYXJzW3Jlc29sdmVJdGVyKytdO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY3RybEluc3RhbmNlID0gJGNvbnRyb2xsZXIobW9kYWxPcHRpb25zLmNvbnRyb2xsZXIsIGN0cmxMb2NhbHMpO1xuICAgICAgICAgICAgICAgIGlmIChtb2RhbE9wdGlvbnMuY29udHJvbGxlckFzKSB7XG4gICAgICAgICAgICAgICAgICBpZiAobW9kYWxPcHRpb25zLmJpbmRUb0NvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQobW9kYWxTY29wZSwgY3RybEluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsU2NvcGVbbW9kYWxPcHRpb25zLmNvbnRyb2xsZXJBc10gPSBjdHJsSW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgJG1vZGFsU3RhY2sub3Blbihtb2RhbEluc3RhbmNlLCB7XG4gICAgICAgICAgICAgICAgc2NvcGU6IG1vZGFsU2NvcGUsXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQ6IG1vZGFsUmVzdWx0RGVmZXJyZWQsXG4gICAgICAgICAgICAgICAgcmVuZGVyRGVmZXJyZWQ6IG1vZGFsUmVuZGVyRGVmZXJyZWQsXG4gICAgICAgICAgICAgICAgY29udGVudDogdHBsQW5kVmFyc1swXSxcbiAgICAgICAgICAgICAgICBhbmltYXRpb246IG1vZGFsT3B0aW9ucy5hbmltYXRpb24sXG4gICAgICAgICAgICAgICAgYmFja2Ryb3A6IG1vZGFsT3B0aW9ucy5iYWNrZHJvcCxcbiAgICAgICAgICAgICAgICBrZXlib2FyZDogbW9kYWxPcHRpb25zLmtleWJvYXJkLFxuICAgICAgICAgICAgICAgIGJhY2tkcm9wQ2xhc3M6IG1vZGFsT3B0aW9ucy5iYWNrZHJvcENsYXNzLFxuICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiBtb2RhbE9wdGlvbnMud2luZG93Q2xhc3MsXG4gICAgICAgICAgICAgICAgd2luZG93VGVtcGxhdGVVcmw6IG1vZGFsT3B0aW9ucy53aW5kb3dUZW1wbGF0ZVVybCxcbiAgICAgICAgICAgICAgICBzaXplOiBtb2RhbE9wdGlvbnMuc2l6ZVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gcmVzb2x2ZUVycm9yKHJlYXNvbikge1xuICAgICAgICAgICAgICBtb2RhbFJlc3VsdERlZmVycmVkLnJlamVjdChyZWFzb24pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIG1vZGFsT3BlbmVkRGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgbW9kYWxPcGVuZWREZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gbW9kYWxJbnN0YW5jZTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmV0dXJuICRtb2RhbDtcbiAgICAgICAgfV1cbiAgICB9O1xuXG4gICAgcmV0dXJuICRtb2RhbFByb3ZpZGVyO1xuICB9KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5wYWdpbmF0aW9uJywgW10pXG4uY29udHJvbGxlcignUGFnaW5hdGlvbkNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnJHBhcnNlJywgZnVuY3Rpb24gKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9LCAvLyBudWxsTW9kZWxDdHJsXG4gICAgICBzZXROdW1QYWdlcyA9ICRhdHRycy5udW1QYWdlcyA/ICRwYXJzZSgkYXR0cnMubnVtUGFnZXMpLmFzc2lnbiA6IGFuZ3VsYXIubm9vcDtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8sIGNvbmZpZykge1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuXG4gICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5yZW5kZXIoKTtcbiAgICB9O1xuXG4gICAgaWYgKCRhdHRycy5pdGVtc1BlclBhZ2UpIHtcbiAgICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLml0ZW1zUGVyUGFnZSksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHNlbGYuaXRlbXNQZXJQYWdlID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgJHNjb3BlLnRvdGFsUGFnZXMgPSBzZWxmLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLml0ZW1zUGVyUGFnZSA9IGNvbmZpZy5pdGVtc1BlclBhZ2U7XG4gICAgfVxuXG4gICAgJHNjb3BlLiR3YXRjaCgndG90YWxJdGVtcycsIGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLnRvdGFsUGFnZXMgPSBzZWxmLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKTtcbiAgICB9KTtcblxuICAgICRzY29wZS4kd2F0Y2goJ3RvdGFsUGFnZXMnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgc2V0TnVtUGFnZXMoJHNjb3BlLiRwYXJlbnQsIHZhbHVlKTsgLy8gUmVhZG9ubHkgdmFyaWFibGVcblxuICAgICAgaWYgKCAkc2NvcGUucGFnZSA+IHZhbHVlICkge1xuICAgICAgICAkc2NvcGUuc2VsZWN0UGFnZSh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5jYWxjdWxhdGVUb3RhbFBhZ2VzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRvdGFsUGFnZXMgPSB0aGlzLml0ZW1zUGVyUGFnZSA8IDEgPyAxIDogTWF0aC5jZWlsKCRzY29wZS50b3RhbEl0ZW1zIC8gdGhpcy5pdGVtc1BlclBhZ2UpO1xuICAgIHJldHVybiBNYXRoLm1heCh0b3RhbFBhZ2VzIHx8IDAsIDEpO1xuICB9O1xuXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnBhZ2UgPSBwYXJzZUludChuZ01vZGVsQ3RybC4kdmlld1ZhbHVlLCAxMCkgfHwgMTtcbiAgfTtcblxuICAkc2NvcGUuc2VsZWN0UGFnZSA9IGZ1bmN0aW9uKHBhZ2UsIGV2dCkge1xuICAgIHZhciBjbGlja0FsbG93ZWQgPSAhJHNjb3BlLm5nRGlzYWJsZWQgfHwgIWV2dDtcbiAgICBpZiAoY2xpY2tBbGxvd2VkICYmICRzY29wZS5wYWdlICE9PSBwYWdlICYmIHBhZ2UgPiAwICYmIHBhZ2UgPD0gJHNjb3BlLnRvdGFsUGFnZXMpIHtcbiAgICAgIGlmIChldnQgJiYgZXZ0LnRhcmdldCkge1xuICAgICAgICBldnQudGFyZ2V0LmJsdXIoKTtcbiAgICAgIH1cbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUocGFnZSk7XG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5nZXRUZXh0ID0gZnVuY3Rpb24oIGtleSApIHtcbiAgICByZXR1cm4gJHNjb3BlW2tleSArICdUZXh0J10gfHwgc2VsZi5jb25maWdba2V5ICsgJ1RleHQnXTtcbiAgfTtcbiAgJHNjb3BlLm5vUHJldmlvdXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJHNjb3BlLnBhZ2UgPT09IDE7XG4gIH07XG4gICRzY29wZS5ub05leHQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJHNjb3BlLnBhZ2UgPT09ICRzY29wZS50b3RhbFBhZ2VzO1xuICB9O1xufV0pXG5cbi5jb25zdGFudCgncGFnaW5hdGlvbkNvbmZpZycsIHtcbiAgaXRlbXNQZXJQYWdlOiAxMCxcbiAgYm91bmRhcnlMaW5rczogZmFsc2UsXG4gIGRpcmVjdGlvbkxpbmtzOiB0cnVlLFxuICBmaXJzdFRleHQ6ICdGaXJzdCcsXG4gIHByZXZpb3VzVGV4dDogJ1ByZXZpb3VzJyxcbiAgbmV4dFRleHQ6ICdOZXh0JyxcbiAgbGFzdFRleHQ6ICdMYXN0JyxcbiAgcm90YXRlOiB0cnVlXG59KVxuXG4uZGlyZWN0aXZlKCdwYWdpbmF0aW9uJywgWyckcGFyc2UnLCAncGFnaW5hdGlvbkNvbmZpZycsIGZ1bmN0aW9uKCRwYXJzZSwgcGFnaW5hdGlvbkNvbmZpZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHNjb3BlOiB7XG4gICAgICB0b3RhbEl0ZW1zOiAnPScsXG4gICAgICBmaXJzdFRleHQ6ICdAJyxcbiAgICAgIHByZXZpb3VzVGV4dDogJ0AnLFxuICAgICAgbmV4dFRleHQ6ICdAJyxcbiAgICAgIGxhc3RUZXh0OiAnQCcsXG4gICAgICBuZ0Rpc2FibGVkOic9J1xuICAgIH0sXG4gICAgcmVxdWlyZTogWydwYWdpbmF0aW9uJywgJz9uZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ1BhZ2luYXRpb25Db250cm9sbGVyJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBwYWdpbmF0aW9uQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBpZiAoIW5nTW9kZWxDdHJsKSB7XG4gICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcbiAgICAgIH1cblxuICAgICAgLy8gU2V0dXAgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzXG4gICAgICB2YXIgbWF4U2l6ZSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLm1heFNpemUpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5tYXhTaXplKSA6IHBhZ2luYXRpb25Db25maWcubWF4U2l6ZSxcbiAgICAgICAgICByb3RhdGUgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5yb3RhdGUpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5yb3RhdGUpIDogcGFnaW5hdGlvbkNvbmZpZy5yb3RhdGU7XG4gICAgICBzY29wZS5ib3VuZGFyeUxpbmtzID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuYm91bmRhcnlMaW5rcykgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmJvdW5kYXJ5TGlua3MpIDogcGFnaW5hdGlvbkNvbmZpZy5ib3VuZGFyeUxpbmtzO1xuICAgICAgc2NvcGUuZGlyZWN0aW9uTGlua3MgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kaXJlY3Rpb25MaW5rcykgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmRpcmVjdGlvbkxpbmtzKSA6IHBhZ2luYXRpb25Db25maWcuZGlyZWN0aW9uTGlua3M7XG5cbiAgICAgIHBhZ2luYXRpb25DdHJsLmluaXQobmdNb2RlbEN0cmwsIHBhZ2luYXRpb25Db25maWcpO1xuXG4gICAgICBpZiAoYXR0cnMubWF4U2l6ZSkge1xuICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMubWF4U2l6ZSksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgbWF4U2l6ZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgcGFnaW5hdGlvbkN0cmwucmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgcGFnZSBvYmplY3QgdXNlZCBpbiB0ZW1wbGF0ZVxuICAgICAgZnVuY3Rpb24gbWFrZVBhZ2UobnVtYmVyLCB0ZXh0LCBpc0FjdGl2ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG51bWJlcjogbnVtYmVyLFxuICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgYWN0aXZlOiBpc0FjdGl2ZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRQYWdlcyhjdXJyZW50UGFnZSwgdG90YWxQYWdlcykge1xuICAgICAgICB2YXIgcGFnZXMgPSBbXTtcblxuICAgICAgICAvLyBEZWZhdWx0IHBhZ2UgbGltaXRzXG4gICAgICAgIHZhciBzdGFydFBhZ2UgPSAxLCBlbmRQYWdlID0gdG90YWxQYWdlcztcbiAgICAgICAgdmFyIGlzTWF4U2l6ZWQgPSAoIGFuZ3VsYXIuaXNEZWZpbmVkKG1heFNpemUpICYmIG1heFNpemUgPCB0b3RhbFBhZ2VzICk7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlIGlmIG1heFNpemVcbiAgICAgICAgaWYgKCBpc01heFNpemVkICkge1xuICAgICAgICAgIGlmICggcm90YXRlICkge1xuICAgICAgICAgICAgLy8gQ3VycmVudCBwYWdlIGlzIGRpc3BsYXllZCBpbiB0aGUgbWlkZGxlIG9mIHRoZSB2aXNpYmxlIG9uZXNcbiAgICAgICAgICAgIHN0YXJ0UGFnZSA9IE1hdGgubWF4KGN1cnJlbnRQYWdlIC0gTWF0aC5mbG9vcihtYXhTaXplLzIpLCAxKTtcbiAgICAgICAgICAgIGVuZFBhZ2UgICA9IHN0YXJ0UGFnZSArIG1heFNpemUgLSAxO1xuXG4gICAgICAgICAgICAvLyBBZGp1c3QgaWYgbGltaXQgaXMgZXhjZWVkZWRcbiAgICAgICAgICAgIGlmIChlbmRQYWdlID4gdG90YWxQYWdlcykge1xuICAgICAgICAgICAgICBlbmRQYWdlICAgPSB0b3RhbFBhZ2VzO1xuICAgICAgICAgICAgICBzdGFydFBhZ2UgPSBlbmRQYWdlIC0gbWF4U2l6ZSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFZpc2libGUgcGFnZXMgYXJlIHBhZ2luYXRlZCB3aXRoIG1heFNpemVcbiAgICAgICAgICAgIHN0YXJ0UGFnZSA9ICgoTWF0aC5jZWlsKGN1cnJlbnRQYWdlIC8gbWF4U2l6ZSkgLSAxKSAqIG1heFNpemUpICsgMTtcblxuICAgICAgICAgICAgLy8gQWRqdXN0IGxhc3QgcGFnZSBpZiBsaW1pdCBpcyBleGNlZWRlZFxuICAgICAgICAgICAgZW5kUGFnZSA9IE1hdGgubWluKHN0YXJ0UGFnZSArIG1heFNpemUgLSAxLCB0b3RhbFBhZ2VzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgcGFnZSBudW1iZXIgbGlua3NcbiAgICAgICAgZm9yICh2YXIgbnVtYmVyID0gc3RhcnRQYWdlOyBudW1iZXIgPD0gZW5kUGFnZTsgbnVtYmVyKyspIHtcbiAgICAgICAgICB2YXIgcGFnZSA9IG1ha2VQYWdlKG51bWJlciwgbnVtYmVyLCBudW1iZXIgPT09IGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICBwYWdlcy5wdXNoKHBhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGxpbmtzIHRvIG1vdmUgYmV0d2VlbiBwYWdlIHNldHNcbiAgICAgICAgaWYgKCBpc01heFNpemVkICYmICEgcm90YXRlICkge1xuICAgICAgICAgIGlmICggc3RhcnRQYWdlID4gMSApIHtcbiAgICAgICAgICAgIHZhciBwcmV2aW91c1BhZ2VTZXQgPSBtYWtlUGFnZShzdGFydFBhZ2UgLSAxLCAnLi4uJywgZmFsc2UpO1xuICAgICAgICAgICAgcGFnZXMudW5zaGlmdChwcmV2aW91c1BhZ2VTZXQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICggZW5kUGFnZSA8IHRvdGFsUGFnZXMgKSB7XG4gICAgICAgICAgICB2YXIgbmV4dFBhZ2VTZXQgPSBtYWtlUGFnZShlbmRQYWdlICsgMSwgJy4uLicsIGZhbHNlKTtcbiAgICAgICAgICAgIHBhZ2VzLnB1c2gobmV4dFBhZ2VTZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYWdlcztcbiAgICAgIH1cblxuICAgICAgdmFyIG9yaWdpbmFsUmVuZGVyID0gcGFnaW5hdGlvbkN0cmwucmVuZGVyO1xuICAgICAgcGFnaW5hdGlvbkN0cmwucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG9yaWdpbmFsUmVuZGVyKCk7XG4gICAgICAgIGlmIChzY29wZS5wYWdlID4gMCAmJiBzY29wZS5wYWdlIDw9IHNjb3BlLnRvdGFsUGFnZXMpIHtcbiAgICAgICAgICBzY29wZS5wYWdlcyA9IGdldFBhZ2VzKHNjb3BlLnBhZ2UsIHNjb3BlLnRvdGFsUGFnZXMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uY29uc3RhbnQoJ3BhZ2VyQ29uZmlnJywge1xuICBpdGVtc1BlclBhZ2U6IDEwLFxuICBwcmV2aW91c1RleHQ6ICfCqyBQcmV2aW91cycsXG4gIG5leHRUZXh0OiAnTmV4dCDCuycsXG4gIGFsaWduOiB0cnVlXG59KVxuXG4uZGlyZWN0aXZlKCdwYWdlcicsIFsncGFnZXJDb25maWcnLCBmdW5jdGlvbihwYWdlckNvbmZpZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHNjb3BlOiB7XG4gICAgICB0b3RhbEl0ZW1zOiAnPScsXG4gICAgICBwcmV2aW91c1RleHQ6ICdAJyxcbiAgICAgIG5leHRUZXh0OiAnQCdcbiAgICB9LFxuICAgIHJlcXVpcmU6IFsncGFnZXInLCAnP25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiAnUGFnaW5hdGlvbkNvbnRyb2xsZXInLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBwYWdpbmF0aW9uQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBpZiAoIW5nTW9kZWxDdHJsKSB7XG4gICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcbiAgICAgIH1cblxuICAgICAgc2NvcGUuYWxpZ24gPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5hbGlnbikgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmFsaWduKSA6IHBhZ2VyQ29uZmlnLmFsaWduO1xuICAgICAgcGFnaW5hdGlvbkN0cmwuaW5pdChuZ01vZGVsQ3RybCwgcGFnZXJDb25maWcpO1xuICAgIH1cbiAgfTtcbn1dKTtcblxuLyoqXG4gKiBUaGUgZm9sbG93aW5nIGZlYXR1cmVzIGFyZSBzdGlsbCBvdXRzdGFuZGluZzogYW5pbWF0aW9uIGFzIGFcbiAqIGZ1bmN0aW9uLCBwbGFjZW1lbnQgYXMgYSBmdW5jdGlvbiwgaW5zaWRlLCBzdXBwb3J0IGZvciBtb3JlIHRyaWdnZXJzIHRoYW5cbiAqIGp1c3QgbW91c2UgZW50ZXIvbGVhdmUsIGh0bWwgdG9vbHRpcHMsIGFuZCBzZWxlY3RvciBkZWxlZ2F0aW9uLlxuICovXG5hbmd1bGFyLm1vZHVsZSggJ3VpLmJvb3RzdHJhcC50b29sdGlwJywgWyAndWkuYm9vdHN0cmFwLnBvc2l0aW9uJywgJ3VpLmJvb3RzdHJhcC5iaW5kSHRtbCcgXSApXG5cbi8qKlxuICogVGhlICR0b29sdGlwIHNlcnZpY2UgY3JlYXRlcyB0b29sdGlwLSBhbmQgcG9wb3Zlci1saWtlIGRpcmVjdGl2ZXMgYXMgd2VsbCBhc1xuICogaG91c2VzIGdsb2JhbCBvcHRpb25zIGZvciB0aGVtLlxuICovXG4ucHJvdmlkZXIoICckdG9vbHRpcCcsIGZ1bmN0aW9uICgpIHtcbiAgLy8gVGhlIGRlZmF1bHQgb3B0aW9ucyB0b29sdGlwIGFuZCBwb3BvdmVyLlxuICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgcGxhY2VtZW50OiAndG9wJyxcbiAgICBhbmltYXRpb246IHRydWUsXG4gICAgcG9wdXBEZWxheTogMCxcbiAgICB1c2VDb250ZW50RXhwOiBmYWxzZVxuICB9O1xuXG4gIC8vIERlZmF1bHQgaGlkZSB0cmlnZ2VycyBmb3IgZWFjaCBzaG93IHRyaWdnZXJcbiAgdmFyIHRyaWdnZXJNYXAgPSB7XG4gICAgJ21vdXNlZW50ZXInOiAnbW91c2VsZWF2ZScsXG4gICAgJ2NsaWNrJzogJ2NsaWNrJyxcbiAgICAnZm9jdXMnOiAnYmx1cidcbiAgfTtcblxuICAvLyBUaGUgb3B0aW9ucyBzcGVjaWZpZWQgdG8gdGhlIHByb3ZpZGVyIGdsb2JhbGx5LlxuICB2YXIgZ2xvYmFsT3B0aW9ucyA9IHt9O1xuXG4gIC8qKlxuICAgKiBgb3B0aW9ucyh7fSlgIGFsbG93cyBnbG9iYWwgY29uZmlndXJhdGlvbiBvZiBhbGwgdG9vbHRpcHMgaW4gdGhlXG4gICAqIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSggJ0FwcCcsIFsndWkuYm9vdHN0cmFwLnRvb2x0aXAnXSwgZnVuY3Rpb24oICR0b29sdGlwUHJvdmlkZXIgKSB7XG4gICAqICAgICAvLyBwbGFjZSB0b29sdGlwcyBsZWZ0IGluc3RlYWQgb2YgdG9wIGJ5IGRlZmF1bHRcbiAgICogICAgICR0b29sdGlwUHJvdmlkZXIub3B0aW9ucyggeyBwbGFjZW1lbnQ6ICdsZWZ0JyB9ICk7XG4gICAqICAgfSk7XG4gICAqL1xuXHR0aGlzLm9wdGlvbnMgPSBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0YW5ndWxhci5leHRlbmQoIGdsb2JhbE9wdGlvbnMsIHZhbHVlICk7XG5cdH07XG5cbiAgLyoqXG4gICAqIFRoaXMgYWxsb3dzIHlvdSB0byBleHRlbmQgdGhlIHNldCBvZiB0cmlnZ2VyIG1hcHBpbmdzIGF2YWlsYWJsZS4gRS5nLjpcbiAgICpcbiAgICogICAkdG9vbHRpcFByb3ZpZGVyLnNldFRyaWdnZXJzKCAnb3BlblRyaWdnZXInOiAnY2xvc2VUcmlnZ2VyJyApO1xuICAgKi9cbiAgdGhpcy5zZXRUcmlnZ2VycyA9IGZ1bmN0aW9uIHNldFRyaWdnZXJzICggdHJpZ2dlcnMgKSB7XG4gICAgYW5ndWxhci5leHRlbmQoIHRyaWdnZXJNYXAsIHRyaWdnZXJzICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgYSBoZWxwZXIgZnVuY3Rpb24gZm9yIHRyYW5zbGF0aW5nIGNhbWVsLWNhc2UgdG8gc25ha2UtY2FzZS5cbiAgICovXG4gIGZ1bmN0aW9uIHNuYWtlX2Nhc2UobmFtZSl7XG4gICAgdmFyIHJlZ2V4cCA9IC9bQS1aXS9nO1xuICAgIHZhciBzZXBhcmF0b3IgPSAnLSc7XG4gICAgcmV0dXJuIG5hbWUucmVwbGFjZShyZWdleHAsIGZ1bmN0aW9uKGxldHRlciwgcG9zKSB7XG4gICAgICByZXR1cm4gKHBvcyA/IHNlcGFyYXRvciA6ICcnKSArIGxldHRlci50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGFjdHVhbCBpbnN0YW5jZSBvZiB0aGUgJHRvb2x0aXAgc2VydmljZS5cbiAgICogVE9ETyBzdXBwb3J0IG11bHRpcGxlIHRyaWdnZXJzXG4gICAqL1xuICB0aGlzLiRnZXQgPSBbICckd2luZG93JywgJyRjb21waWxlJywgJyR0aW1lb3V0JywgJyRkb2N1bWVudCcsICckcG9zaXRpb24nLCAnJGludGVycG9sYXRlJywgZnVuY3Rpb24gKCAkd2luZG93LCAkY29tcGlsZSwgJHRpbWVvdXQsICRkb2N1bWVudCwgJHBvc2l0aW9uLCAkaW50ZXJwb2xhdGUgKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICR0b29sdGlwICggdHlwZSwgcHJlZml4LCBkZWZhdWx0VHJpZ2dlclNob3csIG9wdGlvbnMgKSB7XG4gICAgICBvcHRpb25zID0gYW5ndWxhci5leHRlbmQoIHt9LCBkZWZhdWx0T3B0aW9ucywgZ2xvYmFsT3B0aW9ucywgb3B0aW9ucyApO1xuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgYW4gb2JqZWN0IG9mIHNob3cgYW5kIGhpZGUgdHJpZ2dlcnMuXG4gICAgICAgKlxuICAgICAgICogSWYgYSB0cmlnZ2VyIGlzIHN1cHBsaWVkLFxuICAgICAgICogaXQgaXMgdXNlZCB0byBzaG93IHRoZSB0b29sdGlwOyBvdGhlcndpc2UsIGl0IHdpbGwgdXNlIHRoZSBgdHJpZ2dlcmBcbiAgICAgICAqIG9wdGlvbiBwYXNzZWQgdG8gdGhlIGAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnNgIG1ldGhvZDsgZWxzZSBpdCB3aWxsXG4gICAgICAgKiBkZWZhdWx0IHRvIHRoZSB0cmlnZ2VyIHN1cHBsaWVkIHRvIHRoaXMgZGlyZWN0aXZlIGZhY3RvcnkuXG4gICAgICAgKlxuICAgICAgICogVGhlIGhpZGUgdHJpZ2dlciBpcyBiYXNlZCBvbiB0aGUgc2hvdyB0cmlnZ2VyLiBJZiB0aGUgYHRyaWdnZXJgIG9wdGlvblxuICAgICAgICogd2FzIHBhc3NlZCB0byB0aGUgYCR0b29sdGlwUHJvdmlkZXIub3B0aW9uc2AgbWV0aG9kLCBpdCB3aWxsIHVzZSB0aGVcbiAgICAgICAqIG1hcHBlZCB0cmlnZ2VyIGZyb20gYHRyaWdnZXJNYXBgIG9yIHRoZSBwYXNzZWQgdHJpZ2dlciBpZiB0aGUgbWFwIGlzXG4gICAgICAgKiB1bmRlZmluZWQ7IG90aGVyd2lzZSwgaXQgdXNlcyB0aGUgYHRyaWdnZXJNYXBgIHZhbHVlIG9mIHRoZSBzaG93XG4gICAgICAgKiB0cmlnZ2VyOyBlbHNlIGl0IHdpbGwganVzdCB1c2UgdGhlIHNob3cgdHJpZ2dlci5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZ2V0VHJpZ2dlcnMgKCB0cmlnZ2VyICkge1xuICAgICAgICB2YXIgc2hvdyA9IHRyaWdnZXIgfHwgb3B0aW9ucy50cmlnZ2VyIHx8IGRlZmF1bHRUcmlnZ2VyU2hvdztcbiAgICAgICAgdmFyIGhpZGUgPSB0cmlnZ2VyTWFwW3Nob3ddIHx8IHNob3c7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2hvdzogc2hvdyxcbiAgICAgICAgICBoaWRlOiBoaWRlXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHZhciBkaXJlY3RpdmVOYW1lID0gc25ha2VfY2FzZSggdHlwZSApO1xuXG4gICAgICB2YXIgc3RhcnRTeW0gPSAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKTtcbiAgICAgIHZhciBlbmRTeW0gPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCk7XG4gICAgICB2YXIgdGVtcGxhdGUgPVxuICAgICAgICAnPGRpdiAnKyBkaXJlY3RpdmVOYW1lICsnLXBvcHVwICcrXG4gICAgICAgICAgJ3RpdGxlPVwiJytzdGFydFN5bSsndGl0bGUnK2VuZFN5bSsnXCIgJytcbiAgICAgICAgICAob3B0aW9ucy51c2VDb250ZW50RXhwID9cbiAgICAgICAgICAgICdjb250ZW50LWV4cD1cImNvbnRlbnRFeHAoKVwiICcgOlxuICAgICAgICAgICAgJ2NvbnRlbnQ9XCInK3N0YXJ0U3ltKydjb250ZW50JytlbmRTeW0rJ1wiICcpICtcbiAgICAgICAgICAncGxhY2VtZW50PVwiJytzdGFydFN5bSsncGxhY2VtZW50JytlbmRTeW0rJ1wiICcrXG4gICAgICAgICAgJ3BvcHVwLWNsYXNzPVwiJytzdGFydFN5bSsncG9wdXBDbGFzcycrZW5kU3ltKydcIiAnK1xuICAgICAgICAgICdhbmltYXRpb249XCJhbmltYXRpb25cIiAnK1xuICAgICAgICAgICdpcy1vcGVuPVwiaXNPcGVuXCInK1xuICAgICAgICAgICdvcmlnaW4tc2NvcGU9XCJvcmlnU2NvcGVcIiAnK1xuICAgICAgICAgICc+JytcbiAgICAgICAgJzwvZGl2Pic7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW0sIHRBdHRycykge1xuICAgICAgICAgIHZhciB0b29sdGlwTGlua2VyID0gJGNvbXBpbGUoIHRlbXBsYXRlICk7XG5cbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbGluayAoIHNjb3BlLCBlbGVtZW50LCBhdHRycywgdG9vbHRpcEN0cmwgKSB7XG4gICAgICAgICAgICB2YXIgdG9vbHRpcDtcbiAgICAgICAgICAgIHZhciB0b29sdGlwTGlua2VkU2NvcGU7XG4gICAgICAgICAgICB2YXIgdHJhbnNpdGlvblRpbWVvdXQ7XG4gICAgICAgICAgICB2YXIgcG9wdXBUaW1lb3V0O1xuICAgICAgICAgICAgdmFyIGFwcGVuZFRvQm9keSA9IGFuZ3VsYXIuaXNEZWZpbmVkKCBvcHRpb25zLmFwcGVuZFRvQm9keSApID8gb3B0aW9ucy5hcHBlbmRUb0JvZHkgOiBmYWxzZTtcbiAgICAgICAgICAgIHZhciB0cmlnZ2VycyA9IGdldFRyaWdnZXJzKCB1bmRlZmluZWQgKTtcbiAgICAgICAgICAgIHZhciBoYXNFbmFibGVFeHAgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRyc1twcmVmaXgrJ0VuYWJsZSddKTtcbiAgICAgICAgICAgIHZhciB0dFNjb3BlID0gc2NvcGUuJG5ldyh0cnVlKTtcblxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uVG9vbHRpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgaWYgKCF0b29sdGlwKSB7IHJldHVybjsgfVxuXG4gICAgICAgICAgICAgIHZhciB0dFBvc2l0aW9uID0gJHBvc2l0aW9uLnBvc2l0aW9uRWxlbWVudHMoZWxlbWVudCwgdG9vbHRpcCwgdHRTY29wZS5wbGFjZW1lbnQsIGFwcGVuZFRvQm9keSk7XG4gICAgICAgICAgICAgIHR0UG9zaXRpb24udG9wICs9ICdweCc7XG4gICAgICAgICAgICAgIHR0UG9zaXRpb24ubGVmdCArPSAncHgnO1xuXG4gICAgICAgICAgICAgIC8vIE5vdyBzZXQgdGhlIGNhbGN1bGF0ZWQgcG9zaXRpb25pbmcuXG4gICAgICAgICAgICAgIHRvb2x0aXAuY3NzKCB0dFBvc2l0aW9uICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBTZXQgdXAgdGhlIGNvcnJlY3Qgc2NvcGUgdG8gYWxsb3cgdHJhbnNjbHVzaW9uIGxhdGVyXG4gICAgICAgICAgICB0dFNjb3BlLm9yaWdTY29wZSA9IHNjb3BlO1xuXG4gICAgICAgICAgICAvLyBCeSBkZWZhdWx0LCB0aGUgdG9vbHRpcCBpcyBub3Qgb3Blbi5cbiAgICAgICAgICAgIC8vIFRPRE8gYWRkIGFiaWxpdHkgdG8gc3RhcnQgdG9vbHRpcCBvcGVuZWRcbiAgICAgICAgICAgIHR0U2NvcGUuaXNPcGVuID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZVRvb2x0aXBCaW5kICgpIHtcbiAgICAgICAgICAgICAgaWYgKCAhIHR0U2NvcGUuaXNPcGVuICkge1xuICAgICAgICAgICAgICAgIHNob3dUb29sdGlwQmluZCgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhpZGVUb29sdGlwQmluZCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNob3cgdGhlIHRvb2x0aXAgd2l0aCBkZWxheSBpZiBzcGVjaWZpZWQsIG90aGVyd2lzZSBzaG93IGl0IGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBmdW5jdGlvbiBzaG93VG9vbHRpcEJpbmQoKSB7XG4gICAgICAgICAgICAgIGlmKGhhc0VuYWJsZUV4cCAmJiAhc2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4KydFbmFibGUnXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBwcmVwYXJlVG9vbHRpcCgpO1xuXG4gICAgICAgICAgICAgIGlmICggdHRTY29wZS5wb3B1cERlbGF5ICkge1xuICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlIHRvb2x0aXAgd2FzIGFscmVhZHkgc2NoZWR1bGVkIHRvIHBvcC11cC5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGhhcHBlbnMgaWYgc2hvdyBpcyB0cmlnZ2VyZWQgbXVsdGlwbGUgdGltZXMgYmVmb3JlIGFueSBoaWRlIGlzIHRyaWdnZXJlZC5cbiAgICAgICAgICAgICAgICBpZiAoIXBvcHVwVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0ID0gJHRpbWVvdXQoIHNob3csIHR0U2NvcGUucG9wdXBEZWxheSwgZmFsc2UgKTtcbiAgICAgICAgICAgICAgICAgIHBvcHVwVGltZW91dC50aGVuKGZ1bmN0aW9uKHJlcG9zaXRpb24pe3JlcG9zaXRpb24oKTt9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2hvdygpKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gaGlkZVRvb2x0aXBCaW5kICgpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTaG93IHRoZSB0b29sdGlwIHBvcHVwIGVsZW1lbnQuXG4gICAgICAgICAgICBmdW5jdGlvbiBzaG93KCkge1xuXG4gICAgICAgICAgICAgIHBvcHVwVGltZW91dCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBwZW5kaW5nIHJlbW92ZSB0cmFuc2l0aW9uLCB3ZSBtdXN0IGNhbmNlbCBpdCwgbGVzdCB0aGVcbiAgICAgICAgICAgICAgLy8gdG9vbHRpcCBiZSBteXN0ZXJpb3VzbHkgcmVtb3ZlZC5cbiAgICAgICAgICAgICAgaWYgKCB0cmFuc2l0aW9uVGltZW91dCApIHtcbiAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoIHRyYW5zaXRpb25UaW1lb3V0ICk7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gRG9uJ3Qgc2hvdyBlbXB0eSB0b29sdGlwcy5cbiAgICAgICAgICAgICAgaWYgKCAhKG9wdGlvbnMudXNlQ29udGVudEV4cCA/IHR0U2NvcGUuY29udGVudEV4cCgpIDogdHRTY29wZS5jb250ZW50KSApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci5ub29wO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY3JlYXRlVG9vbHRpcCgpO1xuXG4gICAgICAgICAgICAgIC8vIFNldCB0aGUgaW5pdGlhbCBwb3NpdGlvbmluZy5cbiAgICAgICAgICAgICAgdG9vbHRpcC5jc3MoeyB0b3A6IDAsIGxlZnQ6IDAsIGRpc3BsYXk6ICdibG9jaycgfSk7XG4gICAgICAgICAgICAgIHR0U2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgICAgICAgICAgIHBvc2l0aW9uVG9vbHRpcCgpO1xuXG4gICAgICAgICAgICAgIC8vIEFuZCBzaG93IHRoZSB0b29sdGlwLlxuICAgICAgICAgICAgICB0dFNjb3BlLmlzT3BlbiA9IHRydWU7XG4gICAgICAgICAgICAgIHR0U2NvcGUuJGFwcGx5KCk7IC8vIGRpZ2VzdCByZXF1aXJlZCBhcyAkYXBwbHkgaXMgbm90IGNhbGxlZFxuXG4gICAgICAgICAgICAgIC8vIFJldHVybiBwb3NpdGlvbmluZyBmdW5jdGlvbiBhcyBwcm9taXNlIGNhbGxiYWNrIGZvciBjb3JyZWN0XG4gICAgICAgICAgICAgIC8vIHBvc2l0aW9uaW5nIGFmdGVyIGRyYXcuXG4gICAgICAgICAgICAgIHJldHVybiBwb3NpdGlvblRvb2x0aXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEhpZGUgdGhlIHRvb2x0aXAgcG9wdXAgZWxlbWVudC5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAgICAgICAgIC8vIEZpcnN0IHRoaW5ncyBmaXJzdDogd2UgZG9uJ3Qgc2hvdyBpdCBhbnltb3JlLlxuICAgICAgICAgICAgICB0dFNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgIC8vaWYgdG9vbHRpcCBpcyBnb2luZyB0byBiZSBzaG93biBhZnRlciBkZWxheSwgd2UgbXVzdCBjYW5jZWwgdGhpc1xuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoIHBvcHVwVGltZW91dCApO1xuICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICAgIC8vIEFuZCBub3cgd2UgcmVtb3ZlIGl0IGZyb20gdGhlIERPTS4gSG93ZXZlciwgaWYgd2UgaGF2ZSBhbmltYXRpb24sIHdlXG4gICAgICAgICAgICAgIC8vIG5lZWQgdG8gd2FpdCBmb3IgaXQgdG8gZXhwaXJlIGJlZm9yZWhhbmQuXG4gICAgICAgICAgICAgIC8vIEZJWE1FOiB0aGlzIGlzIGEgcGxhY2Vob2xkZXIgZm9yIGEgcG9ydCBvZiB0aGUgdHJhbnNpdGlvbnMgbGlicmFyeS5cbiAgICAgICAgICAgICAgaWYgKCB0dFNjb3BlLmFuaW1hdGlvbiApIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRyYW5zaXRpb25UaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uVGltZW91dCA9ICR0aW1lb3V0KHJlbW92ZVRvb2x0aXAsIDUwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbW92ZVRvb2x0aXAoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVUb29sdGlwKCkge1xuICAgICAgICAgICAgICAvLyBUaGVyZSBjYW4gb25seSBiZSBvbmUgdG9vbHRpcCBlbGVtZW50IHBlciBkaXJlY3RpdmUgc2hvd24gYXQgb25jZS5cbiAgICAgICAgICAgICAgaWYgKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICByZW1vdmVUb29sdGlwKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlID0gdHRTY29wZS4kbmV3KCk7XG4gICAgICAgICAgICAgIHRvb2x0aXAgPSB0b29sdGlwTGlua2VyKHRvb2x0aXBMaW5rZWRTY29wZSwgZnVuY3Rpb24gKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICBpZiAoIGFwcGVuZFRvQm9keSApIHtcbiAgICAgICAgICAgICAgICAgICRkb2N1bWVudC5maW5kKCAnYm9keScgKS5hcHBlbmQoIHRvb2x0aXAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZnRlciggdG9vbHRpcCApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQocG9zaXRpb25Ub29sdGlwLCAwLCBmYWxzZSk7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZUNvbnRlbnRFeHApIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJHdhdGNoKCdjb250ZW50RXhwKCknLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIXZhbCAmJiB0dFNjb3BlLmlzT3BlbiApIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZVRvb2x0aXAoKSB7XG4gICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgaWYgKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHRvb2x0aXAgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0b29sdGlwTGlua2VkU2NvcGUpIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBhcmVUb29sdGlwKCkge1xuICAgICAgICAgICAgICBwcmVwUG9wdXBDbGFzcygpO1xuICAgICAgICAgICAgICBwcmVwUGxhY2VtZW50KCk7XG4gICAgICAgICAgICAgIHByZXBQb3B1cERlbGF5KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHR0U2NvcGUuY29udGVudEV4cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiRldmFsKGF0dHJzW3R5cGVdKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogT2JzZXJ2ZSB0aGUgcmVsZXZhbnQgYXR0cmlidXRlcy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLnVzZUNvbnRlbnRFeHApIHtcbiAgICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUoIHR5cGUsIGZ1bmN0aW9uICggdmFsICkge1xuICAgICAgICAgICAgICAgIHR0U2NvcGUuY29udGVudCA9IHZhbDtcblxuICAgICAgICAgICAgICAgIGlmICghdmFsICYmIHR0U2NvcGUuaXNPcGVuICkge1xuICAgICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKCAnZGlzYWJsZWQnLCBmdW5jdGlvbiAoIHZhbCApIHtcbiAgICAgICAgICAgICAgaWYgKHZhbCAmJiB0dFNjb3BlLmlzT3BlbiApIHtcbiAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSggcHJlZml4KydUaXRsZScsIGZ1bmN0aW9uICggdmFsICkge1xuICAgICAgICAgICAgICB0dFNjb3BlLnRpdGxlID0gdmFsO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBQb3B1cENsYXNzKCkge1xuICAgICAgICAgICAgICB0dFNjb3BlLnBvcHVwQ2xhc3MgPSBhdHRyc1twcmVmaXggKyAnQ2xhc3MnXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcHJlcFBsYWNlbWVudCgpIHtcbiAgICAgICAgICAgICAgdmFyIHZhbCA9IGF0dHJzWyBwcmVmaXggKyAnUGxhY2VtZW50JyBdO1xuICAgICAgICAgICAgICB0dFNjb3BlLnBsYWNlbWVudCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCB2YWwgKSA/IHZhbCA6IG9wdGlvbnMucGxhY2VtZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVwUG9wdXBEZWxheSgpIHtcbiAgICAgICAgICAgICAgdmFyIHZhbCA9IGF0dHJzWyBwcmVmaXggKyAnUG9wdXBEZWxheScgXTtcbiAgICAgICAgICAgICAgdmFyIGRlbGF5ID0gcGFyc2VJbnQoIHZhbCwgMTAgKTtcbiAgICAgICAgICAgICAgdHRTY29wZS5wb3B1cERlbGF5ID0gISBpc05hTihkZWxheSkgPyBkZWxheSA6IG9wdGlvbnMucG9wdXBEZWxheTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHVucmVnaXN0ZXJUcmlnZ2VycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC51bmJpbmQodHJpZ2dlcnMuc2hvdywgc2hvd1Rvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgICAgZWxlbWVudC51bmJpbmQodHJpZ2dlcnMuaGlkZSwgaGlkZVRvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBUcmlnZ2VycygpIHtcbiAgICAgICAgICAgICAgdmFyIHZhbCA9IGF0dHJzWyBwcmVmaXggKyAnVHJpZ2dlcicgXTtcbiAgICAgICAgICAgICAgdW5yZWdpc3RlclRyaWdnZXJzKCk7XG5cbiAgICAgICAgICAgICAgdHJpZ2dlcnMgPSBnZXRUcmlnZ2VycyggdmFsICk7XG5cbiAgICAgICAgICAgICAgaWYgKCB0cmlnZ2Vycy5zaG93ID09PSB0cmlnZ2Vycy5oaWRlICkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZCggdHJpZ2dlcnMuc2hvdywgdG9nZ2xlVG9vbHRpcEJpbmQgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmJpbmQoIHRyaWdnZXJzLnNob3csIHNob3dUb29sdGlwQmluZCApO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZCggdHJpZ2dlcnMuaGlkZSwgaGlkZVRvb2x0aXBCaW5kICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXBUcmlnZ2VycygpO1xuXG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gc2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4ICsgJ0FuaW1hdGlvbiddKTtcbiAgICAgICAgICAgIHR0U2NvcGUuYW5pbWF0aW9uID0gYW5ndWxhci5pc0RlZmluZWQoYW5pbWF0aW9uKSA/ICEhYW5pbWF0aW9uIDogb3B0aW9ucy5hbmltYXRpb247XG5cbiAgICAgICAgICAgIHZhciBhcHBlbmRUb0JvZHlWYWwgPSBzY29wZS4kZXZhbChhdHRyc1twcmVmaXggKyAnQXBwZW5kVG9Cb2R5J10pO1xuICAgICAgICAgICAgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQoYXBwZW5kVG9Cb2R5VmFsKSA/IGFwcGVuZFRvQm9keVZhbCA6IGFwcGVuZFRvQm9keTtcblxuICAgICAgICAgICAgLy8gaWYgYSB0b29sdGlwIGlzIGF0dGFjaGVkIHRvIDxib2R5PiB3ZSBuZWVkIHRvIHJlbW92ZSBpdCBvblxuICAgICAgICAgICAgLy8gbG9jYXRpb24gY2hhbmdlIGFzIGl0cyBwYXJlbnQgc2NvcGUgd2lsbCBwcm9iYWJseSBub3QgYmUgZGVzdHJveWVkXG4gICAgICAgICAgICAvLyBieSB0aGUgY2hhbmdlLlxuICAgICAgICAgICAgaWYgKCBhcHBlbmRUb0JvZHkgKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uIGNsb3NlVG9vbHRpcE9uTG9jYXRpb25DaGFuZ2VTdWNjZXNzICgpIHtcbiAgICAgICAgICAgICAgaWYgKCB0dFNjb3BlLmlzT3BlbiApIHtcbiAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdG9vbHRpcCBpcyBkZXN0cm95ZWQgYW5kIHJlbW92ZWQuXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gb25EZXN0cm95VG9vbHRpcCgpIHtcbiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKCB0cmFuc2l0aW9uVGltZW91dCApO1xuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoIHBvcHVwVGltZW91dCApO1xuICAgICAgICAgICAgICB1bnJlZ2lzdGVyVHJpZ2dlcnMoKTtcbiAgICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcCgpO1xuICAgICAgICAgICAgICB0dFNjb3BlID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgfV07XG59KVxuXG4vLyBUaGlzIGlzIG1vc3RseSBuZ0luY2x1ZGUgY29kZSBidXQgd2l0aCBhIGN1c3RvbSBzY29wZVxuLmRpcmVjdGl2ZSggJ3Rvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGUnLCBbXG4gICAgICAgICAnJGFuaW1hdGUnLCAnJHNjZScsICckY29tcGlsZScsICckdGVtcGxhdGVSZXF1ZXN0JyxcbmZ1bmN0aW9uICgkYW5pbWF0ZSAsICAkc2NlICwgICRjb21waWxlICwgICR0ZW1wbGF0ZVJlcXVlc3QpIHtcbiAgcmV0dXJuIHtcbiAgICBsaW5rOiBmdW5jdGlvbiAoIHNjb3BlLCBlbGVtLCBhdHRycyApIHtcbiAgICAgIHZhciBvcmlnU2NvcGUgPSBzY29wZS4kZXZhbChhdHRycy50b29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlU2NvcGUpO1xuXG4gICAgICB2YXIgY2hhbmdlQ291bnRlciA9IDAsXG4gICAgICAgIGN1cnJlbnRTY29wZSxcbiAgICAgICAgcHJldmlvdXNFbGVtZW50LFxuICAgICAgICBjdXJyZW50RWxlbWVudDtcblxuICAgICAgdmFyIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHByZXZpb3VzRWxlbWVudCkge1xuICAgICAgICAgIHByZXZpb3VzRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50U2NvcGUpIHtcbiAgICAgICAgICBjdXJyZW50U2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICBjdXJyZW50U2NvcGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50RWxlbWVudCkge1xuICAgICAgICAgICRhbmltYXRlLmxlYXZlKGN1cnJlbnRFbGVtZW50KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBjdXJyZW50RWxlbWVudDtcbiAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLiR3YXRjaCgkc2NlLnBhcnNlQXNSZXNvdXJjZVVybChhdHRycy50b29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlKSwgZnVuY3Rpb24gKHNyYykge1xuICAgICAgICB2YXIgdGhpc0NoYW5nZUlkID0gKytjaGFuZ2VDb3VudGVyO1xuXG4gICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICAvL3NldCB0aGUgMm5kIHBhcmFtIHRvIHRydWUgdG8gaWdub3JlIHRoZSB0ZW1wbGF0ZSByZXF1ZXN0IGVycm9yIHNvIHRoYXQgdGhlIGlubmVyXG4gICAgICAgICAgLy9jb250ZW50cyBhbmQgc2NvcGUgY2FuIGJlIGNsZWFuZWQgdXAuXG4gICAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChzcmMsIHRydWUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmICh0aGlzQ2hhbmdlSWQgIT09IGNoYW5nZUNvdW50ZXIpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICB2YXIgbmV3U2NvcGUgPSBvcmlnU2NvcGUuJG5ldygpO1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gcmVzcG9uc2U7XG5cbiAgICAgICAgICAgIHZhciBjbG9uZSA9ICRjb21waWxlKHRlbXBsYXRlKShuZXdTY29wZSwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjbG9uZSwgZWxlbSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbmV3U2NvcGU7XG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGNsb25lO1xuXG4gICAgICAgICAgICBjdXJyZW50U2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudExvYWRlZCcsIHNyYyk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpc0NoYW5nZUlkID09PSBjaGFuZ2VDb3VudGVyKSB7XG4gICAgICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcbiAgICAgICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudEVycm9yJywgc3JjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50UmVxdWVzdGVkJywgc3JjKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi8qKlxuICogTm90ZSB0aGF0IGl0J3MgaW50ZW50aW9uYWwgdGhhdCB0aGVzZSBjbGFzc2VzIGFyZSAqbm90KiBhcHBsaWVkIHRocm91Z2ggJGFuaW1hdGUuXG4gKiBUaGV5IG11c3Qgbm90IGJlIGFuaW1hdGVkIGFzIHRoZXkncmUgZXhwZWN0ZWQgdG8gYmUgcHJlc2VudCBvbiB0aGUgdG9vbHRpcCBvblxuICogaW5pdGlhbGl6YXRpb24uXG4gKi9cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBDbGFzc2VzJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgaWYgKHNjb3BlLnBsYWNlbWVudCkge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKHNjb3BlLnBsYWNlbWVudCk7XG4gICAgICB9XG4gICAgICBpZiAoc2NvcGUucG9wdXBDbGFzcykge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKHNjb3BlLnBvcHVwQ2xhc3MpO1xuICAgICAgfVxuICAgICAgaWYgKHNjb3BlLmFuaW1hdGlvbigpKSB7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoYXR0cnMudG9vbHRpcEFuaW1hdGlvbkNsYXNzKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCAndG9vbHRpcFBvcHVwJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgY29udGVudDogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSggJ3Rvb2x0aXAnLCBbICckdG9vbHRpcCcsIGZ1bmN0aW9uICggJHRvb2x0aXAgKSB7XG4gIHJldHVybiAkdG9vbHRpcCggJ3Rvb2x0aXAnLCAndG9vbHRpcCcsICdtb3VzZWVudGVyJyApO1xufV0pXG5cbi5kaXJlY3RpdmUoICd0b29sdGlwVGVtcGxhdGVQb3B1cCcsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IGNvbnRlbnRFeHA6ICcmJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnLFxuICAgICAgb3JpZ2luU2NvcGU6ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCAndG9vbHRpcFRlbXBsYXRlJywgWyAnJHRvb2x0aXAnLCBmdW5jdGlvbiAoICR0b29sdGlwICkge1xuICByZXR1cm4gJHRvb2x0aXAoJ3Rvb2x0aXBUZW1wbGF0ZScsICd0b29sdGlwJywgJ21vdXNlZW50ZXInLCB7XG4gICAgdXNlQ29udGVudEV4cDogdHJ1ZVxuICB9KTtcbn1dKVxuXG4uZGlyZWN0aXZlKCAndG9vbHRpcEh0bWxQb3B1cCcsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IGNvbnRlbnRFeHA6ICcmJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSggJ3Rvb2x0aXBIdG1sJywgWyAnJHRvb2x0aXAnLCBmdW5jdGlvbiAoICR0b29sdGlwICkge1xuICByZXR1cm4gJHRvb2x0aXAoJ3Rvb2x0aXBIdG1sJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicsIHtcbiAgICB1c2VDb250ZW50RXhwOiB0cnVlXG4gIH0pO1xufV0pXG5cbi8qXG5EZXByZWNhdGVkXG4qL1xuLmRpcmVjdGl2ZSggJ3Rvb2x0aXBIdG1sVW5zYWZlUG9wdXAnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyBjb250ZW50OiAnQCcsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWwnXG4gIH07XG59KVxuXG4udmFsdWUoJ3Rvb2x0aXBIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkJywgZmFsc2UpXG4uZGlyZWN0aXZlKCAndG9vbHRpcEh0bWxVbnNhZmUnLCBbXG4gICAgICAgICAgJyR0b29sdGlwJywgJ3Rvb2x0aXBIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkJywgJyRsb2cnLFxuZnVuY3Rpb24gKCAkdG9vbHRpcCAsICB0b29sdGlwSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCAsICAkbG9nKSB7XG4gIGlmICghdG9vbHRpcEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQpIHtcbiAgICAkbG9nLndhcm4oJ3Rvb2x0aXAtaHRtbC11bnNhZmUgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB0b29sdGlwLWh0bWwgb3IgdG9vbHRpcC10ZW1wbGF0ZSBpbnN0ZWFkLicpO1xuICB9XG4gIHJldHVybiAkdG9vbHRpcCggJ3Rvb2x0aXBIdG1sVW5zYWZlJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicgKTtcbn1dKTtcblxuLyoqXG4gKiBUaGUgZm9sbG93aW5nIGZlYXR1cmVzIGFyZSBzdGlsbCBvdXRzdGFuZGluZzogcG9wdXAgZGVsYXksIGFuaW1hdGlvbiBhcyBhXG4gKiBmdW5jdGlvbiwgcGxhY2VtZW50IGFzIGEgZnVuY3Rpb24sIGluc2lkZSwgc3VwcG9ydCBmb3IgbW9yZSB0cmlnZ2VycyB0aGFuXG4gKiBqdXN0IG1vdXNlIGVudGVyL2xlYXZlLCBodG1sIHBvcG92ZXJzLCBhbmQgc2VsZWN0b3IgZGVsZWdhdGF0aW9uLlxuICovXG5hbmd1bGFyLm1vZHVsZSggJ3VpLmJvb3RzdHJhcC5wb3BvdmVyJywgWyAndWkuYm9vdHN0cmFwLnRvb2x0aXAnIF0gKVxuXG4uZGlyZWN0aXZlKCAncG9wb3ZlclRlbXBsYXRlUG9wdXAnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyB0aXRsZTogJ0AnLCBjb250ZW50RXhwOiAnJicsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyxcbiAgICAgIG9yaWdpblNjb3BlOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci10ZW1wbGF0ZS5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSggJ3BvcG92ZXJUZW1wbGF0ZScsIFsgJyR0b29sdGlwJywgZnVuY3Rpb24gKCAkdG9vbHRpcCApIHtcbiAgcmV0dXJuICR0b29sdGlwKCAncG9wb3ZlclRlbXBsYXRlJywgJ3BvcG92ZXInLCAnY2xpY2snLCB7XG4gICAgdXNlQ29udGVudEV4cDogdHJ1ZVxuICB9ICk7XG59XSlcblxuLmRpcmVjdGl2ZSggJ3BvcG92ZXJQb3B1cCcsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IHRpdGxlOiAnQCcsIGNvbnRlbnQ6ICdAJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbCdcbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoICdwb3BvdmVyJywgWyAnJHRvb2x0aXAnLCBmdW5jdGlvbiAoICR0b29sdGlwICkge1xuICByZXR1cm4gJHRvb2x0aXAoICdwb3BvdmVyJywgJ3BvcG92ZXInLCAnY2xpY2snICk7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucHJvZ3Jlc3NiYXInLCBbXSlcblxuLmNvbnN0YW50KCdwcm9ncmVzc0NvbmZpZycsIHtcbiAgYW5pbWF0ZTogdHJ1ZSxcbiAgbWF4OiAxMDBcbn0pXG5cbi5jb250cm9sbGVyKCdQcm9ncmVzc0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAncHJvZ3Jlc3NDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgcHJvZ3Jlc3NDb25maWcpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFuaW1hdGUgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuYW5pbWF0ZSkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuYW5pbWF0ZSkgOiBwcm9ncmVzc0NvbmZpZy5hbmltYXRlO1xuXG4gICAgdGhpcy5iYXJzID0gW107XG4gICAgJHNjb3BlLm1heCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRzY29wZS5tYXgpID8gJHNjb3BlLm1heCA6IHByb2dyZXNzQ29uZmlnLm1heDtcblxuICAgIHRoaXMuYWRkQmFyID0gZnVuY3Rpb24oYmFyLCBlbGVtZW50KSB7XG4gICAgICAgIGlmICggIWFuaW1hdGUgKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNzcyh7J3RyYW5zaXRpb24nOiAnbm9uZSd9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmFycy5wdXNoKGJhcik7XG5cbiAgICAgICAgYmFyLm1heCA9ICRzY29wZS5tYXg7XG5cbiAgICAgICAgYmFyLiR3YXRjaCgndmFsdWUnLCBmdW5jdGlvbiggdmFsdWUgKSB7XG4gICAgICAgICAgICBiYXIucmVjYWxjdWxhdGVQZXJjZW50YWdlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJhci5yZWNhbGN1bGF0ZVBlcmNlbnRhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGJhci5wZXJjZW50ID0gKygxMDAgKiBiYXIudmFsdWUgLyBiYXIubWF4KS50b0ZpeGVkKDIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGJhci4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHNlbGYucmVtb3ZlQmFyKGJhcik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZUJhciA9IGZ1bmN0aW9uKGJhcikge1xuICAgICAgICB0aGlzLmJhcnMuc3BsaWNlKHRoaXMuYmFycy5pbmRleE9mKGJhciksIDEpO1xuICAgIH07XG5cbiAgICAkc2NvcGUuJHdhdGNoKCdtYXgnLCBmdW5jdGlvbihtYXgpIHtcbiAgICAgICAgc2VsZi5iYXJzLmZvckVhY2goZnVuY3Rpb24gKGJhcikge1xuICAgICAgICAgICAgYmFyLm1heCA9ICRzY29wZS5tYXg7XG4gICAgICAgICAgICBiYXIucmVjYWxjdWxhdGVQZXJjZW50YWdlKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufV0pXG5cbi5kaXJlY3RpdmUoJ3Byb2dyZXNzJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdQcm9ncmVzc0NvbnRyb2xsZXInLFxuICAgICAgICByZXF1aXJlOiAncHJvZ3Jlc3MnLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIG1heDogJz0/J1xuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWwnXG4gICAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2JhcicsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgICByZXF1aXJlOiAnXnByb2dyZXNzJyxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIHZhbHVlOiAnPScsXG4gICAgICAgICAgICB0eXBlOiAnQCdcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCcsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgcHJvZ3Jlc3NDdHJsKSB7XG4gICAgICAgICAgICBwcm9ncmVzc0N0cmwuYWRkQmFyKHNjb3BlLCBlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH07XG59KVxuXG4uZGlyZWN0aXZlKCdwcm9ncmVzc2JhcicsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgICBjb250cm9sbGVyOiAnUHJvZ3Jlc3NDb250cm9sbGVyJyxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIHZhbHVlOiAnPScsXG4gICAgICAgICAgICBtYXg6ICc9PycsXG4gICAgICAgICAgICB0eXBlOiAnQCdcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwcm9ncmVzc0N0cmwpIHtcbiAgICAgICAgICAgIHByb2dyZXNzQ3RybC5hZGRCYXIoc2NvcGUsIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50LmNoaWxkcmVuKClbMF0pKTtcbiAgICAgICAgfVxuICAgIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5yYXRpbmcnLCBbXSlcblxuLmNvbnN0YW50KCdyYXRpbmdDb25maWcnLCB7XG4gIG1heDogNSxcbiAgc3RhdGVPbjogbnVsbCxcbiAgc3RhdGVPZmY6IG51bGxcbn0pXG5cbi5jb250cm9sbGVyKCdSYXRpbmdDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJ3JhdGluZ0NvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCByYXRpbmdDb25maWcpIHtcbiAgdmFyIG5nTW9kZWxDdHJsICA9IHsgJHNldFZpZXdWYWx1ZTogYW5ndWxhci5ub29wIH07XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24obmdNb2RlbEN0cmxfKSB7XG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XG4gICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IHRoaXMucmVuZGVyO1xuXG4gICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlIDw8IDAgIT09IHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YXRlT24gPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuc3RhdGVPbikgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc3RhdGVPbikgOiByYXRpbmdDb25maWcuc3RhdGVPbjtcbiAgICB0aGlzLnN0YXRlT2ZmID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnN0YXRlT2ZmKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5zdGF0ZU9mZikgOiByYXRpbmdDb25maWcuc3RhdGVPZmY7XG5cbiAgICB2YXIgcmF0aW5nU3RhdGVzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnJhdGluZ1N0YXRlcykgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMucmF0aW5nU3RhdGVzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgQXJyYXkoIGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tYXgpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1heCkgOiByYXRpbmdDb25maWcubWF4ICk7XG4gICAgJHNjb3BlLnJhbmdlID0gdGhpcy5idWlsZFRlbXBsYXRlT2JqZWN0cyhyYXRpbmdTdGF0ZXMpO1xuICB9O1xuXG4gIHRoaXMuYnVpbGRUZW1wbGF0ZU9iamVjdHMgPSBmdW5jdGlvbihzdGF0ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbiA9IHN0YXRlcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHN0YXRlc1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKHsgaW5kZXg6IGkgfSwgeyBzdGF0ZU9uOiB0aGlzLnN0YXRlT24sIHN0YXRlT2ZmOiB0aGlzLnN0YXRlT2ZmIH0sIHN0YXRlc1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZXM7XG4gIH07XG5cbiAgJHNjb3BlLnJhdGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICggISRzY29wZS5yZWFkb25seSAmJiB2YWx1ZSA+PSAwICYmIHZhbHVlIDw9ICRzY29wZS5yYW5nZS5sZW5ndGggKSB7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgPT09IHZhbHVlID8gMCA6IHZhbHVlKTtcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmVudGVyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoICEkc2NvcGUucmVhZG9ubHkgKSB7XG4gICAgICAkc2NvcGUudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgJHNjb3BlLm9uSG92ZXIoe3ZhbHVlOiB2YWx1ZX0pO1xuICB9O1xuXG4gICRzY29wZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS52YWx1ZSA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7XG4gICAgJHNjb3BlLm9uTGVhdmUoKTtcbiAgfTtcblxuICAkc2NvcGUub25LZXlkb3duID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgaWYgKC8oMzd8Mzh8Mzl8NDApLy50ZXN0KGV2dC53aGljaCkpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgJHNjb3BlLnJhdGUoICRzY29wZS52YWx1ZSArIChldnQud2hpY2ggPT09IDM4IHx8IGV2dC53aGljaCA9PT0gMzkgPyAxIDogLTEpICk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnZhbHVlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdyYXRpbmcnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXF1aXJlOiBbJ3JhdGluZycsICduZ01vZGVsJ10sXG4gICAgc2NvcGU6IHtcbiAgICAgIHJlYWRvbmx5OiAnPT8nLFxuICAgICAgb25Ib3ZlcjogJyYnLFxuICAgICAgb25MZWF2ZTogJyYnXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnUmF0aW5nQ29udHJvbGxlcicsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWwnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIHJhdGluZ0N0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcbiAgICAgIHJhdGluZ0N0cmwuaW5pdCggbmdNb2RlbEN0cmwgKTtcbiAgICB9XG4gIH07XG59KTtcblxuLyoqXG4gKiBAbmdkb2Mgb3ZlcnZpZXdcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBbmd1bGFySlMgdmVyc2lvbiBvZiB0aGUgdGFicyBkaXJlY3RpdmUuXG4gKi9cblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50YWJzJywgW10pXG5cbi5jb250cm9sbGVyKCdUYWJzZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbiBUYWJzZXRDdHJsKCRzY29wZSkge1xuICB2YXIgY3RybCA9IHRoaXMsXG4gICAgICB0YWJzID0gY3RybC50YWJzID0gJHNjb3BlLnRhYnMgPSBbXTtcblxuICBjdHJsLnNlbGVjdCA9IGZ1bmN0aW9uKHNlbGVjdGVkVGFiKSB7XG4gICAgYW5ndWxhci5mb3JFYWNoKHRhYnMsIGZ1bmN0aW9uKHRhYikge1xuICAgICAgaWYgKHRhYi5hY3RpdmUgJiYgdGFiICE9PSBzZWxlY3RlZFRhYikge1xuICAgICAgICB0YWIuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRhYi5vbkRlc2VsZWN0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc2VsZWN0ZWRUYWIuYWN0aXZlID0gdHJ1ZTtcbiAgICBzZWxlY3RlZFRhYi5vblNlbGVjdCgpO1xuICB9O1xuXG4gIGN0cmwuYWRkVGFiID0gZnVuY3Rpb24gYWRkVGFiKHRhYikge1xuICAgIHRhYnMucHVzaCh0YWIpO1xuICAgIC8vIHdlIGNhbid0IHJ1biB0aGUgc2VsZWN0IGZ1bmN0aW9uIG9uIHRoZSBmaXJzdCB0YWJcbiAgICAvLyBzaW5jZSB0aGF0IHdvdWxkIHNlbGVjdCBpdCB0d2ljZVxuICAgIGlmICh0YWJzLmxlbmd0aCA9PT0gMSAmJiB0YWIuYWN0aXZlICE9PSBmYWxzZSkge1xuICAgICAgdGFiLmFjdGl2ZSA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0YWIuYWN0aXZlKSB7XG4gICAgICBjdHJsLnNlbGVjdCh0YWIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRhYi5hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgY3RybC5yZW1vdmVUYWIgPSBmdW5jdGlvbiByZW1vdmVUYWIodGFiKSB7XG4gICAgdmFyIGluZGV4ID0gdGFicy5pbmRleE9mKHRhYik7XG4gICAgLy9TZWxlY3QgYSBuZXcgdGFiIGlmIHRoZSB0YWIgdG8gYmUgcmVtb3ZlZCBpcyBzZWxlY3RlZCBhbmQgbm90IGRlc3Ryb3llZFxuICAgIGlmICh0YWIuYWN0aXZlICYmIHRhYnMubGVuZ3RoID4gMSAmJiAhZGVzdHJveWVkKSB7XG4gICAgICAvL0lmIHRoaXMgaXMgdGhlIGxhc3QgdGFiLCBzZWxlY3QgdGhlIHByZXZpb3VzIHRhYi4gZWxzZSwgdGhlIG5leHQgdGFiLlxuICAgICAgdmFyIG5ld0FjdGl2ZUluZGV4ID0gaW5kZXggPT0gdGFicy5sZW5ndGggLSAxID8gaW5kZXggLSAxIDogaW5kZXggKyAxO1xuICAgICAgY3RybC5zZWxlY3QodGFic1tuZXdBY3RpdmVJbmRleF0pO1xuICAgIH1cbiAgICB0YWJzLnNwbGljZShpbmRleCwgMSk7XG4gIH07XG5cbiAgdmFyIGRlc3Ryb3llZDtcbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICBkZXN0cm95ZWQgPSB0cnVlO1xuICB9KTtcbn1dKVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJzZXRcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGFic2V0IGlzIHRoZSBvdXRlciBjb250YWluZXIgZm9yIHRoZSB0YWJzIGRpcmVjdGl2ZVxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHZlcnRpY2FsIFdoZXRoZXIgb3Igbm90IHRvIHVzZSB2ZXJ0aWNhbCBzdHlsaW5nIGZvciB0aGUgdGFicy5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGp1c3RpZmllZCBXaGV0aGVyIG9yIG5vdCB0byB1c2UganVzdGlmaWVkIHN0eWxpbmcgZm9yIHRoZSB0YWJzLlxuICpcbiAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJ1aS5ib290c3RyYXBcIj5cbiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICA8dGFic2V0PlxuICAgICAgPHRhYiBoZWFkaW5nPVwiVGFiIDFcIj48Yj5GaXJzdDwvYj4gQ29udGVudCE8L3RhYj5cbiAgICAgIDx0YWIgaGVhZGluZz1cIlRhYiAyXCI+PGk+U2Vjb25kPC9pPiBDb250ZW50ITwvdGFiPlxuICAgIDwvdGFic2V0PlxuICAgIDxociAvPlxuICAgIDx0YWJzZXQgdmVydGljYWw9XCJ0cnVlXCI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJWZXJ0aWNhbCBUYWIgMVwiPjxiPkZpcnN0PC9iPiBWZXJ0aWNhbCBDb250ZW50ITwvdGFiPlxuICAgICAgPHRhYiBoZWFkaW5nPVwiVmVydGljYWwgVGFiIDJcIj48aT5TZWNvbmQ8L2k+IFZlcnRpY2FsIENvbnRlbnQhPC90YWI+XG4gICAgPC90YWJzZXQ+XG4gICAgPHRhYnNldCBqdXN0aWZpZWQ9XCJ0cnVlXCI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJKdXN0aWZpZWQgVGFiIDFcIj48Yj5GaXJzdDwvYj4gSnVzdGlmaWVkIENvbnRlbnQhPC90YWI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJKdXN0aWZpZWQgVGFiIDJcIj48aT5TZWNvbmQ8L2k+IEp1c3RpZmllZCBDb250ZW50ITwvdGFiPlxuICAgIDwvdGFic2V0PlxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ3RhYnNldCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZToge1xuICAgICAgdHlwZTogJ0AnXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnVGFic2V0Q29udHJvbGxlcicsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHNjb3BlLnZlcnRpY2FsID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudmVydGljYWwpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy52ZXJ0aWNhbCkgOiBmYWxzZTtcbiAgICAgIHNjb3BlLmp1c3RpZmllZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmp1c3RpZmllZCkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmp1c3RpZmllZCkgOiBmYWxzZTtcbiAgICB9XG4gIH07XG59KVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gaGVhZGluZyBUaGUgdmlzaWJsZSBoZWFkaW5nLCBvciB0aXRsZSwgb2YgdGhlIHRhYi4gU2V0IEhUTUwgaGVhZGluZ3Mgd2l0aCB7QGxpbmsgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYkhlYWRpbmcgdGFiSGVhZGluZ30uXG4gKiBAcGFyYW0ge3N0cmluZz19IHNlbGVjdCBBbiBleHByZXNzaW9uIHRvIGV2YWx1YXRlIHdoZW4gdGhlIHRhYiBpcyBzZWxlY3RlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGFjdGl2ZSBBIGJpbmRpbmcsIHRlbGxpbmcgd2hldGhlciBvciBub3QgdGhpcyB0YWIgaXMgc2VsZWN0ZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBkaXNhYmxlZCBBIGJpbmRpbmcsIHRlbGxpbmcgd2hldGhlciBvciBub3QgdGhpcyB0YWIgaXMgZGlzYWJsZWQuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgdGFiIHdpdGggYSBoZWFkaW5nIGFuZCBjb250ZW50LiBNdXN0IGJlIHBsYWNlZCB3aXRoaW4gYSB7QGxpbmsgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYnNldCB0YWJzZXR9LlxuICpcbiAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJ1aS5ib290c3RyYXBcIj5cbiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJUYWJzRGVtb0N0cmxcIj5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtYWxsXCIgbmctY2xpY2s9XCJpdGVtc1swXS5hY3RpdmUgPSB0cnVlXCI+XG4gICAgICAgIFNlbGVjdCBpdGVtIDEsIHVzaW5nIGFjdGl2ZSBiaW5kaW5nXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtYWxsXCIgbmctY2xpY2s9XCJpdGVtc1sxXS5kaXNhYmxlZCA9ICFpdGVtc1sxXS5kaXNhYmxlZFwiPlxuICAgICAgICBFbmFibGUvZGlzYWJsZSBpdGVtIDIsIHVzaW5nIGRpc2FibGVkIGJpbmRpbmdcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGJyIC8+XG4gICAgICA8dGFic2V0PlxuICAgICAgICA8dGFiIGhlYWRpbmc9XCJUYWIgMVwiPkZpcnN0IFRhYjwvdGFiPlxuICAgICAgICA8dGFiIHNlbGVjdD1cImFsZXJ0TWUoKVwiPlxuICAgICAgICAgIDx0YWItaGVhZGluZz48aSBjbGFzcz1cImljb24tYmVsbFwiPjwvaT4gQWxlcnQgbWUhPC90YWItaGVhZGluZz5cbiAgICAgICAgICBTZWNvbmQgVGFiLCB3aXRoIGFsZXJ0IGNhbGxiYWNrIGFuZCBodG1sIGhlYWRpbmchXG4gICAgICAgIDwvdGFiPlxuICAgICAgICA8dGFiIG5nLXJlcGVhdD1cIml0ZW0gaW4gaXRlbXNcIlxuICAgICAgICAgIGhlYWRpbmc9XCJ7e2l0ZW0udGl0bGV9fVwiXG4gICAgICAgICAgZGlzYWJsZWQ9XCJpdGVtLmRpc2FibGVkXCJcbiAgICAgICAgICBhY3RpdmU9XCJpdGVtLmFjdGl2ZVwiPlxuICAgICAgICAgIHt7aXRlbS5jb250ZW50fX1cbiAgICAgICAgPC90YWI+XG4gICAgICA8L3RhYnNldD5cbiAgICA8L2Rpdj5cbiAgPC9maWxlPlxuICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgZnVuY3Rpb24gVGFic0RlbW9DdHJsKCRzY29wZSkge1xuICAgICAgJHNjb3BlLml0ZW1zID0gW1xuICAgICAgICB7IHRpdGxlOlwiRHluYW1pYyBUaXRsZSAxXCIsIGNvbnRlbnQ6XCJEeW5hbWljIEl0ZW0gMFwiIH0sXG4gICAgICAgIHsgdGl0bGU6XCJEeW5hbWljIFRpdGxlIDJcIiwgY29udGVudDpcIkR5bmFtaWMgSXRlbSAxXCIsIGRpc2FibGVkOiB0cnVlIH1cbiAgICAgIF07XG5cbiAgICAgICRzY29wZS5hbGVydE1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgYWxlcnQoXCJZb3UndmUgc2VsZWN0ZWQgdGhlIGFsZXJ0IHRhYiFcIik7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9O1xuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFiSGVhZGluZ1xuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGFuIEhUTUwgaGVhZGluZyBmb3IgYSB7QGxpbmsgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYiB0YWJ9LiBNdXN0IGJlIHBsYWNlZCBhcyBhIGNoaWxkIG9mIGEgdGFiIGVsZW1lbnQuXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxuICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDx0YWJzZXQ+XG4gICAgICA8dGFiPlxuICAgICAgICA8dGFiLWhlYWRpbmc+PGI+SFRNTDwvYj4gaW4gbXkgdGl0bGVzPyE8L3RhYi1oZWFkaW5nPlxuICAgICAgICBBbmQgc29tZSBjb250ZW50LCB0b28hXG4gICAgICA8L3RhYj5cbiAgICAgIDx0YWI+XG4gICAgICAgIDx0YWItaGVhZGluZz48aSBjbGFzcz1cImljb24taGVhcnRcIj48L2k+IEljb24gaGVhZGluZz8hPzwvdGFiLWhlYWRpbmc+XG4gICAgICAgIFRoYXQncyByaWdodC5cbiAgICAgIDwvdGFiPlxuICAgIDwvdGFic2V0PlxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ3RhYicsIFsnJHBhcnNlJywgJyRsb2cnLCBmdW5jdGlvbigkcGFyc2UsICRsb2cpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnXnRhYnNldCcsXG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3RhYnMvdGFiLmh0bWwnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgc2NvcGU6IHtcbiAgICAgIGFjdGl2ZTogJz0/JyxcbiAgICAgIGhlYWRpbmc6ICdAJyxcbiAgICAgIG9uU2VsZWN0OiAnJnNlbGVjdCcsIC8vVGhpcyBjYWxsYmFjayBpcyBjYWxsZWQgaW4gY29udGVudEhlYWRpbmdUcmFuc2NsdWRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vb25jZSBpdCBpbnNlcnRzIHRoZSB0YWIncyBjb250ZW50IGludG8gdGhlIGRvbVxuICAgICAgb25EZXNlbGVjdDogJyZkZXNlbGVjdCdcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgLy9FbXB0eSBjb250cm9sbGVyIHNvIG90aGVyIGRpcmVjdGl2ZXMgY2FuIHJlcXVpcmUgYmVpbmcgJ3VuZGVyJyBhIHRhYlxuICAgIH0sXG4gICAgY29tcGlsZTogZnVuY3Rpb24oZWxtLCBhdHRycywgdHJhbnNjbHVkZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbG0sIGF0dHJzLCB0YWJzZXRDdHJsKSB7XG4gICAgICAgIHNjb3BlLiR3YXRjaCgnYWN0aXZlJywgZnVuY3Rpb24oYWN0aXZlKSB7XG4gICAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgICAgdGFic2V0Q3RybC5zZWxlY3Qoc2NvcGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2NvcGUuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCBhdHRycy5kaXNhYmxlICkge1xuICAgICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZShhdHRycy5kaXNhYmxlKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHNjb3BlLmRpc2FibGVkID0gISEgdmFsdWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZXByZWNhdGlvbiBzdXBwb3J0IG9mIFwiZGlzYWJsZWRcIiBwYXJhbWV0ZXJcbiAgICAgICAgLy8gZml4KHRhYik6IElFOSBkaXNhYmxlZCBhdHRyIHJlbmRlcnMgZ3JleSB0ZXh0IG9uIGVuYWJsZWQgdGFiICMyNjc3XG4gICAgICAgIC8vIFRoaXMgY29kZSBpcyBkdXBsaWNhdGVkIGZyb20gdGhlIGxpbmVzIGFib3ZlIHRvIG1ha2UgaXQgZWFzeSB0byByZW1vdmUgb25jZVxuICAgICAgICAvLyB0aGUgZmVhdHVyZSBoYXMgYmVlbiBjb21wbGV0ZWx5IGRlcHJlY2F0ZWRcbiAgICAgICAgaWYgKCBhdHRycy5kaXNhYmxlZCApIHtcbiAgICAgICAgICAkbG9nLndhcm4oJ1VzZSBvZiBcImRpc2FibGVkXCIgYXR0cmlidXRlIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgXCJkaXNhYmxlXCInKTtcbiAgICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMuZGlzYWJsZWQpLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgc2NvcGUuZGlzYWJsZWQgPSAhISB2YWx1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICggIXNjb3BlLmRpc2FibGVkICkge1xuICAgICAgICAgICAgc2NvcGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGFic2V0Q3RybC5hZGRUYWIoc2NvcGUpO1xuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGFic2V0Q3RybC5yZW1vdmVUYWIoc2NvcGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL1dlIG5lZWQgdG8gdHJhbnNjbHVkZSBsYXRlciwgb25jZSB0aGUgY29udGVudCBjb250YWluZXIgaXMgcmVhZHkuXG4gICAgICAgIC8vd2hlbiB0aGlzIGxpbmsgaGFwcGVucywgd2UncmUgaW5zaWRlIGEgdGFiIGhlYWRpbmcuXG4gICAgICAgIHNjb3BlLiR0cmFuc2NsdWRlRm4gPSB0cmFuc2NsdWRlO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgndGFiSGVhZGluZ1RyYW5zY2x1ZGUnLCBbZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnXnRhYicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0cnMsIHRhYkN0cmwpIHtcbiAgICAgIHNjb3BlLiR3YXRjaCgnaGVhZGluZ0VsZW1lbnQnLCBmdW5jdGlvbiB1cGRhdGVIZWFkaW5nRWxlbWVudChoZWFkaW5nKSB7XG4gICAgICAgIGlmIChoZWFkaW5nKSB7XG4gICAgICAgICAgZWxtLmh0bWwoJycpO1xuICAgICAgICAgIGVsbS5hcHBlbmQoaGVhZGluZyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd0YWJDb250ZW50VHJhbnNjbHVkZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJ150YWJzZXQnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHJzKSB7XG4gICAgICB2YXIgdGFiID0gc2NvcGUuJGV2YWwoYXR0cnMudGFiQ29udGVudFRyYW5zY2x1ZGUpO1xuXG4gICAgICAvL05vdyBvdXIgdGFiIGlzIHJlYWR5IHRvIGJlIHRyYW5zY2x1ZGVkOiBib3RoIHRoZSB0YWIgaGVhZGluZyBhcmVhXG4gICAgICAvL2FuZCB0aGUgdGFiIGNvbnRlbnQgYXJlYSBhcmUgbG9hZGVkLiAgVHJhbnNjbHVkZSAnZW0gYm90aC5cbiAgICAgIHRhYi4kdHJhbnNjbHVkZUZuKHRhYi4kcGFyZW50LCBmdW5jdGlvbihjb250ZW50cykge1xuICAgICAgICBhbmd1bGFyLmZvckVhY2goY29udGVudHMsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICBpZiAoaXNUYWJIZWFkaW5nKG5vZGUpKSB7XG4gICAgICAgICAgICAvL0xldCB0YWJIZWFkaW5nVHJhbnNjbHVkZSBrbm93LlxuICAgICAgICAgICAgdGFiLmhlYWRpbmdFbGVtZW50ID0gbm9kZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxtLmFwcGVuZChub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiBpc1RhYkhlYWRpbmcobm9kZSkge1xuICAgIHJldHVybiBub2RlLnRhZ05hbWUgJiYgIChcbiAgICAgIG5vZGUuaGFzQXR0cmlidXRlKCd0YWItaGVhZGluZycpIHx8XG4gICAgICBub2RlLmhhc0F0dHJpYnV0ZSgnZGF0YS10YWItaGVhZGluZycpIHx8XG4gICAgICBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RhYi1oZWFkaW5nJyB8fFxuICAgICAgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdkYXRhLXRhYi1oZWFkaW5nJ1xuICAgICk7XG4gIH1cbn0pXG5cbjtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50aW1lcGlja2VyJywgW10pXG5cbi5jb25zdGFudCgndGltZXBpY2tlckNvbmZpZycsIHtcbiAgaG91clN0ZXA6IDEsXG4gIG1pbnV0ZVN0ZXA6IDEsXG4gIHNob3dNZXJpZGlhbjogdHJ1ZSxcbiAgbWVyaWRpYW5zOiBudWxsLFxuICByZWFkb25seUlucHV0OiBmYWxzZSxcbiAgbW91c2V3aGVlbDogdHJ1ZSxcbiAgYXJyb3drZXlzOiB0cnVlLFxuICBzaG93U3Bpbm5lcnM6IHRydWVcbn0pXG5cbi5jb250cm9sbGVyKCdUaW1lcGlja2VyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCAnJGxvZycsICckbG9jYWxlJywgJ3RpbWVwaWNrZXJDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgJHBhcnNlLCAkbG9nLCAkbG9jYWxlLCB0aW1lcGlja2VyQ29uZmlnKSB7XG4gIHZhciBzZWxlY3RlZCA9IG5ldyBEYXRlKCksXG4gICAgICBuZ01vZGVsQ3RybCA9IHsgJHNldFZpZXdWYWx1ZTogYW5ndWxhci5ub29wIH0sIC8vIG51bGxNb2RlbEN0cmxcbiAgICAgIG1lcmlkaWFucyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tZXJpZGlhbnMpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1lcmlkaWFucykgOiB0aW1lcGlja2VyQ29uZmlnLm1lcmlkaWFucyB8fCAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuQU1QTVM7XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24oIG5nTW9kZWxDdHJsXywgaW5wdXRzICkge1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSB0aGlzLnJlbmRlcjtcblxuICAgIG5nTW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnVuc2hpZnQoZnVuY3Rpb24gKG1vZGVsVmFsdWUpIHtcbiAgICAgIHJldHVybiBtb2RlbFZhbHVlID8gbmV3IERhdGUoIG1vZGVsVmFsdWUgKSA6IG51bGw7XG4gICAgfSk7XG5cbiAgICB2YXIgaG91cnNJbnB1dEVsID0gaW5wdXRzLmVxKDApLFxuICAgICAgICBtaW51dGVzSW5wdXRFbCA9IGlucHV0cy5lcSgxKTtcblxuICAgIHZhciBtb3VzZXdoZWVsID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1vdXNld2hlZWwpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1vdXNld2hlZWwpIDogdGltZXBpY2tlckNvbmZpZy5tb3VzZXdoZWVsO1xuICAgIGlmICggbW91c2V3aGVlbCApIHtcbiAgICAgIHRoaXMuc2V0dXBNb3VzZXdoZWVsRXZlbnRzKCBob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsICk7XG4gICAgfVxuXG4gICAgdmFyIGFycm93a2V5cyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5hcnJvd2tleXMpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmFycm93a2V5cykgOiB0aW1lcGlja2VyQ29uZmlnLmFycm93a2V5cztcbiAgICBpZiAoYXJyb3drZXlzKSB7XG4gICAgICB0aGlzLnNldHVwQXJyb3drZXlFdmVudHMoIGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwgKTtcbiAgICB9XG5cbiAgICAkc2NvcGUucmVhZG9ubHlJbnB1dCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5yZWFkb25seUlucHV0KSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5yZWFkb25seUlucHV0KSA6IHRpbWVwaWNrZXJDb25maWcucmVhZG9ubHlJbnB1dDtcbiAgICB0aGlzLnNldHVwSW5wdXRFdmVudHMoIGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwgKTtcbiAgfTtcblxuICB2YXIgaG91clN0ZXAgPSB0aW1lcGlja2VyQ29uZmlnLmhvdXJTdGVwO1xuICBpZiAoJGF0dHJzLmhvdXJTdGVwKSB7XG4gICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuaG91clN0ZXApLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaG91clN0ZXAgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIG1pbnV0ZVN0ZXAgPSB0aW1lcGlja2VyQ29uZmlnLm1pbnV0ZVN0ZXA7XG4gIGlmICgkYXR0cnMubWludXRlU3RlcCkge1xuICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLm1pbnV0ZVN0ZXApLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgbWludXRlU3RlcCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyAxMkggLyAyNEggbW9kZVxuICAkc2NvcGUuc2hvd01lcmlkaWFuID0gdGltZXBpY2tlckNvbmZpZy5zaG93TWVyaWRpYW47XG4gIGlmICgkYXR0cnMuc2hvd01lcmlkaWFuKSB7XG4gICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuc2hvd01lcmlkaWFuKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICRzY29wZS5zaG93TWVyaWRpYW4gPSAhIXZhbHVlO1xuXG4gICAgICBpZiAoIG5nTW9kZWxDdHJsLiRlcnJvci50aW1lICkge1xuICAgICAgICAvLyBFdmFsdWF0ZSBmcm9tIHRlbXBsYXRlXG4gICAgICAgIHZhciBob3VycyA9IGdldEhvdXJzRnJvbVRlbXBsYXRlKCksIG1pbnV0ZXMgPSBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCk7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCggaG91cnMgKSAmJiBhbmd1bGFyLmlzRGVmaW5lZCggbWludXRlcyApKSB7XG4gICAgICAgICAgc2VsZWN0ZWQuc2V0SG91cnMoIGhvdXJzICk7XG4gICAgICAgICAgcmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVUZW1wbGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gR2V0ICRzY29wZS5ob3VycyBpbiAyNEggbW9kZSBpZiB2YWxpZFxuICBmdW5jdGlvbiBnZXRIb3Vyc0Zyb21UZW1wbGF0ZSAoICkge1xuICAgIHZhciBob3VycyA9IHBhcnNlSW50KCAkc2NvcGUuaG91cnMsIDEwICk7XG4gICAgdmFyIHZhbGlkID0gKCAkc2NvcGUuc2hvd01lcmlkaWFuICkgPyAoaG91cnMgPiAwICYmIGhvdXJzIDwgMTMpIDogKGhvdXJzID49IDAgJiYgaG91cnMgPCAyNCk7XG4gICAgaWYgKCAhdmFsaWQgKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmICggJHNjb3BlLnNob3dNZXJpZGlhbiApIHtcbiAgICAgIGlmICggaG91cnMgPT09IDEyICkge1xuICAgICAgICBob3VycyA9IDA7XG4gICAgICB9XG4gICAgICBpZiAoICRzY29wZS5tZXJpZGlhbiA9PT0gbWVyaWRpYW5zWzFdICkge1xuICAgICAgICBob3VycyA9IGhvdXJzICsgMTI7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBob3VycztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKSB7XG4gICAgdmFyIG1pbnV0ZXMgPSBwYXJzZUludCgkc2NvcGUubWludXRlcywgMTApO1xuICAgIHJldHVybiAoIG1pbnV0ZXMgPj0gMCAmJiBtaW51dGVzIDwgNjAgKSA/IG1pbnV0ZXMgOiB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBwYWQoIHZhbHVlICkge1xuICAgIHJldHVybiAoIGFuZ3VsYXIuaXNEZWZpbmVkKHZhbHVlKSAmJiB2YWx1ZS50b1N0cmluZygpLmxlbmd0aCA8IDIgKSA/ICcwJyArIHZhbHVlIDogdmFsdWUudG9TdHJpbmcoKTtcbiAgfVxuXG4gIC8vIFJlc3BvbmQgb24gbW91c2V3aGVlbCBzcGluXG4gIHRoaXMuc2V0dXBNb3VzZXdoZWVsRXZlbnRzID0gZnVuY3Rpb24oIGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwgKSB7XG4gICAgdmFyIGlzU2Nyb2xsaW5nVXAgPSBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIGUgPSBlLm9yaWdpbmFsRXZlbnQ7XG4gICAgICB9XG4gICAgICAvL3BpY2sgY29ycmVjdCBkZWx0YSB2YXJpYWJsZSBkZXBlbmRpbmcgb24gZXZlbnRcbiAgICAgIHZhciBkZWx0YSA9IChlLndoZWVsRGVsdGEpID8gZS53aGVlbERlbHRhIDogLWUuZGVsdGFZO1xuICAgICAgcmV0dXJuIChlLmRldGFpbCB8fCBkZWx0YSA+IDApO1xuICAgIH07XG5cbiAgICBob3Vyc0lucHV0RWwuYmluZCgnbW91c2V3aGVlbCB3aGVlbCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICRzY29wZS4kYXBwbHkoIChpc1Njcm9sbGluZ1VwKGUpKSA/ICRzY29wZS5pbmNyZW1lbnRIb3VycygpIDogJHNjb3BlLmRlY3JlbWVudEhvdXJzKCkgKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIG1pbnV0ZXNJbnB1dEVsLmJpbmQoJ21vdXNld2hlZWwgd2hlZWwnLCBmdW5jdGlvbihlKSB7XG4gICAgICAkc2NvcGUuJGFwcGx5KCAoaXNTY3JvbGxpbmdVcChlKSkgPyAkc2NvcGUuaW5jcmVtZW50TWludXRlcygpIDogJHNjb3BlLmRlY3JlbWVudE1pbnV0ZXMoKSApO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gIH07XG5cbiAgLy8gUmVzcG9uZCBvbiB1cC9kb3duIGFycm93a2V5c1xuICB0aGlzLnNldHVwQXJyb3drZXlFdmVudHMgPSBmdW5jdGlvbiggaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCApIHtcbiAgICBob3Vyc0lucHV0RWwuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICggZS53aGljaCA9PT0gMzggKSB7IC8vIHVwXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHNjb3BlLmluY3JlbWVudEhvdXJzKCk7XG4gICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCBlLndoaWNoID09PSA0MCApIHsgLy8gZG93blxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICRzY29wZS5kZWNyZW1lbnRIb3VycygpO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBtaW51dGVzSW5wdXRFbC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKCBlLndoaWNoID09PSAzOCApIHsgLy8gdXBcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkc2NvcGUuaW5jcmVtZW50TWludXRlcygpO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICggZS53aGljaCA9PT0gNDAgKSB7IC8vIGRvd25cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkc2NvcGUuZGVjcmVtZW50TWludXRlcygpO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5zZXR1cElucHV0RXZlbnRzID0gZnVuY3Rpb24oIGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwgKSB7XG4gICAgaWYgKCAkc2NvcGUucmVhZG9ubHlJbnB1dCApIHtcbiAgICAgICRzY29wZS51cGRhdGVIb3VycyA9IGFuZ3VsYXIubm9vcDtcbiAgICAgICRzY29wZS51cGRhdGVNaW51dGVzID0gYW5ndWxhci5ub29wO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpbnZhbGlkYXRlID0gZnVuY3Rpb24oaW52YWxpZEhvdXJzLCBpbnZhbGlkTWludXRlcykge1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSggbnVsbCApO1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCd0aW1lJywgZmFsc2UpO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGludmFsaWRIb3VycykpIHtcbiAgICAgICAgJHNjb3BlLmludmFsaWRIb3VycyA9IGludmFsaWRIb3VycztcbiAgICAgIH1cbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkTWludXRlcykpIHtcbiAgICAgICAgJHNjb3BlLmludmFsaWRNaW51dGVzID0gaW52YWxpZE1pbnV0ZXM7XG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS51cGRhdGVIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKTtcblxuICAgICAgaWYgKCBhbmd1bGFyLmlzRGVmaW5lZChob3VycykgKSB7XG4gICAgICAgIHNlbGVjdGVkLnNldEhvdXJzKCBob3VycyApO1xuICAgICAgICByZWZyZXNoKCAnaCcgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludmFsaWRhdGUodHJ1ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGhvdXJzSW5wdXRFbC5iaW5kKCdibHVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKCAhJHNjb3BlLmludmFsaWRIb3VycyAmJiAkc2NvcGUuaG91cnMgPCAxMCkge1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUuaG91cnMgPSBwYWQoICRzY29wZS5ob3VycyApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICRzY29wZS51cGRhdGVNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKTtcblxuICAgICAgaWYgKCBhbmd1bGFyLmlzRGVmaW5lZChtaW51dGVzKSApIHtcbiAgICAgICAgc2VsZWN0ZWQuc2V0TWludXRlcyggbWludXRlcyApO1xuICAgICAgICByZWZyZXNoKCAnbScgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludmFsaWRhdGUodW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbWludXRlc0lucHV0RWwuYmluZCgnYmx1cicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICggISRzY29wZS5pbnZhbGlkTWludXRlcyAmJiAkc2NvcGUubWludXRlcyA8IDEwICkge1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUubWludXRlcyA9IHBhZCggJHNjb3BlLm1pbnV0ZXMgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfTtcblxuICB0aGlzLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcblxuICAgIGlmICggaXNOYU4oZGF0ZSkgKSB7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3RpbWUnLCBmYWxzZSk7XG4gICAgICAkbG9nLmVycm9yKCdUaW1lcGlja2VyIGRpcmVjdGl2ZTogXCJuZy1tb2RlbFwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCBkYXRlICkge1xuICAgICAgICBzZWxlY3RlZCA9IGRhdGU7XG4gICAgICB9XG4gICAgICBtYWtlVmFsaWQoKTtcbiAgICAgIHVwZGF0ZVRlbXBsYXRlKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIENhbGwgaW50ZXJuYWxseSB3aGVuIHdlIGtub3cgdGhhdCBtb2RlbCBpcyB2YWxpZC5cbiAgZnVuY3Rpb24gcmVmcmVzaCgga2V5Ym9hcmRDaGFuZ2UgKSB7XG4gICAgbWFrZVZhbGlkKCk7XG4gICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSggbmV3IERhdGUoc2VsZWN0ZWQpICk7XG4gICAgdXBkYXRlVGVtcGxhdGUoIGtleWJvYXJkQ2hhbmdlICk7XG4gIH1cblxuICBmdW5jdGlvbiBtYWtlVmFsaWQoKSB7XG4gICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCd0aW1lJywgdHJ1ZSk7XG4gICAgJHNjb3BlLmludmFsaWRIb3VycyA9IGZhbHNlO1xuICAgICRzY29wZS5pbnZhbGlkTWludXRlcyA9IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlVGVtcGxhdGUoIGtleWJvYXJkQ2hhbmdlICkge1xuICAgIHZhciBob3VycyA9IHNlbGVjdGVkLmdldEhvdXJzKCksIG1pbnV0ZXMgPSBzZWxlY3RlZC5nZXRNaW51dGVzKCk7XG5cbiAgICBpZiAoICRzY29wZS5zaG93TWVyaWRpYW4gKSB7XG4gICAgICBob3VycyA9ICggaG91cnMgPT09IDAgfHwgaG91cnMgPT09IDEyICkgPyAxMiA6IGhvdXJzICUgMTI7IC8vIENvbnZlcnQgMjQgdG8gMTIgaG91ciBzeXN0ZW1cbiAgICB9XG5cbiAgICAkc2NvcGUuaG91cnMgPSBrZXlib2FyZENoYW5nZSA9PT0gJ2gnID8gaG91cnMgOiBwYWQoaG91cnMpO1xuICAgIGlmIChrZXlib2FyZENoYW5nZSAhPT0gJ20nKSB7XG4gICAgICAkc2NvcGUubWludXRlcyA9IHBhZChtaW51dGVzKTtcbiAgICB9XG4gICAgJHNjb3BlLm1lcmlkaWFuID0gc2VsZWN0ZWQuZ2V0SG91cnMoKSA8IDEyID8gbWVyaWRpYW5zWzBdIDogbWVyaWRpYW5zWzFdO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkTWludXRlcyggbWludXRlcyApIHtcbiAgICB2YXIgZHQgPSBuZXcgRGF0ZSggc2VsZWN0ZWQuZ2V0VGltZSgpICsgbWludXRlcyAqIDYwMDAwICk7XG4gICAgc2VsZWN0ZWQuc2V0SG91cnMoIGR0LmdldEhvdXJzKCksIGR0LmdldE1pbnV0ZXMoKSApO1xuICAgIHJlZnJlc2goKTtcbiAgfVxuICBcbiAgJHNjb3BlLnNob3dTcGlubmVycyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5zaG93U3Bpbm5lcnMpID9cbiAgICAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc2hvd1NwaW5uZXJzKSA6IHRpbWVwaWNrZXJDb25maWcuc2hvd1NwaW5uZXJzO1xuICBcbiAgJHNjb3BlLmluY3JlbWVudEhvdXJzID0gZnVuY3Rpb24oKSB7XG4gICAgYWRkTWludXRlcyggaG91clN0ZXAgKiA2MCApO1xuICB9O1xuICAkc2NvcGUuZGVjcmVtZW50SG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICBhZGRNaW51dGVzKCAtIGhvdXJTdGVwICogNjAgKTtcbiAgfTtcbiAgJHNjb3BlLmluY3JlbWVudE1pbnV0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICBhZGRNaW51dGVzKCBtaW51dGVTdGVwICk7XG4gIH07XG4gICRzY29wZS5kZWNyZW1lbnRNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgYWRkTWludXRlcyggLSBtaW51dGVTdGVwICk7XG4gIH07XG4gICRzY29wZS50b2dnbGVNZXJpZGlhbiA9IGZ1bmN0aW9uKCkge1xuICAgIGFkZE1pbnV0ZXMoIDEyICogNjAgKiAoKCBzZWxlY3RlZC5nZXRIb3VycygpIDwgMTIgKSA/IDEgOiAtMSkgKTtcbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd0aW1lcGlja2VyJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcXVpcmU6IFsndGltZXBpY2tlcicsICc/Xm5nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOidUaW1lcGlja2VyQ29udHJvbGxlcicsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZToge30sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIHRpbWVwaWNrZXJDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGlmICggbmdNb2RlbEN0cmwgKSB7XG4gICAgICAgIHRpbWVwaWNrZXJDdHJsLmluaXQoIG5nTW9kZWxDdHJsLCBlbGVtZW50LmZpbmQoJ2lucHV0JykgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50cmFuc2l0aW9uJywgW10pXG5cbi52YWx1ZSgnJHRyYW5zaXRpb25TdXBwcmVzc0RlcHJlY2F0ZWQnLCBmYWxzZSlcbi8qKlxuICogJHRyYW5zaXRpb24gc2VydmljZSBwcm92aWRlcyBhIGNvbnNpc3RlbnQgaW50ZXJmYWNlIHRvIHRyaWdnZXIgQ1NTIDMgdHJhbnNpdGlvbnMgYW5kIHRvIGJlIGluZm9ybWVkIHdoZW4gdGhleSBjb21wbGV0ZS5cbiAqIEBwYXJhbSAge0RPTUVsZW1lbnR9IGVsZW1lbnQgIFRoZSBET01FbGVtZW50IHRoYXQgd2lsbCBiZSBhbmltYXRlZC5cbiAqIEBwYXJhbSAge3N0cmluZ3xvYmplY3R8ZnVuY3Rpb259IHRyaWdnZXIgIFRoZSB0aGluZyB0aGF0IHdpbGwgY2F1c2UgdGhlIHRyYW5zaXRpb24gdG8gc3RhcnQ6XG4gKiAgIC0gQXMgYSBzdHJpbmcsIGl0IHJlcHJlc2VudHMgdGhlIGNzcyBjbGFzcyB0byBiZSBhZGRlZCB0byB0aGUgZWxlbWVudC5cbiAqICAgLSBBcyBhbiBvYmplY3QsIGl0IHJlcHJlc2VudHMgYSBoYXNoIG9mIHN0eWxlIGF0dHJpYnV0ZXMgdG8gYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAqICAgLSBBcyBhIGZ1bmN0aW9uLCBpdCByZXByZXNlbnRzIGEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHRoYXQgd2lsbCBjYXVzZSB0aGUgdHJhbnNpdGlvbiB0byBvY2N1ci5cbiAqIEByZXR1cm4ge1Byb21pc2V9ICBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSB0cmFuc2l0aW9uIGZpbmlzaGVzLlxuICovXG4uZmFjdG9yeSgnJHRyYW5zaXRpb24nLCBbXG4gICAgICAgICckcScsICckdGltZW91dCcsICckcm9vdFNjb3BlJywgJyRsb2cnLCAnJHRyYW5zaXRpb25TdXBwcmVzc0RlcHJlY2F0ZWQnLFxuZnVuY3Rpb24oJHEgLCAgJHRpbWVvdXQgLCAgJHJvb3RTY29wZSAsICAkbG9nICwgICR0cmFuc2l0aW9uU3VwcHJlc3NEZXByZWNhdGVkKSB7XG5cbiAgaWYgKCEkdHJhbnNpdGlvblN1cHByZXNzRGVwcmVjYXRlZCkge1xuICAgICRsb2cud2FybignJHRyYW5zaXRpb24gaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSAkYW5pbWF0ZSBmcm9tIG5nQW5pbWF0ZSBpbnN0ZWFkLicpO1xuICB9XG5cbiAgdmFyICR0cmFuc2l0aW9uID0gZnVuY3Rpb24oZWxlbWVudCwgdHJpZ2dlciwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgdmFyIGVuZEV2ZW50TmFtZSA9ICR0cmFuc2l0aW9uW29wdGlvbnMuYW5pbWF0aW9uID8gJ2FuaW1hdGlvbkVuZEV2ZW50TmFtZScgOiAndHJhbnNpdGlvbkVuZEV2ZW50TmFtZSddO1xuXG4gICAgdmFyIHRyYW5zaXRpb25FbmRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICBlbGVtZW50LnVuYmluZChlbmRFdmVudE5hbWUsIHRyYW5zaXRpb25FbmRIYW5kbGVyKTtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShlbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBpZiAoZW5kRXZlbnROYW1lKSB7XG4gICAgICBlbGVtZW50LmJpbmQoZW5kRXZlbnROYW1lLCB0cmFuc2l0aW9uRW5kSGFuZGxlcik7XG4gICAgfVxuXG4gICAgLy8gV3JhcCBpbiBhIHRpbWVvdXQgdG8gYWxsb3cgdGhlIGJyb3dzZXIgdGltZSB0byB1cGRhdGUgdGhlIERPTSBiZWZvcmUgdGhlIHRyYW5zaXRpb24gaXMgdG8gb2NjdXJcbiAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmICggYW5ndWxhci5pc1N0cmluZyh0cmlnZ2VyKSApIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyh0cmlnZ2VyKTtcbiAgICAgIH0gZWxzZSBpZiAoIGFuZ3VsYXIuaXNGdW5jdGlvbih0cmlnZ2VyKSApIHtcbiAgICAgICAgdHJpZ2dlcihlbGVtZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoIGFuZ3VsYXIuaXNPYmplY3QodHJpZ2dlcikgKSB7XG4gICAgICAgIGVsZW1lbnQuY3NzKHRyaWdnZXIpO1xuICAgICAgfVxuICAgICAgLy9JZiBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdHJhbnNpdGlvbnMsIGluc3RhbnRseSByZXNvbHZlXG4gICAgICBpZiAoICFlbmRFdmVudE5hbWUgKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgb3VyIGN1c3RvbSBjYW5jZWwgZnVuY3Rpb24gdG8gdGhlIHByb21pc2UgdGhhdCBpcyByZXR1cm5lZFxuICAgIC8vIFdlIGNhbiBjYWxsIHRoaXMgaWYgd2UgYXJlIGFib3V0IHRvIHJ1biBhIG5ldyB0cmFuc2l0aW9uLCB3aGljaCB3ZSBrbm93IHdpbGwgcHJldmVudCB0aGlzIHRyYW5zaXRpb24gZnJvbSBlbmRpbmcsXG4gICAgLy8gaS5lLiBpdCB3aWxsIHRoZXJlZm9yZSBuZXZlciByYWlzZSBhIHRyYW5zaXRpb25FbmQgZXZlbnQgZm9yIHRoYXQgdHJhbnNpdGlvblxuICAgIGRlZmVycmVkLnByb21pc2UuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIGVuZEV2ZW50TmFtZSApIHtcbiAgICAgICAgZWxlbWVudC51bmJpbmQoZW5kRXZlbnROYW1lLCB0cmFuc2l0aW9uRW5kSGFuZGxlcik7XG4gICAgICB9XG4gICAgICBkZWZlcnJlZC5yZWplY3QoJ1RyYW5zaXRpb24gY2FuY2VsbGVkJyk7XG4gICAgfTtcblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9O1xuXG4gIC8vIFdvcmsgb3V0IHRoZSBuYW1lIG9mIHRoZSB0cmFuc2l0aW9uRW5kIGV2ZW50XG4gIHZhciB0cmFuc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cmFucycpO1xuICB2YXIgdHJhbnNpdGlvbkVuZEV2ZW50TmFtZXMgPSB7XG4gICAgJ1dlYmtpdFRyYW5zaXRpb24nOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgJ01velRyYW5zaXRpb24nOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgJ09UcmFuc2l0aW9uJzogJ29UcmFuc2l0aW9uRW5kJyxcbiAgICAndHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJ1xuICB9O1xuICB2YXIgYW5pbWF0aW9uRW5kRXZlbnROYW1lcyA9IHtcbiAgICAnV2Via2l0VHJhbnNpdGlvbic6ICd3ZWJraXRBbmltYXRpb25FbmQnLFxuICAgICdNb3pUcmFuc2l0aW9uJzogJ2FuaW1hdGlvbmVuZCcsXG4gICAgJ09UcmFuc2l0aW9uJzogJ29BbmltYXRpb25FbmQnLFxuICAgICd0cmFuc2l0aW9uJzogJ2FuaW1hdGlvbmVuZCdcbiAgfTtcbiAgZnVuY3Rpb24gZmluZEVuZEV2ZW50TmFtZShlbmRFdmVudE5hbWVzKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiBlbmRFdmVudE5hbWVzKXtcbiAgICAgIGlmICh0cmFuc0VsZW1lbnQuc3R5bGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZW5kRXZlbnROYW1lc1tuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgJHRyYW5zaXRpb24udHJhbnNpdGlvbkVuZEV2ZW50TmFtZSA9IGZpbmRFbmRFdmVudE5hbWUodHJhbnNpdGlvbkVuZEV2ZW50TmFtZXMpO1xuICAkdHJhbnNpdGlvbi5hbmltYXRpb25FbmRFdmVudE5hbWUgPSBmaW5kRW5kRXZlbnROYW1lKGFuaW1hdGlvbkVuZEV2ZW50TmFtZXMpO1xuICByZXR1cm4gJHRyYW5zaXRpb247XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudHlwZWFoZWFkJywgWyd1aS5ib290c3RyYXAucG9zaXRpb24nLCAndWkuYm9vdHN0cmFwLmJpbmRIdG1sJ10pXG5cbi8qKlxuICogQSBoZWxwZXIgc2VydmljZSB0aGF0IGNhbiBwYXJzZSB0eXBlYWhlYWQncyBzeW50YXggKHN0cmluZyBwcm92aWRlZCBieSB1c2VycylcbiAqIEV4dHJhY3RlZCB0byBhIHNlcGFyYXRlIHNlcnZpY2UgZm9yIGVhc2Ugb2YgdW5pdCB0ZXN0aW5nXG4gKi9cbiAgLmZhY3RvcnkoJ3R5cGVhaGVhZFBhcnNlcicsIFsnJHBhcnNlJywgZnVuY3Rpb24gKCRwYXJzZSkge1xuXG4gIC8vICAgICAgICAgICAgICAgICAgICAgIDAwMDAwMTExMDAwMDAwMDAwMDAwMDIyMjAwMDAwMDAwMDAwMDAwMDAzMzMzMzMzMzMzMzMzMzMwMDAwMDAwMDAwMDQ0MDAwXG4gIHZhciBUWVBFQUhFQURfUkVHRVhQID0gL15cXHMqKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/XFxzK2ZvclxccysoPzooW1xcJFxcd11bXFwkXFx3XFxkXSopKVxccytpblxccysoW1xcc1xcU10rPykkLztcblxuICByZXR1cm4ge1xuICAgIHBhcnNlOmZ1bmN0aW9uIChpbnB1dCkge1xuXG4gICAgICB2YXIgbWF0Y2ggPSBpbnB1dC5tYXRjaChUWVBFQUhFQURfUkVHRVhQKTtcbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdFeHBlY3RlZCB0eXBlYWhlYWQgc3BlY2lmaWNhdGlvbiBpbiBmb3JtIG9mIFwiX21vZGVsVmFsdWVfIChhcyBfbGFiZWxfKT8gZm9yIF9pdGVtXyBpbiBfY29sbGVjdGlvbl9cIicgK1xuICAgICAgICAgICAgJyBidXQgZ290IFwiJyArIGlucHV0ICsgJ1wiLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpdGVtTmFtZTptYXRjaFszXSxcbiAgICAgICAgc291cmNlOiRwYXJzZShtYXRjaFs0XSksXG4gICAgICAgIHZpZXdNYXBwZXI6JHBhcnNlKG1hdGNoWzJdIHx8IG1hdGNoWzFdKSxcbiAgICAgICAgbW9kZWxNYXBwZXI6JHBhcnNlKG1hdGNoWzFdKVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XSlcblxuICAuZGlyZWN0aXZlKCd0eXBlYWhlYWQnLCBbJyRjb21waWxlJywgJyRwYXJzZScsICckcScsICckdGltZW91dCcsICckZG9jdW1lbnQnLCAnJHdpbmRvdycsICckcm9vdFNjb3BlJywgJyRwb3NpdGlvbicsICd0eXBlYWhlYWRQYXJzZXInLFxuICAgICAgIGZ1bmN0aW9uICgkY29tcGlsZSwgJHBhcnNlLCAkcSwgJHRpbWVvdXQsICRkb2N1bWVudCwgJHdpbmRvdywgJHJvb3RTY29wZSwgJHBvc2l0aW9uLCB0eXBlYWhlYWRQYXJzZXIpIHtcblxuICB2YXIgSE9UX0tFWVMgPSBbOSwgMTMsIDI3LCAzOCwgNDBdO1xuICB2YXIgZXZlbnREZWJvdW5jZVRpbWUgPSAyMDA7XG5cbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiduZ01vZGVsJyxcbiAgICBsaW5rOmZ1bmN0aW9uIChvcmlnaW5hbFNjb3BlLCBlbGVtZW50LCBhdHRycywgbW9kZWxDdHJsKSB7XG5cbiAgICAgIC8vU1VQUE9SVEVEIEFUVFJJQlVURVMgKE9QVElPTlMpXG5cbiAgICAgIC8vbWluaW1hbCBubyBvZiBjaGFyYWN0ZXJzIHRoYXQgbmVlZHMgdG8gYmUgZW50ZXJlZCBiZWZvcmUgdHlwZWFoZWFkIGtpY2tzLWluXG4gICAgICB2YXIgbWluTGVuZ3RoID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRNaW5MZW5ndGgpO1xuICAgICAgaWYgKCFtaW5MZW5ndGggJiYgbWluTGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIG1pbkxlbmd0aCA9IDE7XG4gICAgICB9XG5cbiAgICAgIC8vbWluaW1hbCB3YWl0IHRpbWUgYWZ0ZXIgbGFzdCBjaGFyYWN0ZXIgdHlwZWQgYmVmb3JlIHR5cGVhaGVhZCBraWNrcy1pblxuICAgICAgdmFyIHdhaXRUaW1lID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRXYWl0TXMpIHx8IDA7XG5cbiAgICAgIC8vc2hvdWxkIGl0IHJlc3RyaWN0IG1vZGVsIHZhbHVlcyB0byB0aGUgb25lcyBzZWxlY3RlZCBmcm9tIHRoZSBwb3B1cCBvbmx5P1xuICAgICAgdmFyIGlzRWRpdGFibGUgPSBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEVkaXRhYmxlKSAhPT0gZmFsc2U7XG5cbiAgICAgIC8vYmluZGluZyB0byBhIHZhcmlhYmxlIHRoYXQgaW5kaWNhdGVzIGlmIG1hdGNoZXMgYXJlIGJlaW5nIHJldHJpZXZlZCBhc3luY2hyb25vdXNseVxuICAgICAgdmFyIGlzTG9hZGluZ1NldHRlciA9ICRwYXJzZShhdHRycy50eXBlYWhlYWRMb2FkaW5nKS5hc3NpZ24gfHwgYW5ndWxhci5ub29wO1xuXG4gICAgICAvL2EgY2FsbGJhY2sgZXhlY3V0ZWQgd2hlbiBhIG1hdGNoIGlzIHNlbGVjdGVkXG4gICAgICB2YXIgb25TZWxlY3RDYWxsYmFjayA9ICRwYXJzZShhdHRycy50eXBlYWhlYWRPblNlbGVjdCk7XG5cbiAgICAgIC8vc2hvdWxkIGl0IHNlbGVjdCBoaWdobGlnaHRlZCBwb3B1cCB2YWx1ZSB3aGVuIGxvc2luZyBmb2N1cz9cbiAgICAgIHZhciBpc1NlbGVjdE9uQmx1ciA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnR5cGVhaGVhZFNlbGVjdE9uQmx1cikgPyBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZFNlbGVjdE9uQmx1cikgOiBmYWxzZTtcblxuICAgICAgdmFyIGlucHV0Rm9ybWF0dGVyID0gYXR0cnMudHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXIgPyAkcGFyc2UoYXR0cnMudHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXIpIDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgYXBwZW5kVG9Cb2R5ID0gIGF0dHJzLnR5cGVhaGVhZEFwcGVuZFRvQm9keSA/IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkQXBwZW5kVG9Cb2R5KSA6IGZhbHNlO1xuXG4gICAgICB2YXIgZm9jdXNGaXJzdCA9IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkRm9jdXNGaXJzdCkgIT09IGZhbHNlO1xuXG4gICAgICAvL0lOVEVSTkFMIFZBUklBQkxFU1xuXG4gICAgICAvL21vZGVsIHNldHRlciBleGVjdXRlZCB1cG9uIG1hdGNoIHNlbGVjdGlvblxuICAgICAgdmFyICRzZXRNb2RlbFZhbHVlID0gJHBhcnNlKGF0dHJzLm5nTW9kZWwpLmFzc2lnbjtcblxuICAgICAgLy9leHByZXNzaW9ucyB1c2VkIGJ5IHR5cGVhaGVhZFxuICAgICAgdmFyIHBhcnNlclJlc3VsdCA9IHR5cGVhaGVhZFBhcnNlci5wYXJzZShhdHRycy50eXBlYWhlYWQpO1xuXG4gICAgICB2YXIgaGFzRm9jdXM7XG5cbiAgICAgIC8vVXNlZCB0byBhdm9pZCBidWcgaW4gaU9TIHdlYnZpZXcgd2hlcmUgaU9TIGtleWJvYXJkIGRvZXMgbm90IGZpcmVcbiAgICAgIC8vbW91c2Vkb3duICYgbW91c2V1cCBldmVudHNcbiAgICAgIC8vSXNzdWUgIzM2OTlcbiAgICAgIHZhciBzZWxlY3RlZDtcblxuICAgICAgLy9jcmVhdGUgYSBjaGlsZCBzY29wZSBmb3IgdGhlIHR5cGVhaGVhZCBkaXJlY3RpdmUgc28gd2UgYXJlIG5vdCBwb2xsdXRpbmcgb3JpZ2luYWwgc2NvcGVcbiAgICAgIC8vd2l0aCB0eXBlYWhlYWQtc3BlY2lmaWMgZGF0YSAobWF0Y2hlcywgcXVlcnkgZXRjLilcbiAgICAgIHZhciBzY29wZSA9IG9yaWdpbmFsU2NvcGUuJG5ldygpO1xuICAgICAgb3JpZ2luYWxTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKXtcbiAgICAgICAgc2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBXQUktQVJJQVxuICAgICAgdmFyIHBvcHVwSWQgPSAndHlwZWFoZWFkLScgKyBzY29wZS4kaWQgKyAnLScgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XG4gICAgICBlbGVtZW50LmF0dHIoe1xuICAgICAgICAnYXJpYS1hdXRvY29tcGxldGUnOiAnbGlzdCcsXG4gICAgICAgICdhcmlhLWV4cGFuZGVkJzogZmFsc2UsXG4gICAgICAgICdhcmlhLW93bnMnOiBwb3B1cElkXG4gICAgICB9KTtcblxuICAgICAgLy9wb3AtdXAgZWxlbWVudCB1c2VkIHRvIGRpc3BsYXkgbWF0Y2hlc1xuICAgICAgdmFyIHBvcFVwRWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgdHlwZWFoZWFkLXBvcHVwPjwvZGl2PicpO1xuICAgICAgcG9wVXBFbC5hdHRyKHtcbiAgICAgICAgaWQ6IHBvcHVwSWQsXG4gICAgICAgIG1hdGNoZXM6ICdtYXRjaGVzJyxcbiAgICAgICAgYWN0aXZlOiAnYWN0aXZlSWR4JyxcbiAgICAgICAgc2VsZWN0OiAnc2VsZWN0KGFjdGl2ZUlkeCknLFxuICAgICAgICAnbW92ZS1pbi1wcm9ncmVzcyc6ICdtb3ZlSW5Qcm9ncmVzcycsXG4gICAgICAgIHF1ZXJ5OiAncXVlcnknLFxuICAgICAgICBwb3NpdGlvbjogJ3Bvc2l0aW9uJ1xuICAgICAgfSk7XG4gICAgICAvL2N1c3RvbSBpdGVtIHRlbXBsYXRlXG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudHlwZWFoZWFkVGVtcGxhdGVVcmwpKSB7XG4gICAgICAgIHBvcFVwRWwuYXR0cigndGVtcGxhdGUtdXJsJywgYXR0cnMudHlwZWFoZWFkVGVtcGxhdGVVcmwpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzZXRNYXRjaGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNjb3BlLm1hdGNoZXMgPSBbXTtcbiAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gLTE7XG4gICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBnZXRNYXRjaElkID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHBvcHVwSWQgKyAnLW9wdGlvbi0nICsgaW5kZXg7XG4gICAgICB9O1xuXG4gICAgICAvLyBJbmRpY2F0ZSB0aGF0IHRoZSBzcGVjaWZpZWQgbWF0Y2ggaXMgdGhlIGFjdGl2ZSAocHJlLXNlbGVjdGVkKSBpdGVtIGluIHRoZSBsaXN0IG93bmVkIGJ5IHRoaXMgdHlwZWFoZWFkLlxuICAgICAgLy8gVGhpcyBhdHRyaWJ1dGUgaXMgYWRkZWQgb3IgcmVtb3ZlZCBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlIGBhY3RpdmVJZHhgIGNoYW5nZXMuXG4gICAgICBzY29wZS4kd2F0Y2goJ2FjdGl2ZUlkeCcsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHIoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1hY3RpdmVkZXNjZW5kYW50JywgZ2V0TWF0Y2hJZChpbmRleCkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdmFyIGdldE1hdGNoZXNBc3luYyA9IGZ1bmN0aW9uKGlucHV0VmFsdWUpIHtcblxuICAgICAgICB2YXIgbG9jYWxzID0geyR2aWV3VmFsdWU6IGlucHV0VmFsdWV9O1xuICAgICAgICBpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwgdHJ1ZSk7XG4gICAgICAgICRxLndoZW4ocGFyc2VyUmVzdWx0LnNvdXJjZShvcmlnaW5hbFNjb3BlLCBsb2NhbHMpKS50aGVuKGZ1bmN0aW9uKG1hdGNoZXMpIHtcblxuICAgICAgICAgIC8vaXQgbWlnaHQgaGFwcGVuIHRoYXQgc2V2ZXJhbCBhc3luYyBxdWVyaWVzIHdlcmUgaW4gcHJvZ3Jlc3MgaWYgYSB1c2VyIHdlcmUgdHlwaW5nIGZhc3RcbiAgICAgICAgICAvL2J1dCB3ZSBhcmUgaW50ZXJlc3RlZCBvbmx5IGluIHJlc3BvbnNlcyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhlIGN1cnJlbnQgdmlldyB2YWx1ZVxuICAgICAgICAgIHZhciBvbkN1cnJlbnRSZXF1ZXN0ID0gKGlucHV0VmFsdWUgPT09IG1vZGVsQ3RybC4kdmlld1ZhbHVlKTtcbiAgICAgICAgICBpZiAob25DdXJyZW50UmVxdWVzdCAmJiBoYXNGb2N1cykge1xuICAgICAgICAgICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gZm9jdXNGaXJzdCA/IDAgOiAtMTtcbiAgICAgICAgICAgICAgc2NvcGUubWF0Y2hlcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICAgIC8vdHJhbnNmb3JtIGxhYmVsc1xuICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaTxtYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSBtYXRjaGVzW2ldO1xuICAgICAgICAgICAgICAgIHNjb3BlLm1hdGNoZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICBpZDogZ2V0TWF0Y2hJZChpKSxcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiBwYXJzZXJSZXN1bHQudmlld01hcHBlcihzY29wZSwgbG9jYWxzKSxcbiAgICAgICAgICAgICAgICAgIG1vZGVsOiBtYXRjaGVzW2ldXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzY29wZS5xdWVyeSA9IGlucHV0VmFsdWU7XG4gICAgICAgICAgICAgIC8vcG9zaXRpb24gcG9wLXVwIHdpdGggbWF0Y2hlcyAtIHdlIG5lZWQgdG8gcmUtY2FsY3VsYXRlIGl0cyBwb3NpdGlvbiBlYWNoIHRpbWUgd2UgYXJlIG9wZW5pbmcgYSB3aW5kb3dcbiAgICAgICAgICAgICAgLy93aXRoIG1hdGNoZXMgYXMgYSBwb3AtdXAgbWlnaHQgYmUgYWJzb2x1dGUtcG9zaXRpb25lZCBhbmQgcG9zaXRpb24gb2YgYW4gaW5wdXQgbWlnaHQgaGF2ZSBjaGFuZ2VkIG9uIGEgcGFnZVxuICAgICAgICAgICAgICAvL2R1ZSB0byBvdGhlciBlbGVtZW50cyBiZWluZyByZW5kZXJlZFxuICAgICAgICAgICAgICByZWNhbGN1bGF0ZVBvc2l0aW9uKCk7XG5cbiAgICAgICAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG9uQ3VycmVudFJlcXVlc3QpIHtcbiAgICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbigpe1xuICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgLy8gYmluZCBldmVudHMgb25seSBpZiBhcHBlbmRUb0JvZHkgcGFyYW1zIGV4aXN0IC0gcGVyZm9ybWFuY2UgZmVhdHVyZVxuICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykuYmluZCgncmVzaXplJywgZmlyZVJlY2FsY3VsYXRpbmcpO1xuICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmJpbmQoJ3Njcm9sbCcsIGZpcmVSZWNhbGN1bGF0aW5nKTtcbiAgICAgIH1cblxuICAgICAgLy8gRGVjbGFyZSB0aGUgdGltZW91dCBwcm9taXNlIHZhciBvdXRzaWRlIHRoZSBmdW5jdGlvbiBzY29wZSBzbyB0aGF0IHN0YWNrZWQgY2FsbHMgY2FuIGJlIGNhbmNlbGxlZCBsYXRlclxuICAgICAgdmFyIHRpbWVvdXRFdmVudFByb21pc2U7XG5cbiAgICAgIC8vIERlZmF1bHQgcHJvZ3Jlc3MgdHlwZVxuICAgICAgc2NvcGUubW92ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblxuICAgICAgZnVuY3Rpb24gZmlyZVJlY2FsY3VsYXRpbmcoKSB7XG4gICAgICAgIGlmKCFzY29wZS5tb3ZlSW5Qcm9ncmVzcyl7XG4gICAgICAgICAgc2NvcGUubW92ZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbmNlbCBwcmV2aW91cyB0aW1lb3V0XG4gICAgICAgIGlmICh0aW1lb3V0RXZlbnRQcm9taXNlKSB7XG4gICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVvdXRFdmVudFByb21pc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVib3VuY2VkIGV4ZWN1dGluZyByZWNhbGN1bGF0ZSBhZnRlciBldmVudHMgZmlyZWRcbiAgICAgICAgdGltZW91dEV2ZW50UHJvbWlzZSA9ICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBpZiBwb3B1cCBpcyB2aXNpYmxlXG4gICAgICAgICAgaWYgKHNjb3BlLm1hdGNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZWNhbGN1bGF0ZVBvc2l0aW9uKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2NvcGUubW92ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgIH0sIGV2ZW50RGVib3VuY2VUaW1lKTtcbiAgICAgIH1cblxuICAgICAgLy8gcmVjYWxjdWxhdGUgYWN0dWFsIHBvc2l0aW9uIGFuZCBzZXQgbmV3IHZhbHVlcyB0byBzY29wZVxuICAgICAgLy8gYWZ0ZXIgZGlnZXN0IGxvb3AgaXMgcG9wdXAgaW4gcmlnaHQgcG9zaXRpb25cbiAgICAgIGZ1bmN0aW9uIHJlY2FsY3VsYXRlUG9zaXRpb24oKSB7XG4gICAgICAgIHNjb3BlLnBvc2l0aW9uID0gYXBwZW5kVG9Cb2R5ID8gJHBvc2l0aW9uLm9mZnNldChlbGVtZW50KSA6ICRwb3NpdGlvbi5wb3NpdGlvbihlbGVtZW50KTtcbiAgICAgICAgc2NvcGUucG9zaXRpb24udG9wICs9IGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7XG4gICAgICB9XG5cbiAgICAgIHJlc2V0TWF0Y2hlcygpO1xuXG4gICAgICAvL3dlIG5lZWQgdG8gcHJvcGFnYXRlIHVzZXIncyBxdWVyeSBzbyB3ZSBjYW4gaGlnbGlnaHQgbWF0Y2hlc1xuICAgICAgc2NvcGUucXVlcnkgPSB1bmRlZmluZWQ7XG5cbiAgICAgIC8vRGVjbGFyZSB0aGUgdGltZW91dCBwcm9taXNlIHZhciBvdXRzaWRlIHRoZSBmdW5jdGlvbiBzY29wZSBzbyB0aGF0IHN0YWNrZWQgY2FsbHMgY2FuIGJlIGNhbmNlbGxlZCBsYXRlclxuICAgICAgdmFyIHRpbWVvdXRQcm9taXNlO1xuXG4gICAgICB2YXIgc2NoZWR1bGVTZWFyY2hXaXRoVGltZW91dCA9IGZ1bmN0aW9uKGlucHV0VmFsdWUpIHtcbiAgICAgICAgdGltZW91dFByb21pc2UgPSAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZ2V0TWF0Y2hlc0FzeW5jKGlucHV0VmFsdWUpO1xuICAgICAgICB9LCB3YWl0VGltZSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgY2FuY2VsUHJldmlvdXNUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aW1lb3V0UHJvbWlzZSkge1xuICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lb3V0UHJvbWlzZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vcGx1ZyBpbnRvICRwYXJzZXJzIHBpcGVsaW5lIHRvIG9wZW4gYSB0eXBlYWhlYWQgb24gdmlldyBjaGFuZ2VzIGluaXRpYXRlZCBmcm9tIERPTVxuICAgICAgLy8kcGFyc2VycyBraWNrLWluIG9uIGFsbCB0aGUgY2hhbmdlcyBjb21pbmcgZnJvbSB0aGUgdmlldyBhcyB3ZWxsIGFzIG1hbnVhbGx5IHRyaWdnZXJlZCBieSAkc2V0Vmlld1ZhbHVlXG4gICAgICBtb2RlbEN0cmwuJHBhcnNlcnMudW5zaGlmdChmdW5jdGlvbiAoaW5wdXRWYWx1ZSkge1xuXG4gICAgICAgIGhhc0ZvY3VzID0gdHJ1ZTtcblxuICAgICAgICBpZiAobWluTGVuZ3RoID09PSAwIHx8IGlucHV0VmFsdWUgJiYgaW5wdXRWYWx1ZS5sZW5ndGggPj0gbWluTGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHdhaXRUaW1lID4gMCkge1xuICAgICAgICAgICAgY2FuY2VsUHJldmlvdXNUaW1lb3V0KCk7XG4gICAgICAgICAgICBzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0KGlucHV0VmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgY2FuY2VsUHJldmlvdXNUaW1lb3V0KCk7XG4gICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNFZGl0YWJsZSkge1xuICAgICAgICAgIHJldHVybiBpbnB1dFZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghaW5wdXRWYWx1ZSkge1xuICAgICAgICAgICAgLy8gUmVzZXQgaW4gY2FzZSB1c2VyIGhhZCB0eXBlZCBzb21ldGhpbmcgcHJldmlvdXNseS5cbiAgICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXRWYWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZWRpdGFibGUnLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIG1vZGVsQ3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uIChtb2RlbFZhbHVlKSB7XG5cbiAgICAgICAgdmFyIGNhbmRpZGF0ZVZpZXdWYWx1ZSwgZW1wdHlWaWV3VmFsdWU7XG4gICAgICAgIHZhciBsb2NhbHMgPSB7fTtcblxuICAgICAgICAvLyBUaGUgdmFsaWRpdHkgbWF5IGJlIHNldCB0byBmYWxzZSB2aWEgJHBhcnNlcnMgKHNlZSBhYm92ZSkgaWZcbiAgICAgICAgLy8gdGhlIG1vZGVsIGlzIHJlc3RyaWN0ZWQgdG8gc2VsZWN0ZWQgdmFsdWVzLiBJZiB0aGUgbW9kZWxcbiAgICAgICAgLy8gaXMgc2V0IG1hbnVhbGx5IGl0IGlzIGNvbnNpZGVyZWQgdG8gYmUgdmFsaWQuXG4gICAgICAgIGlmICghaXNFZGl0YWJsZSkge1xuICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5wdXRGb3JtYXR0ZXIpIHtcblxuICAgICAgICAgIGxvY2Fscy4kbW9kZWwgPSBtb2RlbFZhbHVlO1xuICAgICAgICAgIHJldHVybiBpbnB1dEZvcm1hdHRlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAvL2l0IG1pZ2h0IGhhcHBlbiB0aGF0IHdlIGRvbid0IGhhdmUgZW5vdWdoIGluZm8gdG8gcHJvcGVybHkgcmVuZGVyIGlucHV0IHZhbHVlXG4gICAgICAgICAgLy93ZSBuZWVkIHRvIGNoZWNrIGZvciB0aGlzIHNpdHVhdGlvbiBhbmQgc2ltcGx5IHJldHVybiBtb2RlbCB2YWx1ZSBpZiB3ZSBjYW4ndCBhcHBseSBjdXN0b20gZm9ybWF0dGluZ1xuICAgICAgICAgIGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdID0gbW9kZWxWYWx1ZTtcbiAgICAgICAgICBjYW5kaWRhdGVWaWV3VmFsdWUgPSBwYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgIGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGVtcHR5Vmlld1ZhbHVlID0gcGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKTtcblxuICAgICAgICAgIHJldHVybiBjYW5kaWRhdGVWaWV3VmFsdWUhPT0gZW1wdHlWaWV3VmFsdWUgPyBjYW5kaWRhdGVWaWV3VmFsdWUgOiBtb2RlbFZhbHVlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24gKGFjdGl2ZUlkeCkge1xuICAgICAgICAvL2NhbGxlZCBmcm9tIHdpdGhpbiB0aGUgJGRpZ2VzdCgpIGN5Y2xlXG4gICAgICAgIHZhciBsb2NhbHMgPSB7fTtcbiAgICAgICAgdmFyIG1vZGVsLCBpdGVtO1xuXG4gICAgICAgIHNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSBpdGVtID0gc2NvcGUubWF0Y2hlc1thY3RpdmVJZHhdLm1vZGVsO1xuICAgICAgICBtb2RlbCA9IHBhcnNlclJlc3VsdC5tb2RlbE1hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAkc2V0TW9kZWxWYWx1ZShvcmlnaW5hbFNjb3BlLCBtb2RlbCk7XG4gICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3BhcnNlJywgdHJ1ZSk7XG5cbiAgICAgICAgb25TZWxlY3RDYWxsYmFjayhvcmlnaW5hbFNjb3BlLCB7XG4gICAgICAgICAgJGl0ZW06IGl0ZW0sXG4gICAgICAgICAgJG1vZGVsOiBtb2RlbCxcbiAgICAgICAgICAkbGFiZWw6IHBhcnNlclJlc3VsdC52aWV3TWFwcGVyKG9yaWdpbmFsU2NvcGUsIGxvY2FscylcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG5cbiAgICAgICAgLy9yZXR1cm4gZm9jdXMgdG8gdGhlIGlucHV0IGVsZW1lbnQgaWYgYSBtYXRjaCB3YXMgc2VsZWN0ZWQgdmlhIGEgbW91c2UgY2xpY2sgZXZlbnRcbiAgICAgICAgLy8gdXNlIHRpbWVvdXQgdG8gYXZvaWQgJHJvb3RTY29wZTppbnByb2cgZXJyb3JcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7IGVsZW1lbnRbMF0uZm9jdXMoKTsgfSwgMCwgZmFsc2UpO1xuICAgICAgfTtcblxuICAgICAgLy9iaW5kIGtleWJvYXJkIGV2ZW50czogYXJyb3dzIHVwKDM4KSAvIGRvd24oNDApLCBlbnRlcigxMykgYW5kIHRhYig5KSwgZXNjKDI3KVxuICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2dCkge1xuXG4gICAgICAgIC8vdHlwZWFoZWFkIGlzIG9wZW4gYW5kIGFuIFwiaW50ZXJlc3RpbmdcIiBrZXkgd2FzIHByZXNzZWRcbiAgICAgICAgaWYgKHNjb3BlLm1hdGNoZXMubGVuZ3RoID09PSAwIHx8IEhPVF9LRVlTLmluZGV4T2YoZXZ0LndoaWNoKSA9PT0gLTEpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGVyZSdzIG5vdGhpbmcgc2VsZWN0ZWQgKGkuZS4gZm9jdXNGaXJzdCkgYW5kIGVudGVyIGlzIGhpdCwgZG9uJ3QgZG8gYW55dGhpbmdcbiAgICAgICAgaWYgKHNjb3BlLmFjdGl2ZUlkeCA9PT0gLTEgJiYgZXZ0LndoaWNoID09PSAxMykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZXJlJ3Mgbm90aGluZyBzZWxlY3RlZCAoaS5lLiBmb2N1c0ZpcnN0KSBhbmQgdGFiIGlzIGhpdCwgY2xlYXIgdGhlIHJlc3VsdHNcbiAgICAgICAgaWYgKHNjb3BlLmFjdGl2ZUlkeCA9PT0gLTEgJiYgZXZ0LndoaWNoID09PSA5KSB7XG4gICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmIChldnQud2hpY2ggPT09IDQwKSB7XG4gICAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gKHNjb3BlLmFjdGl2ZUlkeCArIDEpICUgc2NvcGUubWF0Y2hlcy5sZW5ndGg7XG4gICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSAzOCkge1xuICAgICAgICAgIHNjb3BlLmFjdGl2ZUlkeCA9IChzY29wZS5hY3RpdmVJZHggPiAwID8gc2NvcGUuYWN0aXZlSWR4IDogc2NvcGUubWF0Y2hlcy5sZW5ndGgpIC0gMTtcbiAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDEzIHx8IGV2dC53aGljaCA9PT0gOSkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzY29wZS5zZWxlY3Qoc2NvcGUuYWN0aXZlSWR4KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICB9IGVsc2UgaWYgKGV2dC53aGljaCA9PT0gMjcpIHtcbiAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBlbGVtZW50LmJpbmQoJ2JsdXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc1NlbGVjdE9uQmx1ciAmJiBzY29wZS5tYXRjaGVzLmxlbmd0aCAmJiBzY29wZS5hY3RpdmVJZHggIT09IC0xICYmICFzZWxlY3RlZCkge1xuICAgICAgICAgIHNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2NvcGUuc2VsZWN0KHNjb3BlLmFjdGl2ZUlkeCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaGFzRm9jdXMgPSBmYWxzZTtcbiAgICAgICAgc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBLZWVwIHJlZmVyZW5jZSB0byBjbGljayBoYW5kbGVyIHRvIHVuYmluZCBpdC5cbiAgICAgIHZhciBkaXNtaXNzQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAvLyBJc3N1ZSAjMzk3M1xuICAgICAgICAvLyBGaXJlZm94IHRyZWF0cyByaWdodCBjbGljayBhcyBhIGNsaWNrIG9uIGRvY3VtZW50XG4gICAgICAgIGlmIChlbGVtZW50WzBdICE9PSBldnQudGFyZ2V0ICYmIGV2dC53aGljaCAhPT0gMykge1xuICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkZG9jdW1lbnQuYmluZCgnY2xpY2snLCBkaXNtaXNzQ2xpY2tIYW5kbGVyKTtcblxuICAgICAgb3JpZ2luYWxTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKXtcbiAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnY2xpY2snLCBkaXNtaXNzQ2xpY2tIYW5kbGVyKTtcbiAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICAgICRwb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQcmV2ZW50IGpRdWVyeSBjYWNoZSBtZW1vcnkgbGVha1xuICAgICAgICBwb3BVcEVsLnJlbW92ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciAkcG9wdXAgPSAkY29tcGlsZShwb3BVcEVsKShzY29wZSk7XG5cbiAgICAgIGlmIChhcHBlbmRUb0JvZHkpIHtcbiAgICAgICAgJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5hcHBlbmQoJHBvcHVwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuYWZ0ZXIoJHBvcHVwKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbn1dKVxuXG4gIC5kaXJlY3RpdmUoJ3R5cGVhaGVhZFBvcHVwJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDonRUEnLFxuICAgICAgc2NvcGU6e1xuICAgICAgICBtYXRjaGVzOic9JyxcbiAgICAgICAgcXVlcnk6Jz0nLFxuICAgICAgICBhY3RpdmU6Jz0nLFxuICAgICAgICBwb3NpdGlvbjonJicsXG4gICAgICAgIG1vdmVJblByb2dyZXNzOic9JyxcbiAgICAgICAgc2VsZWN0OicmJ1xuICAgICAgfSxcbiAgICAgIHJlcGxhY2U6dHJ1ZSxcbiAgICAgIHRlbXBsYXRlVXJsOid0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWwnLFxuICAgICAgbGluazpmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cbiAgICAgICAgc2NvcGUudGVtcGxhdGVVcmwgPSBhdHRycy50ZW1wbGF0ZVVybDtcblxuICAgICAgICBzY29wZS5pc09wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHNjb3BlLm1hdGNoZXMubGVuZ3RoID4gMDtcbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uIChtYXRjaElkeCkge1xuICAgICAgICAgIHJldHVybiBzY29wZS5hY3RpdmUgPT0gbWF0Y2hJZHg7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuc2VsZWN0QWN0aXZlID0gZnVuY3Rpb24gKG1hdGNoSWR4KSB7XG4gICAgICAgICAgc2NvcGUuYWN0aXZlID0gbWF0Y2hJZHg7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuc2VsZWN0TWF0Y2ggPSBmdW5jdGlvbiAoYWN0aXZlSWR4KSB7XG4gICAgICAgICAgc2NvcGUuc2VsZWN0KHthY3RpdmVJZHg6YWN0aXZlSWR4fSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfSlcblxuICAuZGlyZWN0aXZlKCd0eXBlYWhlYWRNYXRjaCcsIFsnJHRlbXBsYXRlUmVxdWVzdCcsICckY29tcGlsZScsICckcGFyc2UnLCBmdW5jdGlvbiAoJHRlbXBsYXRlUmVxdWVzdCwgJGNvbXBpbGUsICRwYXJzZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDonRUEnLFxuICAgICAgc2NvcGU6e1xuICAgICAgICBpbmRleDonPScsXG4gICAgICAgIG1hdGNoOic9JyxcbiAgICAgICAgcXVlcnk6Jz0nXG4gICAgICB9LFxuICAgICAgbGluazpmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIHZhciB0cGxVcmwgPSAkcGFyc2UoYXR0cnMudGVtcGxhdGVVcmwpKHNjb3BlLiRwYXJlbnQpIHx8ICd0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWwnO1xuICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0KHRwbFVybCkudGhlbihmdW5jdGlvbih0cGxDb250ZW50KSB7XG4gICAgICAgICAgJGNvbXBpbGUodHBsQ29udGVudC50cmltKCkpKHNjb3BlLCBmdW5jdGlvbihjbG9uZWRFbGVtZW50KXtcbiAgICAgICAgICAgIGVsZW1lbnQucmVwbGFjZVdpdGgoY2xvbmVkRWxlbWVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1dKVxuXG4gIC5maWx0ZXIoJ3R5cGVhaGVhZEhpZ2hsaWdodCcsIGZ1bmN0aW9uKCkge1xuXG4gICAgZnVuY3Rpb24gZXNjYXBlUmVnZXhwKHF1ZXJ5VG9Fc2NhcGUpIHtcbiAgICAgIHJldHVybiBxdWVyeVRvRXNjYXBlLnJlcGxhY2UoLyhbLj8qK14kW1xcXVxcXFwoKXt9fC1dKS9nLCAnXFxcXCQxJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG1hdGNoSXRlbSwgcXVlcnkpIHtcbiAgICAgIHJldHVybiBxdWVyeSA/ICgnJyArIG1hdGNoSXRlbSkucmVwbGFjZShuZXcgUmVnRXhwKGVzY2FwZVJlZ2V4cChxdWVyeSksICdnaScpLCAnPHN0cm9uZz4kJjwvc3Ryb25nPicpIDogbWF0Y2hJdGVtO1xuICAgIH07XG4gIH0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicGFuZWwgcGFuZWwtZGVmYXVsdFxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1oZWFkaW5nXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGg0IGNsYXNzPVxcXCJwYW5lbC10aXRsZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGEgaHJlZj1cXFwiI1xcXCIgdGFiaW5kZXg9XFxcIjBcXFwiIGNsYXNzPVxcXCJhY2NvcmRpb24tdG9nZ2xlXFxcIiBuZy1jbGljaz1cXFwiJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IHRvZ2dsZU9wZW4oKVxcXCIgYWNjb3JkaW9uLXRyYW5zY2x1ZGU9XFxcImhlYWRpbmdcXFwiPjxzcGFuIG5nLWNsYXNzPVxcXCJ7J3RleHQtbXV0ZWQnOiBpc0Rpc2FibGVkfVxcXCI+e3toZWFkaW5nfX08L3NwYW4+PC9hPlxcblwiICtcbiAgICBcIiAgICA8L2g0PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1jb2xsYXBzZSBjb2xsYXBzZVxcXCIgY29sbGFwc2U9XFxcIiFpc09wZW5cXFwiPlxcblwiICtcbiAgICBcIlx0ICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicGFuZWwtZ3JvdXBcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJhbGVydFxcXCIgbmctY2xhc3M9XFxcIlsnYWxlcnQtJyArICh0eXBlIHx8ICd3YXJuaW5nJyksIGNsb3NlYWJsZSA/ICdhbGVydC1kaXNtaXNzaWJsZScgOiBudWxsXVxcXCIgcm9sZT1cXFwiYWxlcnRcXFwiPlxcblwiICtcbiAgICBcIiAgICA8YnV0dG9uIG5nLXNob3c9XFxcImNsb3NlYWJsZVxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2xvc2VcXFwiIG5nLWNsaWNrPVxcXCJjbG9zZSgkZXZlbnQpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInNyLW9ubHlcXFwiPkNsb3NlPC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbFwiLFxuICAgIFwiPGRpdiBuZy1tb3VzZWVudGVyPVxcXCJwYXVzZSgpXFxcIiBuZy1tb3VzZWxlYXZlPVxcXCJwbGF5KClcXFwiIGNsYXNzPVxcXCJjYXJvdXNlbFxcXCIgbmctc3dpcGUtcmlnaHQ9XFxcInByZXYoKVxcXCIgbmctc3dpcGUtbGVmdD1cXFwibmV4dCgpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPG9sIGNsYXNzPVxcXCJjYXJvdXNlbC1pbmRpY2F0b3JzXFxcIiBuZy1zaG93PVxcXCJzbGlkZXMubGVuZ3RoID4gMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8bGkgbmctcmVwZWF0PVxcXCJzbGlkZSBpbiBzbGlkZXMgfCBvcmRlckJ5OidpbmRleCcgdHJhY2sgYnkgJGluZGV4XFxcIiBuZy1jbGFzcz1cXFwie2FjdGl2ZTogaXNBY3RpdmUoc2xpZGUpfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChzbGlkZSlcXFwiPjwvbGk+XFxuXCIgK1xuICAgIFwiICAgIDwvb2w+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImNhcm91c2VsLWlubmVyXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8YSBjbGFzcz1cXFwibGVmdCBjYXJvdXNlbC1jb250cm9sXFxcIiBuZy1jbGljaz1cXFwicHJldigpXFxcIiBuZy1zaG93PVxcXCJzbGlkZXMubGVuZ3RoID4gMVxcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XFxcIj48L3NwYW4+PC9hPlxcblwiICtcbiAgICBcIiAgICA8YSBjbGFzcz1cXFwicmlnaHQgY2Fyb3VzZWwtY29udHJvbFxcXCIgbmctY2xpY2s9XFxcIm5leHQoKVxcXCIgbmctc2hvdz1cXFwic2xpZGVzLmxlbmd0aCA+IDFcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvc3Bhbj48L2E+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sXCIsXG4gICAgXCI8ZGl2IG5nLWNsYXNzPVxcXCJ7XFxuXCIgK1xuICAgIFwiICAgICdhY3RpdmUnOiBhY3RpdmVcXG5cIiArXG4gICAgXCIgIH1cXFwiIGNsYXNzPVxcXCJpdGVtIHRleHQtY2VudGVyXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sXCIsXG4gICAgXCI8ZGl2IG5nLXN3aXRjaD1cXFwiZGF0ZXBpY2tlck1vZGVcXFwiIHJvbGU9XFxcImFwcGxpY2F0aW9uXFxcIiBuZy1rZXlkb3duPVxcXCJrZXlkb3duKCRldmVudClcXFwiPlxcblwiICtcbiAgICBcIiAgPGRheXBpY2tlciBuZy1zd2l0Y2gtd2hlbj1cXFwiZGF5XFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC9kYXlwaWNrZXI+XFxuXCIgK1xuICAgIFwiICA8bW9udGhwaWNrZXIgbmctc3dpdGNoLXdoZW49XFxcIm1vbnRoXFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC9tb250aHBpY2tlcj5cXG5cIiArXG4gICAgXCIgIDx5ZWFycGlja2VyIG5nLXN3aXRjaC13aGVuPVxcXCJ5ZWFyXFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC95ZWFycGlja2VyPlxcblwiICtcbiAgICBcIjwvZGl2PlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbFwiLFxuICAgIFwiPHRhYmxlIHJvbGU9XFxcImdyaWRcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD1cXFwie3thY3RpdmVEYXRlSWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICA8dGhlYWQ+XFxuXCIgK1xuICAgIFwiICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoLTEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoIGNvbHNwYW49XFxcInt7Ojo1ICsgc2hvd1dlZWtzfX1cXFwiPjxidXR0b24gaWQ9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiByb2xlPVxcXCJoZWFkaW5nXFxcIiBhcmlhLWxpdmU9XFxcImFzc2VydGl2ZVxcXCIgYXJpYS1hdG9taWM9XFxcInRydWVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ0b2dnbGVNb2RlKClcXFwiIG5nLWRpc2FibGVkPVxcXCJkYXRlcGlja2VyTW9kZSA9PT0gbWF4TW9kZVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiBzdHlsZT1cXFwid2lkdGg6MTAwJTtcXFwiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKDEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoIG5nLWlmPVxcXCJzaG93V2Vla3NcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCI+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGggbmctcmVwZWF0PVxcXCJsYWJlbCBpbiA6OmxhYmVscyB0cmFjayBieSAkaW5kZXhcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCI+PHNtYWxsIGFyaWEtbGFiZWw9XFxcInt7OjpsYWJlbC5mdWxsfX1cXFwiPnt7OjpsYWJlbC5hYmJyfX08L3NtYWxsPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3RoZWFkPlxcblwiICtcbiAgICBcIiAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICA8dHIgbmctcmVwZWF0PVxcXCJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1pZj1cXFwic2hvd1dlZWtzXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXIgaDZcXFwiPjxlbT57eyB3ZWVrTnVtYmVyc1skaW5kZXhdIH19PC9lbT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIHJvbGU9XFxcImdyaWRjZWxsXFxcIiBpZD1cXFwie3s6OmR0LnVpZH19XFxcIiBuZy1jbGFzcz1cXFwiOjpkdC5jdXN0b21DbGFzc1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDoxMDAlO1xcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsYXNzPVxcXCJ7J2J0bi1pbmZvJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChkdC5kYXRlKVxcXCIgbmctZGlzYWJsZWQ9XFxcImR0LmRpc2FibGVkXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxzcGFuIG5nLWNsYXNzPVxcXCI6OnsndGV4dC1tdXRlZCc6IGR0LnNlY29uZGFyeSwgJ3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XFxcIj57ezo6ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90Ym9keT5cXG5cIiArXG4gICAgXCI8L3RhYmxlPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWxcIixcbiAgICBcIjx0YWJsZSByb2xlPVxcXCJncmlkXFxcIiBhcmlhLWxhYmVsbGVkYnk9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XFxcInt7YWN0aXZlRGF0ZUlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgPHRoZWFkPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKC0xKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIGlkPVxcXCJ7ezo6dW5pcXVlSWR9fS10aXRsZVxcXCIgcm9sZT1cXFwiaGVhZGluZ1xcXCIgYXJpYS1saXZlPVxcXCJhc3NlcnRpdmVcXFwiIGFyaWEtYXRvbWljPVxcXCJ0cnVlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTW9kZSgpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZGF0ZXBpY2tlck1vZGUgPT09IG1heE1vZGVcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgc3R5bGU9XFxcIndpZHRoOjEwMCU7XFxcIj48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgxKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGhlYWQ+XFxuXCIgK1xuICAgIFwiICA8dGJvZHk+XFxuXCIgK1xuICAgIFwiICAgIDx0ciBuZy1yZXBlYXQ9XFxcInJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXJlcGVhdD1cXFwiZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGVcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCIgcm9sZT1cXFwiZ3JpZGNlbGxcXFwiIGlkPVxcXCJ7ezo6ZHQudWlkfX1cXFwiIG5nLWNsYXNzPVxcXCI6OmR0LmN1c3RvbUNsYXNzXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOjEwMCU7XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiBuZy1jbGFzcz1cXFwieydidG4taW5mbyc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX1cXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QoZHQuZGF0ZSlcXFwiIG5nLWRpc2FibGVkPVxcXCJkdC5kaXNhYmxlZFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48c3BhbiBuZy1jbGFzcz1cXFwiOjp7J3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XFxcIj57ezo6ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90Ym9keT5cXG5cIiArXG4gICAgXCI8L3RhYmxlPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIixcbiAgICBcIjx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCIgbmctaWY9XFxcImlzT3BlblxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IGJsb2NrXFxcIiBuZy1zdHlsZT1cXFwie3RvcDogcG9zaXRpb24udG9wKydweCcsIGxlZnQ6IHBvc2l0aW9uLmxlZnQrJ3B4J31cXFwiIG5nLWtleWRvd249XFxcImtleWRvd24oJGV2ZW50KVxcXCIgbmctY2xpY2s9XFxcIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVxcXCI+XFxuXCIgK1xuICAgIFwiXHQ8bGkgbmctdHJhbnNjbHVkZT48L2xpPlxcblwiICtcbiAgICBcIlx0PGxpIG5nLWlmPVxcXCJzaG93QnV0dG9uQmFyXFxcIiBzdHlsZT1cXFwicGFkZGluZzoxMHB4IDlweCAycHhcXFwiPlxcblwiICtcbiAgICBcIlx0XHQ8c3BhbiBjbGFzcz1cXFwiYnRuLWdyb3VwIHB1bGwtbGVmdFxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdFx0PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXNtIGJ0bi1pbmZvXFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KCd0b2RheScpXFxcIj57eyBnZXRUZXh0KCdjdXJyZW50JykgfX08L2J1dHRvbj5cXG5cIiArXG4gICAgXCJcdFx0XHQ8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc20gYnRuLWRhbmdlclxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChudWxsKVxcXCI+e3sgZ2V0VGV4dCgnY2xlYXInKSB9fTwvYnV0dG9uPlxcblwiICtcbiAgICBcIlx0XHQ8L3NwYW4+XFxuXCIgK1xuICAgIFwiXHRcdDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zbSBidG4tc3VjY2VzcyBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwiY2xvc2UoKVxcXCI+e3sgZ2V0VGV4dCgnY2xvc2UnKSB9fTwvYnV0dG9uPlxcblwiICtcbiAgICBcIlx0PC9saT5cXG5cIiArXG4gICAgXCI8L3VsPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sXCIsXG4gICAgXCI8dGFibGUgcm9sZT1cXFwiZ3JpZFxcXCIgYXJpYS1sYWJlbGxlZGJ5PVxcXCJ7ezo6dW5pcXVlSWR9fS10aXRsZVxcXCIgYXJpYS1hY3RpdmVkZXNjZW5kYW50PVxcXCJ7e2FjdGl2ZURhdGVJZH19XFxcIj5cXG5cIiArXG4gICAgXCIgIDx0aGVhZD5cXG5cIiArXG4gICAgXCIgICAgPHRyPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgtMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGggY29sc3Bhbj1cXFwiM1xcXCI+PGJ1dHRvbiBpZD1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIHJvbGU9XFxcImhlYWRpbmdcXFwiIGFyaWEtbGl2ZT1cXFwiYXNzZXJ0aXZlXFxcIiBhcmlhLWF0b21pYz1cXFwidHJ1ZVxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInRvZ2dsZU1vZGUoKVxcXCIgbmctZGlzYWJsZWQ9XFxcImRhdGVwaWNrZXJNb2RlID09PSBtYXhNb2RlXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiIHN0eWxlPVxcXCJ3aWR0aDoxMDAlO1xcXCI+PHN0cm9uZz57e3RpdGxlfX08L3N0cm9uZz48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3RoZWFkPlxcblwiICtcbiAgICBcIiAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICA8dHIgbmctcmVwZWF0PVxcXCJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIHJvbGU9XFxcImdyaWRjZWxsXFxcIiBpZD1cXFwie3s6OmR0LnVpZH19XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOjEwMCU7XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiBuZy1jbGFzcz1cXFwieydidG4taW5mbyc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX1cXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QoZHQuZGF0ZSlcXFwiIG5nLWRpc2FibGVkPVxcXCJkdC5kaXNhYmxlZFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48c3BhbiBuZy1jbGFzcz1cXFwiOjp7J3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XFxcIj57ezo6ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90Ym9keT5cXG5cIiArXG4gICAgXCI8L3RhYmxlPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwibW9kYWwtYmFja2Ryb3BcXFwiXFxuXCIgK1xuICAgIFwiICAgICBtb2RhbC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICAgICBtb2RhbC1pbi1jbGFzcz1cXFwiaW5cXFwiXFxuXCIgK1xuICAgIFwiICAgICBuZy1zdHlsZT1cXFwieyd6LWluZGV4JzogMTA0MCArIChpbmRleCAmJiAxIHx8IDApICsgaW5kZXgqMTB9XFxcIlxcblwiICtcbiAgICBcIj48L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbFwiLFxuICAgIFwiPGRpdiBtb2RhbC1yZW5kZXI9XFxcInt7JGlzUmVuZGVyZWR9fVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiByb2xlPVxcXCJkaWFsb2dcXFwiIGNsYXNzPVxcXCJtb2RhbFxcXCJcXG5cIiArXG4gICAgXCIgICAgbW9kYWwtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgICBtb2RhbC1pbi1jbGFzcz1cXFwiaW5cXFwiXFxuXCIgK1xuICAgIFwiXHRuZy1zdHlsZT1cXFwieyd6LWluZGV4JzogMTA1MCArIGluZGV4KjEwLCBkaXNwbGF5OiAnYmxvY2snfVxcXCIgbmctY2xpY2s9XFxcImNsb3NlKCRldmVudClcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1kaWFsb2dcXFwiIG5nLWNsYXNzPVxcXCJzaXplID8gJ21vZGFsLScgKyBzaXplIDogJydcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiIG1vZGFsLXRyYW5zY2x1ZGU+PC9kaXY+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbFwiLFxuICAgIFwiPHVsIGNsYXNzPVxcXCJwYWdlclxcXCI+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9QcmV2aW91cygpLCBwcmV2aW91czogYWxpZ259XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHBhZ2UgLSAxLCAkZXZlbnQpXFxcIj57ezo6Z2V0VGV4dCgncHJldmlvdXMnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9OZXh0KCksIG5leHQ6IGFsaWdufVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlICsgMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ25leHQnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiPC91bD5cIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbFwiLFxuICAgIFwiPHVsIGNsYXNzPVxcXCJwYWdpbmF0aW9uXFxcIj5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1pZj1cXFwiOjpib3VuZGFyeUxpbmtzXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub1ByZXZpb3VzKCl8fG5nRGlzYWJsZWR9XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKDEsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCdmaXJzdCcpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1pZj1cXFwiOjpkaXJlY3Rpb25MaW5rc1xcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9QcmV2aW91cygpfHxuZ0Rpc2FibGVkfVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlIC0gMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ3ByZXZpb3VzJyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLXJlcGVhdD1cXFwicGFnZSBpbiBwYWdlcyB0cmFjayBieSAkaW5kZXhcXFwiIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBwYWdlLmFjdGl2ZSxkaXNhYmxlZDogbmdEaXNhYmxlZCYmIXBhZ2UuYWN0aXZlfVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlLm51bWJlciwgJGV2ZW50KVxcXCI+e3twYWdlLnRleHR9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWlmPVxcXCI6OmRpcmVjdGlvbkxpbmtzXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub05leHQoKXx8bmdEaXNhYmxlZH1cXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UocGFnZSArIDEsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCduZXh0Jyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWlmPVxcXCI6OmJvdW5kYXJ5TGlua3NcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfHxuZ0Rpc2FibGVkfVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZSh0b3RhbFBhZ2VzLCAkZXZlbnQpXFxcIj57ezo6Z2V0VGV4dCgnbGFzdCcpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCI8L3VsPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtcG9wdXAuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwidG9vbHRpcFxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtaW5uZXJcXFwiIG5nLWJpbmQtaHRtbD1cXFwiY29udGVudEV4cCgpXFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwidG9vbHRpcFxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtaW5uZXJcXFwiIGJpbmQtaHRtbC11bnNhZmU9XFxcImNvbnRlbnRcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWNsYXNzZXNcXG5cIiArXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1pbm5lclxcXCIgbmctYmluZD1cXFwiY29udGVudFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC10ZW1wbGF0ZS1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInRvb2x0aXBcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1hcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWlubmVyXFxcIlxcblwiICtcbiAgICBcIiAgICB0b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGU9XFxcImNvbnRlbnRFeHAoKVxcXCJcXG5cIiArXG4gICAgXCIgICAgdG9vbHRpcC10ZW1wbGF0ZS10cmFuc2NsdWRlLXNjb3BlPVxcXCJvcmlnaW5TY29wZSgpXFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLXRlbXBsYXRlLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItdGVtcGxhdGUuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicG9wb3ZlclxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJhcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWlubmVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aDMgY2xhc3M9XFxcInBvcG92ZXItdGl0bGVcXFwiIG5nLWJpbmQ9XFxcInRpdGxlXFxcIiBuZy1pZj1cXFwidGl0bGVcXFwiPjwvaDM+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1jb250ZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgdG9vbHRpcC10ZW1wbGF0ZS10cmFuc2NsdWRlPVxcXCJjb250ZW50RXhwKClcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICB0b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGUtc2NvcGU9XFxcIm9yaWdpblNjb3BlKClcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBvcG92ZXJcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1pbm5lclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGgzIGNsYXNzPVxcXCJwb3BvdmVyLXRpdGxlXFxcIiBuZy1iaW5kPVxcXCJ0aXRsZVxcXCIgbmctaWY9XFxcInRpdGxlXFxcIj48L2gzPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcInBvcG92ZXItY29udGVudFxcXCIgbmctYmluZD1cXFwiY29udGVudFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3MtYmFyXFxcIiBuZy1jbGFzcz1cXFwidHlwZSAmJiAncHJvZ3Jlc3MtYmFyLScgKyB0eXBlXFxcIiByb2xlPVxcXCJwcm9ncmVzc2JhclxcXCIgYXJpYS12YWx1ZW5vdz1cXFwie3t2YWx1ZX19XFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCJ7e21heH19XFxcIiBuZy1zdHlsZT1cXFwie3dpZHRoOiAocGVyY2VudCA8IDEwMCA/IHBlcmNlbnQgOiAxMDApICsgJyUnfVxcXCIgYXJpYS12YWx1ZXRleHQ9XFxcInt7cGVyY2VudCB8IG51bWJlcjowfX0lXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3NcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwcm9ncmVzc1xcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwcm9ncmVzcy1iYXJcXFwiIG5nLWNsYXNzPVxcXCJ0eXBlICYmICdwcm9ncmVzcy1iYXItJyArIHR5cGVcXFwiIHJvbGU9XFxcInByb2dyZXNzYmFyXFxcIiBhcmlhLXZhbHVlbm93PVxcXCJ7e3ZhbHVlfX1cXFwiIGFyaWEtdmFsdWVtaW49XFxcIjBcXFwiIGFyaWEtdmFsdWVtYXg9XFxcInt7bWF4fX1cXFwiIG5nLXN0eWxlPVxcXCJ7d2lkdGg6IChwZXJjZW50IDwgMTAwID8gcGVyY2VudCA6IDEwMCkgKyAnJSd9XFxcIiBhcmlhLXZhbHVldGV4dD1cXFwie3twZXJjZW50IHwgbnVtYmVyOjB9fSVcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbFwiLFxuICAgIFwiPHNwYW4gbmctbW91c2VsZWF2ZT1cXFwicmVzZXQoKVxcXCIgbmcta2V5ZG93bj1cXFwib25LZXlkb3duKCRldmVudClcXFwiIHRhYmluZGV4PVxcXCIwXFxcIiByb2xlPVxcXCJzbGlkZXJcXFwiIGFyaWEtdmFsdWVtaW49XFxcIjBcXFwiIGFyaWEtdmFsdWVtYXg9XFxcInt7cmFuZ2UubGVuZ3RofX1cXFwiIGFyaWEtdmFsdWVub3c9XFxcInt7dmFsdWV9fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxpIG5nLXJlcGVhdD1cXFwiciBpbiByYW5nZSB0cmFjayBieSAkaW5kZXhcXFwiIG5nLW1vdXNlZW50ZXI9XFxcImVudGVyKCRpbmRleCArIDEpXFxcIiBuZy1jbGljaz1cXFwicmF0ZSgkaW5kZXggKyAxKVxcXCIgY2xhc3M9XFxcImdseXBoaWNvblxcXCIgbmctY2xhc3M9XFxcIiRpbmRleCA8IHZhbHVlICYmIChyLnN0YXRlT24gfHwgJ2dseXBoaWNvbi1zdGFyJykgfHwgKHIuc3RhdGVPZmYgfHwgJ2dseXBoaWNvbi1zdGFyLWVtcHR5JylcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInNyLW9ubHlcXFwiPih7eyAkaW5kZXggPCB2YWx1ZSA/ICcqJyA6ICcgJyB9fSk8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgIDwvaT5cXG5cIiArXG4gICAgXCI8L3NwYW4+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3RhYnMvdGFiLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sXCIsXG4gICAgXCI8bGkgbmctY2xhc3M9XFxcInthY3RpdmU6IGFjdGl2ZSwgZGlzYWJsZWQ6IGRpc2FibGVkfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8YSBocmVmPVxcXCIjXFxcIiBuZy1jbGljaz1cXFwiJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IHNlbGVjdCgpXFxcIiB0YWItaGVhZGluZy10cmFuc2NsdWRlPnt7aGVhZGluZ319PC9hPlxcblwiICtcbiAgICBcIjwvbGk+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sXCIsXG4gICAgXCI8ZGl2PlxcblwiICtcbiAgICBcIiAgPHVsIGNsYXNzPVxcXCJuYXYgbmF2LXt7dHlwZSB8fCAndGFicyd9fVxcXCIgbmctY2xhc3M9XFxcInsnbmF2LXN0YWNrZWQnOiB2ZXJ0aWNhbCwgJ25hdi1qdXN0aWZpZWQnOiBqdXN0aWZpZWR9XFxcIiBuZy10cmFuc2NsdWRlPjwvdWw+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0YWItY29udGVudFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcInRhYi1wYW5lXFxcIiBcXG5cIiArXG4gICAgXCIgICAgICAgICBuZy1yZXBlYXQ9XFxcInRhYiBpbiB0YWJzXFxcIiBcXG5cIiArXG4gICAgXCIgICAgICAgICBuZy1jbGFzcz1cXFwie2FjdGl2ZTogdGFiLmFjdGl2ZX1cXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgdGFiLWNvbnRlbnQtdHJhbnNjbHVkZT1cXFwidGFiXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbFwiLFxuICAgIFwiPHRhYmxlPlxcblwiICtcbiAgICBcIiAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICA8dHIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIiBuZy1zaG93PVxcXCI6OnNob3dTcGlubmVyc1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPjxhIG5nLWNsaWNrPVxcXCJpbmNyZW1lbnRIb3VycygpXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwXFxcIj48L3NwYW4+PC9hPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPiZuYnNwOzwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPjxhIG5nLWNsaWNrPVxcXCJpbmNyZW1lbnRNaW51dGVzKClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXBcXFwiPjwvc3Bhbj48L2E+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctc2hvdz1cXFwic2hvd01lcmlkaWFuXFxcIj48L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiBuZy1jbGFzcz1cXFwieydoYXMtZXJyb3InOiBpbnZhbGlkSG91cnN9XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpbnB1dCBzdHlsZT1cXFwid2lkdGg6NTBweDtcXFwiIHR5cGU9XFxcInRleHRcXFwiIG5nLW1vZGVsPVxcXCJob3Vyc1xcXCIgbmctY2hhbmdlPVxcXCJ1cGRhdGVIb3VycygpXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sIHRleHQtY2VudGVyXFxcIiBuZy1yZWFkb25seT1cXFwiOjpyZWFkb25seUlucHV0XFxcIiBtYXhsZW5ndGg9XFxcIjJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPjo8L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgbmctY2xhc3M9XFxcInsnaGFzLWVycm9yJzogaW52YWxpZE1pbnV0ZXN9XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpbnB1dCBzdHlsZT1cXFwid2lkdGg6NTBweDtcXFwiIHR5cGU9XFxcInRleHRcXFwiIG5nLW1vZGVsPVxcXCJtaW51dGVzXFxcIiBuZy1jaGFuZ2U9XFxcInVwZGF0ZU1pbnV0ZXMoKVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbCB0ZXh0LWNlbnRlclxcXCIgbmctcmVhZG9ubHk9XFxcIjo6cmVhZG9ubHlJbnB1dFxcXCIgbWF4bGVuZ3RoPVxcXCIyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1zaG93PVxcXCJzaG93TWVyaWRpYW5cXFwiPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHRleHQtY2VudGVyXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTWVyaWRpYW4oKVxcXCI+e3ttZXJpZGlhbn19PC9idXR0b24+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgICAgPHRyIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCIgbmctc2hvdz1cXFwiOjpzaG93U3Bpbm5lcnNcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZD48YSBuZy1jbGljaz1cXFwiZGVjcmVtZW50SG91cnMoKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duXFxcIj48L3NwYW4+PC9hPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPiZuYnNwOzwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPjxhIG5nLWNsaWNrPVxcXCJkZWNyZW1lbnRNaW51dGVzKClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93blxcXCI+PC9zcGFuPjwvYT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1zaG93PVxcXCJzaG93TWVyaWRpYW5cXFwiPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3Rib2R5PlxcblwiICtcbiAgICBcIjwvdGFibGU+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbFwiLFxuICAgIFwiPGEgaHJlZj1cXFwiI1xcXCIgbmctY2xpY2s9XFxcIiRldmVudC5wcmV2ZW50RGVmYXVsdCgpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiIGJpbmQtaHRtbC11bnNhZmU9XFxcIm1hdGNoLmxhYmVsIHwgdHlwZWFoZWFkSGlnaGxpZ2h0OnF1ZXJ5XFxcIj48L2E+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbFwiLFxuICAgIFwiPHVsIGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIiBuZy1zaG93PVxcXCJpc09wZW4oKSAmJiAhbW92ZUluUHJvZ3Jlc3NcXFwiIG5nLXN0eWxlPVxcXCJ7dG9wOiBwb3NpdGlvbigpLnRvcCsncHgnLCBsZWZ0OiBwb3NpdGlvbigpLmxlZnQrJ3B4J31cXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBibG9jaztcXFwiIHJvbGU9XFxcImxpc3Rib3hcXFwiIGFyaWEtaGlkZGVuPVxcXCJ7eyFpc09wZW4oKX19XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGxpIG5nLXJlcGVhdD1cXFwibWF0Y2ggaW4gbWF0Y2hlcyB0cmFjayBieSAkaW5kZXhcXFwiIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBpc0FjdGl2ZSgkaW5kZXgpIH1cXFwiIG5nLW1vdXNlZW50ZXI9XFxcInNlbGVjdEFjdGl2ZSgkaW5kZXgpXFxcIiBuZy1jbGljaz1cXFwic2VsZWN0TWF0Y2goJGluZGV4KVxcXCIgcm9sZT1cXFwib3B0aW9uXFxcIiBpZD1cXFwie3s6Om1hdGNoLmlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiB0eXBlYWhlYWQtbWF0Y2ggaW5kZXg9XFxcIiRpbmRleFxcXCIgbWF0Y2g9XFxcIm1hdGNoXFxcIiBxdWVyeT1cXFwicXVlcnlcXFwiIHRlbXBsYXRlLXVybD1cXFwidGVtcGxhdGVVcmxcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2xpPlxcblwiICtcbiAgICBcIjwvdWw+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuIWFuZ3VsYXIuJCRjc3AoKSAmJiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLmZpbmQoJ2hlYWQnKS5wcmVwZW5kKCc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+Lm5nLWFuaW1hdGUuaXRlbTpub3QoLmxlZnQpOm5vdCgucmlnaHQpey13ZWJraXQtdHJhbnNpdGlvbjowcyBlYXNlLWluLW91dCBsZWZ0O3RyYW5zaXRpb246MHMgZWFzZS1pbi1vdXQgbGVmdH08L3N0eWxlPicpO1xuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24ud2lkZ2V0LWJ1dHRvbi10b29sYmFyXCIsIFtcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIl0pXG4gICAgLmRpcmVjdGl2ZShcIndpZGdldEJ1dHRvblRvb2xiYXJcIiwgW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgc2F2ZTogXCImXCIsXG4gICAgICAgICAgY2FuY2VsOiBcIiZcIixcbiAgICAgICAgICBkaXNhYmxlU2F2ZTogXCImXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldChcIl9hbmd1bGFyL3dpZGdldC1idXR0b24tdG9vbGJhci93aWRnZXQtYnV0dG9uLXRvb2xiYXIuaHRtbFwiKVxuICAgICAgfTtcbiAgICB9XSk7XG59KCkpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi53aWRnZXQtYnV0dG9uLXRvb2xiYXJcIik7IH1cbmNhdGNoKGVycikgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi53aWRnZXQtYnV0dG9uLXRvb2xiYXJcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJfYW5ndWxhci93aWRnZXQtYnV0dG9uLXRvb2xiYXIvd2lkZ2V0LWJ1dHRvbi10b29sYmFyLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInB1bGwtcmlnaHRcXFwiPlxcblwiICtcbiAgICBcIiAgPGJ1dHRvbiBpZD1cXFwic2F2ZVxcXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeSBidG4tZml4ZWQtd2lkdGhcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgbmctY2xpY2s9XFxcInNhdmUoKVxcXCIgbmctZGlzYWJsZWQ9XFxcImRpc2FibGVTYXZlKClcXFwiPlxcblwiICtcbiAgICBcIiAgICA8c3Bhbj57e1xcXCJjb21tb24uc2F2ZVxcXCIgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgPGkgY2xhc3M9XFxcImZhIGZhLXdoaXRlIGZhLWNoZWNrIGljb24tcmlnaHRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgPGJ1dHRvbiBpZD1cXFwiY2FuY2VsXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1maXhlZC13aWR0aFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBuZy1jbGljaz1cXFwiY2FuY2VsKClcXFwiPlxcblwiICtcbiAgICBcIiAgICA8c3Bhbj57e1xcXCJjb21tb24uY2FuY2VsXFxcIiB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8aSBjbGFzcz1cXFwiZmEgZmEtd2hpdGUgZmEtdGltZXMgaWNvbi1yaWdodFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udG9vbHRpcFwiLCBbXCJ1aS5ib290c3RyYXBcIl0pXG4gICAgLmRpcmVjdGl2ZShcInJ2VG9vbHRpcFwiLCBbZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiQVwiLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKFwiZmFcIik7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhcImZhLXF1ZXN0aW9uLWNpcmNsZVwiKTtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKFwiZmEtbGdcIik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xufSgpKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udXJsLWZpZWxkXCIsIFtcbiAgICBcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIixcbiAgICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi50b29sdGlwXCJcbiAgXSlcbiAgICAuZGlyZWN0aXZlKFwidXJsRmllbGRcIiwgW1wiJHRlbXBsYXRlQ2FjaGVcIiwgXCIkbG9nXCIsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSwgJGxvZykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiRVwiLFxuICAgICAgICByZXF1aXJlOiBcIj9uZ01vZGVsXCIsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgdXJsOiBcIj1cIixcbiAgICAgICAgICBoaWRlTGFiZWw6IFwiQFwiLFxuICAgICAgICAgIGZpbGVUeXBlOiBcIkBcIlxuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KFwiX2FuZ3VsYXIvdXJsLWZpZWxkL3VybC1maWVsZC5odG1sXCIpLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XG5cbiAgICAgICAgICBmdW5jdGlvbiBoYXNWYWxpZEV4dGVuc2lvbih1cmwsIGZpbGVUeXBlKSB7XG4gICAgICAgICAgICB2YXIgdGVzdFVybCA9IHVybC50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICBleHRlbnNpb25zO1xuXG4gICAgICAgICAgICBzd2l0Y2goZmlsZVR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcImltYWdlXCI6XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucyA9IFtcIi5qcGdcIiwgXCIuanBlZ1wiLCBcIi5wbmdcIiwgXCIuYm1wXCIsIFwiLnN2Z1wiLCBcIi5naWZcIiwgXCIud2VicFwiXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInZpZGVvXCI6XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucyA9IFtcIi53ZWJtXCIsIFwiLm1wNFwiLCBcIi5vZ3ZcIiwgXCIub2dnXCJdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV4dGVuc2lvbnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKHRlc3RVcmwuaW5kZXhPZihleHRlbnNpb25zW2ldKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0aGUgVVJMIHBvaW50cyB0byBhIHZhbGlkIGltYWdlIGZpbGUuXG4gICAgICAgICAgZnVuY3Rpb24gdGVzdEltYWdlKCkge1xuICAgICAgICAgICAgaWYgKChzY29wZS5maWxlVHlwZSAhPT0gXCJ1bmRlZmluZWRcIikgJiYgKHNjb3BlLnVybCAhPT0gXCJ1bmRlZmluZWRcIikpIHtcbiAgICAgICAgICAgICAgaWYgKHNjb3BlLmZpbGVUeXBlID09PSBcImltYWdlXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgc2NvcGUudmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICBzY29wZS5pbnZhbGlkVHlwZSA9IHNjb3BlLmZpbGVUeXBlO1xuICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGltYWdlLnNyYyA9IHNjb3BlLnVybDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHRlc3RVcmwodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciB1cmxSZWdFeHAsXG4gICAgICAgICAgICAgIGlzVmFsaWQ7XG5cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgRGlzY3Vzc2lvblxuICAgICAgICAgICAgIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzc2ODQvaG93LXRvLXJlcGxhY2UtcGxhaW4tdXJscy13aXRoLWxpbmtzIzIxOTI1NDkxXG5cbiAgICAgICAgICAgICBVc2luZ1xuICAgICAgICAgICAgIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2RwZXJpbmkvNzI5Mjk0XG4gICAgICAgICAgICAgUmVhc29uaW5nXG4gICAgICAgICAgICAgaHR0cDovL21hdGhpYXNieW5lbnMuYmUvZGVtby91cmwtcmVnZXggKi9cblxuICAgICAgICAgICAgdXJsUmVnRXhwID0gL14oPzooPzooPzpodHRwcz98ZnRwKTopP1xcL1xcLykoPzpcXFMrKD86OlxcUyopP0ApPyg/Oig/ISg/OjEwfDEyNykoPzpcXC5cXGR7MSwzfSl7M30pKD8hKD86MTY5XFwuMjU0fDE5MlxcLjE2OCkoPzpcXC5cXGR7MSwzfSl7Mn0pKD8hMTcyXFwuKD86MVs2LTldfDJcXGR8M1swLTFdKSg/OlxcLlxcZHsxLDN9KXsyfSkoPzpbMS05XVxcZD98MVxcZFxcZHwyWzAxXVxcZHwyMlswLTNdKSg/OlxcLig/OjE/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pKXsyfSg/OlxcLig/OlsxLTldXFxkP3wxXFxkXFxkfDJbMC00XVxcZHwyNVswLTRdKSl8KD86KD86W2EtejAtOVxcdTAwYTEtXFx1ZmZmZl1bYS16MC05XFx1MDBhMS1cXHVmZmZmXy1dezAsNjJ9KT9bYS16MC05XFx1MDBhMS1cXHVmZmZmXVxcLikrKD86W2EtelxcdTAwYTEtXFx1ZmZmZl17Mix9XFwuPykpKD86OlxcZHsyLDV9KT8oPzpbLz8jXVxcUyopPyQvaTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbiAgICAgICAgICAgIC8vIEFkZCBodHRwOi8vIGlmIG5vIHByb3RvY29sIHBhcmFtZXRlciBleGlzdHNcbiAgICAgICAgICAgIGlmICh2YWx1ZS5pbmRleE9mKFwiOi8vXCIpID09PSAtMSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IFwiaHR0cDovL1wiICsgdmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlzVmFsaWQgPSB1cmxSZWdFeHAudGVzdCh2YWx1ZSk7XG5cbiAgICAgICAgICAgIGlmIChpc1ZhbGlkICYmIHR5cGVvZiBzY29wZS5maWxlVHlwZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICBpc1ZhbGlkID0gaGFzVmFsaWRFeHRlbnNpb24odmFsdWUsIHNjb3BlLmZpbGVUeXBlKTtcbiAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuaW52YWxpZFR5cGUgPSBzY29wZS5maWxlVHlwZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2NvcGUuaW52YWxpZFR5cGUgPSBcInVybFwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICAgICAgICB0ZXN0SW1hZ2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQnkgZGVmYXVsdCBlbmZvcmNlIHZhbGlkYXRpb25cbiAgICAgICAgICBzY29wZS5kb1ZhbGlkYXRpb24gPSB0cnVlO1xuICAgICAgICAgIC8vIEEgZmxhZyB0byBzZXQgaWYgdGhlIHVzZXIgdHVybmVkIG9mZiB2YWxpZGF0aW9uXG4gICAgICAgICAgc2NvcGUuZm9yY2VkVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAvLyBWYWxpZGF0aW9uIHN0YXRlXG4gICAgICAgICAgc2NvcGUudmFsaWQgPSB0cnVlO1xuXG4gICAgICAgICAgc2NvcGUuaW52YWxpZFR5cGUgPSBcInVybFwiO1xuXG4gICAgICAgICAgc2NvcGUuYWxsb3dJbml0RW1wdHkgPSAodHlwZW9mIGF0dHJzLmluaXRFbXB0eSAhPT0gXCJ1bmRlZmluZWRcIik7XG5cbiAgICAgICAgICBzY29wZS5ibHVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY29wZS4kZW1pdChcInVybEZpZWxkQmx1clwiKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKFwidXJsXCIsIGZ1bmN0aW9uICh1cmwpIHtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB1cmwgIT09IFwidW5kZWZpbmVkXCIgJiYgdXJsICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgICAgaWYgKHVybCAhPT0gXCJcIiAmJiBzY29wZS5hbGxvd0luaXRFbXB0eSkge1xuICAgICAgICAgICAgICAgIC8vIGVuc3VyZSBhbiBlbXB0eSBcIlwiIHZhbHVlIG5vdyBnZXRzIHZhbGlkYXRlZFxuICAgICAgICAgICAgICAgIHNjb3BlLmFsbG93SW5pdEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoc2NvcGUuZG9WYWxpZGF0aW9uICYmICFzY29wZS5hbGxvd0luaXRFbXB0eSkge1xuICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gdGVzdFVybChzY29wZS51cmwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzY29wZS4kd2F0Y2goXCJ2YWxpZFwiLCBmdW5jdGlvbiAodmFsaWQpIHtcbiAgICAgICAgICAgIGlmIChjdHJsKSB7XG4gICAgICAgICAgICAgICRsb2cuaW5mbyhcIkNhbGxpbmcgJHNldFZhbGlkaXR5KCkgb24gcGFyZW50IGNvbnRyb2xsZXJcIik7XG4gICAgICAgICAgICAgIGN0cmwuJHNldFZhbGlkaXR5KFwidmFsaWRcIiwgdmFsaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKFwiZG9WYWxpZGF0aW9uXCIsIGZ1bmN0aW9uIChkb1ZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgIGlmKHR5cGVvZiBzY29wZS51cmwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgaWYgKGRvVmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgIHNjb3BlLmZvcmNlZFZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNjb3BlLmFsbG93SW5pdEVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICBzY29wZS52YWxpZCA9IHRlc3RVcmwoc2NvcGUudXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZm9yY2VkVmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xufSgpKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udXJsLWZpZWxkXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udXJsLWZpZWxkXCIsIFtdKTsgfVxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwiX2FuZ3VsYXIvdXJsLWZpZWxkL3VybC1maWVsZC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiA+XFxuXCIgK1xuICAgIFwiICA8bGFiZWwgbmctaWY9XFxcIiFoaWRlTGFiZWxcXFwiPnt7IFxcXCJ1cmwubGFiZWxcXFwiIHwgdHJhbnNsYXRlIH19PC9sYWJlbD5cXG5cIiArXG4gICAgXCIgIDxkaXY+XFxuXCIgK1xuICAgIFwiICAgIDxpbnB1dCBuYW1lPVxcXCJ1cmxcXFwiIHR5cGU9XFxcInRleHRcXFwiIG5nLW1vZGVsPVxcXCJ1cmxcXFwiIG5nLWJsdXI9XFxcImJsdXIoKVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgcGxhY2Vob2xkZXI9XFxcImh0dHA6Ly9cXFwiPlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8cCBuZy1pZj1cXFwiIXZhbGlkICYmIGludmFsaWRUeXBlID09PSAndXJsJ1xcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIj57eyBcXFwidXJsLmVycm9ycy51cmxcXFwiIHwgdHJhbnNsYXRlIH19PC9wPlxcblwiICtcbiAgICBcIiAgPHAgbmctaWY9XFxcIiF2YWxpZCAmJiBpbnZhbGlkVHlwZSA9PT0gJ2ltYWdlJ1xcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIj57eyBcXFwidXJsLmVycm9ycy5pbWFnZVxcXCIgfCB0cmFuc2xhdGUgfX08L3A+XFxuXCIgK1xuICAgIFwiICA8cCBuZy1pZj1cXFwiIXZhbGlkICYmIGludmFsaWRUeXBlID09PSAndmlkZW8nXFxcIiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiPnt7IFxcXCJ1cmwuZXJyb3JzLnZpZGVvXFxcIiB8IHRyYW5zbGF0ZSB9fTwvcD5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNoZWNrYm94XFxcIiBuZy1zaG93PVxcXCJmb3JjZWRWYWxpZCB8fCAhdmFsaWRcXFwiPlxcblwiICtcbiAgICBcIiAgICA8bGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgPGlucHV0IG5hbWU9XFxcInZhbGlkYXRlLXVybFxcXCIgbmctY2xpY2s9XFxcImRvVmFsaWRhdGlvbiA9ICFkb1ZhbGlkYXRpb25cXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICB2YWx1ZT1cXFwidmFsaWRhdGUtdXJsXFxcIj4ge3tcXFwidXJsLnZhbGlkYXRlLmxhYmVsXFxcIiB8IHRyYW5zbGF0ZX19XFxuXCIgK1xuICAgIFwiICAgIDwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG59KSgpO1xuXG4vKiBleHBvcnRlZCBjb25maWcgKi9cbnZhciBjb25maWcgPSB7XG4gIFNUT1JBR0VfRU5WOiBcInByb2RcIlxufTtcblxuaWYgKCB0eXBlb2YgYW5ndWxhciAhPT0gXCJ1bmRlZmluZWRcIiApIHtcbiAgYW5ndWxhci5tb2R1bGUoIFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIiwgW10gKVxuICAgIC5jb25zdGFudCggXCJMT0NBTEVTX1BSRUZJWFwiLCBcImxvY2FsZXMvdHJhbnNsYXRpb25fXCIgKVxuICAgIC5jb25zdGFudCggXCJMT0NBTEVTX1NVRklYXCIsIFwiLmpzb25cIiApO1xufVxuXG5hbmd1bGFyLm1vZHVsZSggXCJyaXNldmlzaW9uLndpZGdldC53ZWItcGFnZS5zZXR0aW5nc1wiLCBbXG4gIFwicmlzZXZpc2lvbi5jb21tb24uaTE4blwiLFxuICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiLFxuICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi53aWRnZXQtYnV0dG9uLXRvb2xiYXJcIixcbiAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udG9vbHRpcFwiLFxuICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi51cmwtZmllbGRcIlxuXSApO1xuXG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIsIFtdKTtcblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIilcbiAgLmNvbnRyb2xsZXIoXCJzZXR0aW5nc0NvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwic2V0dGluZ3NTYXZlclwiLCBcInNldHRpbmdzR2V0dGVyXCIsIFwic2V0dGluZ3NDbG9zZXJcIixcbiAgICBmdW5jdGlvbiAoJHNjb3BlLCBzZXR0aW5nc1NhdmVyLCBzZXR0aW5nc0dldHRlciwgc2V0dGluZ3NDbG9zZXIpIHtcblxuICAgICRzY29wZS5zZXR0aW5ncyA9IHsgcGFyYW1zOiB7fSwgYWRkaXRpb25hbFBhcmFtczoge319O1xuICAgICRzY29wZS5hbGVydHMgPSBbXTtcblxuICAgICRzY29wZS5nZXRBZGRpdGlvbmFsUGFyYW0gPSBmdW5jdGlvbiAobmFtZSwgZGVmYXVsdFZhbCkge1xuICAgICAgdmFyIHZhbCA9ICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zW25hbWVdO1xuICAgICAgaWYoYW5ndWxhci5pc1VuZGVmaW5lZCh2YWwpKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5zZXRBZGRpdGlvbmFsUGFyYW0gPSBmdW5jdGlvbiAobmFtZSwgdmFsKSB7XG4gICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtc1tuYW1lXSA9IHZhbDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmxvYWRBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgc2V0dGluZ3NHZXR0ZXIuZ2V0QWRkaXRpb25hbFBhcmFtcygpLnRoZW4oZnVuY3Rpb24gKGFkZGl0aW9uYWxQYXJhbXMpIHtcbiAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMgPSBhZGRpdGlvbmFsUGFyYW1zO1xuICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdChcImxvYWRBZGRpdGlvbmFsUGFyYW1zXCIsIGFkZGl0aW9uYWxQYXJhbXMpO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uIChlcnIpIHthbGVydCAoZXJyKTsgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS5zZXRBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKG5hbWUsIHZhbCkge1xuICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXNbbmFtZV0gPSB2YWw7XG4gICAgfTtcblxuICAgICRzY29wZS5zYXZlU2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvL2NsZWFyIG91dCBwcmV2aW91cyBhbGVydHMsIGlmIGFueVxuICAgICAgJHNjb3BlLmFsZXJ0cyA9IFtdO1xuXG4gICAgICAkc2NvcGUuJGJyb2FkY2FzdChcImNvbGxlY3RBZGRpdGlvbmFsUGFyYW1zXCIpO1xuXG4gICAgICBzZXR0aW5nc1NhdmVyLnNhdmVTZXR0aW5ncygkc2NvcGUuc2V0dGluZ3MpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAvL1RPRE86IHBlcmhhcHMgc2hvdyBzb21lIGluZGljYXRvciBpbiBVST9cbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgJHNjb3BlLmFsZXJ0cyA9IGVyci5hbGVydHM7XG4gICAgICB9KTtcblxuICAgIH07XG5cbiAgICAkc2NvcGUuY2xvc2VTZXR0aW5ncyA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2V0dGluZ3NDbG9zZXIuY2xvc2VTZXR0aW5ncygpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAvL1RPRE86XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICRzY29wZS5hbGVydHMgPSBlcnIuYWxlcnRzO1xuICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgJHNjb3BlLnNldHRpbmdzLnBhcmFtcyA9IHNldHRpbmdzR2V0dGVyLmdldFBhcmFtcygpO1xuICAgICRzY29wZS5sb2FkQWRkaXRpb25hbFBhcmFtcygpO1xuICB9XSlcblxuICAuZGlyZWN0aXZlKFwic2Nyb2xsT25BbGVydHNcIiwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiBcIkFcIiwgLy9yZXN0cmljdHMgdG8gYXR0cmlidXRlc1xuICAgICAgc2NvcGU6IGZhbHNlLFxuICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxtKSB7XG4gICAgICAgICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKFwiYWxlcnRzXCIsIGZ1bmN0aW9uIChuZXdBbGVydHMsIG9sZEFsZXJ0cykge1xuICAgICAgICAgIGlmKG5ld0FsZXJ0cy5sZW5ndGggPiAwICYmIG9sZEFsZXJ0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICQoXCJib2R5XCIpLmFuaW1hdGUoe3Njcm9sbFRvcDogJGVsbS5vZmZzZXQoKS50b3B9LCBcImZhc3RcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5jb25zdGFudChcIlNUT1JBR0VfRklMRV9VUkxfQkFTRVwiLCBcInN0b3JhZ2UuZ29vZ2xlYXBpcy5jb20vcmlzZW1lZGlhbGlicmFyeS1cIilcbiAgLmNvbnN0YW50KFwiU1RPUkFHRV9GT0xERVJfVVJMX0JBU0VcIiwgXCJnb29nbGVhcGlzLmNvbS9zdG9yYWdlL1wiKVxuICAuZmFjdG9yeShcImNvbW1vblNldHRpbmdzXCIsIFtcIiRsb2dcIiwgXCJTVE9SQUdFX0ZJTEVfVVJMX0JBU0VcIiwgXCJTVE9SQUdFX0ZPTERFUl9VUkxfQkFTRVwiLFxuICAgIGZ1bmN0aW9uICgkbG9nLCBTVE9SQUdFX0ZJTEVfVVJMX0JBU0UsIFNUT1JBR0VfRk9MREVSX1VSTF9CQVNFKSB7XG5cbiAgICB2YXIgZmFjdG9yeSA9IHtcbiAgICAgIGdldFN0b3JhZ2VVcmxEYXRhOiBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHZhciBzdG9yYWdlID0ge30sXG4gICAgICAgICAgc3RyLCBhcnIsIHBhcmFtcywgcGFpcjtcblxuICAgICAgICBmdW5jdGlvbiBnZXRTdG9yYWdlVHlwZShzdG9yYWdlVXJsKSB7XG4gICAgICAgICAgaWYgKHN0b3JhZ2VVcmwuaW5kZXhPZihTVE9SQUdFX0ZJTEVfVVJMX0JBU0UpICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiZmlsZVwiO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzdG9yYWdlVXJsLmluZGV4T2YoU1RPUkFHRV9GT0xERVJfVVJMX0JBU0UpICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiZm9sZGVyXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRDb21wYW55SWQoc3RvcmFnZVVybCkge1xuICAgICAgICAgIHZhciBwID0gc3RvcmFnZVVybC5zcGxpdChcInJpc2VtZWRpYWxpYnJhcnktXCIpO1xuXG4gICAgICAgICAgcmV0dXJuIHBbMV0uc2xpY2UoMCwgcFsxXS5pbmRleE9mKFwiL1wiKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2V0U3RvcmFnZVR5cGUodXJsKSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgICAgICBzdHIgPSB1cmwuc3BsaXQoU1RPUkFHRV9GSUxFX1VSTF9CQVNFKVsxXTtcbiAgICAgICAgICBzdHIgPSBkZWNvZGVVUklDb21wb25lbnQoc3RyLnNsaWNlKHN0ci5pbmRleE9mKFwiL1wiKSArIDEpKTtcbiAgICAgICAgICBhcnIgPSBzdHIuc3BsaXQoXCIvXCIpO1xuXG4gICAgICAgICAgc3RvcmFnZS5jb21wYW55SWQgPSBnZXRDb21wYW55SWQodXJsKTtcbiAgICAgICAgICBzdG9yYWdlLmZpbGVOYW1lID0gYXJyLnBvcCgpO1xuICAgICAgICAgIHN0b3JhZ2UuZm9sZGVyID0gYXJyLmxlbmd0aCA+IDAgPyBhcnIuam9pbihcIi9cIikgOiBcIlwiO1xuXG4gICAgICAgICAgaWYgKHN0b3JhZ2UuZm9sZGVyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAvLyBhZGQgZW5kaW5nIFwiL1wiIHRvIHRoZSBmb2xkZXIgcGF0aFxuICAgICAgICAgICAgc3RvcmFnZS5mb2xkZXIgKz0gXCIvXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdldFN0b3JhZ2VUeXBlKHVybCkgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgICAgICBwYXJhbXMgPSB1cmwuc3BsaXQoXCI/XCIpO1xuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhaXIgPSBwYXJhbXNbaV0uc3BsaXQoXCI9XCIpO1xuXG4gICAgICAgICAgICBpZiAocGFpclswXSA9PT0gXCJwcmVmaXhcIiAmJiB0eXBlb2YgcGFpclsxXSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwYWlyWzFdICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgIHN0b3JhZ2UuY29tcGFueUlkID0gZ2V0Q29tcGFueUlkKHVybCk7XG4gICAgICAgICAgICAgIHN0b3JhZ2UuZm9sZGVyID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xuICAgICAgICAgICAgICBzdG9yYWdlLmZpbGVOYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0b3JhZ2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmYWN0b3J5O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5mYWN0b3J5KFwiZ2FkZ2V0c0FwaVwiLCBbXCIkd2luZG93XCIsIGZ1bmN0aW9uICgkd2luZG93KSB7XG4gICAgcmV0dXJuICR3aW5kb3cuZ2FkZ2V0cztcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuZmFjdG9yeShcImdvb2dsZUZvbnRMb2FkZXJcIiwgW1wiJGh0dHBcIiwgXCJhbmd1bGFyTG9hZFwiLCBmdW5jdGlvbiAoJGh0dHAsIGFuZ3VsYXJMb2FkKSB7XG5cbiAgICB2YXIgZmFjdG9yeSA9IHt9LFxuICAgICAgYWxsRm9udHMgPSBbXTtcblxuICAgIGZhY3RvcnkuZ2V0R29vZ2xlRm9udHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChhbGxGb250cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gR2V0IGxpc3Qgb2YgR29vZ2xlIGZvbnRzIHNvcnRlZCBhbHBoYWJldGljYWxseS5cbiAgICAgICAgcmV0dXJuICRodHRwLmdldChcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3dlYmZvbnRzL3YxL3dlYmZvbnRzP2tleT1BSXphU3lCWHhWS19JT1Y3TE5RTXVWVm9fbDdadk41M2VqTjg2elkmc29ydD1hbHBoYVwiLCB7IGNhY2hlOiB0cnVlIH0pXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAocmVzcC5kYXRhICYmIHJlc3AuZGF0YS5pdGVtcykge1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcmVzcC5kYXRhLml0ZW1zLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaXRlbSA9IHJlc3AuZGF0YS5pdGVtc1tpXTtcblxuICAgICAgICAgICAgICAgIC8vIERvbid0IHJldHVybiB0aG9zZSBmb250cyB0aGF0IGhhdmUgYSBzdWJzZXQgb2YgXCJraG1lclwiLlxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnN1YnNldHMgJiYgKGl0ZW0uc3Vic2V0cy5sZW5ndGggPT09IDEpICYmXG4gICAgICAgICAgICAgICAgICAoaXRlbS5zdWJzZXRzWzBdLnRvTG93ZXJDYXNlKCkgPT09IFwia2htZXJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYWxsRm9udHMucHVzaChpdGVtLmZhbWlseSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gbG9hZEZvbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGxvYWRGb250cygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKiBGaWx0ZXIgbGlzdCBvZiBmb250cyB0byBvbmx5IHJldHVybiB0aG9zZSB0aGF0IGFyZSBHb29nbGUgZm9udHMuICovXG4gICAgZmFjdG9yeS5nZXRGb250c1VzZWQgPSBmdW5jdGlvbihmYW1pbHlMaXN0KSB7XG4gICAgICB2YXIgZm9udHNVc2VkID0gW107XG5cbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChhbGxGb250cywgZnVuY3Rpb24gKGZhbWlseSkge1xuICAgICAgICBpZiAoZmFtaWx5TGlzdC5pbmRleE9mKGZhbWlseSkgIT09IC0xKSB7XG4gICAgICAgICAgZm9udHNVc2VkLnB1c2goZmFtaWx5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBmb250c1VzZWQ7XG4gICAgfTtcblxuICAgIC8qIExvYWQgdGhlIEdvb2dsZSBmb250cy4gKi9cbiAgICBmdW5jdGlvbiBsb2FkRm9udHMoKSB7XG4gICAgICB2YXIgZmFtaWx5ID0gXCJcIixcbiAgICAgICAgZm9udHMgPSBcIlwiLFxuICAgICAgICB1cmwgPSBcIlwiLFxuICAgICAgICB1cmxzID0gW10sXG4gICAgICAgIHNwYWNlcyA9IGZhbHNlLFxuICAgICAgICBmYWxsYmFjayA9IFwiLHNhbnMtc2VyaWY7XCIsXG4gICAgICAgIGZvbnRCYXNlVXJsID0gXCIvL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9XCIsXG4gICAgICAgIGV4Y2x1ZGUgPSBbXCJCdWRhXCIsIFwiQ29kYSBDYXB0aW9uXCIsIFwiT3BlbiBTYW5zIENvbmRlbnNlZFwiLCBcIlVuaWZyYWt0dXJDb29rXCIsIFwiTW9sbGVcIl07XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsRm9udHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZmFtaWx5ID0gYWxsRm9udHNbaV07XG5cbiAgICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihmYW1pbHkpID09PSAtMSkge1xuICAgICAgICAgIHVybCA9IGZvbnRCYXNlVXJsICsgZmFtaWx5O1xuXG4gICAgICAgICAgYW5ndWxhckxvYWQubG9hZENTUyh1cmwpO1xuICAgICAgICAgIHVybHMucHVzaCh1cmwpO1xuXG4gICAgICAgICAgLy8gY2hlY2sgZm9yIHNwYWNlcyBpbiBmYW1pbHkgbmFtZVxuICAgICAgICAgIGlmICgvXFxzLy50ZXN0KGZhbWlseSkpIHtcbiAgICAgICAgICAgIHNwYWNlcyA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNwYWNlcykge1xuICAgICAgICAgICAgLy8gd3JhcCBmYW1pbHkgbmFtZSBpbiBzaW5nbGUgcXVvdGVzXG4gICAgICAgICAgICBmb250cyArPSBmYW1pbHkgKyBcIj0nXCIgKyBmYW1pbHkgKyBcIidcIiArIGZhbGxiYWNrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvbnRzICs9IGZhbWlseSArIFwiPVwiICsgZmFtaWx5ICsgZmFsbGJhY2s7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IGZvbnRzOiBmb250cywgdXJsczogdXJscyB9O1xuICAgIH1cblxuICAgIHJldHVybiBmYWN0b3J5O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5zZXJ2aWNlKFwiaTE4bkxvYWRlclwiLCBbXCIkd2luZG93XCIsIFwiJHFcIiwgZnVuY3Rpb24gKCR3aW5kb3csICRxKSB7XG4gICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICR3aW5kb3cuaTE4bi5pbml0KHsgXG4gICAgICBmYWxsYmFja0xuZzogXCJlblwiLFxuICAgICAgcmVzR2V0UGF0aDogXCJsb2NhbGVzL19fbnNfX19fX2xuZ19fLmpzb25cIlxuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5pMThuKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuZmFjdG9yeShcImltYWdlVmFsaWRhdG9yXCIsIFtcIiRxXCIsIGZ1bmN0aW9uICgkcSkge1xuICAgIHZhciBmYWN0b3J5ID0ge1xuICAgICAgLy8gVmVyaWZ5IHRoYXQgVVJMIGlzIGEgdmFsaWQgaW1hZ2UgZmlsZS5cbiAgICAgIGlzSW1hZ2U6IGZ1bmN0aW9uKHNyYykge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpLFxuICAgICAgICAgIGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShmYWxzZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaW1hZ2Uuc3JjID0gc3JjO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZmFjdG9yeTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuc2VydmljZShcInNldHRpbmdzU2F2ZXJcIiwgW1wiJHFcIiwgXCIkbG9nXCIsIFwiZ2FkZ2V0c0FwaVwiLCBcInNldHRpbmdzUGFyc2VyXCIsXG4gIGZ1bmN0aW9uICgkcSwgJGxvZywgZ2FkZ2V0c0FwaSwgc2V0dGluZ3NQYXJzZXIpIHtcblxuICAgIHRoaXMuc2F2ZVNldHRpbmdzID0gZnVuY3Rpb24gKHNldHRpbmdzLCB2YWxpZGF0b3IpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgYWxlcnRzID0gW10sIHN0ciA9IFwiXCI7XG5cbiAgICAgIHNldHRpbmdzID0gcHJvY2Vzc1NldHRpbmdzKHNldHRpbmdzKTtcblxuICAgICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgICBhbGVydHMgPSB2YWxpZGF0b3Ioc2V0dGluZ3MpO1xuICAgICAgfVxuXG4gICAgICBpZihhbGVydHMubGVuZ3RoID4gMCkge1xuICAgICAgICAkbG9nLmRlYnVnKFwiVmFsaWRhdGlvbiBmYWlsZWQuXCIsIGFsZXJ0cyk7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdCh7YWxlcnRzOiBhbGVydHN9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNldHRpbmdzLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcImxheW91dFVSTFwiKSkge1xuICAgICAgICAvLyBlbnN1cmUgdGhlIHVybCBpcyB0aGUgc3RhcnQgb2YgdGhlIHN0cmluZ1xuICAgICAgICBzdHIgKz0gc2V0dGluZ3MucGFyYW1zLmxheW91dFVSTCArIFwiP1wiO1xuICAgICAgICAvLyBkZWxldGUgdGhpcyBwcm9wZXJ0eSBzbyBpdHMgbm90IGluY2x1ZGVkIGJlbG93IGluIGVuY29kZVBhcmFtcyBjYWxsXG4gICAgICAgIGRlbGV0ZSBzZXR0aW5ncy5wYXJhbXMubGF5b3V0VVJMO1xuICAgICAgfVxuXG4gICAgICBzdHIgKz0gc2V0dGluZ3NQYXJzZXIuZW5jb2RlUGFyYW1zKHNldHRpbmdzLnBhcmFtcyk7XG5cbiAgICAgIHZhciBhZGRpdGlvbmFsUGFyYW1zU3RyID1cbiAgICAgICAgc2V0dGluZ3NQYXJzZXIuZW5jb2RlQWRkaXRpb25hbFBhcmFtcyhzZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zKTtcblxuICAgICAgZ2FkZ2V0c0FwaS5ycGMuY2FsbChcIlwiLCBcInJzY21kX3NhdmVTZXR0aW5nc1wiLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICRsb2cuZGVidWcoXCJlbmNvZGVkIHNldHRpbmdzXCIsIEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgICAgICAkbG9nLmRlYnVnKFwiU2V0dGluZ3Mgc2F2ZWQuIFwiLCBzZXR0aW5ncyk7XG5cbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgfSwge1xuICAgICAgICBwYXJhbXM6IHN0cixcbiAgICAgICAgYWRkaXRpb25hbFBhcmFtczogYWRkaXRpb25hbFBhcmFtc1N0clxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzU2V0dGluZ3Moc2V0dGluZ3MpIHtcbiAgICAgIHZhciBuZXdTZXR0aW5ncyA9IGFuZ3VsYXIuY29weShzZXR0aW5ncyk7XG5cbiAgICAgIGRlbGV0ZSBuZXdTZXR0aW5ncy5wYXJhbXMuaWQ7XG4gICAgICBkZWxldGUgbmV3U2V0dGluZ3MucGFyYW1zLmNvbXBhbnlJZDtcbiAgICAgIGRlbGV0ZSBuZXdTZXR0aW5ncy5wYXJhbXMucnNXO1xuICAgICAgZGVsZXRlIG5ld1NldHRpbmdzLnBhcmFtcy5yc0g7XG5cbiAgICAgIHJldHVybiBuZXdTZXR0aW5ncztcbiAgICB9XG5cbiAgfV0pXG5cbiAgLnNlcnZpY2UoXCJzZXR0aW5nc0dldHRlclwiLCBbXCIkcVwiLCBcImdhZGdldHNBcGlcIiwgXCIkbG9nXCIsIFwic2V0dGluZ3NQYXJzZXJcIiwgXCIkd2luZG93XCIsIFwiZGVmYXVsdFNldHRpbmdzXCIsXG4gICAgZnVuY3Rpb24gKCRxLCBnYWRnZXRzQXBpLCAkbG9nLCBzZXR0aW5nc1BhcnNlciwgJHdpbmRvdywgZGVmYXVsdFNldHRpbmdzKSB7XG5cbiAgICAgIHRoaXMuZ2V0QWRkaXRpb25hbFBhcmFtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgdmFyIGRlZmF1bHRBZGRpdGlvbmFsUGFyYW1zID0gZGVmYXVsdFNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMgfHwge307XG5cbiAgICAgICAgZ2FkZ2V0c0FwaS5ycGMuY2FsbChcIlwiLCBcInJzY21kX2dldEFkZGl0aW9uYWxQYXJhbXNcIiwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHNldHRpbmdzUGFyc2VyLnBhcnNlQWRkaXRpb25hbFBhcmFtcyhyZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHt9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgICRsb2cuZGVidWcoXCJnZXRBZGRpdGlvbmFsUGFyYW1zIHJldHVybnMgXCIsIHJlc3VsdCk7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkLmV4dGVuZCh0cnVlLCBkZWZhdWx0QWRkaXRpb25hbFBhcmFtcywgcmVzdWx0KSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5nZXRQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZWZhdWx0UGFyYW1zID0gZGVmYXVsdFNldHRpbmdzLnBhcmFtcyB8fCB7fTtcbiAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZXh0ZW5kKGRlZmF1bHRQYXJhbXMsXG4gICAgICAgICAgc2V0dGluZ3NQYXJzZXIucGFyc2VQYXJhbXMoJHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpKTtcbiAgICAgIH07XG4gIH1dKVxuXG4gIC5zZXJ2aWNlKFwic2V0dGluZ3NQYXJzZXJcIiwgW2Z1bmN0aW9uICgpIHtcbiAgICB0aGlzLnBhcnNlQWRkaXRpb25hbFBhcmFtcyA9IGZ1bmN0aW9uIChhZGRpdGlvbmFsUGFyYW1zU3RyKSB7XG4gICAgICBpZihhZGRpdGlvbmFsUGFyYW1zU3RyKSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGFkZGl0aW9uYWxQYXJhbXNTdHIpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5lbmNvZGVBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKGFkZGl0aW9uYWxQYXJhbXMpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhZGRpdGlvbmFsUGFyYW1zKTtcbiAgICB9O1xuXG4gICAgdGhpcy5lbmNvZGVQYXJhbXMgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICB2YXIgc3RyID0gW107XG4gICAgICBmb3IodmFyIHAgaW4gcGFyYW1zKSB7XG4gICAgICAgIGlmIChwYXJhbXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXNbcF0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zW3BdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHBhcmFtc1twXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RyLnB1c2goXCJ1cF9cIiArIGVuY29kZVVSSUNvbXBvbmVudChwKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0ci5qb2luKFwiJlwiKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc3RyaXBQcmVmaXgobmFtZSkge1xuICAgICAgaWYobmFtZS5pbmRleE9mKFwidXBfXCIpID09PSAwKSB7XG4gICAgICAgIHJldHVybiBuYW1lLnNsaWNlKDMpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucGFyc2VQYXJhbXMgPSBmdW5jdGlvbiAocGFyYW1zU3RyKSB7XG4gICAgICAvL2dldCByaWQgb2YgcHJlY2VlZGluZyBcIj9cIlxuICAgICAgaWYocGFyYW1zU3RyWzBdID09PSBcIj9cIikge1xuICAgICAgICBwYXJhbXNTdHIgPSBwYXJhbXNTdHIuc2xpY2UoMSk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICB2YXIgdmFycyA9IHBhcmFtc1N0ci5zcGxpdChcIiZcIik7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHBhaXIgPSB2YXJzW2ldLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgdmFyIG5hbWUgPSBzdHJpcFByZWZpeChkZWNvZGVVUklDb21wb25lbnQocGFpclswXSkpO1xuICAgICAgICAvL3NhdmUgc2V0dGluZ3Mgb25seSBpZiBpdCBoYXMgdXBfIHByZWZpeC4gSWdub3JlIG90aGVyd2lzZVxuICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHRbbmFtZV0gPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXN1bHRbbmFtZV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgfV0pXG5cbiAgLnNlcnZpY2UoXCJzZXR0aW5nc0Nsb3NlclwiLCBbXCIkcVwiLCBcIiRsb2dcIiwgXCJnYWRnZXRzQXBpXCIsXG4gIGZ1bmN0aW9uICgkcSwgJGxvZywgZ2FkZ2V0c0FwaSkge1xuXG4gICAgdGhpcy5jbG9zZVNldHRpbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgZ2FkZ2V0c0FwaS5ycGMuY2FsbChcIlwiLCBcInJzY21kX2Nsb3NlU2V0dGluZ3NcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgfV0pXG5cbiAgLnZhbHVlKFwiZGVmYXVsdFNldHRpbmdzXCIsIHt9KTtcblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnZpc3VhbGl6YXRpb25cIiwgW10pXG4gICAgLmZhY3RvcnkoXCJ2aXN1YWxpemF0aW9uQXBpXCIsIFtcIiRxXCIsIFwiJHdpbmRvd1wiLCBmdW5jdGlvbiAoJHEsICR3aW5kb3cpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgcHJvbWlzZTtcblxuICAgICAgdmFyIGZhY3RvcnkgPSB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICBpZiAoISR3aW5kb3cuZ29vZ2xlLnZpc3VhbGl6YXRpb24pIHtcbiAgICAgICAgICAgICAgJHdpbmRvdy5nb29nbGUuc2V0T25Mb2FkQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGZhY3Rvcnk7XG5cbiAgICB9XSk7XG5cbn0pKGFuZ3VsYXIpO1xuXG5hbmd1bGFyLm1vZHVsZSggXCJyaXNldmlzaW9uLndpZGdldC53ZWItcGFnZS5zZXR0aW5nc1wiIClcbiAgLmNvbnRyb2xsZXIoIFwid2ViUGFnZVNldHRpbmdzQ29udHJvbGxlclwiLCBbIFwiJHNjb3BlXCIsIFwiJGxvZ1wiLCBcInJlc3BvbnNlSGVhZGVyQW5hbHl6ZXJcIixcbiAgICBmdW5jdGlvbiggJHNjb3BlLCAkbG9nLCByZXNwb25zZUhlYWRlckFuYWx5emVyICkge1xuXG4gICAgICAkc2NvcGUubm9GcmFtZUFuY2VzdG9ycyA9IHRydWU7XG4gICAgICAkc2NvcGUubm9YRnJhbWVPcHRpb25zID0gdHJ1ZTtcbiAgICAgICRzY29wZS5pc1ByZXZpZXdVcmwgPSBmYWxzZTtcbiAgICAgICRzY29wZS51cmxJbnB1dCA9IGZhbHNlO1xuXG4gICAgICAkc2NvcGUudmFsaWRhdGVYRnJhbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJBbmFseXplci5nZXRPcHRpb25zKCAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy51cmwgKVxuICAgICAgICAudGhlbiggZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG4gICAgICAgICAgJHNjb3BlLm5vRnJhbWVBbmNlc3RvcnMgPSAhb3B0aW9ucy5pbmNsdWRlcyggXCJmcmFtZS1hbmNlc3RvcnNcIiApO1xuICAgICAgICAgICRzY29wZS5ub1hGcmFtZU9wdGlvbnMgPSAhb3B0aW9ucy5pbmNsdWRlcyggXCJYLUZyYW1lLU9wdGlvbnNcIiApO1xuICAgICAgICB9ICk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuJG9uKCBcInVybEZpZWxkQmx1clwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCAkc2NvcGUuc2V0dGluZ3NGb3JtLnBhZ2VVcmwuJHZhbGlkICkge1xuICAgICAgICAgICRzY29wZS52YWxpZGF0ZVhGcmFtZSgpO1xuICAgICAgICB9XG4gICAgICB9ICk7XG5cbiAgICAgICRzY29wZS4kd2F0Y2goIFwidXJsSW5wdXRcIiwgZnVuY3Rpb24oIHZhbHVlICkge1xuICAgICAgICBpZiAoIHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3NGb3JtLnBhZ2VVcmwuJHNldFZhbGlkaXR5KCBcInVybElucHV0XCIsIHZhbHVlICk7XG4gICAgICAgIH1cbiAgICAgIH0gKTtcblxuICAgICAgJHNjb3BlLiR3YXRjaCggXCJzZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnVybFwiLCBmdW5jdGlvbiggbmV3VmFsLCBvbGRWYWwgKSB7XG4gICAgICAgICRzY29wZS5pc1ByZXZpZXdVcmwgPSBuZXdWYWwgJiYgbmV3VmFsLmluZGV4T2YoIFwicHJldmlldy5yaXNldmlzaW9uLmNvbVwiICkgPiAwO1xuXG4gICAgICAgIGlmICggdHlwZW9mIG9sZFZhbCA9PT0gXCJ1bmRlZmluZWRcIiAmJiBuZXdWYWwgJiYgbmV3VmFsICE9PSBcIlwiICkge1xuICAgICAgICAgICRzY29wZS51cmxJbnB1dCA9IHRydWU7XG5cbiAgICAgICAgICAvLyBwcmV2aW91c2x5IHNhdmVkIHNldHRpbmdzIGFyZSBiZWluZyBzaG93biwgZW5zdXJlIHRvIGNoZWNrIGlmIHBhZ2UgaGFzIFgtRnJhbWUtT3B0aW9uc1xuICAgICAgICAgICRzY29wZS52YWxpZGF0ZVhGcmFtZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICggdHlwZW9mIG5ld1ZhbCAhPT0gXCJ1bmRlZmluZWRcIiApIHtcbiAgICAgICAgICAgIC8vIGVuc3VyZSB3YXJuaW5nIG1lc3NhZ2VzIGRvbid0IGdldCBzaG93biB3aGlsZSB1cmwgZmllbGQgaXMgcmVjZWl2aW5nIGlucHV0XG4gICAgICAgICAgICAkc2NvcGUubm9GcmFtZUFuY2VzdG9ycyA9IHRydWU7XG4gICAgICAgICAgICAkc2NvcGUubm9YRnJhbWVPcHRpb25zID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKCBuZXdWYWwgIT09IFwiXCIgKSB7XG4gICAgICAgICAgICAgICRzY29wZS51cmxJbnB1dCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9ICk7XG5cbiAgICAgICRzY29wZS4kd2F0Y2goIFwic2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy56b29tXCIsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcbiAgICAgICAgaWYgKCB0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG4gICAgICAgICAgaWYgKCB2YWx1ZSA+IDEgKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5pbnRlcmFjdGl2aXR5LnNjcm9sbGJhcnMgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gKTtcblxuICAgICAgJHNjb3BlLiR3YXRjaCggXCJzZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLmludGVyYWN0aXZpdHkuaW50ZXJhY3RpdmVcIiwgZnVuY3Rpb24oIHZhbHVlICkge1xuICAgICAgICBpZiAoIHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcbiAgICAgICAgICBpZiAoICF2YWx1ZSApIHtcbiAgICAgICAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLmludGVyYWN0aXZpdHkuc2Nyb2xsYmFycyA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSApO1xuXG4gICAgfSBdIClcbiAgLnZhbHVlKCBcImRlZmF1bHRTZXR0aW5nc1wiLCB7XG4gICAgcGFyYW1zOiB7fSxcbiAgICBhZGRpdGlvbmFsUGFyYW1zOiB7XG4gICAgICBjYWNoZUJ1c3RlcjogdHJ1ZSxcbiAgICAgIGludGVyYWN0aXZpdHk6IHtcbiAgICAgICAgaW50ZXJhY3RpdmU6IGZhbHNlLFxuICAgICAgICBzY3JvbGxiYXJzOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHJlZnJlc2g6IDAsXG4gICAgICByZWdpb246IHtcbiAgICAgICAgc2hvd1JlZ2lvbjogXCJwYWdlXCIsXG4gICAgICAgIGhvcml6b250YWw6IDAsXG4gICAgICAgIHZlcnRpY2FsOiAwXG4gICAgICB9LFxuICAgICAgdW5sb2FkOiB0cnVlLFxuICAgICAgdXJsOiBcIlwiLFxuICAgICAgem9vbTogMVxuICAgIH1cbiAgfSApO1xuXG5hbmd1bGFyLm1vZHVsZSggXCJyaXNldmlzaW9uLndpZGdldC53ZWItcGFnZS5zZXR0aW5nc1wiIClcbiAgLmZhY3RvcnkoIFwicmVzcG9uc2VIZWFkZXJBbmFseXplclwiLCBbIFwiJGxvZ1wiLCBcIiRodHRwXCIsIGZ1bmN0aW9uKCAkbG9nLCAkaHR0cCApIHtcblxuICAgIHZhciBmYWN0b3J5ID0ge1xuICAgICAgZ2V0T3B0aW9uczogZnVuY3Rpb24oIHVybCApIHtcblxuICAgICAgICByZXR1cm4gJGh0dHAoIHtcbiAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgdXJsOiBcImh0dHBzOi8vcHJveHkucmlzZXZpc2lvbi5jb20vXCIgKyB1cmxcbiAgICAgICAgfSApLnRoZW4oIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblxuICAgICAgICAgIGlmICggIXJlc3BvbnNlICkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICRsb2cuZGVidWcoIHJlc3BvbnNlLmhlYWRlcnMoKSApO1xuXG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmhlYWRlcnMoKSA/IGV4dHJhY3RPcHRpb25zRnJvbSggcmVzcG9uc2UgKSA6IFtdO1xuICAgICAgICB9LCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG4gICAgICAgICAgJGxvZy5kZWJ1ZyggXCJXZWJwYWdlIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgXCIgKyByZXNwb25zZS5zdGF0dXMgKyBcIjogXCIgKyByZXNwb25zZS5zdGF0dXNUZXh0ICk7XG5cbiAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH0gKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZXh0cmFjdE9wdGlvbnNGcm9tKCByZXNwb25zZSApIHtcbiAgICAgIHZhciBoZWFkZXIsXG4gICAgICAgIG9wdGlvbnMgPSBbXTtcblxuICAgICAgaGVhZGVyID0gcmVzcG9uc2UuaGVhZGVycyggXCJYLUZyYW1lLU9wdGlvbnNcIiApO1xuICAgICAgaWYgKCBoZWFkZXIgIT09IG51bGwgJiYgaGVhZGVyLmluZGV4T2YoIFwiQUxMT1ctRlJPTVwiICkgPT09IC0xICkge1xuICAgICAgICBvcHRpb25zLnB1c2goIFwiWC1GcmFtZS1PcHRpb25zXCIgKTtcbiAgICAgIH1cblxuICAgICAgaGVhZGVyID0gcmVzcG9uc2UuaGVhZGVycyggXCJjb250ZW50LXNlY3VyaXR5LXBvbGljeVwiICk7XG4gICAgICBpZiAoIGhlYWRlciAhPT0gbnVsbCAmJiBoZWFkZXIuaW5kZXhPZiggXCJmcmFtZS1hbmNlc3RvcnNcIiApID4gMCApIHtcbiAgICAgICAgb3B0aW9ucy5wdXNoKCBcImZyYW1lLWFuY2VzdG9yc1wiICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIHJldHVybiBmYWN0b3J5O1xuICB9IF0gKTtcbiJdfQ==
