!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t){"use strict";var e=t.storageKey(),n=t.storage(),a=function(){var a=t.preferredLanguage();angular.isString(a)?t.use(a):n.put(e,t.use())};a.displayName="fallbackFromIncorrectStorageValue",n?n.get(e)?t.use(n.get(e))["catch"](a):a():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function e(){"use strict";var t,e,n,a=null,i=!1,r=!1;n={sanitize:function(t,e){return"text"===e&&(t=s(t)),t},escape:function(t,e){return"text"===e&&(t=o(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=c(t,s)),t},escapeParameters:function(t,e){return"params"===e&&(t=c(t,o)),t},sce:function(t,e,n){return"text"===e?t=l(t):"params"===e&&"filter"!==n&&(t=c(t,o)),t},sceParameters:function(t,e){return"params"===e&&(t=c(t,l)),t}},n.escaped=n.escapeParameters,this.addStrategy=function(t,e){return n[t]=e,this},this.removeStrategy=function(t){return delete n[t],this},this.useStrategy=function(t){return i=!0,a=t,this},this.$get=["$injector","$log",function(o,s){var l={},c=function(t,e,a,i){return angular.forEach(i,function(i){if(angular.isFunction(i))t=i(t,e,a);else if(angular.isFunction(n[i]))t=n[i](t,e,a);else{if(!angular.isString(n[i]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'");if(!l[n[i]])try{l[n[i]]=o.get(n[i])}catch(r){throw l[n[i]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'")}t=l[n[i]](t,e,a)}}),t},u=function(){i||r||(s.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),r=!0)};return o.has("$sanitize")&&(t=o.get("$sanitize")),o.has("$sce")&&(e=o.get("$sce")),{useStrategy:function(t){return function(e){t.useStrategy(e)}}(this),sanitize:function(t,e,n,i){if(a||u(),n||null===n||(n=a),!n)return t;i||(i="service");var r=angular.isArray(n)?n:[n];return c(t,e,i,r)}}}];var o=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},s=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(e)},l=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return e.trustAsHtml(t)},c=function(t,e,n){if(angular.isDate(t))return t;if(angular.isObject(t)){var a=angular.isArray(t)?[]:{};if(n){if(n.indexOf(t)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(t),angular.forEach(t,function(t,i){angular.isFunction(t)||(a[i]=c(t,e,n))}),n.splice(-1,1),a}return angular.isNumber(t)?t:e(t)}}function n(t,e,n,a){"use strict";var i,r,o,s,l,c,u,p,d,f,h,g,m,v,b,y,$={},w=[],x=t,k=[],C="translate-cloak",T=!1,D=!1,E=".",S=!1,O=!1,M=0,P=!0,A="default",I={"default":function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():e},"iso639-1":function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n[0].toLowerCase()}},L="2.13.1",N=function(){if(angular.isFunction(a.getLocale))return a.getLocale();var t,n,i=e.$get().navigator,r=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(i.languages))for(t=0;t<i.languages.length;t++)if(n=i.languages[t],n&&n.length)return n;for(t=0;t<r.length;t++)if(n=i[r[t]],n&&n.length)return n;return null};N.displayName="angular-translate/service: getFirstBrowserLanguage";var F=function(){var t=N()||"";return I[A]&&(t=I[A](t)),t};F.displayName="angular-translate/service: getLocale";var j=function(t,e){for(var n=0,a=t.length;a>n;n++)if(t[n]===e)return n;return-1},V=function(){return this.toString().replace(/^\s+|\s+$/g,"")},U=function(t){if(t){for(var e=[],n=angular.lowercase(t),a=0,i=w.length;i>a;a++)e.push(angular.lowercase(w[a]));if(j(e,n)>-1)return t;if(r){var o;for(var s in r)if(r.hasOwnProperty(s)){var l=!1,c=Object.prototype.hasOwnProperty.call(r,s)&&angular.lowercase(s)===angular.lowercase(t);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===t.slice(0,s.length-1)),(c||l)&&(o=r[s],j(e,angular.lowercase(o))>-1))return o}}var u=t.split("_");return u.length>1&&j(e,angular.lowercase(u[0]))>-1?u[0]:void 0}},H=function(t,e){if(!t&&!e)return $;if(t&&!e){if(angular.isString(t))return $[t]}else angular.isObject($[t])||($[t]={}),angular.extend($[t],R(e));return this};this.translations=H,this.cloakClassName=function(t){return t?(C=t,this):C},this.nestedObjectDelimeter=function(t){return t?(E=t,this):E};var R=function(t,e,n,a){var i,r,o,s;e||(e=[]),n||(n={});for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s=t[i],angular.isObject(s)?R(s,e.concat(i),n,i):(r=e.length?""+e.join(E)+E+i:i,e.length&&i===a&&(o=""+e.join(E),n[o]="@:"+r),n[r]=s));return n};R.displayName="flatObject",this.addInterpolation=function(t){return k.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return f=t,this},this.useSanitizeValueStrategy=function(t){return n.useStrategy(t),this},this.preferredLanguage=function(t){return t?(_(t),this):i};var _=function(t){return t&&(i=t),i};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(m=t,this):m},this.translationNotFoundIndicatorRight=function(t){return t?(v=t,this):v},this.fallbackLanguage=function(t){return q(t),this};var q=function(t){return t?(angular.isString(t)?(s=!0,o=[t]):angular.isArray(t)&&(s=!1,o=t),angular.isString(i)&&j(o,i)<0&&o.push(i),this):s?o[0]:o};this.use=function(t){if(t){if(!$[t]&&!h)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return l=t,this}return l},this.resolveClientLocale=function(){return F()};var z=function(t){return t?(x=t,this):p?p+x:x};this.storageKey=z,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return h=t,g=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return u=t,this},this.storagePrefix=function(t){return t?(p=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return d=t,this},this.usePostCompiling=function(t){return T=!!t,this},this.forceAsyncReload=function(t){return D=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},A=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():F();return i=w.length?U(e)||e:e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(w=t,e&&(r=e),this):w},this.useLoaderCache=function(t){return t===!1?b=void 0:t===!0?b=!0:"undefined"==typeof t?b="$translationCache":t&&(b=t),this},this.directivePriority=function(t){return void 0===t?M:(M=t,this)},this.statefulFilter=function(t){return void 0===t?P:(P=t,this)},this.postProcess=function(t){return y=t?t:void 0,this},this.keepContent=function(t){return O=!!t,this},this.$get=["$log","$injector","$rootScope","$q",function(t,e,n,a){var r,p,A,I=e.get(f||"$translateDefaultInterpolation"),N=!1,B={},W={},Y=function(t,e,n,s,c){!l&&i&&(l=i);var d=c&&c!==l?U(c)||c:l;if(c&&ue(c),angular.isArray(t)){var f=function(t){for(var i={},r=[],o=function(t){var r=a.defer(),o=function(e){i[t]=e,r.resolve([t,e])};return Y(t,e,n,s,c).then(o,o),r.promise},l=0,u=t.length;u>l;l++)r.push(o(t[l]));return a.all(r).then(function(){return i})};return f(t)}var h=a.defer();t&&(t=V.apply(t));var g=function(){var t=i?W[i]:W[d];if(p=0,u&&!t){var e=r.get(x);if(t=W[e],o&&o.length){var n=j(o,e);p=0===n?1:0,j(o,i)<0&&o.push(i)}}return t}();if(g){var m=function(){c||(d=l),oe(t,e,n,s,d).then(h.resolve,h.reject)};m.displayName="promiseResolved",g["finally"](m)}else oe(t,e,n,s,d).then(h.resolve,h.reject);return h.promise},G=function(t){return m&&(t=[m,t].join(" ")),v&&(t=[t,v].join(" ")),t},K=function(t){l=t,u&&r.put(Y.storageKey(),l),n.$emit("$translateChangeSuccess",{language:t}),I.setLocale(l);var e=function(t,e){B[e].setLocale(l)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(B,e),n.$emit("$translateChangeEnd",{language:t})},Q=function(t){if(!t)throw"No language key specified for loading.";var i=a.defer();n.$emit("$translateLoadingStart",{language:t}),N=!0;var r=b;"string"==typeof r&&(r=e.get(r));var o=angular.extend({},g,{key:t,$http:angular.extend({},{cache:r},g.$http)}),s=function(e){var a={};n.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(e)?angular.forEach(e,function(t){angular.extend(a,R(t))}):angular.extend(a,R(e)),N=!1,i.resolve({key:t,table:a}),n.$emit("$translateLoadingEnd",{language:t})};s.displayName="onLoaderSuccess";var l=function(t){n.$emit("$translateLoadingError",{language:t}),i.reject(t),n.$emit("$translateLoadingEnd",{language:t})};return l.displayName="onLoaderError",e.get(h)(o).then(s,l),i.promise};if(u&&(r=e.get(u),!r.get||!r.put))throw new Error("Couldn't use storage '"+u+"', missing get() or put() method!");if(k.length){var X=function(t){var n=e.get(t);n.setLocale(i||l),B[n.getInterpolationIdentifier()]=n};X.displayName="interpolationFactoryAdder",angular.forEach(k,X)}var Z=function(t){var e=a.defer();if(Object.prototype.hasOwnProperty.call($,t))e.resolve($[t]);else if(W[t]){var n=function(t){H(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",W[t].then(n,e.reject)}else e.reject();return e.promise},J=function(t,e,n,i){var r=a.defer(),o=function(a){if(Object.prototype.hasOwnProperty.call(a,e)){i.setLocale(t);var o=a[e];if("@:"===o.substr(0,2))J(t,o.substr(2),n,i).then(r.resolve,r.reject);else{var s=i.interpolate(a[e],n,"service");s=ce(e,a[e],s,n,t),r.resolve(s)}i.setLocale(l)}else r.reject()};return o.displayName="fallbackTranslationResolver",Z(t).then(o,r.reject),r.promise},te=function(t,e,n,a,i){var r,o=$[t];if(o&&Object.prototype.hasOwnProperty.call(o,e)){if(a.setLocale(t),r=a.interpolate(o[e],n,"filter",i),r=ce(e,o[e],r,n,t,i),!angular.isString(r)&&angular.isFunction(r.$$unwrapTrustedValue)){var s=r.$$unwrapTrustedValue();if("@:"===s.substr(0,2))return te(t,s.substr(2),n,a,i)}else if("@:"===r.substr(0,2))return te(t,r.substr(2),n,a,i);a.setLocale(l)}return r},ee=function(t,n,a,i){return d?e.get(d)(t,l,n,a,i):t},ne=function(t,e,n,i,r){var s=a.defer();if(t<o.length){var l=o[t];J(l,e,n,i).then(function(t){s.resolve(t)},function(){return ne(t+1,e,n,i,r).then(s.resolve,s.reject)})}else if(r)s.resolve(r);else{var c=ee(e,n,r);d&&c?s.resolve(c):s.reject(G(e))}return s.promise},ae=function(t,e,n,a,i){var r;if(t<o.length){var s=o[t];r=te(s,e,n,a,i),r||""===r||(r=ae(t+1,e,n,a))}return r},ie=function(t,e,n,a){return ne(A>0?A:p,t,e,n,a)},re=function(t,e,n,a){return ae(A>0?A:p,t,e,n,a)},oe=function(t,e,n,i,r){var s=a.defer(),l=r?$[r]:$,c=n?B[n]:I;if(l&&Object.prototype.hasOwnProperty.call(l,t)){var u=l[t];if("@:"===u.substr(0,2))Y(u.substr(2),e,n,i,r).then(s.resolve,s.reject);else{var p=c.interpolate(u,e,"service");p=ce(t,u,p,e,r),s.resolve(p)}}else{var f;d&&!N&&(f=ee(t,e,i)),r&&o&&o.length?ie(t,e,c,i).then(function(t){s.resolve(t)},function(t){s.reject(G(t))}):d&&!N&&f?i?s.resolve(i):s.resolve(f):i?s.resolve(i):s.reject(G(t))}return s.promise},se=function(t,e,n,a,i){var r,s=a?$[a]:$,l=I;if(B&&Object.prototype.hasOwnProperty.call(B,n)&&(l=B[n]),s&&Object.prototype.hasOwnProperty.call(s,t)){var c=s[t];"@:"===c.substr(0,2)?r=se(c.substr(2),e,n,a,i):(r=l.interpolate(c,e,"filter",i),r=ce(t,c,r,e,a,i))}else{var u;d&&!N&&(u=ee(t,e,i)),a&&o&&o.length?(p=0,r=re(t,e,l,i)):r=d&&!N&&u?u:G(t)}return r},le=function(t){c===t&&(c=void 0),W[t]=void 0},ce=function(t,n,a,i,r,o){var s=y;return s&&("string"==typeof s&&(s=e.get(s)),s)?s(t,n,a,i,r,o):a},ue=function(t){$[t]||!h||W[t]||(W[t]=Q(t).then(function(t){return H(t.key,t.table),t}))};Y.preferredLanguage=function(t){return t&&_(t),i},Y.cloakClassName=function(){return C},Y.nestedObjectDelimeter=function(){return E},Y.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(q(t),h&&o&&o.length)for(var e=0,n=o.length;n>e;e++)W[o[e]]||(W[o[e]]=Q(o[e]));Y.use(Y.use())}return s?o[0]:o},Y.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=j(o,t);e>-1&&(A=e)}else A=0},Y.proposedLanguage=function(){return c},Y.storage=function(){return r},Y.negotiateLocale=U,Y.use=function(t){if(!t)return l;var e=a.defer();n.$emit("$translateChangeStart",{language:t});var i=U(t);return w.length>0&&!i?a.reject(t):(i&&(t=i),c=t,!D&&$[t]||!h||W[t]?W[t]?W[t].then(function(t){return c===t.key&&K(t.key),e.resolve(t.key),t},function(t){return!l&&o&&o.length>0&&o[0]!==t?Y.use(o[0]).then(e.resolve,e.reject):e.reject(t)}):(e.resolve(t),K(t)):(W[t]=Q(t).then(function(n){return H(n.key,n.table),e.resolve(n.key),c===t&&K(n.key),n},function(t){return n.$emit("$translateChangeError",{language:t}),e.reject(t),n.$emit("$translateChangeEnd",{language:t}),a.reject(t)}),W[t]["finally"](function(){le(t)})),e.promise)},Y.resolveClientLocale=function(){return F()},Y.storageKey=function(){return z()},Y.isPostCompilingEnabled=function(){return T},Y.isForceAsyncReloadEnabled=function(){return D},Y.isKeepContent=function(){return O},Y.refresh=function(t){function e(){r.resolve(),n.$emit("$translateRefreshEnd",{language:t})}function i(){r.reject(),n.$emit("$translateRefreshEnd",{language:t})}if(!h)throw new Error("Couldn't refresh translation table, no loader registered!");var r=a.defer();if(n.$emit("$translateRefreshStart",{language:t}),t)if($[t]){var s=function(n){return H(n.key,n.table),t===l&&K(l),e(),n};s.displayName="refreshPostProcessor",Q(t).then(s,i)}else i();else{var c=[],u={};if(o&&o.length)for(var p=0,d=o.length;d>p;p++)c.push(Q(o[p])),u[o[p]]=!0;l&&!u[l]&&c.push(Q(l));var f=function(t){$={},angular.forEach(t,function(t){H(t.key,t.table)}),l&&K(l),e()};f.displayName="refreshPostProcessor",a.all(c).then(f,i)}return r.promise},Y.instant=function(t,e,n,a,r){var s=a&&a!==l?U(a)||a:l;if(null===t||angular.isUndefined(t))return t;if(a&&ue(a),angular.isArray(t)){for(var c={},u=0,p=t.length;p>u;u++)c[t[u]]=Y.instant(t[u],e,n,a,r);return c}if(angular.isString(t)&&t.length<1)return t;t&&(t=V.apply(t));var f,h=[];i&&h.push(i),s&&h.push(s),o&&o.length&&(h=h.concat(o));for(var g=0,b=h.length;b>g;g++){var y=h[g];if($[y]&&"undefined"!=typeof $[y][t]&&(f=se(t,e,n,s,r)),"undefined"!=typeof f)break}if(!f&&""!==f)if(m||v)f=G(t);else{f=I.interpolate(t,e,"filter",r);var w;d&&!N&&(w=ee(t,e,r)),d&&!N&&w&&(f=w)}return f},Y.versionInfo=function(){return L},Y.loaderCache=function(){return b},Y.directivePriority=function(){return M},Y.statefulFilter=function(){return P},Y.isReady=function(){return S};var pe=a.defer();pe.promise.then(function(){S=!0}),Y.onReady=function(t){var e=a.defer();return angular.isFunction(t)&&e.promise.then(t),S?e.resolve():pe.promise.then(e.resolve),e.promise},Y.getAvailableLanguageKeys=function(){return w.length>0?w:null},Y.getTranslationTable=function(t){return t=t||Y.use(),t&&$[t]?angular.copy($[t]):null};var de=n.$on("$translateReady",function(){pe.resolve(),de(),de=null}),fe=n.$on("$translateChangeEnd",function(){pe.resolve(),fe(),fe=null});if(h){if(angular.equals($,{})&&Y.use()&&Y.use(Y.use()),o&&o.length)for(var he=function(t){return H(t.key,t.table),n.$emit("$translateChangeEnd",{language:t.key}),t},ge=0,me=o.length;me>ge;ge++){var ve=o[ge];(D||!$[ve])&&(W[ve]=Q(ve).then(he))}}else n.$emit("$translateReady",{language:Y.use()});return Y}]}function a(t,e){"use strict";var n,a={},i="default";return a.setLocale=function(t){n=t},a.getInterpolationIdentifier=function(){return i},a.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},a.interpolate=function(n,a,i,r){a=a||{},a=e.sanitize(a,"params",r,i);var o;return angular.isNumber(n)?o=""+n:angular.isString(n)?(o=t(n)(a),o=e.sanitize(o,"text",r,i)):o="",o},a}function i(t,e,n,a,i){"use strict";var o=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:t.directivePriority(),compile:function(s,l){var c=l.translateValues?l.translateValues:void 0,u=l.translateInterpolation?l.translateInterpolation:void 0,p=s[0].outerHTML.match(/translate-value-+/i),d="^(.*)("+e.startSymbol()+".*"+e.endSymbol()+")(.*)",f="^(.*)"+e.startSymbol()+"(.*)"+e.endSymbol()+"(.*)";return function(s,h,g){s.interpolateParams={},s.preText="",s.postText="",s.translateNamespace=r(s);var m={},v=function(t,e,n){if(e.translateValues&&angular.extend(t,a(e.translateValues)(s.$parent)),p)for(var i in n)if(Object.prototype.hasOwnProperty.call(e,i)&&"translateValue"===i.substr(0,14)&&"translateValues"!==i){var r=angular.lowercase(i.substr(14,1))+i.substr(15);t[r]=n[i]}},b=function(t){if(angular.isFunction(b._unwatchOld)&&(b._unwatchOld(),b._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var n=o.apply(h.text()),a=n.match(d);if(angular.isArray(a)){s.preText=a[1],s.postText=a[3],m.translate=e(a[2])(s.$parent);var i=n.match(f);angular.isArray(i)&&i[2]&&i[2].length&&(b._unwatchOld=s.$watch(i[2],function(t){m.translate=t,C()}))}else m.translate=n?n:void 0}else m.translate=t;C()},y=function(t){g.$observe(t,function(e){m[t]=e,C()})};v(s.interpolateParams,g,l);var $=!0;g.$observe("translate",function(t){"undefined"==typeof t?b(""):""===t&&$||(m.translate=t,C()),$=!1});for(var w in g)g.hasOwnProperty(w)&&"translateAttr"===w.substr(0,13)&&w.length>13&&y(w);if(g.$observe("translateDefault",function(t){s.defaultText=t,C()}),c&&g.$observe("translateValues",function(t){t&&s.$parent.$watch(function(){angular.extend(s.interpolateParams,a(t)(s.$parent))})}),p){var x=function(t){g.$observe(t,function(e){var n=angular.lowercase(t.substr(14,1))+t.substr(15);s.interpolateParams[n]=e})};for(var k in g)Object.prototype.hasOwnProperty.call(g,k)&&"translateValue"===k.substr(0,14)&&"translateValues"!==k&&x(k)}var C=function(){for(var t in m)m.hasOwnProperty(t)&&void 0!==m[t]&&T(t,m[t],s,s.interpolateParams,s.defaultText,s.translateNamespace)},T=function(e,n,a,i,r,o){n?(o&&"."===n.charAt(0)&&(n=o+n),t(n,i,u,r,a.translateLanguage).then(function(t){D(t,a,!0,e)},function(t){D(t,a,!1,e)})):D(n,a,!1,e)},D=function(e,a,i,r){if(i||"undefined"!=typeof a.defaultText&&(e=a.defaultText),"translate"===r){(i||!i&&!t.isKeepContent()&&"undefined"==typeof g.translateKeepContent)&&h.empty().append(a.preText+e+a.postText);var o=t.isPostCompilingEnabled(),s="undefined"!=typeof l.translateCompile,c=s&&"false"!==l.translateCompile;(o&&!s||c)&&n(h.contents())(a)}else{var u=g.$attr[r];"data-"===u.substr(0,5)&&(u=u.substr(5)),u=u.substr(15),h.attr(u,e)}};(c||p||g.translateDefault)&&s.$watch("interpolateParams",C,!0),s.$on("translateLanguageChanged",C);var E=i.$on("$translateChangeSuccess",C);h.text().length?g.translate?b(g.translate):b(""):g.translate&&b(g.translate),C(),s.$on("$destroy",E)}}}}function r(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?r(t.$parent):void 0}function o(t,e){"use strict";return{restrict:"A",priority:t.directivePriority(),link:function(n,a,i){var r,o,l={},c=function(){angular.forEach(r,function(e,r){e&&(l[r]=!0,n.translateNamespace&&"."===e.charAt(0)&&(e=n.translateNamespace+e),t(e,o,i.translateInterpolation,void 0,n.translateLanguage).then(function(t){a.attr(r,t)},function(t){a.attr(r,t)}))}),angular.forEach(l,function(t,e){r[e]||(a.removeAttr(e),delete l[e])})};s(n,i.translateAttr,function(t){r=t},c),s(n,i.translateValues,function(t){o=t},c),i.translateValues&&n.$watch(i.translateValues,c,!0),n.$on("translateLanguageChanged",c);var u=e.$on("$translateChangeSuccess",c);c(),n.$on("$destroy",u)}}}function s(t,e,n,a){"use strict";e&&("::"===e.substr(0,2)?e=e.substr(2):t.$watch(e,function(t){n(t),a()},!0),n(t.$eval(e)))}function l(t,e){"use strict";return{compile:function(n){var a=function(){n.addClass(t.cloakClassName())},i=function(){n.removeClass(t.cloakClassName())};return t.onReady(function(){i()}),a(),function(n,r,o){o.translateCloak&&o.translateCloak.length&&(o.$observe("translateCloak",function(e){t(e).then(i,a)}),e.$on("$translateChangeSuccess",function(){t(o.translateCloak).then(i,a)}))}}}}function c(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,n){t.translateNamespace=r(t),t.translateNamespace&&"."===n.translateNamespace.charAt(0)?t.translateNamespace+=n.translateNamespace:t.translateNamespace=n.translateNamespace}}}}}function r(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?r(t.$parent):void 0}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(t,e,n){n.$observe("translateLanguage",function(e){t.translateLanguage=e}),t.$watch("translateLanguage",function(){t.$broadcast("translateLanguageChanged")})}}}}function p(t,e){"use strict";var n=function(n,a,i,r){return angular.isObject(a)||(a=t(a)(this)),e.instant(n,a,i,r)};return e.statefulFilter()&&(n.$stateful=!0),n}function d(t){"use strict";return t("translations")}return t.$inject=["$translate"],n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],a.$inject=["$interpolate","$translateSanitization"],i.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],o.$inject=["$translate","$rootScope"],l.$inject=["$translate","$rootScope"],p.$inject=["$parse","$translate"],d.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(t),t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",e),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",a),a.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",o),o.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",l),l.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",c),c.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",u),u.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",p),p.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",d),d.displayName="$translationCache","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t,e){"use strict";return function(n){if(!(n&&(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var a=function(a){if(!a||!angular.isString(a.prefix)||!angular.isString(a.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var i=[a.prefix,n.key,a.suffix].join("");return angular.isObject(n.fileMap)&&n.fileMap[i]&&(i=n.fileMap[i]),e(angular.extend({url:i,method:"GET",params:""},n.$http)).then(function(t){return t.data},function(){return t.reject(n.key)})},i=[],r=n.files.length,o=0;r>o;o++)i.push(a({prefix:n.files[o].prefix,key:n.key,suffix:n.files[o].suffix}));return t.all(i).then(function(t){for(var e=t.length,n={},a=0;e>a;a++)for(var i in t[a])n[i]=t[a][i];return n})}}return t.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",t),t.displayName="$translateStaticFilesLoader","pascalprecht.translate"});try{angular.module("risevision.common.i18n.config")}catch(err){angular.module("risevision.common.i18n.config",[])}angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(t,e){function n(t,a){e(angular.extend({url:[t.prefix,t.key.toLowerCase(),t.suffix].join(""),method:"GET",params:""},t.$http)).then(function(t){a.resolve(t.data)},function(){if(t.key.indexOf("_")>=0){var e=t.key.substr(0,t.key.lastIndexOf("_")),i=angular.extend({},t,{key:e});n(i,a)}else a.resolve("{}")})}return function(e){if(!e||!angular.isString(e.prefix)||!angular.isString(e.suffix))throw new Error('Couldn"t load static files, no prefix or suffix specified!');var a=t.defer();return n(e,a),a.promise}}]),angular.module("risevision.common.i18n",["pascalprecht.translate","risevision.common.i18n.config"]).config(["$translateProvider","LOCALES_PREFIX","LOCALES_SUFIX",function(t,e,n){t.useStaticFilesLoader({prefix:e,suffix:n}),t.determinePreferredLanguage().fallbackLanguage("en").useSanitizeValueStrategy(null)}]),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.affix"),r="object"==typeof e&&e;i||a.data("bs.affix",i=new n(this,r)),"string"==typeof e&&i[e]()})}var n=function(e,a){this.options=t.extend({},n.DEFAULTS,a),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=t(document).height(),a=this.$target.scrollTop(),i=this.$element.offset(),r=this.options.offset,o=r.top,s=r.bottom;"object"!=typeof r&&(s=o=r),"function"==typeof o&&(o=r.top(this.$element)),"function"==typeof s&&(s=r.bottom(this.$element));var l=null!=this.unpin&&a+this.unpin<=i.top?!1:null!=s&&i.top+this.$element.height()>=e-s?"bottom":null!=o&&o>=a?"top":!1;if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=t.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(t.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:e-this.$element.height()-s}))}}};var a=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=a,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),a=n.data();a.offset=a.offset||{},a.offsetBottom&&(a.offset.bottom=a.offsetBottom),a.offsetTop&&(a.offset.top=a.offsetTop),e.call(n,a)})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new a(this)),"string"==typeof e&&i[e].call(n)})}var n='[data-dismiss="alert"]',a=function(e){t(e).on("click",n,this.close)};a.VERSION="3.2.0",a.prototype.close=function(e){function n(){r.detach().trigger("closed.bs.alert").remove()}var a=t(this),i=a.attr("data-target");i||(i=a.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var r=t(i);e&&e.preventDefault(),r.length||(r=a.hasClass("alert")?a:a.parent()),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var i=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=a,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",n,a.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.button"),r="object"==typeof e&&e;i||a.data("bs.button",i=new n(this,r)),"toggle"==e?i.toggle():e&&i.setState(e)})}var n=function(e,a){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,a),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",a=this.$element,i=a.is("input")?"val":"html",r=a.data();e+="Text",null==r.resetText&&a.data("resetText",a[i]()),a[i](null==r[e]?this.options[e]:r[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,a.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,a.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var a=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=a,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var a=t(n.target);a.hasClass("btn")||(a=a.closest(".btn")),e.call(a,"toggle"),n.preventDefault()})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.carousel"),r=t.extend({},n.DEFAULTS,a.data(),"object"==typeof e&&e),o="string"==typeof e?e:r.slide;i||a.data("bs.carousel",i=new n(this,r)),"number"==typeof e?i.to(e):o?i[o]():r.interval&&i.pause().cycle()})}var n=function(e,n){this.$element=t(e).on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.to=function(e){var n=this,a=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):a==e?this.pause().cycle():this.slide(e>a?"next":"prev",t(this.$items[e]))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this
},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,n){var a=this.$element.find(".item.active"),i=n||a[e](),r=this.interval,o="next"==e?"left":"right",s="next"==e?"first":"last",l=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[s]()}if(i.hasClass("active"))return this.sliding=!1;var c=i[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:o});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=t(this.$indicators.children()[this.getItemIndex(i)]);p&&p.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:c,direction:o});return t.support.transition&&this.$element.hasClass("slide")?(i.addClass(e),i[0].offsetWidth,a.addClass(o),i.addClass(o),a.one("bsTransitionEnd",function(){i.removeClass([e,o].join(" ")).addClass("active"),a.removeClass(["active",o].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(1e3*a.css("transition-duration").slice(0,-1))):(a.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(d)),r&&this.cycle(),this}};var a=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=a,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var a,i=t(this),r=t(i.attr("data-target")||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var o=t.extend({},r.data(),i.data()),s=i.attr("data-slide-to");s&&(o.interval=!1),e.call(r,o),s&&r.data("bs.carousel").to(s),n.preventDefault()}}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.collapse"),r=t.extend({},n.DEFAULTS,a.data(),"object"==typeof e&&e);!i&&r.toggle&&"show"==e&&(e=!e),i||a.data("bs.collapse",i=new n(this,r)),"string"==typeof e&&i[e]()})}var n=function(e,a){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,a),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var a=this.$parent&&this.$parent.find("> .panel > .in");if(a&&a.length){var i=a.data("bs.collapse");if(i&&i.transitioning)return;e.call(a,"hide"),i||a.data("bs.collapse",null)}var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var s=t.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(350)[r](this.$element[0][s])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?(this.$element[n](0).one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(350),void 0):a.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var a=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=a,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var a,i=t(this),r=i.attr("data-target")||n.preventDefault()||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""),o=t(r),s=o.data("bs.collapse"),l=s?"toggle":i.data(),c=i.attr("data-parent"),u=c&&t(c);s&&s.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(i).addClass("collapsed"),i[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(o,l)})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(i).remove(),t(r).each(function(){var a=n(t(this)),i={relatedTarget:this};a.hasClass("open")&&(a.trigger(e=t.Event("hide.bs.dropdown",i)),e.isDefaultPrevented()||a.removeClass("open").trigger("hidden.bs.dropdown",i))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var a=n&&t(n);return a&&a.length?a:e.parent()}function a(e){return this.each(function(){var n=t(this),a=n.data("bs.dropdown");a||n.data("bs.dropdown",a=new o(this)),"string"==typeof e&&a[e].call(n)})}var i=".dropdown-backdrop",r='[data-toggle="dropdown"]',o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.VERSION="3.2.0",o.prototype.toggle=function(a){var i=t(this);if(!i.is(".disabled, :disabled")){var r=n(i),o=r.hasClass("open");if(e(),!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var s={relatedTarget:this};if(r.trigger(a=t.Event("show.bs.dropdown",s)),a.isDefaultPrevented())return;i.trigger("focus"),r.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},o.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var a=t(this);if(e.preventDefault(),e.stopPropagation(),!a.is(".disabled, :disabled")){var i=n(a),o=i.hasClass("open");if(!o||o&&27==e.keyCode)return 27==e.which&&i.find(r).trigger("focus"),a.trigger("click");var s=" li:not(.divider):visible a",l=i.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(l.filter(":focus"));38==e.keyCode&&c>0&&c--,40==e.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=a,t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,o.prototype.toggle).on("keydown.bs.dropdown.data-api",r+', [role="menu"], [role="listbox"]',o.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.tab");i||a.data("bs.tab",i=new n(this)),"string"==typeof e&&i[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.2.0",n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),a=e.data("target");if(a||(a=e.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],r=t.Event("show.bs.tab",{relatedTarget:i});if(e.trigger(r),!r.isDefaultPrevented()){var o=t(a);this.activate(e.closest("li"),n),this.activate(o,o.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},n.prototype.activate=function(e,n,a){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),a&&a()}var r=n.find("> .active"),o=a&&t.support.transition&&r.hasClass("fade");o?r.one("bsTransitionEnd",i).emulateTransitionEnd(150):i(),r.removeClass("in")};var a=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=a,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),e.call(t(this),"show")})}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,a=this;t(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||t(a).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(n,a){var i=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(n).is("body")?t(window):t(n),this.options=t.extend({},e.DEFAULTS,a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var a=t(this),i=a.data("bs.scrollspy"),r="object"==typeof n&&n;i||a.data("bs.scrollspy",i=new e(this,r)),"string"==typeof n&&i[n]()})}e.VERSION="3.2.0",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",n=0;t.isWindow(this.$scrollElement[0])||(e="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var a=this;this.$body.find(this.selector).map(function(){var a=t(this),i=a.data("target")||a.attr("href"),r=/^#./.test(i)&&t(i);return r&&r.length&&r.is(":visible")&&[[r[e]().top+n,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){a.offsets.push(this[0]),a.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),a=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,r=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=a)return o!=(t=r[r.length-1])&&this.activate(t);if(o&&e<=i[0])return o!=(t=r[0])&&this.activate(t);for(t=i.length;t--;)o!=r[t]&&e>=i[t]&&(!i[t+1]||e<=i[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',a=t(n).parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active")),a.trigger("activate.bs.scrollspy")};var a=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=a,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e,a){return this.each(function(){var i=t(this),r=i.data("bs.modal"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);r||i.data("bs.modal",r=new n(this,o)),"string"==typeof e?r[e](a):o.show&&r.show(a)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var n=this,a=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var a=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),a&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=t.Event("shown.bs.modal",{relatedTarget:e});a?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var n=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&a;if(this.$backdrop=t('<div class="modal-backdrop '+a+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(150):r()}else e&&e()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var a=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=a,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var a=t(this),i=a.attr("href"),r=t(a.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},r.data(),a.data());a.is("a")&&n.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){a.is(":visible")&&a.trigger("focus")})}),e.call(r,o,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.tooltip"),r="object"==typeof e&&e;(i||"destroy"!=e)&&(i||a.data("bs.tooltip",i=new n(this,r)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,a){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(a),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),r=i.length;r--;){var o=i[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,a){n[t]!=a&&(e[t]=a)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var a=this,i=this.tip(),r=this.getUID(this.type);this.setContent(),i.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&i.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,l=s.test(o);l&&(o=o.replace(s,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var c=this.getPosition(),u=i[0].offsetWidth,p=i[0].offsetHeight;if(l){var d=o,f=this.$element.parent(),h=this.getPosition(f);o="bottom"==o&&c.top+c.height+p-h.scroll>h.height?"top":"top"==o&&c.top-h.scroll-p<0?"bottom":"right"==o&&c.right+u>h.width?"left":"left"==o&&c.left-u<h.left?"right":o,i.removeClass(d).addClass(o)}var g=this.getCalculatedOffset(o,c,u,p);this.applyPlacement(g,o);var m=function(){a.$element.trigger("shown.bs."+a.type),a.hoverState=null};t.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",m).emulateTransitionEnd(150):m()}},n.prototype.applyPlacement=function(e,n){var a=this.tip(),i=a[0].offsetWidth,r=a[0].offsetHeight,o=parseInt(a.css("margin-top"),10),s=parseInt(a.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),e.top=e.top+o,e.left=e.left+s,t.offset.setOffset(a[0],t.extend({using:function(t){a.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),a.addClass("in");var l=a[0].offsetWidth,c=a[0].offsetHeight;"top"==n&&c!=r&&(e.top=e.top+r-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var p=u.left?2*u.left-i+l:2*u.top-r+c,d=u.left?"left":"top",f=u.left?"offsetWidth":"offsetHeight";a.offset(e),this.replaceArrow(p,a[0][f],d)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function e(){"in"!=n.hoverState&&a.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,a=this.tip(),i=t.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(a.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],a="BODY"==n.tagName;return t.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:a?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:a?t(window).width():e.outerWidth(),height:a?t(window).height():e.outerHeight()},a?{top:0,left:0}:e.offset())},n.prototype.getCalculatedOffset=function(t,e,n,a){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-a,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-a/2,left:e.left-n}:{top:e.top+e.height/2-a/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,a){var i={top:0,left:0};if(!this.$viewport)return i;var r=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-r-o.scroll,l=e.top+r-o.scroll+a;s<o.top?i.top=o.top-s:l>o.top+o.height&&(i.top=o.top+o.height-l)}else{var c=e.left-r,u=e.left+r+n;c<o.left?i.left=o.left-c:u>o.width&&(i.left=o.left+o.width-u)}return i},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var a=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=a,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),i=a.data("bs.popover"),r="object"==typeof e&&e;(i||"destroy"!=e)&&(i||a.data("bs.popover",i=new n(this,r)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var a=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=a,this}}(jQuery),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(t){return{link:function(e,n,a){function i(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),t.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(r)}function r(){n.removeClass("collapsing"),n.css({height:"auto"})}function o(){return n.hasClass("collapse")||n.hasClass("in")?(n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),t.removeClass(n,"in",{to:{height:"0"}}).then(s),void 0):s()}function s(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}e.$watch(a.collapse,function(t){t?o():i()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(a){var i=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(t){t!==a&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,a){a.addGroup(t),t.$watch("isOpen",function(e){e&&a.closeOthers(t)}),t.toggleOpen=function(){t.isDisabled||(t.isOpen=!t.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(t,e,n,a,i){a.setHeading(i(t,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,a){t.$watch(function(){return a[n.accordionTransclude]},function(t){t&&(e.html(""),e.append(t))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable=!!e.close,this.close=t.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(t){return{require:"alert",link:function(e,n,a,i){t(function(){i.close()},parseInt(a.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(t,e){return function(n,a,i){e||t.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),a.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe),n.$watch(i.bindHtmlUnsafe,function(t){a.html(t||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(t,e,n,a){var i=a[0],r=a[1];r.$render=function(){e.toggleClass(i.activeClass,angular.equals(r.$modelValue,t.$eval(n.btnRadio)))},e.bind(i.toggleEvent,function(){var a=e.hasClass(i.activeClass);(!a||angular.isDefined(n.uncheckable))&&t.$apply(function(){r.$setViewValue(a?null:t.$eval(n.btnRadio)),r.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(t,e,n,a){function i(){return o(n.btnCheckboxTrue,!0)}function r(){return o(n.btnCheckboxFalse,!1)}function o(e,n){var a=t.$eval(e);return angular.isDefined(a)?a:n}var s=a[0],l=a[1];l.$render=function(){e.toggleClass(s.activeClass,angular.equals(l.$modelValue,i()))},e.bind(s.toggleEvent,function(){t.$apply(function(){l.$setViewValue(e.hasClass(s.activeClass)?r():i()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(t,e,n,a){function i(e,n,i){m||(angular.extend(e,{direction:i,active:!0}),angular.extend(p.currentSlide||{},{direction:i,active:!1}),a.enabled()&&!t.noTransition&&!t.$currentTransition&&e.$element&&(e.$element.data(h,e.direction),t.$currentTransition=!0,e.$element.one("$animate:close",function(){t.$currentTransition=null})),p.currentSlide=e,g=n,o())}function r(t){if(angular.isUndefined(d[t].index))return d[t];{var e;d.length}for(e=0;e<d.length;++e)if(d[e].index==t)return d[e]}function o(){s();var e=+t.interval;!isNaN(e)&&e>0&&(c=n(l,e))
}function s(){c&&(n.cancel(c),c=null)}function l(){var e=+t.interval;u&&!isNaN(e)&&e>0&&d.length?t.next():t.pause()}var c,u,p=this,d=p.slides=t.slides=[],f="uib-noTransition",h="uib-slideDirection",g=-1;p.currentSlide=null;var m=!1;p.select=t.select=function(e,n){var a=p.indexOfSlide(e);void 0===n&&(n=a>p.getCurrentIndex()?"next":"prev"),e&&e!==p.currentSlide&&!t.$currentTransition&&i(e,a,n)},t.$on("$destroy",function(){m=!0}),p.getCurrentIndex=function(){return p.currentSlide&&angular.isDefined(p.currentSlide.index)?+p.currentSlide.index:g},p.indexOfSlide=function(t){return angular.isDefined(t.index)?+t.index:d.indexOf(t)},t.next=function(){var e=(p.getCurrentIndex()+1)%d.length;return 0===e&&t.noWrap()?(t.pause(),void 0):p.select(r(e),"next")},t.prev=function(){var e=p.getCurrentIndex()-1<0?d.length-1:p.getCurrentIndex()-1;return t.noWrap()&&e===d.length-1?(t.pause(),void 0):p.select(r(e),"prev")},t.isActive=function(t){return p.currentSlide===t},t.$watch("interval",o),t.$on("$destroy",s),t.play=function(){u||(u=!0,o())},t.pause=function(){t.noPause||(u=!1,s())},p.addSlide=function(e,n){e.$element=n,d.push(e),1===d.length||e.active?(p.select(d[d.length-1]),1==d.length&&t.play()):e.active=!1},p.removeSlide=function(t){angular.isDefined(t.index)&&d.sort(function(t,e){return+t.index>+e.index});var e=d.indexOf(t);d.splice(e,1),d.length>0&&t.active?e>=d.length?p.select(d[e-1]):p.select(d[e]):g>e&&g--},t.$watch("noTransition",function(t){e.data(f,t)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(t,e,n,a){a.addSlide(t,e),t.$on("$destroy",function(){a.removeSlide(t)}),t.$watch("active",function(e){e&&a.select(t)})}}}).animation(".item",["$animate",function(t){var e="uib-noTransition",n="uib-slideDirection";return{beforeAddClass:function(a,i,r){if("active"==i&&a.parent()&&!a.parent().data(e)){var o=!1,s=a.data(n),l="next"==s?"left":"right";return a.addClass(s),t.addClass(a,l).then(function(){o||a.removeClass(l+" "+s),r()}),function(){o=!0}}r()},beforeRemoveClass:function(a,i,r){if("active"==i&&a.parent()&&!a.parent().data(e)){var o=!1,s=a.data(n),l="next"==s?"left":"right";return t.addClass(a,l).then(function(){o||a.removeClass(l),r()}),function(){o=!0}}r()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(t,e){function n(t){var n=[],a=t.split("");return angular.forEach(r,function(e,i){var r=t.indexOf(i);if(r>-1){t=t.split(""),a[r]="("+e.regex+")",t[r]="$";for(var o=r+1,s=r+i.length;s>o;o++)a[o]="",t[o]="$";t=t.join(""),n.push({index:r,apply:e.apply})}}),{regex:new RegExp("^"+a.join("")+"$"),map:e(n,"index")}}function a(t,e,n){return 1>n?!1:1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3===e||5===e||8===e||10===e?31>n:!0}var i=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var r={yyyy:{regex:"\\d{4}",apply:function(t){this.year=+t}},yy:{regex:"\\d{2}",apply:function(t){this.year=+t+2e3}},y:{regex:"\\d{1,4}",apply:function(t){this.year=+t}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1}},M:{regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t}},H:{regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t}},mm:{regex:"[0-5][0-9]",apply:function(t){this.minutes=+t}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t}},sss:{regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t}},ss:{regex:"[0-5][0-9]",apply:function(t){this.seconds=+t}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t}}};this.parse=function(e,r,o){if(!angular.isString(e)||!r)return e;r=t.DATETIME_FORMATS[r]||r,r=r.replace(i,"\\$&"),this.parsers[r]||(this.parsers[r]=n(r));var s=this.parsers[r],l=s.regex,c=s.map,u=e.match(l);if(u&&u.length){var p,d;p=o?{year:o.getFullYear(),month:o.getMonth(),date:o.getDate(),hours:o.getHours(),minutes:o.getMinutes(),seconds:o.getSeconds(),milliseconds:o.getMilliseconds()}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};for(var f=1,h=u.length;h>f;f++){var g=c[f-1];g.apply&&g.apply.call(p,u[f])}return a(p.year,p.month,p.date)&&(d=new Date(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0)),d}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function n(t,n){return t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n]}function a(t){return"static"===(n(t,"position")||"static")}var i=function(e){for(var n=t[0],i=e.offsetParent||n;i&&i!==n&&a(i);)i=i.offsetParent;return i||n};return{position:function(e){var n=this.offset(e),a={top:0,left:0},r=i(e[0]);r!=t[0]&&(a=this.offset(angular.element(r)),a.top+=r.clientTop-r.scrollTop,a.left+=r.clientLeft-r.scrollLeft);var o=e[0].getBoundingClientRect();return{width:o.width||e.prop("offsetWidth"),height:o.height||e.prop("offsetHeight"),top:n.top-a.top,left:n.left-a.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:a.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,n,a){var i,r,o,s,l=n.split("-"),c=l[0],u=l[1]||"center";i=a?this.offset(t):this.position(t),r=e.prop("offsetWidth"),o=e.prop("offsetHeight");var p={center:function(){return i.left+i.width/2-r/2},left:function(){return i.left},right:function(){return i.left+i.width}},d={center:function(){return i.top+i.height/2-o/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":s={top:d[u](),left:p[c]()};break;case"left":s={top:d[u](),left:i.left-r};break;case"bottom":s={top:d[c](),left:p[u]()};break;default:s={top:i.top-o,left:p[u]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig",function(t,e,n,a,i,r,o){var s=this,l={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,i){s[n]=angular.isDefined(e[n])?8>i?a(e[n])(t.$parent):t.$parent.$eval(e[n]):o[n]}),angular.forEach(["minDate","maxDate"],function(a){e[a]?t.$parent.$watch(n(e[a]),function(t){s[a]=t?new Date(t):null,s.refreshView()}):s[a]=o[a]?new Date(o[a]):null}),t.datepickerMode=t.datepickerMode||o.datepickerMode,t.maxMode=s.maxMode,t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(e.initDate)?(this.activeDate=t.$parent.$eval(e.initDate)||new Date,t.$parent.$watch(e.initDate,function(t){t&&(l.$isEmpty(l.$modelValue)||l.$invalid)&&(s.activeDate=t,s.refreshView())})):this.activeDate=new Date,t.isActive=function(e){return 0===s.compare(e.date,s.activeDate)?(t.activeDateId=e.uid,!0):!1},this.init=function(t){l=t,l.$render=function(){s.render()}},this.render=function(){if(l.$viewValue){var t=new Date(l.$viewValue),e=!isNaN(t);e?this.activeDate=t:i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),l.$setValidity("date",e)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var t=l.$viewValue?new Date(l.$viewValue):null;l.$setValidity("date-disabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=l.$viewValue?new Date(l.$viewValue):null;return{date:t,label:r(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),current:0===this.compare(t,new Date),customClass:this.customClass(t)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||e.dateDisabled&&t.dateDisabled({date:n,mode:t.datepickerMode})},this.customClass=function(e){return t.customClass({date:e,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},this.fixTimeZone=function(t){var e=t.getHours();t.setHours(23===e?e+2:0)},t.select=function(e){if(t.datepickerMode===s.minMode){var n=l.$viewValue?new Date(l.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),l.$setViewValue(n),l.$render()}else s.activeDate=e,t.datepickerMode=s.modes[s.modes.indexOf(t.datepickerMode)-1]},t.move=function(t){var e=s.activeDate.getFullYear()+t*(s.step.years||0),n=s.activeDate.getMonth()+t*(s.step.months||0);s.activeDate.setFullYear(e,n,1),s.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===s.maxMode&&1===e||t.datepickerMode===s.minMode&&-1===e||(t.datepickerMode=s.modes[s.modes.indexOf(t.datepickerMode)+e])},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){s.element[0].focus()};t.$on("datepicker.focus",c),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),s.shortcutPropagation||e.stopPropagation(),"enter"===n||"space"===n){if(s.isDisabled(s.activeDate))return;t.select(s.activeDate),c()}else!e.ctrlKey||"up"!==n&&"down"!==n?(s.handleKeyDown(n,e),s.refreshView()):(t.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(t,e,n,a){var i=a[0],r=a[1];r&&i.init(r)}}}).directive("daypicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(e,n,a,i){function r(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?l[e]:29}function o(t,e){for(var n,a=new Array(e),r=new Date(t),o=0;e>o;)n=new Date(r),i.fixTimeZone(n),a[o++]=n,r.setDate(r.getDate()+1);return a}function s(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}e.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),a=i.activeDate.getMonth(),r=new Date(n,a,1),l=i.startingDay-r.getDay(),c=l>0?7-l:-l,u=new Date(r);c>0&&u.setDate(-c+1);for(var p=o(u,42),d=0;42>d;d++)p[d]=angular.extend(i.createDateObject(p[d],i.formatDay),{secondary:p[d].getMonth()!==a,uid:e.uniqueId+"-"+d});e.labels=new Array(7);for(var f=0;7>f;f++)e.labels[f]={abbr:t(p[f].date,i.formatDayHeader),full:t(p[f].date,"EEEE")};if(e.title=t(i.activeDate,i.formatDayTitle),e.rows=i.split(p,7),e.showWeeks){e.weekNumbers=[];for(var h=(11-i.startingDay)%7,g=e.rows.length,m=0;g>m;m++)e.weekNumbers.push(s(e.rows[m][h].date))}},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},i.handleKeyDown=function(t){var e=i.activeDate.getDate();if("left"===t)e-=1;else if("up"===t)e-=7;else if("right"===t)e+=1;else if("down"===t)e+=7;else if("pageup"===t||"pagedown"===t){var n=i.activeDate.getMonth()+("pageup"===t?-1:1);i.activeDate.setMonth(n,1),e=Math.min(r(i.activeDate.getFullYear(),i.activeDate.getMonth()),e)}else"home"===t?e=1:"end"===t&&(e=r(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(e)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(e,n,a,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n,a=new Array(12),r=i.activeDate.getFullYear(),o=0;12>o;o++)n=new Date(r,o,1),i.fixTimeZone(n),a[o]=angular.extend(i.createDateObject(n,i.formatMonth),{uid:e.uniqueId+"-"+o});e.title=t(i.activeDate,i.formatMonthTitle),e.rows=i.split(a,3)},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},i.handleKeyDown=function(t){var e=i.activeDate.getMonth();if("left"===t)e-=1;else if("up"===t)e-=3;else if("right"===t)e+=1;else if("down"===t)e+=3;else if("pageup"===t||"pagedown"===t){var n=i.activeDate.getFullYear()+("pageup"===t?-1:1);i.activeDate.setFullYear(n)}else"home"===t?e=0:"end"===t&&(e=11);i.activeDate.setMonth(e)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(t,e,n,a){function i(t){return parseInt((t-1)/r,10)*r+1}var r=a.yearRange;a.step={years:r},a.element=e,a._refreshView=function(){for(var e,n=new Array(r),o=0,s=i(a.activeDate.getFullYear());r>o;o++)e=new Date(s+o,0,1),a.fixTimeZone(e),n[o]=angular.extend(a.createDateObject(e,a.formatYear),{uid:t.uniqueId+"-"+o});t.title=[n[0].label,n[r-1].label].join(" - "),t.rows=a.split(n,5)},a.compare=function(t,e){return t.getFullYear()-e.getFullYear()},a.handleKeyDown=function(t){var e=a.activeDate.getFullYear();"left"===t?e-=1:"up"===t?e-=5:"right"===t?e+=1:"down"===t?e+=5:"pageup"===t||"pagedown"===t?e+=("pageup"===t?-1:1)*a.step.years:"home"===t?e=i(a.activeDate.getFullYear()):"end"===t&&(e=i(a.activeDate.getFullYear())+r-1),a.activeDate.setFullYear(e)},a.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(t,e,n,a,i,r,o,s){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(l,c,u,p){function d(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function f(t){if(angular.isNumber(t)&&(t=new Date(t)),t){if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=r.parse(t,g,l.date)||new Date(t);return isNaN(e)?void 0:e}return void 0}return null}function h(t,e){var n=t||e;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var a=r.parse(n,g)||new Date(n);return!isNaN(a)}return!1}return!0}var g,m=angular.isDefined(u.closeOnDateSelection)?l.$parent.$eval(u.closeOnDateSelection):o.closeOnDateSelection,v=angular.isDefined(u.datepickerAppendToBody)?l.$parent.$eval(u.datepickerAppendToBody):o.appendToBody;l.showButtonBar=angular.isDefined(u.showButtonBar)?l.$parent.$eval(u.showButtonBar):o.showButtonBar,l.getText=function(t){return l[t+"Text"]||o[t+"Text"]};var b=!1;if(o.html5Types[u.type]?(g=o.html5Types[u.type],b=!0):(g=u.datepickerPopup||o.datepickerPopup,u.$observe("datepickerPopup",function(t){var e=t||o.datepickerPopup;if(e!==g&&(g=e,p.$modelValue=null,!g))throw new Error("datepickerPopup must have a date format specified.")})),!g)throw new Error("datepickerPopup must have a date format specified.");if(b&&u.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var y=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");y.attr({"ng-model":"date","ng-change":"dateSelection(date)"});var $=angular.element(y.children()[0]);if(b&&"month"==u.type&&($.attr("datepicker-mode",'"month"'),$.attr("min-mode","month")),u.datepickerOptions){var w=l.$parent.$eval(u.datepickerOptions);w.initDate&&(l.initDate=w.initDate,$.attr("init-date","initDate"),delete w.initDate),angular.forEach(w,function(t,e){$.attr(d(e),t)})}l.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(t){if(u[t]){var n=e(u[t]);if(l.$parent.$watch(n,function(e){l.watchData[t]=e}),$.attr(d(t),"watchData."+t),"datepickerMode"===t){var a=n.assign;l.$watch("watchData."+t,function(t,e){angular.isFunction(a)&&t!==e&&a(l.$parent,t)})}}}),u.dateDisabled&&$.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),u.showWeeks&&$.attr("show-weeks",u.showWeeks),u.customClass&&$.attr("custom-class","customClass({ date: date, mode: mode })"),b?p.$formatters.push(function(t){return l.date=t,t}):(p.$$parserName="date",p.$validators.date=h,p.$parsers.unshift(f),p.$formatters.push(function(t){return l.date=t,p.$isEmpty(t)?t:i(t,g)})),l.dateSelection=function(t){angular.isDefined(t)&&(l.date=t);var e=l.date?i(l.date,g):"";c.val(e),p.$setViewValue(e),m&&(l.isOpen=!1,c[0].focus())},p.$viewChangeListeners.push(function(){l.date=r.parse(p.$viewValue,g,l.date)||new Date(p.$viewValue)});var x=function(t){l.isOpen&&t.target!==c[0]&&l.$apply(function(){l.isOpen=!1})},k=function(t){27===t.which&&l.isOpen?(t.preventDefault(),t.stopPropagation(),l.$apply(function(){l.isOpen=!1}),c[0].focus()):40!==t.which||l.isOpen||(t.preventDefault(),t.stopPropagation(),l.$apply(function(){l.isOpen=!0}))};c.bind("keydown",k),l.keydown=function(t){27===t.which&&(l.isOpen=!1,c[0].focus())},l.$watch("isOpen",function(t){t?(l.position=v?a.offset(c):a.position(c),l.position.top=l.position.top+c.prop("offsetHeight"),n.bind("click",x),s(function(){l.$broadcast("datepicker.focus")},0,!1)):n.unbind("click",x)}),l.select=function(t){if("today"===t){var e=new Date;angular.isDate(l.date)?(t=new Date(l.date),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate())):t=new Date(e.setHours(0,0,0,0))}l.dateSelection(t)},l.close=function(){l.isOpen=!1,c[0].focus()};var C=t(y)(l);y.remove(),v?n.find("body").append(C):c.after(C),l.$on("$destroy",function(){l.isOpen===!0&&l.$apply(function(){l.isOpen=!1}),C.remove(),c.unbind("keydown",k),n.unbind("click",x)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html"}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(t,e){var n=null;this.open=function(e){n||(t.bind("click",a),t.bind("keydown",i)),n&&n!==e&&(n.isOpen=!1),n=e},this.close=function(e){n===e&&(n=null,t.unbind("click",a),t.unbind("keydown",i))};var a=function(t){if(n&&(!t||"disabled"!==n.getAutoClose())){var a=n.getToggleElement();if(!(t&&a&&a[0].contains(t.target))){var i=n.getDropdownElement();t&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(t.target)||(n.isOpen=!1,e.$$phase||n.$apply())}}},i=function(t){27===t.which?(n.focusToggleElement(),a()):n.isKeynavEnabled()&&/(38|40)/.test(t.which)&&n.isOpen&&(t.preventDefault(),t.stopPropagation(),n.focusDropdownEntry(t.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(t,e,n,a,i,r,o,s,l,c){var u,p,d=this,f=t.$new(),h=a.openClass,g=angular.noop,m=e.onToggle?n(e.onToggle):angular.noop,v=!1,b=!1;this.init=function(a){d.$element=a,e.isOpen&&(p=n(e.isOpen),g=p.assign,t.$watch(p,function(t){f.isOpen=!!t})),v=angular.isDefined(e.dropdownAppendToBody),b=angular.isDefined(e.keyboardNav),v&&d.dropdownMenu&&(s.find("body").append(d.dropdownMenu),a.on("$destroy",function(){d.dropdownMenu.remove()}))},this.toggle=function(t){return f.isOpen=arguments.length?!!t:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return d.toggleElement},f.getAutoClose=function(){return e.autoClose||"always"},f.getElement=function(){return d.$element},f.isKeynavEnabled=function(){return b},f.focusDropdownEntry=function(t){var e=d.dropdownMenu?angular.element(d.dropdownMenu).find("a"):angular.element(d.$element).find("ul").eq(0).find("a");switch(t){case 40:d.selectedOption=angular.isNumber(d.selectedOption)?d.selectedOption===e.length-1?d.selectedOption:d.selectedOption+1:0;break;case 38:if(!angular.isNumber(d.selectedOption))return;d.selectedOption=0===d.selectedOption?0:d.selectedOption-1}e[d.selectedOption].focus()},f.getDropdownElement=function(){return d.dropdownMenu},f.focusToggleElement=function(){d.toggleElement&&d.toggleElement[0].focus()},f.$watch("isOpen",function(e,n){if(v&&d.dropdownMenu){var a=o.positionElements(d.$element,d.dropdownMenu,"bottom-left",!0),s={top:a.top+"px",display:e?"block":"none"},p=d.dropdownMenu.hasClass("dropdown-menu-right");p?(s.left="auto",s.right=window.innerWidth-(a.left+d.$element.prop("offsetWidth"))+"px"):(s.left=a.left+"px",s.right="auto"),d.dropdownMenu.css(s)}if(r[e?"addClass":"removeClass"](d.$element,h).then(function(){angular.isDefined(e)&&e!==n&&m(t,{open:!!e})}),e)d.dropdownMenuTemplateUrl&&c(d.dropdownMenuTemplateUrl).then(function(t){u=f.$new(),l(t.trim())(u,function(t){var e=t;d.dropdownMenu.replaceWith(e),d.dropdownMenu=e})}),f.focusToggleElement(),i.open(f);else{if(d.dropdownMenuTemplateUrl){u&&u.$destroy();var b=angular.element('<ul class="dropdown-menu"></ul>');d.dropdownMenu.replaceWith(b),d.dropdownMenu=b}i.close(f),d.selectedOption=null}g(t,e)}),t.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)}),t.$on("$destroy",function(){f.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(t,e,n,a){a.init(e),e.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(t,e,n,a){if(a){var i=n.templateUrl;i&&(a.dropdownMenuTemplateUrl=i),a.dropdownMenu||(a.dropdownMenu=e)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(t,e,n,a){e.bind("keydown",function(t){if(-1!==[38,40].indexOf(t.which)){t.preventDefault(),t.stopPropagation();var n=angular.element(e).find("a");switch(t.keyCode){case 40:a.selectedOption=angular.isNumber(a.selectedOption)?a.selectedOption===n.length-1?a.selectedOption:a.selectedOption+1:0;break;case 38:a.selectedOption=0===a.selectedOption?0:a.selectedOption-1}n[a.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(t,e,n,a){if(a){e.addClass("dropdown-toggle"),a.toggleElement=e;var i=function(i){i.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){a.toggle()})};e.bind("click",i),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(a.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e==t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,a=0;a<t.length;a++)if(e==t[a].key){n=a;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}).directive("modalBackdrop",["$animate","$modalStack",function(t,e){function n(n,a,i){i.modalInClass&&(t.addClass(a,i.modalInClass),n.$on(e.NOW_CLOSING_EVENT,function(e,n){var r=n();t.removeClass(a,i.modalInClass).then(r)}))}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(t,e){return t.addClass(e.backdropClass),n}}}]).directive("modalWindow",["$modalStack","$q","$animate",function(t,e,n){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/modal/window.html"},link:function(a,i,r){i.addClass(r.windowClass||""),a.size=r.size,a.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))},a.$isRendered=!0;var o=e.defer();r.$observe("modalRender",function(t){"true"==t&&o.resolve()}),o.promise.then(function(){r.modalInClass&&(n.addClass(i,r.modalInClass),a.$on(t.NOW_CLOSING_EVENT,function(t,e){var a=e();n.removeClass(i,r.modalInClass).then(a)}));var e=i[0].querySelectorAll("[autofocus]");e.length?e[0].focus():i[0].focus();var o=t.getTop();o&&t.modalRendered(o.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(t,e,n,a,i){i(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$$stackedMap",function(t,e,n,a,i,r,o){function s(){for(var t=-1,e=g.keys(),n=0;n<e.length;n++)g.get(e[n]).value.backdrop&&(t=n);return t}function l(t,e){var a=n.find("body").eq(0),i=g.get(t).value;g.remove(t),u(i.modalDomEl,i.modalScope,function(){a.toggleClass(h,g.length()>0),c()}),e&&e.focus?e.focus():a.focus()}function c(){if(d&&-1==s()){var t=f;u(d,f,function(){t=null}),d=void 0,f=void 0}}function u(t,e,n){function a(){a.done||(a.done=!0,t.remove(),e.$destroy(),n&&n())}var i,o=null,s=function(){return i||(i=r.defer(),o=i.promise),function(){i.resolve()}};return e.$broadcast(m.NOW_CLOSING_EVENT,s),r.when(o).then(a)}function p(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}var d,f,h="modal-open",g=o.createNew(),m={NOW_CLOSING_EVENT:"modal.stack.now-closing"};return i.$watch(s,function(t){f&&(f.index=t)}),n.bind("keydown",function(t){var e;27===t.which&&(e=g.top(),e&&e.value.keyboard&&(t.preventDefault(),i.$apply(function(){m.dismiss(e.key,"escape key press")})))}),m.open=function(t,e){var r=n[0].activeElement;g.add(t,{deferred:e.deferred,renderDeferred:e.renderDeferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var o=n.find("body").eq(0),l=s();if(l>=0&&!d){f=i.$new(!0),f.index=l;var c=angular.element('<div modal-backdrop="modal-backdrop"></div>');c.attr("backdrop-class",e.backdropClass),e.animation&&c.attr("modal-animation","true"),d=a(c)(f),o.append(d)}var u=angular.element('<div modal-window="modal-window"></div>');u.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:g.length()-1,animate:"animate"}).html(e.content),e.animation&&u.attr("modal-animation","true");var p=a(u)(e.scope);g.top().value.modalDomEl=p,g.top().value.modalOpener=r,o.append(p),o.addClass(h)},m.close=function(t,e){var n=g.get(t);return n&&p(n,e,!0)?(n.value.deferred.resolve(e),l(t,n.value.modalOpener),!0):!n},m.dismiss=function(t,e){var n=g.get(t);return n&&p(n,e,!1)?(n.value.deferred.reject(e),l(t,n.value.modalOpener),!0):!n},m.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},m.getTop=function(){return g.top()},m.modalRendered=function(t){var e=g.get(t);e&&e.value.renderDeferred.resolve()},m}]).provider("$modal",function(){var t={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(e,n,a,i,r,o){function s(t){return t.template?a.when(t.template):i(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl)}function l(t){var n=[];return angular.forEach(t,function(t){(angular.isFunction(t)||angular.isArray(t))&&n.push(a.when(e.invoke(t)))}),n}var c={};return c.open=function(e){var i=a.defer(),c=a.defer(),u=a.defer(),p={result:i.promise,opened:c.promise,rendered:u.promise,close:function(t){return o.close(p,t)},dismiss:function(t){return o.dismiss(p,t)}};if(e=angular.extend({},t.options,e),e.resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var d=a.all([s(e)].concat(l(e.resolve)));return d.then(function(t){var a=(e.scope||n).$new();a.$close=p.close,a.$dismiss=p.dismiss;var s,l={},c=1;e.controller&&(l.$scope=a,l.$modalInstance=p,angular.forEach(e.resolve,function(e,n){l[n]=t[c++]}),s=r(e.controller,l),e.controllerAs&&(e.bindToController?angular.extend(a,s):a[e.controllerAs]=s)),o.open(p,{scope:a,deferred:i,renderDeferred:u,content:t[0],animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size})},function(t){i.reject(t)}),d.then(function(){c.resolve(!0)},function(t){c.reject(t)}),p},c}]};return t}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(t,e,n){var a=this,i={$setViewValue:angular.noop},r=e.numPages?n(e.numPages).assign:angular.noop;this.init=function(o,s){i=o,this.config=s,i.$render=function(){a.render()},e.itemsPerPage?t.$parent.$watch(n(e.itemsPerPage),function(e){a.itemsPerPage=parseInt(e,10),t.totalPages=a.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,t.$watch("totalItems",function(){t.totalPages=a.calculateTotalPages()}),t.$watch("totalPages",function(e){r(t.$parent,e),t.page>e?t.selectPage(e):i.$render()})},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){t.page=parseInt(i.$viewValue,10)||1},t.selectPage=function(e,n){var a=!t.ngDisabled||!n;a&&t.page!==e&&e>0&&e<=t.totalPages&&(n&&n.target&&n.target.blur(),i.$setViewValue(e),i.$render())},t.getText=function(e){return t[e+"Text"]||a.config[e+"Text"]},t.noPrevious=function(){return 1===t.page},t.noNext=function(){return t.page===t.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,a,i,r){function o(t,e,n){return{number:t,text:e,active:n}}function s(t,e){var n=[],a=1,i=e,r=angular.isDefined(u)&&e>u;r&&(p?(a=Math.max(t-Math.floor(u/2),1),i=a+u-1,i>e&&(i=e,a=i-u+1)):(a=(Math.ceil(t/u)-1)*u+1,i=Math.min(a+u-1,e)));for(var s=a;i>=s;s++){var l=o(s,s,s===t);n.push(l)}if(r&&!p){if(a>1){var c=o(a-1,"...",!1);n.unshift(c)}if(e>i){var d=o(i+1,"...",!1);n.push(d)}}return n}var l=r[0],c=r[1];if(c){var u=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):e.maxSize,p=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):e.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):e.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):e.directionLinks,l.init(c,e),i.maxSize&&n.$parent.$watch(t(i.maxSize),function(t){u=parseInt(t,10),l.render()});var d=l.render;l.render=function(){d(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))
}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,n,a,i){var r=i[0],o=i[1];o&&(e.align=angular.isDefined(a.align)?e.$parent.$eval(a.align):t.align,r.init(o,t))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur"},a={};this.options=function(t){angular.extend(a,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(i,r,o,s,l,c){return function(i,u,p,d){function f(t){var e=t||d.trigger||p,a=n[e]||e;return{show:e,hide:a}}d=angular.extend({},e,a,d);var h=t(i),g=c.startSymbol(),m=c.endSymbol(),v="<div "+h+'-popup title="'+g+"title"+m+'" '+(d.useContentExp?'content-exp="contentExp()" ':'content="'+g+"content"+m+'" ')+'placement="'+g+"placement"+m+'" popup-class="'+g+"popupClass"+m+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var t=r(v);return function(e,n,a){function r(){M.isOpen?p():c()}function c(){(!O||e.$eval(a[u+"Enable"]))&&(b(),M.popupDelay?D||(D=o(h,M.popupDelay,!1),D.then(function(t){t()})):h()())}function p(){e.$apply(function(){g()})}function h(){return D=null,T&&(o.cancel(T),T=null),(d.useContentExp?M.contentExp():M.content)?(m(),k.css({top:0,left:0,display:"block"}),M.$digest(),P(),M.isOpen=!0,M.$apply(),P):angular.noop}function g(){M.isOpen=!1,o.cancel(D),D=null,M.animation?T||(T=o(v,500)):v()}function m(){k&&v(),C=M.$new(),k=t(C,function(t){E?s.find("body").append(t):n.after(t)}),C.$watch(function(){o(P,0,!1)}),d.useContentExp&&C.$watch("contentExp()",function(t){!t&&M.isOpen&&g()})}function v(){T=null,k&&(k.remove(),k=null),C&&(C.$destroy(),C=null)}function b(){y(),$(),w()}function y(){M.popupClass=a[u+"Class"]}function $(){var t=a[u+"Placement"];M.placement=angular.isDefined(t)?t:d.placement}function w(){var t=a[u+"PopupDelay"],e=parseInt(t,10);M.popupDelay=isNaN(e)?d.popupDelay:e}function x(){var t=a[u+"Trigger"];A(),S=f(t),S.show===S.hide?n.bind(S.show,r):(n.bind(S.show,c),n.bind(S.hide,p))}var k,C,T,D,E=angular.isDefined(d.appendToBody)?d.appendToBody:!1,S=f(void 0),O=angular.isDefined(a[u+"Enable"]),M=e.$new(!0),P=function(){if(k){var t=l.positionElements(n,k,M.placement,E);t.top+="px",t.left+="px",k.css(t)}};M.origScope=e,M.isOpen=!1,M.contentExp=function(){return e.$eval(a[i])},d.useContentExp||a.$observe(i,function(t){M.content=t,!t&&M.isOpen&&g()}),a.$observe("disabled",function(t){t&&M.isOpen&&g()}),a.$observe(u+"Title",function(t){M.title=t});var A=function(){n.unbind(S.show,c),n.unbind(S.hide,p)};x();var I=e.$eval(a[u+"Animation"]);M.animation=angular.isDefined(I)?!!I:d.animation;var L=e.$eval(a[u+"AppendToBody"]);E=angular.isDefined(L)?L:E,E&&e.$on("$locationChangeSuccess",function(){M.isOpen&&g()}),e.$on("$destroy",function(){o.cancel(T),o.cancel(D),A(),v(),M=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(t,e,n,a){return{link:function(i,r,o){var s,l,c,u=i.$eval(o.tooltipTemplateTranscludeScope),p=0,d=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(t.leave(c).then(function(){l=null}),l=c,c=null)};i.$watch(e.parseAsResourceUrl(o.tooltipTemplateTransclude),function(e){var o=++p;e?(a(e,!0).then(function(a){if(o===p){var i=u.$new(),l=a,f=n(l)(i,function(e){d(),t.enter(e,r)});s=i,c=f,s.$emit("$includeContentLoaded",e)}},function(){o===p&&(d(),i.$emit("$includeContentError",e))}),i.$emit("$includeContentRequested",e)):d()}),i.$on("$destroy",d)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(t,e,n){t.placement&&e.addClass(t.placement),t.popupClass&&e.addClass(t.popupClass),t.animation()&&e.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(t){return t("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(t){return t("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(t,e,n){return e||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(t){return t("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(t,e,n){var a=this,i=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=angular.isDefined(t.max)?t.max:n.max,this.addBar=function(e,n){i||n.css({transition:"none"}),this.bars.push(e),e.max=t.max,e.$watch("value",function(){e.recalculatePercentage()}),e.recalculatePercentage=function(){e.percent=+(100*e.value/e.max).toFixed(2)},e.$on("$destroy",function(){n=null,a.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1)},t.$watch("max",function(){a.bars.forEach(function(e){e.max=t.max,e.recalculatePercentage()})})}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,a){a.addBar(t,e)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,a){a.addBar(t,angular.element(e.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(t,e,n){var a={$setViewValue:angular.noop};this.init=function(i){a=i,a.$render=this.render,a.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff;var r=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff},t[e]);return t},t.rate=function(e){!t.readonly&&e>=0&&e<=t.range.length&&(a.$setViewValue(a.$viewValue===e?0:e),a.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=a.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=a.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(t,e,n,a){var i=a[0],r=a[1];i.init(r)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var e=this,n=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(n,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect())}),t.active=!0,t.onSelect()},e.addTab=function(t){n.push(t),1===n.length&&t.active!==!1?t.active=!0:t.active?e.select(t):t.active=!1},e.removeTab=function(t){var i=n.indexOf(t);if(t.active&&n.length>1&&!a){var r=i==n.length-1?i-1:i+1;e.select(n[r])}n.splice(i,1)};var a;t.$on("$destroy",function(){a=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=angular.isDefined(n.vertical)?t.$parent.$eval(n.vertical):!1,t.justified=angular.isDefined(n.justified)?t.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse","$log",function(t,e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(n,a,i){return function(n,a,r,o){n.$watch("active",function(t){t&&o.select(n)}),n.disabled=!1,r.disable&&n.$parent.$watch(t(r.disable),function(t){n.disabled=!!t}),r.disabled&&(e.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(t(r.disabled),function(t){n.disabled=!!t})),n.select=function(){n.disabled||(n.active=!0)},o.addTab(n),n.$on("$destroy",function(){o.removeTab(n)}),n.$transcludeFn=i}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(e,n,a){var i=e.$eval(a.tabContentTransclude);i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){t(e)?i.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(t,e,n,a,i,r){function o(){var e=parseInt(t.hours,10),n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n?(t.showMeridian&&(12===e&&(e=0),t.meridian===g[1]&&(e+=12)),e):void 0}function s(){var e=parseInt(t.minutes,10);return e>=0&&60>e?e:void 0}function l(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t.toString()}function c(t){u(),h.$setViewValue(new Date(f)),p(t)}function u(){h.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1}function p(e){var n=f.getHours(),a=f.getMinutes();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:l(n),"m"!==e&&(t.minutes=l(a)),t.meridian=f.getHours()<12?g[0]:g[1]}function d(t){var e=new Date(f.getTime()+6e4*t);f.setHours(e.getHours(),e.getMinutes()),c()}var f=new Date,h={$setViewValue:angular.noop},g=angular.isDefined(e.meridians)?t.$parent.$eval(e.meridians):r.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,a){h=n,h.$render=this.render,h.$formatters.unshift(function(t){return t?new Date(t):null});var i=a.eq(0),o=a.eq(1),s=angular.isDefined(e.mousewheel)?t.$parent.$eval(e.mousewheel):r.mousewheel;s&&this.setupMousewheelEvents(i,o);var l=angular.isDefined(e.arrowkeys)?t.$parent.$eval(e.arrowkeys):r.arrowkeys;l&&this.setupArrowkeyEvents(i,o),t.readonlyInput=angular.isDefined(e.readonlyInput)?t.$parent.$eval(e.readonlyInput):r.readonlyInput,this.setupInputEvents(i,o)};var m=r.hourStep;e.hourStep&&t.$parent.$watch(n(e.hourStep),function(t){m=parseInt(t,10)});var v=r.minuteStep;e.minuteStep&&t.$parent.$watch(n(e.minuteStep),function(t){v=parseInt(t,10)}),t.showMeridian=r.showMeridian,e.showMeridian&&t.$parent.$watch(n(e.showMeridian),function(e){if(t.showMeridian=!!e,h.$error.time){var n=o(),a=s();angular.isDefined(n)&&angular.isDefined(a)&&(f.setHours(n),c())}else p()}),this.setupMousewheelEvents=function(e,n){var a=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){t.$apply(a(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.bind("mousewheel wheel",function(e){t.$apply(a(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,n){e.bind("keydown",function(e){38===e.which?(e.preventDefault(),t.incrementHours(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementHours(),t.$apply())}),n.bind("keydown",function(e){38===e.which?(e.preventDefault(),t.incrementMinutes(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementMinutes(),t.$apply())})},this.setupInputEvents=function(e,n){if(t.readonlyInput)return t.updateHours=angular.noop,t.updateMinutes=angular.noop,void 0;var a=function(e,n){h.$setViewValue(null),h.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(n)&&(t.invalidMinutes=n)};t.updateHours=function(){var t=o();angular.isDefined(t)?(f.setHours(t),c("h")):a(!0)},e.bind("blur",function(){!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=l(t.hours)})}),t.updateMinutes=function(){var t=s();angular.isDefined(t)?(f.setMinutes(t),c("m")):a(void 0,!0)},n.bind("blur",function(){!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=l(t.minutes)})})},this.render=function(){var t=h.$viewValue;isNaN(t)?(h.$setValidity("time",!1),a.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(f=t),u(),p())},t.showSpinners=angular.isDefined(e.showSpinners)?t.$parent.$eval(e.showSpinners):r.showSpinners,t.incrementHours=function(){d(60*m)},t.decrementHours=function(){d(60*-m)},t.incrementMinutes=function(){d(v)},t.decrementMinutes=function(){d(-v)},t.toggleMeridian=function(){d(720*(f.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(t,e,n,a){var i=a[0],r=a[1];r&&i.init(r,e.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(t,e,n,a,i){function r(t){for(var e in t)if(void 0!==s.style[e])return t[e]}i||a.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var o=function(a,i,r){r=r||{};var s=t.defer(),l=o[r.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){a.unbind(l,c),s.resolve(a)})};return l&&a.bind(l,c),e(function(){angular.isString(i)?a.addClass(i):angular.isFunction(i)?i(a):angular.isObject(i)&&a.css(i),l||s.resolve(a)}),s.promise.cancel=function(){l&&a.unbind(l,c),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},c={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return o.transitionEndEventName=r(l),o.animationEndEventName=r(c),o}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var a=n.match(e);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:t(a[4]),viewMapper:t(a[2]||a[1]),modelMapper:t(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(t,e,n,a,i,r,o,s,l){var c=[9,13,27,38,40],u=200;return{require:"ngModel",link:function(p,d,f,h){function g(){M.moveInProgress||(M.moveInProgress=!0,M.$digest()),F&&a.cancel(F),F=a(function(){M.matches.length&&m(),M.moveInProgress=!1,M.$digest()},u)}function m(){M.position=D?s.offset(d):s.position(d),M.position.top+=d.prop("offsetHeight")}var v=p.$eval(f.typeaheadMinLength);v||0===v||(v=1);var b,y,$=p.$eval(f.typeaheadWaitMs)||0,w=p.$eval(f.typeaheadEditable)!==!1,x=e(f.typeaheadLoading).assign||angular.noop,k=e(f.typeaheadOnSelect),C=angular.isDefined(f.typeaheadSelectOnBlur)?p.$eval(f.typeaheadSelectOnBlur):!1,T=f.typeaheadInputFormatter?e(f.typeaheadInputFormatter):void 0,D=f.typeaheadAppendToBody?p.$eval(f.typeaheadAppendToBody):!1,E=p.$eval(f.typeaheadFocusFirst)!==!1,S=e(f.ngModel).assign,O=l.parse(f.typeahead),M=p.$new();p.$on("$destroy",function(){M.$destroy()});var P="typeahead-"+M.$id+"-"+Math.floor(1e4*Math.random());d.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":P});var A=angular.element("<div typeahead-popup></div>");A.attr({id:P,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(f.typeaheadTemplateUrl)&&A.attr("template-url",f.typeaheadTemplateUrl);var I=function(){M.matches=[],M.activeIdx=-1,d.attr("aria-expanded",!1)},L=function(t){return P+"-option-"+t};M.$watch("activeIdx",function(t){0>t?d.removeAttr("aria-activedescendant"):d.attr("aria-activedescendant",L(t))});var N=function(t){var e={$viewValue:t};x(p,!0),n.when(O.source(p,e)).then(function(n){var a=t===h.$viewValue;if(a&&b)if(n&&n.length>0){M.activeIdx=E?0:-1,M.matches.length=0;for(var i=0;i<n.length;i++)e[O.itemName]=n[i],M.matches.push({id:L(i),label:O.viewMapper(M,e),model:n[i]});M.query=t,m(),d.attr("aria-expanded",!0)}else I();a&&x(p,!1)},function(){I(),x(p,!1)})};D&&(angular.element(r).bind("resize",g),i.find("body").bind("scroll",g));var F;M.moveInProgress=!1,I(),M.query=void 0;var j,V=function(t){j=a(function(){N(t)},$)},U=function(){j&&a.cancel(j)};h.$parsers.unshift(function(t){return b=!0,0===v||t&&t.length>=v?$>0?(U(),V(t)):N(t):(x(p,!1),U(),I()),w?t:t?(h.$setValidity("editable",!1),void 0):(h.$setValidity("editable",!0),t)}),h.$formatters.push(function(t){var e,n,a={};return w||h.$setValidity("editable",!0),T?(a.$model=t,T(p,a)):(a[O.itemName]=t,e=O.viewMapper(p,a),a[O.itemName]=void 0,n=O.viewMapper(p,a),e!==n?e:t)}),M.select=function(t){var e,n,i={};y=!0,i[O.itemName]=n=M.matches[t].model,e=O.modelMapper(p,i),S(p,e),h.$setValidity("editable",!0),h.$setValidity("parse",!0),k(p,{$item:n,$model:e,$label:O.viewMapper(p,i)}),I(),a(function(){d[0].focus()},0,!1)},d.bind("keydown",function(t){if(0!==M.matches.length&&-1!==c.indexOf(t.which)&&(-1!==M.activeIdx||13!==t.which)){if(-1===M.activeIdx&&9===t.which)return I(),M.$digest(),void 0;t.preventDefault(),40===t.which?(M.activeIdx=(M.activeIdx+1)%M.matches.length,M.$digest()):38===t.which?(M.activeIdx=(M.activeIdx>0?M.activeIdx:M.matches.length)-1,M.$digest()):13===t.which||9===t.which?M.$apply(function(){M.select(M.activeIdx)}):27===t.which&&(t.stopPropagation(),I(),M.$digest())}}),d.bind("blur",function(){C&&M.matches.length&&-1!==M.activeIdx&&!y&&(y=!0,M.$apply(function(){M.select(M.activeIdx)})),b=!1,y=!1});var H=function(t){d[0]!==t.target&&3!==t.which&&(I(),o.$$phase||M.$digest())};i.bind("click",H),p.$on("$destroy",function(){i.unbind("click",H),D&&R.remove(),A.remove()});var R=t(A)(M);D?i.find("body").append(R):d.after(R)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(a,i,r){var o=n(r.templateUrl)(a.$parent)||"template/typeahead/typeahead-match.html";t(o).then(function(t){e(t.trim())(a,function(t){i.replaceWith(t)})})}}}]).filter("typeaheadHighlight",function(){function t(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,n){return n?(""+e).replace(new RegExp(t(n),"gi"),"<strong>$&</strong>"):e}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href="#" tabindex="0" class="accordion-toggle" ng-click="$event.preventDefault(); toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:\'index\' track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(t){t.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n	ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')
}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href="#" ng-click="$event.preventDefault(); select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-match.html",'<a href="#" ng-click="$event.preventDefault()" tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),function(){"use strict";angular.module("risevision.widget.common.widget-button-toolbar",["risevision.common.i18n"]).directive("widgetButtonToolbar",["$templateCache",function(t){return{restrict:"E",scope:{save:"&",cancel:"&",disableSave:"&"},template:t.get("_angular/widget-button-toolbar/widget-button-toolbar.html")}}])}(),function(t){try{t=angular.module("risevision.widget.common.widget-button-toolbar")}catch(e){t=angular.module("risevision.widget.common.widget-button-toolbar",[])}t.run(["$templateCache",function(t){"use strict";t.put("_angular/widget-button-toolbar/widget-button-toolbar.html",'<div class="pull-right">\n  <button id="save" class="btn btn-primary btn-fixed-width" type="button" ng-click="save()" ng-disabled="disableSave()">\n    <span>{{"common.save" | translate}}</span>\n    <i class="fa fa-white fa-check icon-right"></i>\n  </button>\n  <button id="cancel" class="btn btn-default btn-fixed-width" type="button" ng-click="cancel()">\n    <span>{{"common.cancel" | translate}}</span>\n    <i class="fa fa-white fa-times icon-right"></i>\n  </button>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.tooltip",["ui.bootstrap"]).directive("rvTooltip",[function(){return{restrict:"A",link:function(t,e){e.addClass("fa"),e.addClass("fa-question-circle"),e.addClass("fa-lg")}}}])}(),function(){"use strict";angular.module("risevision.widget.common.url-field",["risevision.common.i18n","risevision.widget.common.tooltip"]).directive("urlField",["$templateCache","$log",function(t,e){return{restrict:"E",require:"?ngModel",scope:{url:"=",hideLabel:"@",fileType:"@"},template:t.get("_angular/url-field/url-field.html"),link:function(t,n,a,i){function r(t,e){var n,a=t.toLowerCase();switch(e){case"image":n=[".jpg",".jpeg",".png",".bmp",".svg",".gif"];break;case"video":n=[".webm",".mp4",".ogv",".ogg"];break;default:n=[]}for(var i=0,r=n.length;r>i;i++)if(-1!==a.indexOf(n[i]))return!0;return!1}function o(){if("undefined"!==t.fileType&&"undefined"!==t.url&&"image"===t.fileType){var e=new Image;e.onload=function(){t.valid=!0,t.$apply()},e.onerror=function(){t.valid=!1,t.invalidType=t.fileType,t.$apply()},e.src=t.url}}function s(e){var n,a;return n=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,-1===e.indexOf("://")&&(e="http://"+e),a=n.test(e),a&&"undefined"!=typeof t.fileType?(a=r(e,t.fileType),a||(t.invalidType=t.fileType)):t.invalidType="url",a&&o(),a}t.doValidation=!0,t.forcedValid=!1,t.valid=!0,t.invalidType="url",t.allowInitEmpty="undefined"!=typeof a.initEmpty,t.blur=function(){t.$emit("urlFieldBlur")},t.$watch("url",function(e){"undefined"!=typeof e&&null!==e&&(""!==e&&t.allowInitEmpty&&(t.allowInitEmpty=!1),t.doValidation&&!t.allowInitEmpty&&(t.valid=s(t.url)))}),t.$watch("valid",function(t){i&&(e.info("Calling $setValidity() on parent controller"),i.$setValidity("valid",t))}),t.$watch("doValidation",function(e){"undefined"!=typeof t.url&&(e?(t.forcedValid=!1,t.allowInitEmpty||(t.valid=s(t.url))):(t.forcedValid=!0,t.valid=!0))})}}}])}(),function(t){try{t=angular.module("risevision.widget.common.url-field")}catch(e){t=angular.module("risevision.widget.common.url-field",[])}t.run(["$templateCache",function(t){"use strict";t.put("_angular/url-field/url-field.html",'<div class="form-group" >\n  <label ng-if="!hideLabel">{{ "url.label" | translate }}</label>\n  <div>\n    <input name="url" type="text" ng-model="url" ng-blur="blur()" class="form-control" placeholder="http://">\n  </div>\n  <p ng-if="!valid && invalidType === \'url\'" class="text-danger">{{ "url.errors.url" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'image\'" class="text-danger">{{ "url.errors.image" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'video\'" class="text-danger">{{ "url.errors.video" | translate }}</p>\n  <div class="checkbox" ng-show="forcedValid || !valid">\n    <label>\n      <input name="validate-url" ng-click="doValidation = !doValidation" type="checkbox"\n             value="validate-url"> {{"url.validate.label" | translate}}\n    </label>\n  </div>\n</div>\n')}])}();var config={STORAGE_ENV:"prod"};"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json"),angular.module("risevision.widget.web-page.settings",["risevision.common.i18n","risevision.widget.common","risevision.widget.common.widget-button-toolbar","risevision.widget.common.tooltip","risevision.widget.common.url-field"]),angular.module("risevision.widget.common",[]),angular.module("risevision.widget.common").controller("settingsController",["$scope","settingsSaver","settingsGetter","settingsCloser",function(t,e,n,a){t.settings={params:{},additionalParams:{}},t.alerts=[],t.getAdditionalParam=function(e,n){var a=t.settings.additionalParams[e];return angular.isUndefined(a)?n:a},t.setAdditionalParam=function(e,n){t.settings.additionalParams[e]=n},t.loadAdditionalParams=function(){n.getAdditionalParams().then(function(e){t.settings.additionalParams=e,t.$broadcast("loadAdditionalParams",e)},function(t){alert(t)})},t.setAdditionalParams=function(e,n){t.settings.additionalParams[e]=n},t.saveSettings=function(){t.alerts=[],t.$broadcast("collectAdditionalParams"),e.saveSettings(t.settings).then(function(){},function(e){t.alerts=e.alerts})},t.closeSettings=function(){a.closeSettings().then(function(){},function(e){t.alerts=e.alerts})},t.settings.params=n.getParams(),t.loadAdditionalParams()}]).directive("scrollOnAlerts",function(){return{restrict:"A",scope:!1,link:function(t,e){t.$watchCollection("alerts",function(t,n){t.length>0&&0===n.length&&$("body").animate({scrollTop:e.offset().top},"fast")})}}}),angular.module("risevision.widget.common").constant("STORAGE_FILE_URL_BASE","storage.googleapis.com/risemedialibrary-").constant("STORAGE_FOLDER_URL_BASE","googleapis.com/storage/").factory("commonSettings",["$log","STORAGE_FILE_URL_BASE","STORAGE_FOLDER_URL_BASE",function(t,e,n){var a={getStorageUrlData:function(t){function a(t){return-1!==t.indexOf(e)?"file":-1!==t.indexOf(n)?"folder":null}function i(t){var e=t.split("risemedialibrary-");return e[1].slice(0,e[1].indexOf("/"))}var r,o,s,l,c={};if("file"===a(t))r=t.split(e)[1],r=decodeURIComponent(r.slice(r.indexOf("/")+1)),o=r.split("/"),c.companyId=i(t),c.fileName=o.pop(),c.folder=o.length>0?o.join("/"):"",""!==c.folder&&(c.folder+="/");else if("folder"===a(t)){s=t.split("?");for(var u=0;u<s.length;u++)if(l=s[u].split("="),"prefix"===l[0]&&"undefined"!=typeof l[1]&&""!==l[1]){c.companyId=i(t),c.folder=decodeURIComponent(l[1]),c.fileName="";break}}return c}};return a}]),angular.module("risevision.widget.common").factory("gadgetsApi",["$window",function(t){return t.gadgets}]),angular.module("risevision.widget.common").factory("googleFontLoader",["$http","angularLoad",function(t,e){function n(){for(var t="",n="",a="",r=[],o=!1,s=",sans-serif;",l="//fonts.googleapis.com/css?family=",c=["Buda","Coda Caption","Open Sans Condensed","UnifrakturCook","Molle"],u=0;u<i.length;u++)t=i[u],-1===c.indexOf(t)&&(a=l+t,e.loadCSS(a),r.push(a),/\s/.test(t)&&(o=!0),n+=o?t+"='"+t+"'"+s:t+"="+t+s);return{fonts:n,urls:r}}var a={},i=[];return a.getGoogleFonts=function(){return 0===i.length?t.get("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBXxVK_IOV7LNQMuVVo_l7ZvN53ejN86zY&sort=alpha",{cache:!0}).then(function(t){var e=null;if(t.data&&t.data.items){for(var a=0,r=t.data.items.length;r>a;a++)e=t.data.items[a],e.subsets&&1===e.subsets.length&&"khmer"===e.subsets[0].toLowerCase()||i.push(e.family);return n()}}):n()},a.getFontsUsed=function(t){var e=[];return angular.forEach(i,function(n){-1!==t.indexOf(n)&&e.push(n)}),e},a}]),angular.module("risevision.widget.common").service("i18nLoader",["$window","$q",function(t,e){var n=e.defer();t.i18n.init({fallbackLng:"en",resGetPath:"locales/__ns_____lng__.json"},function(){n.resolve(t.i18n)}),this.get=function(){return n.promise}}]),angular.module("risevision.widget.common").factory("imageValidator",["$q",function(t){var e={isImage:function(e){var n=t.defer(),a=new Image;return a.onload=function(){n.resolve(!0)},a.onerror=function(){n.resolve(!1)},a.src=e,n.promise}};return e}]),angular.module("risevision.widget.common").service("settingsSaver",["$q","$log","gadgetsApi","settingsParser",function(t,e,n,a){function i(t){var e=angular.copy(t);return delete e.params.id,delete e.params.companyId,delete e.params.rsW,delete e.params.rsH,e}this.saveSettings=function(r,o){var s=t.defer(),l=[],c="";r=i(r),o&&(l=o(r)),l.length>0&&(e.debug("Validation failed.",l),s.reject({alerts:l})),r.params.hasOwnProperty("layoutURL")&&(c+=r.params.layoutURL+"?",delete r.params.layoutURL),c+=a.encodeParams(r.params);var u=a.encodeAdditionalParams(r.additionalParams);return n.rpc.call("","rscmd_saveSettings",function(t){e.debug("encoded settings",JSON.stringify(t)),e.debug("Settings saved. ",r),s.resolve(t)},{params:c,additionalParams:u}),s.promise}}]).service("settingsGetter",["$q","gadgetsApi","$log","settingsParser","$window","defaultSettings",function(t,e,n,a,i,r){this.getAdditionalParams=function(){var i=t.defer(),o=r.additionalParams||{};return e.rpc.call("","rscmd_getAdditionalParams",function(t){t=t?a.parseAdditionalParams(t):{},n.debug("getAdditionalParams returns ",t),i.resolve($.extend(!0,o,t))}),i.promise},this.getParams=function(){var t=r.params||{};return angular.extend(t,a.parseParams(i.location.search))}}]).service("settingsParser",[function(){function t(t){return 0===t.indexOf("up_")?t.slice(3):null}this.parseAdditionalParams=function(t){return t?JSON.parse(t):{}},this.encodeAdditionalParams=function(t){return JSON.stringify(t)},this.encodeParams=function(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var a;a="object"==typeof t[n]?JSON.stringify(t[n]):t[n],e.push("up_"+encodeURIComponent(n)+"="+encodeURIComponent(a))}return e.join("&")},this.parseParams=function(e){"?"===e[0]&&(e=e.slice(1));for(var n={},a=e.split("&"),i=0;i<a.length;i++){var r=a[i].split("="),o=t(decodeURIComponent(r[0]));if(o)try{n[o]=JSON.parse(decodeURIComponent(r[1]))}catch(s){n[o]=decodeURIComponent(r[1])}}return n}}]).service("settingsCloser",["$q","$log","gadgetsApi",function(t,e,n){this.closeSettings=function(){var e=t.defer();return n.rpc.call("","rscmd_closeSettings",function(){e.resolve(!0)}),e.promise}}]).value("defaultSettings",{}),function(t){"use strict";t.module("risevision.widget.common.visualization",[]).factory("visualizationApi",["$q","$window",function(t,e){var n,a=t.defer(),i={get:function(){return n||(n=a.promise,e.google.visualization?a.resolve(e.google.visualization):e.google.setOnLoadCallback(function(){a.resolve(e.google.visualization)})),n}};return i}])}(angular),angular.module("risevision.widget.web-page.settings").controller("webPageSettingsController",["$scope","$log","xframeOptions",function(t,e,n){t.noXFrameOptions=!0,t.isPreviewUrl=!1,t.urlInput=!1,t.validateXFrame=function(){n.hasOptions(t.settings.additionalParams.url).then(function(e){t.noXFrameOptions=!e})},t.$on("urlFieldBlur",function(){t.settingsForm.pageUrl.$valid&&t.validateXFrame()}),t.$watch("urlInput",function(e){"undefined"!=typeof e&&t.settingsForm.pageUrl.$setValidity("urlInput",e)}),t.$watch("settings.additionalParams.url",function(e,n){t.isPreviewUrl=e&&e.indexOf("preview.risevision.com")>0,"undefined"==typeof n&&e&&""!==e?(t.urlInput=!0,t.validateXFrame()):"undefined"!=typeof e&&(t.noXFrameOptions=!0,""!==e&&(t.urlInput=!0))}),t.$watch("settings.additionalParams.zoom",function(e){"undefined"!=typeof e&&e>1&&(t.settings.additionalParams.interactivity.scrollbars=!1)}),t.$watch("settings.additionalParams.interactivity.interactive",function(e){"undefined"!=typeof e&&(e||(t.settings.additionalParams.interactivity.scrollbars=!1))})}]).value("defaultSettings",{params:{},additionalParams:{cacheBuster:!0,interactivity:{interactive:!1,scrollbars:!1},refresh:0,region:{showRegion:"page",horizontal:0,vertical:0},unload:!0,url:"",zoom:1}}),angular.module("risevision.widget.web-page.settings").factory("xframeOptions",["$log","$http",function(t,e){var n={hasOptions:function(n){return e({method:"GET",url:"https://proxy.risevision.com/"+n}).then(function(e){var n;return t.debug(e.headers()),e&&e.headers()?(n=e.headers("X-Frame-Options"),null!==n&&-1===n.indexOf("ALLOW-FROM")):void 0},function(e){t.debug("Webpage request failed with status code "+e.status+": "+e.statusText)})}};return n}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3NldHRpbmdzLm1pbi5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJ0aGlzIiwicnVuVHJhbnNsYXRlIiwiJHRyYW5zbGF0ZSIsImtleSIsInN0b3JhZ2VLZXkiLCJzdG9yYWdlIiwiZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlIiwicHJlZmVycmVkIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJhbmd1bGFyIiwiaXNTdHJpbmciLCJ1c2UiLCJwdXQiLCJkaXNwbGF5TmFtZSIsImdldCIsIiR0cmFuc2xhdGVTYW5pdGl6YXRpb25Qcm92aWRlciIsIiRzYW5pdGl6ZSIsIiRzY2UiLCJzdHJhdGVnaWVzIiwiY3VycmVudFN0cmF0ZWd5IiwiaGFzQ29uZmlndXJlZFN0cmF0ZWd5IiwiaGFzU2hvd25Ob1N0cmF0ZWd5Q29uZmlndXJlZFdhcm5pbmciLCJzYW5pdGl6ZSIsInZhbHVlIiwibW9kZSIsImh0bWxTYW5pdGl6ZVZhbHVlIiwiZXNjYXBlIiwiaHRtbEVzY2FwZVZhbHVlIiwic2FuaXRpemVQYXJhbWV0ZXJzIiwibWFwSW50ZXJwb2xhdGlvblBhcmFtZXRlcnMiLCJlc2NhcGVQYXJhbWV0ZXJzIiwic2NlIiwiY29udGV4dCIsImh0bWxUcnVzdFZhbHVlIiwic2NlUGFyYW1ldGVycyIsImVzY2FwZWQiLCJhZGRTdHJhdGVneSIsInN0cmF0ZWd5TmFtZSIsInN0cmF0ZWd5RnVuY3Rpb24iLCJyZW1vdmVTdHJhdGVneSIsInVzZVN0cmF0ZWd5Iiwic3RyYXRlZ3kiLCIkZ2V0IiwiJGluamVjdG9yIiwiJGxvZyIsImNhY2hlZFN0cmF0ZWd5TWFwIiwiYXBwbHlTdHJhdGVnaWVzIiwic2VsZWN0ZWRTdHJhdGVnaWVzIiwiZm9yRWFjaCIsInNlbGVjdGVkU3RyYXRlZ3kiLCJpc0Z1bmN0aW9uIiwiRXJyb3IiLCJlIiwic2hvd05vU3RyYXRlZ3lDb25maWd1cmVkV2FybmluZyIsIndhcm4iLCJoYXMiLCJzZWxmIiwiaXNBcnJheSIsImVsZW1lbnQiLCJ0ZXh0IiwiaHRtbCIsInRydXN0QXNIdG1sIiwiaXRlcmF0ZWUiLCJzdGFjayIsImlzRGF0ZSIsImlzT2JqZWN0IiwicmVzdWx0IiwiaW5kZXhPZiIsInB1c2giLCJwcm9wZXJ0eVZhbHVlIiwicHJvcGVydHlLZXkiLCJzcGxpY2UiLCJpc051bWJlciIsIiRTVE9SQUdFX0tFWSIsIiR3aW5kb3dQcm92aWRlciIsInBhc2NhbHByZWNodFRyYW5zbGF0ZU92ZXJyaWRlciIsIiRwcmVmZXJyZWRMYW5ndWFnZSIsIiRsYW5ndWFnZUtleUFsaWFzZXMiLCIkZmFsbGJhY2tMYW5ndWFnZSIsIiRmYWxsYmFja1dhc1N0cmluZyIsIiR1c2VzIiwiJG5leHRMYW5nIiwiJHN0b3JhZ2VGYWN0b3J5IiwiJHN0b3JhZ2VQcmVmaXgiLCIkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkiLCIkaW50ZXJwb2xhdGlvbkZhY3RvcnkiLCIkbG9hZGVyRmFjdG9yeSIsIiRsb2FkZXJPcHRpb25zIiwiJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCIsIiRub3RGb3VuZEluZGljYXRvclJpZ2h0IiwibG9hZGVyQ2FjaGUiLCJwb3N0UHJvY2Vzc0ZuIiwiJHRyYW5zbGF0aW9uVGFibGUiLCIkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzIiwiJHN0b3JhZ2VLZXkiLCIkaW50ZXJwb2xhdG9yRmFjdG9yaWVzIiwiJGNsb2FrQ2xhc3NOYW1lIiwiJHBvc3RDb21waWxpbmdFbmFibGVkIiwiJGZvcmNlQXN5bmNSZWxvYWRFbmFibGVkIiwiJG5lc3RlZE9iamVjdERlbGltZXRlciIsIiRpc1JlYWR5IiwiJGtlZXBDb250ZW50IiwiZGlyZWN0aXZlUHJpb3JpdHkiLCJzdGF0ZWZ1bEZpbHRlciIsInVuaWZvcm1MYW5ndWFnZVRhZ1Jlc29sdmVyIiwibGFuZ3VhZ2VUYWdSZXNvbHZlciIsImRlZmF1bHQiLCJ0YWciLCJzcGxpdCIsImpvaW4iLCJqYXZhIiwidGVtcCIsInBhcnRzIiwibGVuZ3RoIiwidG9Mb3dlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsImJjcDQ3IiwiaXNvNjM5LTEiLCJ2ZXJzaW9uIiwiZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UiLCJnZXRMb2NhbGUiLCJpIiwibGFuZ3VhZ2UiLCJuYXYiLCJuYXZpZ2F0b3IiLCJicm93c2VyTGFuZ3VhZ2VQcm9wZXJ0eUtleXMiLCJsYW5ndWFnZXMiLCJsb2NhbGUiLCJhcnJheSIsInNlYXJjaEVsZW1lbnQiLCJsZW4iLCJ0cmltIiwidG9TdHJpbmciLCJyZXBsYWNlIiwibmVnb3RpYXRlTG9jYWxlIiwiYXZhaWwiLCJsb3dlcmNhc2UiLCJuIiwiYWxpYXMiLCJsYW5nS2V5QWxpYXMiLCJoYXNPd25Qcm9wZXJ0eSIsImhhc1dpbGRjYXJkS2V5IiwiaGFzRXhhY3RLZXkiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJjYWxsIiwic2xpY2UiLCJ0cmFuc2xhdGlvbnMiLCJsYW5nS2V5IiwidHJhbnNsYXRpb25UYWJsZSIsImV4dGVuZCIsImZsYXRPYmplY3QiLCJjbG9ha0NsYXNzTmFtZSIsIm5hbWUiLCJuZXN0ZWRPYmplY3REZWxpbWV0ZXIiLCJkZWxpbWl0ZXIiLCJkYXRhIiwicGF0aCIsInByZXZLZXkiLCJrZXlXaXRoUGF0aCIsImtleVdpdGhTaG9ydFBhdGgiLCJ2YWwiLCJjb25jYXQiLCJhZGRJbnRlcnBvbGF0aW9uIiwidXNlTWVzc2FnZUZvcm1hdEludGVycG9sYXRpb24iLCJ1c2VJbnRlcnBvbGF0aW9uIiwidXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5Iiwic2V0dXBQcmVmZXJyZWRMYW5ndWFnZSIsInRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3IiLCJpbmRpY2F0b3IiLCJ0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdCIsInRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JSaWdodCIsImZhbGxiYWNrTGFuZ3VhZ2UiLCJmYWxsYmFja1N0YWNrIiwicmVzb2x2ZUNsaWVudExvY2FsZSIsInVzZVVybExvYWRlciIsInVybCIsIm9wdGlvbnMiLCJ1c2VMb2FkZXIiLCJ1c2VTdGF0aWNGaWxlc0xvYWRlciIsImxvYWRlckZhY3RvcnkiLCJ1c2VMb2NhbFN0b3JhZ2UiLCJ1c2VTdG9yYWdlIiwidXNlQ29va2llU3RvcmFnZSIsInN0b3JhZ2VGYWN0b3J5Iiwic3RvcmFnZVByZWZpeCIsInByZWZpeCIsInVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2ciLCJ1c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyIiwidXNlUG9zdENvbXBpbGluZyIsImZvcmNlQXN5bmNSZWxvYWQiLCJ1bmlmb3JtTGFuZ3VhZ2VUYWciLCJzdGFuZGFyZCIsImRldGVybWluZVByZWZlcnJlZExhbmd1YWdlIiwiZm4iLCJyZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsImxhbmd1YWdlS2V5cyIsImFsaWFzZXMiLCJ1c2VMb2FkZXJDYWNoZSIsImNhY2hlIiwidW5kZWZpbmVkIiwicHJpb3JpdHkiLCJzdGF0ZSIsInBvc3RQcm9jZXNzIiwia2VlcENvbnRlbnQiLCIkcm9vdFNjb3BlIiwiJHEiLCJTdG9yYWdlIiwiZmFsbGJhY2tJbmRleCIsInN0YXJ0RmFsbGJhY2tJdGVyYXRpb24iLCJkZWZhdWx0SW50ZXJwb2xhdG9yIiwicGVuZGluZ0xvYWRlciIsImludGVycG9sYXRvckhhc2hNYXAiLCJsYW5nUHJvbWlzZXMiLCJ0cmFuc2xhdGlvbklkIiwiaW50ZXJwb2xhdGVQYXJhbXMiLCJpbnRlcnBvbGF0aW9uSWQiLCJkZWZhdWx0VHJhbnNsYXRpb25UZXh0IiwiZm9yY2VMYW5ndWFnZSIsInVzZXMiLCJsb2FkVHJhbnNsYXRpb25zSWZNaXNzaW5nIiwidHJhbnNsYXRlQWxsIiwidHJhbnNsYXRpb25JZHMiLCJyZXN1bHRzIiwicHJvbWlzZXMiLCJ0cmFuc2xhdGUiLCJkZWZlcnJlZCIsImRlZmVyIiwicmVnYXJkbGVzcyIsInJlc29sdmUiLCJ0aGVuIiwicHJvbWlzZSIsImMiLCJhbGwiLCJhcHBseSIsInByb21pc2VUb1dhaXRGb3IiLCJpbmRleCIsInByb21pc2VSZXNvbHZlZCIsImRldGVybWluZVRyYW5zbGF0aW9uIiwicmVqZWN0IiwiYXBwbHlOb3RGb3VuZEluZGljYXRvcnMiLCJ1c2VMYW5ndWFnZSIsIiRlbWl0Iiwic2V0TG9jYWxlIiwiZWFjaEludGVycG9sYXRvciIsImludGVycG9sYXRvciIsImlkIiwibG9hZEFzeW5jIiwibG9hZGVyT3B0aW9ucyIsIiRodHRwIiwib25Mb2FkZXJTdWNjZXNzIiwidGFibGUiLCJvbkxvYWRlckVycm9yIiwiZWFjaEludGVycG9sYXRpb25GYWN0b3J5IiwiaW50ZXJwb2xhdG9yRmFjdG9yeSIsImdldEludGVycG9sYXRpb25JZGVudGlmaWVyIiwiZ2V0VHJhbnNsYXRpb25UYWJsZSIsIm9uUmVzb2x2ZSIsImdldEZhbGxiYWNrVHJhbnNsYXRpb24iLCJJbnRlcnBvbGF0b3IiLCJ0cmFuc2xhdGlvbiIsInN1YnN0ciIsImludGVycG9sYXRlZFZhbHVlIiwiaW50ZXJwb2xhdGUiLCJhcHBseVBvc3RQcm9jZXNzaW5nIiwiZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQiLCJzYW5pdGl6ZVN0cmF0ZWd5IiwiJCR1bndyYXBUcnVzdGVkVmFsdWUiLCJyZXN1bHQyIiwidHJhbnNsYXRlQnlIYW5kbGVyIiwicmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UiLCJmYWxsYmFja0xhbmd1YWdlSW5kZXgiLCJtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24iLCJyZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnQiLCJmYWxsYmFja1RyYW5zbGF0aW9uIiwiZmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQiLCJyZXNvbHZlZFRyYW5zbGF0aW9uIiwiX3RyYW5zbGF0aW9uSWQiLCJkZXRlcm1pbmVUcmFuc2xhdGlvbkluc3RhbnQiLCJjbGVhck5leHRMYW5nQW5kUHJvbWlzZSIsInVzZUZhbGxiYWNrTGFuZ3VhZ2UiLCJsYW5nS2V5UG9zaXRpb24iLCJwcm9wb3NlZExhbmd1YWdlIiwiYWxpYXNlZEtleSIsImlzUG9zdENvbXBpbGluZ0VuYWJsZWQiLCJpc0ZvcmNlQXN5bmNSZWxvYWRFbmFibGVkIiwiaXNLZWVwQ29udGVudCIsInJlZnJlc2giLCJvbmVUcmFuc2xhdGlvbnNMb2FkZWQiLCJ0YWJsZXMiLCJsb2FkaW5nS2V5cyIsImFsbFRyYW5zbGF0aW9uc0xvYWRlZCIsInRhYmxlRGF0YSIsImluc3RhbnQiLCJpc1VuZGVmaW5lZCIsInBvc3NpYmxlTGFuZ0tleXMiLCJqIiwiZCIsInBvc3NpYmxlTGFuZ0tleSIsInZlcnNpb25JbmZvIiwiaXNSZWFkeSIsIiRvblJlYWR5RGVmZXJyZWQiLCJvblJlYWR5IiwiZ2V0QXZhaWxhYmxlTGFuZ3VhZ2VLZXlzIiwiY29weSIsImdsb2JhbE9uUmVhZHlMaXN0ZW5lciIsIiRvbiIsImdsb2JhbE9uQ2hhbmdlTGlzdGVuZXIiLCJlcXVhbHMiLCJwcm9jZXNzQXN5bmNSZXN1bHQiLCJmYWxsYmFja0xhbmd1YWdlSWQiLCIkdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24iLCIkaW50ZXJwb2xhdGUiLCIkdHJhbnNsYXRlU2FuaXRpemF0aW9uIiwiJGxvY2FsZSIsIiR0cmFuc2xhdGVJbnRlcnBvbGF0b3IiLCIkaWRlbnRpZmllciIsImludGVycG9sYXRpb25QYXJhbXMiLCJpbnRlcnBvbGF0ZWRUZXh0IiwidHJhbnNsYXRlRGlyZWN0aXZlIiwiJGNvbXBpbGUiLCIkcGFyc2UiLCJyZXN0cmljdCIsInNjb3BlIiwiY29tcGlsZSIsInRFbGVtZW50IiwidEF0dHIiLCJ0cmFuc2xhdGVWYWx1ZXNFeGlzdCIsInRyYW5zbGF0ZVZhbHVlcyIsInRyYW5zbGF0ZUludGVycG9sYXRpb24iLCJ0cmFuc2xhdGVWYWx1ZUV4aXN0Iiwib3V0ZXJIVE1MIiwibWF0Y2giLCJpbnRlcnBvbGF0ZVJlZ0V4cCIsInN0YXJ0U3ltYm9sIiwiZW5kU3ltYm9sIiwid2F0Y2hlclJlZ0V4cCIsImlFbGVtZW50IiwiaUF0dHIiLCJwcmVUZXh0IiwicG9zdFRleHQiLCJ0cmFuc2xhdGVOYW1lc3BhY2UiLCJnZXRUcmFuc2xhdGVOYW1lc3BhY2UiLCJpbml0SW50ZXJwb2xhdGlvblBhcmFtcyIsIiRwYXJlbnQiLCJhdHRyIiwiYXR0cmlidXRlTmFtZSIsIm9ic2VydmVFbGVtZW50VHJhbnNsYXRpb24iLCJfdW53YXRjaE9sZCIsImlzRGVmaW5lZCIsImlFbGVtZW50VGV4dCIsImludGVycG9sYXRlTWF0Y2hlcyIsIndhdGNoZXJNYXRjaGVzIiwiJHdhdGNoIiwibmV3VmFsdWUiLCJ1cGRhdGVUcmFuc2xhdGlvbnMiLCJvYnNlcnZlQXR0cmlidXRlVHJhbnNsYXRpb24iLCJ0cmFuc2xhdGVBdHRyIiwiJG9ic2VydmUiLCJmaXJzdEF0dHJpYnV0ZUNoYW5nZWRFdmVudCIsImRlZmF1bHRUZXh0Iiwib2JzZXJ2ZVZhbHVlQXR0cmlidXRlIiwiYXR0ck5hbWUiLCJ1cGRhdGVUcmFuc2xhdGlvbiIsImNoYXJBdCIsInRyYW5zbGF0ZUxhbmd1YWdlIiwiYXBwbHlUcmFuc2xhdGlvbiIsInN1Y2Nlc3NmdWwiLCJ0cmFuc2xhdGVLZWVwQ29udGVudCIsImVtcHR5IiwiYXBwZW5kIiwiZ2xvYmFsbHlFbmFibGVkIiwibG9jYWxseURlZmluZWQiLCJ0cmFuc2xhdGVDb21waWxlIiwibG9jYWxseUVuYWJsZWQiLCJjb250ZW50cyIsIiRhdHRyIiwidHJhbnNsYXRlRGVmYXVsdCIsInVuYmluZCIsInRyYW5zbGF0ZUF0dHJEaXJlY3RpdmUiLCJsaW5rIiwicHJldmlvdXNBdHRyaWJ1dGVzIiwiZmxhZyIsInJlbW92ZUF0dHIiLCJ3YXRjaEF0dHJpYnV0ZSIsImF0dHJpYnV0ZSIsInZhbHVlQ2FsbGJhY2siLCJjaGFuZ2VDYWxsYmFjayIsIiRldmFsIiwidHJhbnNsYXRlQ2xvYWtEaXJlY3RpdmUiLCJhcHBseUNsb2FrIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbG9hayIsInJlbW92ZUNsYXNzIiwidHJhbnNsYXRlQ2xvYWsiLCJ0cmFuc2xhdGVOYW1lc3BhY2VEaXJlY3RpdmUiLCJwcmUiLCJpQXR0cnMiLCJ0cmFuc2xhdGVMYW5ndWFnZURpcmVjdGl2ZSIsIm5ld1RyYW5zbGF0ZUxhbmd1YWdlIiwiJGJyb2FkY2FzdCIsInRyYW5zbGF0ZUZpbHRlckZhY3RvcnkiLCJ0cmFuc2xhdGVGaWx0ZXIiLCJpbnRlcnBvbGF0aW9uIiwiJHN0YXRlZnVsIiwiJHRyYW5zbGF0aW9uQ2FjaGUiLCIkY2FjaGVGYWN0b3J5IiwiJGluamVjdCIsInJ1biIsInByb3ZpZGVyIiwiY29uc3RhbnQiLCJkaXJlY3RpdmUiLCJmaWx0ZXIiLCIkdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXIiLCJmaWxlcyIsInN1ZmZpeCIsImxvYWQiLCJmaWxlIiwiZmlsZVVybCIsImZpbGVNYXAiLCJtZXRob2QiLCJwYXJhbXMiLCJtZXJnZWREYXRhIiwiZXJyIiwibG9hZFRyYW5zbGF0aW9uRmlsZSIsInJlc3BvbnNlIiwibGFzdEluZGV4T2YiLCJvcHRzIiwiY29uZmlnIiwiJHRyYW5zbGF0ZVByb3ZpZGVyIiwiTE9DQUxFU19QUkVGSVgiLCJMT0NBTEVTX1NVRklYIiwiJCIsIlBsdWdpbiIsIm9wdGlvbiIsImVhY2giLCIkdGhpcyIsIkFmZml4IiwiREVGQVVMVFMiLCIkdGFyZ2V0IiwidGFyZ2V0Iiwib24iLCJwcm94eSIsImNoZWNrUG9zaXRpb24iLCJjaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCIsIiRlbGVtZW50IiwiYWZmaXhlZCIsInVucGluIiwicGlubmVkT2Zmc2V0IiwiVkVSU0lPTiIsIlJFU0VUIiwib2Zmc2V0Iiwid2luZG93IiwiZ2V0UGlubmVkT2Zmc2V0Iiwic2Nyb2xsVG9wIiwicG9zaXRpb24iLCJ0b3AiLCJzZXRUaW1lb3V0IiwiaXMiLCJzY3JvbGxIZWlnaHQiLCJkb2N1bWVudCIsImhlaWdodCIsIm9mZnNldFRvcCIsIm9mZnNldEJvdHRvbSIsImJvdHRvbSIsImFmZml4IiwiY3NzIiwiYWZmaXhUeXBlIiwiRXZlbnQiLCJ0cmlnZ2VyIiwiaXNEZWZhdWx0UHJldmVudGVkIiwib2xkIiwiQ29uc3RydWN0b3IiLCJub0NvbmZsaWN0IiwiJHNweSIsImpRdWVyeSIsIkFsZXJ0IiwiZGlzbWlzcyIsImVsIiwiY2xvc2UiLCJyZW1vdmVFbGVtZW50IiwiZGV0YWNoIiwicmVtb3ZlIiwic2VsZWN0b3IiLCJwcmV2ZW50RGVmYXVsdCIsImhhc0NsYXNzIiwicGFyZW50Iiwic3VwcG9ydCIsInRyYW5zaXRpb24iLCJvbmUiLCJlbXVsYXRlVHJhbnNpdGlvbkVuZCIsImFsZXJ0IiwiQnV0dG9uIiwidG9nZ2xlIiwic2V0U3RhdGUiLCJpc0xvYWRpbmciLCJsb2FkaW5nVGV4dCIsIiRlbCIsInJlc2V0VGV4dCIsImNoYW5nZWQiLCJjbG9zZXN0IiwiJGlucHV0IiwiZmluZCIsInByb3AiLCJ0b2dnbGVDbGFzcyIsImJ1dHRvbiIsIiRidG4iLCJDYXJvdXNlbCIsImFjdGlvbiIsInNsaWRlIiwidG8iLCJpbnRlcnZhbCIsInBhdXNlIiwiY3ljbGUiLCJrZXlkb3duIiwiJGluZGljYXRvcnMiLCJwYXVzZWQiLCJzbGlkaW5nIiwiJGFjdGl2ZSIsIiRpdGVtcyIsIndyYXAiLCJ3aGljaCIsInByZXYiLCJuZXh0IiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwiZ2V0SXRlbUluZGV4IiwiaXRlbSIsImNoaWxkcmVuIiwicG9zIiwidGhhdCIsImFjdGl2ZUluZGV4IiwiZW5kIiwidHlwZSIsIiRuZXh0IiwiaXNDeWNsaW5nIiwiZGlyZWN0aW9uIiwiZmFsbGJhY2siLCJyZWxhdGVkVGFyZ2V0Iiwic2xpZGVFdmVudCIsIiRuZXh0SW5kaWNhdG9yIiwic2xpZEV2ZW50Iiwib2Zmc2V0V2lkdGgiLCJjYXJvdXNlbCIsImhyZWYiLCJzbGlkZUluZGV4IiwiJGNhcm91c2VsIiwiQ29sbGFwc2UiLCJ0cmFuc2l0aW9uaW5nIiwiZGltZW5zaW9uIiwiaGFzV2lkdGgiLCJzaG93Iiwic3RhcnRFdmVudCIsImFjdGl2ZXMiLCJoYXNEYXRhIiwiY29tcGxldGUiLCJzY3JvbGxTaXplIiwiY2FtZWxDYXNlIiwiaGlkZSIsIm9mZnNldEhlaWdodCIsImNvbGxhcHNlIiwibm90IiwiY2xlYXJNZW51cyIsImJhY2tkcm9wIiwiZ2V0UGFyZW50IiwidGVzdCIsIkRyb3Bkb3duIiwiaXNBY3RpdmUiLCJkb2N1bWVudEVsZW1lbnQiLCJpbnNlcnRBZnRlciIsImtleUNvZGUiLCJzdG9wUHJvcGFnYXRpb24iLCJkZXNjIiwiZXEiLCJkcm9wZG93biIsIlRhYiIsIiR1bCIsInByZXZpb3VzIiwiYWN0aXZhdGUiLCJjb250YWluZXIiLCJjYWxsYmFjayIsInRhYiIsInRyYW5zaXRpb25FbmQiLCJjcmVhdGVFbGVtZW50IiwidHJhbnNFbmRFdmVudE5hbWVzIiwiV2Via2l0VHJhbnNpdGlvbiIsIk1velRyYW5zaXRpb24iLCJPVHJhbnNpdGlvbiIsInN0eWxlIiwiZHVyYXRpb24iLCJjYWxsZWQiLCJldmVudCIsInNwZWNpYWwiLCJic1RyYW5zaXRpb25FbmQiLCJiaW5kVHlwZSIsImRlbGVnYXRlVHlwZSIsImhhbmRsZSIsImhhbmRsZU9iaiIsImhhbmRsZXIiLCJhcmd1bWVudHMiLCJTY3JvbGxTcHkiLCJwcm9jZXNzIiwiJGJvZHkiLCIkc2Nyb2xsRWxlbWVudCIsIm9mZnNldHMiLCJ0YXJnZXRzIiwiYWN0aXZlVGFyZ2V0IiwiZ2V0U2Nyb2xsSGVpZ2h0IiwiTWF0aCIsIm1heCIsIm9mZnNldE1ldGhvZCIsIm9mZnNldEJhc2UiLCJpc1dpbmRvdyIsIm1hcCIsIiRocmVmIiwic29ydCIsImEiLCJiIiwibWF4U2Nyb2xsIiwicGFyZW50c1VudGlsIiwiYWN0aXZlIiwicGFyZW50cyIsInNjcm9sbHNweSIsIl9yZWxhdGVkVGFyZ2V0IiwiTW9kYWwiLCJib2R5IiwiJGJhY2tkcm9wIiwiaXNTaG93biIsInNjcm9sbGJhcldpZHRoIiwicmVtb3RlIiwia2V5Ym9hcmQiLCJjaGVja1Njcm9sbGJhciIsInNldFNjcm9sbGJhciIsImFwcGVuZFRvIiwiZW5mb3JjZUZvY3VzIiwicmVzZXRTY3JvbGxiYXIiLCJvZmYiLCJoaWRlTW9kYWwiLCJyZW1vdmVCYWNrZHJvcCIsImFuaW1hdGUiLCJkb0FuaW1hdGUiLCJjdXJyZW50VGFyZ2V0IiwiZm9jdXMiLCJjYWxsYmFja1JlbW92ZSIsImNsaWVudFdpZHRoIiwiaW5uZXJXaWR0aCIsIm1lYXN1cmVTY3JvbGxiYXIiLCJib2R5UGFkIiwicGFyc2VJbnQiLCJzY3JvbGxEaXYiLCJjbGFzc05hbWUiLCJyZW1vdmVDaGlsZCIsIm1vZGFsIiwic2hvd0V2ZW50IiwiVG9vbHRpcCIsImVuYWJsZWQiLCJ0aW1lb3V0IiwiaG92ZXJTdGF0ZSIsImluaXQiLCJhbmltYXRpb24iLCJwbGFjZW1lbnQiLCJ0ZW1wbGF0ZSIsInRpdGxlIiwiZGVsYXkiLCJ2aWV3cG9ydCIsInBhZGRpbmciLCJnZXRPcHRpb25zIiwiJHZpZXdwb3J0IiwidHJpZ2dlcnMiLCJldmVudEluIiwiZXZlbnRPdXQiLCJlbnRlciIsImxlYXZlIiwiX29wdGlvbnMiLCJmaXhUaXRsZSIsImdldERlZmF1bHRzIiwiZ2V0RGVsZWdhdGVPcHRpb25zIiwiZGVmYXVsdHMiLCJvYmoiLCJjb25zdHJ1Y3RvciIsImNsZWFyVGltZW91dCIsImhhc0NvbnRlbnQiLCJpbkRvbSIsImNvbnRhaW5zIiwiJHRpcCIsInRpcCIsInRpcElkIiwiZ2V0VUlEIiwic2V0Q29udGVudCIsImF1dG9Ub2tlbiIsImF1dG9QbGFjZSIsImxlZnQiLCJkaXNwbGF5IiwiZ2V0UG9zaXRpb24iLCJhY3R1YWxXaWR0aCIsImFjdHVhbEhlaWdodCIsIm9yZ1BsYWNlbWVudCIsInBhcmVudERpbSIsInNjcm9sbCIsInJpZ2h0Iiwid2lkdGgiLCJjYWxjdWxhdGVkT2Zmc2V0IiwiZ2V0Q2FsY3VsYXRlZE9mZnNldCIsImFwcGx5UGxhY2VtZW50IiwibWFyZ2luVG9wIiwibWFyZ2luTGVmdCIsImlzTmFOIiwic2V0T2Zmc2V0IiwidXNpbmciLCJwcm9wcyIsInJvdW5kIiwiZGVsdGEiLCJnZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEiLCJhcnJvd0RlbHRhIiwiYXJyb3dQb3NpdGlvbiIsImFycm93T2Zmc2V0UG9zaXRpb24iLCJyZXBsYWNlQXJyb3ciLCJhcnJvdyIsImdldFRpdGxlIiwiJGUiLCJpc0JvZHkiLCJ0YWdOYW1lIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwib3V0ZXJXaWR0aCIsIm91dGVySGVpZ2h0Iiwidmlld3BvcnRQYWRkaW5nIiwidmlld3BvcnREaW1lbnNpb25zIiwidG9wRWRnZU9mZnNldCIsImJvdHRvbUVkZ2VPZmZzZXQiLCJsZWZ0RWRnZU9mZnNldCIsInJpZ2h0RWRnZU9mZnNldCIsIm8iLCJyYW5kb20iLCJnZXRFbGVtZW50QnlJZCIsIiRhcnJvdyIsInZhbGlkYXRlIiwicGFyZW50Tm9kZSIsImVuYWJsZSIsImRpc2FibGUiLCJ0b2dnbGVFbmFibGVkIiwiZGVzdHJveSIsInJlbW92ZURhdGEiLCJ0b29sdGlwIiwiUG9wb3ZlciIsImNvbnRlbnQiLCJnZXRDb250ZW50IiwicG9wb3ZlciIsIiRhbmltYXRlIiwiYXR0cnMiLCJleHBhbmQiLCJleHBhbmREb25lIiwiY29sbGFwc2VEb25lIiwic2hvdWxkQ29sbGFwc2UiLCJjbG9zZU90aGVycyIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkYXR0cnMiLCJhY2NvcmRpb25Db25maWciLCJncm91cHMiLCJvcGVuR3JvdXAiLCJncm91cCIsImlzT3BlbiIsImFkZEdyb3VwIiwiZ3JvdXBTY29wZSIsInJlbW92ZUdyb3VwIiwidHJhbnNjbHVkZSIsInRlbXBsYXRlVXJsIiwicmVxdWlyZSIsImhlYWRpbmciLCJpc0Rpc2FibGVkIiwic2V0SGVhZGluZyIsImFjY29yZGlvbkN0cmwiLCJ0b2dnbGVPcGVuIiwiYWNjb3JkaW9uR3JvdXBDdHJsIiwibm9vcCIsImFjY29yZGlvblRyYW5zY2x1ZGUiLCJjbG9zZWFibGUiLCIkdGltZW91dCIsImFsZXJ0Q3RybCIsImRpc21pc3NPblRpbWVvdXQiLCIkYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQiLCJiaW5kSHRtbFVuc2FmZSIsImFjdGl2ZUNsYXNzIiwidG9nZ2xlRXZlbnQiLCJidXR0b25Db25maWciLCJjdHJscyIsImJ1dHRvbnNDdHJsIiwibmdNb2RlbEN0cmwiLCIkcmVuZGVyIiwiJG1vZGVsVmFsdWUiLCJidG5SYWRpbyIsImJpbmQiLCJ1bmNoZWNrYWJsZSIsIiRhcHBseSIsIiRzZXRWaWV3VmFsdWUiLCJnZXRUcnVlVmFsdWUiLCJnZXRDaGVja2JveFZhbHVlIiwiYnRuQ2hlY2tib3hUcnVlIiwiZ2V0RmFsc2VWYWx1ZSIsImJ0bkNoZWNrYm94RmFsc2UiLCJhdHRyaWJ1dGVWYWx1ZSIsImRlZmF1bHRWYWx1ZSIsIiRpbnRlcnZhbCIsImdvTmV4dCIsImRlc3Ryb3llZCIsImN1cnJlbnRTbGlkZSIsIm5vVHJhbnNpdGlvbiIsIiRjdXJyZW50VHJhbnNpdGlvbiIsIlNMSURFX0RJUkVDVElPTiIsImN1cnJlbnRJbmRleCIsInJlc3RhcnRUaW1lciIsImdldFNsaWRlQnlJbmRleCIsInNsaWRlcyIsInJlc2V0VGltZXIiLCJjdXJyZW50SW50ZXJ2YWwiLCJ0aW1lckZuIiwiY2FuY2VsIiwiaXNQbGF5aW5nIiwiTk9fVFJBTlNJVElPTiIsInNlbGVjdCIsIm5leHRTbGlkZSIsIm5leHRJbmRleCIsImluZGV4T2ZTbGlkZSIsImdldEN1cnJlbnRJbmRleCIsIm5ld0luZGV4Iiwibm9XcmFwIiwicGxheSIsIm5vUGF1c2UiLCJhZGRTbGlkZSIsInJlbW92ZVNsaWRlIiwiY2Fyb3VzZWxDdHJsIiwiYmVmb3JlQWRkQ2xhc3MiLCJkb25lIiwic3RvcHBlZCIsImRpcmVjdGlvbkNsYXNzIiwiYmVmb3JlUmVtb3ZlQ2xhc3MiLCJzZXJ2aWNlIiwib3JkZXJCeUZpbHRlciIsImNyZWF0ZVBhcnNlciIsImZvcm1hdCIsInJlZ2V4IiwiZm9ybWF0Q29kZVRvUmVnZXgiLCJjb2RlIiwiUmVnRXhwIiwiaXNWYWxpZCIsInllYXIiLCJtb250aCIsImRhdGUiLCJTUEVDSUFMX0NIQVJBQ1RFUlNfUkVHRVhQIiwicGFyc2VycyIsInl5eXkiLCJ5eSIsInkiLCJNTU1NIiwiREFURVRJTUVfRk9STUFUUyIsIk1PTlRIIiwiTU1NIiwiU0hPUlRNT05USCIsIk1NIiwiTSIsImRkIiwiRUVFRSIsIkRBWSIsIkVFRSIsIlNIT1JUREFZIiwiSEgiLCJob3VycyIsIkgiLCJtbSIsIm1pbnV0ZXMiLCJtIiwic3NzIiwibWlsbGlzZWNvbmRzIiwic3MiLCJzZWNvbmRzIiwicyIsInBhcnNlIiwiaW5wdXQiLCJiYXNlRGF0ZSIsInBhcnNlciIsImZpZWxkcyIsImR0IiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiZ2V0TWlsbGlzZWNvbmRzIiwibWFwcGVyIiwiRGF0ZSIsIiRkb2N1bWVudCIsIiR3aW5kb3ciLCJnZXRTdHlsZSIsImNzc3Byb3AiLCJjdXJyZW50U3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiaXNTdGF0aWNQb3NpdGlvbmVkIiwicGFyZW50T2Zmc2V0RWwiLCJkb2NEb21FbCIsIm9mZnNldFBhcmVudCIsImVsQkNSIiwib2Zmc2V0UGFyZW50QkNSIiwib2Zmc2V0UGFyZW50RWwiLCJjbGllbnRUb3AiLCJjbGllbnRMZWZ0Iiwic2Nyb2xsTGVmdCIsImJvdW5kaW5nQ2xpZW50UmVjdCIsInBhZ2VZT2Zmc2V0IiwicGFnZVhPZmZzZXQiLCJwb3NpdGlvbkVsZW1lbnRzIiwiaG9zdEVsIiwidGFyZ2V0RWwiLCJwb3NpdGlvblN0ciIsImFwcGVuZFRvQm9keSIsImhvc3RFbFBvcyIsInRhcmdldEVsV2lkdGgiLCJ0YXJnZXRFbEhlaWdodCIsInRhcmdldEVsUG9zIiwicG9zaXRpb25TdHJQYXJ0cyIsInBvczAiLCJwb3MxIiwic2hpZnRXaWR0aCIsImNlbnRlciIsInNoaWZ0SGVpZ2h0IiwiZm9ybWF0RGF5IiwiZm9ybWF0TW9udGgiLCJmb3JtYXRZZWFyIiwiZm9ybWF0RGF5SGVhZGVyIiwiZm9ybWF0RGF5VGl0bGUiLCJmb3JtYXRNb250aFRpdGxlIiwiZGF0ZXBpY2tlck1vZGUiLCJtaW5Nb2RlIiwibWF4TW9kZSIsInNob3dXZWVrcyIsInN0YXJ0aW5nRGF5IiwieWVhclJhbmdlIiwibWluRGF0ZSIsIm1heERhdGUiLCJzaG9ydGN1dFByb3BhZ2F0aW9uIiwiZGF0ZUZpbHRlciIsImRhdGVwaWNrZXJDb25maWciLCJtb2RlcyIsInJlZnJlc2hWaWV3IiwidW5pcXVlSWQiLCIkaWQiLCJmbG9vciIsImluaXREYXRlIiwiYWN0aXZlRGF0ZSIsIiRpc0VtcHR5IiwiJGludmFsaWQiLCJkYXRlT2JqZWN0IiwiY29tcGFyZSIsImFjdGl2ZURhdGVJZCIsInVpZCIsIm5nTW9kZWxDdHJsXyIsInJlbmRlciIsIiR2aWV3VmFsdWUiLCJlcnJvciIsIiRzZXRWYWxpZGl0eSIsIl9yZWZyZXNoVmlldyIsImNyZWF0ZURhdGVPYmplY3QiLCJtb2RlbCIsImxhYmVsIiwic2VsZWN0ZWQiLCJkaXNhYmxlZCIsImN1cnJlbnQiLCJjdXN0b21DbGFzcyIsImRhdGVEaXNhYmxlZCIsImFyciIsInNpemUiLCJhcnJheXMiLCJmaXhUaW1lWm9uZSIsInNldEhvdXJzIiwic2V0RnVsbFllYXIiLCJtb3ZlIiwic3RlcCIsInllYXJzIiwibW9udGhzIiwidG9nZ2xlTW9kZSIsImtleXMiLDEzLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLCJmb2N1c0VsZW1lbnQiLCJldnQiLCJzaGlmdEtleSIsImFsdEtleSIsImN0cmxLZXkiLCJoYW5kbGVLZXlEb3duIiwiZGF0ZXBpY2tlckN0cmwiLCJjdHJsIiwiZ2V0RGF5c0luTW9udGgiLCJEQVlTX0lOX01PTlRIIiwiZ2V0RGF0ZXMiLCJzdGFydERhdGUiLCJkYXRlcyIsIkFycmF5Iiwic2V0RGF0ZSIsImdldElTTzg2MDFXZWVrTnVtYmVyIiwiY2hlY2tEYXRlIiwiZ2V0RGF5IiwidGltZSIsImdldFRpbWUiLCJzZXRNb250aCIsImZpcnN0RGF5T2ZNb250aCIsImRpZmZlcmVuY2UiLCJudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCIsImZpcnN0RGF0ZSIsImRheXMiLCJzZWNvbmRhcnkiLCJsYWJlbHMiLCJhYmJyIiwiZnVsbCIsInJvd3MiLCJ3ZWVrTnVtYmVycyIsInRodXJzZGF5SW5kZXgiLCJudW1XZWVrcyIsImN1cldlZWsiLCJkYXRlMSIsImRhdGUyIiwibWluIiwiZ2V0U3RhcnRpbmdZZWFyIiwicmFuZ2UiLCJzdGFydCIsImRhdGVwaWNrZXJQb3B1cCIsImh0bWw1VHlwZXMiLCJkYXRldGltZS1sb2NhbCIsImN1cnJlbnRUZXh0IiwiY2xlYXJUZXh0IiwiY2xvc2VUZXh0IiwiY2xvc2VPbkRhdGVTZWxlY3Rpb24iLCJzaG93QnV0dG9uQmFyIiwiJHBvc2l0aW9uIiwiZGF0ZVBhcnNlciIsImRhdGVwaWNrZXJQb3B1cENvbmZpZyIsIm5nTW9kZWwiLCJjYW1lbHRvRGFzaCIsInN0cmluZyIsIiQxIiwicGFyc2VEYXRlIiwidmlld1ZhbHVlIiwiZGF0ZUZvcm1hdCIsInZhbGlkYXRvciIsIm1vZGVsVmFsdWUiLCJkYXRlcGlja2VyQXBwZW5kVG9Cb2R5IiwiZ2V0VGV4dCIsImlzSHRtbDVEYXRlSW5wdXQiLCJuZXdEYXRlRm9ybWF0IiwicG9wdXBFbCIsIm5nLW1vZGVsIiwibmctY2hhbmdlIiwiZGF0ZXBpY2tlckVsIiwiZGF0ZXBpY2tlck9wdGlvbnMiLCJ3YXRjaERhdGEiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJhc3NpZ24iLCJvbGR2YWx1ZSIsIiRmb3JtYXR0ZXJzIiwiJCRwYXJzZXJOYW1lIiwiJHZhbGlkYXRvcnMiLCIkcGFyc2VycyIsInVuc2hpZnQiLCJkYXRlU2VsZWN0aW9uIiwiJHZpZXdDaGFuZ2VMaXN0ZW5lcnMiLCJkb2N1bWVudENsaWNrQmluZCIsImlucHV0S2V5ZG93bkJpbmQiLCJ0b2RheSIsIiRwb3B1cCIsImFmdGVyIiwib3BlbkNsYXNzIiwib3BlblNjb3BlIiwib3BlbiIsImRyb3Bkb3duU2NvcGUiLCJjbG9zZURyb3Bkb3duIiwia2V5YmluZEZpbHRlciIsImdldEF1dG9DbG9zZSIsInRvZ2dsZUVsZW1lbnQiLCJnZXRUb2dnbGVFbGVtZW50IiwiZHJvcGRvd25FbGVtZW50IiwiZ2V0RHJvcGRvd25FbGVtZW50IiwiJCRwaGFzZSIsImZvY3VzVG9nZ2xlRWxlbWVudCIsImlzS2V5bmF2RW5hYmxlZCIsImZvY3VzRHJvcGRvd25FbnRyeSIsImRyb3Bkb3duQ29uZmlnIiwiZHJvcGRvd25TZXJ2aWNlIiwiJHRlbXBsYXRlUmVxdWVzdCIsInRlbXBsYXRlU2NvcGUiLCJnZXRJc09wZW4iLCIkbmV3Iiwic2V0SXNPcGVuIiwidG9nZ2xlSW52b2tlciIsIm9uVG9nZ2xlIiwia2V5bmF2RW5hYmxlZCIsImRyb3Bkb3duQXBwZW5kVG9Cb2R5Iiwia2V5Ym9hcmROYXYiLCJkcm9wZG93bk1lbnUiLCJhdXRvQ2xvc2UiLCJnZXRFbGVtZW50IiwiZWxlbXMiLCJzZWxlY3RlZE9wdGlvbiIsIndhc09wZW4iLCJyaWdodGFsaWduIiwiZHJvcGRvd25NZW51VGVtcGxhdGVVcmwiLCJ0cGxDb250ZW50IiwibmV3RWwiLCJyZXBsYWNlV2l0aCIsIiRkZXN0cm95IiwiZHJvcGRvd25DdHJsIiwidHBsVXJsIiwidG9nZ2xlRHJvcGRvd24iLCJhcmlhLWhhc3BvcHVwIiwiYXJpYS1leHBhbmRlZCIsImNyZWF0ZU5ldyIsImFkZCIsImlkeCIsInJlbW92ZVRvcCIsIiRtb2RhbFN0YWNrIiwibGlua0ZuIiwibW9kYWxJbkNsYXNzIiwiTk9XX0NMT1NJTkdfRVZFTlQiLCJzZXRJc0FzeW5jIiwidEF0dHJzIiwiYmFja2Ryb3BDbGFzcyIsIndpbmRvd0NsYXNzIiwiZ2V0VG9wIiwiJGlzUmVuZGVyZWQiLCJtb2RhbFJlbmRlckRlZmVyT2JqIiwiaW5wdXRzV2l0aEF1dG9mb2N1cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtb2RhbFJlbmRlcmVkIiwibW9kYWxBbmltYXRpb24iLCJtb2RhbEFuaW1hdGlvbkNsYXNzIiwiJHRyYW5zY2x1ZGUiLCJjbG9uZSIsIiQkc3RhY2tlZE1hcCIsImJhY2tkcm9wSW5kZXgiLCJ0b3BCYWNrZHJvcEluZGV4Iiwib3BlbmVkIiwib3BlbmVkV2luZG93cyIsInJlbW92ZU1vZGFsV2luZG93IiwibW9kYWxJbnN0YW5jZSIsImVsZW1lbnRUb1JlY2VpdmVGb2N1cyIsIm1vZGFsV2luZG93IiwicmVtb3ZlQWZ0ZXJBbmltYXRlIiwibW9kYWxEb21FbCIsIm1vZGFsU2NvcGUiLCJPUEVORURfTU9EQUxfQ0xBU1MiLCJjaGVja1JlbW92ZUJhY2tkcm9wIiwiYmFja2Ryb3BEb21FbCIsImJhY2tkcm9wU2NvcGVSZWYiLCJiYWNrZHJvcFNjb3BlIiwiZG9tRWwiLCJhZnRlckFuaW1hdGluZyIsImFzeW5jRGVmZXJyZWQiLCJhc3luY1Byb21pc2UiLCJ3aGVuIiwiYnJvYWRjYXN0Q2xvc2luZyIsInJlc3VsdE9yUmVhc29uIiwiY2xvc2luZyIsImRlZmF1bHRQcmV2ZW50ZWQiLCJuZXdCYWNrZHJvcEluZGV4IiwibW9kYWxPcGVuZXIiLCJhY3RpdmVFbGVtZW50IiwicmVuZGVyRGVmZXJyZWQiLCJjdXJyQmFja2Ryb3BJbmRleCIsImFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwiLCJhbmd1bGFyRG9tRWwiLCJ0ZW1wbGF0ZS11cmwiLCJ3aW5kb3dUZW1wbGF0ZVVybCIsIndpbmRvdy1jbGFzcyIsInJlYXNvbiIsImRpc21pc3NBbGwiLCJ0b3BNb2RhbCIsIiRtb2RhbFByb3ZpZGVyIiwiJGNvbnRyb2xsZXIiLCJnZXRUZW1wbGF0ZVByb21pc2UiLCJnZXRSZXNvbHZlUHJvbWlzZXMiLCJyZXNvbHZlcyIsInByb21pc2VzQXJyIiwiaW52b2tlIiwiJG1vZGFsIiwibW9kYWxPcHRpb25zIiwibW9kYWxSZXN1bHREZWZlcnJlZCIsIm1vZGFsT3BlbmVkRGVmZXJyZWQiLCJtb2RhbFJlbmRlckRlZmVycmVkIiwicmVuZGVyZWQiLCJ0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlIiwidHBsQW5kVmFycyIsIiRjbG9zZSIsIiRkaXNtaXNzIiwiY3RybEluc3RhbmNlIiwiY3RybExvY2FscyIsInJlc29sdmVJdGVyIiwiJG1vZGFsSW5zdGFuY2UiLCJjb250cm9sbGVyQXMiLCJiaW5kVG9Db250cm9sbGVyIiwic2V0TnVtUGFnZXMiLCJudW1QYWdlcyIsIml0ZW1zUGVyUGFnZSIsInRvdGFsUGFnZXMiLCJjYWxjdWxhdGVUb3RhbFBhZ2VzIiwicGFnZSIsInNlbGVjdFBhZ2UiLCJjZWlsIiwidG90YWxJdGVtcyIsImNsaWNrQWxsb3dlZCIsIm5nRGlzYWJsZWQiLCJibHVyIiwibm9QcmV2aW91cyIsIm5vTmV4dCIsImJvdW5kYXJ5TGlua3MiLCJkaXJlY3Rpb25MaW5rcyIsImZpcnN0VGV4dCIsInByZXZpb3VzVGV4dCIsIm5leHRUZXh0IiwibGFzdFRleHQiLCJyb3RhdGUiLCJwYWdpbmF0aW9uQ29uZmlnIiwibWFrZVBhZ2UiLCJudW1iZXIiLCJnZXRQYWdlcyIsImN1cnJlbnRQYWdlIiwicGFnZXMiLCJzdGFydFBhZ2UiLCJlbmRQYWdlIiwiaXNNYXhTaXplZCIsIm1heFNpemUiLCJwcmV2aW91c1BhZ2VTZXQiLCJuZXh0UGFnZVNldCIsInBhZ2luYXRpb25DdHJsIiwib3JpZ2luYWxSZW5kZXIiLCJhbGlnbiIsInBhZ2VyQ29uZmlnIiwic25ha2VfY2FzZSIsInJlZ2V4cCIsInNlcGFyYXRvciIsImxldHRlciIsImRlZmF1bHRPcHRpb25zIiwicG9wdXBEZWxheSIsInVzZUNvbnRlbnRFeHAiLCJ0cmlnZ2VyTWFwIiwibW91c2VlbnRlciIsImNsaWNrIiwiZ2xvYmFsT3B0aW9ucyIsInNldFRyaWdnZXJzIiwiZGVmYXVsdFRyaWdnZXJTaG93IiwiZ2V0VHJpZ2dlcnMiLCJkaXJlY3RpdmVOYW1lIiwic3RhcnRTeW0iLCJlbmRTeW0iLCJ0b29sdGlwTGlua2VyIiwidG9nZ2xlVG9vbHRpcEJpbmQiLCJ0dFNjb3BlIiwiaGlkZVRvb2x0aXBCaW5kIiwic2hvd1Rvb2x0aXBCaW5kIiwiaGFzRW5hYmxlRXhwIiwicHJlcGFyZVRvb2x0aXAiLCJwb3B1cFRpbWVvdXQiLCJyZXBvc2l0aW9uIiwidHJhbnNpdGlvblRpbWVvdXQiLCJjb250ZW50RXhwIiwiY3JlYXRlVG9vbHRpcCIsIiRkaWdlc3QiLCJwb3NpdGlvblRvb2x0aXAiLCJyZW1vdmVUb29sdGlwIiwidG9vbHRpcExpbmtlZFNjb3BlIiwicHJlcFBvcHVwQ2xhc3MiLCJwcmVwUGxhY2VtZW50IiwicHJlcFBvcHVwRGVsYXkiLCJwb3B1cENsYXNzIiwicHJlcFRyaWdnZXJzIiwidW5yZWdpc3RlclRyaWdnZXJzIiwidHRQb3NpdGlvbiIsIm9yaWdTY29wZSIsImFwcGVuZFRvQm9keVZhbCIsImVsZW0iLCJjdXJyZW50U2NvcGUiLCJwcmV2aW91c0VsZW1lbnQiLCJjdXJyZW50RWxlbWVudCIsInRvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGVTY29wZSIsImNoYW5nZUNvdW50ZXIiLCJjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50IiwicGFyc2VBc1Jlc291cmNlVXJsIiwidG9vbHRpcFRlbXBsYXRlVHJhbnNjbHVkZSIsInNyYyIsInRoaXNDaGFuZ2VJZCIsIm5ld1Njb3BlIiwidG9vbHRpcEFuaW1hdGlvbkNsYXNzIiwiJHRvb2x0aXAiLCJvcmlnaW5TY29wZSIsInRvb2x0aXBIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkIiwicHJvZ3Jlc3NDb25maWciLCJiYXJzIiwiYWRkQmFyIiwiYmFyIiwicmVjYWxjdWxhdGVQZXJjZW50YWdlIiwicGVyY2VudCIsInRvRml4ZWQiLCJyZW1vdmVCYXIiLCJwcm9ncmVzc0N0cmwiLCJzdGF0ZU9uIiwic3RhdGVPZmYiLCJyYXRpbmdDb25maWciLCJyYXRpbmdTdGF0ZXMiLCJidWlsZFRlbXBsYXRlT2JqZWN0cyIsInN0YXRlcyIsInJhdGUiLCJyZWFkb25seSIsIm9uSG92ZXIiLCJyZXNldCIsIm9uTGVhdmUiLCJvbktleWRvd24iLCJyYXRpbmdDdHJsIiwidGFicyIsInNlbGVjdGVkVGFiIiwib25EZXNlbGVjdCIsIm9uU2VsZWN0IiwiYWRkVGFiIiwicmVtb3ZlVGFiIiwibmV3QWN0aXZlSW5kZXgiLCJ2ZXJ0aWNhbCIsImp1c3RpZmllZCIsImVsbSIsInRhYnNldEN0cmwiLCIkdHJhbnNjbHVkZUZuIiwiaXNUYWJIZWFkaW5nIiwibm9kZSIsImhhc0F0dHJpYnV0ZSIsInRhYkNvbnRlbnRUcmFuc2NsdWRlIiwiaGVhZGluZ0VsZW1lbnQiLCJob3VyU3RlcCIsIm1pbnV0ZVN0ZXAiLCJzaG93TWVyaWRpYW4iLCJtZXJpZGlhbnMiLCJyZWFkb25seUlucHV0IiwibW91c2V3aGVlbCIsImFycm93a2V5cyIsInNob3dTcGlubmVycyIsInRpbWVwaWNrZXJDb25maWciLCJnZXRIb3Vyc0Zyb21UZW1wbGF0ZSIsInZhbGlkIiwibWVyaWRpYW4iLCJnZXRNaW51dGVzRnJvbVRlbXBsYXRlIiwicGFkIiwia2V5Ym9hcmRDaGFuZ2UiLCJtYWtlVmFsaWQiLCJ1cGRhdGVUZW1wbGF0ZSIsImludmFsaWRIb3VycyIsImludmFsaWRNaW51dGVzIiwiYWRkTWludXRlcyIsIkFNUE1TIiwiaW5wdXRzIiwiaG91cnNJbnB1dEVsIiwibWludXRlc0lucHV0RWwiLCJzZXR1cE1vdXNld2hlZWxFdmVudHMiLCJzZXR1cEFycm93a2V5RXZlbnRzIiwic2V0dXBJbnB1dEV2ZW50cyIsIiRlcnJvciIsImlzU2Nyb2xsaW5nVXAiLCJvcmlnaW5hbEV2ZW50Iiwid2hlZWxEZWx0YSIsImRlbHRhWSIsImRldGFpbCIsImluY3JlbWVudEhvdXJzIiwiZGVjcmVtZW50SG91cnMiLCJpbmNyZW1lbnRNaW51dGVzIiwiZGVjcmVtZW50TWludXRlcyIsInVwZGF0ZUhvdXJzIiwidXBkYXRlTWludXRlcyIsImludmFsaWRhdGUiLCJzZXRNaW51dGVzIiwidG9nZ2xlTWVyaWRpYW4iLCJ0aW1lcGlja2VyQ3RybCIsIiR0cmFuc2l0aW9uU3VwcHJlc3NEZXByZWNhdGVkIiwiZmluZEVuZEV2ZW50TmFtZSIsImVuZEV2ZW50TmFtZXMiLCJ0cmFuc0VsZW1lbnQiLCIkdHJhbnNpdGlvbiIsImVuZEV2ZW50TmFtZSIsInRyYW5zaXRpb25FbmRIYW5kbGVyIiwidHJhbnNpdGlvbkVuZEV2ZW50TmFtZXMiLCJhbmltYXRpb25FbmRFdmVudE5hbWVzIiwidHJhbnNpdGlvbkVuZEV2ZW50TmFtZSIsImFuaW1hdGlvbkVuZEV2ZW50TmFtZSIsIlRZUEVBSEVBRF9SRUdFWFAiLCJpdGVtTmFtZSIsInNvdXJjZSIsInZpZXdNYXBwZXIiLCJtb2RlbE1hcHBlciIsInR5cGVhaGVhZFBhcnNlciIsIkhPVF9LRVlTIiwiZXZlbnREZWJvdW5jZVRpbWUiLCJvcmlnaW5hbFNjb3BlIiwibW9kZWxDdHJsIiwiZmlyZVJlY2FsY3VsYXRpbmciLCJtb3ZlSW5Qcm9ncmVzcyIsInRpbWVvdXRFdmVudFByb21pc2UiLCJtYXRjaGVzIiwicmVjYWxjdWxhdGVQb3NpdGlvbiIsIm1pbkxlbmd0aCIsInR5cGVhaGVhZE1pbkxlbmd0aCIsImhhc0ZvY3VzIiwid2FpdFRpbWUiLCJ0eXBlYWhlYWRXYWl0TXMiLCJpc0VkaXRhYmxlIiwidHlwZWFoZWFkRWRpdGFibGUiLCJpc0xvYWRpbmdTZXR0ZXIiLCJ0eXBlYWhlYWRMb2FkaW5nIiwib25TZWxlY3RDYWxsYmFjayIsInR5cGVhaGVhZE9uU2VsZWN0IiwiaXNTZWxlY3RPbkJsdXIiLCJ0eXBlYWhlYWRTZWxlY3RPbkJsdXIiLCJpbnB1dEZvcm1hdHRlciIsInR5cGVhaGVhZElucHV0Rm9ybWF0dGVyIiwidHlwZWFoZWFkQXBwZW5kVG9Cb2R5IiwiZm9jdXNGaXJzdCIsInR5cGVhaGVhZEZvY3VzRmlyc3QiLCIkc2V0TW9kZWxWYWx1ZSIsInBhcnNlclJlc3VsdCIsInR5cGVhaGVhZCIsInBvcHVwSWQiLCJhcmlhLWF1dG9jb21wbGV0ZSIsImFyaWEtb3ducyIsInBvcFVwRWwiLCJtb3ZlLWluLXByb2dyZXNzIiwicXVlcnkiLCJ0eXBlYWhlYWRUZW1wbGF0ZVVybCIsInJlc2V0TWF0Y2hlcyIsImFjdGl2ZUlkeCIsImdldE1hdGNoSWQiLCJnZXRNYXRjaGVzQXN5bmMiLCJpbnB1dFZhbHVlIiwibG9jYWxzIiwib25DdXJyZW50UmVxdWVzdCIsInRpbWVvdXRQcm9taXNlIiwic2NoZWR1bGVTZWFyY2hXaXRoVGltZW91dCIsImNhbmNlbFByZXZpb3VzVGltZW91dCIsImNhbmRpZGF0ZVZpZXdWYWx1ZSIsImVtcHR5Vmlld1ZhbHVlIiwiJG1vZGVsIiwiJGl0ZW0iLCIkbGFiZWwiLCJkaXNtaXNzQ2xpY2tIYW5kbGVyIiwibWF0Y2hJZHgiLCJzZWxlY3RBY3RpdmUiLCJzZWxlY3RNYXRjaCIsImNsb25lZEVsZW1lbnQiLCJlc2NhcGVSZWdleHAiLCJxdWVyeVRvRXNjYXBlIiwibWF0Y2hJdGVtIiwiJHRlbXBsYXRlQ2FjaGUiLCIkJGNzcCIsInByZXBlbmQiLCJzYXZlIiwiZGlzYWJsZVNhdmUiLCJoaWRlTGFiZWwiLCJmaWxlVHlwZSIsImhhc1ZhbGlkRXh0ZW5zaW9uIiwiZXh0ZW5zaW9ucyIsInRlc3RVcmwiLCJ0ZXN0SW1hZ2UiLCJpbWFnZSIsIkltYWdlIiwib25sb2FkIiwib25lcnJvciIsImludmFsaWRUeXBlIiwidXJsUmVnRXhwIiwiZG9WYWxpZGF0aW9uIiwiZm9yY2VkVmFsaWQiLCJhbGxvd0luaXRFbXB0eSIsImluaXRFbXB0eSIsImluZm8iLCJTVE9SQUdFX0VOViIsInNldHRpbmdzU2F2ZXIiLCJzZXR0aW5nc0dldHRlciIsInNldHRpbmdzQ2xvc2VyIiwic2V0dGluZ3MiLCJhZGRpdGlvbmFsUGFyYW1zIiwiYWxlcnRzIiwiZ2V0QWRkaXRpb25hbFBhcmFtIiwiZGVmYXVsdFZhbCIsInNldEFkZGl0aW9uYWxQYXJhbSIsImxvYWRBZGRpdGlvbmFsUGFyYW1zIiwiZ2V0QWRkaXRpb25hbFBhcmFtcyIsInNldEFkZGl0aW9uYWxQYXJhbXMiLCJzYXZlU2V0dGluZ3MiLCJjbG9zZVNldHRpbmdzIiwiZ2V0UGFyYW1zIiwiJGVsbSIsIiR3YXRjaENvbGxlY3Rpb24iLCJuZXdBbGVydHMiLCJvbGRBbGVydHMiLCJTVE9SQUdFX0ZJTEVfVVJMX0JBU0UiLCJTVE9SQUdFX0ZPTERFUl9VUkxfQkFTRSIsImdldFN0b3JhZ2VVcmxEYXRhIiwiZ2V0U3RvcmFnZVR5cGUiLCJzdG9yYWdlVXJsIiwiZ2V0Q29tcGFueUlkIiwicCIsInN0ciIsInBhaXIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjb21wYW55SWQiLCJmaWxlTmFtZSIsInBvcCIsImZvbGRlciIsImdhZGdldHMiLCJhbmd1bGFyTG9hZCIsImxvYWRGb250cyIsImZhbWlseSIsImZvbnRzIiwidXJscyIsInNwYWNlcyIsImZvbnRCYXNlVXJsIiwiZXhjbHVkZSIsImFsbEZvbnRzIiwibG9hZENTUyIsImdldEdvb2dsZUZvbnRzIiwicmVzcCIsIml0ZW1zIiwic3Vic2V0cyIsImdldEZvbnRzVXNlZCIsImZhbWlseUxpc3QiLCJmb250c1VzZWQiLCJpMThuIiwiZmFsbGJhY2tMbmciLCJyZXNHZXRQYXRoIiwiaXNJbWFnZSIsImdhZGdldHNBcGkiLCJzZXR0aW5nc1BhcnNlciIsInByb2Nlc3NTZXR0aW5ncyIsIm5ld1NldHRpbmdzIiwicnNXIiwicnNIIiwiZGVidWciLCJsYXlvdXRVUkwiLCJlbmNvZGVQYXJhbXMiLCJhZGRpdGlvbmFsUGFyYW1zU3RyIiwiZW5jb2RlQWRkaXRpb25hbFBhcmFtcyIsInJwYyIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZWZhdWx0U2V0dGluZ3MiLCJkZWZhdWx0QWRkaXRpb25hbFBhcmFtcyIsInBhcnNlQWRkaXRpb25hbFBhcmFtcyIsImRlZmF1bHRQYXJhbXMiLCJwYXJzZVBhcmFtcyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3RyaXBQcmVmaXgiLCJlbmNvZGVVUklDb21wb25lbnQiLCJwYXJhbXNTdHIiLCJ2YXJzIiwiZ29vZ2xlIiwidmlzdWFsaXphdGlvbiIsInNldE9uTG9hZENhbGxiYWNrIiwieGZyYW1lT3B0aW9ucyIsIm5vWEZyYW1lT3B0aW9ucyIsImlzUHJldmlld1VybCIsInVybElucHV0IiwidmFsaWRhdGVYRnJhbWUiLCJoYXNPcHRpb25zIiwic2V0dGluZ3NGb3JtIiwicGFnZVVybCIsIiR2YWxpZCIsIm5ld1ZhbCIsIm9sZFZhbCIsImludGVyYWN0aXZpdHkiLCJzY3JvbGxiYXJzIiwiY2FjaGVCdXN0ZXIiLCJpbnRlcmFjdGl2ZSIsInJlZ2lvbiIsInNob3dSZWdpb24iLCJob3Jpem9udGFsIiwidW5sb2FkIiwiem9vbSIsInhmcmFtZSIsImhlYWRlcnMiLCJzdGF0dXMiLCJzdGF0dXNUZXh0Il0sIm1hcHBpbmdzIjoiQ0FLQyxTQUFVQSxFQUFNQyxHQUNPLGtCQUFYQyxTQUF5QkEsT0FBT0MsSUFFekNELFVBQVcsV0FDVCxNQUFRRCxPQUVrQixnQkFBWkcsU0FJaEJDLE9BQU9ELFFBQVVILElBRWpCQSxLQUVGSyxLQUFNLFdBb0JSLFFBQVNDLEdBQWFDLEdBRXBCLFlBRUEsSUFBSUMsR0FBTUQsRUFBV0UsYUFDbkJDLEVBQVVILEVBQVdHLFVBRW5CQyxFQUFvQyxXQUN0QyxHQUFJQyxHQUFZTCxFQUFXTSxtQkFDdkJDLFNBQVFDLFNBQVNILEdBQ25CTCxFQUFXUyxJQUFJSixHQUlmRixFQUFRTyxJQUFJVCxFQUFLRCxFQUFXUyxPQUloQ0wsR0FBa0NPLFlBQWMsb0NBRTVDUixFQUNHQSxFQUFRUyxJQUFJWCxHQUdmRCxFQUFXUyxJQUFJTixFQUFRUyxJQUFJWCxJQUFNLFNBQVNHLEdBRjFDQSxJQUlPRyxRQUFRQyxTQUFTUixFQUFXTSxzQkFDckNOLEVBQVdTLElBQUlULEVBQVdNLHFCQWdCOUIsUUFBU08sS0FFUCxZQUVBLElBQUlDLEdBQ0FDLEVBSUFDLEVBSEFDLEVBQWtCLEtBQ2xCQyxHQUF3QixFQUN4QkMsR0FBc0MsQ0FpQzFDSCxJQUNFSSxTQUFVLFNBQVVDLEVBQU9DLEdBSXpCLE1BSGEsU0FBVEEsSUFDRkQsRUFBUUUsRUFBa0JGLElBRXJCQSxHQUVURyxPQUFRLFNBQVVILEVBQU9DLEdBSXZCLE1BSGEsU0FBVEEsSUFDRkQsRUFBUUksRUFBZ0JKLElBRW5CQSxHQUVUSyxtQkFBb0IsU0FBVUwsRUFBT0MsR0FJbkMsTUFIYSxXQUFUQSxJQUNGRCxFQUFRTSxFQUEyQk4s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RjVDLFFBS0MsU0FBVXNXLEdBQ1g3WCxFQUFLNDlDLE1BQU8sMkNBQTZDL2xDLEVBQVMyb0MsT0FBUyxLQUFPM29DLEVBQVM0b0MsZUFLakcsT0FBTzFqRCIsImZpbGUiOiJqcy9zZXR0aW5ncy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIGFuZ3VsYXItdHJhbnNsYXRlIC0gdjIuMTMuMSAtIDIwMTYtMTItMDZcbiAqIFxuICogQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBhbmd1bGFyLXRyYW5zbGF0ZSB0ZWFtLCBQYXNjYWwgUHJlY2h0OyBMaWNlbnNlZCBNSVRcbiAqL1xuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUgdW5sZXNzIGFtZE1vZHVsZUlkIGlzIHNldFxuICAgIGRlZmluZShbXSwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIChmYWN0b3J5KCkpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgIC8vIGxpa2UgTm9kZS5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24gKCkge1xuXG4vKipcbiAqIEBuZ2RvYyBvdmVydmlld1xuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIG1haW4gbW9kdWxlIHdoaWNoIGhvbGRzIGV2ZXJ5dGhpbmcgdG9nZXRoZXIuXG4gKi9cbnJ1blRyYW5zbGF0ZS4kaW5qZWN0ID0gWyckdHJhbnNsYXRlJ107XG4kdHJhbnNsYXRlLiRpbmplY3QgPSBbJyRTVE9SQUdFX0tFWScsICckd2luZG93UHJvdmlkZXInLCAnJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyJywgJ3Bhc2NhbHByZWNodFRyYW5zbGF0ZU92ZXJyaWRlciddO1xuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uLiRpbmplY3QgPSBbJyRpbnRlcnBvbGF0ZScsICckdHJhbnNsYXRlU2FuaXRpemF0aW9uJ107XG50cmFuc2xhdGVEaXJlY3RpdmUuJGluamVjdCA9IFsnJHRyYW5zbGF0ZScsICckaW50ZXJwb2xhdGUnLCAnJGNvbXBpbGUnLCAnJHBhcnNlJywgJyRyb290U2NvcGUnXTtcbnRyYW5zbGF0ZUF0dHJEaXJlY3RpdmUuJGluamVjdCA9IFsnJHRyYW5zbGF0ZScsICckcm9vdFNjb3BlJ107XG50cmFuc2xhdGVDbG9ha0RpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdHJhbnNsYXRlJywgJyRyb290U2NvcGUnXTtcbnRyYW5zbGF0ZUZpbHRlckZhY3RvcnkuJGluamVjdCA9IFsnJHBhcnNlJywgJyR0cmFuc2xhdGUnXTtcbiR0cmFuc2xhdGlvbkNhY2hlLiRpbmplY3QgPSBbJyRjYWNoZUZhY3RvcnknXTtcbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJywgWyduZyddKVxuICAucnVuKHJ1blRyYW5zbGF0ZSk7XG5cbmZ1bmN0aW9uIHJ1blRyYW5zbGF0ZSgkdHJhbnNsYXRlKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBrZXkgPSAkdHJhbnNsYXRlLnN0b3JhZ2VLZXkoKSxcbiAgICBzdG9yYWdlID0gJHRyYW5zbGF0ZS5zdG9yYWdlKCk7XG5cbiAgdmFyIGZhbGxiYWNrRnJvbUluY29ycmVjdFN0b3JhZ2VWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJlZmVycmVkID0gJHRyYW5zbGF0ZS5wcmVmZXJyZWRMYW5ndWFnZSgpO1xuICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKHByZWZlcnJlZCkpIHtcbiAgICAgICR0cmFuc2xhdGUudXNlKHByZWZlcnJlZCk7XG4gICAgICAvLyAkdHJhbnNsYXRlLnVzZSgpIHdpbGwgYWxzbyByZW1lbWJlciB0aGUgbGFuZ3VhZ2UuXG4gICAgICAvLyBTbywgd2UgZG9uJ3QgbmVlZCB0byBjYWxsIHN0b3JhZ2UucHV0KCkgaGVyZS5cbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcmFnZS5wdXQoa2V5LCAkdHJhbnNsYXRlLnVzZSgpKTtcbiAgICB9XG4gIH07XG5cbiAgZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlLmRpc3BsYXlOYW1lID0gJ2ZhbGxiYWNrRnJvbUluY29ycmVjdFN0b3JhZ2VWYWx1ZSc7XG5cbiAgaWYgKHN0b3JhZ2UpIHtcbiAgICBpZiAoIXN0b3JhZ2UuZ2V0KGtleSkpIHtcbiAgICAgIGZhbGxiYWNrRnJvbUluY29ycmVjdFN0b3JhZ2VWYWx1ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkdHJhbnNsYXRlLnVzZShzdG9yYWdlLmdldChrZXkpKVsnY2F0Y2gnXShmYWxsYmFja0Zyb21JbmNvcnJlY3RTdG9yYWdlVmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKCR0cmFuc2xhdGUucHJlZmVycmVkTGFuZ3VhZ2UoKSkpIHtcbiAgICAkdHJhbnNsYXRlLnVzZSgkdHJhbnNsYXRlLnByZWZlcnJlZExhbmd1YWdlKCkpO1xuICB9XG59XG5cbnJ1blRyYW5zbGF0ZS5kaXNwbGF5TmFtZSA9ICdydW5UcmFuc2xhdGUnO1xuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogQ29uZmlndXJhdGlvbnMgZm9yICR0cmFuc2xhdGVTYW5pdGl6YXRpb25cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKS5wcm92aWRlcignJHRyYW5zbGF0ZVNhbml0aXphdGlvbicsICR0cmFuc2xhdGVTYW5pdGl6YXRpb25Qcm92aWRlcik7XG5cbmZ1bmN0aW9uICR0cmFuc2xhdGVTYW5pdGl6YXRpb25Qcm92aWRlciAoKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciAkc2FuaXRpemUsXG4gICAgICAkc2NlLFxuICAgICAgY3VycmVudFN0cmF0ZWd5ID0gbnVsbCwgLy8gVE9ETyBjaGFuZ2UgdG8gZWl0aGVyICdzYW5pdGl6ZScsICdlc2NhcGUnIG9yIFsnc2FuaXRpemUnLCAnZXNjYXBlUGFyYW1ldGVycyddIGluIDMuMC5cbiAgICAgIGhhc0NvbmZpZ3VyZWRTdHJhdGVneSA9IGZhbHNlLFxuICAgICAgaGFzU2hvd25Ob1N0cmF0ZWd5Q29uZmlndXJlZFdhcm5pbmcgPSBmYWxzZSxcbiAgICAgIHN0cmF0ZWdpZXM7XG5cbiAgLyoqXG4gICAqIERlZmluaXRpb24gb2YgYSBzYW5pdGl6YXRpb24gc3RyYXRlZ3kgZnVuY3Rpb25cbiAgICogQGNhbGxiYWNrIFN0cmF0ZWd5RnVuY3Rpb25cbiAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSB2YWx1ZSAtIHZhbHVlIHRvIGJlIHNhbml0aXplZCAoZWl0aGVyIGEgc3RyaW5nIG9yIGFuIGludGVycG9sYXRlZCB2YWx1ZSBtYXApXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIC0gZWl0aGVyICd0ZXh0JyBmb3IgYSBzdHJpbmcgKHRyYW5zbGF0aW9uKSBvciAncGFyYW1zJyBmb3IgdGhlIGludGVycG9sYXRlZCBwYXJhbXNcbiAgICogQHJldHVybiB7c3RyaW5nfG9iamVjdH1cbiAgICovXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgKiBAbmFtZSBzdHJhdGVnaWVzXG4gICAqIEBwcm9wZXJ0eU9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBGb2xsb3dpbmcgc3RyYXRlZ2llcyBhcmUgYnVpbHQtaW46XG4gICAqIDxkbD5cbiAgICogICA8ZHQ+c2FuaXRpemU8L2R0PlxuICAgKiAgIDxkZD5TYW5pdGl6ZXMgSFRNTCBpbiB0aGUgdHJhbnNsYXRpb24gdGV4dCB1c2luZyAkc2FuaXRpemU8L2RkPlxuICAgKiAgIDxkdD5lc2NhcGU8L2R0PlxuICAgKiAgIDxkZD5Fc2NhcGVzIEhUTUwgaW4gdGhlIHRyYW5zbGF0aW9uPC9kZD5cbiAgICogICA8ZHQ+c2FuaXRpemVQYXJhbWV0ZXJzPC9kdD5cbiAgICogICA8ZGQ+U2FuaXRpemVzIEhUTUwgaW4gdGhlIHZhbHVlcyBvZiB0aGUgaW50ZXJwb2xhdGlvbiBwYXJhbWV0ZXJzIHVzaW5nICRzYW5pdGl6ZTwvZGQ+XG4gICAqICAgPGR0PmVzY2FwZVBhcmFtZXRlcnM8L2R0PlxuICAgKiAgIDxkZD5Fc2NhcGVzIEhUTUwgaW4gdGhlIHZhbHVlcyBvZiB0aGUgaW50ZXJwb2xhdGlvbiBwYXJhbWV0ZXJzPC9kZD5cbiAgICogICA8ZHQ+ZXNjYXBlZDwvZHQ+XG4gICAqICAgPGRkPlN1cHBvcnQgbGVnYWN5IHN0cmF0ZWd5IG5hbWUgJ2VzY2FwZWQnIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSAod2lsbCBiZSByZW1vdmVkIGluIDMuMCk8L2RkPlxuICAgKiA8L2RsPlxuICAgKlxuICAgKi9cblxuICBzdHJhdGVnaWVzID0ge1xuICAgIHNhbml0aXplOiBmdW5jdGlvbiAodmFsdWUsIG1vZGUvKiwgY29udGV4dCovKSB7XG4gICAgICBpZiAobW9kZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIHZhbHVlID0gaHRtbFNhbml0aXplVmFsdWUodmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgZXNjYXBlOiBmdW5jdGlvbiAodmFsdWUsIG1vZGUvKiwgY29udGV4dCovKSB7XG4gICAgICBpZiAobW9kZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIHZhbHVlID0gaHRtbEVzY2FwZVZhbHVlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIHNhbml0aXplUGFyYW1ldGVyczogZnVuY3Rpb24gKHZhbHVlLCBtb2RlLyosIGNvbnRleHQqLykge1xuICAgICAgaWYgKG1vZGUgPT09ICdwYXJhbXMnKSB7XG4gICAgICAgIHZhbHVlID0gbWFwSW50ZXJwb2xhdGlvblBhcmFtZXRlcnModmFsdWUsIGh0bWxTYW5pdGl6ZVZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIGVzY2FwZVBhcmFtZXRlcnM6IGZ1bmN0aW9uICh2YWx1ZSwgbW9kZS8qLCBjb250ZXh0Ki8pIHtcbiAgICAgIGlmIChtb2RlID09PSAncGFyYW1zJykge1xuICAgICAgICB2YWx1ZSA9IG1hcEludGVycG9sYXRpb25QYXJhbWV0ZXJzKHZhbHVlLCBodG1sRXNjYXBlVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgc2NlOiBmdW5jdGlvbiAodmFsdWUsIG1vZGUsIGNvbnRleHQpIHtcbiAgICAgIGlmIChtb2RlID09PSAndGV4dCcpIHtcbiAgICAgICAgdmFsdWUgPSBodG1sVHJ1c3RWYWx1ZSh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdwYXJhbXMnKSB7XG4gICAgICAgIGlmIChjb250ZXh0ICE9PSAnZmlsdGVyJykge1xuICAgICAgICAgIC8vIGRvIGh0bWwgZXNjYXBlIGluIGZpbHRlciBjb250ZXh0ICMxMTAxXG4gICAgICAgICAgdmFsdWUgPSBtYXBJbnRlcnBvbGF0aW9uUGFyYW1ldGVycyh2YWx1ZSwgaHRtbEVzY2FwZVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgc2NlUGFyYW1ldGVyczogZnVuY3Rpb24gKHZhbHVlLCBtb2RlLyosIGNvbnRleHQqLykge1xuICAgICAgaWYgKG1vZGUgPT09ICdwYXJhbXMnKSB7XG4gICAgICAgIHZhbHVlID0gbWFwSW50ZXJwb2xhdGlvblBhcmFtZXRlcnModmFsdWUsIGh0bWxUcnVzdFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH07XG4gIC8vIFN1cHBvcnQgbGVnYWN5IHN0cmF0ZWd5IG5hbWUgJ2VzY2FwZWQnIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgLy8gVE9ETyBzaG91bGQgYmUgcmVtb3ZlZCBpbiAzLjBcbiAgc3RyYXRlZ2llcy5lc2NhcGVkID0gc3RyYXRlZ2llcy5lc2NhcGVQYXJhbWV0ZXJzO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXIjYWRkU3RyYXRlZ3lcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBBZGRzIGEgc2FuaXRpemF0aW9uIHN0cmF0ZWd5IHRvIHRoZSBsaXN0IG9mIGtub3duIHN0cmF0ZWdpZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJhdGVneU5hbWUgLSB1bmlxdWUga2V5IGZvciBhIHN0cmF0ZWd5XG4gICAqIEBwYXJhbSB7U3RyYXRlZ3lGdW5jdGlvbn0gc3RyYXRlZ3lGdW5jdGlvbiAtIHN0cmF0ZWd5IGZ1bmN0aW9uXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHRoaXNcbiAgICovXG4gIHRoaXMuYWRkU3RyYXRlZ3kgPSBmdW5jdGlvbiAoc3RyYXRlZ3lOYW1lLCBzdHJhdGVneUZ1bmN0aW9uKSB7XG4gICAgc3RyYXRlZ2llc1tzdHJhdGVneU5hbWVdID0gc3RyYXRlZ3lGdW5jdGlvbjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyI3JlbW92ZVN0cmF0ZWd5XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb25Qcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVtb3ZlcyBhIHNhbml0aXphdGlvbiBzdHJhdGVneSBmcm9tIHRoZSBsaXN0IG9mIGtub3duIHN0cmF0ZWdpZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJhdGVneU5hbWUgLSB1bmlxdWUga2V5IGZvciBhIHN0cmF0ZWd5XG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHRoaXNcbiAgICovXG4gIHRoaXMucmVtb3ZlU3RyYXRlZ3kgPSBmdW5jdGlvbiAoc3RyYXRlZ3lOYW1lKSB7XG4gICAgZGVsZXRlIHN0cmF0ZWdpZXNbc3RyYXRlZ3lOYW1lXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyI3VzZVN0cmF0ZWd5XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb25Qcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2VsZWN0cyBhIHNhbml0aXphdGlvbiBzdHJhdGVneS4gV2hlbiBhbiBhcnJheSBpcyBwcm92aWRlZCB0aGUgc3RyYXRlZ2llcyB3aWxsIGJlIGV4ZWN1dGVkIGluIG9yZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xTdHJhdGVneUZ1bmN0aW9ufGFycmF5fSBzdHJhdGVneSBUaGUgc2FuaXRpemF0aW9uIHN0cmF0ZWd5IC8gc3RyYXRlZ2llcyB3aGljaCBzaG91bGQgYmUgdXNlZC4gRWl0aGVyIGEgbmFtZSBvZiBhbiBleGlzdGluZyBzdHJhdGVneSwgYSBjdXN0b20gc3RyYXRlZ3kgZnVuY3Rpb24sIG9yIGFuIGFycmF5IGNvbnNpc3Rpbmcgb2YgbXVsdGlwbGUgbmFtZXMgYW5kIC8gb3IgY3VzdG9tIGZ1bmN0aW9ucy5cbiAgICogQHJldHVybnMge29iamVjdH0gdGhpc1xuICAgKi9cbiAgdGhpcy51c2VTdHJhdGVneSA9IGZ1bmN0aW9uIChzdHJhdGVneSkge1xuICAgIGhhc0NvbmZpZ3VyZWRTdHJhdGVneSA9IHRydWU7XG4gICAgY3VycmVudFN0cmF0ZWd5ID0gc3RyYXRlZ3k7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBvYmplY3RcbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uXG4gICAqIEByZXF1aXJlcyAkaW5qZWN0b3JcbiAgICogQHJlcXVpcmVzICRsb2dcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNhbml0aXplcyBpbnRlcnBvbGF0aW9uIHBhcmFtZXRlcnMgYW5kIHRyYW5zbGF0ZWQgdGV4dHMuXG4gICAqXG4gICAqL1xuICB0aGlzLiRnZXQgPSBbJyRpbmplY3RvcicsICckbG9nJywgZnVuY3Rpb24gKCRpbmplY3RvciwgJGxvZykge1xuXG4gICAgdmFyIGNhY2hlZFN0cmF0ZWd5TWFwID0ge307XG5cbiAgICB2YXIgYXBwbHlTdHJhdGVnaWVzID0gZnVuY3Rpb24gKHZhbHVlLCBtb2RlLCBjb250ZXh0LCBzZWxlY3RlZFN0cmF0ZWdpZXMpIHtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxlY3RlZFN0cmF0ZWdpZXMsIGZ1bmN0aW9uIChzZWxlY3RlZFN0cmF0ZWd5KSB7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oc2VsZWN0ZWRTdHJhdGVneSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IHNlbGVjdGVkU3RyYXRlZ3kodmFsdWUsIG1vZGUsIGNvbnRleHQpO1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihzdHJhdGVnaWVzW3NlbGVjdGVkU3RyYXRlZ3ldKSkge1xuICAgICAgICAgIHZhbHVlID0gc3RyYXRlZ2llc1tzZWxlY3RlZFN0cmF0ZWd5XSh2YWx1ZSwgbW9kZSwgY29udGV4dCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc1N0cmluZyhzdHJhdGVnaWVzW3NlbGVjdGVkU3RyYXRlZ3ldKSkge1xuICAgICAgICAgIGlmICghY2FjaGVkU3RyYXRlZ3lNYXBbc3RyYXRlZ2llc1tzZWxlY3RlZFN0cmF0ZWd5XV0pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNhY2hlZFN0cmF0ZWd5TWFwW3N0cmF0ZWdpZXNbc2VsZWN0ZWRTdHJhdGVneV1dID0gJGluamVjdG9yLmdldChzdHJhdGVnaWVzW3NlbGVjdGVkU3RyYXRlZ3ldKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgY2FjaGVkU3RyYXRlZ3lNYXBbc3RyYXRlZ2llc1tzZWxlY3RlZFN0cmF0ZWd5XV0gPSBmdW5jdGlvbigpIHt9O1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvbjogVW5rbm93biBzYW5pdGl6YXRpb24gc3RyYXRlZ3k6IFxcJycgKyBzZWxlY3RlZFN0cmF0ZWd5ICsgJ1xcJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB2YWx1ZSA9IGNhY2hlZFN0cmF0ZWd5TWFwW3N0cmF0ZWdpZXNbc2VsZWN0ZWRTdHJhdGVneV1dKHZhbHVlLCBtb2RlLCBjb250ZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvbjogVW5rbm93biBzYW5pdGl6YXRpb24gc3RyYXRlZ3k6IFxcJycgKyBzZWxlY3RlZFN0cmF0ZWd5ICsgJ1xcJycpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLy8gVE9ETzogc2hvdWxkIGJlIHJlbW92ZWQgaW4gMy4wXG4gICAgdmFyIHNob3dOb1N0cmF0ZWd5Q29uZmlndXJlZFdhcm5pbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIWhhc0NvbmZpZ3VyZWRTdHJhdGVneSAmJiAhaGFzU2hvd25Ob1N0cmF0ZWd5Q29uZmlndXJlZFdhcm5pbmcpIHtcbiAgICAgICAgJGxvZy53YXJuKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb246IE5vIHNhbml0aXphdGlvbiBzdHJhdGVneSBoYXMgYmVlbiBjb25maWd1cmVkLiBUaGlzIGNhbiBoYXZlIHNlcmlvdXMgc2VjdXJpdHkgaW1wbGljYXRpb25zLiBTZWUgaHR0cDovL2FuZ3VsYXItdHJhbnNsYXRlLmdpdGh1Yi5pby9kb2NzLyMvZ3VpZGUvMTlfc2VjdXJpdHkgZm9yIGRldGFpbHMuJyk7XG4gICAgICAgIGhhc1Nob3duTm9TdHJhdGVneUNvbmZpZ3VyZWRXYXJuaW5nID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKCRpbmplY3Rvci5oYXMoJyRzYW5pdGl6ZScpKSB7XG4gICAgICAkc2FuaXRpemUgPSAkaW5qZWN0b3IuZ2V0KCckc2FuaXRpemUnKTtcbiAgICB9XG4gICAgaWYgKCRpbmplY3Rvci5oYXMoJyRzY2UnKSkge1xuICAgICAgJHNjZSA9ICRpbmplY3Rvci5nZXQoJyRzY2UnKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvbiN1c2VTdHJhdGVneVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogU2VsZWN0cyBhIHNhbml0aXphdGlvbiBzdHJhdGVneS4gV2hlbiBhbiBhcnJheSBpcyBwcm92aWRlZCB0aGUgc3RyYXRlZ2llcyB3aWxsIGJlIGV4ZWN1dGVkIGluIG9yZGVyLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfFN0cmF0ZWd5RnVuY3Rpb258YXJyYXl9IHN0cmF0ZWd5IFRoZSBzYW5pdGl6YXRpb24gc3RyYXRlZ3kgLyBzdHJhdGVnaWVzIHdoaWNoIHNob3VsZCBiZSB1c2VkLiBFaXRoZXIgYSBuYW1lIG9mIGFuIGV4aXN0aW5nIHN0cmF0ZWd5LCBhIGN1c3RvbSBzdHJhdGVneSBmdW5jdGlvbiwgb3IgYW4gYXJyYXkgY29uc2lzdGluZyBvZiBtdWx0aXBsZSBuYW1lcyBhbmQgLyBvciBjdXN0b20gZnVuY3Rpb25zLlxuICAgICAgICovXG4gICAgICB1c2VTdHJhdGVneTogKGZ1bmN0aW9uIChzZWxmKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc3RyYXRlZ3kpIHtcbiAgICAgICAgICBzZWxmLnVzZVN0cmF0ZWd5KHN0cmF0ZWd5KTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uI3Nhbml0aXplXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBTYW5pdGl6ZXMgYSB2YWx1ZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHZhbHVlIFRoZSB2YWx1ZSB3aGljaCBzaG91bGQgYmUgc2FuaXRpemVkLlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgVGhlIGN1cnJlbnQgc2FuaXRpemF0aW9uIG1vZGUsIGVpdGhlciAncGFyYW1zJyBvciAndGV4dCcuXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xTdHJhdGVneUZ1bmN0aW9ufGFycmF5fSBbc3RyYXRlZ3ldIE9wdGlvbmFsIGN1c3RvbSBzdHJhdGVneSB3aGljaCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgc3RyYXRlZ3kuXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NvbnRleHRdIFRoZSBjb250ZXh0IG9mIHRoaXMgY2FsbDogZmlsdGVyLCBzZXJ2aWNlLiBEZWZhdWx0IGlzIHNlcnZpY2VcbiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd8b2JqZWN0fSBzYW5pdGl6ZWQgdmFsdWVcbiAgICAgICAqL1xuICAgICAgc2FuaXRpemU6IGZ1bmN0aW9uICh2YWx1ZSwgbW9kZSwgc3RyYXRlZ3ksIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKCFjdXJyZW50U3RyYXRlZ3kpIHtcbiAgICAgICAgICBzaG93Tm9TdHJhdGVneUNvbmZpZ3VyZWRXYXJuaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN0cmF0ZWd5ICYmIHN0cmF0ZWd5ICE9PSBudWxsKSB7XG4gICAgICAgICAgc3RyYXRlZ3kgPSBjdXJyZW50U3RyYXRlZ3k7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN0cmF0ZWd5KSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgY29udGV4dCA9ICdzZXJ2aWNlJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWxlY3RlZFN0cmF0ZWdpZXMgPSBhbmd1bGFyLmlzQXJyYXkoc3RyYXRlZ3kpID8gc3RyYXRlZ3kgOiBbc3RyYXRlZ3ldO1xuICAgICAgICByZXR1cm4gYXBwbHlTdHJhdGVnaWVzKHZhbHVlLCBtb2RlLCBjb250ZXh0LCBzZWxlY3RlZFN0cmF0ZWdpZXMpO1xuICAgICAgfVxuICAgIH07XG4gIH1dO1xuXG4gIHZhciBodG1sRXNjYXBlVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgZWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdj48L2Rpdj4nKTtcbiAgICBlbGVtZW50LnRleHQodmFsdWUpOyAvLyBub3QgY2hhaW5hYmxlLCBzZWUgIzEwNDRcbiAgICByZXR1cm4gZWxlbWVudC5odG1sKCk7XG4gIH07XG5cbiAgdmFyIGh0bWxTYW5pdGl6ZVZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKCEkc2FuaXRpemUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uOiBFcnJvciBjYW5ub3QgZmluZCAkc2FuaXRpemUgc2VydmljZS4gRWl0aGVyIGluY2x1ZGUgdGhlIG5nU2FuaXRpemUgbW9kdWxlIChodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmdTYW5pdGl6ZSkgb3IgdXNlIGEgc2FuaXRpemF0aW9uIHN0cmF0ZWd5IHdoaWNoIGRvZXMgbm90IGRlcGVuZCBvbiAkc2FuaXRpemUsIHN1Y2ggYXMgXFwnZXNjYXBlXFwnLicpO1xuICAgIH1cbiAgICByZXR1cm4gJHNhbml0aXplKHZhbHVlKTtcbiAgfTtcblxuICB2YXIgaHRtbFRydXN0VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAoISRzY2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uOiBFcnJvciBjYW5ub3QgZmluZCAkc2NlIHNlcnZpY2UuJyk7XG4gICAgfVxuICAgIHJldHVybiAkc2NlLnRydXN0QXNIdG1sKHZhbHVlKTtcbiAgfTtcblxuICB2YXIgbWFwSW50ZXJwb2xhdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiAodmFsdWUsIGl0ZXJhdGVlLCBzdGFjaykge1xuICAgIGlmIChhbmd1bGFyLmlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gYW5ndWxhci5pc0FycmF5KHZhbHVlKSA/IFtdIDoge307XG5cbiAgICAgIGlmICghc3RhY2spIHtcbiAgICAgICAgc3RhY2sgPSBbXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzdGFjay5pbmRleE9mKHZhbHVlKSA+IC0xKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb246IEVycm9yIGNhbm5vdCBpbnRlcnBvbGF0ZSBwYXJhbWV0ZXIgZHVlIHJlY3Vyc2l2ZSBvYmplY3QnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzdGFjay5wdXNoKHZhbHVlKTtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24gKHByb3BlcnR5VmFsdWUsIHByb3BlcnR5S2V5KSB7XG5cbiAgICAgICAgLyogU2tpcHBpbmcgZnVuY3Rpb24gcHJvcGVydGllcy4gKi9cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihwcm9wZXJ0eVZhbHVlKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdFtwcm9wZXJ0eUtleV0gPSBtYXBJbnRlcnBvbGF0aW9uUGFyYW1ldGVycyhwcm9wZXJ0eVZhbHVlLCBpdGVyYXRlZSwgc3RhY2spO1xuICAgICAgfSk7XG4gICAgICBzdGFjay5zcGxpY2UoLTEsIDEpOyAvLyByZW1vdmUgbGFzdFxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGl0ZXJhdGVlKHZhbHVlKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqICR0cmFuc2xhdGVQcm92aWRlciBhbGxvd3MgZGV2ZWxvcGVycyB0byByZWdpc3RlciB0cmFuc2xhdGlvbi10YWJsZXMsIGFzeW5jaHJvbm91cyBsb2FkZXJzXG4gKiBhbmQgc2ltaWxhciB0byBjb25maWd1cmUgdHJhbnNsYXRpb24gYmVoYXZpb3IgZGlyZWN0bHkgaW5zaWRlIG9mIGEgbW9kdWxlLlxuICpcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuICAuY29uc3RhbnQoJ3Bhc2NhbHByZWNodFRyYW5zbGF0ZU92ZXJyaWRlcicsIHt9KVxuICAucHJvdmlkZXIoJyR0cmFuc2xhdGUnLCAkdHJhbnNsYXRlKTtcblxuZnVuY3Rpb24gJHRyYW5zbGF0ZSgkU1RPUkFHRV9LRVksICR3aW5kb3dQcm92aWRlciwgJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyLCBwYXNjYWxwcmVjaHRUcmFuc2xhdGVPdmVycmlkZXIpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyICR0cmFuc2xhdGlvblRhYmxlID0ge30sXG4gICAgJHByZWZlcnJlZExhbmd1YWdlLFxuICAgICRhdmFpbGFibGVMYW5ndWFnZUtleXMgPSBbXSxcbiAgICAkbGFuZ3VhZ2VLZXlBbGlhc2VzLFxuICAgICRmYWxsYmFja0xhbmd1YWdlLFxuICAgICRmYWxsYmFja1dhc1N0cmluZyxcbiAgICAkdXNlcyxcbiAgICAkbmV4dExhbmcsXG4gICAgJHN0b3JhZ2VGYWN0b3J5LFxuICAgICRzdG9yYWdlS2V5ID0gJFNUT1JBR0VfS0VZLFxuICAgICRzdG9yYWdlUHJlZml4LFxuICAgICRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSxcbiAgICAkaW50ZXJwb2xhdGlvbkZhY3RvcnksXG4gICAgJGludGVycG9sYXRvckZhY3RvcmllcyA9IFtdLFxuICAgICRsb2FkZXJGYWN0b3J5LFxuICAgICRjbG9ha0NsYXNzTmFtZSA9ICd0cmFuc2xhdGUtY2xvYWsnLFxuICAgICRsb2FkZXJPcHRpb25zLFxuICAgICRub3RGb3VuZEluZGljYXRvckxlZnQsXG4gICAgJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQsXG4gICAgJHBvc3RDb21waWxpbmdFbmFibGVkID0gZmFsc2UsXG4gICAgJGZvcmNlQXN5bmNSZWxvYWRFbmFibGVkID0gZmFsc2UsXG4gICAgJG5lc3RlZE9iamVjdERlbGltZXRlciA9ICcuJyxcbiAgICAkaXNSZWFkeSA9IGZhbHNlLFxuICAgICRrZWVwQ29udGVudCA9IGZhbHNlLFxuICAgIGxvYWRlckNhY2hlLFxuICAgIGRpcmVjdGl2ZVByaW9yaXR5ID0gMCxcbiAgICBzdGF0ZWZ1bEZpbHRlciA9IHRydWUsXG4gICAgcG9zdFByb2Nlc3NGbixcbiAgICB1bmlmb3JtTGFuZ3VhZ2VUYWdSZXNvbHZlciA9ICdkZWZhdWx0JyxcbiAgICBsYW5ndWFnZVRhZ1Jlc29sdmVyID0ge1xuICAgICAgJ2RlZmF1bHQnIDogZnVuY3Rpb24gKHRhZykge1xuICAgICAgICByZXR1cm4gKHRhZyB8fCAnJykuc3BsaXQoJy0nKS5qb2luKCdfJyk7XG4gICAgICB9LFxuICAgICAgamF2YSA6IGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgICAgdmFyIHRlbXAgPSAodGFnIHx8ICcnKS5zcGxpdCgnLScpLmpvaW4oJ18nKTtcbiAgICAgICAgdmFyIHBhcnRzID0gdGVtcC5zcGxpdCgnXycpO1xuICAgICAgICByZXR1cm4gcGFydHMubGVuZ3RoID4gMSA/IChwYXJ0c1swXS50b0xvd2VyQ2FzZSgpICsgJ18nICsgcGFydHNbMV0udG9VcHBlckNhc2UoKSkgOiB0ZW1wO1xuICAgICAgfSxcbiAgICAgIGJjcDQ3IDogZnVuY3Rpb24gKHRhZykge1xuICAgICAgICB2YXIgdGVtcCA9ICh0YWcgfHwgJycpLnNwbGl0KCdfJykuam9pbignLScpO1xuICAgICAgICB2YXIgcGFydHMgPSB0ZW1wLnNwbGl0KCctJyk7XG4gICAgICAgIHJldHVybiBwYXJ0cy5sZW5ndGggPiAxID8gKHBhcnRzWzBdLnRvTG93ZXJDYXNlKCkgKyAnLScgKyBwYXJ0c1sxXS50b1VwcGVyQ2FzZSgpKSA6IHRlbXA7XG4gICAgICB9LFxuICAgICAgJ2lzbzYzOS0xJyA6IGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgICAgdmFyIHRlbXAgPSAodGFnIHx8ICcnKS5zcGxpdCgnXycpLmpvaW4oJy0nKTtcbiAgICAgICAgdmFyIHBhcnRzID0gdGVtcC5zcGxpdCgnLScpO1xuICAgICAgICByZXR1cm4gcGFydHNbMF0udG9Mb3dlckNhc2UoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gIHZhciB2ZXJzaW9uID0gJzIuMTMuMSc7XG5cbiAgLy8gdHJpZXMgdG8gZGV0ZXJtaW5lIHRoZSBicm93c2VycyBsYW5ndWFnZVxuICB2YXIgZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyBpbnRlcm5hbCBwdXJwb3NlIG9ubHlcbiAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHBhc2NhbHByZWNodFRyYW5zbGF0ZU92ZXJyaWRlci5nZXRMb2NhbGUpKSB7XG4gICAgICByZXR1cm4gcGFzY2FscHJlY2h0VHJhbnNsYXRlT3ZlcnJpZGVyLmdldExvY2FsZSgpO1xuICAgIH1cblxuICAgIHZhciBuYXYgPSAkd2luZG93UHJvdmlkZXIuJGdldCgpLm5hdmlnYXRvcixcbiAgICAgIGJyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5cyA9IFsnbGFuZ3VhZ2UnLCAnYnJvd3Nlckxhbmd1YWdlJywgJ3N5c3RlbUxhbmd1YWdlJywgJ3VzZXJMYW5ndWFnZSddLFxuICAgICAgaSxcbiAgICAgIGxhbmd1YWdlO1xuXG4gICAgLy8gc3VwcG9ydCBmb3IgSFRNTCA1LjEgXCJuYXZpZ2F0b3IubGFuZ3VhZ2VzXCJcbiAgICBpZiAoYW5ndWxhci5pc0FycmF5KG5hdi5sYW5ndWFnZXMpKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbmF2Lmxhbmd1YWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsYW5ndWFnZSA9IG5hdi5sYW5ndWFnZXNbaV07XG4gICAgICAgIGlmIChsYW5ndWFnZSAmJiBsYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gbGFuZ3VhZ2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0IGZvciBvdGhlciB3ZWxsIGtub3duIHByb3BlcnRpZXMgaW4gYnJvd3NlcnNcbiAgICBmb3IgKGkgPSAwOyBpIDwgYnJvd3Nlckxhbmd1YWdlUHJvcGVydHlLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsYW5ndWFnZSA9IG5hdlticm93c2VyTGFuZ3VhZ2VQcm9wZXJ0eUtleXNbaV1dO1xuICAgICAgaWYgKGxhbmd1YWdlICYmIGxhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbGFuZ3VhZ2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIGdldEZpcnN0QnJvd3Nlckxhbmd1YWdlLmRpc3BsYXlOYW1lID0gJ2FuZ3VsYXItdHJhbnNsYXRlL3NlcnZpY2U6IGdldEZpcnN0QnJvd3Nlckxhbmd1YWdlJztcblxuICAvLyB0cmllcyB0byBkZXRlcm1pbmUgdGhlIGJyb3dzZXJzIGxvY2FsZVxuICB2YXIgZ2V0TG9jYWxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsb2NhbGUgPSBnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSgpIHx8ICcnO1xuICAgIGlmIChsYW5ndWFnZVRhZ1Jlc29sdmVyW3VuaWZvcm1MYW5ndWFnZVRhZ1Jlc29sdmVyXSkge1xuICAgICAgbG9jYWxlID0gbGFuZ3VhZ2VUYWdSZXNvbHZlclt1bmlmb3JtTGFuZ3VhZ2VUYWdSZXNvbHZlcl0obG9jYWxlKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsZTtcbiAgfTtcbiAgZ2V0TG9jYWxlLmRpc3BsYXlOYW1lID0gJ2FuZ3VsYXItdHJhbnNsYXRlL3NlcnZpY2U6IGdldExvY2FsZSc7XG5cbiAgLyoqXG4gICAqIEBuYW1lIGluZGV4T2ZcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIGluZGV4T2YgcG9seWZpbGwuIEtpbmRhIHNvcnRhLlxuICAgKlxuICAgKiBAcGFyYW0ge2FycmF5fSBhcnJheSBBcnJheSB0byBzZWFyY2ggaW4uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWFyY2hFbGVtZW50IEVsZW1lbnQgdG8gc2VhcmNoIGZvci5cbiAgICpcbiAgICogQHJldHVybnMge2ludH0gSW5kZXggb2Ygc2VhcmNoIGVsZW1lbnQuXG4gICAqL1xuICB2YXIgaW5kZXhPZiA9IGZ1bmN0aW9uIChhcnJheSwgc2VhcmNoRWxlbWVudCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGFycmF5W2ldID09PSBzZWFyY2hFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuYW1lIHRyaW1cbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIHRyaW0gcG9seWZpbGxcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHN0cmluZyBzdHJpcHBlZCBvZiB3aGl0ZXNwYWNlIGZyb20gYm90aCBlbmRzXG4gICAqL1xuICB2YXIgdHJpbSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50b1N0cmluZygpLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbiAgfTtcblxuICB2YXIgbmVnb3RpYXRlTG9jYWxlID0gZnVuY3Rpb24gKHByZWZlcnJlZCkge1xuICAgIGlmICghcHJlZmVycmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGF2YWlsID0gW10sXG4gICAgICBsb2NhbGUgPSBhbmd1bGFyLmxvd2VyY2FzZShwcmVmZXJyZWQpLFxuICAgICAgaSA9IDAsXG4gICAgICBuID0gJGF2YWlsYWJsZUxhbmd1YWdlS2V5cy5sZW5ndGg7XG5cbiAgICBmb3IgKDsgaSA8IG47IGkrKykge1xuICAgICAgYXZhaWwucHVzaChhbmd1bGFyLmxvd2VyY2FzZSgkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzW2ldKSk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGFuIGV4YWN0IG1hdGNoIGluIG91ciBsaXN0IG9mIGF2YWlsYWJsZSBrZXlzXG4gICAgaWYgKGluZGV4T2YoYXZhaWwsIGxvY2FsZSkgPiAtMSkge1xuICAgICAgcmV0dXJuIHByZWZlcnJlZDtcbiAgICB9XG5cbiAgICBpZiAoJGxhbmd1YWdlS2V5QWxpYXNlcykge1xuICAgICAgdmFyIGFsaWFzO1xuICAgICAgZm9yICh2YXIgbGFuZ0tleUFsaWFzIGluICRsYW5ndWFnZUtleUFsaWFzZXMpIHtcbiAgICAgICAgaWYgKCRsYW5ndWFnZUtleUFsaWFzZXMuaGFzT3duUHJvcGVydHkobGFuZ0tleUFsaWFzKSkge1xuICAgICAgICAgIHZhciBoYXNXaWxkY2FyZEtleSA9IGZhbHNlO1xuICAgICAgICAgIHZhciBoYXNFeGFjdEtleSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgkbGFuZ3VhZ2VLZXlBbGlhc2VzLCBsYW5nS2V5QWxpYXMpICYmXG4gICAgICAgICAgICBhbmd1bGFyLmxvd2VyY2FzZShsYW5nS2V5QWxpYXMpID09PSBhbmd1bGFyLmxvd2VyY2FzZShwcmVmZXJyZWQpO1xuXG4gICAgICAgICAgaWYgKGxhbmdLZXlBbGlhcy5zbGljZSgtMSkgPT09ICcqJykge1xuICAgICAgICAgICAgaGFzV2lsZGNhcmRLZXkgPSBsYW5nS2V5QWxpYXMuc2xpY2UoMCwgLTEpID09PSBwcmVmZXJyZWQuc2xpY2UoMCwgbGFuZ0tleUFsaWFzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaGFzRXhhY3RLZXkgfHwgaGFzV2lsZGNhcmRLZXkpIHtcbiAgICAgICAgICAgIGFsaWFzID0gJGxhbmd1YWdlS2V5QWxpYXNlc1tsYW5nS2V5QWxpYXNdO1xuICAgICAgICAgICAgaWYgKGluZGV4T2YoYXZhaWwsIGFuZ3VsYXIubG93ZXJjYXNlKGFsaWFzKSkgPiAtMSkge1xuICAgICAgICAgICAgICByZXR1cm4gYWxpYXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGEgbGFuZ3VhZ2UgY29kZSB3aXRob3V0IHJlZ2lvblxuICAgIHZhciBwYXJ0cyA9IHByZWZlcnJlZC5zcGxpdCgnXycpO1xuXG4gICAgaWYgKHBhcnRzLmxlbmd0aCA+IDEgJiYgaW5kZXhPZihhdmFpbCwgYW5ndWxhci5sb3dlcmNhc2UocGFydHNbMF0pKSA+IC0xKSB7XG4gICAgICByZXR1cm4gcGFydHNbMF07XG4gICAgfVxuXG4gICAgLy8gSWYgZXZlcnl0aGluZyBmYWlscywgcmV0dXJuIHVuZGVmaW5lZC5cbiAgICByZXR1cm47XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN0cmFuc2xhdGlvbnNcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlcnMgYSBuZXcgdHJhbnNsYXRpb24gdGFibGUgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGtleS5cbiAgICpcbiAgICogVG8gcmVnaXN0ZXIgYSB0cmFuc2xhdGlvbiB0YWJsZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UsIHBhc3MgYSBkZWZpbmVkIGxhbmd1YWdlXG4gICAqIGtleSBhcyBmaXJzdCBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIDxwcmU+XG4gICAqICAvLyByZWdpc3RlciB0cmFuc2xhdGlvbiB0YWJsZSBmb3IgbGFuZ3VhZ2U6ICdkZV9ERSdcbiAgICogICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2RlX0RFJywge1xuICAgKiAgICAnR1JFRVRJTkcnOiAnSGFsbG8gV2VsdCEnXG4gICAqICB9KTtcbiAgICpcbiAgICogIC8vIHJlZ2lzdGVyIGFub3RoZXIgb25lXG4gICAqICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbl9VUycsIHtcbiAgICogICAgJ0dSRUVUSU5HJzogJ0hlbGxvIHdvcmxkISdcbiAgICogIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogV2hlbiByZWdpc3RlcmluZyBtdWx0aXBsZSB0cmFuc2xhdGlvbiB0YWJsZXMgZm9yIGZvciB0aGUgc2FtZSBsYW5ndWFnZSBrZXksXG4gICAqIHRoZSBhY3R1YWwgdHJhbnNsYXRpb24gdGFibGUgZ2V0cyBleHRlbmRlZC4gVGhpcyBhbGxvd3MgeW91IHRvIGRlZmluZSBtb2R1bGVcbiAgICogc3BlY2lmaWMgdHJhbnNsYXRpb24gd2hpY2ggb25seSBnZXQgYWRkZWQsIG9uY2UgYSBzcGVjaWZpYyBtb2R1bGUgaXMgbG9hZGVkIGluXG4gICAqIHlvdXIgYXBwLlxuICAgKlxuICAgKiBJbnZva2luZyB0aGlzIG1ldGhvZCB3aXRoIG5vIGFyZ3VtZW50cyByZXR1cm5zIHRoZSB0cmFuc2xhdGlvbiB0YWJsZSB3aGljaCB3YXNcbiAgICogcmVnaXN0ZXJlZCB3aXRoIG5vIGxhbmd1YWdlIGtleS4gSW52b2tpbmcgaXQgd2l0aCBhIGxhbmd1YWdlIGtleSByZXR1cm5zIHRoZVxuICAgKiByZWxhdGVkIHRyYW5zbGF0aW9uIHRhYmxlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBBIGxhbmd1YWdlIGtleS5cbiAgICogQHBhcmFtIHtvYmplY3R9IHRyYW5zbGF0aW9uVGFibGUgQSBwbGFpbiBvbGQgSmF2YVNjcmlwdCBvYmplY3QgdGhhdCByZXByZXNlbnRzIGEgdHJhbnNsYXRpb24gdGFibGUuXG4gICAqXG4gICAqL1xuICB2YXIgdHJhbnNsYXRpb25zID0gZnVuY3Rpb24gKGxhbmdLZXksIHRyYW5zbGF0aW9uVGFibGUpIHtcblxuICAgIGlmICghbGFuZ0tleSAmJiAhdHJhbnNsYXRpb25UYWJsZSkge1xuICAgICAgcmV0dXJuICR0cmFuc2xhdGlvblRhYmxlO1xuICAgIH1cblxuICAgIGlmIChsYW5nS2V5ICYmICF0cmFuc2xhdGlvblRhYmxlKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhsYW5nS2V5KSkge1xuICAgICAgICByZXR1cm4gJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghYW5ndWxhci5pc09iamVjdCgkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSkpIHtcbiAgICAgICAgJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0gPSB7fTtcbiAgICAgIH1cbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKCR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldLCBmbGF0T2JqZWN0KHRyYW5zbGF0aW9uVGFibGUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdGhpcy50cmFuc2xhdGlvbnMgPSB0cmFuc2xhdGlvbnM7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNjbG9ha0NsYXNzTmFtZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIExldCdzIHlvdSBjaGFuZ2UgdGhlIGNsYXNzIG5hbWUgZm9yIGB0cmFuc2xhdGUtY2xvYWtgIGRpcmVjdGl2ZS5cbiAgICogRGVmYXVsdCBjbGFzcyBuYW1lIGlzIGB0cmFuc2xhdGUtY2xvYWtgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSB0cmFuc2xhdGUtY2xvYWsgY2xhc3MgbmFtZVxuICAgKi9cbiAgdGhpcy5jbG9ha0NsYXNzTmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICByZXR1cm4gJGNsb2FrQ2xhc3NOYW1lO1xuICAgIH1cbiAgICAkY2xvYWtDbGFzc05hbWUgPSBuYW1lO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjbmVzdGVkT2JqZWN0RGVsaW1ldGVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogTGV0J3MgeW91IGNoYW5nZSB0aGUgZGVsaW1pdGVyIGZvciBuYW1lc3BhY2VkIHRyYW5zbGF0aW9ucy5cbiAgICogRGVmYXVsdCBkZWxpbWl0ZXIgaXMgYC5gLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGVsaW1pdGVyIG5hbWVzcGFjZSBzZXBhcmF0b3JcbiAgICovXG4gIHRoaXMubmVzdGVkT2JqZWN0RGVsaW1ldGVyID0gZnVuY3Rpb24gKGRlbGltaXRlcikge1xuICAgIGlmICghZGVsaW1pdGVyKSB7XG4gICAgICByZXR1cm4gJG5lc3RlZE9iamVjdERlbGltZXRlcjtcbiAgICB9XG4gICAgJG5lc3RlZE9iamVjdERlbGltZXRlciA9IGRlbGltaXRlcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5hbWUgZmxhdE9iamVjdFxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogRmxhdHMgYW4gb2JqZWN0LiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gZmxhdHRlbiBnaXZlbiB0cmFuc2xhdGlvbiBkYXRhIHdpdGhcbiAgICogbmFtZXNwYWNlcywgc28gdGhleSBhcmUgbGF0ZXIgYWNjZXNzaWJsZSB2aWEgZG90IG5vdGF0aW9uLlxuICAgKi9cbiAgdmFyIGZsYXRPYmplY3QgPSBmdW5jdGlvbiAoZGF0YSwgcGF0aCwgcmVzdWx0LCBwcmV2S2V5KSB7XG4gICAgdmFyIGtleSwga2V5V2l0aFBhdGgsIGtleVdpdGhTaG9ydFBhdGgsIHZhbDtcblxuICAgIGlmICghcGF0aCkge1xuICAgICAgcGF0aCA9IFtdO1xuICAgIH1cbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgcmVzdWx0ID0ge307XG4gICAgfVxuICAgIGZvciAoa2V5IGluIGRhdGEpIHtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YWwgPSBkYXRhW2tleV07XG4gICAgICBpZiAoYW5ndWxhci5pc09iamVjdCh2YWwpKSB7XG4gICAgICAgIGZsYXRPYmplY3QodmFsLCBwYXRoLmNvbmNhdChrZXkpLCByZXN1bHQsIGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBrZXlXaXRoUGF0aCA9IHBhdGgubGVuZ3RoID8gKCcnICsgcGF0aC5qb2luKCRuZXN0ZWRPYmplY3REZWxpbWV0ZXIpICsgJG5lc3RlZE9iamVjdERlbGltZXRlciArIGtleSkgOiBrZXk7XG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCAmJiBrZXkgPT09IHByZXZLZXkpIHtcbiAgICAgICAgICAvLyBDcmVhdGUgc2hvcnRjdXQgcGF0aCAoZm9vLmJhciA9PSBmb28uYmFyLmJhcilcbiAgICAgICAgICBrZXlXaXRoU2hvcnRQYXRoID0gJycgKyBwYXRoLmpvaW4oJG5lc3RlZE9iamVjdERlbGltZXRlcik7XG4gICAgICAgICAgLy8gTGluayBpdCB0byBvcmlnaW5hbCBwYXRoXG4gICAgICAgICAgcmVzdWx0W2tleVdpdGhTaG9ydFBhdGhdID0gJ0A6JyArIGtleVdpdGhQYXRoO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtrZXlXaXRoUGF0aF0gPSB2YWw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIGZsYXRPYmplY3QuZGlzcGxheU5hbWUgPSAnZmxhdE9iamVjdCc7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNhZGRJbnRlcnBvbGF0aW9uXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQWRkcyBpbnRlcnBvbGF0aW9uIHNlcnZpY2VzIHRvIGFuZ3VsYXItdHJhbnNsYXRlLCBzbyBpdCBjYW4gbWFuYWdlIHRoZW0uXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBmYWN0b3J5IEludGVycG9sYXRpb24gc2VydmljZSBmYWN0b3J5XG4gICAqL1xuICB0aGlzLmFkZEludGVycG9sYXRpb24gPSBmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICRpbnRlcnBvbGF0b3JGYWN0b3JpZXMucHVzaChmYWN0b3J5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZU1lc3NhZ2VGb3JtYXRJbnRlcnBvbGF0aW9uXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGludGVycG9sYXRpb24gZnVuY3Rpb25hbGl0eSBvZiBtZXNzYWdlZm9ybWF0LmpzLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGhhdmluZyBoaWdoIGxldmVsIHBsdXJhbGl6YXRpb24gYW5kIGdlbmRlciBzZWxlY3Rpb24uXG4gICAqL1xuICB0aGlzLnVzZU1lc3NhZ2VGb3JtYXRJbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVzZUludGVycG9sYXRpb24oJyR0cmFuc2xhdGVNZXNzYWdlRm9ybWF0SW50ZXJwb2xhdGlvbicpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlSW50ZXJwb2xhdGlvblxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHdoaWNoIGludGVycG9sYXRpb24gc3R5bGUgdG8gdXNlIGFzIGRlZmF1bHQsIGFwcGxpY2F0aW9uLXdpZGUuXG4gICAqIFNpbXBseSBwYXNzIGEgZmFjdG9yeS9zZXJ2aWNlIG5hbWUuIFRoZSBpbnRlcnBvbGF0aW9uIHNlcnZpY2UgaGFzIHRvIGltcGxlbWVudFxuICAgKiB0aGUgY29ycmVjdCBpbnRlcmZhY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWN0b3J5IEludGVycG9sYXRpb24gc2VydmljZSBuYW1lLlxuICAgKi9cbiAgdGhpcy51c2VJbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICAkaW50ZXJwb2xhdGlvbkZhY3RvcnkgPSBmYWN0b3J5O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlU2FuaXRpemVTdHJhdGVneVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNpbXBseSBzZXRzIGEgc2FuaXRhdGlvbiBzdHJhdGVneSB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgU3RyYXRlZ3kgdHlwZS5cbiAgICovXG4gIHRoaXMudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyLnVzZVN0cmF0ZWd5KHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3ByZWZlcnJlZExhbmd1YWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgdGhlIG1vZHVsZSB3aGljaCBvZiB0aGUgcmVnaXN0ZXJlZCB0cmFuc2xhdGlvbiB0YWJsZXMgdG8gdXNlIGZvciB0cmFuc2xhdGlvblxuICAgKiBhdCBpbml0aWFsIHN0YXJ0dXAgYnkgcGFzc2luZyBhIGxhbmd1YWdlIGtleS4gU2ltaWxhciB0byBgJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZWBcbiAgICogb25seSB0aGF0IGl0IHNheXMgd2hpY2ggbGFuZ3VhZ2UgdG8gKipwcmVmZXIqKi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkuXG4gICAqL1xuICB0aGlzLnByZWZlcnJlZExhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICBpZiAobGFuZ0tleSkge1xuICAgICAgc2V0dXBQcmVmZXJyZWRMYW5ndWFnZShsYW5nS2V5KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gJHByZWZlcnJlZExhbmd1YWdlO1xuICB9O1xuICB2YXIgc2V0dXBQcmVmZXJyZWRMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgaWYgKGxhbmdLZXkpIHtcbiAgICAgICRwcmVmZXJyZWRMYW5ndWFnZSA9IGxhbmdLZXk7XG4gICAgfVxuICAgIHJldHVybiAkcHJlZmVycmVkTGFuZ3VhZ2U7XG4gIH07XG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW4gaW5kaWNhdG9yIHdoaWNoIGlzIHVzZWQgd2hlbiBhIHRyYW5zbGF0aW9uIGlzbid0IGZvdW5kLiBFLmcuIHdoZW5cbiAgICogc2V0dGluZyB0aGUgaW5kaWNhdG9yIGFzICdYJyBhbmQgb25lIHRyaWVzIHRvIHRyYW5zbGF0ZSBhIHRyYW5zbGF0aW9uIGlkXG4gICAqIGNhbGxlZCBgTk9UX0ZPVU5EYCwgdGhpcyB3aWxsIHJlc3VsdCBpbiBgWCBOT1RfRk9VTkQgWGAuXG4gICAqXG4gICAqIEludGVybmFsbHkgdGhpcyBtZXRob2RzIHNldHMgYSBsZWZ0IGluZGljYXRvciBhbmQgYSByaWdodCBpbmRpY2F0b3IgdXNpbmdcbiAgICogYCR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdCgpYCBhbmRcbiAgICogYCR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQoKWAuXG4gICAqXG4gICAqICoqTm90ZSoqOiBUaGVzZSBtZXRob2RzIGF1dG9tYXRpY2FsbHkgYWRkIGEgd2hpdGVzcGFjZSBiZXR3ZWVuIHRoZSBpbmRpY2F0b3JzXG4gICAqIGFuZCB0aGUgdHJhbnNsYXRpb24gaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbmRpY2F0b3IgQW4gaW5kaWNhdG9yLCBjb3VsZCBiZSBhbnkgc3RyaW5nLlxuICAgKi9cbiAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yID0gZnVuY3Rpb24gKGluZGljYXRvcikge1xuICAgIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQoaW5kaWNhdG9yKTtcbiAgICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JSaWdodChpbmRpY2F0b3IpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdFxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW4gaW5kaWNhdG9yIHdoaWNoIGlzIHVzZWQgd2hlbiBhIHRyYW5zbGF0aW9uIGlzbid0IGZvdW5kIGxlZnQgdG8gdGhlXG4gICAqIHRyYW5zbGF0aW9uIGlkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW5kaWNhdG9yIEFuIGluZGljYXRvci5cbiAgICovXG4gIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQgPSBmdW5jdGlvbiAoaW5kaWNhdG9yKSB7XG4gICAgaWYgKCFpbmRpY2F0b3IpIHtcbiAgICAgIHJldHVybiAkbm90Rm91bmRJbmRpY2F0b3JMZWZ0O1xuICAgIH1cbiAgICAkbm90Rm91bmRJbmRpY2F0b3JMZWZ0ID0gaW5kaWNhdG9yO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdFxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW4gaW5kaWNhdG9yIHdoaWNoIGlzIHVzZWQgd2hlbiBhIHRyYW5zbGF0aW9uIGlzbid0IGZvdW5kIHJpZ2h0IHRvIHRoZVxuICAgKiB0cmFuc2xhdGlvbiBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGluZGljYXRvciBBbiBpbmRpY2F0b3IuXG4gICAqL1xuICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JSaWdodCA9IGZ1bmN0aW9uIChpbmRpY2F0b3IpIHtcbiAgICBpZiAoIWluZGljYXRvcikge1xuICAgICAgcmV0dXJuICRub3RGb3VuZEluZGljYXRvclJpZ2h0O1xuICAgIH1cbiAgICAkbm90Rm91bmRJbmRpY2F0b3JSaWdodCA9IGluZGljYXRvcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2ZhbGxiYWNrTGFuZ3VhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyB0aGUgbW9kdWxlIHdoaWNoIG9mIHRoZSByZWdpc3RlcmVkIHRyYW5zbGF0aW9uIHRhYmxlcyB0byB1c2Ugd2hlbiBtaXNzaW5nIHRyYW5zbGF0aW9uc1xuICAgKiBhdCBpbml0aWFsIHN0YXJ0dXAgYnkgcGFzc2luZyBhIGxhbmd1YWdlIGtleS4gU2ltaWxhciB0byBgJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZWBcbiAgICogb25seSB0aGF0IGl0IHNheXMgd2hpY2ggbGFuZ3VhZ2UgdG8gKipmYWxsYmFjayoqLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3x8YXJyYXl9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkuXG4gICAqXG4gICAqL1xuICB0aGlzLmZhbGxiYWNrTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgIGZhbGxiYWNrU3RhY2sobGFuZ0tleSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdmFyIGZhbGxiYWNrU3RhY2sgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgIGlmIChsYW5nS2V5KSB7XG4gICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhsYW5nS2V5KSkge1xuICAgICAgICAkZmFsbGJhY2tXYXNTdHJpbmcgPSB0cnVlO1xuICAgICAgICAkZmFsbGJhY2tMYW5ndWFnZSA9IFtsYW5nS2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc0FycmF5KGxhbmdLZXkpKSB7XG4gICAgICAgICRmYWxsYmFja1dhc1N0cmluZyA9IGZhbHNlO1xuICAgICAgICAkZmFsbGJhY2tMYW5ndWFnZSA9IGxhbmdLZXk7XG4gICAgICB9XG4gICAgICBpZiAoYW5ndWxhci5pc1N0cmluZygkcHJlZmVycmVkTGFuZ3VhZ2UpICYmIGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsICRwcmVmZXJyZWRMYW5ndWFnZSkgPCAwKSB7XG4gICAgICAgICRmYWxsYmFja0xhbmd1YWdlLnB1c2goJHByZWZlcnJlZExhbmd1YWdlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgkZmFsbGJhY2tXYXNTdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuICRmYWxsYmFja0xhbmd1YWdlWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICRmYWxsYmFja0xhbmd1YWdlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldCB3aGljaCB0cmFuc2xhdGlvbiB0YWJsZSB0byB1c2UgZm9yIHRyYW5zbGF0aW9uIGJ5IGdpdmVuIGxhbmd1YWdlIGtleS4gV2hlblxuICAgKiB0cnlpbmcgdG8gJ3VzZScgYSBsYW5ndWFnZSB3aGljaCBpc24ndCBwcm92aWRlZCwgaXQnbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAqXG4gICAqIFlvdSBhY3R1YWxseSBkb24ndCBoYXZlIHRvIHVzZSB0aGlzIG1ldGhvZCBzaW5jZSBgJHRyYW5zbGF0ZVByb3ZpZGVyI3ByZWZlcnJlZExhbmd1YWdlYFxuICAgKiBkb2VzIHRoZSBqb2IgdG9vLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBBIGxhbmd1YWdlIGtleS5cbiAgICovXG4gIHRoaXMudXNlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICBpZiAobGFuZ0tleSkge1xuICAgICAgaWYgKCEkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSAmJiAoISRsb2FkZXJGYWN0b3J5KSkge1xuICAgICAgICAvLyBvbmx5IHRocm93IGFuIGVycm9yLCB3aGVuIG5vdCBsb2FkaW5nIHRyYW5zbGF0aW9uIGRhdGEgYXN5bmNocm9ub3VzbHlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCckdHJhbnNsYXRlUHJvdmlkZXIgY291bGRuXFwndCBmaW5kIHRyYW5zbGF0aW9uVGFibGUgZm9yIGxhbmdLZXk6IFxcJycgKyBsYW5nS2V5ICsgJ1xcJycpO1xuICAgICAgfVxuICAgICAgJHVzZXMgPSBsYW5nS2V5O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiAkdXNlcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3Jlc29sdmVDbGllbnRMb2NhbGVcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIHJldHVybnMgdGhlIGN1cnJlbnQgYnJvd3Nlci9jbGllbnQncyBsYW5ndWFnZSBrZXkuIFRoZSByZXN1bHQgaXMgcHJvY2Vzc2VkIHdpdGggdGhlIGNvbmZpZ3VyZWQgdW5pZm9ybSB0YWcgcmVzb2x2ZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBjdXJyZW50IGNsaWVudC9icm93c2VyIGxhbmd1YWdlIGtleVxuICAgKi9cbiAgdGhpcy5yZXNvbHZlQ2xpZW50TG9jYWxlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnZXRMb2NhbGUoKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3N0b3JhZ2VLZXlcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyB0aGUgbW9kdWxlIHdoaWNoIGtleSBtdXN0IHJlcHJlc2VudCB0aGUgY2hvb3NlZCBsYW5ndWFnZSBieSBhIHVzZXIgaW4gdGhlIHN0b3JhZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgQSBrZXkgZm9yIHRoZSBzdG9yYWdlLlxuICAgKi9cbiAgdmFyIHN0b3JhZ2VLZXkgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIGlmICgkc3RvcmFnZVByZWZpeCkge1xuICAgICAgICByZXR1cm4gJHN0b3JhZ2VQcmVmaXggKyAkc3RvcmFnZUtleTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAkc3RvcmFnZUtleTtcbiAgICB9XG4gICAgJHN0b3JhZ2VLZXkgPSBrZXk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdGhpcy5zdG9yYWdlS2V5ID0gc3RvcmFnZUtleTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVVybExvYWRlclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBgJHRyYW5zbGF0ZVVybExvYWRlcmAgZXh0ZW5zaW9uIHNlcnZpY2UgYXMgbG9hZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVybFxuICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICovXG4gIHRoaXMudXNlVXJsTG9hZGVyID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnVzZUxvYWRlcignJHRyYW5zbGF0ZVVybExvYWRlcicsIGFuZ3VsYXIuZXh0ZW5kKHt1cmwgOiB1cmx9LCBvcHRpb25zKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VTdGF0aWNGaWxlc0xvYWRlclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBgJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyYCBleHRlbnNpb24gc2VydmljZSBhcyBsb2FkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgKi9cbiAgdGhpcy51c2VTdGF0aWNGaWxlc0xvYWRlciA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlTG9hZGVyKCckdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXInLCBvcHRpb25zKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUxvYWRlclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBhbnkgb3RoZXIgc2VydmljZSBhcyBsb2FkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsb2FkZXJGYWN0b3J5IEZhY3RvcnkgbmFtZSB0byB1c2VcbiAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAqL1xuICB0aGlzLnVzZUxvYWRlciA9IGZ1bmN0aW9uIChsb2FkZXJGYWN0b3J5LCBvcHRpb25zKSB7XG4gICAgJGxvYWRlckZhY3RvcnkgPSBsb2FkZXJGYWN0b3J5O1xuICAgICRsb2FkZXJPcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUxvY2FsU3RvcmFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBgJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZWAgc2VydmljZSBhcyBzdG9yYWdlIGxheWVyLlxuICAgKlxuICAgKi9cbiAgdGhpcy51c2VMb2NhbFN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlU3RvcmFnZSgnJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZScpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlQ29va2llU3RvcmFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBgJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VgIHNlcnZpY2UgYXMgc3RvcmFnZSBsYXllci5cbiAgICovXG4gIHRoaXMudXNlQ29va2llU3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VTdG9yYWdlKCckdHJhbnNsYXRlQ29va2llU3RvcmFnZScpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlU3RvcmFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBjdXN0b20gc2VydmljZSBhcyBzdG9yYWdlIGxheWVyLlxuICAgKi9cbiAgdGhpcy51c2VTdG9yYWdlID0gZnVuY3Rpb24gKHN0b3JhZ2VGYWN0b3J5KSB7XG4gICAgJHN0b3JhZ2VGYWN0b3J5ID0gc3RvcmFnZUZhY3Rvcnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNzdG9yYWdlUHJlZml4XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBwcmVmaXggZm9yIHN0b3JhZ2Uga2V5LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJlZml4IFN0b3JhZ2Uga2V5IHByZWZpeFxuICAgKi9cbiAgdGhpcy5zdG9yYWdlUHJlZml4ID0gZnVuY3Rpb24gKHByZWZpeCkge1xuICAgIGlmICghcHJlZml4KSB7XG4gICAgICByZXR1cm4gcHJlZml4O1xuICAgIH1cbiAgICAkc3RvcmFnZVByZWZpeCA9IHByZWZpeDtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2dcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYnVpbHQtaW4gbG9nIGhhbmRsZXIgd2hlbiB0cnlpbmcgdG8gdHJhbnNsYXRlXG4gICAqIGEgdHJhbnNsYXRpb24gSWQgd2hpY2ggZG9lc24ndCBleGlzdC5cbiAgICpcbiAgICogVGhpcyBpcyBhY3R1YWxseSBhIHNob3J0Y3V0IG1ldGhvZCBmb3IgYHVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIoKWAuXG4gICAqXG4gICAqL1xuICB0aGlzLnVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlcignJHRyYW5zbGF0ZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2cnKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBFeHBlY3RzIGEgZmFjdG9yeSBuYW1lIHdoaWNoIGxhdGVyIGdldHMgaW5zdGFudGlhdGVkIHdpdGggYCRpbmplY3RvcmAuXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSB1c2VkIHRvIHRlbGwgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGEgY3VzdG9tXG4gICAqIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIuIEp1c3QgYnVpbGQgYSBmYWN0b3J5IHdoaWNoIHJldHVybnMgYSBmdW5jdGlvblxuICAgKiBhbmQgZXhwZWN0cyBhIHRyYW5zbGF0aW9uIGlkIGFzIGFyZ3VtZW50LlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiA8cHJlPlxuICAgKiAgYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XG4gICAqICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyKCdjdXN0b21IYW5kbGVyJyk7XG4gICAqICB9KTtcbiAgICpcbiAgICogIGFwcC5mYWN0b3J5KCdjdXN0b21IYW5kbGVyJywgZnVuY3Rpb24gKGRlcDEsIGRlcDIpIHtcbiAgICogICAgcmV0dXJuIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAqICAgICAgLy8gc29tZXRoaW5nIHdpdGggdHJhbnNsYXRpb25JZCBhbmQgZGVwMSBhbmQgZGVwMlxuICAgKiAgICB9O1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjdG9yeSBGYWN0b3J5IG5hbWVcbiAgICovXG4gIHRoaXMudXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlciA9IGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ID0gZmFjdG9yeTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVBvc3RDb21waWxpbmdcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBJZiBwb3N0IGNvbXBpbGluZyBpcyBlbmFibGVkLCBhbGwgdHJhbnNsYXRlZCB2YWx1ZXMgd2lsbCBiZSBwcm9jZXNzZWRcbiAgICogYWdhaW4gd2l0aCBBbmd1bGFySlMnICRjb21waWxlLlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiA8cHJlPlxuICAgKiAgYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XG4gICAqICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VQb3N0Q29tcGlsaW5nKHRydWUpO1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmFjdG9yeSBGYWN0b3J5IG5hbWVcbiAgICovXG4gIHRoaXMudXNlUG9zdENvbXBpbGluZyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICRwb3N0Q29tcGlsaW5nRW5hYmxlZCA9ICEoIXZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2ZvcmNlQXN5bmNSZWxvYWRcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBJZiBmb3JjZSBhc3luYyByZWxvYWQgaXMgZW5hYmxlZCwgYXN5bmMgbG9hZGVyIHdpbGwgYWx3YXlzIGJlIGNhbGxlZFxuICAgKiBldmVuIGlmICR0cmFuc2xhdGlvblRhYmxlIGFscmVhZHkgY29udGFpbnMgdGhlIGxhbmd1YWdlIGtleSwgYWRkaW5nXG4gICAqIHBvc3NpYmxlIG5ldyBlbnRyaWVzIHRvIHRoZSAkdHJhbnNsYXRpb25UYWJsZS5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogPHByZT5cbiAgICogIGFwcC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuICAgKiAgICAkdHJhbnNsYXRlUHJvdmlkZXIuZm9yY2VBc3luY1JlbG9hZCh0cnVlKTtcbiAgICogIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIHZhbGlkIHZhbHVlcyBhcmUgdHJ1ZSBvciBmYWxzZVxuICAgKi9cbiAgdGhpcy5mb3JjZUFzeW5jUmVsb2FkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgJGZvcmNlQXN5bmNSZWxvYWRFbmFibGVkID0gISghdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdW5pZm9ybUxhbmd1YWdlVGFnXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgd2hpY2ggbGFuZ3VhZ2UgdGFnIHNob3VsZCBiZSB1c2VkIGFzIGEgcmVzdWx0IHdoZW4gZGV0ZXJtaW5pbmdcbiAgICogdGhlIGN1cnJlbnQgYnJvd3NlciBsYW5ndWFnZS5cbiAgICpcbiAgICogVGhpcyBzZXR0aW5nIG11c3QgYmUgc2V0IGJlZm9yZSBpbnZva2luZyB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjbWV0aG9kc19kZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSBkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSgpfS5cbiAgICpcbiAgICogPHByZT5cbiAgICogJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqICAgLnVuaWZvcm1MYW5ndWFnZVRhZygnYmNwNDcnKVxuICAgKiAgIC5kZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSgpXG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBUaGUgcmVzb2x2ZXIgY3VycmVudGx5IHN1cHBvcnRzOlxuICAgKiAqIGRlZmF1bHRcbiAgICogICAgICh0cmFkaXRpb25hbGx5OiBoeXBoZW5zIHdpbGwgYmUgY29udmVydGVkIGludG8gdW5kZXJzY29yZXMsIGkuZS4gZW4tVVMgPT4gZW5fVVMpXG4gICAqICAgICBlbi1VUyA9PiBlbl9VU1xuICAgKiAgICAgZW5fVVMgPT4gZW5fVVNcbiAgICogICAgIGVuLXVzID0+IGVuX3VzXG4gICAqICogamF2YVxuICAgKiAgICAgbGlrZSBkZWZhdWx0LCBidXQgdGhlIHNlY29uZCBwYXJ0IHdpbGwgYmUgYWx3YXlzIGluIHVwcGVyY2FzZVxuICAgKiAgICAgZW4tVVMgPT4gZW5fVVNcbiAgICogICAgIGVuX1VTID0+IGVuX1VTXG4gICAqICAgICBlbi11cyA9PiBlbl9VU1xuICAgKiAqIEJDUCA0NyAoUkZDIDQ2NDYgJiA0NjQ3KVxuICAgKiAgICAgZW4tVVMgPT4gZW4tVVNcbiAgICogICAgIGVuX1VTID0+IGVuLVVTXG4gICAqICAgICBlbi11cyA9PiBlbi1VU1xuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICogKiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lFVEZfbGFuZ3VhZ2VfdGFnXG4gICAqICogaHR0cDovL3d3dy53My5vcmcvSW50ZXJuYXRpb25hbC9jb3JlL2xhbmd0YWdzL1xuICAgKiAqIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2JjcDQ3XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnMgKG9yIHN0YW5kYXJkKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5zdGFuZGFyZCAtIHZhbGlkIHZhbHVlcyBhcmUgJ2RlZmF1bHQnLCAnYmNwNDcnLCAnamF2YSdcbiAgICovXG4gIHRoaXMudW5pZm9ybUxhbmd1YWdlVGFnID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblxuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc1N0cmluZyhvcHRpb25zKSkge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgc3RhbmRhcmQgOiBvcHRpb25zXG4gICAgICB9O1xuICAgIH1cblxuICAgIHVuaWZvcm1MYW5ndWFnZVRhZ1Jlc29sdmVyID0gb3B0aW9ucy5zdGFuZGFyZDtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB0cnkgdG8gZGV0ZXJtaW5lIG9uIGl0cyBvd24gd2hpY2ggbGFuZ3VhZ2Uga2V5XG4gICAqIHRvIHNldCBhcyBwcmVmZXJyZWQgbGFuZ3VhZ2UuIFdoZW4gYGZuYCBpcyBnaXZlbiwgYW5ndWxhci10cmFuc2xhdGUgdXNlcyBpdFxuICAgKiB0byBkZXRlcm1pbmUgYSBsYW5ndWFnZSBrZXksIG90aGVyd2lzZSBpdCB1c2VzIHRoZSBidWlsdC1pbiBgZ2V0TG9jYWxlKClgXG4gICAqIG1ldGhvZC5cbiAgICpcbiAgICogVGhlIGBnZXRMb2NhbGUoKWAgcmV0dXJucyBhIGxhbmd1YWdlIGtleSBpbiB0aGUgZm9ybWF0IGBbbGFuZ11fW2NvdW50cnldYCBvclxuICAgKiBgW2xhbmddYCBkZXBlbmRpbmcgb24gd2hhdCB0aGUgYnJvd3NlciBwcm92aWRlcy5cbiAgICpcbiAgICogVXNlIHRoaXMgbWV0aG9kIGF0IHlvdXIgb3duIHJpc2ssIHNpbmNlIG5vdCBhbGwgYnJvd3NlcnMgcmV0dXJuIGEgdmFsaWRcbiAgICogbG9jYWxlIChzZWUge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI21ldGhvZHNfdW5pZm9ybUxhbmd1YWdlVGFnIHVuaWZvcm1MYW5ndWFnZVRhZygpfSkuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb249fSBmbiBGdW5jdGlvbiB0byBkZXRlcm1pbmUgYSBicm93c2VyJ3MgbG9jYWxlXG4gICAqL1xuICB0aGlzLmRldGVybWluZVByZWZlcnJlZExhbmd1YWdlID0gZnVuY3Rpb24gKGZuKSB7XG5cbiAgICB2YXIgbG9jYWxlID0gKGZuICYmIGFuZ3VsYXIuaXNGdW5jdGlvbihmbikpID8gZm4oKSA6IGdldExvY2FsZSgpO1xuXG4gICAgaWYgKCEkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzLmxlbmd0aCkge1xuICAgICAgJHByZWZlcnJlZExhbmd1YWdlID0gbG9jYWxlO1xuICAgIH0gZWxzZSB7XG4gICAgICAkcHJlZmVycmVkTGFuZ3VhZ2UgPSBuZWdvdGlhdGVMb2NhbGUobG9jYWxlKSB8fCBsb2NhbGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNyZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5c1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVycyBhIHNldCBvZiBsYW5ndWFnZSBrZXlzIHRoZSBhcHAgd2lsbCB3b3JrIHdpdGguIFVzZSB0aGlzIG1ldGhvZCBpblxuICAgKiBjb21iaW5hdGlvbiB3aXRoXG4gICAqIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSBkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZX0uXG4gICAqIFdoZW4gYXZhaWxhYmxlIGxhbmd1YWdlcyBrZXlzIGFyZSByZWdpc3RlcmVkLCBhbmd1bGFyLXRyYW5zbGF0ZVxuICAgKiB0cmllcyB0byBmaW5kIHRoZSBiZXN0IGZpdHRpbmcgbGFuZ3VhZ2Uga2V5IGRlcGVuZGluZyBvbiB0aGUgYnJvd3NlcnMgbG9jYWxlLFxuICAgKiBjb25zaWRlcmluZyB5b3VyIGxhbmd1YWdlIGtleSBjb252ZW50aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gbGFuZ3VhZ2VLZXlzIEFycmF5IG9mIGxhbmd1YWdlIGtleXMgdGhlIHlvdXIgYXBwIHdpbGwgdXNlXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gYWxpYXNlcyBBbGlhcyBtYXAuXG4gICAqL1xuICB0aGlzLnJlZ2lzdGVyQXZhaWxhYmxlTGFuZ3VhZ2VLZXlzID0gZnVuY3Rpb24gKGxhbmd1YWdlS2V5cywgYWxpYXNlcykge1xuICAgIGlmIChsYW5ndWFnZUtleXMpIHtcbiAgICAgICRhdmFpbGFibGVMYW5ndWFnZUtleXMgPSBsYW5ndWFnZUtleXM7XG4gICAgICBpZiAoYWxpYXNlcykge1xuICAgICAgICAkbGFuZ3VhZ2VLZXlBbGlhc2VzID0gYWxpYXNlcztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gJGF2YWlsYWJsZUxhbmd1YWdlS2V5cztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUxvYWRlckNhY2hlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXJzIGEgY2FjaGUgZm9yIGludGVybmFsICRodHRwIGJhc2VkIGxvYWRlcnMuXG4gICAqIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGlvbkNhY2hlICR0cmFuc2xhdGlvbkNhY2hlfS5cbiAgICogV2hlbiBmYWxzZSB0aGUgY2FjaGUgd2lsbCBiZSBkaXNhYmxlZCAoZGVmYXVsdCkuIFdoZW4gdHJ1ZSBvciB1bmRlZmluZWRcbiAgICogdGhlIGNhY2hlIHdpbGwgYmUgYSBkZWZhdWx0IChzZWUgJGNhY2hlRmFjdG9yeSkuIFdoZW4gYW4gb2JqZWN0IGl0IHdpbGxcbiAgICogYmUgdHJlYXQgYXMgYSBjYWNoZSBvYmplY3QgaXRzZWxmOiB0aGUgdXNhZ2UgaXMgJGh0dHAoe2NhY2hlOiBjYWNoZX0pXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjYWNoZSBib29sZWFuLCBzdHJpbmcgb3IgY2FjaGUtb2JqZWN0XG4gICAqL1xuICB0aGlzLnVzZUxvYWRlckNhY2hlID0gZnVuY3Rpb24gKGNhY2hlKSB7XG4gICAgaWYgKGNhY2hlID09PSBmYWxzZSkge1xuICAgICAgLy8gZGlzYWJsZSBjYWNoZVxuICAgICAgbG9hZGVyQ2FjaGUgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChjYWNoZSA9PT0gdHJ1ZSkge1xuICAgICAgLy8gZW5hYmxlIGNhY2hlIHVzaW5nIEFKUyBkZWZhdWx0c1xuICAgICAgbG9hZGVyQ2FjaGUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mKGNhY2hlKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVuYWJsZSBjYWNoZSB1c2luZyBkZWZhdWx0XG4gICAgICBsb2FkZXJDYWNoZSA9ICckdHJhbnNsYXRpb25DYWNoZSc7XG4gICAgfSBlbHNlIGlmIChjYWNoZSkge1xuICAgICAgLy8gZW5hYmxlIGNhY2hlIHVzaW5nIGdpdmVuIG9uZSAoc2VlICRjYWNoZUZhY3RvcnkpXG4gICAgICBsb2FkZXJDYWNoZSA9IGNhY2hlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2RpcmVjdGl2ZVByaW9yaXR5XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgZGVmYXVsdCBwcmlvcml0eSBvZiB0aGUgdHJhbnNsYXRlIGRpcmVjdGl2ZS4gVGhlIHN0YW5kYXJkIHZhbHVlIGlzIGAwYC5cbiAgICogQ2FsbGluZyB0aGlzIGZ1bmN0aW9uIHdpdGhvdXQgYW4gYXJndW1lbnQgd2lsbCByZXR1cm4gdGhlIGN1cnJlbnQgdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwcmlvcml0eSBmb3IgdGhlIHRyYW5zbGF0ZS1kaXJlY3RpdmVcbiAgICovXG4gIHRoaXMuZGlyZWN0aXZlUHJpb3JpdHkgPSBmdW5jdGlvbiAocHJpb3JpdHkpIHtcbiAgICBpZiAocHJpb3JpdHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gZ2V0dGVyXG4gICAgICByZXR1cm4gZGlyZWN0aXZlUHJpb3JpdHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNldHRlciB3aXRoIGNoYWluaW5nXG4gICAgICBkaXJlY3RpdmVQcmlvcml0eSA9IHByaW9yaXR5O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjc3RhdGVmdWxGaWx0ZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTaW5jZSBBbmd1bGFySlMgMS4zLCBmaWx0ZXJzIHdoaWNoIGFyZSBub3Qgc3RhdGVsZXNzIChkZXBlbmRpbmcgYXQgdGhlIHNjb3BlKVxuICAgKiBoYXZlIHRvIGV4cGxpY2l0IGRlZmluZSB0aGlzIGJlaGF2aW9yLlxuICAgKiBTZXRzIHdoZXRoZXIgdGhlIHRyYW5zbGF0ZSBmaWx0ZXIgc2hvdWxkIGJlIHN0YXRlZnVsIG9yIHN0YXRlbGVzcy4gVGhlIHN0YW5kYXJkIHZhbHVlIGlzIGB0cnVlYFxuICAgKiBtZWFuaW5nIGJlaW5nIHN0YXRlZnVsLlxuICAgKiBDYWxsaW5nIHRoaXMgZnVuY3Rpb24gd2l0aG91dCBhbiBhcmd1bWVudCB3aWxsIHJldHVybiB0aGUgY3VycmVudCB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBzdGF0ZSAtIGRlZmluZXMgdGhlIHN0YXRlIG9mIHRoZSBmaWx0ZXJcbiAgICovXG4gIHRoaXMuc3RhdGVmdWxGaWx0ZXIgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gZ2V0dGVyXG4gICAgICByZXR1cm4gc3RhdGVmdWxGaWx0ZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNldHRlciB3aXRoIGNoYWluaW5nXG4gICAgICBzdGF0ZWZ1bEZpbHRlciA9IHN0YXRlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjcG9zdFByb2Nlc3NcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGUgcG9zdCBwcm9jZXNzb3Igd2lsbCBiZSBpbnRlcmNlcHQgcmlnaHQgYWZ0ZXIgdGhlIHRyYW5zbGF0aW9uIHJlc3VsdC4gSXQgY2FuIG1vZGlmeSB0aGUgcmVzdWx0LlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZm4gRnVuY3Rpb24gb3Igc2VydmljZSBuYW1lIChzdHJpbmcpIHRvIGJlIGNhbGxlZCBhZnRlciB0aGUgdHJhbnNsYXRpb24gdmFsdWUgaGFzIGJlZW4gc2V0IC8gcmVzb2x2ZWQuIFRoZSBmdW5jdGlvbiBpdHNlbGYgd2lsbCBlbnJpY2ggZXZlcnkgdmFsdWUgYmVpbmcgcHJvY2Vzc2VkIGFuZCB0aGVuIGNvbnRpbnVlIHRoZSBub3JtYWwgcmVzb2x2ZXIgcHJvY2Vzc1xuICAgKi9cbiAgdGhpcy5wb3N0UHJvY2VzcyA9IGZ1bmN0aW9uIChmbikge1xuICAgIGlmIChmbikge1xuICAgICAgcG9zdFByb2Nlc3NGbiA9IGZuO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb3N0UHJvY2Vzc0ZuID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2tlZXBDb250ZW50XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSWYga2VlcENvbnRlbnQgaXMgc2V0IHRvIHRydWUgdGhhbiB0cmFuc2xhdGUgZGlyZWN0aXZlIHdpbGwgYWx3YXlzIHVzZSBpbm5lckhUTUxcbiAgICogYXMgYSBkZWZhdWx0IHRyYW5zbGF0aW9uXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqIDxwcmU+XG4gICAqICBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcbiAgICogICAgJHRyYW5zbGF0ZVByb3ZpZGVyLmtlZXBDb250ZW50KHRydWUpO1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gdmFsaWQgdmFsdWVzIGFyZSB0cnVlIG9yIGZhbHNlXG4gICAqL1xuICB0aGlzLmtlZXBDb250ZW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgJGtlZXBDb250ZW50ID0gISghdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2Mgb2JqZWN0XG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgKiBAcmVxdWlyZXMgJGludGVycG9sYXRlXG4gICAqIEByZXF1aXJlcyAkbG9nXG4gICAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gICAqIEByZXF1aXJlcyAkcVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhlIGAkdHJhbnNsYXRlYCBzZXJ2aWNlIGlzIHRoZSBhY3R1YWwgY29yZSBvZiBhbmd1bGFyLXRyYW5zbGF0ZS4gSXQgZXhwZWN0cyBhIHRyYW5zbGF0aW9uIGlkXG4gICAqIGFuZCBvcHRpb25hbCBpbnRlcnBvbGF0ZSBwYXJhbWV0ZXJzIHRvIHRyYW5zbGF0ZSBjb250ZW50cy5cbiAgICpcbiAgICogPHByZT5cbiAgICogICR0cmFuc2xhdGUoJ0hFQURMSU5FX1RFWFQnKS50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgKiAgICAkc2NvcGUudHJhbnNsYXRlZFRleHQgPSB0cmFuc2xhdGlvbjtcbiAgICogIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8YXJyYXl9IHRyYW5zbGF0aW9uSWQgQSB0b2tlbiB3aGljaCByZXByZXNlbnRzIGEgdHJhbnNsYXRpb24gaWRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBjYW4gYmUgb3B0aW9uYWxseSBhbiBhcnJheSBvZiB0cmFuc2xhdGlvbiBpZHMgd2hpY2hcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyB0aGF0IHRoZSBmdW5jdGlvbiByZXR1cm5zIGFuIG9iamVjdCB3aGVyZSBlYWNoIGtleVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyB0aGUgdHJhbnNsYXRpb24gaWQgYW5kIHRoZSB2YWx1ZSB0aGUgdHJhbnNsYXRpb24uXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gaW50ZXJwb2xhdGVQYXJhbXMgQW4gb2JqZWN0IGhhc2ggZm9yIGR5bmFtaWMgdmFsdWVzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbnRlcnBvbGF0aW9uSWQgVGhlIGlkIG9mIHRoZSBpbnRlcnBvbGF0aW9uIHRvIHVzZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCB0aGUgb3B0aW9uYWwgZGVmYXVsdCB0cmFuc2xhdGlvbiB0ZXh0IHRoYXQgaXMgd3JpdHRlbiBhc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcyBkZWZhdWx0IHRleHQgaW4gY2FzZSBpdCBpcyBub3QgZm91bmQgaW4gYW55IGNvbmZpZ3VyZWQgbGFuZ3VhZ2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZvcmNlTGFuZ3VhZ2UgQSBsYW5ndWFnZSB0byBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgbGFuZ3VhZ2VcbiAgICogQHJldHVybnMge29iamVjdH0gcHJvbWlzZVxuICAgKi9cbiAgdGhpcy4kZ2V0ID0gWyckbG9nJywgJyRpbmplY3RvcicsICckcm9vdFNjb3BlJywgJyRxJywgZnVuY3Rpb24gKCRsb2csICRpbmplY3RvciwgJHJvb3RTY29wZSwgJHEpIHtcblxuICAgIHZhciBTdG9yYWdlLFxuICAgICAgZGVmYXVsdEludGVycG9sYXRvciA9ICRpbmplY3Rvci5nZXQoJGludGVycG9sYXRpb25GYWN0b3J5IHx8ICckdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24nKSxcbiAgICAgIHBlbmRpbmdMb2FkZXIgPSBmYWxzZSxcbiAgICAgIGludGVycG9sYXRvckhhc2hNYXAgPSB7fSxcbiAgICAgIGxhbmdQcm9taXNlcyA9IHt9LFxuICAgICAgZmFsbGJhY2tJbmRleCxcbiAgICAgIHN0YXJ0RmFsbGJhY2tJdGVyYXRpb247XG5cbiAgICB2YXIgJHRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCBmb3JjZUxhbmd1YWdlKSB7XG4gICAgICBpZiAoISR1c2VzICYmICRwcmVmZXJyZWRMYW5ndWFnZSkge1xuICAgICAgICAkdXNlcyA9ICRwcmVmZXJyZWRMYW5ndWFnZTtcbiAgICAgIH1cbiAgICAgIHZhciB1c2VzID0gKGZvcmNlTGFuZ3VhZ2UgJiYgZm9yY2VMYW5ndWFnZSAhPT0gJHVzZXMpID8gLy8gd2UgZG9uJ3Qgd2FudCB0byByZS1uZWdvdGlhdGUgJHVzZXNcbiAgICAgICAgKG5lZ290aWF0ZUxvY2FsZShmb3JjZUxhbmd1YWdlKSB8fCBmb3JjZUxhbmd1YWdlKSA6ICR1c2VzO1xuXG4gICAgICAvLyBDaGVjayBmb3JjZUxhbmd1YWdlIGlzIHByZXNlbnRcbiAgICAgIGlmIChmb3JjZUxhbmd1YWdlKSB7XG4gICAgICAgIGxvYWRUcmFuc2xhdGlvbnNJZk1pc3NpbmcoZm9yY2VMYW5ndWFnZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIER1Y2sgZGV0ZWN0aW9uOiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYW4gYXJyYXksIGEgYnVuY2ggb2YgdHJhbnNsYXRpb25zIHdhcyByZXF1ZXN0ZWQuXG4gICAgICAvLyBUaGUgcmVzdWx0IGlzIGFuIG9iamVjdC5cbiAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkodHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgLy8gSW5zcGlyZWQgYnkgUS5hbGxTZXR0bGVkIGJ5IEtyaXMgS293YWxcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL2Jsb2IvYjBmYTcyOTgwNzE3ZGMyMDJmZmMzY2JmMDNiOTM2ZTEwZWJiYjlkNy9xLmpzI0wxNTUzLTE1NjNcbiAgICAgICAgLy8gVGhpcyB0cmFuc2Zvcm1zIGFsbCBwcm9taXNlcyByZWdhcmRsZXNzIHJlc29sdmVkIG9yIHJlamVjdGVkXG4gICAgICAgIHZhciB0cmFuc2xhdGVBbGwgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZHMpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0cyA9IHt9OyAvLyBzdG9yaW5nIHRoZSBhY3R1YWwgcmVzdWx0c1xuICAgICAgICAgIHZhciBwcm9taXNlcyA9IFtdOyAvLyBwcm9taXNlcyB0byB3YWl0IGZvclxuICAgICAgICAgIC8vIFdyYXBzIHRoZSBwcm9taXNlIGEpIGJlaW5nIGFsd2F5cyByZXNvbHZlZCBhbmQgYikgc3RvcmluZyB0aGUgbGluayBpZC0+dmFsdWVcbiAgICAgICAgICB2YXIgdHJhbnNsYXRlID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICB2YXIgcmVnYXJkbGVzcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICByZXN1bHRzW3RyYW5zbGF0aW9uSWRdID0gdmFsdWU7XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoW3RyYW5zbGF0aW9uSWQsIHZhbHVlXSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgY2FyZSB3aGV0aGVyIHRoZSBwcm9taXNlIHdhcyByZXNvbHZlZCBvciByZWplY3RlZDsganVzdCBzdG9yZSB0aGUgdmFsdWVzXG4gICAgICAgICAgICAkdHJhbnNsYXRlKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIGZvcmNlTGFuZ3VhZ2UpLnRoZW4ocmVnYXJkbGVzcywgcmVnYXJkbGVzcyk7XG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjID0gdHJhbnNsYXRpb25JZHMubGVuZ3RoOyBpIDwgYzsgaSsrKSB7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRyYW5zbGF0ZSh0cmFuc2xhdGlvbklkc1tpXSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB3YWl0IGZvciBhbGwgKGluY2x1ZGluZyBzdG9yaW5nIHRvIHJlc3VsdHMpXG4gICAgICAgICAgcmV0dXJuICRxLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyByZXR1cm4gdGhlIHJlc3VsdHNcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdHJhbnNsYXRlQWxsKHRyYW5zbGF0aW9uSWQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAvLyB0cmltIG9mZiBhbnkgd2hpdGVzcGFjZVxuICAgICAgaWYgKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgdHJhbnNsYXRpb25JZCA9IHRyaW0uYXBwbHkodHJhbnNsYXRpb25JZCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9taXNlVG9XYWl0Rm9yID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSAkcHJlZmVycmVkTGFuZ3VhZ2UgP1xuICAgICAgICAgIGxhbmdQcm9taXNlc1skcHJlZmVycmVkTGFuZ3VhZ2VdIDpcbiAgICAgICAgICBsYW5nUHJvbWlzZXNbdXNlc107XG5cbiAgICAgICAgZmFsbGJhY2tJbmRleCA9IDA7XG5cbiAgICAgICAgaWYgKCRzdG9yYWdlRmFjdG9yeSAmJiAhcHJvbWlzZSkge1xuICAgICAgICAgIC8vIGxvb2tzIGxpa2UgdGhlcmUncyBubyBwZW5kaW5nIHByb21pc2UgZm9yICRwcmVmZXJyZWRMYW5ndWFnZSBvclxuICAgICAgICAgIC8vICR1c2VzLiBNYXliZSB0aGVyZSdzIG9uZSBwZW5kaW5nIGZvciBhIGxhbmd1YWdlIHRoYXQgY29tZXMgZnJvbVxuICAgICAgICAgIC8vIHN0b3JhZ2UuXG4gICAgICAgICAgdmFyIGxhbmdLZXkgPSBTdG9yYWdlLmdldCgkc3RvcmFnZUtleSk7XG4gICAgICAgICAgcHJvbWlzZSA9IGxhbmdQcm9taXNlc1tsYW5nS2V5XTtcblxuICAgICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsIGxhbmdLZXkpO1xuICAgICAgICAgICAgLy8gbWF5YmUgdGhlIGxhbmd1YWdlIGZyb20gc3RvcmFnZSBpcyBhbHNvIGRlZmluZWQgYXMgZmFsbGJhY2sgbGFuZ3VhZ2VcbiAgICAgICAgICAgIC8vIHdlIGluY3JlYXNlIHRoZSBmYWxsYmFjayBsYW5ndWFnZSBpbmRleCB0byBub3Qgc2VhcmNoIGluIHRoYXQgbGFuZ3VhZ2VcbiAgICAgICAgICAgIC8vIGFzIGZhbGxiYWNrLCBzaW5jZSBpdCdzIHByb2JhYmx5IHRoZSBmaXJzdCB1c2VkIGxhbmd1YWdlXG4gICAgICAgICAgICAvLyBpbiB0aGF0IGNhc2UgdGhlIGluZGV4IHN0YXJ0cyBhZnRlciB0aGUgZmlyc3QgZWxlbWVudFxuICAgICAgICAgICAgZmFsbGJhY2tJbmRleCA9IChpbmRleCA9PT0gMCkgPyAxIDogMDtcblxuICAgICAgICAgICAgLy8gYnV0IHdlIGNhbiBtYWtlIHN1cmUgdG8gQUxXQVlTIGZhbGxiYWNrIHRvIHByZWZlcnJlZCBsYW5ndWFnZSBhdCBsZWFzdFxuICAgICAgICAgICAgaWYgKGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsICRwcmVmZXJyZWRMYW5ndWFnZSkgPCAwKSB7XG4gICAgICAgICAgICAgICRmYWxsYmFja0xhbmd1YWdlLnB1c2goJHByZWZlcnJlZExhbmd1YWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9KCkpO1xuXG4gICAgICBpZiAoIXByb21pc2VUb1dhaXRGb3IpIHtcbiAgICAgICAgLy8gbm8gcHJvbWlzZSB0byB3YWl0IGZvcj8gb2theS4gVGhlbiB0aGVyZSdzIG5vIGxvYWRlciByZWdpc3RlcmVkXG4gICAgICAgIC8vIG5vciBpcyBhIG9uZSBwZW5kaW5nIGZvciBsYW5ndWFnZSB0aGF0IGNvbWVzIGZyb20gc3RvcmFnZS5cbiAgICAgICAgLy8gV2UgY2FuIGp1c3QgdHJhbnNsYXRlLlxuICAgICAgICBkZXRlcm1pbmVUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCB1c2VzKS50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcHJvbWlzZVJlc29sdmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vICR1c2VzIG1heSBoYXZlIGNoYW5nZWQgd2hpbGUgd2FpdGluZ1xuICAgICAgICAgIGlmICghZm9yY2VMYW5ndWFnZSkge1xuICAgICAgICAgICAgdXNlcyA9ICR1c2VzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZXRlcm1pbmVUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCB1c2VzKS50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgIH07XG4gICAgICAgIHByb21pc2VSZXNvbHZlZC5kaXNwbGF5TmFtZSA9ICdwcm9taXNlUmVzb2x2ZWQnO1xuXG4gICAgICAgIHByb21pc2VUb1dhaXRGb3JbJ2ZpbmFsbHknXShwcm9taXNlUmVzb2x2ZWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lIGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEFwcGxpZXMgbm90IGZvdW50IGluZGljYXRvcnMgdG8gZ2l2ZW4gdHJhbnNsYXRpb24gaWQsIGlmIG5lZWRlZC5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGdldHMgb25seSBleGVjdXRlZCwgaWYgYSB0cmFuc2xhdGlvbiBpZCBkb2Vzbid0IGV4aXN0LFxuICAgICAqIHdoaWNoIGlzIHdoeSBhIHRyYW5zbGF0aW9uIGlkIGlzIGV4cGVjdGVkIGFzIGFyZ3VtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zbGF0aW9uSWQgVHJhbnNsYXRpb24gaWQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gU2FtZSBhcyBnaXZlbiB0cmFuc2xhdGlvbiBpZCBidXQgYXBwbGllZCB3aXRoIG5vdCBmb3VuZFxuICAgICAqIGluZGljYXRvcnMuXG4gICAgICovXG4gICAgdmFyIGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgIC8vIGFwcGx5aW5nIG5vdEZvdW5kSW5kaWNhdG9yc1xuICAgICAgaWYgKCRub3RGb3VuZEluZGljYXRvckxlZnQpIHtcbiAgICAgICAgdHJhbnNsYXRpb25JZCA9IFskbm90Rm91bmRJbmRpY2F0b3JMZWZ0LCB0cmFuc2xhdGlvbklkXS5qb2luKCcgJyk7XG4gICAgICB9XG4gICAgICBpZiAoJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQpIHtcbiAgICAgICAgdHJhbnNsYXRpb25JZCA9IFt0cmFuc2xhdGlvbklkLCAkbm90Rm91bmRJbmRpY2F0b3JSaWdodF0uam9pbignICcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uSWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lIHVzZUxhbmd1YWdlXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIE1ha2VzIGFjdHVhbCB1c2Ugb2YgYSBsYW5ndWFnZSBieSBzZXR0aW5nIGEgZ2l2ZW4gbGFuZ3VhZ2Uga2V5IGFzIHVzZWRcbiAgICAgKiBsYW5ndWFnZSBhbmQgaW5mb3JtcyByZWdpc3RlcmVkIGludGVycG9sYXRvcnMgdG8gYWxzbyB1c2UgdGhlIGdpdmVuXG4gICAgICoga2V5IGFzIGxvY2FsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgTG9jYWxlIGtleS5cbiAgICAgKi9cbiAgICB2YXIgdXNlTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAkdXNlcyA9IGtleTtcblxuICAgICAgLy8gbWFrZSBzdXJlIHRvIHN0b3JlIG5ldyBsYW5ndWFnZSBrZXkgYmVmb3JlIHRyaWdnZXJpbmcgc3VjY2VzcyBldmVudFxuICAgICAgaWYgKCRzdG9yYWdlRmFjdG9yeSkge1xuICAgICAgICBTdG9yYWdlLnB1dCgkdHJhbnNsYXRlLnN0b3JhZ2VLZXkoKSwgJHVzZXMpO1xuICAgICAgfVxuXG4gICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlU3VjY2VzcycsIHtsYW5ndWFnZSA6IGtleX0pO1xuXG4gICAgICAvLyBpbmZvcm0gZGVmYXVsdCBpbnRlcnBvbGF0b3JcbiAgICAgIGRlZmF1bHRJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKCR1c2VzKTtcblxuICAgICAgdmFyIGVhY2hJbnRlcnBvbGF0b3IgPSBmdW5jdGlvbiAoaW50ZXJwb2xhdG9yLCBpZCkge1xuICAgICAgICBpbnRlcnBvbGF0b3JIYXNoTWFwW2lkXS5zZXRMb2NhbGUoJHVzZXMpO1xuICAgICAgfTtcbiAgICAgIGVhY2hJbnRlcnBvbGF0b3IuZGlzcGxheU5hbWUgPSAnZWFjaEludGVycG9sYXRvckxvY2FsZVNldHRlcic7XG5cbiAgICAgIC8vIGluZm9ybSBhbGwgb3RoZXJzIHRvbyFcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChpbnRlcnBvbGF0b3JIYXNoTWFwLCBlYWNoSW50ZXJwb2xhdG9yKTtcbiAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VFbmQnLCB7bGFuZ3VhZ2UgOiBrZXl9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgbG9hZEFzeW5jXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEtpY2tzIG9mIHJlZ2lzdGVyZWQgYXN5bmMgbG9hZGVyIHVzaW5nIGAkaW5qZWN0b3JgIGFuZCBhcHBsaWVzIGV4aXN0aW5nXG4gICAgICogbG9hZGVyIG9wdGlvbnMuIFdoZW4gcmVzb2x2ZWQsIGl0IHVwZGF0ZXMgdHJhbnNsYXRpb24gdGFibGVzIGFjY29yZGluZ2x5XG4gICAgICogb3IgcmVqZWN0cyB3aXRoIGdpdmVuIGxhbmd1YWdlIGtleS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgTGFuZ3VhZ2Uga2V5LlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZS5cbiAgICAgKi9cbiAgICB2YXIgbG9hZEFzeW5jID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgdGhyb3cgJ05vIGxhbmd1YWdlIGtleSBzcGVjaWZpZWQgZm9yIGxvYWRpbmcuJztcbiAgICAgIH1cblxuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdTdGFydCcsIHtsYW5ndWFnZSA6IGtleX0pO1xuICAgICAgcGVuZGluZ0xvYWRlciA9IHRydWU7XG5cbiAgICAgIHZhciBjYWNoZSA9IGxvYWRlckNhY2hlO1xuICAgICAgaWYgKHR5cGVvZihjYWNoZSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIGdldHRpbmcgb24tZGVtYW5kIGluc3RhbmNlIG9mIGxvYWRlclxuICAgICAgICBjYWNoZSA9ICRpbmplY3Rvci5nZXQoY2FjaGUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbG9hZGVyT3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCAkbG9hZGVyT3B0aW9ucywge1xuICAgICAgICBrZXkgOiBrZXksXG4gICAgICAgICRodHRwIDogYW5ndWxhci5leHRlbmQoe30sIHtcbiAgICAgICAgICBjYWNoZSA6IGNhY2hlXG4gICAgICAgIH0sICRsb2FkZXJPcHRpb25zLiRodHRwKVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBvbkxvYWRlclN1Y2Nlc3MgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgdHJhbnNsYXRpb25UYWJsZSA9IHt9O1xuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlTG9hZGluZ1N1Y2Nlc3MnLCB7bGFuZ3VhZ2UgOiBrZXl9KTtcblxuICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGEsIGZ1bmN0aW9uICh0YWJsZSkge1xuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQodHJhbnNsYXRpb25UYWJsZSwgZmxhdE9iamVjdCh0YWJsZSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHRyYW5zbGF0aW9uVGFibGUsIGZsYXRPYmplY3QoZGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIHBlbmRpbmdMb2FkZXIgPSBmYWxzZTtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh7XG4gICAgICAgICAga2V5IDoga2V5LFxuICAgICAgICAgIHRhYmxlIDogdHJhbnNsYXRpb25UYWJsZVxuICAgICAgICB9KTtcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdFbmQnLCB7bGFuZ3VhZ2UgOiBrZXl9KTtcbiAgICAgIH07XG4gICAgICBvbkxvYWRlclN1Y2Nlc3MuZGlzcGxheU5hbWUgPSAnb25Mb2FkZXJTdWNjZXNzJztcblxuICAgICAgdmFyIG9uTG9hZGVyRXJyb3IgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nRXJyb3InLCB7bGFuZ3VhZ2UgOiBrZXl9KTtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KGtleSk7XG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nRW5kJywge2xhbmd1YWdlIDoga2V5fSk7XG4gICAgICB9O1xuICAgICAgb25Mb2FkZXJFcnJvci5kaXNwbGF5TmFtZSA9ICdvbkxvYWRlckVycm9yJztcblxuICAgICAgJGluamVjdG9yLmdldCgkbG9hZGVyRmFjdG9yeSkobG9hZGVyT3B0aW9ucylcbiAgICAgICAgLnRoZW4ob25Mb2FkZXJTdWNjZXNzLCBvbkxvYWRlckVycm9yKTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIGlmICgkc3RvcmFnZUZhY3RvcnkpIHtcbiAgICAgIFN0b3JhZ2UgPSAkaW5qZWN0b3IuZ2V0KCRzdG9yYWdlRmFjdG9yeSk7XG5cbiAgICAgIGlmICghU3RvcmFnZS5nZXQgfHwgIVN0b3JhZ2UucHV0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCB1c2Ugc3RvcmFnZSBcXCcnICsgJHN0b3JhZ2VGYWN0b3J5ICsgJ1xcJywgbWlzc2luZyBnZXQoKSBvciBwdXQoKSBtZXRob2QhJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaWYgd2UgaGF2ZSBhZGRpdGlvbmFsIGludGVycG9sYXRpb25zIHRoYXQgd2VyZSBhZGRlZCB2aWFcbiAgICAvLyAkdHJhbnNsYXRlUHJvdmlkZXIuYWRkSW50ZXJwb2xhdGlvbigpLCB3ZSBoYXZlIHRvIG1hcCdlbVxuICAgIGlmICgkaW50ZXJwb2xhdG9yRmFjdG9yaWVzLmxlbmd0aCkge1xuICAgICAgdmFyIGVhY2hJbnRlcnBvbGF0aW9uRmFjdG9yeSA9IGZ1bmN0aW9uIChpbnRlcnBvbGF0b3JGYWN0b3J5KSB7XG4gICAgICAgIHZhciBpbnRlcnBvbGF0b3IgPSAkaW5qZWN0b3IuZ2V0KGludGVycG9sYXRvckZhY3RvcnkpO1xuICAgICAgICAvLyBzZXR0aW5nIGluaXRpYWwgbG9jYWxlIGZvciBlYWNoIGludGVycG9sYXRpb24gc2VydmljZVxuICAgICAgICBpbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKCRwcmVmZXJyZWRMYW5ndWFnZSB8fCAkdXNlcyk7XG4gICAgICAgIC8vIG1ha2UnZW0gcmVjb2duaXphYmxlIHRocm91Z2ggaWRcbiAgICAgICAgaW50ZXJwb2xhdG9ySGFzaE1hcFtpbnRlcnBvbGF0b3IuZ2V0SW50ZXJwb2xhdGlvbklkZW50aWZpZXIoKV0gPSBpbnRlcnBvbGF0b3I7XG4gICAgICB9O1xuICAgICAgZWFjaEludGVycG9sYXRpb25GYWN0b3J5LmRpc3BsYXlOYW1lID0gJ2ludGVycG9sYXRpb25GYWN0b3J5QWRkZXInO1xuXG4gICAgICBhbmd1bGFyLmZvckVhY2goJGludGVycG9sYXRvckZhY3RvcmllcywgZWFjaEludGVycG9sYXRpb25GYWN0b3J5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBnZXRUcmFuc2xhdGlvblRhYmxlXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zbGF0aW9uIHRhYmxlXG4gICAgICogb3IgaXMgcmVqZWN0ZWQgaWYgYW4gZXJyb3Igb2NjdXJyZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGFuZ0tleVxuICAgICAqIEByZXR1cm5zIHtRLnByb21pc2V9XG4gICAgICovXG4gICAgdmFyIGdldFRyYW5zbGF0aW9uVGFibGUgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoJHRyYW5zbGF0aW9uVGFibGUsIGxhbmdLZXkpKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0pO1xuICAgICAgfSBlbHNlIGlmIChsYW5nUHJvbWlzZXNbbGFuZ0tleV0pIHtcbiAgICAgICAgdmFyIG9uUmVzb2x2ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgdHJhbnNsYXRpb25zKGRhdGEua2V5LCBkYXRhLnRhYmxlKTtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEudGFibGUpO1xuICAgICAgICB9O1xuICAgICAgICBvblJlc29sdmUuZGlzcGxheU5hbWUgPSAndHJhbnNsYXRpb25UYWJsZVJlc29sdmVyJztcbiAgICAgICAgbGFuZ1Byb21pc2VzW2xhbmdLZXldLnRoZW4ob25SZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSB0byB0aGUgdHJhbnNsYXRpb25cbiAgICAgKiBvciBiZSByZWplY3RlZCBpZiBubyB0cmFuc2xhdGlvbiB3YXMgZm91bmQgZm9yIHRoZSBsYW5ndWFnZS5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGN1cnJlbnRseSBvbmx5IHVzZWQgZm9yIGZhbGxiYWNrIGxhbmd1YWdlIHRyYW5zbGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIGxhbmdLZXkgVGhlIGxhbmd1YWdlIHRvIHRyYW5zbGF0ZSB0by5cbiAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgKiBAcmV0dXJucyB7US5wcm9taXNlfVxuICAgICAqL1xuICAgIHZhciBnZXRGYWxsYmFja1RyYW5zbGF0aW9uID0gZnVuY3Rpb24gKGxhbmdLZXksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIHZhciBvblJlc29sdmUgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25UYWJsZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRyYW5zbGF0aW9uVGFibGUsIHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgSW50ZXJwb2xhdG9yLnNldExvY2FsZShsYW5nS2V5KTtcbiAgICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvblRhYmxlW3RyYW5zbGF0aW9uSWRdO1xuICAgICAgICAgIGlmICh0cmFuc2xhdGlvbi5zdWJzdHIoMCwgMikgPT09ICdAOicpIHtcbiAgICAgICAgICAgIGdldEZhbGxiYWNrVHJhbnNsYXRpb24obGFuZ0tleSwgdHJhbnNsYXRpb24uc3Vic3RyKDIpLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKVxuICAgICAgICAgICAgICAudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaW50ZXJwb2xhdGVkVmFsdWUgPSBJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb25UYWJsZVt0cmFuc2xhdGlvbklkXSwgaW50ZXJwb2xhdGVQYXJhbXMsICdzZXJ2aWNlJyk7XG4gICAgICAgICAgICBpbnRlcnBvbGF0ZWRWYWx1ZSA9IGFwcGx5UG9zdFByb2Nlc3NpbmcodHJhbnNsYXRpb25JZCwgdHJhbnNsYXRpb25UYWJsZVt0cmFuc2xhdGlvbklkXSwgaW50ZXJwb2xhdGVkVmFsdWUsIGludGVycG9sYXRlUGFyYW1zLCBsYW5nS2V5KTtcblxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShpbnRlcnBvbGF0ZWRWYWx1ZSk7XG5cbiAgICAgICAgICB9XG4gICAgICAgICAgSW50ZXJwb2xhdG9yLnNldExvY2FsZSgkdXNlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBvblJlc29sdmUuZGlzcGxheU5hbWUgPSAnZmFsbGJhY2tUcmFuc2xhdGlvblJlc29sdmVyJztcblxuICAgICAgZ2V0VHJhbnNsYXRpb25UYWJsZShsYW5nS2V5KS50aGVuKG9uUmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lIGdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYSB0cmFuc2xhdGlvblxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY3VycmVudGx5IG9ubHkgdXNlZCBmb3IgZmFsbGJhY2sgbGFuZ3VhZ2UgdHJhbnNsYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGFuZ0tleSBUaGUgbGFuZ3VhZ2UgdG8gdHJhbnNsYXRlIHRvLlxuICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAqIEBwYXJhbSBzYW5pdGl6ZVN0cmF0ZWd5IHNhbml0aXplIHN0cmF0ZWd5IG92ZXJyaWRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0cmFuc2xhdGlvblxuICAgICAqL1xuICAgIHZhciBnZXRGYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudCA9IGZ1bmN0aW9uIChsYW5nS2V5LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yLCBzYW5pdGl6ZVN0cmF0ZWd5KSB7XG4gICAgICB2YXIgcmVzdWx0LCB0cmFuc2xhdGlvblRhYmxlID0gJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV07XG5cbiAgICAgIGlmICh0cmFuc2xhdGlvblRhYmxlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0cmFuc2xhdGlvblRhYmxlLCB0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICBJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKGxhbmdLZXkpO1xuICAgICAgICByZXN1bHQgPSBJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb25UYWJsZVt0cmFuc2xhdGlvbklkXSwgaW50ZXJwb2xhdGVQYXJhbXMsICdmaWx0ZXInLCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICAgICAgcmVzdWx0ID0gYXBwbHlQb3N0UHJvY2Vzc2luZyh0cmFuc2xhdGlvbklkLCB0cmFuc2xhdGlvblRhYmxlW3RyYW5zbGF0aW9uSWRdLCByZXN1bHQsIGludGVycG9sYXRlUGFyYW1zLCBsYW5nS2V5LCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgVHJ1c3RlZFZhbHVlSG9sZGVyVHlwZVxuICAgICAgICBpZiAoIWFuZ3VsYXIuaXNTdHJpbmcocmVzdWx0KSAmJiBhbmd1bGFyLmlzRnVuY3Rpb24ocmVzdWx0LiQkdW53cmFwVHJ1c3RlZFZhbHVlKSkge1xuICAgICAgICAgIHZhciByZXN1bHQyID0gcmVzdWx0LiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7XG4gICAgICAgICAgaWYgKHJlc3VsdDIuc3Vic3RyKDAsIDIpID09PSAnQDonKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQobGFuZ0tleSwgcmVzdWx0Mi5zdWJzdHIoMiksIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuc3Vic3RyKDAsIDIpID09PSAnQDonKSB7XG4gICAgICAgICAgcmV0dXJuIGdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50KGxhbmdLZXksIHJlc3VsdC5zdWJzdHIoMiksIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICB9XG4gICAgICAgIEludGVycG9sYXRvci5zZXRMb2NhbGUoJHVzZXMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIEBuYW1lIHRyYW5zbGF0ZUJ5SGFuZGxlclxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKiBUcmFuc2xhdGUgYnkgbWlzc2luZyB0cmFuc2xhdGlvbiBoYW5kbGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFRyYW5zbGF0aW9uVGV4dFxuICAgICAqIEBwYXJhbSBzYW5pdGl6ZVN0cmF0ZWd5IHNhbml0aXplIHN0cmF0ZWd5IG92ZXJyaWRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0cmFuc2xhdGlvbiBjcmVhdGVkIGJ5ICRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyIG9yIHRyYW5zbGF0aW9uSWQgaXMgJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIgaXNcbiAgICAgKiBhYnNlbnRcbiAgICAgKi9cbiAgICB2YXIgdHJhbnNsYXRlQnlIYW5kbGVyID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCBzYW5pdGl6ZVN0cmF0ZWd5KSB7XG4gICAgICAvLyBJZiB3ZSBoYXZlIGEgaGFuZGxlciBmYWN0b3J5IC0gd2UgbWlnaHQgYWxzbyBjYWxsIGl0IGhlcmUgdG8gZGV0ZXJtaW5lIGlmIGl0IHByb3ZpZGVzXG4gICAgICAvLyBhIGRlZmF1bHQgdGV4dCBmb3IgYSB0cmFuc2xhdGlvbmlkIHRoYXQgY2FuJ3QgYmUgZm91bmQgYW55d2hlcmUgaW4gb3VyIHRhYmxlc1xuICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSkge1xuICAgICAgICByZXR1cm4gJGluamVjdG9yLmdldCgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkpKHRyYW5zbGF0aW9uSWQsICR1c2VzLCBpbnRlcnBvbGF0ZVBhcmFtcywgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCwgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogUmVjdXJzaXZlIGhlbHBlciBmdW5jdGlvbiBmb3IgZmFsbGJhY2tUcmFuc2xhdGlvbiB0aGF0IHdpbGwgc2VxdWVudGlhbGx5IGxvb2tcbiAgICAgKiBmb3IgYSB0cmFuc2xhdGlvbiBpbiB0aGUgZmFsbGJhY2tMYW5ndWFnZXMgc3RhcnRpbmcgd2l0aCBmYWxsYmFja0xhbmd1YWdlSW5kZXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmFsbGJhY2tMYW5ndWFnZUluZGV4XG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICogQHJldHVybnMge1EucHJvbWlzZX0gUHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSB0byB0aGUgdHJhbnNsYXRpb24uXG4gICAgICovXG4gICAgdmFyIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlID0gZnVuY3Rpb24gKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgaWYgKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCA8ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICB2YXIgbGFuZ0tleSA9ICRmYWxsYmFja0xhbmd1YWdlW2ZhbGxiYWNrTGFuZ3VhZ2VJbmRleF07XG4gICAgICAgIGdldEZhbGxiYWNrVHJhbnNsYXRpb24obGFuZ0tleSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikudGhlbihcbiAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIExvb2sgaW4gdGhlIG5leHQgZmFsbGJhY2sgbGFuZ3VhZ2UgZm9yIGEgdHJhbnNsYXRpb24uXG4gICAgICAgICAgICAvLyBJdCBkZWxheXMgdGhlIHJlc29sdmluZyBieSBwYXNzaW5nIGFub3RoZXIgcHJvbWlzZSB0byByZXNvbHZlLlxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCArIDEsIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQpLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBObyB0cmFuc2xhdGlvbiBmb3VuZCBpbiBhbnkgZmFsbGJhY2sgbGFuZ3VhZ2VcbiAgICAgICAgLy8gaWYgYSBkZWZhdWx0IHRyYW5zbGF0aW9uIHRleHQgaXMgc2V0IGluIHRoZSBkaXJlY3RpdmUsIHRoZW4gcmV0dXJuIHRoaXMgYXMgYSByZXN1bHRcbiAgICAgICAgaWYgKGRlZmF1bHRUcmFuc2xhdGlvblRleHQpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRlZmF1bHRUcmFuc2xhdGlvblRleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24gPSB0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQpO1xuXG4gICAgICAgICAgLy8gaWYgbm8gZGVmYXVsdCB0cmFuc2xhdGlvbiBpcyBzZXQgYW5kIGFuIGVycm9yIGhhbmRsZXIgaXMgZGVmaW5lZCwgc2VuZCBpdCB0byB0aGUgaGFuZGxlclxuICAgICAgICAgIC8vIGFuZCB0aGVuIHJldHVybiB0aGUgcmVzdWx0IGlmIGl0IGlzbid0IHVuZGVmaW5lZFxuICAgICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyh0cmFuc2xhdGlvbklkKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIFJlY3Vyc2l2ZSBoZWxwZXIgZnVuY3Rpb24gZm9yIGZhbGxiYWNrVHJhbnNsYXRpb24gdGhhdCB3aWxsIHNlcXVlbnRpYWxseSBsb29rXG4gICAgICogZm9yIGEgdHJhbnNsYXRpb24gaW4gdGhlIGZhbGxiYWNrTGFuZ3VhZ2VzIHN0YXJ0aW5nIHdpdGggZmFsbGJhY2tMYW5ndWFnZUluZGV4LlxuICAgICAqXG4gICAgICogQHBhcmFtIGZhbGxiYWNrTGFuZ3VhZ2VJbmRleFxuICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAqIEBwYXJhbSBzYW5pdGl6ZVN0cmF0ZWd5XG4gICAgICogQHJldHVybnMge3N0cmluZ30gdHJhbnNsYXRpb25cbiAgICAgKi9cbiAgICB2YXIgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50ID0gZnVuY3Rpb24gKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgc2FuaXRpemVTdHJhdGVneSkge1xuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgaWYgKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCA8ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICB2YXIgbGFuZ0tleSA9ICRmYWxsYmFja0xhbmd1YWdlW2ZhbGxiYWNrTGFuZ3VhZ2VJbmRleF07XG4gICAgICAgIHJlc3VsdCA9IGdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50KGxhbmdLZXksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICBpZiAoIXJlc3VsdCAmJiByZXN1bHQgIT09ICcnKSB7XG4gICAgICAgICAgcmVzdWx0ID0gcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50KGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCArIDEsIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIHdpdGggdGhlIHVzYWdlIG9mIHRoZSBmYWxsYmFjayBsYW5ndWFnZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgKiBAcmV0dXJucyB7US5wcm9taXNlfSBQcm9taXNlLCB0aGF0IHJlc29sdmVzIHRvIHRoZSB0cmFuc2xhdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgZmFsbGJhY2tUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0KSB7XG4gICAgICAvLyBTdGFydCB3aXRoIHRoZSBmYWxsYmFja0xhbmd1YWdlIHdpdGggaW5kZXggMFxuICAgICAgcmV0dXJuIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlKChzdGFydEZhbGxiYWNrSXRlcmF0aW9uID4gMCA/IHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gOiBmYWxsYmFja0luZGV4KSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgd2l0aCB0aGUgdXNhZ2Ugb2YgdGhlIGZhbGxiYWNrIGxhbmd1YWdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHRyYW5zbGF0aW9uXG4gICAgICovXG4gICAgdmFyIGZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50ID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIHNhbml0aXplU3RyYXRlZ3kpIHtcbiAgICAgIC8vIFN0YXJ0IHdpdGggdGhlIGZhbGxiYWNrTGFuZ3VhZ2Ugd2l0aCBpbmRleCAwXG4gICAgICByZXR1cm4gcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50KChzdGFydEZhbGxiYWNrSXRlcmF0aW9uID4gMCA/IHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gOiBmYWxsYmFja0luZGV4KSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgfTtcblxuICAgIHZhciBkZXRlcm1pbmVUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCB1c2VzKSB7XG5cbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIHZhciB0YWJsZSA9IHVzZXMgPyAkdHJhbnNsYXRpb25UYWJsZVt1c2VzXSA6ICR0cmFuc2xhdGlvblRhYmxlLFxuICAgICAgICBJbnRlcnBvbGF0b3IgPSAoaW50ZXJwb2xhdGlvbklkKSA/IGludGVycG9sYXRvckhhc2hNYXBbaW50ZXJwb2xhdGlvbklkXSA6IGRlZmF1bHRJbnRlcnBvbGF0b3I7XG5cbiAgICAgIC8vIGlmIHRoZSB0cmFuc2xhdGlvbiBpZCBleGlzdHMsIHdlIGNhbiBqdXN0IGludGVycG9sYXRlIGl0XG4gICAgICBpZiAodGFibGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhYmxlLCB0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSB0YWJsZVt0cmFuc2xhdGlvbklkXTtcblxuICAgICAgICAvLyBJZiB1c2luZyBsaW5rLCByZXJ1biAkdHJhbnNsYXRlIHdpdGggbGlua2VkIHRyYW5zbGF0aW9uSWQgYW5kIHJldHVybiBpdFxuICAgICAgICBpZiAodHJhbnNsYXRpb24uc3Vic3RyKDAsIDIpID09PSAnQDonKSB7XG5cbiAgICAgICAgICAkdHJhbnNsYXRlKHRyYW5zbGF0aW9uLnN1YnN0cigyKSwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCwgdXNlcylcbiAgICAgICAgICAgIC50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy9cbiAgICAgICAgICB2YXIgcmVzb2x2ZWRUcmFuc2xhdGlvbiA9IEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvbiwgaW50ZXJwb2xhdGVQYXJhbXMsICdzZXJ2aWNlJyk7XG4gICAgICAgICAgcmVzb2x2ZWRUcmFuc2xhdGlvbiA9IGFwcGx5UG9zdFByb2Nlc3NpbmcodHJhbnNsYXRpb25JZCwgdHJhbnNsYXRpb24sIHJlc29sdmVkVHJhbnNsYXRpb24sIGludGVycG9sYXRlUGFyYW1zLCB1c2VzKTtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc29sdmVkVHJhbnNsYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uO1xuICAgICAgICAvLyBmb3IgbG9nZ2luZyBwdXJwb3NlcyBvbmx5IChhcyBpbiAkdHJhbnNsYXRlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyksIHZhbHVlIGlzIG5vdCByZXR1cm5lZCB0byBwcm9taXNlXG4gICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIpIHtcbiAgICAgICAgICBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24gPSB0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2luY2Ugd2UgY291bGRuJ3QgdHJhbnNsYXRlIHRoZSBpbml0YWwgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkLFxuICAgICAgICAvLyB3ZSB0cnkgaXQgbm93IHdpdGggb25lIG9yIG1vcmUgZmFsbGJhY2sgbGFuZ3VhZ2VzLCBpZiBmYWxsYmFjayBsYW5ndWFnZShzKSBpc1xuICAgICAgICAvLyBjb25maWd1cmVkLlxuICAgICAgICBpZiAodXNlcyAmJiAkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICBmYWxsYmFja1RyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cmFuc2xhdGlvbik7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoX3RyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzKF90cmFuc2xhdGlvbklkKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIgJiYgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGUgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkIGRvZXNuJ3QgZXhpc3RzLlxuICAgICAgICAgIC8vIE5vdywgaWYgdGhlcmUgaXMgYSByZWdpc3RlcmVkIGhhbmRsZXIgZm9yIG1pc3NpbmcgdHJhbnNsYXRpb25zIGFuZCBub1xuICAgICAgICAgIC8vIGFzeW5jTG9hZGVyIGlzIHBlbmRpbmcsIHdlIGV4ZWN1dGUgdGhlIGhhbmRsZXJcbiAgICAgICAgICBpZiAoZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkZWZhdWx0VHJhbnNsYXRpb25UZXh0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkZWZhdWx0VHJhbnNsYXRpb25UZXh0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzKHRyYW5zbGF0aW9uSWQpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgICB2YXIgZGV0ZXJtaW5lVHJhbnNsYXRpb25JbnN0YW50ID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIHVzZXMsIHNhbml0aXplU3RyYXRlZ3kpIHtcblxuICAgICAgdmFyIHJlc3VsdCwgdGFibGUgPSB1c2VzID8gJHRyYW5zbGF0aW9uVGFibGVbdXNlc10gOiAkdHJhbnNsYXRpb25UYWJsZSxcbiAgICAgICAgSW50ZXJwb2xhdG9yID0gZGVmYXVsdEludGVycG9sYXRvcjtcblxuICAgICAgLy8gaWYgdGhlIGludGVycG9sYXRpb24gaWQgZXhpc3RzIHVzZSBjdXN0b20gaW50ZXJwb2xhdG9yXG4gICAgICBpZiAoaW50ZXJwb2xhdG9ySGFzaE1hcCAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW50ZXJwb2xhdG9ySGFzaE1hcCwgaW50ZXJwb2xhdGlvbklkKSkge1xuICAgICAgICBJbnRlcnBvbGF0b3IgPSBpbnRlcnBvbGF0b3JIYXNoTWFwW2ludGVycG9sYXRpb25JZF07XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHRoZSB0cmFuc2xhdGlvbiBpZCBleGlzdHMsIHdlIGNhbiBqdXN0IGludGVycG9sYXRlIGl0XG4gICAgICBpZiAodGFibGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhYmxlLCB0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSB0YWJsZVt0cmFuc2xhdGlvbklkXTtcblxuICAgICAgICAvLyBJZiB1c2luZyBsaW5rLCByZXJ1biAkdHJhbnNsYXRlIHdpdGggbGlua2VkIHRyYW5zbGF0aW9uSWQgYW5kIHJldHVybiBpdFxuICAgICAgICBpZiAodHJhbnNsYXRpb24uc3Vic3RyKDAsIDIpID09PSAnQDonKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZGV0ZXJtaW5lVHJhbnNsYXRpb25JbnN0YW50KHRyYW5zbGF0aW9uLnN1YnN0cigyKSwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCwgdXNlcywgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gSW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHRyYW5zbGF0aW9uLCBpbnRlcnBvbGF0ZVBhcmFtcywgJ2ZpbHRlcicsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICAgIHJlc3VsdCA9IGFwcGx5UG9zdFByb2Nlc3NpbmcodHJhbnNsYXRpb25JZCwgdHJhbnNsYXRpb24sIHJlc3VsdCwgaW50ZXJwb2xhdGVQYXJhbXMsIHVzZXMsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uO1xuICAgICAgICAvLyBmb3IgbG9nZ2luZyBwdXJwb3NlcyBvbmx5IChhcyBpbiAkdHJhbnNsYXRlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyksIHZhbHVlIGlzIG5vdCByZXR1cm5lZCB0byBwcm9taXNlXG4gICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIpIHtcbiAgICAgICAgICBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24gPSB0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2luY2Ugd2UgY291bGRuJ3QgdHJhbnNsYXRlIHRoZSBpbml0YWwgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkLFxuICAgICAgICAvLyB3ZSB0cnkgaXQgbm93IHdpdGggb25lIG9yIG1vcmUgZmFsbGJhY2sgbGFuZ3VhZ2VzLCBpZiBmYWxsYmFjayBsYW5ndWFnZShzKSBpc1xuICAgICAgICAvLyBjb25maWd1cmVkLlxuICAgICAgICBpZiAodXNlcyAmJiAkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICBmYWxsYmFja0luZGV4ID0gMDtcbiAgICAgICAgICByZXN1bHQgPSBmYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudCh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yLCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICAgICAgfSBlbHNlIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIgJiYgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGUgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkIGRvZXNuJ3QgZXhpc3RzLlxuICAgICAgICAgIC8vIE5vdywgaWYgdGhlcmUgaXMgYSByZWdpc3RlcmVkIGhhbmRsZXIgZm9yIG1pc3NpbmcgdHJhbnNsYXRpb25zIGFuZCBub1xuICAgICAgICAgIC8vIGFzeW5jTG9hZGVyIGlzIHBlbmRpbmcsIHdlIGV4ZWN1dGUgdGhlIGhhbmRsZXJcbiAgICAgICAgICByZXN1bHQgPSBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gYXBwbHlOb3RGb3VuZEluZGljYXRvcnModHJhbnNsYXRpb25JZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgdmFyIGNsZWFyTmV4dExhbmdBbmRQcm9taXNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKCRuZXh0TGFuZyA9PT0ga2V5KSB7XG4gICAgICAgICRuZXh0TGFuZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGxhbmdQcm9taXNlc1trZXldID0gdW5kZWZpbmVkO1xuICAgIH07XG5cbiAgICB2YXIgYXBwbHlQb3N0UHJvY2Vzc2luZyA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCB0cmFuc2xhdGlvbiwgcmVzb2x2ZWRUcmFuc2xhdGlvbiwgaW50ZXJwb2xhdGVQYXJhbXMsIHVzZXMsIHNhbml0aXplU3RyYXRlZ3kpIHtcbiAgICAgIHZhciBmbiA9IHBvc3RQcm9jZXNzRm47XG5cbiAgICAgIGlmIChmbikge1xuXG4gICAgICAgIGlmICh0eXBlb2YoZm4pID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIC8vIGdldHRpbmcgb24tZGVtYW5kIGluc3RhbmNlXG4gICAgICAgICAgZm4gPSAkaW5qZWN0b3IuZ2V0KGZuKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICByZXR1cm4gZm4odHJhbnNsYXRpb25JZCwgdHJhbnNsYXRpb24sIHJlc29sdmVkVHJhbnNsYXRpb24sIGludGVycG9sYXRlUGFyYW1zLCB1c2VzLCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzb2x2ZWRUcmFuc2xhdGlvbjtcbiAgICB9O1xuXG4gICAgdmFyIGxvYWRUcmFuc2xhdGlvbnNJZk1pc3NpbmcgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoISR0cmFuc2xhdGlvblRhYmxlW2tleV0gJiYgJGxvYWRlckZhY3RvcnkgJiYgIWxhbmdQcm9taXNlc1trZXldKSB7XG4gICAgICAgIGxhbmdQcm9taXNlc1trZXldID0gbG9hZEFzeW5jKGtleSkudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbnModHJhbnNsYXRpb24ua2V5LCB0cmFuc2xhdGlvbi50YWJsZSk7XG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3ByZWZlcnJlZExhbmd1YWdlXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB0aGUgbGFuZ3VhZ2Uga2V5IGZvciB0aGUgcHJlZmVycmVkIGxhbmd1YWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgbGFuZ3VhZ2UgU3RyaW5nIG9yIEFycmF5IHRvIGJlIHVzZWQgYXMgcHJlZmVycmVkTGFuZ3VhZ2UgKGNoYW5naW5nIGF0IHJ1bnRpbWUpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHByZWZlcnJlZCBsYW5ndWFnZSBrZXlcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLnByZWZlcnJlZExhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgIGlmIChsYW5nS2V5KSB7XG4gICAgICAgIHNldHVwUHJlZmVycmVkTGFuZ3VhZ2UobGFuZ0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gJHByZWZlcnJlZExhbmd1YWdlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjY2xvYWtDbGFzc05hbWVcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBjb25maWd1cmVkIGNsYXNzIG5hbWUgZm9yIGB0cmFuc2xhdGUtY2xvYWtgIGRpcmVjdGl2ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gY2xvYWtDbGFzc05hbWVcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLmNsb2FrQ2xhc3NOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICRjbG9ha0NsYXNzTmFtZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI25lc3RlZE9iamVjdERlbGltZXRlclxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgdGhlIGNvbmZpZ3VyZWQgZGVsaW1pdGVyIGZvciBuZXN0ZWQgbmFtZXNwYWNlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gbmVzdGVkT2JqZWN0RGVsaW1ldGVyXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5uZXN0ZWRPYmplY3REZWxpbWV0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJG5lc3RlZE9iamVjdERlbGltZXRlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2ZhbGxiYWNrTGFuZ3VhZ2VcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBsYW5ndWFnZSBrZXkgZm9yIHRoZSBmYWxsYmFjayBsYW5ndWFnZXMgb3Igc2V0cyBhIG5ldyBmYWxsYmFjayBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbGFuZ0tleSBsYW5ndWFnZSBTdHJpbmcgb3IgQXJyYXkgb2YgZmFsbGJhY2sgbGFuZ3VhZ2VzIHRvIGJlIHVzZWQgKHRvIGNoYW5nZSBzdGFjayBhdCBydW50aW1lKVxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfHxhcnJheX0gZmFsbGJhY2sgbGFuZ3VhZ2Uga2V5XG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5mYWxsYmFja0xhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgIGlmIChsYW5nS2V5ICE9PSB1bmRlZmluZWQgJiYgbGFuZ0tleSAhPT0gbnVsbCkge1xuICAgICAgICBmYWxsYmFja1N0YWNrKGxhbmdLZXkpO1xuXG4gICAgICAgIC8vIGFzIHdlIG1pZ2h0IGhhdmUgYW4gYXN5bmMgbG9hZGVyIGluaXRpYXRlZCBhbmQgYSBuZXcgdHJhbnNsYXRpb24gbGFuZ3VhZ2UgbWlnaHQgaGF2ZSBiZWVuIGRlZmluZWRcbiAgICAgICAgLy8gd2UgbmVlZCB0byBhZGQgdGhlIHByb21pc2UgdG8gdGhlIHN0YWNrIGFsc28uIFNvIC0gaXRlcmF0ZS5cbiAgICAgICAgaWYgKCRsb2FkZXJGYWN0b3J5KSB7XG4gICAgICAgICAgaWYgKCRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICghbGFuZ1Byb21pc2VzWyRmYWxsYmFja0xhbmd1YWdlW2ldXSkge1xuICAgICAgICAgICAgICAgIGxhbmdQcm9taXNlc1skZmFsbGJhY2tMYW5ndWFnZVtpXV0gPSBsb2FkQXN5bmMoJGZhbGxiYWNrTGFuZ3VhZ2VbaV0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICR0cmFuc2xhdGUudXNlKCR0cmFuc2xhdGUudXNlKCkpO1xuICAgICAgfVxuICAgICAgaWYgKCRmYWxsYmFja1dhc1N0cmluZykge1xuICAgICAgICByZXR1cm4gJGZhbGxiYWNrTGFuZ3VhZ2VbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJGZhbGxiYWNrTGFuZ3VhZ2U7XG4gICAgICB9XG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3VzZUZhbGxiYWNrTGFuZ3VhZ2VcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTZXRzIHRoZSBmaXJzdCBrZXkgb2YgdGhlIGZhbGxiYWNrIGxhbmd1YWdlIHN0YWNrIHRvIGJlIHVzZWQgZm9yIHRyYW5zbGF0aW9uLlxuICAgICAqIFRoZXJlZm9yZSBhbGwgbGFuZ3VhZ2VzIGluIHRoZSBmYWxsYmFjayBhcnJheSBCRUZPUkUgdGhpcyBrZXkgd2lsbCBiZSBza2lwcGVkIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBsYW5nS2V5IENvbnRhaW5zIHRoZSBsYW5nS2V5IHRoZSBpdGVyYXRpb24gc2hhbGwgc3RhcnQgd2l0aC4gU2V0IHRvIGZhbHNlIGlmIHlvdSB3YW50IHRvXG4gICAgICogZ2V0IGJhY2sgdG8gdGhlIHdob2xlIHN0YWNrXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS51c2VGYWxsYmFja0xhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgIGlmIChsYW5nS2V5ICE9PSB1bmRlZmluZWQgJiYgbGFuZ0tleSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoIWxhbmdLZXkpIHtcbiAgICAgICAgICBzdGFydEZhbGxiYWNrSXRlcmF0aW9uID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbGFuZ0tleVBvc2l0aW9uID0gaW5kZXhPZigkZmFsbGJhY2tMYW5ndWFnZSwgbGFuZ0tleSk7XG4gICAgICAgICAgaWYgKGxhbmdLZXlQb3NpdGlvbiA+IC0xKSB7XG4gICAgICAgICAgICBzdGFydEZhbGxiYWNrSXRlcmF0aW9uID0gbGFuZ0tleVBvc2l0aW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3Byb3Bvc2VkTGFuZ3VhZ2VcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBsYW5ndWFnZSBrZXkgb2YgbGFuZ3VhZ2UgdGhhdCBpcyBjdXJyZW50bHkgbG9hZGVkIGFzeW5jaHJvbm91c2x5LlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBsYW5ndWFnZSBrZXlcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLnByb3Bvc2VkTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJG5leHRMYW5nO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjc3RvcmFnZVxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgcmVnaXN0ZXJlZCBzdG9yYWdlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBTdG9yYWdlXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5zdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIFN0b3JhZ2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNuZWdvdGlhdGVMb2NhbGVcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIGEgbGFuZ3VhZ2Uga2V5IGJhc2VkIG9uIGF2YWlsYWJsZSBsYW5ndWFnZXMgYW5kIGxhbmd1YWdlIGFsaWFzZXMuIElmIGFcbiAgICAgKiBsYW5ndWFnZSBrZXkgY2Fubm90IGJlIHJlc29sdmVkLCByZXR1cm5zIHVuZGVmaW5lZC5cbiAgICAgKlxuICAgICAqIElmIG5vIG9yIGEgZmFsc3kga2V5IGlzIGdpdmVuLCByZXR1cm5zIHVuZGVmaW5lZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2V5XSBMYW5ndWFnZSBrZXlcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfSBMYW5ndWFnZSBrZXkgb3IgdW5kZWZpbmVkIGlmIG5vIGxhbmd1YWdlIGtleSBpcyBmb3VuZC5cbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLm5lZ290aWF0ZUxvY2FsZSA9IG5lZ290aWF0ZUxvY2FsZTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSN1c2VcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB3aGljaCBsYW5ndWFnZSB0byB1c2UgYnkgZ2l2ZW4gbGFuZ3VhZ2Uga2V5LiBUaGlzIG1ldGhvZCBpc1xuICAgICAqIHVzZWQgdG8gY2hhbmdlIGxhbmd1YWdlIGF0IHJ1bnRpbWUuIEl0IGFsc28gdGFrZXMgY2FyZSBvZiBzdG9yaW5nIHRoZSBsYW5ndWFnZVxuICAgICAqIGtleSBpbiBhIGNvbmZpZ3VyZWQgc3RvcmUgdG8gbGV0IHlvdXIgYXBwIHJlbWVtYmVyIHRoZSBjaG9vc2VkIGxhbmd1YWdlLlxuICAgICAqXG4gICAgICogV2hlbiB0cnlpbmcgdG8gJ3VzZScgYSBsYW5ndWFnZSB3aGljaCBpc24ndCBhdmFpbGFibGUgaXQgdHJpZXMgdG8gbG9hZCBpdFxuICAgICAqIGFzeW5jaHJvbm91c2x5IHdpdGggcmVnaXN0ZXJlZCBsb2FkZXJzLlxuICAgICAqXG4gICAgICogUmV0dXJucyBwcm9taXNlIG9iamVjdCB3aXRoIGxvYWRlZCBsYW5ndWFnZSBmaWxlIGRhdGEgb3Igc3RyaW5nIG9mIHRoZSBjdXJyZW50bHkgdXNlZCBsYW5ndWFnZS5cbiAgICAgKlxuICAgICAqIElmIG5vIG9yIGEgZmFsc3kga2V5IGlzIGdpdmVuIGl0IHJldHVybnMgdGhlIGN1cnJlbnRseSB1c2VkIGxhbmd1YWdlIGtleS5cbiAgICAgKiBUaGUgcmV0dXJuZWQgc3RyaW5nIHdpbGwgYmUgYGBgdW5kZWZpbmVkYGBgIGlmIHNldHRpbmcgdXAgJHRyYW5zbGF0ZSBoYXNuJ3QgZmluaXNoZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAkdHJhbnNsYXRlLnVzZShcImVuX1VTXCIpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgKiAgICRzY29wZS50ZXh0ID0gJHRyYW5zbGF0ZShcIkhFTExPXCIpO1xuICAgICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gTGFuZ3VhZ2Uga2V5XG4gICAgICogQHJldHVybiB7b2JqZWN0fHN0cmluZ30gUHJvbWlzZSB3aXRoIGxvYWRlZCBsYW5ndWFnZSBkYXRhIG9yIHRoZSBsYW5ndWFnZSBrZXkgaWYgYSBmYWxzeSBwYXJhbSB3YXMgZ2l2ZW4uXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS51c2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoIWtleSkge1xuICAgICAgICByZXR1cm4gJHVzZXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VTdGFydCcsIHtsYW5ndWFnZSA6IGtleX0pO1xuXG4gICAgICAvLyBUcnkgdG8gZ2V0IHRoZSBhbGlhc2VkIGxhbmd1YWdlIGtleVxuICAgICAgdmFyIGFsaWFzZWRLZXkgPSBuZWdvdGlhdGVMb2NhbGUoa2V5KTtcbiAgICAgIC8vIEVuc3VyZSBvbmx5IHJlZ2lzdGVyZWQgbGFuZ3VhZ2Uga2V5cyB3aWxsIGJlIGxvYWRlZFxuICAgICAgaWYgKCRhdmFpbGFibGVMYW5ndWFnZUtleXMubGVuZ3RoID4gMCAmJiAhYWxpYXNlZEtleSkge1xuICAgICAgICByZXR1cm4gJHEucmVqZWN0KGtleSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbGlhc2VkS2V5KSB7XG4gICAgICAgIGtleSA9IGFsaWFzZWRLZXk7XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHRoZXJlIGlzbid0IGEgdHJhbnNsYXRpb24gdGFibGUgZm9yIHRoZSBsYW5ndWFnZSB3ZSd2ZSByZXF1ZXN0ZWQsXG4gICAgICAvLyB3ZSBsb2FkIGl0IGFzeW5jaHJvbm91c2x5XG4gICAgICAkbmV4dExhbmcgPSBrZXk7XG4gICAgICBpZiAoKCRmb3JjZUFzeW5jUmVsb2FkRW5hYmxlZCB8fCAhJHRyYW5zbGF0aW9uVGFibGVba2V5XSkgJiYgJGxvYWRlckZhY3RvcnkgJiYgIWxhbmdQcm9taXNlc1trZXldKSB7XG4gICAgICAgIGxhbmdQcm9taXNlc1trZXldID0gbG9hZEFzeW5jKGtleSkudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbnModHJhbnNsYXRpb24ua2V5LCB0cmFuc2xhdGlvbi50YWJsZSk7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cmFuc2xhdGlvbi5rZXkpO1xuICAgICAgICAgIGlmICgkbmV4dExhbmcgPT09IGtleSkge1xuICAgICAgICAgICAgdXNlTGFuZ3VhZ2UodHJhbnNsYXRpb24ua2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgICAgICB9LCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVycm9yJywge2xhbmd1YWdlIDoga2V5fSk7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGtleSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIHtsYW5ndWFnZSA6IGtleX0pO1xuICAgICAgICAgIHJldHVybiAkcS5yZWplY3Qoa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxhbmdQcm9taXNlc1trZXldWydmaW5hbGx5J10oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNsZWFyTmV4dExhbmdBbmRQcm9taXNlKGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChsYW5nUHJvbWlzZXNba2V5XSkge1xuICAgICAgICAvLyB3ZSBhcmUgYWxyZWFkeSBsb2FkaW5nIHRoaXMgYXN5bmNocm9ub3VzbHlcbiAgICAgICAgLy8gcmVzb2x2ZSBvdXIgbmV3IGRlZmVycmVkIHdoZW4gdGhlIG9sZCBsYW5nUHJvbWlzZSBpcyByZXNvbHZlZFxuICAgICAgICBsYW5nUHJvbWlzZXNba2V5XS50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgIGlmICgkbmV4dExhbmcgPT09IHRyYW5zbGF0aW9uLmtleSkge1xuICAgICAgICAgICAgdXNlTGFuZ3VhZ2UodHJhbnNsYXRpb24ua2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cmFuc2xhdGlvbi5rZXkpO1xuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbjtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIC8vIGZpbmQgZmlyc3QgYXZhaWxhYmxlIGZhbGxiYWNrIGxhbmd1YWdlIGlmIHRoYXQgcmVxdWVzdCBoYXMgZmFpbGVkXG4gICAgICAgICAgaWYgKCEkdXNlcyAmJiAkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGggPiAwICYmICRmYWxsYmFja0xhbmd1YWdlWzBdICE9PSBrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiAkdHJhbnNsYXRlLnVzZSgkZmFsbGJhY2tMYW5ndWFnZVswXSkudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucmVqZWN0KGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoa2V5KTtcbiAgICAgICAgdXNlTGFuZ3VhZ2Uoa2V5KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNyZXNvbHZlQ2xpZW50TG9jYWxlXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhpcyByZXR1cm5zIHRoZSBjdXJyZW50IGJyb3dzZXIvY2xpZW50J3MgbGFuZ3VhZ2Uga2V5LiBUaGUgcmVzdWx0IGlzIHByb2Nlc3NlZCB3aXRoIHRoZSBjb25maWd1cmVkIHVuaWZvcm0gdGFnIHJlc29sdmVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gdGhlIGN1cnJlbnQgY2xpZW50L2Jyb3dzZXIgbGFuZ3VhZ2Uga2V5XG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5yZXNvbHZlQ2xpZW50TG9jYWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGdldExvY2FsZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjc3RvcmFnZUtleVxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgdGhlIGtleSBmb3IgdGhlIHN0b3JhZ2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHN0b3JhZ2Uga2V5XG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5zdG9yYWdlS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHN0b3JhZ2VLZXkoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2lzUG9zdENvbXBpbGluZ0VuYWJsZWRcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgcG9zdCBjb21waWxpbmcgaXMgZW5hYmxlZCBvciBub3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2x9IHN0b3JhZ2Uga2V5XG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5pc1Bvc3RDb21waWxpbmdFbmFibGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICRwb3N0Q29tcGlsaW5nRW5hYmxlZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2lzRm9yY2VBc3luY1JlbG9hZEVuYWJsZWRcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgZm9yY2UgYXN5bmMgcmVsb2FkIGlzIGVuYWJsZWQgb3Igbm90XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBmb3JjZUFzeW5jUmVsb2FkIHZhbHVlXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5pc0ZvcmNlQXN5bmNSZWxvYWRFbmFibGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICRmb3JjZUFzeW5jUmVsb2FkRW5hYmxlZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2lzS2VlcENvbnRlbnRcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIga2VlcENvbnRlbnQgb3Igbm90XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBrZWVwQ29udGVudCB2YWx1ZVxuICAgICAqL1xuICAgICR0cmFuc2xhdGUuaXNLZWVwQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAka2VlcENvbnRlbnQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNyZWZyZXNoXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmVmcmVzaGVzIGEgdHJhbnNsYXRpb24gdGFibGUgcG9pbnRlZCBieSB0aGUgZ2l2ZW4gbGFuZ0tleS4gSWYgbGFuZ0tleSBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAqIHRoZSBtb2R1bGUgd2lsbCBkcm9wIGFsbCBleGlzdGVudCB0cmFuc2xhdGlvbiB0YWJsZXMgYW5kIGxvYWQgbmV3IHZlcnNpb24gb2YgdGhvc2Ugd2hpY2hcbiAgICAgKiBhcmUgY3VycmVudGx5IGluIHVzZS5cbiAgICAgKlxuICAgICAqIFJlZnJlc2ggbWVhbnMgdGhhdCB0aGUgbW9kdWxlIHdpbGwgZHJvcCB0YXJnZXQgdHJhbnNsYXRpb24gdGFibGUgYW5kIHRyeSB0byBsb2FkIGl0IGFnYWluLlxuICAgICAqXG4gICAgICogSW4gY2FzZSB0aGVyZSBhcmUgbm8gbG9hZGVycyByZWdpc3RlcmVkIHRoZSByZWZyZXNoKCkgbWV0aG9kIHdpbGwgdGhyb3cgYW4gRXJyb3IuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgbW9kdWxlIGlzIGFibGUgdG8gcmVmcmVzaCB0cmFuc2xhdGlvbiB0YWJsZXMgcmVmcmVzaCgpIG1ldGhvZCB3aWxsIGJyb2FkY2FzdFxuICAgICAqICR0cmFuc2xhdGVSZWZyZXNoU3RhcnQgYW5kICR0cmFuc2xhdGVSZWZyZXNoRW5kIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gdGhpcyB3aWxsIGRyb3AgYWxsIGN1cnJlbnRseSBleGlzdGVudCB0cmFuc2xhdGlvbiB0YWJsZXMgYW5kIHJlbG9hZCB0aG9zZSB3aGljaCBhcmVcbiAgICAgKiAvLyBjdXJyZW50bHkgaW4gdXNlXG4gICAgICogJHRyYW5zbGF0ZS5yZWZyZXNoKCk7XG4gICAgICogLy8gdGhpcyB3aWxsIHJlZnJlc2ggYSB0cmFuc2xhdGlvbiB0YWJsZSBmb3IgdGhlIGVuX1VTIGxhbmd1YWdlXG4gICAgICogJHRyYW5zbGF0ZS5yZWZyZXNoKCdlbl9VUycpO1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkgb2YgdGhlIHRhYmxlLCB3aGljaCBoYXMgdG8gYmUgcmVmcmVzaGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtwcm9taXNlfSBQcm9taXNlLCB3aGljaCB3aWxsIGJlIHJlc29sdmVkIGluIGNhc2UgYSB0cmFuc2xhdGlvbiB0YWJsZXMgcmVmcmVzaGluZ1xuICAgICAqIHByb2Nlc3MgaXMgZmluaXNoZWQgc3VjY2Vzc2Z1bGx5LCBhbmQgcmVqZWN0IGlmIG5vdC5cbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLnJlZnJlc2ggPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgaWYgKCEkbG9hZGVyRmFjdG9yeSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkblxcJ3QgcmVmcmVzaCB0cmFuc2xhdGlvbiB0YWJsZSwgbm8gbG9hZGVyIHJlZ2lzdGVyZWQhJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlc29sdmUoKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZVJlZnJlc2hFbmQnLCB7bGFuZ3VhZ2UgOiBsYW5nS2V5fSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlamVjdCgpIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVSZWZyZXNoRW5kJywge2xhbmd1YWdlIDogbGFuZ0tleX0pO1xuICAgICAgfVxuXG4gICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlUmVmcmVzaFN0YXJ0Jywge2xhbmd1YWdlIDogbGFuZ0tleX0pO1xuXG4gICAgICBpZiAoIWxhbmdLZXkpIHtcbiAgICAgICAgLy8gaWYgdGhlcmUncyBubyBsYW5ndWFnZSBrZXkgc3BlY2lmaWVkIHdlIHJlZnJlc2ggQUxMIFRIRSBUSElOR1MhXG4gICAgICAgIHZhciB0YWJsZXMgPSBbXSwgbG9hZGluZ0tleXMgPSB7fTtcblxuICAgICAgICAvLyByZWxvYWQgcmVnaXN0ZXJlZCBmYWxsYmFjayBsYW5ndWFnZXNcbiAgICAgICAgaWYgKCRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdGFibGVzLnB1c2gobG9hZEFzeW5jKCRmYWxsYmFja0xhbmd1YWdlW2ldKSk7XG4gICAgICAgICAgICBsb2FkaW5nS2V5c1skZmFsbGJhY2tMYW5ndWFnZVtpXV0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbG9hZCBjdXJyZW50bHkgdXNlZCBsYW5ndWFnZVxuICAgICAgICBpZiAoJHVzZXMgJiYgIWxvYWRpbmdLZXlzWyR1c2VzXSkge1xuICAgICAgICAgIHRhYmxlcy5wdXNoKGxvYWRBc3luYygkdXNlcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFsbFRyYW5zbGF0aW9uc0xvYWRlZCA9IGZ1bmN0aW9uICh0YWJsZURhdGEpIHtcbiAgICAgICAgICAkdHJhbnNsYXRpb25UYWJsZSA9IHt9O1xuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0YWJsZURhdGEsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbnMoZGF0YS5rZXksIGRhdGEudGFibGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICgkdXNlcykge1xuICAgICAgICAgICAgdXNlTGFuZ3VhZ2UoJHVzZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGFsbFRyYW5zbGF0aW9uc0xvYWRlZC5kaXNwbGF5TmFtZSA9ICdyZWZyZXNoUG9zdFByb2Nlc3Nvcic7XG5cbiAgICAgICAgJHEuYWxsKHRhYmxlcykudGhlbihhbGxUcmFuc2xhdGlvbnNMb2FkZWQsIHJlamVjdCk7XG5cbiAgICAgIH0gZWxzZSBpZiAoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0pIHtcblxuICAgICAgICB2YXIgb25lVHJhbnNsYXRpb25zTG9hZGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbnMoZGF0YS5rZXksIGRhdGEudGFibGUpO1xuICAgICAgICAgIGlmIChsYW5nS2V5ID09PSAkdXNlcykge1xuICAgICAgICAgICAgdXNlTGFuZ3VhZ2UoJHVzZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH07XG4gICAgICAgIG9uZVRyYW5zbGF0aW9uc0xvYWRlZC5kaXNwbGF5TmFtZSA9ICdyZWZyZXNoUG9zdFByb2Nlc3Nvcic7XG5cbiAgICAgICAgbG9hZEFzeW5jKGxhbmdLZXkpLnRoZW4ob25lVHJhbnNsYXRpb25zTG9hZGVkLCByZWplY3QpO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWplY3QoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjaW5zdGFudFxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYSB0cmFuc2xhdGlvbiBpbnN0YW50bHkgZnJvbSB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgbG9hZGVkIHRyYW5zbGF0aW9uLiBBbGwgcnVsZXNcbiAgICAgKiByZWdhcmRpbmcgdGhlIGN1cnJlbnQgbGFuZ3VhZ2UsIHRoZSBwcmVmZXJyZWQgbGFuZ3VhZ2Ugb2YgZXZlbiBmYWxsYmFjayBsYW5ndWFnZXMgd2lsbCBiZVxuICAgICAqIHVzZWQgZXhjZXB0IGFueSBwcm9taXNlIGhhbmRsaW5nLiBJZiBhIGxhbmd1YWdlIHdhcyBub3QgZm91bmQsIGFuIGFzeW5jaHJvbm91cyBsb2FkaW5nXG4gICAgICogd2lsbCBiZSBpbnZva2VkIGluIHRoZSBiYWNrZ3JvdW5kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd8YXJyYXl9IHRyYW5zbGF0aW9uSWQgQSB0b2tlbiB3aGljaCByZXByZXNlbnRzIGEgdHJhbnNsYXRpb24gaWRcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGNhbiBiZSBvcHRpb25hbGx5IGFuIGFycmF5IG9mIHRyYW5zbGF0aW9uIGlkcyB3aGljaFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMgdGhhdCB0aGUgZnVuY3Rpb24ncyBwcm9taXNlIHJldHVybnMgYW4gb2JqZWN0IHdoZXJlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFjaCBrZXkgaXMgdGhlIHRyYW5zbGF0aW9uIGlkIGFuZCB0aGUgdmFsdWUgdGhlIHRyYW5zbGF0aW9uLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBpbnRlcnBvbGF0ZVBhcmFtcyBQYXJhbXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW50ZXJwb2xhdGlvbklkIFRoZSBpZCBvZiB0aGUgaW50ZXJwb2xhdGlvbiB0byB1c2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZm9yY2VMYW5ndWFnZSBBIGxhbmd1YWdlIHRvIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBsYW5ndWFnZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzYW5pdGl6ZVN0cmF0ZWd5IGZvcmNlIHNhbml0aXplIHN0cmF0ZWd5IGZvciB0aGlzIGNhbGwgaW5zdGVhZCBvZiB1c2luZyB0aGUgY29uZmlndXJlZCBvbmVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3xvYmplY3R9IHRyYW5zbGF0aW9uXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5pbnN0YW50ID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIGZvcmNlTGFuZ3VhZ2UsIHNhbml0aXplU3RyYXRlZ3kpIHtcblxuICAgICAgLy8gd2UgZG9uJ3Qgd2FudCB0byByZS1uZWdvdGlhdGUgJHVzZXNcbiAgICAgIHZhciB1c2VzID0gKGZvcmNlTGFuZ3VhZ2UgJiYgZm9yY2VMYW5ndWFnZSAhPT0gJHVzZXMpID8gLy8gd2UgZG9uJ3Qgd2FudCB0byByZS1uZWdvdGlhdGUgJHVzZXNcbiAgICAgICAgKG5lZ290aWF0ZUxvY2FsZShmb3JjZUxhbmd1YWdlKSB8fCBmb3JjZUxhbmd1YWdlKSA6ICR1c2VzO1xuXG4gICAgICAvLyBEZXRlY3QgdW5kZWZpbmVkIGFuZCBudWxsIHZhbHVlcyB0byBzaG9ydGVuIHRoZSBleGVjdXRpb24gYW5kIHByZXZlbnQgZXhjZXB0aW9uc1xuICAgICAgaWYgKHRyYW5zbGF0aW9uSWQgPT09IG51bGwgfHwgYW5ndWxhci5pc1VuZGVmaW5lZCh0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZm9yY2VMYW5ndWFnZSBpcyBwcmVzZW50XG4gICAgICBpZiAoZm9yY2VMYW5ndWFnZSkge1xuICAgICAgICBsb2FkVHJhbnNsYXRpb25zSWZNaXNzaW5nKGZvcmNlTGFuZ3VhZ2UpO1xuICAgICAgfVxuXG4gICAgICAvLyBEdWNrIGRldGVjdGlvbjogSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGFuIGFycmF5LCBhIGJ1bmNoIG9mIHRyYW5zbGF0aW9ucyB3YXMgcmVxdWVzdGVkLlxuICAgICAgLy8gVGhlIHJlc3VsdCBpcyBhbiBvYmplY3QuXG4gICAgICBpZiAoYW5ndWxhci5pc0FycmF5KHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgIHZhciByZXN1bHRzID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBjID0gdHJhbnNsYXRpb25JZC5sZW5ndGg7IGkgPCBjOyBpKyspIHtcbiAgICAgICAgICByZXN1bHRzW3RyYW5zbGF0aW9uSWRbaV1dID0gJHRyYW5zbGF0ZS5pbnN0YW50KHRyYW5zbGF0aW9uSWRbaV0sIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIGZvcmNlTGFuZ3VhZ2UsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgfVxuXG4gICAgICAvLyBXZSBkaXNjYXJkZWQgdW5hY2NlcHRhYmxlIHZhbHVlcy4gU28gd2UganVzdCBuZWVkIHRvIHZlcmlmeSBpZiB0cmFuc2xhdGlvbklkIGlzIGVtcHR5IFN0cmluZ1xuICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodHJhbnNsYXRpb25JZCkgJiYgdHJhbnNsYXRpb25JZC5sZW5ndGggPCAxKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgfVxuXG4gICAgICAvLyB0cmltIG9mZiBhbnkgd2hpdGVzcGFjZVxuICAgICAgaWYgKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgdHJhbnNsYXRpb25JZCA9IHRyaW0uYXBwbHkodHJhbnNsYXRpb25JZCk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZXN1bHQsIHBvc3NpYmxlTGFuZ0tleXMgPSBbXTtcbiAgICAgIGlmICgkcHJlZmVycmVkTGFuZ3VhZ2UpIHtcbiAgICAgICAgcG9zc2libGVMYW5nS2V5cy5wdXNoKCRwcmVmZXJyZWRMYW5ndWFnZSk7XG4gICAgICB9XG4gICAgICBpZiAodXNlcykge1xuICAgICAgICBwb3NzaWJsZUxhbmdLZXlzLnB1c2godXNlcyk7XG4gICAgICB9XG4gICAgICBpZiAoJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgIHBvc3NpYmxlTGFuZ0tleXMgPSBwb3NzaWJsZUxhbmdLZXlzLmNvbmNhdCgkZmFsbGJhY2tMYW5ndWFnZSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBqID0gMCwgZCA9IHBvc3NpYmxlTGFuZ0tleXMubGVuZ3RoOyBqIDwgZDsgaisrKSB7XG4gICAgICAgIHZhciBwb3NzaWJsZUxhbmdLZXkgPSBwb3NzaWJsZUxhbmdLZXlzW2pdO1xuICAgICAgICBpZiAoJHRyYW5zbGF0aW9uVGFibGVbcG9zc2libGVMYW5nS2V5XSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgJHRyYW5zbGF0aW9uVGFibGVbcG9zc2libGVMYW5nS2V5XVt0cmFuc2xhdGlvbklkXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkLCB1c2VzLCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFyZXN1bHQgJiYgcmVzdWx0ICE9PSAnJykge1xuICAgICAgICBpZiAoJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCB8fCAkbm90Rm91bmRJbmRpY2F0b3JSaWdodCkge1xuICAgICAgICAgIHJlc3VsdCA9IGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzKHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFJldHVybiB0cmFuc2xhdGlvbiBvZiBkZWZhdWx0IGludGVycG9sYXRvciBpZiBub3QgZm91bmQgYW55dGhpbmcuXG4gICAgICAgICAgcmVzdWx0ID0gZGVmYXVsdEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgJ2ZpbHRlcicsIHNhbml0aXplU3RyYXRlZ3kpO1xuXG4gICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGUgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkIGRvZXNuJ3QgZXhpc3RzLlxuICAgICAgICAgIC8vIE5vdywgaWYgdGhlcmUgaXMgYSByZWdpc3RlcmVkIGhhbmRsZXIgZm9yIG1pc3NpbmcgdHJhbnNsYXRpb25zIGFuZCBub1xuICAgICAgICAgIC8vIGFzeW5jTG9hZGVyIGlzIHBlbmRpbmcsIHdlIGV4ZWN1dGUgdGhlIGhhbmRsZXJcbiAgICAgICAgICB2YXIgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uO1xuICAgICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIpIHtcbiAgICAgICAgICAgIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbiA9IHRyYW5zbGF0ZUJ5SGFuZGxlcih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlciAmJiBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3ZlcnNpb25JbmZvXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCB2ZXJzaW9uIGluZm9ybWF0aW9uIGZvciB0aGUgYW5ndWxhci10cmFuc2xhdGUgbGlicmFyeVxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBhbmd1bGFyLXRyYW5zbGF0ZSB2ZXJzaW9uXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS52ZXJzaW9uSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB2ZXJzaW9uO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjbG9hZGVyQ2FjaGVcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBkZWZpbmVkIGxvYWRlckNhY2hlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbnxzdHJpbmd8b2JqZWN0fSBjdXJyZW50IHZhbHVlIG9mIGxvYWRlckNhY2hlXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5sb2FkZXJDYWNoZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBsb2FkZXJDYWNoZTtcbiAgICB9O1xuXG4gICAgLy8gaW50ZXJuYWwgcHVycG9zZSBvbmx5XG4gICAgJHRyYW5zbGF0ZS5kaXJlY3RpdmVQcmlvcml0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBkaXJlY3RpdmVQcmlvcml0eTtcbiAgICB9O1xuXG4gICAgLy8gaW50ZXJuYWwgcHVycG9zZSBvbmx5XG4gICAgJHRyYW5zbGF0ZS5zdGF0ZWZ1bEZpbHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzdGF0ZWZ1bEZpbHRlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2lzUmVhZHlcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHNlcnZpY2UgaXMgXCJyZWFkeVwiIHRvIHRyYW5zbGF0ZSAoaS5lLiBsb2FkaW5nIDFzdCBsYW5ndWFnZSkuXG4gICAgICpcbiAgICAgKiBTZWUgYWxzbyB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI21ldGhvZHNfb25SZWFkeSBvblJlYWR5KCl9LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gY3VycmVudCB2YWx1ZSBvZiByZWFkeVxuICAgICAqL1xuICAgICR0cmFuc2xhdGUuaXNSZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkaXNSZWFkeTtcbiAgICB9O1xuXG4gICAgdmFyICRvblJlYWR5RGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICRvblJlYWR5RGVmZXJyZWQucHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICRpc1JlYWR5ID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNvblJlYWR5XG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBzZXJ2aWNlIGlzIFwicmVhZHlcIiB0byB0cmFuc2xhdGUgKGkuZS4gbG9hZGluZyAxc3QgbGFuZ3VhZ2UpLlxuICAgICAqXG4gICAgICogU2VlIGFsc28ge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNtZXRob2RzX2lzUmVhZHkgaXNSZWFkeSgpfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb249fSBmbiBGdW5jdGlvbiB0byBpbnZva2Ugd2hlbiBzZXJ2aWNlIGlzIHJlYWR5XG4gICAgICogQHJldHVybiB7b2JqZWN0fSBQcm9taXNlIHJlc29sdmVkIHdoZW4gc2VydmljZSBpcyByZWFkeVxuICAgICAqL1xuICAgICR0cmFuc2xhdGUub25SZWFkeSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oZm4pKSB7XG4gICAgICAgIGRlZmVycmVkLnByb21pc2UudGhlbihmbik7XG4gICAgICB9XG4gICAgICBpZiAoJGlzUmVhZHkpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJG9uUmVhZHlEZWZlcnJlZC5wcm9taXNlLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2dldEF2YWlsYWJsZUxhbmd1YWdlS2V5c1xuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2ltcGx5IHJldHVybnMgdGhlIHJlZ2lzdGVyZWQgbGFuZ3VhZ2Uga2V5cyBiZWluZyBkZWZpbmVkIGJlZm9yZSBpbiB0aGUgY29uZmlnIHBoYXNlXG4gICAgICogV2l0aCB0aGlzLCBhbiBhcHBsaWNhdGlvbiBjYW4gdXNlIHRoZSBhcnJheSB0byBwcm92aWRlIGEgbGFuZ3VhZ2Ugc2VsZWN0aW9uIGRyb3Bkb3duIG9yIHNpbWlsYXJcbiAgICAgKiB3aXRob3V0IGFueSBhZGRpdGlvbmFsIGVmZm9ydFxuICAgICAqXG4gICAgICogQHJldHVybnMge29iamVjdH0gcmV0dXJucyB0aGUgbGlzdCBvZiBwb3NzaWJseSByZWdpc3RlcmVkIGxhbmd1YWdlIGtleXMgYW5kIG1hcHBpbmcgb3IgbnVsbCBpZiBub3QgZGVmaW5lZFxuICAgICAqL1xuICAgICR0cmFuc2xhdGUuZ2V0QXZhaWxhYmxlTGFuZ3VhZ2VLZXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCRhdmFpbGFibGVMYW5ndWFnZUtleXMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gJGF2YWlsYWJsZUxhbmd1YWdlS2V5cztcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjZ2V0VHJhbnNsYXRpb25UYWJsZVxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgdHJhbnNsYXRpb24gdGFibGUgYnkgdGhlIGdpdmVuIGxhbmd1YWdlIGtleS5cbiAgICAgKlxuICAgICAqIFVubGVzcyBhIGxhbmd1YWdlIGlzIHByb3ZpZGVkIGl0IHJldHVybnMgYSB0cmFuc2xhdGlvbiB0YWJsZSBvZiB0aGUgY3VycmVudCBvbmUuXG4gICAgICogTm90ZTogSWYgdHJhbnNsYXRpb24gZGljdGlvbmFyeSBpcyBjdXJyZW50bHkgZG93bmxvYWRpbmcgb3IgaW4gcHJvZ3Jlc3NcbiAgICAgKiBpdCB3aWxsIHJldHVybiBudWxsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgQSB0b2tlbiB3aGljaCByZXByZXNlbnRzIGEgdHJhbnNsYXRpb24gaWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gYSBjb3B5IG9mIGFuZ3VsYXItdHJhbnNsYXRlICR0cmFuc2xhdGlvblRhYmxlXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5nZXRUcmFuc2xhdGlvblRhYmxlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgIGxhbmdLZXkgPSBsYW5nS2V5IHx8ICR0cmFuc2xhdGUudXNlKCk7XG4gICAgICBpZiAobGFuZ0tleSAmJiAkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSkge1xuICAgICAgICByZXR1cm4gYW5ndWxhci5jb3B5KCR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICAvLyBXaGVuZXZlciAkdHJhbnNsYXRlUmVhZHkgaXMgYmVpbmcgZmlyZWQsIHRoaXMgd2lsbCBlbnN1cmUgdGhlIHN0YXRlIG9mICRpc1JlYWR5XG4gICAgdmFyIGdsb2JhbE9uUmVhZHlMaXN0ZW5lciA9ICRyb290U2NvcGUuJG9uKCckdHJhbnNsYXRlUmVhZHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkb25SZWFkeURlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgIGdsb2JhbE9uUmVhZHlMaXN0ZW5lcigpOyAvLyBvbmUgdGltZSBvbmx5XG4gICAgICBnbG9iYWxPblJlYWR5TGlzdGVuZXIgPSBudWxsO1xuICAgIH0pO1xuICAgIHZhciBnbG9iYWxPbkNoYW5nZUxpc3RlbmVyID0gJHJvb3RTY29wZS4kb24oJyR0cmFuc2xhdGVDaGFuZ2VFbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkb25SZWFkeURlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgIGdsb2JhbE9uQ2hhbmdlTGlzdGVuZXIoKTsgLy8gb25lIHRpbWUgb25seVxuICAgICAgZ2xvYmFsT25DaGFuZ2VMaXN0ZW5lciA9IG51bGw7XG4gICAgfSk7XG5cbiAgICBpZiAoJGxvYWRlckZhY3RvcnkpIHtcblxuICAgICAgLy8gSWYgYXQgbGVhc3Qgb25lIGFzeW5jIGxvYWRlciBpcyBkZWZpbmVkIGFuZCB0aGVyZSBhcmUgbm9cbiAgICAgIC8vIChkZWZhdWx0KSB0cmFuc2xhdGlvbnMgYXZhaWxhYmxlIHdlIHNob3VsZCB0cnkgdG8gbG9hZCB0aGVtLlxuICAgICAgaWYgKGFuZ3VsYXIuZXF1YWxzKCR0cmFuc2xhdGlvblRhYmxlLCB7fSkpIHtcbiAgICAgICAgaWYgKCR0cmFuc2xhdGUudXNlKCkpIHtcbiAgICAgICAgICAkdHJhbnNsYXRlLnVzZSgkdHJhbnNsYXRlLnVzZSgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBbHNvLCBpZiB0aGVyZSBhcmUgYW55IGZhbGxiYWNrIGxhbmd1YWdlIHJlZ2lzdGVyZWQsIHdlIHN0YXJ0XG4gICAgICAvLyBsb2FkaW5nIHRoZW0gYXN5bmNocm9ub3VzbHkgYXMgc29vbiBhcyB3ZSBjYW4uXG4gICAgICBpZiAoJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgIHZhciBwcm9jZXNzQXN5bmNSZXN1bHQgPSBmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbnModHJhbnNsYXRpb24ua2V5LCB0cmFuc2xhdGlvbi50YWJsZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIHtsYW5ndWFnZSA6IHRyYW5zbGF0aW9uLmtleX0pO1xuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbjtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgdmFyIGZhbGxiYWNrTGFuZ3VhZ2VJZCA9ICRmYWxsYmFja0xhbmd1YWdlW2ldO1xuICAgICAgICAgIGlmICgkZm9yY2VBc3luY1JlbG9hZEVuYWJsZWQgfHwgISR0cmFuc2xhdGlvblRhYmxlW2ZhbGxiYWNrTGFuZ3VhZ2VJZF0pIHtcbiAgICAgICAgICAgIGxhbmdQcm9taXNlc1tmYWxsYmFja0xhbmd1YWdlSWRdID0gbG9hZEFzeW5jKGZhbGxiYWNrTGFuZ3VhZ2VJZCkudGhlbihwcm9jZXNzQXN5bmNSZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlUmVhZHknLCB7bGFuZ3VhZ2UgOiAkdHJhbnNsYXRlLnVzZSgpfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICR0cmFuc2xhdGU7XG4gIH1dO1xufVxuXG4kdHJhbnNsYXRlLmRpc3BsYXlOYW1lID0gJ2Rpc3BsYXlOYW1lJztcblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvblxuICogQHJlcXVpcmVzICRpbnRlcnBvbGF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlcyBhbmd1bGFyJ3MgYCRpbnRlcnBvbGF0ZWAgc2VydmljZXMgdG8gaW50ZXJwb2xhdGUgc3RyaW5ncyBhZ2FpbnN0IHNvbWUgdmFsdWVzLlxuICpcbiAqIEJlIGF3YXJlIHRvIGNvbmZpZ3VyZSBhIHByb3BlciBzYW5pdGl6YXRpb24gc3RyYXRlZ3kuXG4gKlxuICogU2VlIGFsc286XG4gKiAqIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb259XG4gKlxuICogQHJldHVybiB7b2JqZWN0fSAkdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24gSW50ZXJwb2xhdG9yIHNlcnZpY2VcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKS5mYWN0b3J5KCckdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24nLCAkdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24pO1xuXG5mdW5jdGlvbiAkdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24gKCRpbnRlcnBvbGF0ZSwgJHRyYW5zbGF0ZVNhbml0aXphdGlvbikge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgJHRyYW5zbGF0ZUludGVycG9sYXRvciA9IHt9LFxuICAgICAgJGxvY2FsZSxcbiAgICAgICRpZGVudGlmaWVyID0gJ2RlZmF1bHQnO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24jc2V0TG9jYWxlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBjdXJyZW50IGxvY2FsZSAodGhpcyBpcyBjdXJyZW50bHkgbm90IHVzZSBpbiB0aGlzIGludGVycG9sYXRpb24pLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxlIExhbmd1YWdlIGtleSBvciBsb2NhbGUuXG4gICAqL1xuICAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yLnNldExvY2FsZSA9IGZ1bmN0aW9uIChsb2NhbGUpIHtcbiAgICAkbG9jYWxlID0gbG9jYWxlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24jZ2V0SW50ZXJwb2xhdGlvbklkZW50aWZpZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXR1cm5zIGFuIGlkZW50aWZpZXIgZm9yIHRoaXMgaW50ZXJwb2xhdGlvbiBzZXJ2aWNlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSAkaWRlbnRpZmllclxuICAgKi9cbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci5nZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJGlkZW50aWZpZXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIHdpbGwgYmUgcmVtb3ZlZCBpbiAzLjBcbiAgICogQHNlZSB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9ufVxuICAgKi9cbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAkdHJhbnNsYXRlU2FuaXRpemF0aW9uLnVzZVN0cmF0ZWd5KHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uI2ludGVycG9sYXRlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSW50ZXJwb2xhdGVzIGdpdmVuIHZhbHVlIGFnYWlucyBnaXZlbiBpbnRlcnBvbGF0ZSBwYXJhbXMgdXNpbmcgYW5ndWxhcnNcbiAgICogYCRpbnRlcnBvbGF0ZWAgc2VydmljZS5cbiAgICpcbiAgICogU2luY2UgQW5ndWxhckpTIDEuNSwgYHZhbHVlYCBtdXN0IG5vdCBiZSBhIHN0cmluZyBidXQgY2FuIGJlIGFueXRoaW5nIGlucHV0LlxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBpbnRlcnBvbGF0ZWQgc3RyaW5nLlxuICAgKi9cbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgaW50ZXJwb2xhdGlvblBhcmFtcywgY29udGV4dCwgc2FuaXRpemVTdHJhdGVneSkge1xuICAgIGludGVycG9sYXRpb25QYXJhbXMgPSBpbnRlcnBvbGF0aW9uUGFyYW1zIHx8IHt9O1xuICAgIGludGVycG9sYXRpb25QYXJhbXMgPSAkdHJhbnNsYXRlU2FuaXRpemF0aW9uLnNhbml0aXplKGludGVycG9sYXRpb25QYXJhbXMsICdwYXJhbXMnLCBzYW5pdGl6ZVN0cmF0ZWd5LCBjb250ZXh0KTtcblxuICAgIHZhciBpbnRlcnBvbGF0ZWRUZXh0O1xuICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgLy8gbnVtYmVycyBhcmUgc2FmZVxuICAgICAgaW50ZXJwb2xhdGVkVGV4dCA9ICcnICsgdmFsdWU7XG4gICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgLy8gc3RyaW5ncyBtdXN0IGJlIGludGVycG9sYXRlZCAodGhhdCdzIHRoZSBqb2IgaGVyZSlcbiAgICAgIGludGVycG9sYXRlZFRleHQgPSAkaW50ZXJwb2xhdGUodmFsdWUpKGludGVycG9sYXRpb25QYXJhbXMpO1xuICAgICAgaW50ZXJwb2xhdGVkVGV4dCA9ICR0cmFuc2xhdGVTYW5pdGl6YXRpb24uc2FuaXRpemUoaW50ZXJwb2xhdGVkVGV4dCwgJ3RleHQnLCBzYW5pdGl6ZVN0cmF0ZWd5LCBjb250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbmVpdGhlciBhIG51bWJlciBvciBhIHN0cmluZywgY2FudCBpbnRlcnBvbGF0ZSA9PiBlbXB0eSBzdHJpbmdcbiAgICAgIGludGVycG9sYXRlZFRleHQgPSAnJztcbiAgICB9XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGVkVGV4dDtcbiAgfTtcblxuICByZXR1cm4gJHRyYW5zbGF0ZUludGVycG9sYXRvcjtcbn1cblxuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uLmRpc3BsYXlOYW1lID0gJyR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbic7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJykuY29uc3RhbnQoJyRTVE9SQUdFX0tFWScsICdOR19UUkFOU0xBVEVfTEFOR19LRVknKTtcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmRpcmVjdGl2ZTp0cmFuc2xhdGVcbiAqIEByZXF1aXJlcyAkaW50ZXJwb2xhdGUsIFxuICogQHJlcXVpcmVzICRjb21waWxlLCBcbiAqIEByZXF1aXJlcyAkcGFyc2UsIFxuICogQHJlcXVpcmVzICRyb290U2NvcGVcbiAqIEByZXN0cmljdCBBRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVHJhbnNsYXRlcyBnaXZlbiB0cmFuc2xhdGlvbiBpZCBlaXRoZXIgdGhyb3VnaCBhdHRyaWJ1dGUgb3IgRE9NIGNvbnRlbnQuXG4gKiBJbnRlcm5hbGx5IGl0IHVzZXMgJHRyYW5zbGF0ZSBzZXJ2aWNlIHRvIHRyYW5zbGF0ZSB0aGUgdHJhbnNsYXRpb24gaWQuIEl0IHBvc3NpYmxlIHRvXG4gKiBwYXNzIGFuIG9wdGlvbmFsIGB0cmFuc2xhdGUtdmFsdWVzYCBvYmplY3QgbGl0ZXJhbCBhcyBzdHJpbmcgaW50byB0cmFuc2xhdGlvbiBpZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZSBUcmFuc2xhdGlvbiBpZCB3aGljaCBjb3VsZCBiZSBlaXRoZXIgc3RyaW5nIG9yIGludGVycG9sYXRlZCBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS12YWx1ZXMgVmFsdWVzIHRvIHBhc3MgaW50byB0cmFuc2xhdGlvbiBpZC4gQ2FuIGJlIHBhc3NlZCBhcyBvYmplY3QgbGl0ZXJhbCBzdHJpbmcgb3IgaW50ZXJwb2xhdGVkIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlLWF0dHItQVRUUiB0cmFuc2xhdGUgVHJhbnNsYXRpb24gaWQgYW5kIHB1dCBpdCBpbnRvIEFUVFIgYXR0cmlidXRlLlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUtZGVmYXVsdCB3aWxsIGJlIHVzZWQgdW5sZXNzIHRyYW5zbGF0aW9uIHdhcyBzdWNjZXNzZnVsXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB0cmFuc2xhdGUtY29tcGlsZSAoZGVmYXVsdCB0cnVlIGlmIHByZXNlbnQpIGRlZmluZXMgbG9jYWxseSBhY3RpdmF0aW9uIG9mIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNtZXRob2RzX3VzZVBvc3RDb21waWxpbmd9XG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB0cmFuc2xhdGUta2VlcC1jb250ZW50IChkZWZhdWx0IHRydWUgaWYgcHJlc2VudCkgZGVmaW5lcyB0aGF0IGluIGNhc2UgYSBLRVkgY291bGQgbm90IGJlIHRyYW5zbGF0ZWQsIHRoYXQgdGhlIGV4aXN0aW5nIGNvbnRlbnQgaXMgbGVmdCBpbiB0aGUgaW5uZXJIVE1MfVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ1ZpZXdcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiVHJhbnNsYXRlQ3RybFwiPlxuXG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwiVFJBTlNMQVRJT05fSURcIj48L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU+VFJBTlNMQVRJT05fSUQ8L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGUgdHJhbnNsYXRlLWF0dHItdGl0bGU9XCJUUkFOU0xBVElPTl9JRFwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT1cInt7dHJhbnNsYXRpb25JZH19XCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPnt7dHJhbnNsYXRpb25JZH19PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwiV0lUSF9WQUxVRVNcIiB0cmFuc2xhdGUtdmFsdWVzPVwie3ZhbHVlOiA1fVwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZSB0cmFuc2xhdGUtdmFsdWVzPVwie3ZhbHVlOiA1fVwiPldJVEhfVkFMVUVTPC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwiV0lUSF9WQUxVRVNcIiB0cmFuc2xhdGUtdmFsdWVzPVwie3t2YWx1ZXN9fVwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZSB0cmFuc2xhdGUtdmFsdWVzPVwie3t2YWx1ZXN9fVwiPldJVEhfVkFMVUVTPC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlIHRyYW5zbGF0ZS1hdHRyLXRpdGxlPVwiV0lUSF9WQUxVRVNcIiB0cmFuc2xhdGUtdmFsdWVzPVwie3t2YWx1ZXN9fVwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT1cIldJVEhfQ0FNRUxfQ0FTRV9LRVlcIiB0cmFuc2xhdGUtdmFsdWUtY2FtZWwtY2FzZS1rZXk9XCJIaVwiPjwvcHJlPlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycsIFsncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSddKVxuXG4gICAgICAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcblxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbicse1xuICAgICAgICAgICdUUkFOU0xBVElPTl9JRCc6ICdIZWxsbyB0aGVyZSEnLFxuICAgICAgICAgICdXSVRIX1ZBTFVFUyc6ICdUaGUgZm9sbG93aW5nIHZhbHVlIGlzIGR5bmFtaWM6IHt7dmFsdWV9fScsXG4gICAgICAgICAgJ1dJVEhfQ0FNRUxfQ0FTRV9LRVknOiAnVGhlIGludGVycG9sYXRpb24ga2V5IGlzIGNhbWVsIGNhc2VkOiB7e2NhbWVsQ2FzZUtleX19J1xuICAgICAgICB9KS5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcblxuICAgICAgfSk7XG5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1ZpZXcnKS5jb250cm9sbGVyKCdUcmFuc2xhdGVDdHJsJywgZnVuY3Rpb24gKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUudHJhbnNsYXRpb25JZCA9ICdUUkFOU0xBVElPTl9JRCc7XG5cbiAgICAgICAgJHNjb3BlLnZhbHVlcyA9IHtcbiAgICAgICAgICB2YWx1ZTogNzhcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NlbmFyaW8uanNcIj5cbiAgICAgIGl0KCdzaG91bGQgdHJhbnNsYXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpbmplY3QoZnVuY3Rpb24gKCRyb290U2NvcGUsICRjb21waWxlKSB7XG4gICAgICAgICAgJHJvb3RTY29wZS50cmFuc2xhdGlvbklkID0gJ1RSQU5TTEFUSU9OX0lEJztcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPVwiVFJBTlNMQVRJT05fSURcIj48L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPVwie3t0cmFuc2xhdGlvbklkfX1cIj48L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPlRSQU5TTEFUSU9OX0lEPC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LnRleHQoKSkudG9CZSgnSGVsbG8gdGhlcmUhJyk7XG5cbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxwIHRyYW5zbGF0ZT57e3RyYW5zbGF0aW9uSWR9fTwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC50ZXh0KCkpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGUgdHJhbnNsYXRlLWF0dHItdGl0bGU9XCJUUkFOU0xBVElPTl9JRFwiPjwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC5hdHRyKCd0aXRsZScpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPVwiV0lUSF9DQU1FTF9DQVNFX0tFWVwiIHRyYW5zbGF0ZS12YWx1ZS1jYW1lbC1jYXNlLWtleT1cIkhlbGxvXCI+PC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LnRleHQoKSkudG9CZSgnVGhlIGludGVycG9sYXRpb24ga2V5IGlzIGNhbWVsIGNhc2VkOiBIZWxsbycpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgndHJhbnNsYXRlJywgdHJhbnNsYXRlRGlyZWN0aXZlKTtcbmZ1bmN0aW9uIHRyYW5zbGF0ZURpcmVjdGl2ZSgkdHJhbnNsYXRlLCAkaW50ZXJwb2xhdGUsICRjb21waWxlLCAkcGFyc2UsICRyb290U2NvcGUpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIEBuYW1lIHRyaW1cbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIHRyaW0gcG9seWZpbGxcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHN0cmluZyBzdHJpcHBlZCBvZiB3aGl0ZXNwYWNlIGZyb20gYm90aCBlbmRzXG4gICAqL1xuICB2YXIgdHJpbSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCkucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBRScsXG4gICAgc2NvcGU6IHRydWUsXG4gICAgcHJpb3JpdHk6ICR0cmFuc2xhdGUuZGlyZWN0aXZlUHJpb3JpdHkoKSxcbiAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW1lbnQsIHRBdHRyKSB7XG5cbiAgICAgIHZhciB0cmFuc2xhdGVWYWx1ZXNFeGlzdCA9ICh0QXR0ci50cmFuc2xhdGVWYWx1ZXMpID9cbiAgICAgICAgdEF0dHIudHJhbnNsYXRlVmFsdWVzIDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgdHJhbnNsYXRlSW50ZXJwb2xhdGlvbiA9ICh0QXR0ci50cmFuc2xhdGVJbnRlcnBvbGF0aW9uKSA/XG4gICAgICAgIHRBdHRyLnRyYW5zbGF0ZUludGVycG9sYXRpb24gOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciB0cmFuc2xhdGVWYWx1ZUV4aXN0ID0gdEVsZW1lbnRbMF0ub3V0ZXJIVE1MLm1hdGNoKC90cmFuc2xhdGUtdmFsdWUtKy9pKTtcblxuICAgICAgdmFyIGludGVycG9sYXRlUmVnRXhwID0gJ14oLiopKCcgKyAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSArICcuKicgKyAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCkgKyAnKSguKiknLFxuICAgICAgICAgIHdhdGNoZXJSZWdFeHAgPSAnXiguKiknICsgJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCkgKyAnKC4qKScgKyAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCkgKyAnKC4qKSc7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rRm4oc2NvcGUsIGlFbGVtZW50LCBpQXR0cikge1xuXG4gICAgICAgIHNjb3BlLmludGVycG9sYXRlUGFyYW1zID0ge307XG4gICAgICAgIHNjb3BlLnByZVRleHQgPSAnJztcbiAgICAgICAgc2NvcGUucG9zdFRleHQgPSAnJztcbiAgICAgICAgc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlID0gZ2V0VHJhbnNsYXRlTmFtZXNwYWNlKHNjb3BlKTtcbiAgICAgICAgdmFyIHRyYW5zbGF0aW9uSWRzID0ge307XG5cbiAgICAgICAgdmFyIGluaXRJbnRlcnBvbGF0aW9uUGFyYW1zID0gZnVuY3Rpb24gKGludGVycG9sYXRlUGFyYW1zLCBpQXR0ciwgdEF0dHIpIHtcbiAgICAgICAgICAvLyBpbml0aWFsIHNldHVwXG4gICAgICAgICAgaWYgKGlBdHRyLnRyYW5zbGF0ZVZhbHVlcykge1xuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoaW50ZXJwb2xhdGVQYXJhbXMsICRwYXJzZShpQXR0ci50cmFuc2xhdGVWYWx1ZXMpKHNjb3BlLiRwYXJlbnQpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gaW5pdGlhbGx5IGZldGNoIGFsbCBhdHRyaWJ1dGVzIGlmIGV4aXN0aW5nIGFuZCBmaWxsIHRoZSBwYXJhbXNcbiAgICAgICAgICBpZiAodHJhbnNsYXRlVmFsdWVFeGlzdCkge1xuICAgICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiB0QXR0cikge1xuICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGlBdHRyLCBhdHRyKSAmJiBhdHRyLnN1YnN0cigwLCAxNCkgPT09ICd0cmFuc2xhdGVWYWx1ZScgJiYgYXR0ciAhPT0gJ3RyYW5zbGF0ZVZhbHVlcycpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IGFuZ3VsYXIubG93ZXJjYXNlKGF0dHIuc3Vic3RyKDE0LCAxKSkgKyBhdHRyLnN1YnN0cigxNSk7XG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVQYXJhbXNbYXR0cmlidXRlTmFtZV0gPSB0QXR0clthdHRyXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBFbnN1cmVzIGFueSBjaGFuZ2Ugb2YgdGhlIGF0dHJpYnV0ZSBcInRyYW5zbGF0ZVwiIGNvbnRhaW5pbmcgdGhlIGlkIHdpbGxcbiAgICAgICAgLy8gYmUgcmUtc3RvcmVkIHRvIHRoZSBzY29wZSdzIFwidHJhbnNsYXRpb25JZFwiLlxuICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlIGhhcyBubyBjb250ZW50LCB0aGUgZWxlbWVudCdzIHRleHQgdmFsdWUgKHdoaXRlIHNwYWNlcyB0cmltbWVkIG9mZikgd2lsbCBiZSB1c2VkLlxuICAgICAgICB2YXIgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG5cbiAgICAgICAgICAvLyBSZW1vdmUgYW55IG9sZCB3YXRjaGVyXG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uLl91bndhdGNoT2xkKSkge1xuICAgICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbi5fdW53YXRjaE9sZCgpO1xuICAgICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbi5fdW53YXRjaE9sZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYW5ndWxhci5lcXVhbHModHJhbnNsYXRpb25JZCAsICcnKSB8fCAhYW5ndWxhci5pc0RlZmluZWQodHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICAgIHZhciBpRWxlbWVudFRleHQgPSB0cmltLmFwcGx5KGlFbGVtZW50LnRleHQoKSk7XG5cbiAgICAgICAgICAgIC8vIFJlc29sdmUgdHJhbnNsYXRpb24gaWQgYnkgaW5uZXIgaHRtbCBpZiByZXF1aXJlZFxuICAgICAgICAgICAgdmFyIGludGVycG9sYXRlTWF0Y2hlcyA9IGlFbGVtZW50VGV4dC5tYXRjaChpbnRlcnBvbGF0ZVJlZ0V4cCk7XG4gICAgICAgICAgICAvLyBJbnRlcnBvbGF0ZSB0cmFuc2xhdGlvbiBpZCBpZiByZXF1aXJlZFxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShpbnRlcnBvbGF0ZU1hdGNoZXMpKSB7XG4gICAgICAgICAgICAgIHNjb3BlLnByZVRleHQgPSBpbnRlcnBvbGF0ZU1hdGNoZXNbMV07XG4gICAgICAgICAgICAgIHNjb3BlLnBvc3RUZXh0ID0gaW50ZXJwb2xhdGVNYXRjaGVzWzNdO1xuICAgICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSAkaW50ZXJwb2xhdGUoaW50ZXJwb2xhdGVNYXRjaGVzWzJdKShzY29wZS4kcGFyZW50KTtcbiAgICAgICAgICAgICAgdmFyIHdhdGNoZXJNYXRjaGVzID0gaUVsZW1lbnRUZXh0Lm1hdGNoKHdhdGNoZXJSZWdFeHApO1xuICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KHdhdGNoZXJNYXRjaGVzKSAmJiB3YXRjaGVyTWF0Y2hlc1syXSAmJiB3YXRjaGVyTWF0Y2hlc1syXS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uLl91bndhdGNoT2xkID0gc2NvcGUuJHdhdGNoKHdhdGNoZXJNYXRjaGVzWzJdLCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uSWRzLnRyYW5zbGF0ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGRvIG5vdCBhc3NpZ25lIHRoZSB0cmFuc2xhdGlvbiBpZCBpZiBpdCBpcyBlbXB0eS5cbiAgICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gIWlFbGVtZW50VGV4dCA/IHVuZGVmaW5lZCA6IGlFbGVtZW50VGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG9ic2VydmVBdHRyaWJ1dGVUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGVBdHRyKSB7XG4gICAgICAgICAgaUF0dHIuJG9ic2VydmUodHJhbnNsYXRlQXR0ciwgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uSWRzW3RyYW5zbGF0ZUF0dHJdID0gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGluaXRpYWwgc2V0dXAgd2l0aCB2YWx1ZXNcbiAgICAgICAgaW5pdEludGVycG9sYXRpb25QYXJhbXMoc2NvcGUuaW50ZXJwb2xhdGVQYXJhbXMsIGlBdHRyLCB0QXR0cik7XG5cbiAgICAgICAgdmFyIGZpcnN0QXR0cmlidXRlQ2hhbmdlZEV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZScsIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0cmFuc2xhdGlvbklkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgLy8gY2FzZSBvZiBlbGVtZW50IFwiPHRyYW5zbGF0ZT54eXo8L3RyYW5zbGF0ZT5cIlxuICAgICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbignJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNhc2Ugb2YgcmVndWxhciBhdHRyaWJ1dGVcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGlvbklkICE9PSAnJyB8fCAhZmlyc3RBdHRyaWJ1dGVDaGFuZ2VkRXZlbnQpIHtcbiAgICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpcnN0QXR0cmlidXRlQ2hhbmdlZEV2ZW50ID0gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAodmFyIHRyYW5zbGF0ZUF0dHIgaW4gaUF0dHIpIHtcbiAgICAgICAgICBpZiAoaUF0dHIuaGFzT3duUHJvcGVydHkodHJhbnNsYXRlQXR0cikgJiYgdHJhbnNsYXRlQXR0ci5zdWJzdHIoMCwgMTMpID09PSAndHJhbnNsYXRlQXR0cicgJiYgdHJhbnNsYXRlQXR0ci5sZW5ndGggPiAxMykge1xuICAgICAgICAgICAgb2JzZXJ2ZUF0dHJpYnV0ZVRyYW5zbGF0aW9uKHRyYW5zbGF0ZUF0dHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlBdHRyLiRvYnNlcnZlKCd0cmFuc2xhdGVEZWZhdWx0JywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgc2NvcGUuZGVmYXVsdFRleHQgPSB2YWx1ZTtcbiAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRyYW5zbGF0ZVZhbHVlc0V4aXN0KSB7XG4gICAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZVZhbHVlcycsIGZ1bmN0aW9uIChpbnRlcnBvbGF0ZVBhcmFtcykge1xuICAgICAgICAgICAgaWYgKGludGVycG9sYXRlUGFyYW1zKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChzY29wZS5pbnRlcnBvbGF0ZVBhcmFtcywgJHBhcnNlKGludGVycG9sYXRlUGFyYW1zKShzY29wZS4kcGFyZW50KSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYW5zbGF0ZVZhbHVlRXhpc3QpIHtcbiAgICAgICAgICB2YXIgb2JzZXJ2ZVZhbHVlQXR0cmlidXRlID0gZnVuY3Rpb24gKGF0dHJOYW1lKSB7XG4gICAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZShhdHRyTmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gYW5ndWxhci5sb3dlcmNhc2UoYXR0ck5hbWUuc3Vic3RyKDE0LCAxKSkgKyBhdHRyTmFtZS5zdWJzdHIoMTUpO1xuICAgICAgICAgICAgICBzY29wZS5pbnRlcnBvbGF0ZVBhcmFtc1thdHRyaWJ1dGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBmb3IgKHZhciBhdHRyIGluIGlBdHRyKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGlBdHRyLCBhdHRyKSAmJiBhdHRyLnN1YnN0cigwLCAxNCkgPT09ICd0cmFuc2xhdGVWYWx1ZScgJiYgYXR0ciAhPT0gJ3RyYW5zbGF0ZVZhbHVlcycpIHtcbiAgICAgICAgICAgICAgb2JzZXJ2ZVZhbHVlQXR0cmlidXRlKGF0dHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1hc3RlciB1cGRhdGUgZnVuY3Rpb25cbiAgICAgICAgdmFyIHVwZGF0ZVRyYW5zbGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdHJhbnNsYXRpb25JZHMpIHtcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGlvbklkcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIHRyYW5zbGF0aW9uSWRzW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbihrZXksIHRyYW5zbGF0aW9uSWRzW2tleV0sIHNjb3BlLCBzY29wZS5pbnRlcnBvbGF0ZVBhcmFtcywgc2NvcGUuZGVmYXVsdFRleHQsIHNjb3BlLnRyYW5zbGF0ZU5hbWVzcGFjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFB1dCB0cmFuc2xhdGlvbiBwcm9jZXNzaW5nIGZ1bmN0aW9uIG91dHNpZGUgbG9vcFxuICAgICAgICB2YXIgdXBkYXRlVHJhbnNsYXRpb24gPSBmdW5jdGlvbih0cmFuc2xhdGVBdHRyLCB0cmFuc2xhdGlvbklkLCBzY29wZSwgaW50ZXJwb2xhdGVQYXJhbXMsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIHRyYW5zbGF0ZU5hbWVzcGFjZSkge1xuICAgICAgICAgIGlmICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICAvLyBpZiB0cmFuc2xhdGlvbiBpZCBzdGFydHMgd2l0aCAnLicgYW5kIHRyYW5zbGF0ZU5hbWVzcGFjZSBnaXZlbiwgcHJlcGVuZCBuYW1lc3BhY2VcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGVOYW1lc3BhY2UgJiYgdHJhbnNsYXRpb25JZC5jaGFyQXQoMCkgPT09ICcuJykge1xuICAgICAgICAgICAgICB0cmFuc2xhdGlvbklkID0gdHJhbnNsYXRlTmFtZXNwYWNlICsgdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHRyYW5zbGF0ZSh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgdHJhbnNsYXRlSW50ZXJwb2xhdGlvbiwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCwgc2NvcGUudHJhbnNsYXRlTGFuZ3VhZ2UpXG4gICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgICAgICAgIGFwcGx5VHJhbnNsYXRpb24odHJhbnNsYXRpb24sIHNjb3BlLCB0cnVlLCB0cmFuc2xhdGVBdHRyKTtcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgICAgICBhcHBseVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIHNjb3BlLCBmYWxzZSwgdHJhbnNsYXRlQXR0cik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBhcyBhbiBlbXB0eSBzdHJpbmcgY2Fubm90IGJlIHRyYW5zbGF0ZWQsIHdlIGNhbiBzb2x2ZSB0aGlzIHVzaW5nIHN1Y2Nlc3NmdWw9ZmFsc2VcbiAgICAgICAgICAgIGFwcGx5VHJhbnNsYXRpb24odHJhbnNsYXRpb25JZCwgc2NvcGUsIGZhbHNlLCB0cmFuc2xhdGVBdHRyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGFwcGx5VHJhbnNsYXRpb24gPSBmdW5jdGlvbiAodmFsdWUsIHNjb3BlLCBzdWNjZXNzZnVsLCB0cmFuc2xhdGVBdHRyKSB7XG4gICAgICAgICAgaWYgKCFzdWNjZXNzZnVsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNjb3BlLmRlZmF1bHRUZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHNjb3BlLmRlZmF1bHRUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHJhbnNsYXRlQXR0ciA9PT0gJ3RyYW5zbGF0ZScpIHtcbiAgICAgICAgICAgIC8vIGRlZmF1bHQgdHJhbnNsYXRlIGludG8gaW5uZXJIVE1MXG4gICAgICAgICAgICBpZiAoc3VjY2Vzc2Z1bCB8fCAoIXN1Y2Nlc3NmdWwgJiYgISR0cmFuc2xhdGUuaXNLZWVwQ29udGVudCgpICYmIHR5cGVvZiBpQXR0ci50cmFuc2xhdGVLZWVwQ29udGVudCA9PT0gJ3VuZGVmaW5lZCcpKSB7XG4gICAgICAgICAgICAgIGlFbGVtZW50LmVtcHR5KCkuYXBwZW5kKHNjb3BlLnByZVRleHQgKyB2YWx1ZSArIHNjb3BlLnBvc3RUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBnbG9iYWxseUVuYWJsZWQgPSAkdHJhbnNsYXRlLmlzUG9zdENvbXBpbGluZ0VuYWJsZWQoKTtcbiAgICAgICAgICAgIHZhciBsb2NhbGx5RGVmaW5lZCA9IHR5cGVvZiB0QXR0ci50cmFuc2xhdGVDb21waWxlICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgICAgIHZhciBsb2NhbGx5RW5hYmxlZCA9IGxvY2FsbHlEZWZpbmVkICYmIHRBdHRyLnRyYW5zbGF0ZUNvbXBpbGUgIT09ICdmYWxzZSc7XG4gICAgICAgICAgICBpZiAoKGdsb2JhbGx5RW5hYmxlZCAmJiAhbG9jYWxseURlZmluZWQpIHx8IGxvY2FsbHlFbmFibGVkKSB7XG4gICAgICAgICAgICAgICRjb21waWxlKGlFbGVtZW50LmNvbnRlbnRzKCkpKHNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdHJhbnNsYXRlIGF0dHJpYnV0ZVxuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBpQXR0ci4kYXR0clt0cmFuc2xhdGVBdHRyXTtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lLnN1YnN0cigwLCA1KSA9PT0gJ2RhdGEtJykge1xuICAgICAgICAgICAgICAvLyBlbnN1cmUgaHRtbDUgZGF0YSBwcmVmaXggaXMgc3RyaXBwZWRcbiAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZU5hbWUuc3Vic3RyKDUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZU5hbWUuc3Vic3RyKDE1KTtcbiAgICAgICAgICAgIGlFbGVtZW50LmF0dHIoYXR0cmlidXRlTmFtZSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodHJhbnNsYXRlVmFsdWVzRXhpc3QgfHwgdHJhbnNsYXRlVmFsdWVFeGlzdCB8fCBpQXR0ci50cmFuc2xhdGVEZWZhdWx0KSB7XG4gICAgICAgICAgc2NvcGUuJHdhdGNoKCdpbnRlcnBvbGF0ZVBhcmFtcycsIHVwZGF0ZVRyYW5zbGF0aW9ucywgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXBsYWNlZCB3YXRjaGVyIG9uIHRyYW5zbGF0ZUxhbmd1YWdlIHdpdGggZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgc2NvcGUuJG9uKCd0cmFuc2xhdGVMYW5ndWFnZUNoYW5nZWQnLCB1cGRhdGVUcmFuc2xhdGlvbnMpO1xuXG4gICAgICAgIC8vIEVuc3VyZXMgdGhlIHRleHQgd2lsbCBiZSByZWZyZXNoZWQgYWZ0ZXIgdGhlIGN1cnJlbnQgbGFuZ3VhZ2Ugd2FzIGNoYW5nZWRcbiAgICAgICAgLy8gdy8gJHRyYW5zbGF0ZS51c2UoLi4uKVxuICAgICAgICB2YXIgdW5iaW5kID0gJHJvb3RTY29wZS4kb24oJyR0cmFuc2xhdGVDaGFuZ2VTdWNjZXNzJywgdXBkYXRlVHJhbnNsYXRpb25zKTtcblxuICAgICAgICAvLyBlbnN1cmUgdHJhbnNsYXRpb24gd2lsbCBiZSBsb29rZWQgdXAgYXQgbGVhc3Qgb25lXG4gICAgICAgIGlmIChpRWxlbWVudC50ZXh0KCkubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKGlBdHRyLnRyYW5zbGF0ZSkge1xuICAgICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbihpQXR0ci50cmFuc2xhdGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uKCcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaUF0dHIudHJhbnNsYXRlKSB7XG4gICAgICAgICAgLy8gZW5zdXJlIGF0dHJpYnV0ZSB3aWxsIGJlIG5vdCBza2lwcGVkXG4gICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbihpQXR0ci50cmFuc2xhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgdW5iaW5kKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHNjb3BlJ3MgbmFtZXNwYWNlLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBzY29wZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0VHJhbnNsYXRlTmFtZXNwYWNlKHNjb3BlKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgaWYgKHNjb3BlLnRyYW5zbGF0ZU5hbWVzcGFjZSkge1xuICAgIHJldHVybiBzY29wZS50cmFuc2xhdGVOYW1lc3BhY2U7XG4gIH1cbiAgaWYgKHNjb3BlLiRwYXJlbnQpIHtcbiAgICByZXR1cm4gZ2V0VHJhbnNsYXRlTmFtZXNwYWNlKHNjb3BlLiRwYXJlbnQpO1xuICB9XG59XG5cbnRyYW5zbGF0ZURpcmVjdGl2ZS5kaXNwbGF5TmFtZSA9ICd0cmFuc2xhdGVEaXJlY3RpdmUnO1xuXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuZGlyZWN0aXZlOnRyYW5zbGF0ZS1hdHRyXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVHJhbnNsYXRlcyBhdHRyaWJ1dGVzIGxpa2UgdHJhbnNsYXRlLWF0dHItQVRUUiwgYnV0IHdpdGggYW4gb2JqZWN0IGxpa2UgbmctY2xhc3MuXG4gKiBJbnRlcm5hbGx5IGl0IHVzZXMgYHRyYW5zbGF0ZWAgc2VydmljZSB0byB0cmFuc2xhdGUgdHJhbnNsYXRpb24gaWQuIEl0IHBvc3NpYmxlIHRvXG4gKiBwYXNzIGFuIG9wdGlvbmFsIGB0cmFuc2xhdGUtdmFsdWVzYCBvYmplY3QgbGl0ZXJhbCBhcyBzdHJpbmcgaW50byB0cmFuc2xhdGlvbiBpZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS1hdHRyIE9iamVjdCBsaXRlcmFsIG1hcHBpbmcgYXR0cmlidXRlcyB0byB0cmFuc2xhdGlvbiBpZHMuXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS12YWx1ZXMgVmFsdWVzIHRvIHBhc3MgaW50byB0aGUgdHJhbnNsYXRpb24gaWRzLiBDYW4gYmUgcGFzc2VkIGFzIG9iamVjdCBsaXRlcmFsIHN0cmluZy5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibmdWaWV3XCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIlRyYW5zbGF0ZUN0cmxcIj5cblxuICAgICAgICA8aW5wdXQgdHJhbnNsYXRlLWF0dHI9XCJ7IHBsYWNlaG9sZGVyOiB0cmFuc2xhdGlvbklkLCB0aXRsZTogJ1dJVEhfVkFMVUVTJyB9XCIgdHJhbnNsYXRlLXZhbHVlcz1cInt2YWx1ZTogNX1cIiAvPlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycsIFsncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSddKVxuXG4gICAgICAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcblxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbicse1xuICAgICAgICAgICdUUkFOU0xBVElPTl9JRCc6ICdIZWxsbyB0aGVyZSEnLFxuICAgICAgICAgICdXSVRIX1ZBTFVFUyc6ICdUaGUgZm9sbG93aW5nIHZhbHVlIGlzIGR5bmFtaWM6IHt7dmFsdWV9fScsXG4gICAgICAgIH0pLnByZWZlcnJlZExhbmd1YWdlKCdlbicpO1xuXG4gICAgICB9KTtcblxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycpLmNvbnRyb2xsZXIoJ1RyYW5zbGF0ZUN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS50cmFuc2xhdGlvbklkID0gJ1RSQU5TTEFUSU9OX0lEJztcblxuICAgICAgICAkc2NvcGUudmFsdWVzID0ge1xuICAgICAgICAgIHZhbHVlOiA3OFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY2VuYXJpby5qc1wiPlxuICAgICAgaXQoJ3Nob3VsZCB0cmFuc2xhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGluamVjdChmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGNvbXBpbGUpIHtcbiAgICAgICAgICAkcm9vdFNjb3BlLnRyYW5zbGF0aW9uSWQgPSAnVFJBTlNMQVRJT05fSUQnO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8aW5wdXQgdHJhbnNsYXRlLWF0dHI9XCJ7IHBsYWNlaG9sZGVyOiB0cmFuc2xhdGlvbklkLCB0aXRsZTogJ1dJVEhfVkFMVUVTJyB9XCIgdHJhbnNsYXRlLXZhbHVlcz1cInsgdmFsdWU6IDUgfVwiIC8+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYXR0cigncGxhY2Vob2xkZXIpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC5hdHRyKCd0aXRsZSkpLnRvQmUoJ1RoZSBmb2xsb3dpbmcgdmFsdWUgaXMgZHluYW1pYzogNScpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgndHJhbnNsYXRlQXR0cicsIHRyYW5zbGF0ZUF0dHJEaXJlY3RpdmUpO1xuZnVuY3Rpb24gdHJhbnNsYXRlQXR0ckRpcmVjdGl2ZSgkdHJhbnNsYXRlLCAkcm9vdFNjb3BlKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBwcmlvcml0eTogJHRyYW5zbGF0ZS5kaXJlY3RpdmVQcmlvcml0eSgpLFxuICAgIGxpbms6IGZ1bmN0aW9uIGxpbmtGbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuXG4gICAgICB2YXIgdHJhbnNsYXRlQXR0cixcbiAgICAgICAgICB0cmFuc2xhdGVWYWx1ZXMsXG4gICAgICAgICAgcHJldmlvdXNBdHRyaWJ1dGVzID0ge307XG5cbiAgICAgIC8vIE1haW4gdXBkYXRlIHRyYW5zbGF0aW9ucyBmdW5jdGlvblxuICAgICAgdmFyIHVwZGF0ZVRyYW5zbGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRyYW5zbGF0ZUF0dHIsIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgICAgaWYgKCF0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHByZXZpb3VzQXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSA9IHRydWU7XG5cbiAgICAgICAgICAvLyBpZiB0cmFuc2xhdGlvbiBpZCBzdGFydHMgd2l0aCAnLicgYW5kIHRyYW5zbGF0ZU5hbWVzcGFjZSBnaXZlbiwgcHJlcGVuZCBuYW1lc3BhY2VcbiAgICAgICAgICBpZiAoc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlICYmIHRyYW5zbGF0aW9uSWQuY2hhckF0KDApID09PSAnLicpIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uSWQgPSBzY29wZS50cmFuc2xhdGVOYW1lc3BhY2UgKyB0cmFuc2xhdGlvbklkO1xuICAgICAgICAgIH1cbiAgICAgICAgICAkdHJhbnNsYXRlKHRyYW5zbGF0aW9uSWQsIHRyYW5zbGF0ZVZhbHVlcywgYXR0ci50cmFuc2xhdGVJbnRlcnBvbGF0aW9uLCB1bmRlZmluZWQsIHNjb3BlLnRyYW5zbGF0ZUxhbmd1YWdlKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQuYXR0cihhdHRyaWJ1dGVOYW1lLCB0cmFuc2xhdGlvbik7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgICBlbGVtZW50LmF0dHIoYXR0cmlidXRlTmFtZSwgdHJhbnNsYXRpb25JZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmVtb3ZpbmcgdW51c2VkIGF0dHJpYnV0ZXMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgdXNlZFxuICAgICAgICBhbmd1bGFyLmZvckVhY2gocHJldmlvdXNBdHRyaWJ1dGVzLCBmdW5jdGlvbiAoZmxhZywgYXR0cmlidXRlTmFtZSkge1xuICAgICAgICAgIGlmICghdHJhbnNsYXRlQXR0clthdHRyaWJ1dGVOYW1lXSkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgZGVsZXRlIHByZXZpb3VzQXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgLy8gV2F0Y2ggZm9yIGF0dHJpYnV0ZSBjaGFuZ2VzXG4gICAgICB3YXRjaEF0dHJpYnV0ZShcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGF0dHIudHJhbnNsYXRlQXR0cixcbiAgICAgICAgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7IHRyYW5zbGF0ZUF0dHIgPSBuZXdWYWx1ZTsgfSxcbiAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zXG4gICAgICApO1xuICAgICAgLy8gV2F0Y2ggZm9yIHZhbHVlIGNoYW5nZXNcbiAgICAgIHdhdGNoQXR0cmlidXRlKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgYXR0ci50cmFuc2xhdGVWYWx1ZXMsXG4gICAgICAgIGZ1bmN0aW9uIChuZXdWYWx1ZSkgeyB0cmFuc2xhdGVWYWx1ZXMgPSBuZXdWYWx1ZTsgfSxcbiAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zXG4gICAgICApO1xuXG4gICAgICBpZiAoYXR0ci50cmFuc2xhdGVWYWx1ZXMpIHtcbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHIudHJhbnNsYXRlVmFsdWVzLCB1cGRhdGVUcmFuc2xhdGlvbnMsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXBsYWNlZCB3YXRjaGVyIG9uIHRyYW5zbGF0ZUxhbmd1YWdlIHdpdGggZXZlbnQgbGlzdGVuZXJcbiAgICAgIHNjb3BlLiRvbigndHJhbnNsYXRlTGFuZ3VhZ2VDaGFuZ2VkJywgdXBkYXRlVHJhbnNsYXRpb25zKTtcblxuICAgICAgLy8gRW5zdXJlcyB0aGUgdGV4dCB3aWxsIGJlIHJlZnJlc2hlZCBhZnRlciB0aGUgY3VycmVudCBsYW5ndWFnZSB3YXMgY2hhbmdlZFxuICAgICAgLy8gdy8gJHRyYW5zbGF0ZS51c2UoLi4uKVxuICAgICAgdmFyIHVuYmluZCA9ICRyb290U2NvcGUuJG9uKCckdHJhbnNsYXRlQ2hhbmdlU3VjY2VzcycsIHVwZGF0ZVRyYW5zbGF0aW9ucyk7XG5cbiAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIHVuYmluZCk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiB3YXRjaEF0dHJpYnV0ZShzY29wZSwgYXR0cmlidXRlLCB2YWx1ZUNhbGxiYWNrLCBjaGFuZ2VDYWxsYmFjaykge1xuICAndXNlIHN0cmljdCc7XG4gIGlmICghYXR0cmlidXRlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChhdHRyaWJ1dGUuc3Vic3RyKDAsIDIpID09PSAnOjonKSB7XG4gICAgYXR0cmlidXRlID0gYXR0cmlidXRlLnN1YnN0cigyKTtcbiAgfSBlbHNlIHtcbiAgICBzY29wZS4kd2F0Y2goYXR0cmlidXRlLCBmdW5jdGlvbihuZXdWYWx1ZSkge1xuICAgICAgdmFsdWVDYWxsYmFjayhuZXdWYWx1ZSk7XG4gICAgICBjaGFuZ2VDYWxsYmFjaygpO1xuICAgIH0sIHRydWUpO1xuICB9XG4gIHZhbHVlQ2FsbGJhY2soc2NvcGUuJGV2YWwoYXR0cmlidXRlKSk7XG59XG5cbnRyYW5zbGF0ZUF0dHJEaXJlY3RpdmUuZGlzcGxheU5hbWUgPSAndHJhbnNsYXRlQXR0ckRpcmVjdGl2ZSc7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS5kaXJlY3RpdmU6dHJhbnNsYXRlQ2xvYWtcbiAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gKiBAcmVxdWlyZXMgJHRyYW5zbGF0ZVxuICogQHJlc3RyaWN0IEFcbiAqXG4gKiAkZGVzY3JpcHRpb25cbiAqIEFkZHMgYSBgdHJhbnNsYXRlLWNsb2FrYCBjbGFzcyBuYW1lIHRvIHRoZSBnaXZlbiBlbGVtZW50IHdoZXJlIHRoaXMgZGlyZWN0aXZlXG4gKiBpcyBhcHBsaWVkIGluaXRpYWxseSBhbmQgcmVtb3ZlcyBpdCwgb25jZSBhIGxvYWRlciBoYXMgZmluaXNoZWQgbG9hZGluZy5cbiAqXG4gKiBUaGlzIGRpcmVjdGl2ZSBjYW4gYmUgdXNlZCB0byBwcmV2ZW50IGluaXRpYWwgZmxpY2tlcmluZyB3aGVuIGxvYWRpbmcgdHJhbnNsYXRpb25cbiAqIGRhdGEgYXN5bmNocm9ub3VzbHkuXG4gKlxuICogVGhlIGNsYXNzIG5hbWUgaXMgZGVmaW5lZCBpblxuICoge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2Nsb2FrQ2xhc3NOYW1lICR0cmFuc2xhdGUuY2xvYWtDbGFzc05hbWUoKX0uXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUtY2xvYWsgSWYgYSB0cmFuc2xhdGlvbklkIGlzIHByb3ZpZGVkLCBpdCB3aWxsIGJlIHVzZWQgZm9yIHNob3dpbmdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIGhpZGluZyB0aGUgY2xvYWsuIEJhc2ljYWxseSBpdCByZWxpZXMgb24gdGhlIHRyYW5zbGF0aW9uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlLlxuICovXG4uZGlyZWN0aXZlKCd0cmFuc2xhdGVDbG9haycsIHRyYW5zbGF0ZUNsb2FrRGlyZWN0aXZlKTtcblxuZnVuY3Rpb24gdHJhbnNsYXRlQ2xvYWtEaXJlY3RpdmUoJHRyYW5zbGF0ZSwgJHJvb3RTY29wZSkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICByZXR1cm4ge1xuICAgIGNvbXBpbGU6IGZ1bmN0aW9uICh0RWxlbWVudCkge1xuICAgICAgdmFyIGFwcGx5Q2xvYWsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRFbGVtZW50LmFkZENsYXNzKCR0cmFuc2xhdGUuY2xvYWtDbGFzc05hbWUoKSk7XG4gICAgICB9LFxuICAgICAgcmVtb3ZlQ2xvYWsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRFbGVtZW50LnJlbW92ZUNsYXNzKCR0cmFuc2xhdGUuY2xvYWtDbGFzc05hbWUoKSk7XG4gICAgICB9O1xuICAgICAgJHRyYW5zbGF0ZS5vblJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVtb3ZlQ2xvYWsoKTtcbiAgICAgIH0pO1xuICAgICAgYXBwbHlDbG9haygpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbGlua0ZuKHNjb3BlLCBpRWxlbWVudCwgaUF0dHIpIHtcbiAgICAgICAgaWYgKGlBdHRyLnRyYW5zbGF0ZUNsb2FrICYmIGlBdHRyLnRyYW5zbGF0ZUNsb2FrLmxlbmd0aCkge1xuICAgICAgICAgIC8vIFJlZ2lzdGVyIGEgd2F0Y2hlciBmb3IgdGhlIGRlZmluZWQgdHJhbnNsYXRpb24gYWxsb3dpbmcgYSBmaW5lIHR1bmVkIGNsb2FrXG4gICAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZUNsb2FrJywgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgICR0cmFuc2xhdGUodHJhbnNsYXRpb25JZCkudGhlbihyZW1vdmVDbG9haywgYXBwbHlDbG9hayk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gUmVnaXN0ZXIgZm9yIGNoYW5nZSBldmVudHMgYXMgdGhpcyBpcyBiZWluZyBhbm90aGVyIGluZGljaWNhdG9yIHJldmFsaWRhdGluZyB0aGUgY2xvYWspXG4gICAgICAgICAgJHJvb3RTY29wZS4kb24oJyR0cmFuc2xhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHRyYW5zbGF0ZShpQXR0ci50cmFuc2xhdGVDbG9haykudGhlbihyZW1vdmVDbG9haywgYXBwbHlDbG9hayk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuXG50cmFuc2xhdGVDbG9ha0RpcmVjdGl2ZS5kaXNwbGF5TmFtZSA9ICd0cmFuc2xhdGVDbG9ha0RpcmVjdGl2ZSc7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS5kaXJlY3RpdmU6dHJhbnNsYXRlTmFtZXNwYWNlXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVHJhbnNsYXRlcyBnaXZlbiB0cmFuc2xhdGlvbiBpZCBlaXRoZXIgdGhyb3VnaCBhdHRyaWJ1dGUgb3IgRE9NIGNvbnRlbnQuXG4gKiBJbnRlcm5hbGx5IGl0IHVzZXMgYHRyYW5zbGF0ZWAgZmlsdGVyIHRvIHRyYW5zbGF0ZSB0cmFuc2xhdGlvbiBpZC4gSXQgcG9zc2libGUgdG9cbiAqIHBhc3MgYW4gb3B0aW9uYWwgYHRyYW5zbGF0ZS12YWx1ZXNgIG9iamVjdCBsaXRlcmFsIGFzIHN0cmluZyBpbnRvIHRyYW5zbGF0aW9uIGlkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlIG5hbWVzcGFjZSBuYW1lIHdoaWNoIGNvdWxkIGJlIGVpdGhlciBzdHJpbmcgb3IgaW50ZXJwb2xhdGVkIHN0cmluZy5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibmdWaWV3XCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgdHJhbnNsYXRlLW5hbWVzcGFjZT1cIkNPTlRFTlRcIj5cblxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGgxIHRyYW5zbGF0ZT4uSEVBREVSUy5USVRMRTwvaDE+XG4gICAgICAgICAgICA8aDEgdHJhbnNsYXRlPi5IRUFERVJTLldFTENPTUU8L2gxPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IHRyYW5zbGF0ZS1uYW1lc3BhY2U9XCIuSEVBREVSU1wiPlxuICAgICAgICAgICAgPGgxIHRyYW5zbGF0ZT4uVElUTEU8L2gxPlxuICAgICAgICAgICAgPGgxIHRyYW5zbGF0ZT4uV0VMQ09NRTwvaDE+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycsIFsncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSddKVxuXG4gICAgICAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcblxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbicse1xuICAgICAgICAgICdUUkFOU0xBVElPTl9JRCc6ICdIZWxsbyB0aGVyZSEnLFxuICAgICAgICAgICdDT05URU5UJzoge1xuICAgICAgICAgICAgJ0hFQURFUlMnOiB7XG4gICAgICAgICAgICAgICAgVElUTEU6ICdUaXRsZSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgICdDT05URU5ULkhFQURFUlMuV0VMQ09NRSc6ICdXZWxjb21lJ1xuICAgICAgICB9KS5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcblxuICAgICAgfSk7XG5cbiAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ3RyYW5zbGF0ZU5hbWVzcGFjZScsIHRyYW5zbGF0ZU5hbWVzcGFjZURpcmVjdGl2ZSk7XG5cbmZ1bmN0aW9uIHRyYW5zbGF0ZU5hbWVzcGFjZURpcmVjdGl2ZSgpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHNjb3BlOiB0cnVlLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByZTogZnVuY3Rpb24gKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7XG4gICAgICAgICAgc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlID0gZ2V0VHJhbnNsYXRlTmFtZXNwYWNlKHNjb3BlKTtcblxuICAgICAgICAgIGlmIChzY29wZS50cmFuc2xhdGVOYW1lc3BhY2UgJiYgaUF0dHJzLnRyYW5zbGF0ZU5hbWVzcGFjZS5jaGFyQXQoMCkgPT09ICcuJykge1xuICAgICAgICAgICAgc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlICs9IGlBdHRycy50cmFuc2xhdGVOYW1lc3BhY2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNjb3BlLnRyYW5zbGF0ZU5hbWVzcGFjZSA9IGlBdHRycy50cmFuc2xhdGVOYW1lc3BhY2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY29wZSdzIG5hbWVzcGFjZS5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gc2NvcGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldFRyYW5zbGF0ZU5hbWVzcGFjZShzY29wZSkge1xuICAndXNlIHN0cmljdCc7XG4gIGlmIChzY29wZS50cmFuc2xhdGVOYW1lc3BhY2UpIHtcbiAgICByZXR1cm4gc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlO1xuICB9XG4gIGlmIChzY29wZS4kcGFyZW50KSB7XG4gICAgcmV0dXJuIGdldFRyYW5zbGF0ZU5hbWVzcGFjZShzY29wZS4kcGFyZW50KTtcbiAgfVxufVxuXG50cmFuc2xhdGVOYW1lc3BhY2VEaXJlY3RpdmUuZGlzcGxheU5hbWUgPSAndHJhbnNsYXRlTmFtZXNwYWNlRGlyZWN0aXZlJztcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmRpcmVjdGl2ZTp0cmFuc2xhdGVMYW5ndWFnZVxuICogQHJlc3RyaWN0IEFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZvcmNlcyB0aGUgbGFuZ3VhZ2UgdG8gdGhlIGRpcmVjdGl2ZXMgaW4gdGhlIHVuZGVybHlpbmcgc2NvcGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUgbGFuZ3VhZ2UgdGhhdCB3aWxsIGJlIG5lZ290aWF0ZWQuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cIm5nVmlld1wiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2PlxuXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDEgdHJhbnNsYXRlPkhFTExPPC9oMT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiB0cmFuc2xhdGUtbGFuZ3VhZ2U9XCJkZVwiPlxuICAgICAgICAgICAgPGgxIHRyYW5zbGF0ZT5IRUxMTzwvaDE+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycsIFsncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSddKVxuXG4gICAgICAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcblxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXJcbiAgICAgICAgICAudHJhbnNsYXRpb25zKCdlbicse1xuICAgICAgICAgICAgJ0hFTExPJzogJ0hlbGxvIHdvcmxkISdcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50cmFuc2xhdGlvbnMoJ2RlJyx7XG4gICAgICAgICAgICAnSEVMTE8nOiAnSGFsbG8gV2VsdCEnXG4gICAgICAgICAgfSlcbiAgICAgICAgICAucHJlZmVycmVkTGFuZ3VhZ2UoJ2VuJyk7XG5cbiAgICAgIH0pO1xuXG4gICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG4uZGlyZWN0aXZlKCd0cmFuc2xhdGVMYW5ndWFnZScsIHRyYW5zbGF0ZUxhbmd1YWdlRGlyZWN0aXZlKTtcblxuZnVuY3Rpb24gdHJhbnNsYXRlTGFuZ3VhZ2VEaXJlY3RpdmUoKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBzY29wZTogdHJ1ZSxcbiAgICBjb21waWxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gbGlua0ZuKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7XG5cbiAgICAgICAgaUF0dHJzLiRvYnNlcnZlKCd0cmFuc2xhdGVMYW5ndWFnZScsIGZ1bmN0aW9uIChuZXdUcmFuc2xhdGVMYW5ndWFnZSkge1xuICAgICAgICAgIHNjb3BlLnRyYW5zbGF0ZUxhbmd1YWdlID0gbmV3VHJhbnNsYXRlTGFuZ3VhZ2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNjb3BlLiR3YXRjaCgndHJhbnNsYXRlTGFuZ3VhZ2UnLCBmdW5jdGlvbigpe1xuICAgICAgICAgIHNjb3BlLiRicm9hZGNhc3QoJ3RyYW5zbGF0ZUxhbmd1YWdlQ2hhbmdlZCcpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuXG50cmFuc2xhdGVMYW5ndWFnZURpcmVjdGl2ZS5kaXNwbGF5TmFtZSA9ICd0cmFuc2xhdGVMYW5ndWFnZURpcmVjdGl2ZSc7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS5maWx0ZXI6dHJhbnNsYXRlXG4gKiBAcmVxdWlyZXMgJHBhcnNlXG4gKiBAcmVxdWlyZXMgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gKiBAZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZXMgYCR0cmFuc2xhdGVgIHNlcnZpY2UgdG8gdHJhbnNsYXRlIGNvbnRlbnRzLiBBY2NlcHRzIGludGVycG9sYXRlIHBhcmFtZXRlcnNcbiAqIHRvIHBhc3MgZHluYW1pemVkIHZhbHVlcyB0aG91Z2ggdHJhbnNsYXRpb24uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zbGF0aW9uSWQgQSB0cmFuc2xhdGlvbiBpZCB0byBiZSB0cmFuc2xhdGVkLlxuICogQHBhcmFtIHsqPX0gaW50ZXJwb2xhdGVQYXJhbXMgT3B0aW9uYWwgb2JqZWN0IGxpdGVyYWwgKGFzIGhhc2ggb3Igc3RyaW5nKSB0byBwYXNzIHZhbHVlcyBpbnRvIHRyYW5zbGF0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRyYW5zbGF0ZWQgdGV4dC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibmdWaWV3XCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIlRyYW5zbGF0ZUN0cmxcIj5cblxuICAgICAgICA8cHJlPnt7ICdUUkFOU0xBVElPTl9JRCcgfCB0cmFuc2xhdGUgfX08L3ByZT5cbiAgICAgICAgPHByZT57eyB0cmFuc2xhdGlvbklkIHwgdHJhbnNsYXRlIH19PC9wcmU+XG4gICAgICAgIDxwcmU+e3sgJ1dJVEhfVkFMVUVTJyB8IHRyYW5zbGF0ZTone3ZhbHVlOiA1fScgfX08L3ByZT5cbiAgICAgICAgPHByZT57eyAnV0lUSF9WQUxVRVMnIHwgdHJhbnNsYXRlOnZhbHVlcyB9fTwvcHJlPlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycsIFsncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSddKVxuXG4gICAgICAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcblxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbicsIHtcbiAgICAgICAgICAnVFJBTlNMQVRJT05fSUQnOiAnSGVsbG8gdGhlcmUhJyxcbiAgICAgICAgICAnV0lUSF9WQUxVRVMnOiAnVGhlIGZvbGxvd2luZyB2YWx1ZSBpcyBkeW5hbWljOiB7e3ZhbHVlfX0nXG4gICAgICAgIH0pO1xuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIucHJlZmVycmVkTGFuZ3VhZ2UoJ2VuJyk7XG5cbiAgICAgIH0pO1xuXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JykuY29udHJvbGxlcignVHJhbnNsYXRlQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLnRyYW5zbGF0aW9uSWQgPSAnVFJBTlNMQVRJT05fSUQnO1xuXG4gICAgICAgICRzY29wZS52YWx1ZXMgPSB7XG4gICAgICAgICAgdmFsdWU6IDc4XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbi5maWx0ZXIoJ3RyYW5zbGF0ZScsIHRyYW5zbGF0ZUZpbHRlckZhY3RvcnkpO1xuXG5mdW5jdGlvbiB0cmFuc2xhdGVGaWx0ZXJGYWN0b3J5KCRwYXJzZSwgJHRyYW5zbGF0ZSkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgdHJhbnNsYXRlRmlsdGVyID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uLCBmb3JjZUxhbmd1YWdlKSB7XG4gICAgaWYgKCFhbmd1bGFyLmlzT2JqZWN0KGludGVycG9sYXRlUGFyYW1zKSkge1xuICAgICAgaW50ZXJwb2xhdGVQYXJhbXMgPSAkcGFyc2UoaW50ZXJwb2xhdGVQYXJhbXMpKHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiAkdHJhbnNsYXRlLmluc3RhbnQodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb24sIGZvcmNlTGFuZ3VhZ2UpO1xuICB9O1xuXG4gIGlmICgkdHJhbnNsYXRlLnN0YXRlZnVsRmlsdGVyKCkpIHtcbiAgICB0cmFuc2xhdGVGaWx0ZXIuJHN0YXRlZnVsID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiB0cmFuc2xhdGVGaWx0ZXI7XG59XG5cbnRyYW5zbGF0ZUZpbHRlckZhY3RvcnkuZGlzcGxheU5hbWUgPSAndHJhbnNsYXRlRmlsdGVyRmFjdG9yeSc7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGlvbkNhY2hlXG4gKiBAcmVxdWlyZXMgJGNhY2hlRmFjdG9yeVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGZpcnN0IHRpbWUgYSB0cmFuc2xhdGlvbiB0YWJsZSBpcyB1c2VkLCBpdCBpcyBsb2FkZWQgaW4gdGhlIHRyYW5zbGF0aW9uIGNhY2hlIGZvciBxdWljayByZXRyaWV2YWwuIFlvdVxuICogY2FuIGxvYWQgdHJhbnNsYXRpb24gdGFibGVzIGRpcmVjdGx5IGludG8gdGhlIGNhY2hlIGJ5IGNvbnN1bWluZyB0aGVcbiAqIGAkdHJhbnNsYXRpb25DYWNoZWAgc2VydmljZSBkaXJlY3RseS5cbiAqXG4gKiBAcmV0dXJuIHtvYmplY3R9ICRjYWNoZUZhY3Rvcnkgb2JqZWN0LlxuICovXG4gIC5mYWN0b3J5KCckdHJhbnNsYXRpb25DYWNoZScsICR0cmFuc2xhdGlvbkNhY2hlKTtcblxuZnVuY3Rpb24gJHRyYW5zbGF0aW9uQ2FjaGUoJGNhY2hlRmFjdG9yeSkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICByZXR1cm4gJGNhY2hlRmFjdG9yeSgndHJhbnNsYXRpb25zJyk7XG59XG5cbiR0cmFuc2xhdGlvbkNhY2hlLmRpc3BsYXlOYW1lID0gJyR0cmFuc2xhdGlvbkNhY2hlJztcbnJldHVybiAncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSc7XG5cbn0pKTtcblxuLyohXG4gKiBhbmd1bGFyLXRyYW5zbGF0ZSAtIHYyLjEzLjEgLSAyMDE2LTEyLTA2XG4gKiBcbiAqIENvcHlyaWdodCAoYykgMjAxNiBUaGUgYW5ndWxhci10cmFuc2xhdGUgdGVhbSwgUGFzY2FsIFByZWNodDsgTGljZW5zZWQgTUlUXG4gKi9cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHVubGVzcyBhbWRNb2R1bGVJZCBpcyBzZXRcbiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAoZmFjdG9yeSgpKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAvLyBsaWtlIE5vZGUuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyLiRpbmplY3QgPSBbJyRxJywgJyRodHRwJ107XG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyXG4gKiBAcmVxdWlyZXMgJHFcbiAqIEByZXF1aXJlcyAkaHR0cFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhIGxvYWRpbmcgZnVuY3Rpb24gZm9yIGEgdHlwaWNhbCBzdGF0aWMgZmlsZSB1cmwgcGF0dGVybjpcbiAqIFwibGFuZy1lbl9VUy5qc29uXCIsIFwibGFuZy1kZV9ERS5qc29uXCIsIGV0Yy4gVXNpbmcgdGhpcyBidWlsZGVyLFxuICogdGhlIHJlc3BvbnNlIG9mIHRoZXNlIHVybHMgbXVzdCBiZSBhbiBvYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0LCB3aGljaCBnZXRzIHByZWZpeCwgc3VmZml4LCBrZXksIGFuZCBmaWxlTWFwXG4gKi9cbi5mYWN0b3J5KCckdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXInLCAkdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXIpO1xuXG5mdW5jdGlvbiAkdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXIoJHEsICRodHRwKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHJldHVybiBmdW5jdGlvbiAob3B0aW9ucykge1xuXG4gICAgaWYgKCFvcHRpb25zIHx8ICghYW5ndWxhci5pc0FycmF5KG9wdGlvbnMuZmlsZXMpICYmICghYW5ndWxhci5pc1N0cmluZyhvcHRpb25zLnByZWZpeCkgfHwgIWFuZ3VsYXIuaXNTdHJpbmcob3B0aW9ucy5zdWZmaXgpKSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCBsb2FkIHN0YXRpYyBmaWxlcywgbm8gZmlsZXMgYW5kIHByZWZpeCBvciBzdWZmaXggc3BlY2lmaWVkIScpO1xuICAgIH1cblxuICAgIGlmICghb3B0aW9ucy5maWxlcykge1xuICAgICAgb3B0aW9ucy5maWxlcyA9IFt7XG4gICAgICAgIHByZWZpeDogb3B0aW9ucy5wcmVmaXgsXG4gICAgICAgIHN1ZmZpeDogb3B0aW9ucy5zdWZmaXhcbiAgICAgIH1dO1xuICAgIH1cblxuICAgIHZhciBsb2FkID0gZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgIGlmICghZmlsZSB8fCAoIWFuZ3VsYXIuaXNTdHJpbmcoZmlsZS5wcmVmaXgpIHx8ICFhbmd1bGFyLmlzU3RyaW5nKGZpbGUuc3VmZml4KSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZG5cXCd0IGxvYWQgc3RhdGljIGZpbGUsIG5vIHByZWZpeCBvciBzdWZmaXggc3BlY2lmaWVkIScpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZmlsZVVybCA9IFtcbiAgICAgICAgZmlsZS5wcmVmaXgsXG4gICAgICAgIG9wdGlvbnMua2V5LFxuICAgICAgICBmaWxlLnN1ZmZpeFxuICAgICAgXS5qb2luKCcnKTtcblxuICAgICAgaWYgKGFuZ3VsYXIuaXNPYmplY3Qob3B0aW9ucy5maWxlTWFwKSAmJiBvcHRpb25zLmZpbGVNYXBbZmlsZVVybF0pIHtcbiAgICAgICAgZmlsZVVybCA9IG9wdGlvbnMuZmlsZU1hcFtmaWxlVXJsXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICRodHRwKGFuZ3VsYXIuZXh0ZW5kKHtcbiAgICAgICAgdXJsOiBmaWxlVXJsLFxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBwYXJhbXM6ICcnXG4gICAgICB9LCBvcHRpb25zLiRodHRwKSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuICRxLnJlamVjdChvcHRpb25zLmtleSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgcHJvbWlzZXMgPSBbXSxcbiAgICAgICAgbGVuZ3RoID0gb3B0aW9ucy5maWxlcy5sZW5ndGg7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKGxvYWQoe1xuICAgICAgICBwcmVmaXg6IG9wdGlvbnMuZmlsZXNbaV0ucHJlZml4LFxuICAgICAgICBrZXk6IG9wdGlvbnMua2V5LFxuICAgICAgICBzdWZmaXg6IG9wdGlvbnMuZmlsZXNbaV0uc3VmZml4XG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICRxLmFsbChwcm9taXNlcylcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgICAgIG1lcmdlZERhdGEgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGFbaV0pIHtcbiAgICAgICAgICAgIG1lcmdlZERhdGFba2V5XSA9IGRhdGFbaV1ba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVyZ2VkRGF0YTtcbiAgICAgIH0pO1xuICB9O1xufVxuXG4kdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXIuZGlzcGxheU5hbWUgPSAnJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyJztcbnJldHVybiAncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSc7XG5cbn0pKTtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBnbG9iYWwgYW5ndWxhciAqL1xuXG50cnkge1xuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24uY29tbW9uLmkxOG4uY29uZmlnXCIpO1xufSBjYXRjaCAoZXJyKSB7XG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIiwgW10pO1xufVxuXG4vKipcbiAqIFJlaW1wbGVtZW50YXRpb24gb2YgJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyIHRvIGhhbmRsZSBtaXNzaW5nIGZpbGVzIGFuZCBsb2NhbGUgaGllcmFyY2h5IChlbi9lbl9VUylcbiAqL1xuYW5ndWxhci5tb2R1bGUoXCJwYXNjYWxwcmVjaHQudHJhbnNsYXRlXCIpXG4gIC5mYWN0b3J5KFwiJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyXCIsIFtcIiRxXCIsIFwiJGh0dHBcIixcbiAgICBmdW5jdGlvbiAoJHEsICRodHRwKSB7XG4gICAgICBmdW5jdGlvbiBsb2FkVHJhbnNsYXRpb25GaWxlKG9wdGlvbnMsIGRlZmVycmVkKSB7XG4gICAgICAgICRodHRwKGFuZ3VsYXIuZXh0ZW5kKHtcbiAgICAgICAgICB1cmw6IFtcbiAgICAgICAgICAgIG9wdGlvbnMucHJlZml4LFxuICAgICAgICAgICAgb3B0aW9ucy5rZXkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgIG9wdGlvbnMuc3VmZml4XG4gICAgICAgICAgXS5qb2luKFwiXCIpLFxuICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICBwYXJhbXM6IFwiXCJcbiAgICAgICAgfSwgb3B0aW9ucy4kaHR0cCkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChvcHRpb25zLmtleS5pbmRleE9mKFwiX1wiKSA+PSAwKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gb3B0aW9ucy5rZXkuc3Vic3RyKDAsIG9wdGlvbnMua2V5Lmxhc3RJbmRleE9mKFwiX1wiKSk7XG4gICAgICAgICAgICB2YXIgb3B0cyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBvcHRpb25zLCB7XG4gICAgICAgICAgICAgIGtleToga2V5XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbG9hZFRyYW5zbGF0aW9uRmlsZShvcHRzLCBkZWZlcnJlZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoXCJ7fVwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAoIW9wdGlvbnMgfHwgKCFhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMucHJlZml4KSB8fFxuICAgICAgICAgICFhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMuc3VmZml4KSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBcIkNvdWxkblxcXCJ0IGxvYWQgc3RhdGljIGZpbGVzLCBubyBwcmVmaXggb3Igc3VmZml4IHNwZWNpZmllZCFcIik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIGxvYWRUcmFuc2xhdGlvbkZpbGUob3B0aW9ucywgZGVmZXJyZWQpO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcbiAgICB9XG4gIF0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIiwgW1xuICBcInBhc2NhbHByZWNodC50cmFuc2xhdGVcIixcbiAgXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuLmNvbmZpZ1wiXG5dKVxuICAuY29uZmlnKFtcIiR0cmFuc2xhdGVQcm92aWRlclwiLCBcIkxPQ0FMRVNfUFJFRklYXCIsIFwiTE9DQUxFU19TVUZJWFwiLFxuICAgIGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIsIExPQ0FMRVNfUFJFRklYLCBMT0NBTEVTX1NVRklYKSB7XG4gICAgICAvLyBUcmllcyB0byBkZXRlcm1pbmUgdGhlIGJyb3dzZXJzIGxvY2FsZVxuICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVN0YXRpY0ZpbGVzTG9hZGVyKHtcbiAgICAgICAgcHJlZml4OiBMT0NBTEVTX1BSRUZJWCxcbiAgICAgICAgc3VmZml4OiBMT0NBTEVTX1NVRklYXG4gICAgICB9KTtcblxuICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAgICAgIC5kZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSgpXG4gICAgICAgIC5mYWxsYmFja0xhbmd1YWdlKFwiZW5cIilcbiAgICAgICAgLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneShudWxsKTtcbiAgICB9XG4gIF0pO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYWZmaXguanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNhZmZpeFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEFGRklYIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBBZmZpeCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIEFmZml4LkRFRkFVTFRTLCBvcHRpb25zKVxuXG4gICAgdGhpcy4kdGFyZ2V0ID0gJCh0aGlzLm9wdGlvbnMudGFyZ2V0KVxuICAgICAgLm9uKCdzY3JvbGwuYnMuYWZmaXguZGF0YS1hcGknLCAkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbiwgdGhpcykpXG4gICAgICAub24oJ2NsaWNrLmJzLmFmZml4LmRhdGEtYXBpJywgICQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCwgdGhpcykpXG5cbiAgICB0aGlzLiRlbGVtZW50ICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLmFmZml4ZWQgICAgICA9XG4gICAgdGhpcy51bnBpbiAgICAgICAgPVxuICAgIHRoaXMucGlubmVkT2Zmc2V0ID0gbnVsbFxuXG4gICAgdGhpcy5jaGVja1Bvc2l0aW9uKClcbiAgfVxuXG4gIEFmZml4LlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIEFmZml4LlJFU0VUICAgID0gJ2FmZml4IGFmZml4LXRvcCBhZmZpeC1ib3R0b20nXG5cbiAgQWZmaXguREVGQVVMVFMgPSB7XG4gICAgb2Zmc2V0OiAwLFxuICAgIHRhcmdldDogd2luZG93XG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuZ2V0UGlubmVkT2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnBpbm5lZE9mZnNldCkgcmV0dXJuIHRoaXMucGlubmVkT2Zmc2V0XG4gICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhBZmZpeC5SRVNFVCkuYWRkQ2xhc3MoJ2FmZml4JylcbiAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpXG4gICAgdmFyIHBvc2l0aW9uICA9IHRoaXMuJGVsZW1lbnQub2Zmc2V0KClcbiAgICByZXR1cm4gKHRoaXMucGlubmVkT2Zmc2V0ID0gcG9zaXRpb24udG9wIC0gc2Nyb2xsVG9wKVxuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wID0gZnVuY3Rpb24gKCkge1xuICAgIHNldFRpbWVvdXQoJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sIHRoaXMpLCAxKVxuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmNoZWNrUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpKSByZXR1cm5cblxuICAgIHZhciBzY3JvbGxIZWlnaHQgPSAkKGRvY3VtZW50KS5oZWlnaHQoKVxuICAgIHZhciBzY3JvbGxUb3AgICAgPSB0aGlzLiR0YXJnZXQuc2Nyb2xsVG9wKClcbiAgICB2YXIgcG9zaXRpb24gICAgID0gdGhpcy4kZWxlbWVudC5vZmZzZXQoKVxuICAgIHZhciBvZmZzZXQgICAgICAgPSB0aGlzLm9wdGlvbnMub2Zmc2V0XG4gICAgdmFyIG9mZnNldFRvcCAgICA9IG9mZnNldC50b3BcbiAgICB2YXIgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0LmJvdHRvbVxuXG4gICAgaWYgKHR5cGVvZiBvZmZzZXQgIT0gJ29iamVjdCcpICAgICAgICAgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0VG9wID0gb2Zmc2V0XG4gICAgaWYgKHR5cGVvZiBvZmZzZXRUb3AgPT0gJ2Z1bmN0aW9uJykgICAgb2Zmc2V0VG9wICAgID0gb2Zmc2V0LnRvcCh0aGlzLiRlbGVtZW50KVxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0Qm90dG9tID09ICdmdW5jdGlvbicpIG9mZnNldEJvdHRvbSA9IG9mZnNldC5ib3R0b20odGhpcy4kZWxlbWVudClcblxuICAgIHZhciBhZmZpeCA9IHRoaXMudW5waW4gICAhPSBudWxsICYmIChzY3JvbGxUb3AgKyB0aGlzLnVucGluIDw9IHBvc2l0aW9uLnRvcCkgPyBmYWxzZSA6XG4gICAgICAgICAgICAgICAgb2Zmc2V0Qm90dG9tICE9IG51bGwgJiYgKHBvc2l0aW9uLnRvcCArIHRoaXMuJGVsZW1lbnQuaGVpZ2h0KCkgPj0gc2Nyb2xsSGVpZ2h0IC0gb2Zmc2V0Qm90dG9tKSA/ICdib3R0b20nIDpcbiAgICAgICAgICAgICAgICBvZmZzZXRUb3AgICAgIT0gbnVsbCAmJiAoc2Nyb2xsVG9wIDw9IG9mZnNldFRvcCkgPyAndG9wJyA6IGZhbHNlXG5cbiAgICBpZiAodGhpcy5hZmZpeGVkID09PSBhZmZpeCkgcmV0dXJuXG4gICAgaWYgKHRoaXMudW5waW4gIT0gbnVsbCkgdGhpcy4kZWxlbWVudC5jc3MoJ3RvcCcsICcnKVxuXG4gICAgdmFyIGFmZml4VHlwZSA9ICdhZmZpeCcgKyAoYWZmaXggPyAnLScgKyBhZmZpeCA6ICcnKVxuICAgIHZhciBlICAgICAgICAgPSAkLkV2ZW50KGFmZml4VHlwZSArICcuYnMuYWZmaXgnKVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB0aGlzLmFmZml4ZWQgPSBhZmZpeFxuICAgIHRoaXMudW5waW4gPSBhZmZpeCA9PSAnYm90dG9tJyA/IHRoaXMuZ2V0UGlubmVkT2Zmc2V0KCkgOiBudWxsXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAucmVtb3ZlQ2xhc3MoQWZmaXguUkVTRVQpXG4gICAgICAuYWRkQ2xhc3MoYWZmaXhUeXBlKVxuICAgICAgLnRyaWdnZXIoJC5FdmVudChhZmZpeFR5cGUucmVwbGFjZSgnYWZmaXgnLCAnYWZmaXhlZCcpKSlcblxuICAgIGlmIChhZmZpeCA9PSAnYm90dG9tJykge1xuICAgICAgdGhpcy4kZWxlbWVudC5vZmZzZXQoe1xuICAgICAgICB0b3A6IHNjcm9sbEhlaWdodCAtIHRoaXMuJGVsZW1lbnQuaGVpZ2h0KCkgLSBvZmZzZXRCb3R0b21cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cblxuICAvLyBBRkZJWCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5hZmZpeCcpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYWZmaXgnLCAoZGF0YSA9IG5ldyBBZmZpeCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uYWZmaXhcblxuICAkLmZuLmFmZml4ICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uYWZmaXguQ29uc3RydWN0b3IgPSBBZmZpeFxuXG5cbiAgLy8gQUZGSVggTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmFmZml4Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5hZmZpeCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEFGRklYIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICQoJ1tkYXRhLXNweT1cImFmZml4XCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHNweSA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhID0gJHNweS5kYXRhKClcblxuICAgICAgZGF0YS5vZmZzZXQgPSBkYXRhLm9mZnNldCB8fCB7fVxuXG4gICAgICBpZiAoZGF0YS5vZmZzZXRCb3R0b20pIGRhdGEub2Zmc2V0LmJvdHRvbSA9IGRhdGEub2Zmc2V0Qm90dG9tXG4gICAgICBpZiAoZGF0YS5vZmZzZXRUb3ApICAgIGRhdGEub2Zmc2V0LnRvcCAgICA9IGRhdGEub2Zmc2V0VG9wXG5cbiAgICAgIFBsdWdpbi5jYWxsKCRzcHksIGRhdGEpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYWxlcnQuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNhbGVydHNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBBTEVSVCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgZGlzbWlzcyA9ICdbZGF0YS1kaXNtaXNzPVwiYWxlcnRcIl0nXG4gIHZhciBBbGVydCAgID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgJChlbCkub24oJ2NsaWNrJywgZGlzbWlzcywgdGhpcy5jbG9zZSlcbiAgfVxuXG4gIEFsZXJ0LlZFUlNJT04gPSAnMy4yLjAnXG5cbiAgQWxlcnQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICAgPSAkKHRoaXMpXG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICB2YXIgJHBhcmVudCA9ICQoc2VsZWN0b3IpXG5cbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBpZiAoISRwYXJlbnQubGVuZ3RoKSB7XG4gICAgICAkcGFyZW50ID0gJHRoaXMuaGFzQ2xhc3MoJ2FsZXJ0JykgPyAkdGhpcyA6ICR0aGlzLnBhcmVudCgpXG4gICAgfVxuXG4gICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdjbG9zZS5icy5hbGVydCcpKVxuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgJHBhcmVudC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCgpIHtcbiAgICAgIC8vIGRldGFjaCBmcm9tIHBhcmVudCwgZmlyZSBldmVudCB0aGVuIGNsZWFuIHVwIGRhdGFcbiAgICAgICRwYXJlbnQuZGV0YWNoKCkudHJpZ2dlcignY2xvc2VkLmJzLmFsZXJ0JykucmVtb3ZlKClcbiAgICB9XG5cbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiAkcGFyZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgJHBhcmVudFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCByZW1vdmVFbGVtZW50KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICByZW1vdmVFbGVtZW50KClcbiAgfVxuXG5cbiAgLy8gQUxFUlQgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy5hbGVydCcpXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYWxlcnQnLCAoZGF0YSA9IG5ldyBBbGVydCh0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmFsZXJ0XG5cbiAgJC5mbi5hbGVydCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmFsZXJ0LkNvbnN0cnVjdG9yID0gQWxlcnRcblxuXG4gIC8vIEFMRVJUIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5hbGVydC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uYWxlcnQgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBBTEVSVCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5hbGVydC5kYXRhLWFwaScsIGRpc21pc3MsIEFsZXJ0LnByb3RvdHlwZS5jbG9zZSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYnV0dG9uLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYnV0dG9uc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEJVVFRPTiBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQnV0dG9uID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICA9ICQuZXh0ZW5kKHt9LCBCdXR0b24uREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZVxuICB9XG5cbiAgQnV0dG9uLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIEJ1dHRvbi5ERUZBVUxUUyA9IHtcbiAgICBsb2FkaW5nVGV4dDogJ2xvYWRpbmcuLi4nXG4gIH1cblxuICBCdXR0b24ucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgdmFyIGQgICAgPSAnZGlzYWJsZWQnXG4gICAgdmFyICRlbCAgPSB0aGlzLiRlbGVtZW50XG4gICAgdmFyIHZhbCAgPSAkZWwuaXMoJ2lucHV0JykgPyAndmFsJyA6ICdodG1sJ1xuICAgIHZhciBkYXRhID0gJGVsLmRhdGEoKVxuXG4gICAgc3RhdGUgPSBzdGF0ZSArICdUZXh0J1xuXG4gICAgaWYgKGRhdGEucmVzZXRUZXh0ID09IG51bGwpICRlbC5kYXRhKCdyZXNldFRleHQnLCAkZWxbdmFsXSgpKVxuXG4gICAgJGVsW3ZhbF0oZGF0YVtzdGF0ZV0gPT0gbnVsbCA/IHRoaXMub3B0aW9uc1tzdGF0ZV0gOiBkYXRhW3N0YXRlXSlcblxuICAgIC8vIHB1c2ggdG8gZXZlbnQgbG9vcCB0byBhbGxvdyBmb3JtcyB0byBzdWJtaXRcbiAgICBzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHN0YXRlID09ICdsb2FkaW5nVGV4dCcpIHtcbiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlXG4gICAgICAgICRlbC5hZGRDbGFzcyhkKS5hdHRyKGQsIGQpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2VcbiAgICAgICAgJGVsLnJlbW92ZUNsYXNzKGQpLnJlbW92ZUF0dHIoZClcbiAgICAgIH1cbiAgICB9LCB0aGlzKSwgMClcbiAgfVxuXG4gIEJ1dHRvbi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjaGFuZ2VkID0gdHJ1ZVxuICAgIHZhciAkcGFyZW50ID0gdGhpcy4kZWxlbWVudC5jbG9zZXN0KCdbZGF0YS10b2dnbGU9XCJidXR0b25zXCJdJylcblxuICAgIGlmICgkcGFyZW50Lmxlbmd0aCkge1xuICAgICAgdmFyICRpbnB1dCA9IHRoaXMuJGVsZW1lbnQuZmluZCgnaW5wdXQnKVxuICAgICAgaWYgKCRpbnB1dC5wcm9wKCd0eXBlJykgPT0gJ3JhZGlvJykge1xuICAgICAgICBpZiAoJGlucHV0LnByb3AoJ2NoZWNrZWQnKSAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdhY3RpdmUnKSkgY2hhbmdlZCA9IGZhbHNlXG4gICAgICAgIGVsc2UgJHBhcmVudC5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB9XG4gICAgICBpZiAoY2hhbmdlZCkgJGlucHV0LnByb3AoJ2NoZWNrZWQnLCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpLnRyaWdnZXIoJ2NoYW5nZScpXG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZWQpIHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpXG4gIH1cblxuXG4gIC8vIEJVVFRPTiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuYnV0dG9uJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5idXR0b24nLCAoZGF0YSA9IG5ldyBCdXR0b24odGhpcywgb3B0aW9ucykpKVxuXG4gICAgICBpZiAob3B0aW9uID09ICd0b2dnbGUnKSBkYXRhLnRvZ2dsZSgpXG4gICAgICBlbHNlIGlmIChvcHRpb24pIGRhdGEuc2V0U3RhdGUob3B0aW9uKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5idXR0b25cblxuICAkLmZuLmJ1dHRvbiAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmJ1dHRvbi5Db25zdHJ1Y3RvciA9IEJ1dHRvblxuXG5cbiAgLy8gQlVUVE9OIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uYnV0dG9uLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5idXR0b24gPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBCVVRUT04gREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmJ1dHRvbi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGVePVwiYnV0dG9uXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJGJ0biA9ICQoZS50YXJnZXQpXG4gICAgaWYgKCEkYnRuLmhhc0NsYXNzKCdidG4nKSkgJGJ0biA9ICRidG4uY2xvc2VzdCgnLmJ0bicpXG4gICAgUGx1Z2luLmNhbGwoJGJ0biwgJ3RvZ2dsZScpXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGNhcm91c2VsLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY2Fyb3VzZWxcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDQVJPVVNFTCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQ2Fyb3VzZWwgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgICAgPSAkKGVsZW1lbnQpLm9uKCdrZXlkb3duLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmtleWRvd24sIHRoaXMpKVxuICAgIHRoaXMuJGluZGljYXRvcnMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5jYXJvdXNlbC1pbmRpY2F0b3JzJylcbiAgICB0aGlzLm9wdGlvbnMgICAgID0gb3B0aW9uc1xuICAgIHRoaXMucGF1c2VkICAgICAgPVxuICAgIHRoaXMuc2xpZGluZyAgICAgPVxuICAgIHRoaXMuaW50ZXJ2YWwgICAgPVxuICAgIHRoaXMuJGFjdGl2ZSAgICAgPVxuICAgIHRoaXMuJGl0ZW1zICAgICAgPSBudWxsXG5cbiAgICB0aGlzLm9wdGlvbnMucGF1c2UgPT0gJ2hvdmVyJyAmJiB0aGlzLiRlbGVtZW50XG4gICAgICAub24oJ21vdXNlZW50ZXIuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMucGF1c2UsIHRoaXMpKVxuICAgICAgLm9uKCdtb3VzZWxlYXZlLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmN5Y2xlLCB0aGlzKSlcbiAgfVxuXG4gIENhcm91c2VsLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIENhcm91c2VsLkRFRkFVTFRTID0ge1xuICAgIGludGVydmFsOiA1MDAwLFxuICAgIHBhdXNlOiAnaG92ZXInLFxuICAgIHdyYXA6IHRydWVcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICBzd2l0Y2ggKGUud2hpY2gpIHtcbiAgICAgIGNhc2UgMzc6IHRoaXMucHJldigpOyBicmVha1xuICAgICAgY2FzZSAzOTogdGhpcy5uZXh0KCk7IGJyZWFrXG4gICAgICBkZWZhdWx0OiByZXR1cm5cbiAgICB9XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5jeWNsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZSB8fCAodGhpcy5wYXVzZWQgPSBmYWxzZSlcblxuICAgIHRoaXMuaW50ZXJ2YWwgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuXG4gICAgdGhpcy5vcHRpb25zLmludGVydmFsXG4gICAgICAmJiAhdGhpcy5wYXVzZWRcbiAgICAgICYmICh0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoJC5wcm94eSh0aGlzLm5leHQsIHRoaXMpLCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIHRoaXMuJGl0ZW1zID0gaXRlbS5wYXJlbnQoKS5jaGlsZHJlbignLml0ZW0nKVxuICAgIHJldHVybiB0aGlzLiRpdGVtcy5pbmRleChpdGVtIHx8IHRoaXMuJGFjdGl2ZSlcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS50byA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgICB2YXIgdGhhdCAgICAgICAgPSB0aGlzXG4gICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgodGhpcy4kYWN0aXZlID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKSlcblxuICAgIGlmIChwb3MgPiAodGhpcy4kaXRlbXMubGVuZ3RoIC0gMSkgfHwgcG9zIDwgMCkgcmV0dXJuXG5cbiAgICBpZiAodGhpcy5zbGlkaW5nKSAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudC5vbmUoJ3NsaWQuYnMuY2Fyb3VzZWwnLCBmdW5jdGlvbiAoKSB7IHRoYXQudG8ocG9zKSB9KSAvLyB5ZXMsIFwic2xpZFwiXG4gICAgaWYgKGFjdGl2ZUluZGV4ID09IHBvcykgcmV0dXJuIHRoaXMucGF1c2UoKS5jeWNsZSgpXG5cbiAgICByZXR1cm4gdGhpcy5zbGlkZShwb3MgPiBhY3RpdmVJbmRleCA/ICduZXh0JyA6ICdwcmV2JywgJCh0aGlzLiRpdGVtc1twb3NdKSlcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZSB8fCAodGhpcy5wYXVzZWQgPSB0cnVlKVxuXG4gICAgaWYgKHRoaXMuJGVsZW1lbnQuZmluZCgnLm5leHQsIC5wcmV2JykubGVuZ3RoICYmICQuc3VwcG9ydC50cmFuc2l0aW9uKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKVxuICAgICAgdGhpcy5jeWNsZSh0cnVlKVxuICAgIH1cblxuICAgIHRoaXMuaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUoJ25leHQnKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUoJ3ByZXYnKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnNsaWRlID0gZnVuY3Rpb24gKHR5cGUsIG5leHQpIHtcbiAgICB2YXIgJGFjdGl2ZSAgID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKVxuICAgIHZhciAkbmV4dCAgICAgPSBuZXh0IHx8ICRhY3RpdmVbdHlwZV0oKVxuICAgIHZhciBpc0N5Y2xpbmcgPSB0aGlzLmludGVydmFsXG4gICAgdmFyIGRpcmVjdGlvbiA9IHR5cGUgPT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0J1xuICAgIHZhciBmYWxsYmFjayAgPSB0eXBlID09ICduZXh0JyA/ICdmaXJzdCcgOiAnbGFzdCdcbiAgICB2YXIgdGhhdCAgICAgID0gdGhpc1xuXG4gICAgaWYgKCEkbmV4dC5sZW5ndGgpIHtcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLndyYXApIHJldHVyblxuICAgICAgJG5leHQgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtJylbZmFsbGJhY2tdKClcbiAgICB9XG5cbiAgICBpZiAoJG5leHQuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm4gKHRoaXMuc2xpZGluZyA9IGZhbHNlKVxuXG4gICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSAkbmV4dFswXVxuICAgIHZhciBzbGlkZUV2ZW50ID0gJC5FdmVudCgnc2xpZGUuYnMuY2Fyb3VzZWwnLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LFxuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICB9KVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkZUV2ZW50KVxuICAgIGlmIChzbGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuc2xpZGluZyA9IHRydWVcblxuICAgIGlzQ3ljbGluZyAmJiB0aGlzLnBhdXNlKClcblxuICAgIGlmICh0aGlzLiRpbmRpY2F0b3JzLmxlbmd0aCkge1xuICAgICAgdGhpcy4kaW5kaWNhdG9ycy5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB2YXIgJG5leHRJbmRpY2F0b3IgPSAkKHRoaXMuJGluZGljYXRvcnMuY2hpbGRyZW4oKVt0aGlzLmdldEl0ZW1JbmRleCgkbmV4dCldKVxuICAgICAgJG5leHRJbmRpY2F0b3IgJiYgJG5leHRJbmRpY2F0b3IuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgfVxuXG4gICAgdmFyIHNsaWRFdmVudCA9ICQuRXZlbnQoJ3NsaWQuYnMuY2Fyb3VzZWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsIGRpcmVjdGlvbjogZGlyZWN0aW9uIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICBpZiAoJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnc2xpZGUnKSkge1xuICAgICAgJG5leHQuYWRkQ2xhc3ModHlwZSlcbiAgICAgICRuZXh0WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuICAgICAgJGFjdGl2ZS5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAkbmV4dC5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkbmV4dC5yZW1vdmVDbGFzcyhbdHlwZSwgZGlyZWN0aW9uXS5qb2luKCcgJykpLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoWydhY3RpdmUnLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSlcbiAgICAgICAgICB0aGF0LnNsaWRpbmcgPSBmYWxzZVxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICAgICAgICB9LCAwKVxuICAgICAgICB9KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoJGFjdGl2ZS5jc3MoJ3RyYW5zaXRpb24tZHVyYXRpb24nKS5zbGljZSgwLCAtMSkgKiAxMDAwKVxuICAgIH0gZWxzZSB7XG4gICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgJG5leHQuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICB9XG5cbiAgICBpc0N5Y2xpbmcgJiYgdGhpcy5jeWNsZSgpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDQVJPVVNFTCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDYXJvdXNlbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcbiAgICAgIHZhciBhY3Rpb24gID0gdHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJyA/IG9wdGlvbiA6IG9wdGlvbnMuc2xpZGVcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcsIChkYXRhID0gbmV3IENhcm91c2VsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdudW1iZXInKSBkYXRhLnRvKG9wdGlvbilcbiAgICAgIGVsc2UgaWYgKGFjdGlvbikgZGF0YVthY3Rpb25dKClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbnMuaW50ZXJ2YWwpIGRhdGEucGF1c2UoKS5jeWNsZSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmNhcm91c2VsXG5cbiAgJC5mbi5jYXJvdXNlbCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmNhcm91c2VsLkNvbnN0cnVjdG9yID0gQ2Fyb3VzZWxcblxuXG4gIC8vIENBUk9VU0VMIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5jYXJvdXNlbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uY2Fyb3VzZWwgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDQVJPVVNFTCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaScsICdbZGF0YS1zbGlkZV0sIFtkYXRhLXNsaWRlLXRvXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGhyZWZcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgJHRhcmdldCA9ICQoJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSB8fCAoaHJlZiA9ICR0aGlzLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpIC8vIHN0cmlwIGZvciBpZTdcbiAgICBpZiAoISR0YXJnZXQuaGFzQ2xhc3MoJ2Nhcm91c2VsJykpIHJldHVyblxuICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpXG4gICAgdmFyIHNsaWRlSW5kZXggPSAkdGhpcy5hdHRyKCdkYXRhLXNsaWRlLXRvJylcbiAgICBpZiAoc2xpZGVJbmRleCkgb3B0aW9ucy5pbnRlcnZhbCA9IGZhbHNlXG5cbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb25zKVxuXG4gICAgaWYgKHNsaWRlSW5kZXgpIHtcbiAgICAgICR0YXJnZXQuZGF0YSgnYnMuY2Fyb3VzZWwnKS50byhzbGlkZUluZGV4KVxuICAgIH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9KVxuXG4gICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCdbZGF0YS1yaWRlPVwiY2Fyb3VzZWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkY2Fyb3VzZWwgPSAkKHRoaXMpXG4gICAgICBQbHVnaW4uY2FsbCgkY2Fyb3VzZWwsICRjYXJvdXNlbC5kYXRhKCkpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogY29sbGFwc2UuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjb2xsYXBzZVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENPTExBUFNFIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIENvbGxhcHNlID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICAgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgICAgID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCBvcHRpb25zKVxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IG51bGxcblxuICAgIGlmICh0aGlzLm9wdGlvbnMucGFyZW50KSB0aGlzLiRwYXJlbnQgPSAkKHRoaXMub3B0aW9ucy5wYXJlbnQpXG4gICAgaWYgKHRoaXMub3B0aW9ucy50b2dnbGUpIHRoaXMudG9nZ2xlKClcbiAgfVxuXG4gIENvbGxhcHNlLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIENvbGxhcHNlLkRFRkFVTFRTID0ge1xuICAgIHRvZ2dsZTogdHJ1ZVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmRpbWVuc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaGFzV2lkdGggPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCd3aWR0aCcpXG4gICAgcmV0dXJuIGhhc1dpZHRoID8gJ3dpZHRoJyA6ICdoZWlnaHQnXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nIHx8IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdzaG93LmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB2YXIgYWN0aXZlcyA9IHRoaXMuJHBhcmVudCAmJiB0aGlzLiRwYXJlbnQuZmluZCgnPiAucGFuZWwgPiAuaW4nKVxuXG4gICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgIHZhciBoYXNEYXRhID0gYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICBpZiAoaGFzRGF0YSAmJiBoYXNEYXRhLnRyYW5zaXRpb25pbmcpIHJldHVyblxuICAgICAgUGx1Z2luLmNhbGwoYWN0aXZlcywgJ2hpZGUnKVxuICAgICAgaGFzRGF0YSB8fCBhY3RpdmVzLmRhdGEoJ2JzLmNvbGxhcHNlJywgbnVsbClcbiAgICB9XG5cbiAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpXG4gICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVtkaW1lbnNpb25dKDApXG5cbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG5cbiAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UgaW4nKVtkaW1lbnNpb25dKCcnKVxuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAudHJpZ2dlcignc2hvd24uYnMuY29sbGFwc2UnKVxuICAgIH1cblxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXG5cbiAgICB2YXIgc2Nyb2xsU2l6ZSA9ICQuY2FtZWxDYXNlKFsnc2Nyb2xsJywgZGltZW5zaW9uXS5qb2luKCctJykpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzNTApW2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFswXVtzY3JvbGxTaXplXSlcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdoaWRlLmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuXG4gICAgdGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSgpKVswXS5vZmZzZXRIZWlnaHRcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgIC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuXG4gICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAudHJpZ2dlcignaGlkZGVuLmJzLmNvbGxhcHNlJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZScpXG4gICAgfVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuIGNvbXBsZXRlLmNhbGwodGhpcylcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIFtkaW1lbnNpb25dKDApXG4gICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzNTApXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXNbdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSA/ICdoaWRlJyA6ICdzaG93J10oKVxuICB9XG5cblxuICAvLyBDT0xMQVBTRSBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDb2xsYXBzZS5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcblxuICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbnMudG9nZ2xlICYmIG9wdGlvbiA9PSAnc2hvdycpIG9wdGlvbiA9ICFvcHRpb25cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnLCAoZGF0YSA9IG5ldyBDb2xsYXBzZSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uY29sbGFwc2VcblxuICAkLmZuLmNvbGxhcHNlICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uY29sbGFwc2UuQ29uc3RydWN0b3IgPSBDb2xsYXBzZVxuXG5cbiAgLy8gQ09MTEFQU0UgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmNvbGxhcHNlLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5jb2xsYXBzZSA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENPTExBUFNFIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmNvbGxhcHNlLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgaHJlZlxuICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgIHZhciB0YXJnZXQgID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuICAgICAgICB8fCBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgfHwgKGhyZWYgPSAkdGhpcy5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB2YXIgJHRhcmdldCA9ICQodGFyZ2V0KVxuICAgIHZhciBkYXRhICAgID0gJHRhcmdldC5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgdmFyIG9wdGlvbiAgPSBkYXRhID8gJ3RvZ2dsZScgOiAkdGhpcy5kYXRhKClcbiAgICB2YXIgcGFyZW50ICA9ICR0aGlzLmF0dHIoJ2RhdGEtcGFyZW50JylcbiAgICB2YXIgJHBhcmVudCA9IHBhcmVudCAmJiAkKHBhcmVudClcblxuICAgIGlmICghZGF0YSB8fCAhZGF0YS50cmFuc2l0aW9uaW5nKSB7XG4gICAgICBpZiAoJHBhcmVudCkgJHBhcmVudC5maW5kKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXBhcmVudD1cIicgKyBwYXJlbnQgKyAnXCJdJykubm90KCR0aGlzKS5hZGRDbGFzcygnY29sbGFwc2VkJylcbiAgICAgICR0aGlzWyR0YXJnZXQuaGFzQ2xhc3MoJ2luJykgPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10oJ2NvbGxhcHNlZCcpXG4gICAgfVxuXG4gICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9uKVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBkcm9wZG93bi5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2Ryb3Bkb3duc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIERST1BET1dOIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBiYWNrZHJvcCA9ICcuZHJvcGRvd24tYmFja2Ryb3AnXG4gIHZhciB0b2dnbGUgICA9ICdbZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXSdcbiAgdmFyIERyb3Bkb3duID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAkKGVsZW1lbnQpLm9uKCdjbGljay5icy5kcm9wZG93bicsIHRoaXMudG9nZ2xlKVxuICB9XG5cbiAgRHJvcGRvd24uVkVSU0lPTiA9ICczLjIuMCdcblxuICBEcm9wZG93bi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxuXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgY2xlYXJNZW51cygpXG5cbiAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmICEkcGFyZW50LmNsb3Nlc3QoJy5uYXZiYXItbmF2JykubGVuZ3RoKSB7XG4gICAgICAgIC8vIGlmIG1vYmlsZSB3ZSB1c2UgYSBiYWNrZHJvcCBiZWNhdXNlIGNsaWNrIGV2ZW50cyBkb24ndCBkZWxlZ2F0ZVxuICAgICAgICAkKCc8ZGl2IGNsYXNzPVwiZHJvcGRvd24tYmFja2Ryb3BcIi8+JykuaW5zZXJ0QWZ0ZXIoJCh0aGlzKSkub24oJ2NsaWNrJywgY2xlYXJNZW51cylcbiAgICAgIH1cblxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfVxuICAgICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdzaG93LmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldCkpXG5cbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICAgJHRoaXMudHJpZ2dlcignZm9jdXMnKVxuXG4gICAgICAkcGFyZW50XG4gICAgICAgIC50b2dnbGVDbGFzcygnb3BlbicpXG4gICAgICAgIC50cmlnZ2VyKCdzaG93bi5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBEcm9wZG93bi5wcm90b3R5cGUua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCEvKDM4fDQwfDI3KS8udGVzdChlLmtleUNvZGUpKSByZXR1cm5cblxuICAgIHZhciAkdGhpcyA9ICQodGhpcylcblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgIGlmICgkdGhpcy5pcygnLmRpc2FibGVkLCA6ZGlzYWJsZWQnKSkgcmV0dXJuXG5cbiAgICB2YXIgJHBhcmVudCAgPSBnZXRQYXJlbnQoJHRoaXMpXG4gICAgdmFyIGlzQWN0aXZlID0gJHBhcmVudC5oYXNDbGFzcygnb3BlbicpXG5cbiAgICBpZiAoIWlzQWN0aXZlIHx8IChpc0FjdGl2ZSAmJiBlLmtleUNvZGUgPT0gMjcpKSB7XG4gICAgICBpZiAoZS53aGljaCA9PSAyNykgJHBhcmVudC5maW5kKHRvZ2dsZSkudHJpZ2dlcignZm9jdXMnKVxuICAgICAgcmV0dXJuICR0aGlzLnRyaWdnZXIoJ2NsaWNrJylcbiAgICB9XG5cbiAgICB2YXIgZGVzYyA9ICcgbGk6bm90KC5kaXZpZGVyKTp2aXNpYmxlIGEnXG4gICAgdmFyICRpdGVtcyA9ICRwYXJlbnQuZmluZCgnW3JvbGU9XCJtZW51XCJdJyArIGRlc2MgKyAnLCBbcm9sZT1cImxpc3Rib3hcIl0nICsgZGVzYylcblxuICAgIGlmICghJGl0ZW1zLmxlbmd0aCkgcmV0dXJuXG5cbiAgICB2YXIgaW5kZXggPSAkaXRlbXMuaW5kZXgoJGl0ZW1zLmZpbHRlcignOmZvY3VzJykpXG5cbiAgICBpZiAoZS5rZXlDb2RlID09IDM4ICYmIGluZGV4ID4gMCkgICAgICAgICAgICAgICAgIGluZGV4LS0gICAgICAgICAgICAgICAgICAgICAgICAvLyB1cFxuICAgIGlmIChlLmtleUNvZGUgPT0gNDAgJiYgaW5kZXggPCAkaXRlbXMubGVuZ3RoIC0gMSkgaW5kZXgrKyAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvd25cbiAgICBpZiAoIX5pbmRleCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMFxuXG4gICAgJGl0ZW1zLmVxKGluZGV4KS50cmlnZ2VyKCdmb2N1cycpXG4gIH1cblxuICBmdW5jdGlvbiBjbGVhck1lbnVzKGUpIHtcbiAgICBpZiAoZSAmJiBlLndoaWNoID09PSAzKSByZXR1cm5cbiAgICAkKGJhY2tkcm9wKS5yZW1vdmUoKVxuICAgICQodG9nZ2xlKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkcGFyZW50ID0gZ2V0UGFyZW50KCQodGhpcykpXG4gICAgICB2YXIgcmVsYXRlZFRhcmdldCA9IHsgcmVsYXRlZFRhcmdldDogdGhpcyB9XG4gICAgICBpZiAoISRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKSkgcmV0dXJuXG4gICAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ2hpZGUuYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cbiAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ29wZW4nKS50cmlnZ2VyKCdoaWRkZW4uYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBnZXRQYXJlbnQoJHRoaXMpIHtcbiAgICB2YXIgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpXG5cbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiAvI1tBLVphLXpdLy50ZXN0KHNlbGVjdG9yKSAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgIH1cblxuICAgIHZhciAkcGFyZW50ID0gc2VsZWN0b3IgJiYgJChzZWxlY3RvcilcblxuICAgIHJldHVybiAkcGFyZW50ICYmICRwYXJlbnQubGVuZ3RoID8gJHBhcmVudCA6ICR0aGlzLnBhcmVudCgpXG4gIH1cblxuXG4gIC8vIERST1BET1dOIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMuZHJvcGRvd24nKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmRyb3Bkb3duJywgKGRhdGEgPSBuZXcgRHJvcGRvd24odGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5kcm9wZG93blxuXG4gICQuZm4uZHJvcGRvd24gICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5kcm9wZG93bi5Db25zdHJ1Y3RvciA9IERyb3Bkb3duXG5cblxuICAvLyBEUk9QRE9XTiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uZHJvcGRvd24ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmRyb3Bkb3duID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQVBQTFkgVE8gU1RBTkRBUkQgRFJPUERPV04gRUxFTUVOVFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCBjbGVhck1lbnVzKVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCAnLmRyb3Bkb3duIGZvcm0nLCBmdW5jdGlvbiAoZSkgeyBlLnN0b3BQcm9wYWdhdGlvbigpIH0pXG4gICAgLm9uKCdjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaScsIHRvZ2dsZSwgRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZSlcbiAgICAub24oJ2tleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGknLCB0b2dnbGUgKyAnLCBbcm9sZT1cIm1lbnVcIl0sIFtyb2xlPVwibGlzdGJveFwiXScsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiB0YWIuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0YWJzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gVEFCIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgVGFiID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSAkKGVsZW1lbnQpXG4gIH1cblxuICBUYWIuVkVSU0lPTiA9ICczLjIuMCdcblxuICBUYWIucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aGlzICAgID0gdGhpcy5lbGVtZW50XG4gICAgdmFyICR1bCAgICAgID0gJHRoaXMuY2xvc2VzdCgndWw6bm90KC5kcm9wZG93bi1tZW51KScpXG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuZGF0YSgndGFyZ2V0JylcblxuICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIHNlbGVjdG9yID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgICBzZWxlY3RvciA9IHNlbGVjdG9yICYmIHNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgfVxuXG4gICAgaWYgKCR0aGlzLnBhcmVudCgnbGknKS5oYXNDbGFzcygnYWN0aXZlJykpIHJldHVyblxuXG4gICAgdmFyIHByZXZpb3VzID0gJHVsLmZpbmQoJy5hY3RpdmU6bGFzdCBhJylbMF1cbiAgICB2YXIgZSAgICAgICAgPSAkLkV2ZW50KCdzaG93LmJzLnRhYicsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6IHByZXZpb3VzXG4gICAgfSlcblxuICAgICR0aGlzLnRyaWdnZXIoZSlcblxuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHZhciAkdGFyZ2V0ID0gJChzZWxlY3RvcilcblxuICAgIHRoaXMuYWN0aXZhdGUoJHRoaXMuY2xvc2VzdCgnbGknKSwgJHVsKVxuICAgIHRoaXMuYWN0aXZhdGUoJHRhcmdldCwgJHRhcmdldC5wYXJlbnQoKSwgZnVuY3Rpb24gKCkge1xuICAgICAgJHRoaXMudHJpZ2dlcih7XG4gICAgICAgIHR5cGU6ICdzaG93bi5icy50YWInLFxuICAgICAgICByZWxhdGVkVGFyZ2V0OiBwcmV2aW91c1xuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgVGFiLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyICRhY3RpdmUgICAgPSBjb250YWluZXIuZmluZCgnPiAuYWN0aXZlJylcbiAgICB2YXIgdHJhbnNpdGlvbiA9IGNhbGxiYWNrXG4gICAgICAmJiAkLnN1cHBvcnQudHJhbnNpdGlvblxuICAgICAgJiYgJGFjdGl2ZS5oYXNDbGFzcygnZmFkZScpXG5cbiAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgJGFjdGl2ZVxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgIC5maW5kKCc+IC5kcm9wZG93bi1tZW51ID4gLmFjdGl2ZScpXG4gICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcblxuICAgICAgZWxlbWVudC5hZGRDbGFzcygnYWN0aXZlJylcblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgZWxlbWVudFswXS5vZmZzZXRXaWR0aCAvLyByZWZsb3cgZm9yIHRyYW5zaXRpb25cbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnaW4nKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnZmFkZScpXG4gICAgICB9XG5cbiAgICAgIGlmIChlbGVtZW50LnBhcmVudCgnLmRyb3Bkb3duLW1lbnUnKSkge1xuICAgICAgICBlbGVtZW50LmNsb3Nlc3QoJ2xpLmRyb3Bkb3duJykuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbiAgICB9XG5cbiAgICB0cmFuc2l0aW9uID9cbiAgICAgICRhY3RpdmVcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgbmV4dClcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxuICAgICAgbmV4dCgpXG5cbiAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdpbicpXG4gIH1cblxuXG4gIC8vIFRBQiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy50YWInKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnRhYicsIChkYXRhID0gbmV3IFRhYih0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4udGFiXG5cbiAgJC5mbi50YWIgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi50YWIuQ29uc3RydWN0b3IgPSBUYWJcblxuXG4gIC8vIFRBQiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT1cblxuICAkLmZuLnRhYi5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4udGFiID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gVEFCIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy50YWIuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwidGFiXCJdLCBbZGF0YS10b2dnbGU9XCJwaWxsXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBQbHVnaW4uY2FsbCgkKHRoaXMpLCAnc2hvdycpXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHRyYW5zaXRpb24uanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0cmFuc2l0aW9uc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENTUyBUUkFOU0lUSU9OIFNVUFBPUlQgKFNob3V0b3V0OiBodHRwOi8vd3d3Lm1vZGVybml6ci5jb20vKVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKCkge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Jvb3RzdHJhcCcpXG5cbiAgICB2YXIgdHJhbnNFbmRFdmVudE5hbWVzID0ge1xuICAgICAgV2Via2l0VHJhbnNpdGlvbiA6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcbiAgICAgIE1velRyYW5zaXRpb24gICAgOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgICBPVHJhbnNpdGlvbiAgICAgIDogJ29UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kJyxcbiAgICAgIHRyYW5zaXRpb24gICAgICAgOiAndHJhbnNpdGlvbmVuZCdcbiAgICB9XG5cbiAgICBmb3IgKHZhciBuYW1lIGluIHRyYW5zRW5kRXZlbnROYW1lcykge1xuICAgICAgaWYgKGVsLnN0eWxlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgZW5kOiB0cmFuc0VuZEV2ZW50TmFtZXNbbmFtZV0gfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZSAvLyBleHBsaWNpdCBmb3IgaWU4ICggIC5fLilcbiAgfVxuXG4gIC8vIGh0dHA6Ly9ibG9nLmFsZXhtYWNjYXcuY29tL2Nzcy10cmFuc2l0aW9uc1xuICAkLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gKGR1cmF0aW9uKSB7XG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlXG4gICAgdmFyICRlbCA9IHRoaXNcbiAgICAkKHRoaXMpLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkgeyBjYWxsZWQgPSB0cnVlIH0pXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBpZiAoIWNhbGxlZCkgJCgkZWwpLnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSB9XG4gICAgc2V0VGltZW91dChjYWxsYmFjaywgZHVyYXRpb24pXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gICQoZnVuY3Rpb24gKCkge1xuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkVuZCgpXG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm5cblxuICAgICQuZXZlbnQuc3BlY2lhbC5ic1RyYW5zaXRpb25FbmQgPSB7XG4gICAgICBiaW5kVHlwZTogJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLFxuICAgICAgZGVsZWdhdGVUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICBoYW5kbGU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICgkKGUudGFyZ2V0KS5pcyh0aGlzKSkgcmV0dXJuIGUuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogc2Nyb2xsc3B5LmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jc2Nyb2xsc3B5XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gU0NST0xMU1BZIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBTY3JvbGxTcHkoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHZhciBwcm9jZXNzICA9ICQucHJveHkodGhpcy5wcm9jZXNzLCB0aGlzKVxuXG4gICAgdGhpcy4kYm9keSAgICAgICAgICA9ICQoJ2JvZHknKVxuICAgIHRoaXMuJHNjcm9sbEVsZW1lbnQgPSAkKGVsZW1lbnQpLmlzKCdib2R5JykgPyAkKHdpbmRvdykgOiAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgICAgICA9ICQuZXh0ZW5kKHt9LCBTY3JvbGxTcHkuREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy5zZWxlY3RvciAgICAgICA9ICh0aGlzLm9wdGlvbnMudGFyZ2V0IHx8ICcnKSArICcgLm5hdiBsaSA+IGEnXG4gICAgdGhpcy5vZmZzZXRzICAgICAgICA9IFtdXG4gICAgdGhpcy50YXJnZXRzICAgICAgICA9IFtdXG4gICAgdGhpcy5hY3RpdmVUYXJnZXQgICA9IG51bGxcbiAgICB0aGlzLnNjcm9sbEhlaWdodCAgID0gMFxuXG4gICAgdGhpcy4kc2Nyb2xsRWxlbWVudC5vbignc2Nyb2xsLmJzLnNjcm9sbHNweScsIHByb2Nlc3MpXG4gICAgdGhpcy5yZWZyZXNoKClcbiAgICB0aGlzLnByb2Nlc3MoKVxuICB9XG5cbiAgU2Nyb2xsU3B5LlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIFNjcm9sbFNweS5ERUZBVUxUUyA9IHtcbiAgICBvZmZzZXQ6IDEwXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLmdldFNjcm9sbEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy4kc2Nyb2xsRWxlbWVudFswXS5zY3JvbGxIZWlnaHQgfHwgTWF0aC5tYXgodGhpcy4kYm9keVswXS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9mZnNldE1ldGhvZCA9ICdvZmZzZXQnXG4gICAgdmFyIG9mZnNldEJhc2UgICA9IDBcblxuICAgIGlmICghJC5pc1dpbmRvdyh0aGlzLiRzY3JvbGxFbGVtZW50WzBdKSkge1xuICAgICAgb2Zmc2V0TWV0aG9kID0gJ3Bvc2l0aW9uJ1xuICAgICAgb2Zmc2V0QmFzZSAgID0gdGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKVxuICAgIH1cblxuICAgIHRoaXMub2Zmc2V0cyA9IFtdXG4gICAgdGhpcy50YXJnZXRzID0gW11cbiAgICB0aGlzLnNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KClcblxuICAgIHZhciBzZWxmICAgICA9IHRoaXNcblxuICAgIHRoaXMuJGJvZHlcbiAgICAgIC5maW5kKHRoaXMuc2VsZWN0b3IpXG4gICAgICAubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRlbCAgID0gJCh0aGlzKVxuICAgICAgICB2YXIgaHJlZiAgPSAkZWwuZGF0YSgndGFyZ2V0JykgfHwgJGVsLmF0dHIoJ2hyZWYnKVxuICAgICAgICB2YXIgJGhyZWYgPSAvXiMuLy50ZXN0KGhyZWYpICYmICQoaHJlZilcblxuICAgICAgICByZXR1cm4gKCRocmVmXG4gICAgICAgICAgJiYgJGhyZWYubGVuZ3RoXG4gICAgICAgICAgJiYgJGhyZWYuaXMoJzp2aXNpYmxlJylcbiAgICAgICAgICAmJiBbWyRocmVmW29mZnNldE1ldGhvZF0oKS50b3AgKyBvZmZzZXRCYXNlLCBocmVmXV0pIHx8IG51bGxcbiAgICAgIH0pXG4gICAgICAuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYVswXSAtIGJbMF0gfSlcbiAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5vZmZzZXRzLnB1c2godGhpc1swXSlcbiAgICAgICAgc2VsZi50YXJnZXRzLnB1c2godGhpc1sxXSlcbiAgICAgIH0pXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNjcm9sbFRvcCAgICA9IHRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKCkgKyB0aGlzLm9wdGlvbnMub2Zmc2V0XG4gICAgdmFyIHNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KClcbiAgICB2YXIgbWF4U2Nyb2xsICAgID0gdGhpcy5vcHRpb25zLm9mZnNldCArIHNjcm9sbEhlaWdodCAtIHRoaXMuJHNjcm9sbEVsZW1lbnQuaGVpZ2h0KClcbiAgICB2YXIgb2Zmc2V0cyAgICAgID0gdGhpcy5vZmZzZXRzXG4gICAgdmFyIHRhcmdldHMgICAgICA9IHRoaXMudGFyZ2V0c1xuICAgIHZhciBhY3RpdmVUYXJnZXQgPSB0aGlzLmFjdGl2ZVRhcmdldFxuICAgIHZhciBpXG5cbiAgICBpZiAodGhpcy5zY3JvbGxIZWlnaHQgIT0gc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICB0aGlzLnJlZnJlc2goKVxuICAgIH1cblxuICAgIGlmIChzY3JvbGxUb3AgPj0gbWF4U2Nyb2xsKSB7XG4gICAgICByZXR1cm4gYWN0aXZlVGFyZ2V0ICE9IChpID0gdGFyZ2V0c1t0YXJnZXRzLmxlbmd0aCAtIDFdKSAmJiB0aGlzLmFjdGl2YXRlKGkpXG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZVRhcmdldCAmJiBzY3JvbGxUb3AgPD0gb2Zmc2V0c1swXSkge1xuICAgICAgcmV0dXJuIGFjdGl2ZVRhcmdldCAhPSAoaSA9IHRhcmdldHNbMF0pICYmIHRoaXMuYWN0aXZhdGUoaSlcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXRzLmxlbmd0aDsgaS0tOykge1xuICAgICAgYWN0aXZlVGFyZ2V0ICE9IHRhcmdldHNbaV1cbiAgICAgICAgJiYgc2Nyb2xsVG9wID49IG9mZnNldHNbaV1cbiAgICAgICAgJiYgKCFvZmZzZXRzW2kgKyAxXSB8fCBzY3JvbGxUb3AgPD0gb2Zmc2V0c1tpICsgMV0pXG4gICAgICAgICYmIHRoaXMuYWN0aXZhdGUodGFyZ2V0c1tpXSlcbiAgICB9XG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHRoaXMuYWN0aXZlVGFyZ2V0ID0gdGFyZ2V0XG5cbiAgICAkKHRoaXMuc2VsZWN0b3IpXG4gICAgICAucGFyZW50c1VudGlsKHRoaXMub3B0aW9ucy50YXJnZXQsICcuYWN0aXZlJylcbiAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcblxuICAgIHZhciBzZWxlY3RvciA9IHRoaXMuc2VsZWN0b3IgK1xuICAgICAgICAnW2RhdGEtdGFyZ2V0PVwiJyArIHRhcmdldCArICdcIl0sJyArXG4gICAgICAgIHRoaXMuc2VsZWN0b3IgKyAnW2hyZWY9XCInICsgdGFyZ2V0ICsgJ1wiXSdcblxuICAgIHZhciBhY3RpdmUgPSAkKHNlbGVjdG9yKVxuICAgICAgLnBhcmVudHMoJ2xpJylcbiAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcblxuICAgIGlmIChhY3RpdmUucGFyZW50KCcuZHJvcGRvd24tbWVudScpLmxlbmd0aCkge1xuICAgICAgYWN0aXZlID0gYWN0aXZlXG4gICAgICAgIC5jbG9zZXN0KCdsaS5kcm9wZG93bicpXG4gICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICB9XG5cbiAgICBhY3RpdmUudHJpZ2dlcignYWN0aXZhdGUuYnMuc2Nyb2xsc3B5JylcbiAgfVxuXG5cbiAgLy8gU0NST0xMU1BZIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5zY3JvbGxzcHknKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnNjcm9sbHNweScsIChkYXRhID0gbmV3IFNjcm9sbFNweSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uc2Nyb2xsc3B5XG5cbiAgJC5mbi5zY3JvbGxzcHkgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5zY3JvbGxzcHkuQ29uc3RydWN0b3IgPSBTY3JvbGxTcHlcblxuXG4gIC8vIFNDUk9MTFNQWSBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnNjcm9sbHNweS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uc2Nyb2xsc3B5ID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gU0NST0xMU1BZIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICQod2luZG93KS5vbignbG9hZC5icy5zY3JvbGxzcHkuZGF0YS1hcGknLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtc3B5PVwic2Nyb2xsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHNweSA9ICQodGhpcylcbiAgICAgIFBsdWdpbi5jYWxsKCRzcHksICRzcHkuZGF0YSgpKVxuICAgIH0pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IG1vZGFsLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jbW9kYWxzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gTU9EQUwgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIE1vZGFsID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgICAgICAgID0gb3B0aW9uc1xuICAgIHRoaXMuJGJvZHkgICAgICAgICAgPSAkKGRvY3VtZW50LmJvZHkpXG4gICAgdGhpcy4kZWxlbWVudCAgICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLiRiYWNrZHJvcCAgICAgID1cbiAgICB0aGlzLmlzU2hvd24gICAgICAgID0gbnVsbFxuICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggPSAwXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnJlbW90ZSkge1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAuZmluZCgnLm1vZGFsLWNvbnRlbnQnKVxuICAgICAgICAubG9hZCh0aGlzLm9wdGlvbnMucmVtb3RlLCAkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2xvYWRlZC5icy5tb2RhbCcpXG4gICAgICAgIH0sIHRoaXMpKVxuICAgIH1cbiAgfVxuXG4gIE1vZGFsLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIE1vZGFsLkRFRkFVTFRTID0ge1xuICAgIGJhY2tkcm9wOiB0cnVlLFxuICAgIGtleWJvYXJkOiB0cnVlLFxuICAgIHNob3c6IHRydWVcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5pc1Nob3duID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3coX3JlbGF0ZWRUYXJnZXQpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIChfcmVsYXRlZFRhcmdldCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciBlICAgID0gJC5FdmVudCgnc2hvdy5icy5tb2RhbCcsIHsgcmVsYXRlZFRhcmdldDogX3JlbGF0ZWRUYXJnZXQgfSlcblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKHRoaXMuaXNTaG93biB8fCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuaXNTaG93biA9IHRydWVcblxuICAgIHRoaXMuY2hlY2tTY3JvbGxiYXIoKVxuICAgIHRoaXMuJGJvZHkuYWRkQ2xhc3MoJ21vZGFsLW9wZW4nKVxuXG4gICAgdGhpcy5zZXRTY3JvbGxiYXIoKVxuICAgIHRoaXMuZXNjYXBlKClcblxuICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnLCAnW2RhdGEtZGlzbWlzcz1cIm1vZGFsXCJdJywgJC5wcm94eSh0aGlzLmhpZGUsIHRoaXMpKVxuXG4gICAgdGhpcy5iYWNrZHJvcChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdHJhbnNpdGlvbiA9ICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoYXQuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgICBpZiAoIXRoYXQuJGVsZW1lbnQucGFyZW50KCkubGVuZ3RoKSB7XG4gICAgICAgIHRoYXQuJGVsZW1lbnQuYXBwZW5kVG8odGhhdC4kYm9keSkgLy8gZG9uJ3QgbW92ZSBtb2RhbHMgZG9tIHBvc2l0aW9uXG4gICAgICB9XG5cbiAgICAgIHRoYXQuJGVsZW1lbnRcbiAgICAgICAgLnNob3coKVxuICAgICAgICAuc2Nyb2xsVG9wKDApXG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIHRoYXQuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG4gICAgICB9XG5cbiAgICAgIHRoYXQuJGVsZW1lbnRcbiAgICAgICAgLmFkZENsYXNzKCdpbicpXG4gICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsIGZhbHNlKVxuXG4gICAgICB0aGF0LmVuZm9yY2VGb2N1cygpXG5cbiAgICAgIHZhciBlID0gJC5FdmVudCgnc2hvd24uYnMubW9kYWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IF9yZWxhdGVkVGFyZ2V0IH0pXG5cbiAgICAgIHRyYW5zaXRpb24gP1xuICAgICAgICB0aGF0LiRlbGVtZW50LmZpbmQoJy5tb2RhbC1kaWFsb2cnKSAvLyB3YWl0IGZvciBtb2RhbCB0byBzbGlkZSBpblxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKS50cmlnZ2VyKGUpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzAwKSA6XG4gICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKS50cmlnZ2VyKGUpXG4gICAgfSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBlID0gJC5FdmVudCgnaGlkZS5icy5tb2RhbCcpXG5cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgIGlmICghdGhpcy5pc1Nob3duIHx8IGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5pc1Nob3duID0gZmFsc2VcblxuICAgIHRoaXMuJGJvZHkucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW4nKVxuXG4gICAgdGhpcy5yZXNldFNjcm9sbGJhcigpXG4gICAgdGhpcy5lc2NhcGUoKVxuXG4gICAgJChkb2N1bWVudCkub2ZmKCdmb2N1c2luLmJzLm1vZGFsJylcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcygnaW4nKVxuICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSlcbiAgICAgIC5vZmYoJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnKVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eSh0aGlzLmhpZGVNb2RhbCwgdGhpcykpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzMDApIDpcbiAgICAgIHRoaXMuaGlkZU1vZGFsKClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5lbmZvcmNlRm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgJChkb2N1bWVudClcbiAgICAgIC5vZmYoJ2ZvY3VzaW4uYnMubW9kYWwnKSAvLyBndWFyZCBhZ2FpbnN0IGluZmluaXRlIGZvY3VzIGxvb3BcbiAgICAgIC5vbignZm9jdXNpbi5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuJGVsZW1lbnRbMF0gIT09IGUudGFyZ2V0ICYmICF0aGlzLiRlbGVtZW50LmhhcyhlLnRhcmdldCkubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdmb2N1cycpXG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmVzY2FwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5pc1Nob3duICYmIHRoaXMub3B0aW9ucy5rZXlib2FyZCkge1xuICAgICAgdGhpcy4kZWxlbWVudC5vbigna2V5dXAuZGlzbWlzcy5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS53aGljaCA9PSAyNyAmJiB0aGlzLmhpZGUoKVxuICAgICAgfSwgdGhpcykpXG4gICAgfSBlbHNlIGlmICghdGhpcy5pc1Nob3duKSB7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9mZigna2V5dXAuZGlzbWlzcy5icy5tb2RhbCcpXG4gICAgfVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmhpZGVNb2RhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB0aGlzLiRlbGVtZW50LmhpZGUoKVxuICAgIHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24gKCkge1xuICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdoaWRkZW4uYnMubW9kYWwnKVxuICAgIH0pXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUucmVtb3ZlQmFja2Ryb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy4kYmFja2Ryb3AgJiYgdGhpcy4kYmFja2Ryb3AucmVtb3ZlKClcbiAgICB0aGlzLiRiYWNrZHJvcCA9IG51bGxcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5iYWNrZHJvcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciBhbmltYXRlID0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID8gJ2ZhZGUnIDogJydcblxuICAgIGlmICh0aGlzLmlzU2hvd24gJiYgdGhpcy5vcHRpb25zLmJhY2tkcm9wKSB7XG4gICAgICB2YXIgZG9BbmltYXRlID0gJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgYW5pbWF0ZVxuXG4gICAgICB0aGlzLiRiYWNrZHJvcCA9ICQoJzxkaXYgY2xhc3M9XCJtb2RhbC1iYWNrZHJvcCAnICsgYW5pbWF0ZSArICdcIiAvPicpXG4gICAgICAgIC5hcHBlbmRUbyh0aGlzLiRib2R5KVxuXG4gICAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS50YXJnZXQgIT09IGUuY3VycmVudFRhcmdldCkgcmV0dXJuXG4gICAgICAgIHRoaXMub3B0aW9ucy5iYWNrZHJvcCA9PSAnc3RhdGljJ1xuICAgICAgICAgID8gdGhpcy4kZWxlbWVudFswXS5mb2N1cy5jYWxsKHRoaXMuJGVsZW1lbnRbMF0pXG4gICAgICAgICAgOiB0aGlzLmhpZGUuY2FsbCh0aGlzKVxuICAgICAgfSwgdGhpcykpXG5cbiAgICAgIGlmIChkb0FuaW1hdGUpIHRoaXMuJGJhY2tkcm9wWzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuXG4gICAgICB0aGlzLiRiYWNrZHJvcC5hZGRDbGFzcygnaW4nKVxuXG4gICAgICBpZiAoIWNhbGxiYWNrKSByZXR1cm5cblxuICAgICAgZG9BbmltYXRlID9cbiAgICAgICAgdGhpcy4kYmFja2Ryb3BcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjYWxsYmFjaylcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICAgIGNhbGxiYWNrKClcblxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTaG93biAmJiB0aGlzLiRiYWNrZHJvcCkge1xuICAgICAgdGhpcy4kYmFja2Ryb3AucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgICAgdmFyIGNhbGxiYWNrUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGF0LnJlbW92ZUJhY2tkcm9wKClcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgICAgfVxuICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICAgdGhpcy4kYmFja2Ryb3BcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjYWxsYmFja1JlbW92ZSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICAgIGNhbGxiYWNrUmVtb3ZlKClcblxuICAgIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKClcbiAgICB9XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuY2hlY2tTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggPj0gd2luZG93LmlubmVyV2lkdGgpIHJldHVyblxuICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggPSB0aGlzLnNjcm9sbGJhcldpZHRoIHx8IHRoaXMubWVhc3VyZVNjcm9sbGJhcigpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuc2V0U2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBib2R5UGFkID0gcGFyc2VJbnQoKHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JykgfHwgMCksIDEwKVxuICAgIGlmICh0aGlzLnNjcm9sbGJhcldpZHRoKSB0aGlzLiRib2R5LmNzcygncGFkZGluZy1yaWdodCcsIGJvZHlQYWQgKyB0aGlzLnNjcm9sbGJhcldpZHRoKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnJlc2V0U2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgJycpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUubWVhc3VyZVNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHsgLy8gdGh4IHdhbHNoXG4gICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgc2Nyb2xsRGl2LmNsYXNzTmFtZSA9ICdtb2RhbC1zY3JvbGxiYXItbWVhc3VyZSdcbiAgICB0aGlzLiRib2R5LmFwcGVuZChzY3JvbGxEaXYpXG4gICAgdmFyIHNjcm9sbGJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoXG4gICAgdGhpcy4kYm9keVswXS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpXG4gICAgcmV0dXJuIHNjcm9sbGJhcldpZHRoXG4gIH1cblxuXG4gIC8vIE1PREFMIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbiwgX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5tb2RhbCcpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBNb2RhbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5tb2RhbCcsIChkYXRhID0gbmV3IE1vZGFsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oX3JlbGF0ZWRUYXJnZXQpXG4gICAgICBlbHNlIGlmIChvcHRpb25zLnNob3cpIGRhdGEuc2hvdyhfcmVsYXRlZFRhcmdldClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4ubW9kYWxcblxuICAkLmZuLm1vZGFsICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4ubW9kYWwuQ29uc3RydWN0b3IgPSBNb2RhbFxuXG5cbiAgLy8gTU9EQUwgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLm1vZGFsLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5tb2RhbCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIE1PREFMIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLm1vZGFsLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cIm1vZGFsXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgaHJlZiAgICA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgIHZhciAkdGFyZ2V0ID0gJCgkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpIHx8IChocmVmICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpKSkgLy8gc3RyaXAgZm9yIGllN1xuICAgIHZhciBvcHRpb24gID0gJHRhcmdldC5kYXRhKCdicy5tb2RhbCcpID8gJ3RvZ2dsZScgOiAkLmV4dGVuZCh7IHJlbW90ZTogIS8jLy50ZXN0KGhyZWYpICYmIGhyZWYgfSwgJHRhcmdldC5kYXRhKCksICR0aGlzLmRhdGEoKSlcblxuICAgIGlmICgkdGhpcy5pcygnYScpKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICR0YXJnZXQub25lKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKHNob3dFdmVudCkge1xuICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuIC8vIG9ubHkgcmVnaXN0ZXIgZm9jdXMgcmVzdG9yZXIgaWYgbW9kYWwgd2lsbCBhY3R1YWxseSBnZXQgc2hvd25cbiAgICAgICR0YXJnZXQub25lKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICR0aGlzLmlzKCc6dmlzaWJsZScpICYmICR0aGlzLnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgIH0pXG4gICAgfSlcbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb24sIHRoaXMpXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHRvb2x0aXAuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0b29sdGlwXG4gKiBJbnNwaXJlZCBieSB0aGUgb3JpZ2luYWwgalF1ZXJ5LnRpcHN5IGJ5IEphc29uIEZyYW1lXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gVE9PTFRJUCBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIFRvb2x0aXAgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMudHlwZSAgICAgICA9XG4gICAgdGhpcy5vcHRpb25zICAgID1cbiAgICB0aGlzLmVuYWJsZWQgICAgPVxuICAgIHRoaXMudGltZW91dCAgICA9XG4gICAgdGhpcy5ob3ZlclN0YXRlID1cbiAgICB0aGlzLiRlbGVtZW50ICAgPSBudWxsXG5cbiAgICB0aGlzLmluaXQoJ3Rvb2x0aXAnLCBlbGVtZW50LCBvcHRpb25zKVxuICB9XG5cbiAgVG9vbHRpcC5WRVJTSU9OICA9ICczLjIuMCdcblxuICBUb29sdGlwLkRFRkFVTFRTID0ge1xuICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuICAgIHNlbGVjdG9yOiBmYWxzZSxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJ0b29sdGlwXCIgcm9sZT1cInRvb2x0aXBcIj48ZGl2IGNsYXNzPVwidG9vbHRpcC1hcnJvd1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJ0b29sdGlwLWlubmVyXCI+PC9kaXY+PC9kaXY+JyxcbiAgICB0cmlnZ2VyOiAnaG92ZXIgZm9jdXMnLFxuICAgIHRpdGxlOiAnJyxcbiAgICBkZWxheTogMCxcbiAgICBodG1sOiBmYWxzZSxcbiAgICBjb250YWluZXI6IGZhbHNlLFxuICAgIHZpZXdwb3J0OiB7XG4gICAgICBzZWxlY3RvcjogJ2JvZHknLFxuICAgICAgcGFkZGluZzogMFxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAodHlwZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuZW5hYmxlZCAgID0gdHJ1ZVxuICAgIHRoaXMudHlwZSAgICAgID0gdHlwZVxuICAgIHRoaXMuJGVsZW1lbnQgID0gJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgID0gdGhpcy5nZXRPcHRpb25zKG9wdGlvbnMpXG4gICAgdGhpcy4kdmlld3BvcnQgPSB0aGlzLm9wdGlvbnMudmlld3BvcnQgJiYgJCh0aGlzLm9wdGlvbnMudmlld3BvcnQuc2VsZWN0b3IgfHwgdGhpcy5vcHRpb25zLnZpZXdwb3J0KVxuXG4gICAgdmFyIHRyaWdnZXJzID0gdGhpcy5vcHRpb25zLnRyaWdnZXIuc3BsaXQoJyAnKVxuXG4gICAgZm9yICh2YXIgaSA9IHRyaWdnZXJzLmxlbmd0aDsgaS0tOykge1xuICAgICAgdmFyIHRyaWdnZXIgPSB0cmlnZ2Vyc1tpXVxuXG4gICAgICBpZiAodHJpZ2dlciA9PSAnY2xpY2snKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLnRvZ2dsZSwgdGhpcykpXG4gICAgICB9IGVsc2UgaWYgKHRyaWdnZXIgIT0gJ21hbnVhbCcpIHtcbiAgICAgICAgdmFyIGV2ZW50SW4gID0gdHJpZ2dlciA9PSAnaG92ZXInID8gJ21vdXNlZW50ZXInIDogJ2ZvY3VzaW4nXG4gICAgICAgIHZhciBldmVudE91dCA9IHRyaWdnZXIgPT0gJ2hvdmVyJyA/ICdtb3VzZWxlYXZlJyA6ICdmb2N1c291dCdcblxuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKGV2ZW50SW4gICsgJy4nICsgdGhpcy50eXBlLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy5lbnRlciwgdGhpcykpXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oZXZlbnRPdXQgKyAnLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLmxlYXZlLCB0aGlzKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMuc2VsZWN0b3IgP1xuICAgICAgKHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCB7IHRyaWdnZXI6ICdtYW51YWwnLCBzZWxlY3RvcjogJycgfSkpIDpcbiAgICAgIHRoaXMuZml4VGl0bGUoKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFRvb2x0aXAuREVGQVVMVFNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5nZXREZWZhdWx0cygpLCB0aGlzLiRlbGVtZW50LmRhdGEoKSwgb3B0aW9ucylcblxuICAgIGlmIChvcHRpb25zLmRlbGF5ICYmIHR5cGVvZiBvcHRpb25zLmRlbGF5ID09ICdudW1iZXInKSB7XG4gICAgICBvcHRpb25zLmRlbGF5ID0ge1xuICAgICAgICBzaG93OiBvcHRpb25zLmRlbGF5LFxuICAgICAgICBoaWRlOiBvcHRpb25zLmRlbGF5XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9wdGlvbnNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldERlbGVnYXRlT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb3B0aW9ucyAgPSB7fVxuICAgIHZhciBkZWZhdWx0cyA9IHRoaXMuZ2V0RGVmYXVsdHMoKVxuXG4gICAgdGhpcy5fb3B0aW9ucyAmJiAkLmVhY2godGhpcy5fb3B0aW9ucywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChkZWZhdWx0c1trZXldICE9IHZhbHVlKSBvcHRpb25zW2tleV0gPSB2YWx1ZVxuICAgIH0pXG5cbiAgICByZXR1cm4gb3B0aW9uc1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZW50ZXIgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIHNlbGYgPSBvYmogaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yID9cbiAgICAgIG9iaiA6ICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAoIXNlbGYpIHtcbiAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihvYmouY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcbiAgICAgICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHNlbGYpXG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dClcblxuICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdpbidcblxuICAgIGlmICghc2VsZi5vcHRpb25zLmRlbGF5IHx8ICFzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdykgcmV0dXJuIHNlbGYuc2hvdygpXG5cbiAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZWxmLmhvdmVyU3RhdGUgPT0gJ2luJykgc2VsZi5zaG93KClcbiAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmxlYXZlID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBzZWxmID0gb2JqIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvciA/XG4gICAgICBvYmogOiAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuXG4gICAgaWYgKCFzZWxmKSB7XG4gICAgICBzZWxmID0gbmV3IHRoaXMuY29uc3RydWN0b3Iob2JqLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgIH1cblxuICAgIGNsZWFyVGltZW91dChzZWxmLnRpbWVvdXQpXG5cbiAgICBzZWxmLmhvdmVyU3RhdGUgPSAnb3V0J1xuXG4gICAgaWYgKCFzZWxmLm9wdGlvbnMuZGVsYXkgfHwgIXNlbGYub3B0aW9ucy5kZWxheS5oaWRlKSByZXR1cm4gc2VsZi5oaWRlKClcblxuICAgIHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNlbGYuaG92ZXJTdGF0ZSA9PSAnb3V0Jykgc2VsZi5oaWRlKClcbiAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuaGlkZSlcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGUgPSAkLkV2ZW50KCdzaG93LmJzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAodGhpcy5oYXNDb250ZW50KCkgJiYgdGhpcy5lbmFibGVkKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgICAgdmFyIGluRG9tID0gJC5jb250YWlucyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHRoaXMuJGVsZW1lbnRbMF0pXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAhaW5Eb20pIHJldHVyblxuICAgICAgdmFyIHRoYXQgPSB0aGlzXG5cbiAgICAgIHZhciAkdGlwID0gdGhpcy50aXAoKVxuXG4gICAgICB2YXIgdGlwSWQgPSB0aGlzLmdldFVJRCh0aGlzLnR5cGUpXG5cbiAgICAgIHRoaXMuc2V0Q29udGVudCgpXG4gICAgICAkdGlwLmF0dHIoJ2lkJywgdGlwSWQpXG4gICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknLCB0aXBJZClcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pICR0aXAuYWRkQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgICB2YXIgcGxhY2VtZW50ID0gdHlwZW9mIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQgPT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQuY2FsbCh0aGlzLCAkdGlwWzBdLCB0aGlzLiRlbGVtZW50WzBdKSA6XG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnRcblxuICAgICAgdmFyIGF1dG9Ub2tlbiA9IC9cXHM/YXV0bz9cXHM/L2lcbiAgICAgIHZhciBhdXRvUGxhY2UgPSBhdXRvVG9rZW4udGVzdChwbGFjZW1lbnQpXG4gICAgICBpZiAoYXV0b1BsYWNlKSBwbGFjZW1lbnQgPSBwbGFjZW1lbnQucmVwbGFjZShhdXRvVG9rZW4sICcnKSB8fCAndG9wJ1xuXG4gICAgICAkdGlwXG4gICAgICAgIC5kZXRhY2goKVxuICAgICAgICAuY3NzKHsgdG9wOiAwLCBsZWZ0OiAwLCBkaXNwbGF5OiAnYmxvY2snIH0pXG4gICAgICAgIC5hZGRDbGFzcyhwbGFjZW1lbnQpXG4gICAgICAgIC5kYXRhKCdicy4nICsgdGhpcy50eXBlLCB0aGlzKVxuXG4gICAgICB0aGlzLm9wdGlvbnMuY29udGFpbmVyID8gJHRpcC5hcHBlbmRUbyh0aGlzLm9wdGlvbnMuY29udGFpbmVyKSA6ICR0aXAuaW5zZXJ0QWZ0ZXIodGhpcy4kZWxlbWVudClcblxuICAgICAgdmFyIHBvcyAgICAgICAgICA9IHRoaXMuZ2V0UG9zaXRpb24oKVxuICAgICAgdmFyIGFjdHVhbFdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcbiAgICAgIHZhciBhY3R1YWxIZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgICBpZiAoYXV0b1BsYWNlKSB7XG4gICAgICAgIHZhciBvcmdQbGFjZW1lbnQgPSBwbGFjZW1lbnRcbiAgICAgICAgdmFyICRwYXJlbnQgICAgICA9IHRoaXMuJGVsZW1lbnQucGFyZW50KClcbiAgICAgICAgdmFyIHBhcmVudERpbSAgICA9IHRoaXMuZ2V0UG9zaXRpb24oJHBhcmVudClcblxuICAgICAgICBwbGFjZW1lbnQgPSBwbGFjZW1lbnQgPT0gJ2JvdHRvbScgJiYgcG9zLnRvcCAgICsgcG9zLmhlaWdodCAgICAgICArIGFjdHVhbEhlaWdodCAtIHBhcmVudERpbS5zY3JvbGwgPiBwYXJlbnREaW0uaGVpZ2h0ID8gJ3RvcCcgICAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3RvcCcgICAgJiYgcG9zLnRvcCAgIC0gcGFyZW50RGltLnNjcm9sbCAtIGFjdHVhbEhlaWdodCA8IDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JvdHRvbScgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3JpZ2h0JyAgJiYgcG9zLnJpZ2h0ICsgYWN0dWFsV2lkdGggICAgICA+IHBhcmVudERpbS53aWR0aCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2xlZnQnICAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ2xlZnQnICAgJiYgcG9zLmxlZnQgIC0gYWN0dWFsV2lkdGggICAgICA8IHBhcmVudERpbS5sZWZ0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3JpZ2h0JyAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnRcblxuICAgICAgICAkdGlwXG4gICAgICAgICAgLnJlbW92ZUNsYXNzKG9yZ1BsYWNlbWVudClcbiAgICAgICAgICAuYWRkQ2xhc3MocGxhY2VtZW50KVxuICAgICAgfVxuXG4gICAgICB2YXIgY2FsY3VsYXRlZE9mZnNldCA9IHRoaXMuZ2V0Q2FsY3VsYXRlZE9mZnNldChwbGFjZW1lbnQsIHBvcywgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodClcblxuICAgICAgdGhpcy5hcHBseVBsYWNlbWVudChjYWxjdWxhdGVkT2Zmc2V0LCBwbGFjZW1lbnQpXG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdzaG93bi5icy4nICsgdGhhdC50eXBlKVxuICAgICAgICB0aGF0LmhvdmVyU3RhdGUgPSBudWxsXG4gICAgICB9XG5cbiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJHRpcC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICAgJHRpcFxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNvbXBsZXRlKVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApIDpcbiAgICAgICAgY29tcGxldGUoKVxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmFwcGx5UGxhY2VtZW50ID0gZnVuY3Rpb24gKG9mZnNldCwgcGxhY2VtZW50KSB7XG4gICAgdmFyICR0aXAgICA9IHRoaXMudGlwKClcbiAgICB2YXIgd2lkdGggID0gJHRpcFswXS5vZmZzZXRXaWR0aFxuICAgIHZhciBoZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgLy8gbWFudWFsbHkgcmVhZCBtYXJnaW5zIGJlY2F1c2UgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGluY2x1ZGVzIGRpZmZlcmVuY2VcbiAgICB2YXIgbWFyZ2luVG9wID0gcGFyc2VJbnQoJHRpcC5jc3MoJ21hcmdpbi10b3AnKSwgMTApXG4gICAgdmFyIG1hcmdpbkxlZnQgPSBwYXJzZUludCgkdGlwLmNzcygnbWFyZ2luLWxlZnQnKSwgMTApXG5cbiAgICAvLyB3ZSBtdXN0IGNoZWNrIGZvciBOYU4gZm9yIGllIDgvOVxuICAgIGlmIChpc05hTihtYXJnaW5Ub3ApKSAgbWFyZ2luVG9wICA9IDBcbiAgICBpZiAoaXNOYU4obWFyZ2luTGVmdCkpIG1hcmdpbkxlZnQgPSAwXG5cbiAgICBvZmZzZXQudG9wICA9IG9mZnNldC50b3AgICsgbWFyZ2luVG9wXG4gICAgb2Zmc2V0LmxlZnQgPSBvZmZzZXQubGVmdCArIG1hcmdpbkxlZnRcblxuICAgIC8vICQuZm4ub2Zmc2V0IGRvZXNuJ3Qgcm91bmQgcGl4ZWwgdmFsdWVzXG4gICAgLy8gc28gd2UgdXNlIHNldE9mZnNldCBkaXJlY3RseSB3aXRoIG91ciBvd24gZnVuY3Rpb24gQi0wXG4gICAgJC5vZmZzZXQuc2V0T2Zmc2V0KCR0aXBbMF0sICQuZXh0ZW5kKHtcbiAgICAgIHVzaW5nOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgJHRpcC5jc3Moe1xuICAgICAgICAgIHRvcDogTWF0aC5yb3VuZChwcm9wcy50b3ApLFxuICAgICAgICAgIGxlZnQ6IE1hdGgucm91bmQocHJvcHMubGVmdClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LCBvZmZzZXQpLCAwKVxuXG4gICAgJHRpcC5hZGRDbGFzcygnaW4nKVxuXG4gICAgLy8gY2hlY2sgdG8gc2VlIGlmIHBsYWNpbmcgdGlwIGluIG5ldyBvZmZzZXQgY2F1c2VkIHRoZSB0aXAgdG8gcmVzaXplIGl0c2VsZlxuICAgIHZhciBhY3R1YWxXaWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgdmFyIGFjdHVhbEhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICBpZiAocGxhY2VtZW50ID09ICd0b3AnICYmIGFjdHVhbEhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgIG9mZnNldC50b3AgPSBvZmZzZXQudG9wICsgaGVpZ2h0IC0gYWN0dWFsSGVpZ2h0XG4gICAgfVxuXG4gICAgdmFyIGRlbHRhID0gdGhpcy5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEocGxhY2VtZW50LCBvZmZzZXQsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpXG5cbiAgICBpZiAoZGVsdGEubGVmdCkgb2Zmc2V0LmxlZnQgKz0gZGVsdGEubGVmdFxuICAgIGVsc2Ugb2Zmc2V0LnRvcCArPSBkZWx0YS50b3BcblxuICAgIHZhciBhcnJvd0RlbHRhICAgICAgICAgID0gZGVsdGEubGVmdCA/IGRlbHRhLmxlZnQgKiAyIC0gd2lkdGggKyBhY3R1YWxXaWR0aCA6IGRlbHRhLnRvcCAqIDIgLSBoZWlnaHQgKyBhY3R1YWxIZWlnaHRcbiAgICB2YXIgYXJyb3dQb3NpdGlvbiAgICAgICA9IGRlbHRhLmxlZnQgPyAnbGVmdCcgICAgICAgIDogJ3RvcCdcbiAgICB2YXIgYXJyb3dPZmZzZXRQb3NpdGlvbiA9IGRlbHRhLmxlZnQgPyAnb2Zmc2V0V2lkdGgnIDogJ29mZnNldEhlaWdodCdcblxuICAgICR0aXAub2Zmc2V0KG9mZnNldClcbiAgICB0aGlzLnJlcGxhY2VBcnJvdyhhcnJvd0RlbHRhLCAkdGlwWzBdW2Fycm93T2Zmc2V0UG9zaXRpb25dLCBhcnJvd1Bvc2l0aW9uKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUucmVwbGFjZUFycm93ID0gZnVuY3Rpb24gKGRlbHRhLCBkaW1lbnNpb24sIHBvc2l0aW9uKSB7XG4gICAgdGhpcy5hcnJvdygpLmNzcyhwb3NpdGlvbiwgZGVsdGEgPyAoNTAgKiAoMSAtIGRlbHRhIC8gZGltZW5zaW9uKSArICclJykgOiAnJylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aXAgID0gdGhpcy50aXAoKVxuICAgIHZhciB0aXRsZSA9IHRoaXMuZ2V0VGl0bGUoKVxuXG4gICAgJHRpcC5maW5kKCcudG9vbHRpcC1pbm5lcicpW3RoaXMub3B0aW9ucy5odG1sID8gJ2h0bWwnIDogJ3RleHQnXSh0aXRsZSlcbiAgICAkdGlwLnJlbW92ZUNsYXNzKCdmYWRlIGluIHRvcCBib3R0b20gbGVmdCByaWdodCcpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciAkdGlwID0gdGhpcy50aXAoKVxuICAgIHZhciBlICAgID0gJC5FdmVudCgnaGlkZS5icy4nICsgdGhpcy50eXBlKVxuXG4gICAgdGhpcy4kZWxlbWVudC5yZW1vdmVBdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JylcblxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgaWYgKHRoYXQuaG92ZXJTdGF0ZSAhPSAnaW4nKSAkdGlwLmRldGFjaCgpXG4gICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2hpZGRlbi5icy4nICsgdGhhdC50eXBlKVxuICAgIH1cblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kdGlwLmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgJHRpcFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjb21wbGV0ZSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxuICAgICAgY29tcGxldGUoKVxuXG4gICAgdGhpcy5ob3ZlclN0YXRlID0gbnVsbFxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmZpeFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICBpZiAoJGUuYXR0cigndGl0bGUnKSB8fCB0eXBlb2YgKCRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKSkgIT0gJ3N0cmluZycpIHtcbiAgICAgICRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCAkZS5hdHRyKCd0aXRsZScpIHx8ICcnKS5hdHRyKCd0aXRsZScsICcnKVxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmhhc0NvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGl0bGUoKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoJGVsZW1lbnQpIHtcbiAgICAkZWxlbWVudCAgID0gJGVsZW1lbnQgfHwgdGhpcy4kZWxlbWVudFxuICAgIHZhciBlbCAgICAgPSAkZWxlbWVudFswXVxuICAgIHZhciBpc0JvZHkgPSBlbC50YWdOYW1lID09ICdCT0RZJ1xuICAgIHJldHVybiAkLmV4dGVuZCh7fSwgKHR5cGVvZiBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgPT0gJ2Z1bmN0aW9uJykgPyBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IG51bGwsIHtcbiAgICAgIHNjcm9sbDogaXNCb2R5ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA6ICRlbGVtZW50LnNjcm9sbFRvcCgpLFxuICAgICAgd2lkdGg6ICBpc0JvZHkgPyAkKHdpbmRvdykud2lkdGgoKSAgOiAkZWxlbWVudC5vdXRlcldpZHRoKCksXG4gICAgICBoZWlnaHQ6IGlzQm9keSA/ICQod2luZG93KS5oZWlnaHQoKSA6ICRlbGVtZW50Lm91dGVySGVpZ2h0KClcbiAgICB9LCBpc0JvZHkgPyB7IHRvcDogMCwgbGVmdDogMCB9IDogJGVsZW1lbnQub2Zmc2V0KCkpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRDYWxjdWxhdGVkT2Zmc2V0ID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KSB7XG4gICAgcmV0dXJuIHBsYWNlbWVudCA9PSAnYm90dG9tJyA/IHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCwgICBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAvIDIgLSBhY3R1YWxXaWR0aCAvIDIgIH0gOlxuICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3RvcCcgICAgPyB7IHRvcDogcG9zLnRvcCAtIGFjdHVhbEhlaWdodCwgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggLyAyIC0gYWN0dWFsV2lkdGggLyAyICB9IDpcbiAgICAgICAgICAgcGxhY2VtZW50ID09ICdsZWZ0JyAgID8geyB0b3A6IHBvcy50b3AgKyBwb3MuaGVpZ2h0IC8gMiAtIGFjdHVhbEhlaWdodCAvIDIsIGxlZnQ6IHBvcy5sZWZ0IC0gYWN0dWFsV2lkdGggfSA6XG4gICAgICAgIC8qIHBsYWNlbWVudCA9PSAncmlnaHQnICovIHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCAvIDIgLSBhY3R1YWxIZWlnaHQgLyAyLCBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAgIH1cblxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KSB7XG4gICAgdmFyIGRlbHRhID0geyB0b3A6IDAsIGxlZnQ6IDAgfVxuICAgIGlmICghdGhpcy4kdmlld3BvcnQpIHJldHVybiBkZWx0YVxuXG4gICAgdmFyIHZpZXdwb3J0UGFkZGluZyA9IHRoaXMub3B0aW9ucy52aWV3cG9ydCAmJiB0aGlzLm9wdGlvbnMudmlld3BvcnQucGFkZGluZyB8fCAwXG4gICAgdmFyIHZpZXdwb3J0RGltZW5zaW9ucyA9IHRoaXMuZ2V0UG9zaXRpb24odGhpcy4kdmlld3BvcnQpXG5cbiAgICBpZiAoL3JpZ2h0fGxlZnQvLnRlc3QocGxhY2VtZW50KSkge1xuICAgICAgdmFyIHRvcEVkZ2VPZmZzZXQgICAgPSBwb3MudG9wIC0gdmlld3BvcnRQYWRkaW5nIC0gdmlld3BvcnREaW1lbnNpb25zLnNjcm9sbFxuICAgICAgdmFyIGJvdHRvbUVkZ2VPZmZzZXQgPSBwb3MudG9wICsgdmlld3BvcnRQYWRkaW5nIC0gdmlld3BvcnREaW1lbnNpb25zLnNjcm9sbCArIGFjdHVhbEhlaWdodFxuICAgICAgaWYgKHRvcEVkZ2VPZmZzZXQgPCB2aWV3cG9ydERpbWVuc2lvbnMudG9wKSB7IC8vIHRvcCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS50b3AgPSB2aWV3cG9ydERpbWVuc2lvbnMudG9wIC0gdG9wRWRnZU9mZnNldFxuICAgICAgfSBlbHNlIGlmIChib3R0b21FZGdlT2Zmc2V0ID4gdmlld3BvcnREaW1lbnNpb25zLnRvcCArIHZpZXdwb3J0RGltZW5zaW9ucy5oZWlnaHQpIHsgLy8gYm90dG9tIG92ZXJmbG93XG4gICAgICAgIGRlbHRhLnRvcCA9IHZpZXdwb3J0RGltZW5zaW9ucy50b3AgKyB2aWV3cG9ydERpbWVuc2lvbnMuaGVpZ2h0IC0gYm90dG9tRWRnZU9mZnNldFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbGVmdEVkZ2VPZmZzZXQgID0gcG9zLmxlZnQgLSB2aWV3cG9ydFBhZGRpbmdcbiAgICAgIHZhciByaWdodEVkZ2VPZmZzZXQgPSBwb3MubGVmdCArIHZpZXdwb3J0UGFkZGluZyArIGFjdHVhbFdpZHRoXG4gICAgICBpZiAobGVmdEVkZ2VPZmZzZXQgPCB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCkgeyAvLyBsZWZ0IG92ZXJmbG93XG4gICAgICAgIGRlbHRhLmxlZnQgPSB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCAtIGxlZnRFZGdlT2Zmc2V0XG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0RWRnZU9mZnNldCA+IHZpZXdwb3J0RGltZW5zaW9ucy53aWR0aCkgeyAvLyByaWdodCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS5sZWZ0ID0gdmlld3BvcnREaW1lbnNpb25zLmxlZnQgKyB2aWV3cG9ydERpbWVuc2lvbnMud2lkdGggLSByaWdodEVkZ2VPZmZzZXRcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVsdGFcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aXRsZVxuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICB2YXIgbyAgPSB0aGlzLm9wdGlvbnNcblxuICAgIHRpdGxlID0gJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScpXG4gICAgICB8fCAodHlwZW9mIG8udGl0bGUgPT0gJ2Z1bmN0aW9uJyA/IG8udGl0bGUuY2FsbCgkZVswXSkgOiAgby50aXRsZSlcblxuICAgIHJldHVybiB0aXRsZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0VUlEID0gZnVuY3Rpb24gKHByZWZpeCkge1xuICAgIGRvIHByZWZpeCArPSB+fihNYXRoLnJhbmRvbSgpICogMTAwMDAwMClcbiAgICB3aGlsZSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJlZml4KSlcbiAgICByZXR1cm4gcHJlZml4XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS50aXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLiR0aXAgPSB0aGlzLiR0aXAgfHwgJCh0aGlzLm9wdGlvbnMudGVtcGxhdGUpKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuYXJyb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLiRhcnJvdyA9IHRoaXMuJGFycm93IHx8IHRoaXMudGlwKCkuZmluZCgnLnRvb2x0aXAtYXJyb3cnKSlcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy4kZWxlbWVudFswXS5wYXJlbnROb2RlKSB7XG4gICAgICB0aGlzLmhpZGUoKVxuICAgICAgdGhpcy4kZWxlbWVudCA9IG51bGxcbiAgICAgIHRoaXMub3B0aW9ucyAgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWVcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2VcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZUVuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gIXRoaXMuZW5hYmxlZFxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICBpZiAoZSkge1xuICAgICAgc2VsZiA9ICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuICAgICAgaWYgKCFzZWxmKSB7XG4gICAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihlLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAgICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgICAgfVxuICAgIH1cblxuICAgIHNlbGYudGlwKCkuaGFzQ2xhc3MoJ2luJykgPyBzZWxmLmxlYXZlKHNlbGYpIDogc2VsZi5lbnRlcihzZWxmKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KVxuICAgIHRoaXMuaGlkZSgpLiRlbGVtZW50Lm9mZignLicgKyB0aGlzLnR5cGUpLnJlbW92ZURhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG4gIH1cblxuXG4gIC8vIFRPT0xUSVAgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy50b29sdGlwJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbiA9PSAnZGVzdHJveScpIHJldHVyblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy50b29sdGlwJywgKGRhdGEgPSBuZXcgVG9vbHRpcCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4udG9vbHRpcFxuXG4gICQuZm4udG9vbHRpcCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IgPSBUb29sdGlwXG5cblxuICAvLyBUT09MVElQIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnRvb2x0aXAubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnRvb2x0aXAgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHBvcG92ZXIuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNwb3BvdmVyc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFBPUE9WRVIgUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBQb3BvdmVyID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmluaXQoJ3BvcG92ZXInLCBlbGVtZW50LCBvcHRpb25zKVxuICB9XG5cbiAgaWYgKCEkLmZuLnRvb2x0aXApIHRocm93IG5ldyBFcnJvcignUG9wb3ZlciByZXF1aXJlcyB0b29sdGlwLmpzJylcblxuICBQb3BvdmVyLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIFBvcG92ZXIuREVGQVVMVFMgPSAkLmV4dGVuZCh7fSwgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLkRFRkFVTFRTLCB7XG4gICAgcGxhY2VtZW50OiAncmlnaHQnLFxuICAgIHRyaWdnZXI6ICdjbGljaycsXG4gICAgY29udGVudDogJycsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwicG9wb3ZlclwiIHJvbGU9XCJ0b29sdGlwXCI+PGRpdiBjbGFzcz1cImFycm93XCI+PC9kaXY+PGgzIGNsYXNzPVwicG9wb3Zlci10aXRsZVwiPjwvaDM+PGRpdiBjbGFzcz1cInBvcG92ZXItY29udGVudFwiPjwvZGl2PjwvZGl2PidcbiAgfSlcblxuXG4gIC8vIE5PVEU6IFBPUE9WRVIgRVhURU5EUyB0b29sdGlwLmpzXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUgPSAkLmV4dGVuZCh7fSwgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLnByb3RvdHlwZSlcblxuICBQb3BvdmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBvcG92ZXJcblxuICBQb3BvdmVyLnByb3RvdHlwZS5nZXREZWZhdWx0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gUG9wb3Zlci5ERUZBVUxUU1xuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRpcCAgICA9IHRoaXMudGlwKClcbiAgICB2YXIgdGl0bGUgICA9IHRoaXMuZ2V0VGl0bGUoKVxuICAgIHZhciBjb250ZW50ID0gdGhpcy5nZXRDb250ZW50KClcblxuICAgICR0aXAuZmluZCgnLnBvcG92ZXItdGl0bGUnKVt0aGlzLm9wdGlvbnMuaHRtbCA/ICdodG1sJyA6ICd0ZXh0J10odGl0bGUpXG4gICAgJHRpcC5maW5kKCcucG9wb3Zlci1jb250ZW50JykuZW1wdHkoKVsgLy8gd2UgdXNlIGFwcGVuZCBmb3IgaHRtbCBvYmplY3RzIHRvIG1haW50YWluIGpzIGV2ZW50c1xuICAgICAgdGhpcy5vcHRpb25zLmh0bWwgPyAodHlwZW9mIGNvbnRlbnQgPT0gJ3N0cmluZycgPyAnaHRtbCcgOiAnYXBwZW5kJykgOiAndGV4dCdcbiAgICBdKGNvbnRlbnQpXG5cbiAgICAkdGlwLnJlbW92ZUNsYXNzKCdmYWRlIHRvcCBib3R0b20gbGVmdCByaWdodCBpbicpXG5cbiAgICAvLyBJRTggZG9lc24ndCBhY2NlcHQgaGlkaW5nIHZpYSB0aGUgYDplbXB0eWAgcHNldWRvIHNlbGVjdG9yLCB3ZSBoYXZlIHRvIGRvXG4gICAgLy8gdGhpcyBtYW51YWxseSBieSBjaGVja2luZyB0aGUgY29udGVudHMuXG4gICAgaWYgKCEkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJykuaHRtbCgpKSAkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJykuaGlkZSgpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5oYXNDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdldFRpdGxlKCkgfHwgdGhpcy5nZXRDb250ZW50KClcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmdldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRlID0gdGhpcy4kZWxlbWVudFxuICAgIHZhciBvICA9IHRoaXMub3B0aW9uc1xuXG4gICAgcmV0dXJuICRlLmF0dHIoJ2RhdGEtY29udGVudCcpXG4gICAgICB8fCAodHlwZW9mIG8uY29udGVudCA9PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgIG8uY29udGVudC5jYWxsKCRlWzBdKSA6XG4gICAgICAgICAgICBvLmNvbnRlbnQpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5hcnJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuJGFycm93ID0gdGhpcy4kYXJyb3cgfHwgdGhpcy50aXAoKS5maW5kKCcuYXJyb3cnKSlcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLnRpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuJHRpcCkgdGhpcy4kdGlwID0gJCh0aGlzLm9wdGlvbnMudGVtcGxhdGUpXG4gICAgcmV0dXJuIHRoaXMuJHRpcFxuICB9XG5cblxuICAvLyBQT1BPVkVSIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMucG9wb3ZlcicpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSAmJiBvcHRpb24gPT0gJ2Rlc3Ryb3knKSByZXR1cm5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMucG9wb3ZlcicsIChkYXRhID0gbmV3IFBvcG92ZXIodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnBvcG92ZXJcblxuICAkLmZuLnBvcG92ZXIgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5wb3BvdmVyLkNvbnN0cnVjdG9yID0gUG9wb3ZlclxuXG5cbiAgLy8gUE9QT1ZFUiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5wb3BvdmVyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5wb3BvdmVyID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG59KGpRdWVyeSk7XG5cblxuLypcbiAqIGFuZ3VsYXItdWktYm9vdHN0cmFwXG4gKiBodHRwOi8vYW5ndWxhci11aS5naXRodWIuaW8vYm9vdHN0cmFwL1xuXG4gKiBWZXJzaW9uOiAwLjEzLjEtU05BUFNIT1QgLSAyMDE1LTA3LTIzXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuYW5ndWxhci5tb2R1bGUoXCJ1aS5ib290c3RyYXBcIiwgW1widWkuYm9vdHN0cmFwLnRwbHNcIiwgXCJ1aS5ib290c3RyYXAuY29sbGFwc2VcIixcInVpLmJvb3RzdHJhcC5hY2NvcmRpb25cIixcInVpLmJvb3RzdHJhcC5hbGVydFwiLFwidWkuYm9vdHN0cmFwLmJpbmRIdG1sXCIsXCJ1aS5ib290c3RyYXAuYnV0dG9uc1wiLFwidWkuYm9vdHN0cmFwLmNhcm91c2VsXCIsXCJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlclwiLFwidWkuYm9vdHN0cmFwLnBvc2l0aW9uXCIsXCJ1aS5ib290c3RyYXAuZGF0ZXBpY2tlclwiLFwidWkuYm9vdHN0cmFwLmRyb3Bkb3duXCIsXCJ1aS5ib290c3RyYXAubW9kYWxcIixcInVpLmJvb3RzdHJhcC5wYWdpbmF0aW9uXCIsXCJ1aS5ib290c3RyYXAudG9vbHRpcFwiLFwidWkuYm9vdHN0cmFwLnBvcG92ZXJcIixcInVpLmJvb3RzdHJhcC5wcm9ncmVzc2JhclwiLFwidWkuYm9vdHN0cmFwLnJhdGluZ1wiLFwidWkuYm9vdHN0cmFwLnRhYnNcIixcInVpLmJvb3RzdHJhcC50aW1lcGlja2VyXCIsXCJ1aS5ib290c3RyYXAudHJhbnNpdGlvblwiLFwidWkuYm9vdHN0cmFwLnR5cGVhaGVhZFwiXSk7XG5hbmd1bGFyLm1vZHVsZShcInVpLmJvb3RzdHJhcC50cGxzXCIsIFtcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbFwiLFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sXCIsXCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sXCIsXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sXCIsXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIixcInRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sXCIsXCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sXCIsXCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbFwiLFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sXCIsXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbFwiLFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtcG9wdXAuaHRtbFwiLFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWxcIixcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sXCIsXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtdGVtcGxhdGUtcG9wdXAuaHRtbFwiLFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLXRlbXBsYXRlLmh0bWxcIixcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sXCIsXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbFwiLFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbFwiLFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbFwiLFwidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sXCIsXCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sXCIsXCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sXCIsXCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbFwiLFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sXCIsXCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWxcIl0pO1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5jb2xsYXBzZScsIFtdKVxuXG4gIC5kaXJlY3RpdmUoJ2NvbGxhcHNlJywgWyckYW5pbWF0ZScsIGZ1bmN0aW9uICgkYW5pbWF0ZSkge1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgZnVuY3Rpb24gZXhwYW5kKCkge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCBmYWxzZSk7XG5cbiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCAnaW4nLCB7XG4gICAgICAgICAgICB0bzogeyBoZWlnaHQ6IGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0ICsgJ3B4JyB9XG4gICAgICAgICAgfSkudGhlbihleHBhbmREb25lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGV4cGFuZERvbmUoKSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpO1xuICAgICAgICAgIGVsZW1lbnQuY3NzKHtoZWlnaHQ6ICdhdXRvJ30pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY29sbGFwc2UoKSB7XG4gICAgICAgICAgaWYoISBlbGVtZW50Lmhhc0NsYXNzKCdjb2xsYXBzZScpICYmICEgZWxlbWVudC5oYXNDbGFzcygnaW4nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbGxhcHNlRG9uZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIC8vIElNUE9SVEFOVDogVGhlIGhlaWdodCBtdXN0IGJlIHNldCBiZWZvcmUgYWRkaW5nIFwiY29sbGFwc2luZ1wiIGNsYXNzLlxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB0aGUgYnJvd3NlciBhdHRlbXB0cyB0byBhbmltYXRlIGZyb20gaGVpZ2h0IDAgKGluXG4gICAgICAgICAgICAvLyBjb2xsYXBzaW5nIGNsYXNzKSB0byB0aGUgZ2l2ZW4gaGVpZ2h0IGhlcmUuXG4gICAgICAgICAgICAuY3NzKHtoZWlnaHQ6IGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0ICsgJ3B4J30pXG4gICAgICAgICAgICAvLyBpbml0aWFsbHkgYWxsIHBhbmVsIGNvbGxhcHNlIGhhdmUgdGhlIGNvbGxhcHNlIGNsYXNzLCB0aGlzIHJlbW92YWxcbiAgICAgICAgICAgIC8vIHByZXZlbnRzIHRoZSBhbmltYXRpb24gZnJvbSBqdW1waW5nIHRvIGNvbGxhcHNlZCBzdGF0ZVxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuXG4gICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgJ2luJywge1xuICAgICAgICAgICAgdG86IHtoZWlnaHQ6ICcwJ31cbiAgICAgICAgICB9KS50aGVuKGNvbGxhcHNlRG9uZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb2xsYXBzZURvbmUoKSB7XG4gICAgICAgICAgZWxlbWVudC5jc3Moe2hlaWdodDogJzAnfSk7IC8vIFJlcXVpcmVkIHNvIHRoYXQgY29sbGFwc2Ugd29ya3Mgd2hlbiBhbmltYXRpb24gaXMgZGlzYWJsZWRcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJyk7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnY29sbGFwc2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLiR3YXRjaChhdHRycy5jb2xsYXBzZSwgZnVuY3Rpb24gKHNob3VsZENvbGxhcHNlKSB7XG4gICAgICAgICAgaWYgKHNob3VsZENvbGxhcHNlKSB7XG4gICAgICAgICAgICBjb2xsYXBzZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHBhbmQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5hY2NvcmRpb24nLCBbJ3VpLmJvb3RzdHJhcC5jb2xsYXBzZSddKVxuXG4uY29uc3RhbnQoJ2FjY29yZGlvbkNvbmZpZycsIHtcbiAgY2xvc2VPdGhlcnM6IHRydWVcbn0pXG5cbi5jb250cm9sbGVyKCdBY2NvcmRpb25Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJ2FjY29yZGlvbkNvbmZpZycsIGZ1bmN0aW9uICgkc2NvcGUsICRhdHRycywgYWNjb3JkaW9uQ29uZmlnKSB7XG5cbiAgLy8gVGhpcyBhcnJheSBrZWVwcyB0cmFjayBvZiB0aGUgYWNjb3JkaW9uIGdyb3Vwc1xuICB0aGlzLmdyb3VwcyA9IFtdO1xuXG4gIC8vIEVuc3VyZSB0aGF0IGFsbCB0aGUgZ3JvdXBzIGluIHRoaXMgYWNjb3JkaW9uIGFyZSBjbG9zZWQsIHVubGVzcyBjbG9zZS1vdGhlcnMgZXhwbGljaXRseSBzYXlzIG5vdCB0b1xuICB0aGlzLmNsb3NlT3RoZXJzID0gZnVuY3Rpb24ob3Blbkdyb3VwKSB7XG4gICAgdmFyIGNsb3NlT3RoZXJzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmNsb3NlT3RoZXJzKSA/ICRzY29wZS4kZXZhbCgkYXR0cnMuY2xvc2VPdGhlcnMpIDogYWNjb3JkaW9uQ29uZmlnLmNsb3NlT3RoZXJzO1xuICAgIGlmICggY2xvc2VPdGhlcnMgKSB7XG4gICAgICBhbmd1bGFyLmZvckVhY2godGhpcy5ncm91cHMsIGZ1bmN0aW9uIChncm91cCkge1xuICAgICAgICBpZiAoIGdyb3VwICE9PSBvcGVuR3JvdXAgKSB7XG4gICAgICAgICAgZ3JvdXAuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBUaGlzIGlzIGNhbGxlZCBmcm9tIHRoZSBhY2NvcmRpb24tZ3JvdXAgZGlyZWN0aXZlIHRvIGFkZCBpdHNlbGYgdG8gdGhlIGFjY29yZGlvblxuICB0aGlzLmFkZEdyb3VwID0gZnVuY3Rpb24oZ3JvdXBTY29wZSkge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB0aGlzLmdyb3Vwcy5wdXNoKGdyb3VwU2NvcGUpO1xuXG4gICAgZ3JvdXBTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB0aGF0LnJlbW92ZUdyb3VwKGdyb3VwU2NvcGUpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFRoaXMgaXMgY2FsbGVkIGZyb20gdGhlIGFjY29yZGlvbi1ncm91cCBkaXJlY3RpdmUgd2hlbiB0byByZW1vdmUgaXRzZWxmXG4gIHRoaXMucmVtb3ZlR3JvdXAgPSBmdW5jdGlvbihncm91cCkge1xuICAgIHZhciBpbmRleCA9IHRoaXMuZ3JvdXBzLmluZGV4T2YoZ3JvdXApO1xuICAgIGlmICggaW5kZXggIT09IC0xICkge1xuICAgICAgdGhpcy5ncm91cHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH07XG5cbn1dKVxuXG4vLyBUaGUgYWNjb3JkaW9uIGRpcmVjdGl2ZSBzaW1wbHkgc2V0cyB1cCB0aGUgZGlyZWN0aXZlIGNvbnRyb2xsZXJcbi8vIGFuZCBhZGRzIGFuIGFjY29yZGlvbiBDU1MgY2xhc3MgdG8gaXRzZWxmIGVsZW1lbnQuXG4uZGlyZWN0aXZlKCdhY2NvcmRpb24nLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6J0VBJyxcbiAgICBjb250cm9sbGVyOidBY2NvcmRpb25Db250cm9sbGVyJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHJlcGxhY2U6IGZhbHNlLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sJ1xuICB9O1xufSlcblxuLy8gVGhlIGFjY29yZGlvbi1ncm91cCBkaXJlY3RpdmUgaW5kaWNhdGVzIGEgYmxvY2sgb2YgaHRtbCB0aGF0IHdpbGwgZXhwYW5kIGFuZCBjb2xsYXBzZSBpbiBhbiBhY2NvcmRpb25cbi5kaXJlY3RpdmUoJ2FjY29yZGlvbkdyb3VwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTonXmFjY29yZGlvbicsICAgICAgICAgLy8gV2UgbmVlZCB0aGlzIGRpcmVjdGl2ZSB0byBiZSBpbnNpZGUgYW4gYWNjb3JkaW9uXG4gICAgcmVzdHJpY3Q6J0VBJyxcbiAgICB0cmFuc2NsdWRlOnRydWUsICAgICAgICAgICAgICAvLyBJdCB0cmFuc2NsdWRlcyB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSBpbnRvIHRoZSB0ZW1wbGF0ZVxuICAgIHJlcGxhY2U6IHRydWUsICAgICAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIGRpcmVjdGl2ZSB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIHRlbXBsYXRlXG4gICAgdGVtcGxhdGVVcmw6J3RlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbCcsXG4gICAgc2NvcGU6IHtcbiAgICAgIGhlYWRpbmc6ICdAJywgICAgICAgICAgICAgICAvLyBJbnRlcnBvbGF0ZSB0aGUgaGVhZGluZyBhdHRyaWJ1dGUgb250byB0aGlzIHNjb3BlXG4gICAgICBpc09wZW46ICc9PycsXG4gICAgICBpc0Rpc2FibGVkOiAnPT8nXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuc2V0SGVhZGluZyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5oZWFkaW5nID0gZWxlbWVudDtcbiAgICAgIH07XG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGFjY29yZGlvbkN0cmwpIHtcbiAgICAgIGFjY29yZGlvbkN0cmwuYWRkR3JvdXAoc2NvcGUpO1xuXG4gICAgICBzY29wZS4kd2F0Y2goJ2lzT3BlbicsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmICggdmFsdWUgKSB7XG4gICAgICAgICAgYWNjb3JkaW9uQ3RybC5jbG9zZU90aGVycyhzY29wZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS50b2dnbGVPcGVuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICggIXNjb3BlLmlzRGlzYWJsZWQgKSB7XG4gICAgICAgICAgc2NvcGUuaXNPcGVuID0gIXNjb3BlLmlzT3BlbjtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59KVxuXG4vLyBVc2UgYWNjb3JkaW9uLWhlYWRpbmcgYmVsb3cgYW4gYWNjb3JkaW9uLWdyb3VwIHRvIHByb3ZpZGUgYSBoZWFkaW5nIGNvbnRhaW5pbmcgSFRNTFxuLy8gPGFjY29yZGlvbi1ncm91cD5cbi8vICAgPGFjY29yZGlvbi1oZWFkaW5nPkhlYWRpbmcgY29udGFpbmluZyBIVE1MIC0gPGltZyBzcmM9XCIuLi5cIj48L2FjY29yZGlvbi1oZWFkaW5nPlxuLy8gPC9hY2NvcmRpb24tZ3JvdXA+XG4uZGlyZWN0aXZlKCdhY2NvcmRpb25IZWFkaW5nJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSwgICAvLyBHcmFiIHRoZSBjb250ZW50cyB0byBiZSB1c2VkIGFzIHRoZSBoZWFkaW5nXG4gICAgdGVtcGxhdGU6ICcnLCAgICAgICAvLyBJbiBlZmZlY3QgcmVtb3ZlIHRoaXMgZWxlbWVudCFcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHJlcXVpcmU6ICdeYWNjb3JkaW9uR3JvdXAnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBhY2NvcmRpb25Hcm91cEN0cmwsIHRyYW5zY2x1ZGUpIHtcbiAgICAgIC8vIFBhc3MgdGhlIGhlYWRpbmcgdG8gdGhlIGFjY29yZGlvbi1ncm91cCBjb250cm9sbGVyXG4gICAgICAvLyBzbyB0aGF0IGl0IGNhbiBiZSB0cmFuc2NsdWRlZCBpbnRvIHRoZSByaWdodCBwbGFjZSBpbiB0aGUgdGVtcGxhdGVcbiAgICAgIC8vIFtUaGUgc2Vjb25kIHBhcmFtZXRlciB0byB0cmFuc2NsdWRlIGNhdXNlcyB0aGUgZWxlbWVudHMgdG8gYmUgY2xvbmVkIHNvIHRoYXQgdGhleSB3b3JrIGluIG5nLXJlcGVhdF1cbiAgICAgIGFjY29yZGlvbkdyb3VwQ3RybC5zZXRIZWFkaW5nKHRyYW5zY2x1ZGUoc2NvcGUsIGFuZ3VsYXIubm9vcCkpO1xuICAgIH1cbiAgfTtcbn0pXG5cbi8vIFVzZSBpbiB0aGUgYWNjb3JkaW9uLWdyb3VwIHRlbXBsYXRlIHRvIGluZGljYXRlIHdoZXJlIHlvdSB3YW50IHRoZSBoZWFkaW5nIHRvIGJlIHRyYW5zY2x1ZGVkXG4vLyBZb3UgbXVzdCBwcm92aWRlIHRoZSBwcm9wZXJ0eSBvbiB0aGUgYWNjb3JkaW9uLWdyb3VwIGNvbnRyb2xsZXIgdGhhdCB3aWxsIGhvbGQgdGhlIHRyYW5zY2x1ZGVkIGVsZW1lbnRcbi8vIDxkaXYgY2xhc3M9XCJhY2NvcmRpb24tZ3JvdXBcIj5cbi8vICAgPGRpdiBjbGFzcz1cImFjY29yZGlvbi1oZWFkaW5nXCIgPjxhIC4uLiBhY2NvcmRpb24tdHJhbnNjbHVkZT1cImhlYWRpbmdcIj4uLi48L2E+PC9kaXY+XG4vLyAgIC4uLlxuLy8gPC9kaXY+XG4uZGlyZWN0aXZlKCdhY2NvcmRpb25UcmFuc2NsdWRlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJ15hY2NvcmRpb25Hcm91cCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGNvbnRyb2xsZXIpIHtcbiAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHsgcmV0dXJuIGNvbnRyb2xsZXJbYXR0ci5hY2NvcmRpb25UcmFuc2NsdWRlXTsgfSwgZnVuY3Rpb24oaGVhZGluZykge1xuICAgICAgICBpZiAoIGhlYWRpbmcgKSB7XG4gICAgICAgICAgZWxlbWVudC5odG1sKCcnKTtcbiAgICAgICAgICBlbGVtZW50LmFwcGVuZChoZWFkaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmFsZXJ0JywgW10pXG5cbi5jb250cm9sbGVyKCdBbGVydENvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCBmdW5jdGlvbiAoJHNjb3BlLCAkYXR0cnMpIHtcbiAgJHNjb3BlLmNsb3NlYWJsZSA9ICEhJGF0dHJzLmNsb3NlO1xuICB0aGlzLmNsb3NlID0gJHNjb3BlLmNsb3NlO1xufV0pXG5cbi5kaXJlY3RpdmUoJ2FsZXJ0JywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OidFQScsXG4gICAgY29udHJvbGxlcjonQWxlcnRDb250cm9sbGVyJyxcbiAgICB0ZW1wbGF0ZVVybDondGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbCcsXG4gICAgdHJhbnNjbHVkZTp0cnVlLFxuICAgIHJlcGxhY2U6dHJ1ZSxcbiAgICBzY29wZToge1xuICAgICAgdHlwZTogJ0AnLFxuICAgICAgY2xvc2U6ICcmJ1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2Rpc21pc3NPblRpbWVvdXQnLCBbJyR0aW1lb3V0JywgZnVuY3Rpb24oJHRpbWVvdXQpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnYWxlcnQnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgYWxlcnRDdHJsKSB7XG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICBhbGVydEN0cmwuY2xvc2UoKTtcbiAgICAgIH0sIHBhcnNlSW50KGF0dHJzLmRpc21pc3NPblRpbWVvdXQsIDEwKSk7XG4gICAgfVxuICB9O1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmJpbmRIdG1sJywgW10pXG5cbiAgLnZhbHVlKCckYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQnLCBmYWxzZSlcblxuICAuZGlyZWN0aXZlKCdiaW5kSHRtbFVuc2FmZScsIFsnJGxvZycsICckYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQnLCBmdW5jdGlvbiAoJGxvZywgJGJpbmRIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgaWYgKCEkYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQpIHtcbiAgICAgICAgJGxvZy53YXJuKCdiaW5kSHRtbFVuc2FmZSBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIG5nQmluZEh0bWwgaW5zdGVhZCcpO1xuICAgICAgfVxuICAgICAgZWxlbWVudC5hZGRDbGFzcygnbmctYmluZGluZycpLmRhdGEoJyRiaW5kaW5nJywgYXR0ci5iaW5kSHRtbFVuc2FmZSk7XG4gICAgICBzY29wZS4kd2F0Y2goYXR0ci5iaW5kSHRtbFVuc2FmZSwgZnVuY3Rpb24gYmluZEh0bWxVbnNhZmVXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUgfHwgJycpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfV0pO1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5idXR0b25zJywgW10pXG5cbi5jb25zdGFudCgnYnV0dG9uQ29uZmlnJywge1xuICBhY3RpdmVDbGFzczogJ2FjdGl2ZScsXG4gIHRvZ2dsZUV2ZW50OiAnY2xpY2snXG59KVxuXG4uY29udHJvbGxlcignQnV0dG9uc0NvbnRyb2xsZXInLCBbJ2J1dHRvbkNvbmZpZycsIGZ1bmN0aW9uKGJ1dHRvbkNvbmZpZykge1xuICB0aGlzLmFjdGl2ZUNsYXNzID0gYnV0dG9uQ29uZmlnLmFjdGl2ZUNsYXNzIHx8ICdhY3RpdmUnO1xuICB0aGlzLnRvZ2dsZUV2ZW50ID0gYnV0dG9uQ29uZmlnLnRvZ2dsZUV2ZW50IHx8ICdjbGljayc7XG59XSlcblxuLmRpcmVjdGl2ZSgnYnRuUmFkaW8nLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogWydidG5SYWRpbycsICduZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ0J1dHRvbnNDb250cm9sbGVyJyxcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIGJ1dHRvbnNDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIC8vbW9kZWwgLT4gVUlcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MsIGFuZ3VsYXIuZXF1YWxzKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlLCBzY29wZS4kZXZhbChhdHRycy5idG5SYWRpbykpKTtcbiAgICAgIH07XG5cbiAgICAgIC8vdWktPm1vZGVsXG4gICAgICBlbGVtZW50LmJpbmQoYnV0dG9uc0N0cmwudG9nZ2xlRXZlbnQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlzQWN0aXZlID0gZWxlbWVudC5oYXNDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcyk7XG5cbiAgICAgICAgaWYgKCFpc0FjdGl2ZSB8fCBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy51bmNoZWNrYWJsZSkpIHtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShpc0FjdGl2ZSA/IG51bGwgOiBzY29wZS4kZXZhbChhdHRycy5idG5SYWRpbykpO1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdidG5DaGVja2JveCcsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiBbJ2J0bkNoZWNrYm94JywgJ25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiAnQnV0dG9uc0NvbnRyb2xsZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgYnV0dG9uc0N0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgZnVuY3Rpb24gZ2V0VHJ1ZVZhbHVlKCkge1xuICAgICAgICByZXR1cm4gZ2V0Q2hlY2tib3hWYWx1ZShhdHRycy5idG5DaGVja2JveFRydWUsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRGYWxzZVZhbHVlKCkge1xuICAgICAgICByZXR1cm4gZ2V0Q2hlY2tib3hWYWx1ZShhdHRycy5idG5DaGVja2JveEZhbHNlLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldENoZWNrYm94VmFsdWUoYXR0cmlidXRlVmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICB2YXIgdmFsID0gc2NvcGUuJGV2YWwoYXR0cmlidXRlVmFsdWUpO1xuICAgICAgICByZXR1cm4gYW5ndWxhci5pc0RlZmluZWQodmFsKSA/IHZhbCA6IGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgLy9tb2RlbCAtPiBVSVxuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZWxlbWVudC50b2dnbGVDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcywgYW5ndWxhci5lcXVhbHMobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUsIGdldFRydWVWYWx1ZSgpKSk7XG4gICAgICB9O1xuXG4gICAgICAvL3VpLT5tb2RlbFxuICAgICAgZWxlbWVudC5iaW5kKGJ1dHRvbnNDdHJsLnRvZ2dsZUV2ZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50Lmhhc0NsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzKSA/IGdldEZhbHNlVmFsdWUoKSA6IGdldFRydWVWYWx1ZSgpKTtcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSk7XG5cbi8qKlxuKiBAbmdkb2Mgb3ZlcnZpZXdcbiogQG5hbWUgdWkuYm9vdHN0cmFwLmNhcm91c2VsXG4qXG4qIEBkZXNjcmlwdGlvblxuKiBBbmd1bGFySlMgdmVyc2lvbiBvZiBhbiBpbWFnZSBjYXJvdXNlbC5cbipcbiovXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmNhcm91c2VsJywgW10pXG4uY29udHJvbGxlcignQ2Fyb3VzZWxDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGVsZW1lbnQnLCAnJGludGVydmFsJywgJyRhbmltYXRlJywgZnVuY3Rpb24gKCRzY29wZSwgJGVsZW1lbnQsICRpbnRlcnZhbCwgJGFuaW1hdGUpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgIHNsaWRlcyA9IHNlbGYuc2xpZGVzID0gJHNjb3BlLnNsaWRlcyA9IFtdLFxuICAgIE5PX1RSQU5TSVRJT04gPSAndWliLW5vVHJhbnNpdGlvbicsXG4gICAgU0xJREVfRElSRUNUSU9OID0gJ3VpYi1zbGlkZURpcmVjdGlvbicsXG4gICAgY3VycmVudEluZGV4ID0gLTEsXG4gICAgY3VycmVudEludGVydmFsLCBpc1BsYXlpbmc7XG4gIHNlbGYuY3VycmVudFNsaWRlID0gbnVsbDtcblxuICB2YXIgZGVzdHJveWVkID0gZmFsc2U7XG4gIC8qIGRpcmVjdGlvbjogXCJwcmV2XCIgb3IgXCJuZXh0XCIgKi9cbiAgc2VsZi5zZWxlY3QgPSAkc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24obmV4dFNsaWRlLCBkaXJlY3Rpb24pIHtcbiAgICB2YXIgbmV4dEluZGV4ID0gc2VsZi5pbmRleE9mU2xpZGUobmV4dFNsaWRlKTtcbiAgICAvL0RlY2lkZSBkaXJlY3Rpb24gaWYgaXQncyBub3QgZ2l2ZW5cbiAgICBpZiAoZGlyZWN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGRpcmVjdGlvbiA9IG5leHRJbmRleCA+IHNlbGYuZ2V0Q3VycmVudEluZGV4KCkgPyAnbmV4dCcgOiAncHJldic7XG4gICAgfVxuICAgIC8vUHJldmVudCB0aGlzIHVzZXItdHJpZ2dlcmVkIHRyYW5zaXRpb24gZnJvbSBvY2N1cnJpbmcgaWYgdGhlcmUgaXMgYWxyZWFkeSBvbmUgaW4gcHJvZ3Jlc3NcbiAgICBpZiAobmV4dFNsaWRlICYmIG5leHRTbGlkZSAhPT0gc2VsZi5jdXJyZW50U2xpZGUgJiYgISRzY29wZS4kY3VycmVudFRyYW5zaXRpb24pIHtcbiAgICAgIGdvTmV4dChuZXh0U2xpZGUsIG5leHRJbmRleCwgZGlyZWN0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gZ29OZXh0KHNsaWRlLCBpbmRleCwgZGlyZWN0aW9uKSB7XG4gICAgLy8gU2NvcGUgaGFzIGJlZW4gZGVzdHJveWVkLCBzdG9wIGhlcmUuXG4gICAgaWYgKGRlc3Ryb3llZCkgeyByZXR1cm47IH1cblxuICAgIGFuZ3VsYXIuZXh0ZW5kKHNsaWRlLCB7ZGlyZWN0aW9uOiBkaXJlY3Rpb24sIGFjdGl2ZTogdHJ1ZX0pO1xuICAgIGFuZ3VsYXIuZXh0ZW5kKHNlbGYuY3VycmVudFNsaWRlIHx8IHt9LCB7ZGlyZWN0aW9uOiBkaXJlY3Rpb24sIGFjdGl2ZTogZmFsc2V9KTtcbiAgICBpZiAoJGFuaW1hdGUuZW5hYmxlZCgpICYmICEkc2NvcGUubm9UcmFuc2l0aW9uICYmICEkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uICYmXG4gICAgICBzbGlkZS4kZWxlbWVudCkge1xuICAgICAgc2xpZGUuJGVsZW1lbnQuZGF0YShTTElERV9ESVJFQ1RJT04sIHNsaWRlLmRpcmVjdGlvbik7XG4gICAgICAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uID0gdHJ1ZTtcbiAgICAgIHNsaWRlLiRlbGVtZW50Lm9uZSgnJGFuaW1hdGU6Y2xvc2UnLCBmdW5jdGlvbiBjbG9zZUZuKCkge1xuICAgICAgICAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNlbGYuY3VycmVudFNsaWRlID0gc2xpZGU7XG4gICAgY3VycmVudEluZGV4ID0gaW5kZXg7XG5cbiAgICAvL2V2ZXJ5IHRpbWUgeW91IGNoYW5nZSBzbGlkZXMsIHJlc2V0IHRoZSB0aW1lclxuICAgIHJlc3RhcnRUaW1lcigpO1xuICB9XG5cbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XG4gICAgZGVzdHJveWVkID0gdHJ1ZTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZ2V0U2xpZGVCeUluZGV4KGluZGV4KSB7XG4gICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoc2xpZGVzW2luZGV4XS5pbmRleCkpIHtcbiAgICAgIHJldHVybiBzbGlkZXNbaW5kZXhdO1xuICAgIH1cbiAgICB2YXIgaSwgbGVuID0gc2xpZGVzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAoc2xpZGVzW2ldLmluZGV4ID09IGluZGV4KSB7XG4gICAgICAgIHJldHVybiBzbGlkZXNbaV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2VsZi5nZXRDdXJyZW50SW5kZXggPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoc2VsZi5jdXJyZW50U2xpZGUgJiYgYW5ndWxhci5pc0RlZmluZWQoc2VsZi5jdXJyZW50U2xpZGUuaW5kZXgpKSB7XG4gICAgICByZXR1cm4gK3NlbGYuY3VycmVudFNsaWRlLmluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudEluZGV4O1xuICB9O1xuXG4gIC8qIEFsbG93IG91dHNpZGUgcGVvcGxlIHRvIGNhbGwgaW5kZXhPZiBvbiBzbGlkZXMgYXJyYXkgKi9cbiAgc2VsZi5pbmRleE9mU2xpZGUgPSBmdW5jdGlvbihzbGlkZSkge1xuICAgIHJldHVybiBhbmd1bGFyLmlzRGVmaW5lZChzbGlkZS5pbmRleCkgPyArc2xpZGUuaW5kZXggOiBzbGlkZXMuaW5kZXhPZihzbGlkZSk7XG4gIH07XG5cbiAgJHNjb3BlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3SW5kZXggPSAoc2VsZi5nZXRDdXJyZW50SW5kZXgoKSArIDEpICUgc2xpZGVzLmxlbmd0aDtcblxuICAgIGlmIChuZXdJbmRleCA9PT0gMCAmJiAkc2NvcGUubm9XcmFwKCkpIHtcbiAgICAgICRzY29wZS5wYXVzZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmLnNlbGVjdChnZXRTbGlkZUJ5SW5kZXgobmV3SW5kZXgpLCAnbmV4dCcpO1xuICB9O1xuXG4gICRzY29wZS5wcmV2ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5ld0luZGV4ID0gc2VsZi5nZXRDdXJyZW50SW5kZXgoKSAtIDEgPCAwID8gc2xpZGVzLmxlbmd0aCAtIDEgOiBzZWxmLmdldEN1cnJlbnRJbmRleCgpIC0gMTtcblxuICAgIGlmICgkc2NvcGUubm9XcmFwKCkgJiYgbmV3SW5kZXggPT09IHNsaWRlcy5sZW5ndGggLSAxKXtcbiAgICAgICRzY29wZS5wYXVzZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmLnNlbGVjdChnZXRTbGlkZUJ5SW5kZXgobmV3SW5kZXgpLCAncHJldicpO1xuICB9O1xuXG4gICRzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgIHJldHVybiBzZWxmLmN1cnJlbnRTbGlkZSA9PT0gc2xpZGU7XG4gIH07XG5cbiAgJHNjb3BlLiR3YXRjaCgnaW50ZXJ2YWwnLCByZXN0YXJ0VGltZXIpO1xuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIHJlc2V0VGltZXIpO1xuXG4gIGZ1bmN0aW9uIHJlc3RhcnRUaW1lcigpIHtcbiAgICByZXNldFRpbWVyKCk7XG4gICAgdmFyIGludGVydmFsID0gKyRzY29wZS5pbnRlcnZhbDtcbiAgICBpZiAoIWlzTmFOKGludGVydmFsKSAmJiBpbnRlcnZhbCA+IDApIHtcbiAgICAgIGN1cnJlbnRJbnRlcnZhbCA9ICRpbnRlcnZhbCh0aW1lckZuLCBpbnRlcnZhbCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUaW1lcigpIHtcbiAgICBpZiAoY3VycmVudEludGVydmFsKSB7XG4gICAgICAkaW50ZXJ2YWwuY2FuY2VsKGN1cnJlbnRJbnRlcnZhbCk7XG4gICAgICBjdXJyZW50SW50ZXJ2YWwgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRpbWVyRm4oKSB7XG4gICAgdmFyIGludGVydmFsID0gKyRzY29wZS5pbnRlcnZhbDtcbiAgICBpZiAoaXNQbGF5aW5nICYmICFpc05hTihpbnRlcnZhbCkgJiYgaW50ZXJ2YWwgPiAwICYmIHNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICRzY29wZS5uZXh0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS5wYXVzZSgpO1xuICAgIH1cbiAgfVxuXG4gICRzY29wZS5wbGF5ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFpc1BsYXlpbmcpIHtcbiAgICAgIGlzUGxheWluZyA9IHRydWU7XG4gICAgICByZXN0YXJ0VGltZXIoKTtcbiAgICB9XG4gIH07XG4gICRzY29wZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghJHNjb3BlLm5vUGF1c2UpIHtcbiAgICAgIGlzUGxheWluZyA9IGZhbHNlO1xuICAgICAgcmVzZXRUaW1lcigpO1xuICAgIH1cbiAgfTtcblxuICBzZWxmLmFkZFNsaWRlID0gZnVuY3Rpb24oc2xpZGUsIGVsZW1lbnQpIHtcbiAgICBzbGlkZS4kZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgc2xpZGVzLnB1c2goc2xpZGUpO1xuICAgIC8vaWYgdGhpcyBpcyB0aGUgZmlyc3Qgc2xpZGUgb3IgdGhlIHNsaWRlIGlzIHNldCB0byBhY3RpdmUsIHNlbGVjdCBpdFxuICAgIGlmKHNsaWRlcy5sZW5ndGggPT09IDEgfHwgc2xpZGUuYWN0aXZlKSB7XG4gICAgICBzZWxmLnNlbGVjdChzbGlkZXNbc2xpZGVzLmxlbmd0aC0xXSk7XG4gICAgICBpZiAoc2xpZGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICRzY29wZS5wbGF5KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBzZWxmLnJlbW92ZVNsaWRlID0gZnVuY3Rpb24oc2xpZGUpIHtcbiAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoc2xpZGUuaW5kZXgpKSB7XG4gICAgICBzbGlkZXMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIHJldHVybiArYS5pbmRleCA+ICtiLmluZGV4O1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vZ2V0IHRoZSBpbmRleCBvZiB0aGUgc2xpZGUgaW5zaWRlIHRoZSBjYXJvdXNlbFxuICAgIHZhciBpbmRleCA9IHNsaWRlcy5pbmRleE9mKHNsaWRlKTtcbiAgICBzbGlkZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICBpZiAoc2xpZGVzLmxlbmd0aCA+IDAgJiYgc2xpZGUuYWN0aXZlKSB7XG4gICAgICBpZiAoaW5kZXggPj0gc2xpZGVzLmxlbmd0aCkge1xuICAgICAgICBzZWxmLnNlbGVjdChzbGlkZXNbaW5kZXgtMV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5zZWxlY3Qoc2xpZGVzW2luZGV4XSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjdXJyZW50SW5kZXggPiBpbmRleCkge1xuICAgICAgY3VycmVudEluZGV4LS07XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS4kd2F0Y2goJ25vVHJhbnNpdGlvbicsIGZ1bmN0aW9uKG5vVHJhbnNpdGlvbikge1xuICAgICRlbGVtZW50LmRhdGEoTk9fVFJBTlNJVElPTiwgbm9UcmFuc2l0aW9uKTtcbiAgfSk7XG5cbn1dKVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6Y2Fyb3VzZWxcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ2Fyb3VzZWwgaXMgdGhlIG91dGVyIGNvbnRhaW5lciBmb3IgYSBzZXQgb2YgaW1hZ2UgJ3NsaWRlcycgdG8gc2hvd2Nhc2UuXG4gKlxuICogQHBhcmFtIHtudW1iZXI9fSBpbnRlcnZhbCBUaGUgdGltZSwgaW4gbWlsbGlzZWNvbmRzLCB0aGF0IGl0IHdpbGwgdGFrZSB0aGUgY2Fyb3VzZWwgdG8gZ28gdG8gdGhlIG5leHQgc2xpZGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBub1RyYW5zaXRpb24gV2hldGhlciB0byBkaXNhYmxlIHRyYW5zaXRpb25zIG9uIHRoZSBjYXJvdXNlbC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vUGF1c2UgV2hldGhlciB0byBkaXNhYmxlIHBhdXNpbmcgb24gdGhlIGNhcm91c2VsIChieSBkZWZhdWx0LCB0aGUgY2Fyb3VzZWwgaW50ZXJ2YWwgcGF1c2VzIG9uIGhvdmVyKS5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgPGNhcm91c2VsPlxuICAgICAgPHNsaWRlPlxuICAgICAgICA8aW1nIHNyYz1cImh0dHA6Ly9wbGFjZWtpdHRlbi5jb20vMTUwLzE1MFwiIHN0eWxlPVwibWFyZ2luOmF1dG87XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1jYXB0aW9uXCI+XG4gICAgICAgICAgPHA+QmVhdXRpZnVsITwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3NsaWRlPlxuICAgICAgPHNsaWRlPlxuICAgICAgICA8aW1nIHNyYz1cImh0dHA6Ly9wbGFjZWtpdHRlbi5jb20vMTAwLzE1MFwiIHN0eWxlPVwibWFyZ2luOmF1dG87XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1jYXB0aW9uXCI+XG4gICAgICAgICAgPHA+RCdhd3chPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvc2xpZGU+XG4gICAgPC9jYXJvdXNlbD5cbiAgPC9maWxlPlxuICA8ZmlsZSBuYW1lPVwiZGVtby5jc3NcIj5cbiAgICAuY2Fyb3VzZWwtaW5kaWNhdG9ycyB7XG4gICAgICB0b3A6IGF1dG87XG4gICAgICBib3R0b206IDE1cHg7XG4gICAgfVxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ2Nhcm91c2VsJywgW2Z1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBjb250cm9sbGVyOiAnQ2Fyb3VzZWxDb250cm9sbGVyJyxcbiAgICByZXF1aXJlOiAnY2Fyb3VzZWwnLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCcsXG4gICAgc2NvcGU6IHtcbiAgICAgIGludGVydmFsOiAnPScsXG4gICAgICBub1RyYW5zaXRpb246ICc9JyxcbiAgICAgIG5vUGF1c2U6ICc9JyxcbiAgICAgIG5vV3JhcDogJyYnXG4gICAgfVxuICB9O1xufV0pXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkuYm9vdHN0cmFwLmNhcm91c2VsLmRpcmVjdGl2ZTpzbGlkZVxuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgc2xpZGUgaW5zaWRlIGEge0BsaW5rIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6Y2Fyb3VzZWwgY2Fyb3VzZWx9LiAgTXVzdCBiZSBwbGFjZWQgYXMgYSBjaGlsZCBvZiBhIGNhcm91c2VsIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gYWN0aXZlIE1vZGVsIGJpbmRpbmcsIHdoZXRoZXIgb3Igbm90IHRoaXMgc2xpZGUgaXMgY3VycmVudGx5IGFjdGl2ZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBzbGlkZS4gVGhlIHNsaWRlcyB3aWxsIGJlIHNvcnRlZCBieSB0aGlzIHBhcmFtZXRlci5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG48ZGl2IG5nLWNvbnRyb2xsZXI9XCJDYXJvdXNlbERlbW9DdHJsXCI+XG4gIDxjYXJvdXNlbD5cbiAgICA8c2xpZGUgbmctcmVwZWF0PVwic2xpZGUgaW4gc2xpZGVzXCIgYWN0aXZlPVwic2xpZGUuYWN0aXZlXCIgaW5kZXg9XCIkaW5kZXhcIj5cbiAgICAgIDxpbWcgbmctc3JjPVwie3tzbGlkZS5pbWFnZX19XCIgc3R5bGU9XCJtYXJnaW46YXV0bztcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1jYXB0aW9uXCI+XG4gICAgICAgIDxoND5TbGlkZSB7eyRpbmRleH19PC9oND5cbiAgICAgICAgPHA+e3tzbGlkZS50ZXh0fX08L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L3NsaWRlPlxuICA8L2Nhcm91c2VsPlxuICBJbnRlcnZhbCwgaW4gbWlsbGlzZWNvbmRzOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwibXlJbnRlcnZhbFwiPlxuICA8YnIgLz5FbnRlciBhIG5lZ2F0aXZlIG51bWJlciB0byBzdG9wIHRoZSBpbnRlcnZhbC5cbjwvZGl2PlxuICA8L2ZpbGU+XG4gIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbmZ1bmN0aW9uIENhcm91c2VsRGVtb0N0cmwoJHNjb3BlKSB7XG4gICRzY29wZS5teUludGVydmFsID0gNTAwMDtcbn1cbiAgPC9maWxlPlxuICA8ZmlsZSBuYW1lPVwiZGVtby5jc3NcIj5cbiAgICAuY2Fyb3VzZWwtaW5kaWNhdG9ycyB7XG4gICAgICB0b3A6IGF1dG87XG4gICAgICBib3R0b206IDE1cHg7XG4gICAgfVxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4qL1xuXG4uZGlyZWN0aXZlKCdzbGlkZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICdeY2Fyb3VzZWwnLFxuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWwnLFxuICAgIHNjb3BlOiB7XG4gICAgICBhY3RpdmU6ICc9PycsXG4gICAgICBpbmRleDogJz0/J1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY2Fyb3VzZWxDdHJsKSB7XG4gICAgICBjYXJvdXNlbEN0cmwuYWRkU2xpZGUoc2NvcGUsIGVsZW1lbnQpO1xuICAgICAgLy93aGVuIHRoZSBzY29wZSBpcyBkZXN0cm95ZWQgdGhlbiByZW1vdmUgdGhlIHNsaWRlIGZyb20gdGhlIGN1cnJlbnQgc2xpZGVzIGFycmF5XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhcm91c2VsQ3RybC5yZW1vdmVTbGlkZShzY29wZSk7XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCdhY3RpdmUnLCBmdW5jdGlvbihhY3RpdmUpIHtcbiAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgIGNhcm91c2VsQ3RybC5zZWxlY3Qoc2NvcGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KVxuXG4uYW5pbWF0aW9uKCcuaXRlbScsIFtcbiAgICAgICAgICckYW5pbWF0ZScsXG5mdW5jdGlvbiAoJGFuaW1hdGUpIHtcbiAgdmFyIE5PX1RSQU5TSVRJT04gPSAndWliLW5vVHJhbnNpdGlvbicsXG4gICAgU0xJREVfRElSRUNUSU9OID0gJ3VpYi1zbGlkZURpcmVjdGlvbic7XG5cbiAgcmV0dXJuIHtcbiAgICBiZWZvcmVBZGRDbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkge1xuICAgICAgLy8gRHVlIHRvIHRyYW5zY2x1c2lvbiwgbm9UcmFuc2l0aW9uIHByb3BlcnR5IGlzIG9uIHBhcmVudCdzIHNjb3BlXG4gICAgICBpZiAoY2xhc3NOYW1lID09ICdhY3RpdmUnICYmIGVsZW1lbnQucGFyZW50KCkgJiZcbiAgICAgICAgICAhZWxlbWVudC5wYXJlbnQoKS5kYXRhKE5PX1RSQU5TSVRJT04pKSB7XG4gICAgICAgIHZhciBzdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBlbGVtZW50LmRhdGEoU0xJREVfRElSRUNUSU9OKTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbkNsYXNzID0gZGlyZWN0aW9uID09ICduZXh0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoZGlyZWN0aW9uKTtcbiAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgZGlyZWN0aW9uQ2xhc3MpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghc3RvcHBlZCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhkaXJlY3Rpb25DbGFzcyArICcgJyArIGRpcmVjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGRvbmUoKTtcbiAgICB9LFxuICAgIGJlZm9yZVJlbW92ZUNsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKSB7XG4gICAgICAvLyBEdWUgdG8gdHJhbnNjbHVzaW9uLCBub1RyYW5zaXRpb24gcHJvcGVydHkgaXMgb24gcGFyZW50J3Mgc2NvcGVcbiAgICAgIGlmIChjbGFzc05hbWUgPT0gJ2FjdGl2ZScgJiYgZWxlbWVudC5wYXJlbnQoKSAmJlxuICAgICAgICAgICFlbGVtZW50LnBhcmVudCgpLmRhdGEoTk9fVFJBTlNJVElPTikpIHtcbiAgICAgICAgdmFyIHN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGVsZW1lbnQuZGF0YShTTElERV9ESVJFQ1RJT04pO1xuICAgICAgICB2YXIgZGlyZWN0aW9uQ2xhc3MgPSBkaXJlY3Rpb24gPT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgZGlyZWN0aW9uQ2xhc3MpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghc3RvcHBlZCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhkaXJlY3Rpb25DbGFzcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBkb25lKCk7XG4gICAgfVxuICB9O1xuXG59XSlcblxuXG47XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuZGF0ZXBhcnNlcicsIFtdKVxuXG4uc2VydmljZSgnZGF0ZVBhcnNlcicsIFsnJGxvY2FsZScsICdvcmRlckJ5RmlsdGVyJywgZnVuY3Rpb24oJGxvY2FsZSwgb3JkZXJCeUZpbHRlcikge1xuICAvLyBQdWxsZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbWJvc3RvY2svZDMvYmxvYi9tYXN0ZXIvc3JjL2Zvcm1hdC9yZXF1b3RlLmpzXG4gIHZhciBTUEVDSUFMX0NIQVJBQ1RFUlNfUkVHRVhQID0gL1tcXFxcXFxeXFwkXFwqXFwrXFw/XFx8XFxbXFxdXFwoXFwpXFwuXFx7XFx9XS9nO1xuXG4gIHRoaXMucGFyc2VycyA9IHt9O1xuXG4gIHZhciBmb3JtYXRDb2RlVG9SZWdleCA9IHtcbiAgICAneXl5eSc6IHtcbiAgICAgIHJlZ2V4OiAnXFxcXGR7NH0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMueWVhciA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ3l5Jzoge1xuICAgICAgcmVnZXg6ICdcXFxcZHsyfScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy55ZWFyID0gK3ZhbHVlICsgMjAwMDsgfVxuICAgIH0sXG4gICAgJ3knOiB7XG4gICAgICByZWdleDogJ1xcXFxkezEsNH0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMueWVhciA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ01NTU0nOiB7XG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLk1PTlRILmpvaW4oJ3wnKSxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLk1PTlRILmluZGV4T2YodmFsdWUpOyB9XG4gICAgfSxcbiAgICAnTU1NJzoge1xuICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVE1PTlRILmpvaW4oJ3wnKSxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUTU9OVEguaW5kZXhPZih2YWx1ZSk7IH1cbiAgICB9LFxuICAgICdNTSc6IHtcbiAgICAgIHJlZ2V4OiAnMFsxLTldfDFbMC0yXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5tb250aCA9IHZhbHVlIC0gMTsgfVxuICAgIH0sXG4gICAgJ00nOiB7XG4gICAgICByZWdleDogJ1sxLTldfDFbMC0yXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5tb250aCA9IHZhbHVlIC0gMTsgfVxuICAgIH0sXG4gICAgJ2RkJzoge1xuICAgICAgcmVnZXg6ICdbMC0yXVswLTldezF9fDNbMC0xXXsxfScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5kYXRlID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnZCc6IHtcbiAgICAgIHJlZ2V4OiAnWzEtMl0/WzAtOV17MX18M1swLTFdezF9JyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmRhdGUgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdFRUVFJzoge1xuICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5EQVkuam9pbignfCcpXG4gICAgfSxcbiAgICAnRUVFJzoge1xuICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVERBWS5qb2luKCd8JylcbiAgICB9LFxuICAgICdISCc6IHtcbiAgICAgIHJlZ2V4OiAnKD86MHwxKVswLTldfDJbMC0zXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5ob3VycyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ0gnOiB7XG4gICAgICByZWdleDogJzE/WzAtOV18MlswLTNdJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmhvdXJzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnbW0nOiB7XG4gICAgICByZWdleDogJ1swLTVdWzAtOV0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubWludXRlcyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ20nOiB7XG4gICAgICByZWdleDogJ1swLTldfFsxLTVdWzAtOV0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubWludXRlcyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ3Nzcyc6IHtcbiAgICAgIHJlZ2V4OiAnWzAtOV1bMC05XVswLTldJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1pbGxpc2Vjb25kcyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ3NzJzoge1xuICAgICAgcmVnZXg6ICdbMC01XVswLTldJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnNlY29uZHMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdzJzoge1xuICAgICAgcmVnZXg6ICdbMC05XXxbMS01XVswLTldJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnNlY29uZHMgPSArdmFsdWU7IH1cbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gY3JlYXRlUGFyc2VyKGZvcm1hdCkge1xuICAgIHZhciBtYXAgPSBbXSwgcmVnZXggPSBmb3JtYXQuc3BsaXQoJycpO1xuXG4gICAgYW5ndWxhci5mb3JFYWNoKGZvcm1hdENvZGVUb1JlZ2V4LCBmdW5jdGlvbihkYXRhLCBjb2RlKSB7XG4gICAgICB2YXIgaW5kZXggPSBmb3JtYXQuaW5kZXhPZihjb2RlKTtcblxuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnNwbGl0KCcnKTtcblxuICAgICAgICByZWdleFtpbmRleF0gPSAnKCcgKyBkYXRhLnJlZ2V4ICsgJyknO1xuICAgICAgICBmb3JtYXRbaW5kZXhdID0gJyQnOyAvLyBDdXN0b20gc3ltYm9sIHRvIGRlZmluZSBjb25zdW1lZCBwYXJ0IG9mIGZvcm1hdFxuICAgICAgICBmb3IgKHZhciBpID0gaW5kZXggKyAxLCBuID0gaW5kZXggKyBjb2RlLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgIHJlZ2V4W2ldID0gJyc7XG4gICAgICAgICAgZm9ybWF0W2ldID0gJyQnO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdC5qb2luKCcnKTtcblxuICAgICAgICBtYXAucHVzaCh7IGluZGV4OiBpbmRleCwgYXBwbHk6IGRhdGEuYXBwbHkgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVnZXg6IG5ldyBSZWdFeHAoJ14nICsgcmVnZXguam9pbignJykgKyAnJCcpLFxuICAgICAgbWFwOiBvcmRlckJ5RmlsdGVyKG1hcCwgJ2luZGV4JylcbiAgICB9O1xuICB9XG5cbiAgdGhpcy5wYXJzZSA9IGZ1bmN0aW9uKGlucHV0LCBmb3JtYXQsIGJhc2VEYXRlKSB7XG4gICAgaWYgKCAhYW5ndWxhci5pc1N0cmluZyhpbnB1dCkgfHwgIWZvcm1hdCApIHtcbiAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICBmb3JtYXQgPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFNbZm9ybWF0XSB8fCBmb3JtYXQ7XG4gICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoU1BFQ0lBTF9DSEFSQUNURVJTX1JFR0VYUCwgJ1xcXFwkJicpO1xuXG4gICAgaWYgKCAhdGhpcy5wYXJzZXJzW2Zvcm1hdF0gKSB7XG4gICAgICB0aGlzLnBhcnNlcnNbZm9ybWF0XSA9IGNyZWF0ZVBhcnNlcihmb3JtYXQpO1xuICAgIH1cblxuICAgIHZhciBwYXJzZXIgPSB0aGlzLnBhcnNlcnNbZm9ybWF0XSxcbiAgICAgICAgcmVnZXggPSBwYXJzZXIucmVnZXgsXG4gICAgICAgIG1hcCA9IHBhcnNlci5tYXAsXG4gICAgICAgIHJlc3VsdHMgPSBpbnB1dC5tYXRjaChyZWdleCk7XG5cbiAgICBpZiAoIHJlc3VsdHMgJiYgcmVzdWx0cy5sZW5ndGggKSB7XG4gICAgICB2YXIgZmllbGRzLCBkdDtcbiAgICAgIGlmIChiYXNlRGF0ZSkge1xuICAgICAgICBmaWVsZHMgPSB7XG4gICAgICAgICAgeWVhcjogYmFzZURhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICBtb250aDogYmFzZURhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICBkYXRlOiBiYXNlRGF0ZS5nZXREYXRlKCksXG4gICAgICAgICAgaG91cnM6IGJhc2VEYXRlLmdldEhvdXJzKCksXG4gICAgICAgICAgbWludXRlczogYmFzZURhdGUuZ2V0TWludXRlcygpLFxuICAgICAgICAgIHNlY29uZHM6IGJhc2VEYXRlLmdldFNlY29uZHMoKSxcbiAgICAgICAgICBtaWxsaXNlY29uZHM6IGJhc2VEYXRlLmdldE1pbGxpc2Vjb25kcygpXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaWVsZHMgPSB7IHllYXI6IDE5MDAsIG1vbnRoOiAwLCBkYXRlOiAxLCBob3VyczogMCwgbWludXRlczogMCwgc2Vjb25kczogMCwgbWlsbGlzZWNvbmRzOiAwIH07XG4gICAgICB9XG5cbiAgICAgIGZvciggdmFyIGkgPSAxLCBuID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBuOyBpKysgKSB7XG4gICAgICAgIHZhciBtYXBwZXIgPSBtYXBbaS0xXTtcbiAgICAgICAgaWYgKCBtYXBwZXIuYXBwbHkgKSB7XG4gICAgICAgICAgbWFwcGVyLmFwcGx5LmNhbGwoZmllbGRzLCByZXN1bHRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIGlzVmFsaWQoZmllbGRzLnllYXIsIGZpZWxkcy5tb250aCwgZmllbGRzLmRhdGUpICkge1xuICAgICAgICBkdCA9IG5ldyBEYXRlKGZpZWxkcy55ZWFyLCBmaWVsZHMubW9udGgsIGZpZWxkcy5kYXRlLCBmaWVsZHMuaG91cnMsIGZpZWxkcy5taW51dGVzLCBmaWVsZHMuc2Vjb25kcyxcbiAgICAgICAgICBmaWVsZHMubWlsbGlzZWNvbmRzIHx8IDApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZHQ7XG4gICAgfVxuICB9O1xuXG4gIC8vIENoZWNrIGlmIGRhdGUgaXMgdmFsaWQgZm9yIHNwZWNpZmljIG1vbnRoIChhbmQgeWVhciBmb3IgRmVicnVhcnkpLlxuICAvLyBNb250aDogMCA9IEphbiwgMSA9IEZlYiwgZXRjXG4gIGZ1bmN0aW9uIGlzVmFsaWQoeWVhciwgbW9udGgsIGRhdGUpIHtcbiAgICBpZiAoZGF0ZSA8IDEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIG1vbnRoID09PSAxICYmIGRhdGUgPiAyOCkge1xuICAgICAgICByZXR1cm4gZGF0ZSA9PT0gMjkgJiYgKCh5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwKSB8fCB5ZWFyICUgNDAwID09PSAwKTtcbiAgICB9XG5cbiAgICBpZiAoIG1vbnRoID09PSAzIHx8IG1vbnRoID09PSA1IHx8IG1vbnRoID09PSA4IHx8IG1vbnRoID09PSAxMCkge1xuICAgICAgICByZXR1cm4gZGF0ZSA8IDMxO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucG9zaXRpb24nLCBbXSlcblxuLyoqXG4gKiBBIHNldCBvZiB1dGlsaXR5IG1ldGhvZHMgdGhhdCBjYW4gYmUgdXNlIHRvIHJldHJpZXZlIHBvc2l0aW9uIG9mIERPTSBlbGVtZW50cy5cbiAqIEl0IGlzIG1lYW50IHRvIGJlIHVzZWQgd2hlcmUgd2UgbmVlZCB0byBhYnNvbHV0ZS1wb3NpdGlvbiBET00gZWxlbWVudHMgaW5cbiAqIHJlbGF0aW9uIHRvIG90aGVyLCBleGlzdGluZyBlbGVtZW50cyAodGhpcyBpcyB0aGUgY2FzZSBmb3IgdG9vbHRpcHMsIHBvcG92ZXJzLFxuICogdHlwZWFoZWFkIHN1Z2dlc3Rpb25zIGV0Yy4pLlxuICovXG4gIC5mYWN0b3J5KCckcG9zaXRpb24nLCBbJyRkb2N1bWVudCcsICckd2luZG93JywgZnVuY3Rpb24gKCRkb2N1bWVudCwgJHdpbmRvdykge1xuXG4gICAgZnVuY3Rpb24gZ2V0U3R5bGUoZWwsIGNzc3Byb3ApIHtcbiAgICAgIGlmIChlbC5jdXJyZW50U3R5bGUpIHsgLy9JRVxuICAgICAgICByZXR1cm4gZWwuY3VycmVudFN0eWxlW2Nzc3Byb3BdO1xuICAgICAgfSBlbHNlIGlmICgkd2luZG93LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICAgICAgcmV0dXJuICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClbY3NzcHJvcF07XG4gICAgICB9XG4gICAgICAvLyBmaW5hbGx5IHRyeSBhbmQgZ2V0IGlubGluZSBzdHlsZVxuICAgICAgcmV0dXJuIGVsLnN0eWxlW2Nzc3Byb3BdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGdpdmVuIGVsZW1lbnQgaXMgc3RhdGljYWxseSBwb3NpdGlvbmVkXG4gICAgICogQHBhcmFtIGVsZW1lbnQgLSByYXcgRE9NIGVsZW1lbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0YXRpY1Bvc2l0aW9uZWQoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIChnZXRTdHlsZShlbGVtZW50LCAncG9zaXRpb24nKSB8fCAnc3RhdGljJyApID09PSAnc3RhdGljJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSBjbG9zZXN0LCBub24tc3RhdGljYWxseSBwb3NpdGlvbmVkIHBhcmVudE9mZnNldCBvZiBhIGdpdmVuIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqL1xuICAgIHZhciBwYXJlbnRPZmZzZXRFbCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICB2YXIgZG9jRG9tRWwgPSAkZG9jdW1lbnRbMF07XG4gICAgICB2YXIgb2Zmc2V0UGFyZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQgfHwgZG9jRG9tRWw7XG4gICAgICB3aGlsZSAob2Zmc2V0UGFyZW50ICYmIG9mZnNldFBhcmVudCAhPT0gZG9jRG9tRWwgJiYgaXNTdGF0aWNQb3NpdGlvbmVkKG9mZnNldFBhcmVudCkgKSB7XG4gICAgICAgIG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY0RvbUVsO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBQcm92aWRlcyByZWFkLW9ubHkgZXF1aXZhbGVudCBvZiBqUXVlcnkncyBwb3NpdGlvbiBmdW5jdGlvbjpcbiAgICAgICAqIGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wb3NpdGlvbi9cbiAgICAgICAqL1xuICAgICAgcG9zaXRpb246IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHZhciBlbEJDUiA9IHRoaXMub2Zmc2V0KGVsZW1lbnQpO1xuICAgICAgICB2YXIgb2Zmc2V0UGFyZW50QkNSID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcbiAgICAgICAgdmFyIG9mZnNldFBhcmVudEVsID0gcGFyZW50T2Zmc2V0RWwoZWxlbWVudFswXSk7XG4gICAgICAgIGlmIChvZmZzZXRQYXJlbnRFbCAhPSAkZG9jdW1lbnRbMF0pIHtcbiAgICAgICAgICBvZmZzZXRQYXJlbnRCQ1IgPSB0aGlzLm9mZnNldChhbmd1bGFyLmVsZW1lbnQob2Zmc2V0UGFyZW50RWwpKTtcbiAgICAgICAgICBvZmZzZXRQYXJlbnRCQ1IudG9wICs9IG9mZnNldFBhcmVudEVsLmNsaWVudFRvcCAtIG9mZnNldFBhcmVudEVsLnNjcm9sbFRvcDtcbiAgICAgICAgICBvZmZzZXRQYXJlbnRCQ1IubGVmdCArPSBvZmZzZXRQYXJlbnRFbC5jbGllbnRMZWZ0IC0gb2Zmc2V0UGFyZW50RWwuc2Nyb2xsTGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBib3VuZGluZ0NsaWVudFJlY3QgPSBlbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHdpZHRoOiBib3VuZGluZ0NsaWVudFJlY3Qud2lkdGggfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRXaWR0aCcpLFxuICAgICAgICAgIGhlaWdodDogYm91bmRpbmdDbGllbnRSZWN0LmhlaWdodCB8fCBlbGVtZW50LnByb3AoJ29mZnNldEhlaWdodCcpLFxuICAgICAgICAgIHRvcDogZWxCQ1IudG9wIC0gb2Zmc2V0UGFyZW50QkNSLnRvcCxcbiAgICAgICAgICBsZWZ0OiBlbEJDUi5sZWZ0IC0gb2Zmc2V0UGFyZW50QkNSLmxlZnRcbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUHJvdmlkZXMgcmVhZC1vbmx5IGVxdWl2YWxlbnQgb2YgalF1ZXJ5J3Mgb2Zmc2V0IGZ1bmN0aW9uOlxuICAgICAgICogaHR0cDovL2FwaS5qcXVlcnkuY29tL29mZnNldC9cbiAgICAgICAqL1xuICAgICAgb2Zmc2V0OiBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICB2YXIgYm91bmRpbmdDbGllbnRSZWN0ID0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB3aWR0aDogYm91bmRpbmdDbGllbnRSZWN0LndpZHRoIHx8IGVsZW1lbnQucHJvcCgnb2Zmc2V0V2lkdGgnKSxcbiAgICAgICAgICBoZWlnaHQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHQgfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKSxcbiAgICAgICAgICB0b3A6IGJvdW5kaW5nQ2xpZW50UmVjdC50b3AgKyAoJHdpbmRvdy5wYWdlWU9mZnNldCB8fCAkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCksXG4gICAgICAgICAgbGVmdDogYm91bmRpbmdDbGllbnRSZWN0LmxlZnQgKyAoJHdpbmRvdy5wYWdlWE9mZnNldCB8fCAkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQpXG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFByb3ZpZGVzIGNvb3JkaW5hdGVzIGZvciB0aGUgdGFyZ2V0RWwgaW4gcmVsYXRpb24gdG8gaG9zdEVsXG4gICAgICAgKi9cbiAgICAgIHBvc2l0aW9uRWxlbWVudHM6IGZ1bmN0aW9uIChob3N0RWwsIHRhcmdldEVsLCBwb3NpdGlvblN0ciwgYXBwZW5kVG9Cb2R5KSB7XG5cbiAgICAgICAgdmFyIHBvc2l0aW9uU3RyUGFydHMgPSBwb3NpdGlvblN0ci5zcGxpdCgnLScpO1xuICAgICAgICB2YXIgcG9zMCA9IHBvc2l0aW9uU3RyUGFydHNbMF0sIHBvczEgPSBwb3NpdGlvblN0clBhcnRzWzFdIHx8ICdjZW50ZXInO1xuXG4gICAgICAgIHZhciBob3N0RWxQb3MsXG4gICAgICAgICAgdGFyZ2V0RWxXaWR0aCxcbiAgICAgICAgICB0YXJnZXRFbEhlaWdodCxcbiAgICAgICAgICB0YXJnZXRFbFBvcztcblxuICAgICAgICBob3N0RWxQb3MgPSBhcHBlbmRUb0JvZHkgPyB0aGlzLm9mZnNldChob3N0RWwpIDogdGhpcy5wb3NpdGlvbihob3N0RWwpO1xuXG4gICAgICAgIHRhcmdldEVsV2lkdGggPSB0YXJnZXRFbC5wcm9wKCdvZmZzZXRXaWR0aCcpO1xuICAgICAgICB0YXJnZXRFbEhlaWdodCA9IHRhcmdldEVsLnByb3AoJ29mZnNldEhlaWdodCcpO1xuXG4gICAgICAgIHZhciBzaGlmdFdpZHRoID0ge1xuICAgICAgICAgIGNlbnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy5sZWZ0ICsgaG9zdEVsUG9zLndpZHRoIC8gMiAtIHRhcmdldEVsV2lkdGggLyAyO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbGVmdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy5sZWZ0O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmlnaHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MubGVmdCArIGhvc3RFbFBvcy53aWR0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHNoaWZ0SGVpZ2h0ID0ge1xuICAgICAgICAgIGNlbnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy50b3AgKyBob3N0RWxQb3MuaGVpZ2h0IC8gMiAtIHRhcmdldEVsSGVpZ2h0IC8gMjtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy50b3A7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBib3R0b206IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MudG9wICsgaG9zdEVsUG9zLmhlaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc3dpdGNoIChwb3MwKSB7XG4gICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7XG4gICAgICAgICAgICAgIHRvcDogc2hpZnRIZWlnaHRbcG9zMV0oKSxcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MwXSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICB0YXJnZXRFbFBvcyA9IHtcbiAgICAgICAgICAgICAgdG9wOiBzaGlmdEhlaWdodFtwb3MxXSgpLFxuICAgICAgICAgICAgICBsZWZ0OiBob3N0RWxQb3MubGVmdCAtIHRhcmdldEVsV2lkdGhcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7XG4gICAgICAgICAgICAgIHRvcDogc2hpZnRIZWlnaHRbcG9zMF0oKSxcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MxXSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRhcmdldEVsUG9zID0ge1xuICAgICAgICAgICAgICB0b3A6IGhvc3RFbFBvcy50b3AgLSB0YXJnZXRFbEhlaWdodCxcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MxXSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0RWxQb3M7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmRhdGVwaWNrZXInLCBbJ3VpLmJvb3RzdHJhcC5kYXRlcGFyc2VyJywgJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbiddKVxuXG4uY29uc3RhbnQoJ2RhdGVwaWNrZXJDb25maWcnLCB7XG4gIGZvcm1hdERheTogJ2RkJyxcbiAgZm9ybWF0TW9udGg6ICdNTU1NJyxcbiAgZm9ybWF0WWVhcjogJ3l5eXknLFxuICBmb3JtYXREYXlIZWFkZXI6ICdFRUUnLFxuICBmb3JtYXREYXlUaXRsZTogJ01NTU0geXl5eScsXG4gIGZvcm1hdE1vbnRoVGl0bGU6ICd5eXl5JyxcbiAgZGF0ZXBpY2tlck1vZGU6ICdkYXknLFxuICBtaW5Nb2RlOiAnZGF5JyxcbiAgbWF4TW9kZTogJ3llYXInLFxuICBzaG93V2Vla3M6IHRydWUsXG4gIHN0YXJ0aW5nRGF5OiAwLFxuICB5ZWFyUmFuZ2U6IDIwLFxuICBtaW5EYXRlOiBudWxsLFxuICBtYXhEYXRlOiBudWxsLFxuICBzaG9ydGN1dFByb3BhZ2F0aW9uOiBmYWxzZVxufSlcblxuLmNvbnRyb2xsZXIoJ0RhdGVwaWNrZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsICckaW50ZXJwb2xhdGUnLCAnJGxvZycsICdkYXRlRmlsdGVyJywgJ2RhdGVwaWNrZXJDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgJHBhcnNlLCAkaW50ZXJwb2xhdGUsICRsb2csIGRhdGVGaWx0ZXIsIGRhdGVwaWNrZXJDb25maWcpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9OyAvLyBudWxsTW9kZWxDdHJsO1xuXG4gIC8vIE1vZGVzIGNoYWluXG4gIHRoaXMubW9kZXMgPSBbJ2RheScsICdtb250aCcsICd5ZWFyJ107XG5cbiAgLy8gQ29uZmlndXJhdGlvbiBhdHRyaWJ1dGVzXG4gIGFuZ3VsYXIuZm9yRWFjaChbJ2Zvcm1hdERheScsICdmb3JtYXRNb250aCcsICdmb3JtYXRZZWFyJywgJ2Zvcm1hdERheUhlYWRlcicsICdmb3JtYXREYXlUaXRsZScsICdmb3JtYXRNb250aFRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAnbWluTW9kZScsICdtYXhNb2RlJywgJ3Nob3dXZWVrcycsICdzdGFydGluZ0RheScsICd5ZWFyUmFuZ2UnLCAnc2hvcnRjdXRQcm9wYWdhdGlvbiddLCBmdW5jdGlvbigga2V5LCBpbmRleCApIHtcbiAgICBzZWxmW2tleV0gPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnNba2V5XSkgPyAoaW5kZXggPCA4ID8gJGludGVycG9sYXRlKCRhdHRyc1trZXldKSgkc2NvcGUuJHBhcmVudCkgOiAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnNba2V5XSkpIDogZGF0ZXBpY2tlckNvbmZpZ1trZXldO1xuICB9KTtcblxuICAvLyBXYXRjaGFibGUgZGF0ZSBhdHRyaWJ1dGVzXG4gIGFuZ3VsYXIuZm9yRWFjaChbJ21pbkRhdGUnLCAnbWF4RGF0ZSddLCBmdW5jdGlvbigga2V5ICkge1xuICAgIGlmICggJGF0dHJzW2tleV0gKSB7XG4gICAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRyc1trZXldKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgc2VsZltrZXldID0gdmFsdWUgPyBuZXcgRGF0ZSh2YWx1ZSkgOiBudWxsO1xuICAgICAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZltrZXldID0gZGF0ZXBpY2tlckNvbmZpZ1trZXldID8gbmV3IERhdGUoZGF0ZXBpY2tlckNvbmZpZ1trZXldKSA6IG51bGw7XG4gICAgfVxuICB9KTtcblxuICAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPSAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgfHwgZGF0ZXBpY2tlckNvbmZpZy5kYXRlcGlja2VyTW9kZTtcbiAgJHNjb3BlLm1heE1vZGUgPSBzZWxmLm1heE1vZGU7XG4gICRzY29wZS51bmlxdWVJZCA9ICdkYXRlcGlja2VyLScgKyAkc2NvcGUuJGlkICsgJy0nICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApO1xuXG4gIGlmKGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5pbml0RGF0ZSkpIHtcbiAgICB0aGlzLmFjdGl2ZURhdGUgPSAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuaW5pdERhdGUpIHx8IG5ldyBEYXRlKCk7XG4gICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRhdHRycy5pbml0RGF0ZSwgZnVuY3Rpb24oaW5pdERhdGUpe1xuICAgICAgaWYoaW5pdERhdGUgJiYgKG5nTW9kZWxDdHJsLiRpc0VtcHR5KG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKSB8fCBuZ01vZGVsQ3RybC4kaW52YWxpZCkpe1xuICAgICAgICBzZWxmLmFjdGl2ZURhdGUgPSBpbml0RGF0ZTtcbiAgICAgICAgc2VsZi5yZWZyZXNoVmlldygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuYWN0aXZlRGF0ZSA9ICBuZXcgRGF0ZSgpO1xuICB9XG5cbiAgJHNjb3BlLmlzQWN0aXZlID0gZnVuY3Rpb24oZGF0ZU9iamVjdCkge1xuICAgIGlmIChzZWxmLmNvbXBhcmUoZGF0ZU9iamVjdC5kYXRlLCBzZWxmLmFjdGl2ZURhdGUpID09PSAwKSB7XG4gICAgICAkc2NvcGUuYWN0aXZlRGF0ZUlkID0gZGF0ZU9iamVjdC51aWQ7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCBuZ01vZGVsQ3RybF8gKSB7XG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XG5cbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnJlbmRlcigpO1xuICAgIH07XG4gIH07XG5cbiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgKSB7XG4gICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlICksXG4gICAgICAgICAgaXNWYWxpZCA9ICFpc05hTihkYXRlKTtcblxuICAgICAgaWYgKCBpc1ZhbGlkICkge1xuICAgICAgICB0aGlzLmFjdGl2ZURhdGUgPSBkYXRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGxvZy5lcnJvcignRGF0ZXBpY2tlciBkaXJlY3RpdmU6IFwibmctbW9kZWxcIiB2YWx1ZSBtdXN0IGJlIGEgRGF0ZSBvYmplY3QsIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSAwMS4wMS4xOTcwIG9yIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhbiBSRkMyODIyIG9yIElTTyA4NjAxIGRhdGUuJyk7XG4gICAgICB9XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2RhdGUnLCBpc1ZhbGlkKTtcbiAgICB9XG4gICAgdGhpcy5yZWZyZXNoVmlldygpO1xuICB9O1xuXG4gIHRoaXMucmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIHRoaXMuZWxlbWVudCApIHtcbiAgICAgIHRoaXMuX3JlZnJlc2hWaWV3KCk7XG5cbiAgICAgIHZhciBkYXRlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSA/IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpIDogbnVsbDtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZGF0ZS1kaXNhYmxlZCcsICFkYXRlIHx8ICh0aGlzLmVsZW1lbnQgJiYgIXRoaXMuaXNEaXNhYmxlZChkYXRlKSkpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmNyZWF0ZURhdGVPYmplY3QgPSBmdW5jdGlvbihkYXRlLCBmb3JtYXQpIHtcbiAgICB2YXIgbW9kZWwgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID8gbmV3IERhdGUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkgOiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICBkYXRlOiBkYXRlLFxuICAgICAgbGFiZWw6IGRhdGVGaWx0ZXIoZGF0ZSwgZm9ybWF0KSxcbiAgICAgIHNlbGVjdGVkOiBtb2RlbCAmJiB0aGlzLmNvbXBhcmUoZGF0ZSwgbW9kZWwpID09PSAwLFxuICAgICAgZGlzYWJsZWQ6IHRoaXMuaXNEaXNhYmxlZChkYXRlKSxcbiAgICAgIGN1cnJlbnQ6IHRoaXMuY29tcGFyZShkYXRlLCBuZXcgRGF0ZSgpKSA9PT0gMCxcbiAgICAgIGN1c3RvbUNsYXNzOiB0aGlzLmN1c3RvbUNsYXNzKGRhdGUpXG4gICAgfTtcbiAgfTtcblxuICB0aGlzLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiggZGF0ZSApIHtcbiAgICByZXR1cm4gKCh0aGlzLm1pbkRhdGUgJiYgdGhpcy5jb21wYXJlKGRhdGUsIHRoaXMubWluRGF0ZSkgPCAwKSB8fCAodGhpcy5tYXhEYXRlICYmIHRoaXMuY29tcGFyZShkYXRlLCB0aGlzLm1heERhdGUpID4gMCkgfHwgKCRhdHRycy5kYXRlRGlzYWJsZWQgJiYgJHNjb3BlLmRhdGVEaXNhYmxlZCh7ZGF0ZTogZGF0ZSwgbW9kZTogJHNjb3BlLmRhdGVwaWNrZXJNb2RlfSkpKTtcbiAgfTtcblxuICAgIHRoaXMuY3VzdG9tQ2xhc3MgPSBmdW5jdGlvbiggZGF0ZSApIHtcbiAgICAgIHJldHVybiAkc2NvcGUuY3VzdG9tQ2xhc3Moe2RhdGU6IGRhdGUsIG1vZGU6ICRzY29wZS5kYXRlcGlja2VyTW9kZX0pO1xuICAgIH07XG5cbiAgLy8gU3BsaXQgYXJyYXkgaW50byBzbWFsbGVyIGFycmF5c1xuICB0aGlzLnNwbGl0ID0gZnVuY3Rpb24oYXJyLCBzaXplKSB7XG4gICAgdmFyIGFycmF5cyA9IFtdO1xuICAgIHdoaWxlIChhcnIubGVuZ3RoID4gMCkge1xuICAgICAgYXJyYXlzLnB1c2goYXJyLnNwbGljZSgwLCBzaXplKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheXM7XG4gIH07XG5cbiAgLy8gRml4IGEgaGFyZC1yZXByb2R1c2libGUgYnVnIHdpdGggdGltZXpvbmVzXG4gIC8vIFRoZSBidWcgZGVwZW5kcyBvbiBPUywgYnJvd3NlciwgY3VycmVudCB0aW1lem9uZSBhbmQgY3VycmVudCBkYXRlXG4gIC8vIGkuZS5cbiAgLy8gdmFyIGRhdGUgPSBuZXcgRGF0ZSgyMDE0LCAwLCAxKTtcbiAgLy8gY29uc29sZS5sb2coZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpLCBkYXRlLmdldEhvdXJzKCkpO1xuICAvLyBjYW4gcmVzdWx0IGluIFwiMjAxMyAxMSAzMSAyM1wiIGJlY2F1c2Ugb2YgdGhlIGJ1Zy5cbiAgdGhpcy5maXhUaW1lWm9uZSA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICB2YXIgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgZGF0ZS5zZXRIb3Vycyhob3VycyA9PT0gMjMgPyBob3VycyArIDIgOiAwKTtcbiAgfTtcblxuICAkc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oIGRhdGUgKSB7XG4gICAgaWYgKCAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWluTW9kZSApIHtcbiAgICAgIHZhciBkdCA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgPyBuZXcgRGF0ZSggbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSApIDogbmV3IERhdGUoMCwgMCwgMCwgMCwgMCwgMCwgMCk7XG4gICAgICBkdC5zZXRGdWxsWWVhciggZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpICk7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKCBkdCApO1xuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmFjdGl2ZURhdGUgPSBkYXRlO1xuICAgICAgJHNjb3BlLmRhdGVwaWNrZXJNb2RlID0gc2VsZi5tb2Rlc1sgc2VsZi5tb2Rlcy5pbmRleE9mKCAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgKSAtIDEgXTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLm1vdmUgPSBmdW5jdGlvbiggZGlyZWN0aW9uICkge1xuICAgIHZhciB5ZWFyID0gc2VsZi5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkgKyBkaXJlY3Rpb24gKiAoc2VsZi5zdGVwLnllYXJzIHx8IDApLFxuICAgICAgICBtb250aCA9IHNlbGYuYWN0aXZlRGF0ZS5nZXRNb250aCgpICsgZGlyZWN0aW9uICogKHNlbGYuc3RlcC5tb250aHMgfHwgMCk7XG4gICAgc2VsZi5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKHllYXIsIG1vbnRoLCAxKTtcbiAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XG4gIH07XG5cbiAgJHNjb3BlLnRvZ2dsZU1vZGUgPSBmdW5jdGlvbiggZGlyZWN0aW9uICkge1xuICAgIGRpcmVjdGlvbiA9IGRpcmVjdGlvbiB8fCAxO1xuXG4gICAgaWYgKCgkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWF4TW9kZSAmJiBkaXJlY3Rpb24gPT09IDEpIHx8ICgkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWluTW9kZSAmJiBkaXJlY3Rpb24gPT09IC0xKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgICRzY29wZS5kYXRlcGlja2VyTW9kZSA9IHNlbGYubW9kZXNbIHNlbGYubW9kZXMuaW5kZXhPZiggJHNjb3BlLmRhdGVwaWNrZXJNb2RlICkgKyBkaXJlY3Rpb24gXTtcbiAgfTtcblxuICAvLyBLZXkgZXZlbnQgbWFwcGVyXG4gICRzY29wZS5rZXlzID0geyAxMzonZW50ZXInLCAzMjonc3BhY2UnLCAzMzoncGFnZXVwJywgMzQ6J3BhZ2Vkb3duJywgMzU6J2VuZCcsIDM2Oidob21lJywgMzc6J2xlZnQnLCAzODondXAnLCAzOToncmlnaHQnLCA0MDonZG93bicgfTtcblxuICB2YXIgZm9jdXNFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5lbGVtZW50WzBdLmZvY3VzKCk7XG4gIH07XG5cbiAgLy8gTGlzdGVuIGZvciBmb2N1cyByZXF1ZXN0cyBmcm9tIHBvcHVwIGRpcmVjdGl2ZVxuICAkc2NvcGUuJG9uKCdkYXRlcGlja2VyLmZvY3VzJywgZm9jdXNFbGVtZW50KTtcblxuICAkc2NvcGUua2V5ZG93biA9IGZ1bmN0aW9uKCBldnQgKSB7XG4gICAgdmFyIGtleSA9ICRzY29wZS5rZXlzW2V2dC53aGljaF07XG5cbiAgICBpZiAoICFrZXkgfHwgZXZ0LnNoaWZ0S2V5IHx8IGV2dC5hbHRLZXkgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYoIXNlbGYuc2hvcnRjdXRQcm9wYWdhdGlvbil7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAnZW50ZXInIHx8IGtleSA9PT0gJ3NwYWNlJykge1xuICAgICAgaWYgKCBzZWxmLmlzRGlzYWJsZWQoc2VsZi5hY3RpdmVEYXRlKSkge1xuICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmdcbiAgICAgIH1cbiAgICAgICRzY29wZS5zZWxlY3Qoc2VsZi5hY3RpdmVEYXRlKTtcbiAgICAgIGZvY3VzRWxlbWVudCgpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmN0cmxLZXkgJiYgKGtleSA9PT0gJ3VwJyB8fCBrZXkgPT09ICdkb3duJykpIHtcbiAgICAgICRzY29wZS50b2dnbGVNb2RlKGtleSA9PT0gJ3VwJyA/IDEgOiAtMSk7XG4gICAgICBmb2N1c0VsZW1lbnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5oYW5kbGVLZXlEb3duKGtleSwgZXZ0KTtcbiAgICAgIHNlbGYucmVmcmVzaFZpZXcoKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSggJ2RhdGVwaWNrZXInLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sJyxcbiAgICBzY29wZToge1xuICAgICAgZGF0ZXBpY2tlck1vZGU6ICc9PycsXG4gICAgICBkYXRlRGlzYWJsZWQ6ICcmJyxcbiAgICAgIGN1c3RvbUNsYXNzOiAnJicsXG4gICAgICBzaG9ydGN1dFByb3BhZ2F0aW9uOiAnJj8nXG4gICAgfSxcbiAgICByZXF1aXJlOiBbJ2RhdGVwaWNrZXInLCAnP15uZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ0RhdGVwaWNrZXJDb250cm9sbGVyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgZGF0ZXBpY2tlckN0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgaWYgKCBuZ01vZGVsQ3RybCApIHtcbiAgICAgICAgZGF0ZXBpY2tlckN0cmwuaW5pdCggbmdNb2RlbEN0cmwgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdkYXlwaWNrZXInLCBbJ2RhdGVGaWx0ZXInLCBmdW5jdGlvbiAoZGF0ZUZpbHRlcikge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sJyxcbiAgICByZXF1aXJlOiAnXmRhdGVwaWNrZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuICAgICAgc2NvcGUuc2hvd1dlZWtzID0gY3RybC5zaG93V2Vla3M7XG5cbiAgICAgIGN0cmwuc3RlcCA9IHsgbW9udGhzOiAxIH07XG4gICAgICBjdHJsLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICB2YXIgREFZU19JTl9NT05USCA9IFszMSwgMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTtcbiAgICAgIGZ1bmN0aW9uIGdldERheXNJbk1vbnRoKCB5ZWFyLCBtb250aCApIHtcbiAgICAgICAgcmV0dXJuICgobW9udGggPT09IDEpICYmICh5ZWFyICUgNCA9PT0gMCkgJiYgKCh5ZWFyICUgMTAwICE9PSAwKSB8fCAoeWVhciAlIDQwMCA9PT0gMCkpKSA/IDI5IDogREFZU19JTl9NT05USFttb250aF07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldERhdGVzKHN0YXJ0RGF0ZSwgbikge1xuICAgICAgICB2YXIgZGF0ZXMgPSBuZXcgQXJyYXkobiksIGN1cnJlbnQgPSBuZXcgRGF0ZShzdGFydERhdGUpLCBpID0gMCwgZGF0ZTtcbiAgICAgICAgd2hpbGUgKCBpIDwgbiApIHtcbiAgICAgICAgICBkYXRlID0gbmV3IERhdGUoY3VycmVudCk7XG4gICAgICAgICAgY3RybC5maXhUaW1lWm9uZShkYXRlKTtcbiAgICAgICAgICBkYXRlc1tpKytdID0gZGF0ZTtcbiAgICAgICAgICBjdXJyZW50LnNldERhdGUoIGN1cnJlbnQuZ2V0RGF0ZSgpICsgMSApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRlcztcbiAgICAgIH1cblxuICAgICAgY3RybC5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHllYXIgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICBtb250aCA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpLFxuICAgICAgICAgIGZpcnN0RGF5T2ZNb250aCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxKSxcbiAgICAgICAgICBkaWZmZXJlbmNlID0gY3RybC5zdGFydGluZ0RheSAtIGZpcnN0RGF5T2ZNb250aC5nZXREYXkoKSxcbiAgICAgICAgICBudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCA9IChkaWZmZXJlbmNlID4gMCkgPyA3IC0gZGlmZmVyZW5jZSA6IC0gZGlmZmVyZW5jZSxcbiAgICAgICAgICBmaXJzdERhdGUgPSBuZXcgRGF0ZShmaXJzdERheU9mTW9udGgpO1xuXG4gICAgICAgIGlmICggbnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGggPiAwICkge1xuICAgICAgICAgIGZpcnN0RGF0ZS5zZXREYXRlKCAtIG51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoICsgMSApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gNDIgaXMgdGhlIG51bWJlciBvZiBkYXlzIG9uIGEgc2l4LW1vbnRoIGNhbGVuZGFyXG4gICAgICAgIHZhciBkYXlzID0gZ2V0RGF0ZXMoZmlyc3REYXRlLCA0Mik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDI7IGkgKyspIHtcbiAgICAgICAgICBkYXlzW2ldID0gYW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KGRheXNbaV0sIGN0cmwuZm9ybWF0RGF5KSwge1xuICAgICAgICAgICAgc2Vjb25kYXJ5OiBkYXlzW2ldLmdldE1vbnRoKCkgIT09IG1vbnRoLFxuICAgICAgICAgICAgdWlkOiBzY29wZS51bmlxdWVJZCArICctJyArIGlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLmxhYmVscyA9IG5ldyBBcnJheSg3KTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA3OyBqKyspIHtcbiAgICAgICAgICBzY29wZS5sYWJlbHNbal0gPSB7XG4gICAgICAgICAgICBhYmJyOiBkYXRlRmlsdGVyKGRheXNbal0uZGF0ZSwgY3RybC5mb3JtYXREYXlIZWFkZXIpLFxuICAgICAgICAgICAgZnVsbDogZGF0ZUZpbHRlcihkYXlzW2pdLmRhdGUsICdFRUVFJylcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUudGl0bGUgPSBkYXRlRmlsdGVyKGN0cmwuYWN0aXZlRGF0ZSwgY3RybC5mb3JtYXREYXlUaXRsZSk7XG4gICAgICAgIHNjb3BlLnJvd3MgPSBjdHJsLnNwbGl0KGRheXMsIDcpO1xuXG4gICAgICAgIGlmICggc2NvcGUuc2hvd1dlZWtzICkge1xuICAgICAgICAgIHNjb3BlLndlZWtOdW1iZXJzID0gW107XG4gICAgICAgICAgdmFyIHRodXJzZGF5SW5kZXggPSAoNCArIDcgLSBjdHJsLnN0YXJ0aW5nRGF5KSAlIDcsXG4gICAgICAgICAgICAgIG51bVdlZWtzID0gc2NvcGUucm93cy5sZW5ndGg7XG4gICAgICAgICAgZm9yICh2YXIgY3VyV2VlayA9IDA7IGN1cldlZWsgPCBudW1XZWVrczsgY3VyV2VlaysrKSB7XG4gICAgICAgICAgICBzY29wZS53ZWVrTnVtYmVycy5wdXNoKFxuICAgICAgICAgICAgICBnZXRJU084NjAxV2Vla051bWJlciggc2NvcGUucm93c1tjdXJXZWVrXVt0aHVyc2RheUluZGV4XS5kYXRlICkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY3RybC5jb21wYXJlID0gZnVuY3Rpb24oZGF0ZTEsIGRhdGUyKSB7XG4gICAgICAgIHJldHVybiAobmV3IERhdGUoIGRhdGUxLmdldEZ1bGxZZWFyKCksIGRhdGUxLmdldE1vbnRoKCksIGRhdGUxLmdldERhdGUoKSApIC0gbmV3IERhdGUoIGRhdGUyLmdldEZ1bGxZZWFyKCksIGRhdGUyLmdldE1vbnRoKCksIGRhdGUyLmdldERhdGUoKSApICk7XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBnZXRJU084NjAxV2Vla051bWJlcihkYXRlKSB7XG4gICAgICAgIHZhciBjaGVja0RhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICAgICAgY2hlY2tEYXRlLnNldERhdGUoY2hlY2tEYXRlLmdldERhdGUoKSArIDQgLSAoY2hlY2tEYXRlLmdldERheSgpIHx8IDcpKTsgLy8gVGh1cnNkYXlcbiAgICAgICAgdmFyIHRpbWUgPSBjaGVja0RhdGUuZ2V0VGltZSgpO1xuICAgICAgICBjaGVja0RhdGUuc2V0TW9udGgoMCk7IC8vIENvbXBhcmUgd2l0aCBKYW4gMVxuICAgICAgICBjaGVja0RhdGUuc2V0RGF0ZSgxKTtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yb3VuZCgodGltZSAtIGNoZWNrRGF0ZSkgLyA4NjQwMDAwMCkgLyA3KSArIDE7XG4gICAgICB9XG5cbiAgICAgIGN0cmwuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKCBrZXksIGV2dCApIHtcbiAgICAgICAgdmFyIGRhdGUgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RGF0ZSgpO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdsZWZ0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gMTsgICAvLyB1cFxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3VwJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gNzsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyAxOyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdkb3duJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgNztcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdwYWdldXAnIHx8IGtleSA9PT0gJ3BhZ2Vkb3duJykge1xuICAgICAgICAgIHZhciBtb250aCA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpICsgKGtleSA9PT0gJ3BhZ2V1cCcgPyAtIDEgOiAxKTtcbiAgICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0TW9udGgobW9udGgsIDEpO1xuICAgICAgICAgIGRhdGUgPSBNYXRoLm1pbihnZXREYXlzSW5Nb250aChjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSwgY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkpLCBkYXRlKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdob21lJykge1xuICAgICAgICAgIGRhdGUgPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICBkYXRlID0gZ2V0RGF5c0luTW9udGgoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksIGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpKTtcbiAgICAgICAgfVxuICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0RGF0ZShkYXRlKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwucmVmcmVzaFZpZXcoKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgnbW9udGhwaWNrZXInLCBbJ2RhdGVGaWx0ZXInLCBmdW5jdGlvbiAoZGF0ZUZpbHRlcikge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwnLFxuICAgIHJlcXVpcmU6ICdeZGF0ZXBpY2tlcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XG4gICAgICBjdHJsLnN0ZXAgPSB7IHllYXJzOiAxIH07XG4gICAgICBjdHJsLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICBjdHJsLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbW9udGhzID0gbmV3IEFycmF5KDEyKSxcbiAgICAgICAgICAgIHllYXIgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgIGRhdGU7XG5cbiAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgMTI7IGkrKyApIHtcbiAgICAgICAgICBkYXRlID0gbmV3IERhdGUoeWVhciwgaSwgMSk7XG4gICAgICAgICAgY3RybC5maXhUaW1lWm9uZShkYXRlKTtcbiAgICAgICAgICBtb250aHNbaV0gPSBhbmd1bGFyLmV4dGVuZChjdHJsLmNyZWF0ZURhdGVPYmplY3QoZGF0ZSwgY3RybC5mb3JtYXRNb250aCksIHtcbiAgICAgICAgICAgIHVpZDogc2NvcGUudW5pcXVlSWQgKyAnLScgKyBpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS50aXRsZSA9IGRhdGVGaWx0ZXIoY3RybC5hY3RpdmVEYXRlLCBjdHJsLmZvcm1hdE1vbnRoVGl0bGUpO1xuICAgICAgICBzY29wZS5yb3dzID0gY3RybC5zcGxpdChtb250aHMsIDMpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5jb21wYXJlID0gZnVuY3Rpb24oZGF0ZTEsIGRhdGUyKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSggZGF0ZTEuZ2V0RnVsbFllYXIoKSwgZGF0ZTEuZ2V0TW9udGgoKSApIC0gbmV3IERhdGUoIGRhdGUyLmdldEZ1bGxZZWFyKCksIGRhdGUyLmdldE1vbnRoKCkgKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKCBrZXksIGV2dCApIHtcbiAgICAgICAgdmFyIGRhdGUgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnbGVmdCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDE7ICAgLy8gdXBcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICd1cCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDM7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgMTsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZG93bicpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDM7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncGFnZXVwJyB8fCBrZXkgPT09ICdwYWdlZG93bicpIHtcbiAgICAgICAgICB2YXIgeWVhciA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpICsgKGtleSA9PT0gJ3BhZ2V1cCcgPyAtIDEgOiAxKTtcbiAgICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoeWVhcik7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnaG9tZScpIHtcbiAgICAgICAgICBkYXRlID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdlbmQnKSB7XG4gICAgICAgICAgZGF0ZSA9IDExO1xuICAgICAgICB9XG4gICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXRNb250aChkYXRlKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwucmVmcmVzaFZpZXcoKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgneWVhcnBpY2tlcicsIFsnZGF0ZUZpbHRlcicsIGZ1bmN0aW9uIChkYXRlRmlsdGVyKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sJyxcbiAgICByZXF1aXJlOiAnXmRhdGVwaWNrZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuICAgICAgdmFyIHJhbmdlID0gY3RybC55ZWFyUmFuZ2U7XG5cbiAgICAgIGN0cmwuc3RlcCA9IHsgeWVhcnM6IHJhbmdlIH07XG4gICAgICBjdHJsLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICBmdW5jdGlvbiBnZXRTdGFydGluZ1llYXIoIHllYXIgKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludCgoeWVhciAtIDEpIC8gcmFuZ2UsIDEwKSAqIHJhbmdlICsgMTtcbiAgICAgIH1cblxuICAgICAgY3RybC5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHllYXJzID0gbmV3IEFycmF5KHJhbmdlKSwgZGF0ZTtcblxuICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIHN0YXJ0ID0gZ2V0U3RhcnRpbmdZZWFyKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKTsgaSA8IHJhbmdlOyBpKysgKSB7XG4gICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHN0YXJ0ICsgaSwgMCwgMSk7XG4gICAgICAgICAgY3RybC5maXhUaW1lWm9uZShkYXRlKTtcbiAgICAgICAgICB5ZWFyc1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKGN0cmwuY3JlYXRlRGF0ZU9iamVjdChkYXRlLCBjdHJsLmZvcm1hdFllYXIpLCB7XG4gICAgICAgICAgICB1aWQ6IHNjb3BlLnVuaXF1ZUlkICsgJy0nICsgaVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUudGl0bGUgPSBbeWVhcnNbMF0ubGFiZWwsIHllYXJzW3JhbmdlIC0gMV0ubGFiZWxdLmpvaW4oJyAtICcpO1xuICAgICAgICBzY29wZS5yb3dzID0gY3RybC5zcGxpdCh5ZWFycywgNSk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLmNvbXBhcmUgPSBmdW5jdGlvbihkYXRlMSwgZGF0ZTIpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUxLmdldEZ1bGxZZWFyKCkgLSBkYXRlMi5nZXRGdWxsWWVhcigpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24oIGtleSwgZXZ0ICkge1xuICAgICAgICB2YXIgZGF0ZSA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdsZWZ0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gMTsgICAvLyB1cFxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3VwJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gNTsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyAxOyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdkb3duJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgNTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdwYWdldXAnIHx8IGtleSA9PT0gJ3BhZ2Vkb3duJykge1xuICAgICAgICAgIGRhdGUgKz0gKGtleSA9PT0gJ3BhZ2V1cCcgPyAtIDEgOiAxKSAqIGN0cmwuc3RlcC55ZWFycztcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdob21lJykge1xuICAgICAgICAgIGRhdGUgPSBnZXRTdGFydGluZ1llYXIoIGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpICk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZW5kJykge1xuICAgICAgICAgIGRhdGUgPSBnZXRTdGFydGluZ1llYXIoIGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpICkgKyByYW5nZSAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKGRhdGUpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5yZWZyZXNoVmlldygpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uY29uc3RhbnQoJ2RhdGVwaWNrZXJQb3B1cENvbmZpZycsIHtcbiAgZGF0ZXBpY2tlclBvcHVwOiAneXl5eS1NTS1kZCcsXG4gIGh0bWw1VHlwZXM6IHtcbiAgICBkYXRlOiAneXl5eS1NTS1kZCcsXG4gICAgJ2RhdGV0aW1lLWxvY2FsJzogJ3l5eXktTU0tZGRUSEg6bW06c3Muc3NzJyxcbiAgICAnbW9udGgnOiAneXl5eS1NTSdcbiAgfSxcbiAgY3VycmVudFRleHQ6ICdUb2RheScsXG4gIGNsZWFyVGV4dDogJ0NsZWFyJyxcbiAgY2xvc2VUZXh0OiAnRG9uZScsXG4gIGNsb3NlT25EYXRlU2VsZWN0aW9uOiB0cnVlLFxuICBhcHBlbmRUb0JvZHk6IGZhbHNlLFxuICBzaG93QnV0dG9uQmFyOiB0cnVlXG59KVxuXG4uZGlyZWN0aXZlKCdkYXRlcGlja2VyUG9wdXAnLCBbJyRjb21waWxlJywgJyRwYXJzZScsICckZG9jdW1lbnQnLCAnJHBvc2l0aW9uJywgJ2RhdGVGaWx0ZXInLCAnZGF0ZVBhcnNlcicsICdkYXRlcGlja2VyUG9wdXBDb25maWcnLCAnJHRpbWVvdXQnLFxuZnVuY3Rpb24gKCRjb21waWxlLCAkcGFyc2UsICRkb2N1bWVudCwgJHBvc2l0aW9uLCBkYXRlRmlsdGVyLCBkYXRlUGFyc2VyLCBkYXRlcGlja2VyUG9wdXBDb25maWcsICR0aW1lb3V0KSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICAgIHNjb3BlOiB7XG4gICAgICBpc09wZW46ICc9PycsXG4gICAgICBjdXJyZW50VGV4dDogJ0AnLFxuICAgICAgY2xlYXJUZXh0OiAnQCcsXG4gICAgICBjbG9zZVRleHQ6ICdAJyxcbiAgICAgIGRhdGVEaXNhYmxlZDogJyYnLFxuICAgICAgY3VzdG9tQ2xhc3M6ICcmJ1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XG4gICAgICB2YXIgZGF0ZUZvcm1hdCxcbiAgICAgICAgICBjbG9zZU9uRGF0ZVNlbGVjdGlvbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmNsb3NlT25EYXRlU2VsZWN0aW9uKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuY2xvc2VPbkRhdGVTZWxlY3Rpb24pIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmNsb3NlT25EYXRlU2VsZWN0aW9uLFxuICAgICAgICAgIGFwcGVuZFRvQm9keSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmRhdGVwaWNrZXJBcHBlbmRUb0JvZHkpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5kYXRlcGlja2VyQXBwZW5kVG9Cb2R5KSA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5hcHBlbmRUb0JvZHk7XG5cbiAgICAgIHNjb3BlLnNob3dCdXR0b25CYXIgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5zaG93QnV0dG9uQmFyKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuc2hvd0J1dHRvbkJhcikgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuc2hvd0J1dHRvbkJhcjtcblxuICAgICAgc2NvcGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKCBrZXkgKSB7XG4gICAgICAgIHJldHVybiBzY29wZVtrZXkgKyAnVGV4dCddIHx8IGRhdGVwaWNrZXJQb3B1cENvbmZpZ1trZXkgKyAnVGV4dCddO1xuICAgICAgfTtcblxuICAgICAgdmFyIGlzSHRtbDVEYXRlSW5wdXQgPSBmYWxzZTtcbiAgICAgIGlmIChkYXRlcGlja2VyUG9wdXBDb25maWcuaHRtbDVUeXBlc1thdHRycy50eXBlXSkge1xuICAgICAgICBkYXRlRm9ybWF0ID0gZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmh0bWw1VHlwZXNbYXR0cnMudHlwZV07XG4gICAgICAgIGlzSHRtbDVEYXRlSW5wdXQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0ZUZvcm1hdCA9IGF0dHJzLmRhdGVwaWNrZXJQb3B1cCB8fCBkYXRlcGlja2VyUG9wdXBDb25maWcuZGF0ZXBpY2tlclBvcHVwO1xuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnZGF0ZXBpY2tlclBvcHVwJywgZnVuY3Rpb24odmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgbmV3RGF0ZUZvcm1hdCA9IHZhbHVlIHx8IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5kYXRlcGlja2VyUG9wdXA7XG4gICAgICAgICAgICAvLyBJbnZhbGlkYXRlIHRoZSAkbW9kZWxWYWx1ZSB0byBlbnN1cmUgdGhhdCBmb3JtYXR0ZXJzIHJlLXJ1blxuICAgICAgICAgICAgLy8gRklYTUU6IFJlZmFjdG9yIHdoZW4gUFIgaXMgbWVyZ2VkOiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3B1bGwvMTA3NjRcbiAgICAgICAgICAgIGlmIChuZXdEYXRlRm9ybWF0ICE9PSBkYXRlRm9ybWF0KSB7XG4gICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBuZXdEYXRlRm9ybWF0O1xuICAgICAgICAgICAgICBuZ01vZGVsLiRtb2RlbFZhbHVlID0gbnVsbDtcblxuICAgICAgICAgICAgICBpZiAoIWRhdGVGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGVwaWNrZXJQb3B1cCBtdXN0IGhhdmUgYSBkYXRlIGZvcm1hdCBzcGVjaWZpZWQuJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZGF0ZUZvcm1hdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGVwaWNrZXJQb3B1cCBtdXN0IGhhdmUgYSBkYXRlIGZvcm1hdCBzcGVjaWZpZWQuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0h0bWw1RGF0ZUlucHV0ICYmIGF0dHJzLmRhdGVwaWNrZXJQb3B1cCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hUTUw1IGRhdGUgaW5wdXQgdHlwZXMgZG8gbm90IHN1cHBvcnQgY3VzdG9tIGZvcm1hdHMuJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIHBvcHVwIGVsZW1lbnQgdXNlZCB0byBkaXNwbGF5IGNhbGVuZGFyXG4gICAgICB2YXIgcG9wdXBFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBkYXRlcGlja2VyLXBvcHVwLXdyYXA+PGRpdiBkYXRlcGlja2VyPjwvZGl2PjwvZGl2PicpO1xuICAgICAgcG9wdXBFbC5hdHRyKHtcbiAgICAgICAgJ25nLW1vZGVsJzogJ2RhdGUnLFxuICAgICAgICAnbmctY2hhbmdlJzogJ2RhdGVTZWxlY3Rpb24oZGF0ZSknXG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gY2FtZWx0b0Rhc2goIHN0cmluZyApe1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyhbQS1aXSkvZywgZnVuY3Rpb24oJDEpIHsgcmV0dXJuICctJyArICQxLnRvTG93ZXJDYXNlKCk7IH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBkYXRlcGlja2VyIGVsZW1lbnRcbiAgICAgIHZhciBkYXRlcGlja2VyRWwgPSBhbmd1bGFyLmVsZW1lbnQocG9wdXBFbC5jaGlsZHJlbigpWzBdKTtcbiAgICAgIGlmIChpc0h0bWw1RGF0ZUlucHV0KSB7XG4gICAgICAgIGlmIChhdHRycy50eXBlID09ICdtb250aCcpIHtcbiAgICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignZGF0ZXBpY2tlci1tb2RlJywgJ1wibW9udGhcIicpO1xuICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCdtaW4tbW9kZScsICdtb250aCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICggYXR0cnMuZGF0ZXBpY2tlck9wdGlvbnMgKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5kYXRlcGlja2VyT3B0aW9ucyk7XG4gICAgICAgIGlmKG9wdGlvbnMuaW5pdERhdGUpIHtcbiAgICAgICAgICBzY29wZS5pbml0RGF0ZSA9IG9wdGlvbnMuaW5pdERhdGU7XG4gICAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoICdpbml0LWRhdGUnLCAnaW5pdERhdGUnICk7XG4gICAgICAgICAgZGVsZXRlIG9wdGlvbnMuaW5pdERhdGU7XG4gICAgICAgIH1cbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKG9wdGlvbnMsIGZ1bmN0aW9uKCB2YWx1ZSwgb3B0aW9uICkge1xuICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCBjYW1lbHRvRGFzaChvcHRpb24pLCB2YWx1ZSApO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgc2NvcGUud2F0Y2hEYXRhID0ge307XG4gICAgICBhbmd1bGFyLmZvckVhY2goWydtaW5EYXRlJywgJ21heERhdGUnLCAnZGF0ZXBpY2tlck1vZGUnLCAnaW5pdERhdGUnLCAnc2hvcnRjdXRQcm9wYWdhdGlvbiddLCBmdW5jdGlvbigga2V5ICkge1xuICAgICAgICBpZiAoIGF0dHJzW2tleV0gKSB7XG4gICAgICAgICAgdmFyIGdldEF0dHJpYnV0ZSA9ICRwYXJzZShhdHRyc1trZXldKTtcbiAgICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaChnZXRBdHRyaWJ1dGUsIGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgIHNjb3BlLndhdGNoRGF0YVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoY2FtZWx0b0Rhc2goa2V5KSwgJ3dhdGNoRGF0YS4nICsga2V5KTtcblxuICAgICAgICAgIC8vIFByb3BhZ2F0ZSBjaGFuZ2VzIGZyb20gZGF0ZXBpY2tlciB0byBvdXRzaWRlXG4gICAgICAgICAgaWYgKCBrZXkgPT09ICdkYXRlcGlja2VyTW9kZScgKSB7XG4gICAgICAgICAgICB2YXIgc2V0QXR0cmlidXRlID0gZ2V0QXR0cmlidXRlLmFzc2lnbjtcbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaCgnd2F0Y2hEYXRhLicgKyBrZXksIGZ1bmN0aW9uKHZhbHVlLCBvbGR2YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoIGFuZ3VsYXIuaXNGdW5jdGlvbihzZXRBdHRyaWJ1dGUpICYmIHZhbHVlICE9PSBvbGR2YWx1ZSApIHtcbiAgICAgICAgICAgICAgICBzZXRBdHRyaWJ1dGUoc2NvcGUuJHBhcmVudCwgdmFsdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGF0dHJzLmRhdGVEaXNhYmxlZCkge1xuICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignZGF0ZS1kaXNhYmxlZCcsICdkYXRlRGlzYWJsZWQoeyBkYXRlOiBkYXRlLCBtb2RlOiBtb2RlIH0pJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRycy5zaG93V2Vla3MpIHtcbiAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoJ3Nob3ctd2Vla3MnLCBhdHRycy5zaG93V2Vla3MpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXR0cnMuY3VzdG9tQ2xhc3Mpe1xuICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignY3VzdG9tLWNsYXNzJywgJ2N1c3RvbUNsYXNzKHsgZGF0ZTogZGF0ZSwgbW9kZTogbW9kZSB9KScpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwYXJzZURhdGUodmlld1ZhbHVlKSB7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICAvLyBwcmVzdW1hYmx5IHRpbWVzdGFtcCB0byBkYXRlIG9iamVjdFxuICAgICAgICAgIHZpZXdWYWx1ZSA9IG5ldyBEYXRlKHZpZXdWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXZpZXdWYWx1ZSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNEYXRlKHZpZXdWYWx1ZSkgJiYgIWlzTmFOKHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdmlld1ZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodmlld1ZhbHVlKSkge1xuICAgICAgICAgIHZhciBkYXRlID0gZGF0ZVBhcnNlci5wYXJzZSh2aWV3VmFsdWUsIGRhdGVGb3JtYXQsIHNjb3BlLmRhdGUpIHx8IG5ldyBEYXRlKHZpZXdWYWx1ZSk7XG4gICAgICAgICAgaWYgKGlzTmFOKGRhdGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB2YWxpZGF0b3IobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xuICAgICAgICBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc0RhdGUodmFsdWUpICYmICFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgIHZhciBkYXRlID0gZGF0ZVBhcnNlci5wYXJzZSh2YWx1ZSwgZGF0ZUZvcm1hdCkgfHwgbmV3IERhdGUodmFsdWUpO1xuICAgICAgICAgIHJldHVybiAhaXNOYU4oZGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNIdG1sNURhdGVJbnB1dCkge1xuICAgICAgICAvLyBJbnRlcm5hbCBBUEkgdG8gbWFpbnRhaW4gdGhlIGNvcnJlY3QgbmctaW52YWxpZC1ba2V5XSBjbGFzc1xuICAgICAgICBuZ01vZGVsLiQkcGFyc2VyTmFtZSA9ICdkYXRlJztcbiAgICAgICAgbmdNb2RlbC4kdmFsaWRhdG9ycy5kYXRlID0gdmFsaWRhdG9yO1xuICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnVuc2hpZnQocGFyc2VEYXRlKTtcbiAgICAgICAgbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIHNjb3BlLmRhdGUgPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gbmdNb2RlbC4kaXNFbXB0eSh2YWx1ZSkgPyB2YWx1ZSA6IGRhdGVGaWx0ZXIodmFsdWUsIGRhdGVGb3JtYXQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgc2NvcGUuZGF0ZSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIElubmVyIGNoYW5nZVxuICAgICAgc2NvcGUuZGF0ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKGR0KSB7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChkdCkpIHtcbiAgICAgICAgICBzY29wZS5kYXRlID0gZHQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRhdGUgPSBzY29wZS5kYXRlID8gZGF0ZUZpbHRlcihzY29wZS5kYXRlLCBkYXRlRm9ybWF0KSA6ICcnO1xuICAgICAgICBlbGVtZW50LnZhbChkYXRlKTtcbiAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGRhdGUpO1xuXG4gICAgICAgIGlmICggY2xvc2VPbkRhdGVTZWxlY3Rpb24gKSB7XG4gICAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBEZXRlY3QgY2hhbmdlcyBpbiB0aGUgdmlldyBmcm9tIHRoZSB0ZXh0IGJveFxuICAgICAgbmdNb2RlbC4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2NvcGUuZGF0ZSA9IGRhdGVQYXJzZXIucGFyc2UobmdNb2RlbC4kdmlld1ZhbHVlLCBkYXRlRm9ybWF0LCBzY29wZS5kYXRlKSB8fCBuZXcgRGF0ZShuZ01vZGVsLiR2aWV3VmFsdWUpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBkb2N1bWVudENsaWNrQmluZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmIChzY29wZS5pc09wZW4gJiYgZXZlbnQudGFyZ2V0ICE9PSBlbGVtZW50WzBdKSB7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBpbnB1dEtleWRvd25CaW5kID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGlmIChldnQud2hpY2ggPT09IDI3ICYmIHNjb3BlLmlzT3Blbikge1xuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSA0MCAmJiAhc2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IHRydWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBlbGVtZW50LmJpbmQoJ2tleWRvd24nLCBpbnB1dEtleWRvd25CaW5kKTtcblxuICAgICAgc2NvcGUua2V5ZG93biA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBpZiAoZXZ0LndoaWNoID09PSAyNykge1xuICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCdpc09wZW4nLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBzY29wZS5wb3NpdGlvbiA9IGFwcGVuZFRvQm9keSA/ICRwb3NpdGlvbi5vZmZzZXQoZWxlbWVudCkgOiAkcG9zaXRpb24ucG9zaXRpb24oZWxlbWVudCk7XG4gICAgICAgICAgc2NvcGUucG9zaXRpb24udG9wID0gc2NvcGUucG9zaXRpb24udG9wICsgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKTtcblxuICAgICAgICAgICRkb2N1bWVudC5iaW5kKCdjbGljaycsIGRvY3VtZW50Q2xpY2tCaW5kKTtcblxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgnZGF0ZXBpY2tlci5mb2N1cycpO1xuICAgICAgICAgIH0sIDAsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkZG9jdW1lbnQudW5iaW5kKCdjbGljaycsIGRvY3VtZW50Q2xpY2tCaW5kKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKCBkYXRlICkge1xuICAgICAgICBpZiAoZGF0ZSA9PT0gJ3RvZGF5Jykge1xuICAgICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEYXRlKHNjb3BlLmRhdGUpKSB7XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoc2NvcGUuZGF0ZSk7XG4gICAgICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCksIHRvZGF5LmdldERhdGUoKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSh0b2RheS5zZXRIb3VycygwLCAwLCAwLCAwKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjb3BlLmRhdGVTZWxlY3Rpb24oIGRhdGUgKTtcbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgJHBvcHVwID0gJGNvbXBpbGUocG9wdXBFbCkoc2NvcGUpO1xuICAgICAgLy8gUHJldmVudCBqUXVlcnkgY2FjaGUgbWVtb3J5IGxlYWsgKHRlbXBsYXRlIGlzIG5vdyByZWR1bmRhbnQgYWZ0ZXIgbGlua2luZylcbiAgICAgIHBvcHVwRWwucmVtb3ZlKCk7XG5cbiAgICAgIGlmICggYXBwZW5kVG9Cb2R5ICkge1xuICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZCgkcG9wdXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5hZnRlcigkcG9wdXApO1xuICAgICAgfVxuXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChzY29wZS5pc09wZW4gPT09IHRydWUpIHtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICRwb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgZWxlbWVudC51bmJpbmQoJ2tleWRvd24nLCBpbnB1dEtleWRvd25CaW5kKTtcbiAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnY2xpY2snLCBkb2N1bWVudENsaWNrQmluZCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgnZGF0ZXBpY2tlclBvcHVwV3JhcCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OidFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sJ1xuICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuZHJvcGRvd24nLCBbJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbiddKVxuXG4uY29uc3RhbnQoJ2Ryb3Bkb3duQ29uZmlnJywge1xuICBvcGVuQ2xhc3M6ICdvcGVuJ1xufSlcblxuLnNlcnZpY2UoJ2Ryb3Bkb3duU2VydmljZScsIFsnJGRvY3VtZW50JywgJyRyb290U2NvcGUnLCBmdW5jdGlvbigkZG9jdW1lbnQsICRyb290U2NvcGUpIHtcbiAgdmFyIG9wZW5TY29wZSA9IG51bGw7XG5cbiAgdGhpcy5vcGVuID0gZnVuY3Rpb24oIGRyb3Bkb3duU2NvcGUgKSB7XG4gICAgaWYgKCAhb3BlblNjb3BlICkge1xuICAgICAgJGRvY3VtZW50LmJpbmQoJ2NsaWNrJywgY2xvc2VEcm9wZG93bik7XG4gICAgICAkZG9jdW1lbnQuYmluZCgna2V5ZG93bicsIGtleWJpbmRGaWx0ZXIpO1xuICAgIH1cblxuICAgIGlmICggb3BlblNjb3BlICYmIG9wZW5TY29wZSAhPT0gZHJvcGRvd25TY29wZSApIHtcbiAgICAgIG9wZW5TY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvcGVuU2NvcGUgPSBkcm9wZG93blNjb3BlO1xuICB9O1xuXG4gIHRoaXMuY2xvc2UgPSBmdW5jdGlvbiggZHJvcGRvd25TY29wZSApIHtcbiAgICBpZiAoIG9wZW5TY29wZSA9PT0gZHJvcGRvd25TY29wZSApIHtcbiAgICAgIG9wZW5TY29wZSA9IG51bGw7XG4gICAgICAkZG9jdW1lbnQudW5iaW5kKCdjbGljaycsIGNsb3NlRHJvcGRvd24pO1xuICAgICAgJGRvY3VtZW50LnVuYmluZCgna2V5ZG93bicsIGtleWJpbmRGaWx0ZXIpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgY2xvc2VEcm9wZG93biA9IGZ1bmN0aW9uKCBldnQgKSB7XG4gICAgLy8gVGhpcyBtZXRob2QgbWF5IHN0aWxsIGJlIGNhbGxlZCBkdXJpbmcgdGhlIHNhbWUgbW91c2UgZXZlbnQgdGhhdFxuICAgIC8vIHVuYm91bmQgdGhpcyBldmVudCBoYW5kbGVyLiBTbyBjaGVjayBvcGVuU2NvcGUgYmVmb3JlIHByb2NlZWRpbmcuXG4gICAgaWYgKCFvcGVuU2NvcGUpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiggZXZ0ICYmIG9wZW5TY29wZS5nZXRBdXRvQ2xvc2UoKSA9PT0gJ2Rpc2FibGVkJyApICB7IHJldHVybiA7IH1cblxuICAgIHZhciB0b2dnbGVFbGVtZW50ID0gb3BlblNjb3BlLmdldFRvZ2dsZUVsZW1lbnQoKTtcbiAgICBpZiAoIGV2dCAmJiB0b2dnbGVFbGVtZW50ICYmIHRvZ2dsZUVsZW1lbnRbMF0uY29udGFpbnMoZXZ0LnRhcmdldCkgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGRyb3Bkb3duRWxlbWVudCA9IG9wZW5TY29wZS5nZXREcm9wZG93bkVsZW1lbnQoKTtcbiAgICBpZiAoZXZ0ICYmIG9wZW5TY29wZS5nZXRBdXRvQ2xvc2UoKSA9PT0gJ291dHNpZGVDbGljaycgJiZcbiAgICAgIGRyb3Bkb3duRWxlbWVudCAmJiBkcm9wZG93bkVsZW1lbnRbMF0uY29udGFpbnMoZXZ0LnRhcmdldCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvcGVuU2NvcGUuaXNPcGVuID0gZmFsc2U7XG5cbiAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgb3BlblNjb3BlLiRhcHBseSgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIga2V5YmluZEZpbHRlciA9IGZ1bmN0aW9uKCBldnQgKSB7XG4gICAgaWYgKCBldnQud2hpY2ggPT09IDI3ICkge1xuICAgICAgb3BlblNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudCgpO1xuICAgICAgY2xvc2VEcm9wZG93bigpO1xuICAgIH1cbiAgICBlbHNlIGlmICggb3BlblNjb3BlLmlzS2V5bmF2RW5hYmxlZCgpICYmIC8oMzh8NDApLy50ZXN0KGV2dC53aGljaCkgJiYgb3BlblNjb3BlLmlzT3BlbiApIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgb3BlblNjb3BlLmZvY3VzRHJvcGRvd25FbnRyeShldnQud2hpY2gpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uY29udHJvbGxlcignRHJvcGRvd25Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsICdkcm9wZG93bkNvbmZpZycsICdkcm9wZG93blNlcnZpY2UnLCAnJGFuaW1hdGUnLCAnJHBvc2l0aW9uJywgJyRkb2N1bWVudCcsICckY29tcGlsZScsICckdGVtcGxhdGVSZXF1ZXN0JywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsICRwYXJzZSwgZHJvcGRvd25Db25maWcsIGRyb3Bkb3duU2VydmljZSwgJGFuaW1hdGUsICRwb3NpdGlvbiwgJGRvY3VtZW50LCAkY29tcGlsZSwgJHRlbXBsYXRlUmVxdWVzdCkge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgc2NvcGUgPSAkc2NvcGUuJG5ldygpLCAvLyBjcmVhdGUgYSBjaGlsZCBzY29wZSBzbyB3ZSBhcmUgbm90IHBvbGx1dGluZyBvcmlnaW5hbCBvbmVcblx0dGVtcGxhdGVTY29wZSxcbiAgICBvcGVuQ2xhc3MgPSBkcm9wZG93bkNvbmZpZy5vcGVuQ2xhc3MsXG4gICAgZ2V0SXNPcGVuLFxuICAgIHNldElzT3BlbiA9IGFuZ3VsYXIubm9vcCxcbiAgICB0b2dnbGVJbnZva2VyID0gJGF0dHJzLm9uVG9nZ2xlID8gJHBhcnNlKCRhdHRycy5vblRvZ2dsZSkgOiBhbmd1bGFyLm5vb3AsXG4gICAgYXBwZW5kVG9Cb2R5ID0gZmFsc2UsXG4gICAga2V5bmF2RW5hYmxlZCA9ZmFsc2UsXG4gICAgc2VsZWN0ZWRPcHRpb24gPSBudWxsO1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuICAgIHNlbGYuJGVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgaWYgKCAkYXR0cnMuaXNPcGVuICkge1xuICAgICAgZ2V0SXNPcGVuID0gJHBhcnNlKCRhdHRycy5pc09wZW4pO1xuICAgICAgc2V0SXNPcGVuID0gZ2V0SXNPcGVuLmFzc2lnbjtcblxuICAgICAgJHNjb3BlLiR3YXRjaChnZXRJc09wZW4sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHNjb3BlLmlzT3BlbiA9ICEhdmFsdWU7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBhcHBlbmRUb0JvZHkgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuZHJvcGRvd25BcHBlbmRUb0JvZHkpO1xuICAgIGtleW5hdkVuYWJsZWQgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMua2V5Ym9hcmROYXYpO1xuXG4gICAgaWYgKCBhcHBlbmRUb0JvZHkgJiYgc2VsZi5kcm9wZG93bk1lbnUgKSB7XG4gICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZCggc2VsZi5kcm9wZG93bk1lbnUgKTtcbiAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24gaGFuZGxlRGVzdHJveUV2ZW50KCkge1xuICAgICAgICBzZWxmLmRyb3Bkb3duTWVudS5yZW1vdmUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLnRvZ2dsZSA9IGZ1bmN0aW9uKCBvcGVuICkge1xuICAgIHJldHVybiBzY29wZS5pc09wZW4gPSBhcmd1bWVudHMubGVuZ3RoID8gISFvcGVuIDogIXNjb3BlLmlzT3BlbjtcbiAgfTtcblxuICAvLyBBbGxvdyBvdGhlciBkaXJlY3RpdmVzIHRvIHdhdGNoIHN0YXR1c1xuICB0aGlzLmlzT3BlbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzY29wZS5pc09wZW47XG4gIH07XG5cbiAgc2NvcGUuZ2V0VG9nZ2xlRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzZWxmLnRvZ2dsZUVsZW1lbnQ7XG4gIH07XG5cbiAgc2NvcGUuZ2V0QXV0b0Nsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICRhdHRycy5hdXRvQ2xvc2UgfHwgJ2Fsd2F5cyc7IC8vb3IgJ291dHNpZGVDbGljaycgb3IgJ2Rpc2FibGVkJ1xuICB9O1xuXG4gIHNjb3BlLmdldEVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi4kZWxlbWVudDtcbiAgfTtcblxuICBzY29wZS5pc0tleW5hdkVuYWJsZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ga2V5bmF2RW5hYmxlZDtcbiAgfTtcblxuICBzY29wZS5mb2N1c0Ryb3Bkb3duRW50cnkgPSBmdW5jdGlvbihrZXlDb2RlKSB7XG4gICAgdmFyIGVsZW1zID0gc2VsZi5kcm9wZG93bk1lbnUgPyAvL0lmIGFwcGVuZCB0byBib2R5IGlzIHVzZWQuXG4gICAgICAoYW5ndWxhci5lbGVtZW50KHNlbGYuZHJvcGRvd25NZW51KS5maW5kKCdhJykpIDpcbiAgICAgIChhbmd1bGFyLmVsZW1lbnQoc2VsZi4kZWxlbWVudCkuZmluZCgndWwnKS5lcSgwKS5maW5kKCdhJykpO1xuXG4gICAgc3dpdGNoIChrZXlDb2RlKSB7XG4gICAgICBjYXNlICg0MCk6IHtcbiAgICAgICAgaWYgKCAhYW5ndWxhci5pc051bWJlcihzZWxmLnNlbGVjdGVkT3B0aW9uKSkge1xuICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gPSAoc2VsZi5zZWxlY3RlZE9wdGlvbiA9PT0gZWxlbXMubGVuZ3RoIC0xID9cbiAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gOlxuICAgICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiArIDEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAoMzgpOiB7XG4gICAgICAgIGlmICggIWFuZ3VsYXIuaXNOdW1iZXIoc2VsZi5zZWxlY3RlZE9wdGlvbikpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA9IChzZWxmLnNlbGVjdGVkT3B0aW9uID09PSAwID9cbiAgICAgICAgICAgIDAgOlxuICAgICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBlbGVtc1tzZWxmLnNlbGVjdGVkT3B0aW9uXS5mb2N1cygpO1xuICB9O1xuXG4gIHNjb3BlLmdldERyb3Bkb3duRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzZWxmLmRyb3Bkb3duTWVudTtcbiAgfTtcblxuICBzY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIHNlbGYudG9nZ2xlRWxlbWVudCApIHtcbiAgICAgIHNlbGYudG9nZ2xlRWxlbWVudFswXS5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICBzY29wZS4kd2F0Y2goJ2lzT3BlbicsIGZ1bmN0aW9uKCBpc09wZW4sIHdhc09wZW4gKSB7XG4gICAgaWYgKGFwcGVuZFRvQm9keSAmJiBzZWxmLmRyb3Bkb3duTWVudSkge1xuICAgICAgICB2YXIgcG9zID0gJHBvc2l0aW9uLnBvc2l0aW9uRWxlbWVudHMoc2VsZi4kZWxlbWVudCwgc2VsZi5kcm9wZG93bk1lbnUsICdib3R0b20tbGVmdCcsIHRydWUpO1xuICAgICAgICB2YXIgY3NzID0ge1xuICAgICAgICAgICAgdG9wOiBwb3MudG9wICsgJ3B4JyxcbiAgICAgICAgICAgIGRpc3BsYXk6IGlzT3BlbiA/ICdibG9jaycgOiAnbm9uZSdcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmlnaHRhbGlnbiA9IHNlbGYuZHJvcGRvd25NZW51Lmhhc0NsYXNzKCdkcm9wZG93bi1tZW51LXJpZ2h0Jyk7XG4gICAgICAgIGlmICghcmlnaHRhbGlnbikge1xuICAgICAgICAgICAgY3NzLmxlZnQgPSBwb3MubGVmdCArICdweCc7XG4gICAgICAgICAgICBjc3MucmlnaHQgPSAnYXV0byc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjc3MubGVmdCA9ICdhdXRvJztcbiAgICAgICAgICAgIGNzcy5yaWdodCA9ICh3aW5kb3cuaW5uZXJXaWR0aCAtIChwb3MubGVmdCArIHNlbGYuJGVsZW1lbnQucHJvcCgnb2Zmc2V0V2lkdGgnKSkpICsgJ3B4JztcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuZHJvcGRvd25NZW51LmNzcyhjc3MpO1xuICAgIH1cblxuICAgICRhbmltYXRlW2lzT3BlbiA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShzZWxmLiRlbGVtZW50LCBvcGVuQ2xhc3MpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpc09wZW4pICYmIGlzT3BlbiAhPT0gd2FzT3Blbikge1xuICAgICAgICAgICB0b2dnbGVJbnZva2VyKCRzY29wZSwgeyBvcGVuOiAhIWlzT3BlbiB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCBpc09wZW4gKSB7XG4gICAgICBpZiAoc2VsZi5kcm9wZG93bk1lbnVUZW1wbGF0ZVVybCkge1xuICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0KHNlbGYuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwpLnRoZW4oZnVuY3Rpb24odHBsQ29udGVudCkge1xuICAgICAgICAgIHRlbXBsYXRlU2NvcGUgPSBzY29wZS4kbmV3KCk7XG4gICAgICAgICAgJGNvbXBpbGUodHBsQ29udGVudC50cmltKCkpKHRlbXBsYXRlU2NvcGUsIGZ1bmN0aW9uKGRyb3Bkb3duRWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIG5ld0VsID0gZHJvcGRvd25FbGVtZW50O1xuICAgICAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUucmVwbGFjZVdpdGgobmV3RWwpO1xuICAgICAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUgPSBuZXdFbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudCgpO1xuICAgICAgZHJvcGRvd25TZXJ2aWNlLm9wZW4oIHNjb3BlICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzZWxmLmRyb3Bkb3duTWVudVRlbXBsYXRlVXJsKSB7XG4gICAgICAgIGlmICh0ZW1wbGF0ZVNjb3BlKSB7XG4gICAgICAgICAgdGVtcGxhdGVTY29wZS4kZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXdFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPjwvdWw+Jyk7XG4gICAgICAgIHNlbGYuZHJvcGRvd25NZW51LnJlcGxhY2VXaXRoKG5ld0VsKTtcbiAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUgPSBuZXdFbDtcbiAgICAgIH1cblxuICAgICAgZHJvcGRvd25TZXJ2aWNlLmNsb3NlKCBzY29wZSApO1xuICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA9IG51bGw7XG4gICAgfVxuXG4gICAgc2V0SXNPcGVuKCRzY29wZSwgaXNPcGVuKTtcbiAgfSk7XG5cbiAgJHNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKCkge1xuICAgIGlmIChzY29wZS5nZXRBdXRvQ2xvc2UoKSAhPT0gJ2Rpc2FibGVkJykge1xuICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgIHNjb3BlLiRkZXN0cm95KCk7XG4gIH0pO1xufV0pXG5cbi5kaXJlY3RpdmUoJ2Ryb3Bkb3duJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgY29udHJvbGxlcjogJ0Ryb3Bkb3duQ29udHJvbGxlcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBkcm9wZG93bkN0cmwpIHtcbiAgICAgIGRyb3Bkb3duQ3RybC5pbml0KCBlbGVtZW50ICk7XG4gICAgICBlbGVtZW50LmFkZENsYXNzKCdkcm9wZG93bicpO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2Ryb3Bkb3duTWVudScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQUMnLFxuICAgIHJlcXVpcmU6ICc/XmRyb3Bkb3duJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkge1xuICAgICAgaWYgKCFkcm9wZG93bkN0cmwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHRwbFVybCA9IGF0dHJzLnRlbXBsYXRlVXJsO1xuICAgICAgaWYgKHRwbFVybCkge1xuICAgICAgICBkcm9wZG93bkN0cmwuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwgPSB0cGxVcmw7XG4gICAgICB9XG4gICAgICBpZiAoIWRyb3Bkb3duQ3RybC5kcm9wZG93bk1lbnUpIHtcbiAgICAgICAgZHJvcGRvd25DdHJsLmRyb3Bkb3duTWVudSA9IGVsZW1lbnQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgna2V5Ym9hcmROYXYnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/XmRyb3Bkb3duJyxcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBkcm9wZG93bkN0cmwpIHtcblxuICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuXG4gICAgICAgIGlmIChbMzgsIDQwXS5pbmRleE9mKGUud2hpY2gpICE9PSAtMSkge1xuXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICB2YXIgZWxlbXMgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudCkuZmluZCgnYScpO1xuXG4gICAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgKDQwKTogeyAvLyBEb3duXG4gICAgICAgICAgICAgIGlmICggIWFuZ3VsYXIuaXNOdW1iZXIoZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uKSkge1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9IDA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID0gKGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9PT0gZWxlbXMubGVuZ3RoIC0xID8gZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uIDogZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uKzEpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAoMzgpOiB7IC8vIFVwXG4gICAgICAgICAgICAgIGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9IChkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24gPT09IDAgPyAwIDogZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1zW2Ryb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbl0uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdkcm9wZG93blRvZ2dsZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICc/XmRyb3Bkb3duJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkge1xuICAgICAgaWYgKCAhZHJvcGRvd25DdHJsICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2Ryb3Bkb3duLXRvZ2dsZScpO1xuXG4gICAgICBkcm9wZG93bkN0cmwudG9nZ2xlRWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgIHZhciB0b2dnbGVEcm9wZG93biA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKCAhZWxlbWVudC5oYXNDbGFzcygnZGlzYWJsZWQnKSAmJiAhYXR0cnMuZGlzYWJsZWQgKSB7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZHJvcGRvd25DdHJsLnRvZ2dsZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBlbGVtZW50LmJpbmQoJ2NsaWNrJywgdG9nZ2xlRHJvcGRvd24pO1xuXG4gICAgICAvLyBXQUktQVJJQVxuICAgICAgZWxlbWVudC5hdHRyKHsgJ2FyaWEtaGFzcG9wdXAnOiB0cnVlLCAnYXJpYS1leHBhbmRlZCc6IGZhbHNlIH0pO1xuICAgICAgc2NvcGUuJHdhdGNoKGRyb3Bkb3duQ3RybC5pc09wZW4sIGZ1bmN0aW9uKCBpc09wZW4gKSB7XG4gICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsICEhaXNPcGVuKTtcbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQudW5iaW5kKCdjbGljaycsIHRvZ2dsZURyb3Bkb3duKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLm1vZGFsJywgW10pXG5cbi8qKlxuICogQSBoZWxwZXIsIGludGVybmFsIGRhdGEgc3RydWN0dXJlIHRoYXQgYWN0cyBhcyBhIG1hcCBidXQgYWxzbyBhbGxvd3MgZ2V0dGluZyAvIHJlbW92aW5nXG4gKiBlbGVtZW50cyBpbiB0aGUgTElGTyBvcmRlclxuICovXG4gIC5mYWN0b3J5KCckJHN0YWNrZWRNYXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZU5ldzogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhY2sgPSBbXTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFkZDogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAoa2V5ID09IHN0YWNrW2ldLmtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGFja1tpXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAga2V5czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBrZXlzLnB1c2goc3RhY2tbaV0ua2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciBpZHggPSAtMTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKGtleSA9PSBzdGFja1tpXS5rZXkpIHtcbiAgICAgICAgICAgICAgICBpZHggPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RhY2suc3BsaWNlKGlkeCwgMSlbMF07XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZW1vdmVUb3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFjay5zcGxpY2Uoc3RhY2subGVuZ3RoIC0gMSwgMSlbMF07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsZW5ndGg6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFjay5sZW5ndGg7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gIH0pXG5cbi8qKlxuICogQSBoZWxwZXIgZGlyZWN0aXZlIGZvciB0aGUgJG1vZGFsIHNlcnZpY2UuIEl0IGNyZWF0ZXMgYSBiYWNrZHJvcCBlbGVtZW50LlxuICovXG4gIC5kaXJlY3RpdmUoJ21vZGFsQmFja2Ryb3AnLCBbXG4gICAgICAgICAgICckYW5pbWF0ZScsICckbW9kYWxTdGFjaycsXG4gIGZ1bmN0aW9uICgkYW5pbWF0ZSAsICAkbW9kYWxTdGFjaykge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWwnLFxuICAgICAgY29tcGlsZTogZnVuY3Rpb24gKHRFbGVtZW50LCB0QXR0cnMpIHtcbiAgICAgICAgdEVsZW1lbnQuYWRkQ2xhc3ModEF0dHJzLmJhY2tkcm9wQ2xhc3MpO1xuICAgICAgICByZXR1cm4gbGlua0ZuO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBsaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICBpZiAoYXR0cnMubW9kYWxJbkNsYXNzKSB7XG4gICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcyk7XG5cbiAgICAgICAgc2NvcGUuJG9uKCRtb2RhbFN0YWNrLk5PV19DTE9TSU5HX0VWRU5ULCBmdW5jdGlvbiAoZSwgc2V0SXNBc3luYykge1xuICAgICAgICAgIHZhciBkb25lID0gc2V0SXNBc3luYygpO1xuICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcykudGhlbihkb25lKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XSlcblxuICAuZGlyZWN0aXZlKCdtb2RhbFdpbmRvdycsIFtcbiAgICAgICAgICAgJyRtb2RhbFN0YWNrJywgJyRxJywgJyRhbmltYXRlJyxcbiAgZnVuY3Rpb24gKCRtb2RhbFN0YWNrICwgICRxICwgICRhbmltYXRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgaW5kZXg6ICdAJ1xuICAgICAgfSxcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHtcbiAgICAgICAgcmV0dXJuIHRBdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWwnO1xuICAgICAgfSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhhdHRycy53aW5kb3dDbGFzcyB8fCAnJyk7XG4gICAgICAgIHNjb3BlLnNpemUgPSBhdHRycy5zaXplO1xuXG4gICAgICAgIHNjb3BlLmNsb3NlID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgIHZhciBtb2RhbCA9ICRtb2RhbFN0YWNrLmdldFRvcCgpO1xuICAgICAgICAgIGlmIChtb2RhbCAmJiBtb2RhbC52YWx1ZS5iYWNrZHJvcCAmJiBtb2RhbC52YWx1ZS5iYWNrZHJvcCAhPSAnc3RhdGljJyAmJiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpKSB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWwua2V5LCAnYmFja2Ryb3AgY2xpY2snKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVGhpcyBwcm9wZXJ0eSBpcyBvbmx5IGFkZGVkIHRvIHRoZSBzY29wZSBmb3IgdGhlIHB1cnBvc2Ugb2YgZGV0ZWN0aW5nIHdoZW4gdGhpcyBkaXJlY3RpdmUgaXMgcmVuZGVyZWQuXG4gICAgICAgIC8vIFdlIGNhbiBkZXRlY3QgdGhhdCBieSB1c2luZyB0aGlzIHByb3BlcnR5IGluIHRoZSB0ZW1wbGF0ZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBkaXJlY3RpdmUgYW5kIHRoZW4gdXNlXG4gICAgICAgIC8vIHtAbGluayBBdHRyaWJ1dGUjJG9ic2VydmV9IG9uIGl0LiBGb3IgbW9yZSBkZXRhaWxzIHBsZWFzZSBzZWUge0BsaW5rIFRhYmxlQ29sdW1uUmVzaXplfS5cbiAgICAgICAgc2NvcGUuJGlzUmVuZGVyZWQgPSB0cnVlO1xuXG4gICAgICAgIC8vIERlZmVycmVkIG9iamVjdCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2hlbiB0aGlzIG1vZGFsIGlzIHJlbmRlci5cbiAgICAgICAgdmFyIG1vZGFsUmVuZGVyRGVmZXJPYmogPSAkcS5kZWZlcigpO1xuICAgICAgICAvLyBPYnNlcnZlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIG9uIG5leHQgZGlnZXN0IGN5Y2xlIGFmdGVyIGNvbXBpbGF0aW9uLCBlbnN1cmluZyB0aGF0IHRoZSBET00gaXMgcmVhZHkuXG4gICAgICAgIC8vIEluIG9yZGVyIHRvIHVzZSB0aGlzIHdheSBvZiBmaW5kaW5nIHdoZXRoZXIgRE9NIGlzIHJlYWR5LCB3ZSBuZWVkIHRvIG9ic2VydmUgYSBzY29wZSBwcm9wZXJ0eSB1c2VkIGluIG1vZGFsJ3MgdGVtcGxhdGUuXG4gICAgICAgIGF0dHJzLiRvYnNlcnZlKCdtb2RhbFJlbmRlcicsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIGlmICh2YWx1ZSA9PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIG1vZGFsUmVuZGVyRGVmZXJPYmoucmVzb2x2ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbW9kYWxSZW5kZXJEZWZlck9iai5wcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChhdHRycy5tb2RhbEluQ2xhc3MpIHtcbiAgICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcyk7XG5cbiAgICAgICAgICAgIHNjb3BlLiRvbigkbW9kYWxTdGFjay5OT1dfQ0xPU0lOR19FVkVOVCwgZnVuY3Rpb24gKGUsIHNldElzQXN5bmMpIHtcbiAgICAgICAgICAgICAgdmFyIGRvbmUgPSBzZXRJc0FzeW5jKCk7XG4gICAgICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcykudGhlbihkb25lKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBpbnB1dHNXaXRoQXV0b2ZvY3VzID0gZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKCdbYXV0b2ZvY3VzXScpO1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEF1dG8tZm9jdXNpbmcgb2YgYSBmcmVzaGx5LW9wZW5lZCBtb2RhbCBlbGVtZW50IGNhdXNlcyBhbnkgY2hpbGQgZWxlbWVudHNcbiAgICAgICAgICAgKiB3aXRoIHRoZSBhdXRvZm9jdXMgYXR0cmlidXRlIHRvIGxvc2UgZm9jdXMuIFRoaXMgaXMgYW4gaXNzdWUgb24gdG91Y2hcbiAgICAgICAgICAgKiBiYXNlZCBkZXZpY2VzIHdoaWNoIHdpbGwgc2hvdyBhbmQgdGhlbiBoaWRlIHRoZSBvbnNjcmVlbiBrZXlib2FyZC5cbiAgICAgICAgICAgKiBBdHRlbXB0cyB0byByZWZvY3VzIHRoZSBhdXRvZm9jdXMgZWxlbWVudCB2aWEgSmF2YVNjcmlwdCB3aWxsIG5vdCByZW9wZW5cbiAgICAgICAgICAgKiB0aGUgb25zY3JlZW4ga2V5Ym9hcmQuIEZpeGVkIGJ5IHVwZGF0ZWQgdGhlIGZvY3VzaW5nIGxvZ2ljIHRvIG9ubHkgYXV0b2ZvY3VzXG4gICAgICAgICAgICogdGhlIG1vZGFsIGVsZW1lbnQgaWYgdGhlIG1vZGFsIGRvZXMgbm90IGNvbnRhaW4gYW4gYXV0b2ZvY3VzIGVsZW1lbnQuXG4gICAgICAgICAgICovXG4gICAgICAgICAgaWYgKGlucHV0c1dpdGhBdXRvZm9jdXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpbnB1dHNXaXRoQXV0b2ZvY3VzWzBdLmZvY3VzKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBOb3RpZnkge0BsaW5rICRtb2RhbFN0YWNrfSB0aGF0IG1vZGFsIGlzIHJlbmRlcmVkLlxuICAgICAgICAgIHZhciBtb2RhbCA9ICRtb2RhbFN0YWNrLmdldFRvcCgpO1xuICAgICAgICAgIGlmIChtb2RhbCkge1xuICAgICAgICAgICAgJG1vZGFsU3RhY2subW9kYWxSZW5kZXJlZChtb2RhbC5rZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pXG5cbiAgLmRpcmVjdGl2ZSgnbW9kYWxBbmltYXRpb25DbGFzcycsIFtcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW1lbnQsIHRBdHRycykge1xuICAgICAgICAgIGlmICh0QXR0cnMubW9kYWxBbmltYXRpb24pIHtcbiAgICAgICAgICAgIHRFbGVtZW50LmFkZENsYXNzKHRBdHRycy5tb2RhbEFuaW1hdGlvbkNsYXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pXG5cbiAgLmRpcmVjdGl2ZSgnbW9kYWxUcmFuc2NsdWRlJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsIGNvbnRyb2xsZXIsICR0cmFuc2NsdWRlKSB7XG4gICAgICAgICR0cmFuc2NsdWRlKCRzY29wZS4kcGFyZW50LCBmdW5jdGlvbihjbG9uZSkge1xuICAgICAgICAgICRlbGVtZW50LmVtcHR5KCk7XG4gICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSlcblxuICAuZmFjdG9yeSgnJG1vZGFsU3RhY2snLCBbXG4gICAgICAgICAgICAgJyRhbmltYXRlJywgJyR0aW1lb3V0JywgJyRkb2N1bWVudCcsICckY29tcGlsZScsICckcm9vdFNjb3BlJyxcbiAgICAgICAgICAgICAnJHEnLFxuICAgICAgICAgICAgICckJHN0YWNrZWRNYXAnLFxuICAgIGZ1bmN0aW9uICgkYW5pbWF0ZSAsICAkdGltZW91dCAsICAkZG9jdW1lbnQgLCAgJGNvbXBpbGUgLCAgJHJvb3RTY29wZSAsXG4gICAgICAgICAgICAgICRxLFxuICAgICAgICAgICAgICAkJHN0YWNrZWRNYXApIHtcblxuICAgICAgdmFyIE9QRU5FRF9NT0RBTF9DTEFTUyA9ICdtb2RhbC1vcGVuJztcblxuICAgICAgdmFyIGJhY2tkcm9wRG9tRWwsIGJhY2tkcm9wU2NvcGU7XG4gICAgICB2YXIgb3BlbmVkV2luZG93cyA9ICQkc3RhY2tlZE1hcC5jcmVhdGVOZXcoKTtcbiAgICAgIHZhciAkbW9kYWxTdGFjayA9IHtcbiAgICAgICAgTk9XX0NMT1NJTkdfRVZFTlQ6ICdtb2RhbC5zdGFjay5ub3ctY2xvc2luZydcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIGJhY2tkcm9wSW5kZXgoKSB7XG4gICAgICAgIHZhciB0b3BCYWNrZHJvcEluZGV4ID0gLTE7XG4gICAgICAgIHZhciBvcGVuZWQgPSBvcGVuZWRXaW5kb3dzLmtleXMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcGVuZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAob3BlbmVkV2luZG93cy5nZXQob3BlbmVkW2ldKS52YWx1ZS5iYWNrZHJvcCkge1xuICAgICAgICAgICAgdG9wQmFja2Ryb3BJbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b3BCYWNrZHJvcEluZGV4O1xuICAgICAgfVxuXG4gICAgICAkcm9vdFNjb3BlLiR3YXRjaChiYWNrZHJvcEluZGV4LCBmdW5jdGlvbihuZXdCYWNrZHJvcEluZGV4KXtcbiAgICAgICAgaWYgKGJhY2tkcm9wU2NvcGUpIHtcbiAgICAgICAgICBiYWNrZHJvcFNjb3BlLmluZGV4ID0gbmV3QmFja2Ryb3BJbmRleDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZU1vZGFsV2luZG93KG1vZGFsSW5zdGFuY2UsIGVsZW1lbnRUb1JlY2VpdmVGb2N1cykge1xuXG4gICAgICAgIHZhciBib2R5ID0gJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5lcSgwKTtcbiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSkudmFsdWU7XG5cbiAgICAgICAgLy9jbGVhbiB1cCB0aGUgc3RhY2tcbiAgICAgICAgb3BlbmVkV2luZG93cy5yZW1vdmUobW9kYWxJbnN0YW5jZSk7XG5cbiAgICAgICAgcmVtb3ZlQWZ0ZXJBbmltYXRlKG1vZGFsV2luZG93Lm1vZGFsRG9tRWwsIG1vZGFsV2luZG93Lm1vZGFsU2NvcGUsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGJvZHkudG9nZ2xlQ2xhc3MoT1BFTkVEX01PREFMX0NMQVNTLCBvcGVuZWRXaW5kb3dzLmxlbmd0aCgpID4gMCk7XG4gICAgICAgICAgY2hlY2tSZW1vdmVCYWNrZHJvcCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL21vdmUgZm9jdXMgdG8gc3BlY2lmaWVkIGVsZW1lbnQgaWYgYXZhaWxhYmxlLCBvciBlbHNlIHRvIGJvZHlcbiAgICAgICAgaWYgKGVsZW1lbnRUb1JlY2VpdmVGb2N1cyAmJiBlbGVtZW50VG9SZWNlaXZlRm9jdXMuZm9jdXMpIHtcbiAgICAgICAgICBlbGVtZW50VG9SZWNlaXZlRm9jdXMuZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBib2R5LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2hlY2tSZW1vdmVCYWNrZHJvcCgpIHtcbiAgICAgICAgICAvL3JlbW92ZSBiYWNrZHJvcCBpZiBubyBsb25nZXIgbmVlZGVkXG4gICAgICAgICAgaWYgKGJhY2tkcm9wRG9tRWwgJiYgYmFja2Ryb3BJbmRleCgpID09IC0xKSB7XG4gICAgICAgICAgICB2YXIgYmFja2Ryb3BTY29wZVJlZiA9IGJhY2tkcm9wU2NvcGU7XG4gICAgICAgICAgICByZW1vdmVBZnRlckFuaW1hdGUoYmFja2Ryb3BEb21FbCwgYmFja2Ryb3BTY29wZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBiYWNrZHJvcFNjb3BlUmVmID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYmFja2Ryb3BEb21FbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGJhY2tkcm9wU2NvcGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZW1vdmVBZnRlckFuaW1hdGUoZG9tRWwsIHNjb3BlLCBkb25lKSB7XG4gICAgICAgIHZhciBhc3luY0RlZmVycmVkO1xuICAgICAgICB2YXIgYXN5bmNQcm9taXNlID0gbnVsbDtcbiAgICAgICAgdmFyIHNldElzQXN5bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKCFhc3luY0RlZmVycmVkKSB7XG4gICAgICAgICAgICBhc3luY0RlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIGFzeW5jUHJvbWlzZSA9IGFzeW5jRGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gYXN5bmNEb25lKCkge1xuICAgICAgICAgICAgYXN5bmNEZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgkbW9kYWxTdGFjay5OT1dfQ0xPU0lOR19FVkVOVCwgc2V0SXNBc3luYyk7XG5cbiAgICAgICAgLy8gTm90ZSB0aGF0IGl0J3MgaW50ZW50aW9uYWwgdGhhdCBhc3luY1Byb21pc2UgbWlnaHQgYmUgbnVsbC5cbiAgICAgICAgLy8gVGhhdCdzIHdoZW4gc2V0SXNBc3luYyBoYXMgbm90IGJlZW4gY2FsbGVkIGR1cmluZyB0aGVcbiAgICAgICAgLy8gTk9XX0NMT1NJTkdfRVZFTlQgYnJvYWRjYXN0LlxuICAgICAgICByZXR1cm4gJHEud2hlbihhc3luY1Byb21pc2UpLnRoZW4oYWZ0ZXJBbmltYXRpbmcpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFmdGVyQW5pbWF0aW5nKCkge1xuICAgICAgICAgIGlmIChhZnRlckFuaW1hdGluZy5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGFmdGVyQW5pbWF0aW5nLmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgZG9tRWwucmVtb3ZlKCk7XG4gICAgICAgICAgc2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkZG9jdW1lbnQuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgdmFyIG1vZGFsO1xuXG4gICAgICAgIGlmIChldnQud2hpY2ggPT09IDI3KSB7XG4gICAgICAgICAgbW9kYWwgPSBvcGVuZWRXaW5kb3dzLnRvcCgpO1xuICAgICAgICAgIGlmIChtb2RhbCAmJiBtb2RhbC52YWx1ZS5rZXlib2FyZCkge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWwua2V5LCAnZXNjYXBlIGtleSBwcmVzcycpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgJG1vZGFsU3RhY2sub3BlbiA9IGZ1bmN0aW9uIChtb2RhbEluc3RhbmNlLCBtb2RhbCkge1xuXG4gICAgICAgIHZhciBtb2RhbE9wZW5lciA9ICRkb2N1bWVudFswXS5hY3RpdmVFbGVtZW50O1xuXG4gICAgICAgIG9wZW5lZFdpbmRvd3MuYWRkKG1vZGFsSW5zdGFuY2UsIHtcbiAgICAgICAgICBkZWZlcnJlZDogbW9kYWwuZGVmZXJyZWQsXG4gICAgICAgICAgcmVuZGVyRGVmZXJyZWQ6IG1vZGFsLnJlbmRlckRlZmVycmVkLFxuICAgICAgICAgIG1vZGFsU2NvcGU6IG1vZGFsLnNjb3BlLFxuICAgICAgICAgIGJhY2tkcm9wOiBtb2RhbC5iYWNrZHJvcCxcbiAgICAgICAgICBrZXlib2FyZDogbW9kYWwua2V5Ym9hcmRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGJvZHkgPSAkZG9jdW1lbnQuZmluZCgnYm9keScpLmVxKDApLFxuICAgICAgICAgICAgY3VyckJhY2tkcm9wSW5kZXggPSBiYWNrZHJvcEluZGV4KCk7XG5cbiAgICAgICAgaWYgKGN1cnJCYWNrZHJvcEluZGV4ID49IDAgJiYgIWJhY2tkcm9wRG9tRWwpIHtcbiAgICAgICAgICBiYWNrZHJvcFNjb3BlID0gJHJvb3RTY29wZS4kbmV3KHRydWUpO1xuICAgICAgICAgIGJhY2tkcm9wU2NvcGUuaW5kZXggPSBjdXJyQmFja2Ryb3BJbmRleDtcbiAgICAgICAgICB2YXIgYW5ndWxhckJhY2tncm91bmREb21FbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBtb2RhbC1iYWNrZHJvcD1cIm1vZGFsLWJhY2tkcm9wXCI+PC9kaXY+Jyk7XG4gICAgICAgICAgYW5ndWxhckJhY2tncm91bmREb21FbC5hdHRyKCdiYWNrZHJvcC1jbGFzcycsIG1vZGFsLmJhY2tkcm9wQ2xhc3MpO1xuICAgICAgICAgIGlmIChtb2RhbC5hbmltYXRpb24pIHtcbiAgICAgICAgICAgIGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwuYXR0cignbW9kYWwtYW5pbWF0aW9uJywgJ3RydWUnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYmFja2Ryb3BEb21FbCA9ICRjb21waWxlKGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwpKGJhY2tkcm9wU2NvcGUpO1xuICAgICAgICAgIGJvZHkuYXBwZW5kKGJhY2tkcm9wRG9tRWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFuZ3VsYXJEb21FbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBtb2RhbC13aW5kb3c9XCJtb2RhbC13aW5kb3dcIj48L2Rpdj4nKTtcbiAgICAgICAgYW5ndWxhckRvbUVsLmF0dHIoe1xuICAgICAgICAgICd0ZW1wbGF0ZS11cmwnOiBtb2RhbC53aW5kb3dUZW1wbGF0ZVVybCxcbiAgICAgICAgICAnd2luZG93LWNsYXNzJzogbW9kYWwud2luZG93Q2xhc3MsXG4gICAgICAgICAgJ3NpemUnOiBtb2RhbC5zaXplLFxuICAgICAgICAgICdpbmRleCc6IG9wZW5lZFdpbmRvd3MubGVuZ3RoKCkgLSAxLFxuICAgICAgICAgICdhbmltYXRlJzogJ2FuaW1hdGUnXG4gICAgICAgIH0pLmh0bWwobW9kYWwuY29udGVudCk7XG4gICAgICAgIGlmIChtb2RhbC5hbmltYXRpb24pIHtcbiAgICAgICAgICBhbmd1bGFyRG9tRWwuYXR0cignbW9kYWwtYW5pbWF0aW9uJywgJ3RydWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtb2RhbERvbUVsID0gJGNvbXBpbGUoYW5ndWxhckRvbUVsKShtb2RhbC5zY29wZSk7XG4gICAgICAgIG9wZW5lZFdpbmRvd3MudG9wKCkudmFsdWUubW9kYWxEb21FbCA9IG1vZGFsRG9tRWw7XG4gICAgICAgIG9wZW5lZFdpbmRvd3MudG9wKCkudmFsdWUubW9kYWxPcGVuZXIgPSBtb2RhbE9wZW5lcjtcbiAgICAgICAgYm9keS5hcHBlbmQobW9kYWxEb21FbCk7XG4gICAgICAgIGJvZHkuYWRkQ2xhc3MoT1BFTkVEX01PREFMX0NMQVNTKTtcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIGJyb2FkY2FzdENsb3NpbmcobW9kYWxXaW5kb3csIHJlc3VsdE9yUmVhc29uLCBjbG9zaW5nKSB7XG4gICAgICAgICAgcmV0dXJuICFtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbFNjb3BlLiRicm9hZGNhc3QoJ21vZGFsLmNsb3NpbmcnLCByZXN1bHRPclJlYXNvbiwgY2xvc2luZykuZGVmYXVsdFByZXZlbnRlZDtcbiAgICAgIH1cblxuICAgICAgJG1vZGFsU3RhY2suY2xvc2UgPSBmdW5jdGlvbiAobW9kYWxJbnN0YW5jZSwgcmVzdWx0KSB7XG4gICAgICAgIHZhciBtb2RhbFdpbmRvdyA9IG9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpO1xuICAgICAgICBpZiAobW9kYWxXaW5kb3cgJiYgYnJvYWRjYXN0Q2xvc2luZyhtb2RhbFdpbmRvdywgcmVzdWx0LCB0cnVlKSkge1xuICAgICAgICAgIG1vZGFsV2luZG93LnZhbHVlLmRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlLCBtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbE9wZW5lcik7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFtb2RhbFdpbmRvdztcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MgPSBmdW5jdGlvbiAobW9kYWxJbnN0YW5jZSwgcmVhc29uKSB7XG4gICAgICAgIHZhciBtb2RhbFdpbmRvdyA9IG9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpO1xuICAgICAgICBpZiAobW9kYWxXaW5kb3cgJiYgYnJvYWRjYXN0Q2xvc2luZyhtb2RhbFdpbmRvdywgcmVhc29uLCBmYWxzZSkpIHtcbiAgICAgICAgICBtb2RhbFdpbmRvdy52YWx1ZS5kZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlLCBtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbE9wZW5lcik7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFtb2RhbFdpbmRvdztcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmRpc21pc3NBbGwgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIHZhciB0b3BNb2RhbCA9IHRoaXMuZ2V0VG9wKCk7XG4gICAgICAgIHdoaWxlICh0b3BNb2RhbCAmJiB0aGlzLmRpc21pc3ModG9wTW9kYWwua2V5LCByZWFzb24pKSB7XG4gICAgICAgICAgdG9wTW9kYWwgPSB0aGlzLmdldFRvcCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5nZXRUb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBvcGVuZWRXaW5kb3dzLnRvcCgpO1xuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2subW9kYWxSZW5kZXJlZCA9IGZ1bmN0aW9uIChtb2RhbEluc3RhbmNlKSB7XG4gICAgICAgIHZhciBtb2RhbFdpbmRvdyA9IG9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpO1xuICAgICAgICBpZiAobW9kYWxXaW5kb3cpIHtcbiAgICAgICAgICBtb2RhbFdpbmRvdy52YWx1ZS5yZW5kZXJEZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiAkbW9kYWxTdGFjaztcbiAgICB9XSlcblxuICAucHJvdmlkZXIoJyRtb2RhbCcsIGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciAkbW9kYWxQcm92aWRlciA9IHtcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgICBiYWNrZHJvcDogdHJ1ZSwgLy9jYW4gYWxzbyBiZSBmYWxzZSBvciAnc3RhdGljJ1xuICAgICAgICBrZXlib2FyZDogdHJ1ZVxuICAgICAgfSxcbiAgICAgICRnZXQ6IFsnJGluamVjdG9yJywgJyRyb290U2NvcGUnLCAnJHEnLCAnJHRlbXBsYXRlUmVxdWVzdCcsICckY29udHJvbGxlcicsICckbW9kYWxTdGFjaycsXG4gICAgICAgIGZ1bmN0aW9uICgkaW5qZWN0b3IsICRyb290U2NvcGUsICRxLCAkdGVtcGxhdGVSZXF1ZXN0LCAkY29udHJvbGxlciwgJG1vZGFsU3RhY2spIHtcblxuICAgICAgICAgIHZhciAkbW9kYWwgPSB7fTtcblxuICAgICAgICAgIGZ1bmN0aW9uIGdldFRlbXBsYXRlUHJvbWlzZShvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy50ZW1wbGF0ZSA/ICRxLndoZW4ob3B0aW9ucy50ZW1wbGF0ZSkgOlxuICAgICAgICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0KGFuZ3VsYXIuaXNGdW5jdGlvbihvcHRpb25zLnRlbXBsYXRlVXJsKSA/IChvcHRpb25zLnRlbXBsYXRlVXJsKSgpIDogb3B0aW9ucy50ZW1wbGF0ZVVybCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0UmVzb2x2ZVByb21pc2VzKHJlc29sdmVzKSB7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZXNBcnIgPSBbXTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChyZXNvbHZlcywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odmFsdWUpIHx8IGFuZ3VsYXIuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlc0Fyci5wdXNoKCRxLndoZW4oJGluamVjdG9yLmludm9rZSh2YWx1ZSkpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZXNBcnI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJG1vZGFsLm9wZW4gPSBmdW5jdGlvbiAobW9kYWxPcHRpb25zKSB7XG5cbiAgICAgICAgICAgIHZhciBtb2RhbFJlc3VsdERlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIHZhciBtb2RhbE9wZW5lZERlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIHZhciBtb2RhbFJlbmRlckRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgLy9wcmVwYXJlIGFuIGluc3RhbmNlIG9mIGEgbW9kYWwgdG8gYmUgaW5qZWN0ZWQgaW50byBjb250cm9sbGVycyBhbmQgcmV0dXJuZWQgdG8gYSBjYWxsZXJcbiAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0ge1xuICAgICAgICAgICAgICByZXN1bHQ6IG1vZGFsUmVzdWx0RGVmZXJyZWQucHJvbWlzZSxcbiAgICAgICAgICAgICAgb3BlbmVkOiBtb2RhbE9wZW5lZERlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgICAgIHJlbmRlcmVkOiBtb2RhbFJlbmRlckRlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRtb2RhbFN0YWNrLmNsb3NlKG1vZGFsSW5zdGFuY2UsIHJlc3VsdCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGRpc21pc3M6IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJG1vZGFsU3RhY2suZGlzbWlzcyhtb2RhbEluc3RhbmNlLCByZWFzb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvL21lcmdlIGFuZCBjbGVhbiB1cCBvcHRpb25zXG4gICAgICAgICAgICBtb2RhbE9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgJG1vZGFsUHJvdmlkZXIub3B0aW9ucywgbW9kYWxPcHRpb25zKTtcbiAgICAgICAgICAgIG1vZGFsT3B0aW9ucy5yZXNvbHZlID0gbW9kYWxPcHRpb25zLnJlc29sdmUgfHwge307XG5cbiAgICAgICAgICAgIC8vdmVyaWZ5IG9wdGlvbnNcbiAgICAgICAgICAgIGlmICghbW9kYWxPcHRpb25zLnRlbXBsYXRlICYmICFtb2RhbE9wdGlvbnMudGVtcGxhdGVVcmwpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmUgb2YgdGVtcGxhdGUgb3IgdGVtcGxhdGVVcmwgb3B0aW9ucyBpcyByZXF1aXJlZC4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2UgPVxuICAgICAgICAgICAgICAkcS5hbGwoW2dldFRlbXBsYXRlUHJvbWlzZShtb2RhbE9wdGlvbnMpXS5jb25jYXQoZ2V0UmVzb2x2ZVByb21pc2VzKG1vZGFsT3B0aW9ucy5yZXNvbHZlKSkpO1xuXG5cbiAgICAgICAgICAgIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2UudGhlbihmdW5jdGlvbiByZXNvbHZlU3VjY2Vzcyh0cGxBbmRWYXJzKSB7XG5cbiAgICAgICAgICAgICAgdmFyIG1vZGFsU2NvcGUgPSAobW9kYWxPcHRpb25zLnNjb3BlIHx8ICRyb290U2NvcGUpLiRuZXcoKTtcbiAgICAgICAgICAgICAgbW9kYWxTY29wZS4kY2xvc2UgPSBtb2RhbEluc3RhbmNlLmNsb3NlO1xuICAgICAgICAgICAgICBtb2RhbFNjb3BlLiRkaXNtaXNzID0gbW9kYWxJbnN0YW5jZS5kaXNtaXNzO1xuXG4gICAgICAgICAgICAgIHZhciBjdHJsSW5zdGFuY2UsIGN0cmxMb2NhbHMgPSB7fTtcbiAgICAgICAgICAgICAgdmFyIHJlc29sdmVJdGVyID0gMTtcblxuICAgICAgICAgICAgICAvL2NvbnRyb2xsZXJzXG4gICAgICAgICAgICAgIGlmIChtb2RhbE9wdGlvbnMuY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIGN0cmxMb2NhbHMuJHNjb3BlID0gbW9kYWxTY29wZTtcbiAgICAgICAgICAgICAgICBjdHJsTG9jYWxzLiRtb2RhbEluc3RhbmNlID0gbW9kYWxJbnN0YW5jZTtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gobW9kYWxPcHRpb25zLnJlc29sdmUsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgICBjdHJsTG9jYWxzW2tleV0gPSB0cGxBbmRWYXJzW3Jlc29sdmVJdGVyKytdO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY3RybEluc3RhbmNlID0gJGNvbnRyb2xsZXIobW9kYWxPcHRpb25zLmNvbnRyb2xsZXIsIGN0cmxMb2NhbHMpO1xuICAgICAgICAgICAgICAgIGlmIChtb2RhbE9wdGlvbnMuY29udHJvbGxlckFzKSB7XG4gICAgICAgICAgICAgICAgICBpZiAobW9kYWxPcHRpb25zLmJpbmRUb0NvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQobW9kYWxTY29wZSwgY3RybEluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsU2NvcGVbbW9kYWxPcHRpb25zLmNvbnRyb2xsZXJBc10gPSBjdHJsSW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgJG1vZGFsU3RhY2sub3Blbihtb2RhbEluc3RhbmNlLCB7XG4gICAgICAgICAgICAgICAgc2NvcGU6IG1vZGFsU2NvcGUsXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQ6IG1vZGFsUmVzdWx0RGVmZXJyZWQsXG4gICAgICAgICAgICAgICAgcmVuZGVyRGVmZXJyZWQ6IG1vZGFsUmVuZGVyRGVmZXJyZWQsXG4gICAgICAgICAgICAgICAgY29udGVudDogdHBsQW5kVmFyc1swXSxcbiAgICAgICAgICAgICAgICBhbmltYXRpb246IG1vZGFsT3B0aW9ucy5hbmltYXRpb24sXG4gICAgICAgICAgICAgICAgYmFja2Ryb3A6IG1vZGFsT3B0aW9ucy5iYWNrZHJvcCxcbiAgICAgICAgICAgICAgICBrZXlib2FyZDogbW9kYWxPcHRpb25zLmtleWJvYXJkLFxuICAgICAgICAgICAgICAgIGJhY2tkcm9wQ2xhc3M6IG1vZGFsT3B0aW9ucy5iYWNrZHJvcENsYXNzLFxuICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiBtb2RhbE9wdGlvbnMud2luZG93Q2xhc3MsXG4gICAgICAgICAgICAgICAgd2luZG93VGVtcGxhdGVVcmw6IG1vZGFsT3B0aW9ucy53aW5kb3dUZW1wbGF0ZVVybCxcbiAgICAgICAgICAgICAgICBzaXplOiBtb2RhbE9wdGlvbnMuc2l6ZVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gcmVzb2x2ZUVycm9yKHJlYXNvbikge1xuICAgICAgICAgICAgICBtb2RhbFJlc3VsdERlZmVycmVkLnJlamVjdChyZWFzb24pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIG1vZGFsT3BlbmVkRGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgbW9kYWxPcGVuZWREZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gbW9kYWxJbnN0YW5jZTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmV0dXJuICRtb2RhbDtcbiAgICAgICAgfV1cbiAgICB9O1xuXG4gICAgcmV0dXJuICRtb2RhbFByb3ZpZGVyO1xuICB9KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5wYWdpbmF0aW9uJywgW10pXG4uY29udHJvbGxlcignUGFnaW5hdGlvbkNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnJHBhcnNlJywgZnVuY3Rpb24gKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9LCAvLyBudWxsTW9kZWxDdHJsXG4gICAgICBzZXROdW1QYWdlcyA9ICRhdHRycy5udW1QYWdlcyA/ICRwYXJzZSgkYXR0cnMubnVtUGFnZXMpLmFzc2lnbiA6IGFuZ3VsYXIubm9vcDtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8sIGNvbmZpZykge1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuXG4gICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5yZW5kZXIoKTtcbiAgICB9O1xuXG4gICAgaWYgKCRhdHRycy5pdGVtc1BlclBhZ2UpIHtcbiAgICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLml0ZW1zUGVyUGFnZSksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHNlbGYuaXRlbXNQZXJQYWdlID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgJHNjb3BlLnRvdGFsUGFnZXMgPSBzZWxmLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLml0ZW1zUGVyUGFnZSA9IGNvbmZpZy5pdGVtc1BlclBhZ2U7XG4gICAgfVxuXG4gICAgJHNjb3BlLiR3YXRjaCgndG90YWxJdGVtcycsIGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLnRvdGFsUGFnZXMgPSBzZWxmLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKTtcbiAgICB9KTtcblxuICAgICRzY29wZS4kd2F0Y2goJ3RvdGFsUGFnZXMnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgc2V0TnVtUGFnZXMoJHNjb3BlLiRwYXJlbnQsIHZhbHVlKTsgLy8gUmVhZG9ubHkgdmFyaWFibGVcblxuICAgICAgaWYgKCAkc2NvcGUucGFnZSA+IHZhbHVlICkge1xuICAgICAgICAkc2NvcGUuc2VsZWN0UGFnZSh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5jYWxjdWxhdGVUb3RhbFBhZ2VzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRvdGFsUGFnZXMgPSB0aGlzLml0ZW1zUGVyUGFnZSA8IDEgPyAxIDogTWF0aC5jZWlsKCRzY29wZS50b3RhbEl0ZW1zIC8gdGhpcy5pdGVtc1BlclBhZ2UpO1xuICAgIHJldHVybiBNYXRoLm1heCh0b3RhbFBhZ2VzIHx8IDAsIDEpO1xuICB9O1xuXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnBhZ2UgPSBwYXJzZUludChuZ01vZGVsQ3RybC4kdmlld1ZhbHVlLCAxMCkgfHwgMTtcbiAgfTtcblxuICAkc2NvcGUuc2VsZWN0UGFnZSA9IGZ1bmN0aW9uKHBhZ2UsIGV2dCkge1xuICAgIHZhciBjbGlja0FsbG93ZWQgPSAhJHNjb3BlLm5nRGlzYWJsZWQgfHwgIWV2dDtcbiAgICBpZiAoY2xpY2tBbGxvd2VkICYmICRzY29wZS5wYWdlICE9PSBwYWdlICYmIHBhZ2UgPiAwICYmIHBhZ2UgPD0gJHNjb3BlLnRvdGFsUGFnZXMpIHtcbiAgICAgIGlmIChldnQgJiYgZXZ0LnRhcmdldCkge1xuICAgICAgICBldnQudGFyZ2V0LmJsdXIoKTtcbiAgICAgIH1cbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUocGFnZSk7XG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5nZXRUZXh0ID0gZnVuY3Rpb24oIGtleSApIHtcbiAgICByZXR1cm4gJHNjb3BlW2tleSArICdUZXh0J10gfHwgc2VsZi5jb25maWdba2V5ICsgJ1RleHQnXTtcbiAgfTtcbiAgJHNjb3BlLm5vUHJldmlvdXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJHNjb3BlLnBhZ2UgPT09IDE7XG4gIH07XG4gICRzY29wZS5ub05leHQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJHNjb3BlLnBhZ2UgPT09ICRzY29wZS50b3RhbFBhZ2VzO1xuICB9O1xufV0pXG5cbi5jb25zdGFudCgncGFnaW5hdGlvbkNvbmZpZycsIHtcbiAgaXRlbXNQZXJQYWdlOiAxMCxcbiAgYm91bmRhcnlMaW5rczogZmFsc2UsXG4gIGRpcmVjdGlvbkxpbmtzOiB0cnVlLFxuICBmaXJzdFRleHQ6ICdGaXJzdCcsXG4gIHByZXZpb3VzVGV4dDogJ1ByZXZpb3VzJyxcbiAgbmV4dFRleHQ6ICdOZXh0JyxcbiAgbGFzdFRleHQ6ICdMYXN0JyxcbiAgcm90YXRlOiB0cnVlXG59KVxuXG4uZGlyZWN0aXZlKCdwYWdpbmF0aW9uJywgWyckcGFyc2UnLCAncGFnaW5hdGlvbkNvbmZpZycsIGZ1bmN0aW9uKCRwYXJzZSwgcGFnaW5hdGlvbkNvbmZpZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHNjb3BlOiB7XG4gICAgICB0b3RhbEl0ZW1zOiAnPScsXG4gICAgICBmaXJzdFRleHQ6ICdAJyxcbiAgICAgIHByZXZpb3VzVGV4dDogJ0AnLFxuICAgICAgbmV4dFRleHQ6ICdAJyxcbiAgICAgIGxhc3RUZXh0OiAnQCcsXG4gICAgICBuZ0Rpc2FibGVkOic9J1xuICAgIH0sXG4gICAgcmVxdWlyZTogWydwYWdpbmF0aW9uJywgJz9uZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ1BhZ2luYXRpb25Db250cm9sbGVyJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBwYWdpbmF0aW9uQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBpZiAoIW5nTW9kZWxDdHJsKSB7XG4gICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcbiAgICAgIH1cblxuICAgICAgLy8gU2V0dXAgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzXG4gICAgICB2YXIgbWF4U2l6ZSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLm1heFNpemUpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5tYXhTaXplKSA6IHBhZ2luYXRpb25Db25maWcubWF4U2l6ZSxcbiAgICAgICAgICByb3RhdGUgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5yb3RhdGUpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5yb3RhdGUpIDogcGFnaW5hdGlvbkNvbmZpZy5yb3RhdGU7XG4gICAgICBzY29wZS5ib3VuZGFyeUxpbmtzID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuYm91bmRhcnlMaW5rcykgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmJvdW5kYXJ5TGlua3MpIDogcGFnaW5hdGlvbkNvbmZpZy5ib3VuZGFyeUxpbmtzO1xuICAgICAgc2NvcGUuZGlyZWN0aW9uTGlua3MgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kaXJlY3Rpb25MaW5rcykgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmRpcmVjdGlvbkxpbmtzKSA6IHBhZ2luYXRpb25Db25maWcuZGlyZWN0aW9uTGlua3M7XG5cbiAgICAgIHBhZ2luYXRpb25DdHJsLmluaXQobmdNb2RlbEN0cmwsIHBhZ2luYXRpb25Db25maWcpO1xuXG4gICAgICBpZiAoYXR0cnMubWF4U2l6ZSkge1xuICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMubWF4U2l6ZSksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgbWF4U2l6ZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgcGFnaW5hdGlvbkN0cmwucmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgcGFnZSBvYmplY3QgdXNlZCBpbiB0ZW1wbGF0ZVxuICAgICAgZnVuY3Rpb24gbWFrZVBhZ2UobnVtYmVyLCB0ZXh0LCBpc0FjdGl2ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG51bWJlcjogbnVtYmVyLFxuICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgYWN0aXZlOiBpc0FjdGl2ZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRQYWdlcyhjdXJyZW50UGFnZSwgdG90YWxQYWdlcykge1xuICAgICAgICB2YXIgcGFnZXMgPSBbXTtcblxuICAgICAgICAvLyBEZWZhdWx0IHBhZ2UgbGltaXRzXG4gICAgICAgIHZhciBzdGFydFBhZ2UgPSAxLCBlbmRQYWdlID0gdG90YWxQYWdlcztcbiAgICAgICAgdmFyIGlzTWF4U2l6ZWQgPSAoIGFuZ3VsYXIuaXNEZWZpbmVkKG1heFNpemUpICYmIG1heFNpemUgPCB0b3RhbFBhZ2VzICk7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlIGlmIG1heFNpemVcbiAgICAgICAgaWYgKCBpc01heFNpemVkICkge1xuICAgICAgICAgIGlmICggcm90YXRlICkge1xuICAgICAgICAgICAgLy8gQ3VycmVudCBwYWdlIGlzIGRpc3BsYXllZCBpbiB0aGUgbWlkZGxlIG9mIHRoZSB2aXNpYmxlIG9uZXNcbiAgICAgICAgICAgIHN0YXJ0UGFnZSA9IE1hdGgubWF4KGN1cnJlbnRQYWdlIC0gTWF0aC5mbG9vcihtYXhTaXplLzIpLCAxKTtcbiAgICAgICAgICAgIGVuZFBhZ2UgICA9IHN0YXJ0UGFnZSArIG1heFNpemUgLSAxO1xuXG4gICAgICAgICAgICAvLyBBZGp1c3QgaWYgbGltaXQgaXMgZXhjZWVkZWRcbiAgICAgICAgICAgIGlmIChlbmRQYWdlID4gdG90YWxQYWdlcykge1xuICAgICAgICAgICAgICBlbmRQYWdlICAgPSB0b3RhbFBhZ2VzO1xuICAgICAgICAgICAgICBzdGFydFBhZ2UgPSBlbmRQYWdlIC0gbWF4U2l6ZSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFZpc2libGUgcGFnZXMgYXJlIHBhZ2luYXRlZCB3aXRoIG1heFNpemVcbiAgICAgICAgICAgIHN0YXJ0UGFnZSA9ICgoTWF0aC5jZWlsKGN1cnJlbnRQYWdlIC8gbWF4U2l6ZSkgLSAxKSAqIG1heFNpemUpICsgMTtcblxuICAgICAgICAgICAgLy8gQWRqdXN0IGxhc3QgcGFnZSBpZiBsaW1pdCBpcyBleGNlZWRlZFxuICAgICAgICAgICAgZW5kUGFnZSA9IE1hdGgubWluKHN0YXJ0UGFnZSArIG1heFNpemUgLSAxLCB0b3RhbFBhZ2VzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgcGFnZSBudW1iZXIgbGlua3NcbiAgICAgICAgZm9yICh2YXIgbnVtYmVyID0gc3RhcnRQYWdlOyBudW1iZXIgPD0gZW5kUGFnZTsgbnVtYmVyKyspIHtcbiAgICAgICAgICB2YXIgcGFnZSA9IG1ha2VQYWdlKG51bWJlciwgbnVtYmVyLCBudW1iZXIgPT09IGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICBwYWdlcy5wdXNoKHBhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGxpbmtzIHRvIG1vdmUgYmV0d2VlbiBwYWdlIHNldHNcbiAgICAgICAgaWYgKCBpc01heFNpemVkICYmICEgcm90YXRlICkge1xuICAgICAgICAgIGlmICggc3RhcnRQYWdlID4gMSApIHtcbiAgICAgICAgICAgIHZhciBwcmV2aW91c1BhZ2VTZXQgPSBtYWtlUGFnZShzdGFydFBhZ2UgLSAxLCAnLi4uJywgZmFsc2UpO1xuICAgICAgICAgICAgcGFnZXMudW5zaGlmdChwcmV2aW91c1BhZ2VTZXQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICggZW5kUGFnZSA8IHRvdGFsUGFnZXMgKSB7XG4gICAgICAgICAgICB2YXIgbmV4dFBhZ2VTZXQgPSBtYWtlUGFnZShlbmRQYWdlICsgMSwgJy4uLicsIGZhbHNlKTtcbiAgICAgICAgICAgIHBhZ2VzLnB1c2gobmV4dFBhZ2VTZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYWdlcztcbiAgICAgIH1cblxuICAgICAgdmFyIG9yaWdpbmFsUmVuZGVyID0gcGFnaW5hdGlvbkN0cmwucmVuZGVyO1xuICAgICAgcGFnaW5hdGlvbkN0cmwucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG9yaWdpbmFsUmVuZGVyKCk7XG4gICAgICAgIGlmIChzY29wZS5wYWdlID4gMCAmJiBzY29wZS5wYWdlIDw9IHNjb3BlLnRvdGFsUGFnZXMpIHtcbiAgICAgICAgICBzY29wZS5wYWdlcyA9IGdldFBhZ2VzKHNjb3BlLnBhZ2UsIHNjb3BlLnRvdGFsUGFnZXMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uY29uc3RhbnQoJ3BhZ2VyQ29uZmlnJywge1xuICBpdGVtc1BlclBhZ2U6IDEwLFxuICBwcmV2aW91c1RleHQ6ICfCqyBQcmV2aW91cycsXG4gIG5leHRUZXh0OiAnTmV4dCDCuycsXG4gIGFsaWduOiB0cnVlXG59KVxuXG4uZGlyZWN0aXZlKCdwYWdlcicsIFsncGFnZXJDb25maWcnLCBmdW5jdGlvbihwYWdlckNvbmZpZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHNjb3BlOiB7XG4gICAgICB0b3RhbEl0ZW1zOiAnPScsXG4gICAgICBwcmV2aW91c1RleHQ6ICdAJyxcbiAgICAgIG5leHRUZXh0OiAnQCdcbiAgICB9LFxuICAgIHJlcXVpcmU6IFsncGFnZXInLCAnP25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiAnUGFnaW5hdGlvbkNvbnRyb2xsZXInLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBwYWdpbmF0aW9uQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBpZiAoIW5nTW9kZWxDdHJsKSB7XG4gICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcbiAgICAgIH1cblxuICAgICAgc2NvcGUuYWxpZ24gPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5hbGlnbikgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmFsaWduKSA6IHBhZ2VyQ29uZmlnLmFsaWduO1xuICAgICAgcGFnaW5hdGlvbkN0cmwuaW5pdChuZ01vZGVsQ3RybCwgcGFnZXJDb25maWcpO1xuICAgIH1cbiAgfTtcbn1dKTtcblxuLyoqXG4gKiBUaGUgZm9sbG93aW5nIGZlYXR1cmVzIGFyZSBzdGlsbCBvdXRzdGFuZGluZzogYW5pbWF0aW9uIGFzIGFcbiAqIGZ1bmN0aW9uLCBwbGFjZW1lbnQgYXMgYSBmdW5jdGlvbiwgaW5zaWRlLCBzdXBwb3J0IGZvciBtb3JlIHRyaWdnZXJzIHRoYW5cbiAqIGp1c3QgbW91c2UgZW50ZXIvbGVhdmUsIGh0bWwgdG9vbHRpcHMsIGFuZCBzZWxlY3RvciBkZWxlZ2F0aW9uLlxuICovXG5hbmd1bGFyLm1vZHVsZSggJ3VpLmJvb3RzdHJhcC50b29sdGlwJywgWyAndWkuYm9vdHN0cmFwLnBvc2l0aW9uJywgJ3VpLmJvb3RzdHJhcC5iaW5kSHRtbCcgXSApXG5cbi8qKlxuICogVGhlICR0b29sdGlwIHNlcnZpY2UgY3JlYXRlcyB0b29sdGlwLSBhbmQgcG9wb3Zlci1saWtlIGRpcmVjdGl2ZXMgYXMgd2VsbCBhc1xuICogaG91c2VzIGdsb2JhbCBvcHRpb25zIGZvciB0aGVtLlxuICovXG4ucHJvdmlkZXIoICckdG9vbHRpcCcsIGZ1bmN0aW9uICgpIHtcbiAgLy8gVGhlIGRlZmF1bHQgb3B0aW9ucyB0b29sdGlwIGFuZCBwb3BvdmVyLlxuICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgcGxhY2VtZW50OiAndG9wJyxcbiAgICBhbmltYXRpb246IHRydWUsXG4gICAgcG9wdXBEZWxheTogMCxcbiAgICB1c2VDb250ZW50RXhwOiBmYWxzZVxuICB9O1xuXG4gIC8vIERlZmF1bHQgaGlkZSB0cmlnZ2VycyBmb3IgZWFjaCBzaG93IHRyaWdnZXJcbiAgdmFyIHRyaWdnZXJNYXAgPSB7XG4gICAgJ21vdXNlZW50ZXInOiAnbW91c2VsZWF2ZScsXG4gICAgJ2NsaWNrJzogJ2NsaWNrJyxcbiAgICAnZm9jdXMnOiAnYmx1cidcbiAgfTtcblxuICAvLyBUaGUgb3B0aW9ucyBzcGVjaWZpZWQgdG8gdGhlIHByb3ZpZGVyIGdsb2JhbGx5LlxuICB2YXIgZ2xvYmFsT3B0aW9ucyA9IHt9O1xuXG4gIC8qKlxuICAgKiBgb3B0aW9ucyh7fSlgIGFsbG93cyBnbG9iYWwgY29uZmlndXJhdGlvbiBvZiBhbGwgdG9vbHRpcHMgaW4gdGhlXG4gICAqIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSggJ0FwcCcsIFsndWkuYm9vdHN0cmFwLnRvb2x0aXAnXSwgZnVuY3Rpb24oICR0b29sdGlwUHJvdmlkZXIgKSB7XG4gICAqICAgICAvLyBwbGFjZSB0b29sdGlwcyBsZWZ0IGluc3RlYWQgb2YgdG9wIGJ5IGRlZmF1bHRcbiAgICogICAgICR0b29sdGlwUHJvdmlkZXIub3B0aW9ucyggeyBwbGFjZW1lbnQ6ICdsZWZ0JyB9ICk7XG4gICAqICAgfSk7XG4gICAqL1xuXHR0aGlzLm9wdGlvbnMgPSBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0YW5ndWxhci5leHRlbmQoIGdsb2JhbE9wdGlvbnMsIHZhbHVlICk7XG5cdH07XG5cbiAgLyoqXG4gICAqIFRoaXMgYWxsb3dzIHlvdSB0byBleHRlbmQgdGhlIHNldCBvZiB0cmlnZ2VyIG1hcHBpbmdzIGF2YWlsYWJsZS4gRS5nLjpcbiAgICpcbiAgICogICAkdG9vbHRpcFByb3ZpZGVyLnNldFRyaWdnZXJzKCAnb3BlblRyaWdnZXInOiAnY2xvc2VUcmlnZ2VyJyApO1xuICAgKi9cbiAgdGhpcy5zZXRUcmlnZ2VycyA9IGZ1bmN0aW9uIHNldFRyaWdnZXJzICggdHJpZ2dlcnMgKSB7XG4gICAgYW5ndWxhci5leHRlbmQoIHRyaWdnZXJNYXAsIHRyaWdnZXJzICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgYSBoZWxwZXIgZnVuY3Rpb24gZm9yIHRyYW5zbGF0aW5nIGNhbWVsLWNhc2UgdG8gc25ha2UtY2FzZS5cbiAgICovXG4gIGZ1bmN0aW9uIHNuYWtlX2Nhc2UobmFtZSl7XG4gICAgdmFyIHJlZ2V4cCA9IC9bQS1aXS9nO1xuICAgIHZhciBzZXBhcmF0b3IgPSAnLSc7XG4gICAgcmV0dXJuIG5hbWUucmVwbGFjZShyZWdleHAsIGZ1bmN0aW9uKGxldHRlciwgcG9zKSB7XG4gICAgICByZXR1cm4gKHBvcyA/IHNlcGFyYXRvciA6ICcnKSArIGxldHRlci50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGFjdHVhbCBpbnN0YW5jZSBvZiB0aGUgJHRvb2x0aXAgc2VydmljZS5cbiAgICogVE9ETyBzdXBwb3J0IG11bHRpcGxlIHRyaWdnZXJzXG4gICAqL1xuICB0aGlzLiRnZXQgPSBbICckd2luZG93JywgJyRjb21waWxlJywgJyR0aW1lb3V0JywgJyRkb2N1bWVudCcsICckcG9zaXRpb24nLCAnJGludGVycG9sYXRlJywgZnVuY3Rpb24gKCAkd2luZG93LCAkY29tcGlsZSwgJHRpbWVvdXQsICRkb2N1bWVudCwgJHBvc2l0aW9uLCAkaW50ZXJwb2xhdGUgKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICR0b29sdGlwICggdHlwZSwgcHJlZml4LCBkZWZhdWx0VHJpZ2dlclNob3csIG9wdGlvbnMgKSB7XG4gICAgICBvcHRpb25zID0gYW5ndWxhci5leHRlbmQoIHt9LCBkZWZhdWx0T3B0aW9ucywgZ2xvYmFsT3B0aW9ucywgb3B0aW9ucyApO1xuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgYW4gb2JqZWN0IG9mIHNob3cgYW5kIGhpZGUgdHJpZ2dlcnMuXG4gICAgICAgKlxuICAgICAgICogSWYgYSB0cmlnZ2VyIGlzIHN1cHBsaWVkLFxuICAgICAgICogaXQgaXMgdXNlZCB0byBzaG93IHRoZSB0b29sdGlwOyBvdGhlcndpc2UsIGl0IHdpbGwgdXNlIHRoZSBgdHJpZ2dlcmBcbiAgICAgICAqIG9wdGlvbiBwYXNzZWQgdG8gdGhlIGAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnNgIG1ldGhvZDsgZWxzZSBpdCB3aWxsXG4gICAgICAgKiBkZWZhdWx0IHRvIHRoZSB0cmlnZ2VyIHN1cHBsaWVkIHRvIHRoaXMgZGlyZWN0aXZlIGZhY3RvcnkuXG4gICAgICAgKlxuICAgICAgICogVGhlIGhpZGUgdHJpZ2dlciBpcyBiYXNlZCBvbiB0aGUgc2hvdyB0cmlnZ2VyLiBJZiB0aGUgYHRyaWdnZXJgIG9wdGlvblxuICAgICAgICogd2FzIHBhc3NlZCB0byB0aGUgYCR0b29sdGlwUHJvdmlkZXIub3B0aW9uc2AgbWV0aG9kLCBpdCB3aWxsIHVzZSB0aGVcbiAgICAgICAqIG1hcHBlZCB0cmlnZ2VyIGZyb20gYHRyaWdnZXJNYXBgIG9yIHRoZSBwYXNzZWQgdHJpZ2dlciBpZiB0aGUgbWFwIGlzXG4gICAgICAgKiB1bmRlZmluZWQ7IG90aGVyd2lzZSwgaXQgdXNlcyB0aGUgYHRyaWdnZXJNYXBgIHZhbHVlIG9mIHRoZSBzaG93XG4gICAgICAgKiB0cmlnZ2VyOyBlbHNlIGl0IHdpbGwganVzdCB1c2UgdGhlIHNob3cgdHJpZ2dlci5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZ2V0VHJpZ2dlcnMgKCB0cmlnZ2VyICkge1xuICAgICAgICB2YXIgc2hvdyA9IHRyaWdnZXIgfHwgb3B0aW9ucy50cmlnZ2VyIHx8IGRlZmF1bHRUcmlnZ2VyU2hvdztcbiAgICAgICAgdmFyIGhpZGUgPSB0cmlnZ2VyTWFwW3Nob3ddIHx8IHNob3c7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2hvdzogc2hvdyxcbiAgICAgICAgICBoaWRlOiBoaWRlXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHZhciBkaXJlY3RpdmVOYW1lID0gc25ha2VfY2FzZSggdHlwZSApO1xuXG4gICAgICB2YXIgc3RhcnRTeW0gPSAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKTtcbiAgICAgIHZhciBlbmRTeW0gPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCk7XG4gICAgICB2YXIgdGVtcGxhdGUgPVxuICAgICAgICAnPGRpdiAnKyBkaXJlY3RpdmVOYW1lICsnLXBvcHVwICcrXG4gICAgICAgICAgJ3RpdGxlPVwiJytzdGFydFN5bSsndGl0bGUnK2VuZFN5bSsnXCIgJytcbiAgICAgICAgICAob3B0aW9ucy51c2VDb250ZW50RXhwID9cbiAgICAgICAgICAgICdjb250ZW50LWV4cD1cImNvbnRlbnRFeHAoKVwiICcgOlxuICAgICAgICAgICAgJ2NvbnRlbnQ9XCInK3N0YXJ0U3ltKydjb250ZW50JytlbmRTeW0rJ1wiICcpICtcbiAgICAgICAgICAncGxhY2VtZW50PVwiJytzdGFydFN5bSsncGxhY2VtZW50JytlbmRTeW0rJ1wiICcrXG4gICAgICAgICAgJ3BvcHVwLWNsYXNzPVwiJytzdGFydFN5bSsncG9wdXBDbGFzcycrZW5kU3ltKydcIiAnK1xuICAgICAgICAgICdhbmltYXRpb249XCJhbmltYXRpb25cIiAnK1xuICAgICAgICAgICdpcy1vcGVuPVwiaXNPcGVuXCInK1xuICAgICAgICAgICdvcmlnaW4tc2NvcGU9XCJvcmlnU2NvcGVcIiAnK1xuICAgICAgICAgICc+JytcbiAgICAgICAgJzwvZGl2Pic7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW0sIHRBdHRycykge1xuICAgICAgICAgIHZhciB0b29sdGlwTGlua2VyID0gJGNvbXBpbGUoIHRlbXBsYXRlICk7XG5cbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbGluayAoIHNjb3BlLCBlbGVtZW50LCBhdHRycywgdG9vbHRpcEN0cmwgKSB7XG4gICAgICAgICAgICB2YXIgdG9vbHRpcDtcbiAgICAgICAgICAgIHZhciB0b29sdGlwTGlua2VkU2NvcGU7XG4gICAgICAgICAgICB2YXIgdHJhbnNpdGlvblRpbWVvdXQ7XG4gICAgICAgICAgICB2YXIgcG9wdXBUaW1lb3V0O1xuICAgICAgICAgICAgdmFyIGFwcGVuZFRvQm9keSA9IGFuZ3VsYXIuaXNEZWZpbmVkKCBvcHRpb25zLmFwcGVuZFRvQm9keSApID8gb3B0aW9ucy5hcHBlbmRUb0JvZHkgOiBmYWxzZTtcbiAgICAgICAgICAgIHZhciB0cmlnZ2VycyA9IGdldFRyaWdnZXJzKCB1bmRlZmluZWQgKTtcbiAgICAgICAgICAgIHZhciBoYXNFbmFibGVFeHAgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRyc1twcmVmaXgrJ0VuYWJsZSddKTtcbiAgICAgICAgICAgIHZhciB0dFNjb3BlID0gc2NvcGUuJG5ldyh0cnVlKTtcblxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uVG9vbHRpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgaWYgKCF0b29sdGlwKSB7IHJldHVybjsgfVxuXG4gICAgICAgICAgICAgIHZhciB0dFBvc2l0aW9uID0gJHBvc2l0aW9uLnBvc2l0aW9uRWxlbWVudHMoZWxlbWVudCwgdG9vbHRpcCwgdHRTY29wZS5wbGFjZW1lbnQsIGFwcGVuZFRvQm9keSk7XG4gICAgICAgICAgICAgIHR0UG9zaXRpb24udG9wICs9ICdweCc7XG4gICAgICAgICAgICAgIHR0UG9zaXRpb24ubGVmdCArPSAncHgnO1xuXG4gICAgICAgICAgICAgIC8vIE5vdyBzZXQgdGhlIGNhbGN1bGF0ZWQgcG9zaXRpb25pbmcuXG4gICAgICAgICAgICAgIHRvb2x0aXAuY3NzKCB0dFBvc2l0aW9uICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBTZXQgdXAgdGhlIGNvcnJlY3Qgc2NvcGUgdG8gYWxsb3cgdHJhbnNjbHVzaW9uIGxhdGVyXG4gICAgICAgICAgICB0dFNjb3BlLm9yaWdTY29wZSA9IHNjb3BlO1xuXG4gICAgICAgICAgICAvLyBCeSBkZWZhdWx0LCB0aGUgdG9vbHRpcCBpcyBub3Qgb3Blbi5cbiAgICAgICAgICAgIC8vIFRPRE8gYWRkIGFiaWxpdHkgdG8gc3RhcnQgdG9vbHRpcCBvcGVuZWRcbiAgICAgICAgICAgIHR0U2NvcGUuaXNPcGVuID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZVRvb2x0aXBCaW5kICgpIHtcbiAgICAgICAgICAgICAgaWYgKCAhIHR0U2NvcGUuaXNPcGVuICkge1xuICAgICAgICAgICAgICAgIHNob3dUb29sdGlwQmluZCgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhpZGVUb29sdGlwQmluZCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNob3cgdGhlIHRvb2x0aXAgd2l0aCBkZWxheSBpZiBzcGVjaWZpZWQsIG90aGVyd2lzZSBzaG93IGl0IGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBmdW5jdGlvbiBzaG93VG9vbHRpcEJpbmQoKSB7XG4gICAgICAgICAgICAgIGlmKGhhc0VuYWJsZUV4cCAmJiAhc2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4KydFbmFibGUnXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBwcmVwYXJlVG9vbHRpcCgpO1xuXG4gICAgICAgICAgICAgIGlmICggdHRTY29wZS5wb3B1cERlbGF5ICkge1xuICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlIHRvb2x0aXAgd2FzIGFscmVhZHkgc2NoZWR1bGVkIHRvIHBvcC11cC5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGhhcHBlbnMgaWYgc2hvdyBpcyB0cmlnZ2VyZWQgbXVsdGlwbGUgdGltZXMgYmVmb3JlIGFueSBoaWRlIGlzIHRyaWdnZXJlZC5cbiAgICAgICAgICAgICAgICBpZiAoIXBvcHVwVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0ID0gJHRpbWVvdXQoIHNob3csIHR0U2NvcGUucG9wdXBEZWxheSwgZmFsc2UgKTtcbiAgICAgICAgICAgICAgICAgIHBvcHVwVGltZW91dC50aGVuKGZ1bmN0aW9uKHJlcG9zaXRpb24pe3JlcG9zaXRpb24oKTt9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2hvdygpKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gaGlkZVRvb2x0aXBCaW5kICgpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTaG93IHRoZSB0b29sdGlwIHBvcHVwIGVsZW1lbnQuXG4gICAgICAgICAgICBmdW5jdGlvbiBzaG93KCkge1xuXG4gICAgICAgICAgICAgIHBvcHVwVGltZW91dCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBwZW5kaW5nIHJlbW92ZSB0cmFuc2l0aW9uLCB3ZSBtdXN0IGNhbmNlbCBpdCwgbGVzdCB0aGVcbiAgICAgICAgICAgICAgLy8gdG9vbHRpcCBiZSBteXN0ZXJpb3VzbHkgcmVtb3ZlZC5cbiAgICAgICAgICAgICAgaWYgKCB0cmFuc2l0aW9uVGltZW91dCApIHtcbiAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoIHRyYW5zaXRpb25UaW1lb3V0ICk7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gRG9uJ3Qgc2hvdyBlbXB0eSB0b29sdGlwcy5cbiAgICAgICAgICAgICAgaWYgKCAhKG9wdGlvbnMudXNlQ29udGVudEV4cCA/IHR0U2NvcGUuY29udGVudEV4cCgpIDogdHRTY29wZS5jb250ZW50KSApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci5ub29wO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY3JlYXRlVG9vbHRpcCgpO1xuXG4gICAgICAgICAgICAgIC8vIFNldCB0aGUgaW5pdGlhbCBwb3NpdGlvbmluZy5cbiAgICAgICAgICAgICAgdG9vbHRpcC5jc3MoeyB0b3A6IDAsIGxlZnQ6IDAsIGRpc3BsYXk6ICdibG9jaycgfSk7XG4gICAgICAgICAgICAgIHR0U2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgICAgICAgICAgIHBvc2l0aW9uVG9vbHRpcCgpO1xuXG4gICAgICAgICAgICAgIC8vIEFuZCBzaG93IHRoZSB0b29sdGlwLlxuICAgICAgICAgICAgICB0dFNjb3BlLmlzT3BlbiA9IHRydWU7XG4gICAgICAgICAgICAgIHR0U2NvcGUuJGFwcGx5KCk7IC8vIGRpZ2VzdCByZXF1aXJlZCBhcyAkYXBwbHkgaXMgbm90IGNhbGxlZFxuXG4gICAgICAgICAgICAgIC8vIFJldHVybiBwb3NpdGlvbmluZyBmdW5jdGlvbiBhcyBwcm9taXNlIGNhbGxiYWNrIGZvciBjb3JyZWN0XG4gICAgICAgICAgICAgIC8vIHBvc2l0aW9uaW5nIGFmdGVyIGRyYXcuXG4gICAgICAgICAgICAgIHJldHVybiBwb3NpdGlvblRvb2x0aXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEhpZGUgdGhlIHRvb2x0aXAgcG9wdXAgZWxlbWVudC5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAgICAgICAgIC8vIEZpcnN0IHRoaW5ncyBmaXJzdDogd2UgZG9uJ3Qgc2hvdyBpdCBhbnltb3JlLlxuICAgICAgICAgICAgICB0dFNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgIC8vaWYgdG9vbHRpcCBpcyBnb2luZyB0byBiZSBzaG93biBhZnRlciBkZWxheSwgd2UgbXVzdCBjYW5jZWwgdGhpc1xuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoIHBvcHVwVGltZW91dCApO1xuICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICAgIC8vIEFuZCBub3cgd2UgcmVtb3ZlIGl0IGZyb20gdGhlIERPTS4gSG93ZXZlciwgaWYgd2UgaGF2ZSBhbmltYXRpb24sIHdlXG4gICAgICAgICAgICAgIC8vIG5lZWQgdG8gd2FpdCBmb3IgaXQgdG8gZXhwaXJlIGJlZm9yZWhhbmQuXG4gICAgICAgICAgICAgIC8vIEZJWE1FOiB0aGlzIGlzIGEgcGxhY2Vob2xkZXIgZm9yIGEgcG9ydCBvZiB0aGUgdHJhbnNpdGlvbnMgbGlicmFyeS5cbiAgICAgICAgICAgICAgaWYgKCB0dFNjb3BlLmFuaW1hdGlvbiApIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRyYW5zaXRpb25UaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uVGltZW91dCA9ICR0aW1lb3V0KHJlbW92ZVRvb2x0aXAsIDUwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbW92ZVRvb2x0aXAoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVUb29sdGlwKCkge1xuICAgICAgICAgICAgICAvLyBUaGVyZSBjYW4gb25seSBiZSBvbmUgdG9vbHRpcCBlbGVtZW50IHBlciBkaXJlY3RpdmUgc2hvd24gYXQgb25jZS5cbiAgICAgICAgICAgICAgaWYgKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICByZW1vdmVUb29sdGlwKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlID0gdHRTY29wZS4kbmV3KCk7XG4gICAgICAgICAgICAgIHRvb2x0aXAgPSB0b29sdGlwTGlua2VyKHRvb2x0aXBMaW5rZWRTY29wZSwgZnVuY3Rpb24gKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICBpZiAoIGFwcGVuZFRvQm9keSApIHtcbiAgICAgICAgICAgICAgICAgICRkb2N1bWVudC5maW5kKCAnYm9keScgKS5hcHBlbmQoIHRvb2x0aXAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZnRlciggdG9vbHRpcCApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQocG9zaXRpb25Ub29sdGlwLCAwLCBmYWxzZSk7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZUNvbnRlbnRFeHApIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJHdhdGNoKCdjb250ZW50RXhwKCknLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIXZhbCAmJiB0dFNjb3BlLmlzT3BlbiApIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZVRvb2x0aXAoKSB7XG4gICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgaWYgKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHRvb2x0aXAgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0b29sdGlwTGlua2VkU2NvcGUpIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBhcmVUb29sdGlwKCkge1xuICAgICAgICAgICAgICBwcmVwUG9wdXBDbGFzcygpO1xuICAgICAgICAgICAgICBwcmVwUGxhY2VtZW50KCk7XG4gICAgICAgICAgICAgIHByZXBQb3B1cERlbGF5KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHR0U2NvcGUuY29udGVudEV4cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiRldmFsKGF0dHJzW3R5cGVdKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogT2JzZXJ2ZSB0aGUgcmVsZXZhbnQgYXR0cmlidXRlcy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLnVzZUNvbnRlbnRFeHApIHtcbiAgICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUoIHR5cGUsIGZ1bmN0aW9uICggdmFsICkge1xuICAgICAgICAgICAgICAgIHR0U2NvcGUuY29udGVudCA9IHZhbDtcblxuICAgICAgICAgICAgICAgIGlmICghdmFsICYmIHR0U2NvcGUuaXNPcGVuICkge1xuICAgICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKCAnZGlzYWJsZWQnLCBmdW5jdGlvbiAoIHZhbCApIHtcbiAgICAgICAgICAgICAgaWYgKHZhbCAmJiB0dFNjb3BlLmlzT3BlbiApIHtcbiAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSggcHJlZml4KydUaXRsZScsIGZ1bmN0aW9uICggdmFsICkge1xuICAgICAgICAgICAgICB0dFNjb3BlLnRpdGxlID0gdmFsO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBQb3B1cENsYXNzKCkge1xuICAgICAgICAgICAgICB0dFNjb3BlLnBvcHVwQ2xhc3MgPSBhdHRyc1twcmVmaXggKyAnQ2xhc3MnXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcHJlcFBsYWNlbWVudCgpIHtcbiAgICAgICAgICAgICAgdmFyIHZhbCA9IGF0dHJzWyBwcmVmaXggKyAnUGxhY2VtZW50JyBdO1xuICAgICAgICAgICAgICB0dFNjb3BlLnBsYWNlbWVudCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCB2YWwgKSA/IHZhbCA6IG9wdGlvbnMucGxhY2VtZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVwUG9wdXBEZWxheSgpIHtcbiAgICAgICAgICAgICAgdmFyIHZhbCA9IGF0dHJzWyBwcmVmaXggKyAnUG9wdXBEZWxheScgXTtcbiAgICAgICAgICAgICAgdmFyIGRlbGF5ID0gcGFyc2VJbnQoIHZhbCwgMTAgKTtcbiAgICAgICAgICAgICAgdHRTY29wZS5wb3B1cERlbGF5ID0gISBpc05hTihkZWxheSkgPyBkZWxheSA6IG9wdGlvbnMucG9wdXBEZWxheTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHVucmVnaXN0ZXJUcmlnZ2VycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC51bmJpbmQodHJpZ2dlcnMuc2hvdywgc2hvd1Rvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgICAgZWxlbWVudC51bmJpbmQodHJpZ2dlcnMuaGlkZSwgaGlkZVRvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBUcmlnZ2VycygpIHtcbiAgICAgICAgICAgICAgdmFyIHZhbCA9IGF0dHJzWyBwcmVmaXggKyAnVHJpZ2dlcicgXTtcbiAgICAgICAgICAgICAgdW5yZWdpc3RlclRyaWdnZXJzKCk7XG5cbiAgICAgICAgICAgICAgdHJpZ2dlcnMgPSBnZXRUcmlnZ2VycyggdmFsICk7XG5cbiAgICAgICAgICAgICAgaWYgKCB0cmlnZ2Vycy5zaG93ID09PSB0cmlnZ2Vycy5oaWRlICkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZCggdHJpZ2dlcnMuc2hvdywgdG9nZ2xlVG9vbHRpcEJpbmQgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmJpbmQoIHRyaWdnZXJzLnNob3csIHNob3dUb29sdGlwQmluZCApO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZCggdHJpZ2dlcnMuaGlkZSwgaGlkZVRvb2x0aXBCaW5kICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXBUcmlnZ2VycygpO1xuXG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gc2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4ICsgJ0FuaW1hdGlvbiddKTtcbiAgICAgICAgICAgIHR0U2NvcGUuYW5pbWF0aW9uID0gYW5ndWxhci5pc0RlZmluZWQoYW5pbWF0aW9uKSA/ICEhYW5pbWF0aW9uIDogb3B0aW9ucy5hbmltYXRpb247XG5cbiAgICAgICAgICAgIHZhciBhcHBlbmRUb0JvZHlWYWwgPSBzY29wZS4kZXZhbChhdHRyc1twcmVmaXggKyAnQXBwZW5kVG9Cb2R5J10pO1xuICAgICAgICAgICAgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQoYXBwZW5kVG9Cb2R5VmFsKSA/IGFwcGVuZFRvQm9keVZhbCA6IGFwcGVuZFRvQm9keTtcblxuICAgICAgICAgICAgLy8gaWYgYSB0b29sdGlwIGlzIGF0dGFjaGVkIHRvIDxib2R5PiB3ZSBuZWVkIHRvIHJlbW92ZSBpdCBvblxuICAgICAgICAgICAgLy8gbG9jYXRpb24gY2hhbmdlIGFzIGl0cyBwYXJlbnQgc2NvcGUgd2lsbCBwcm9iYWJseSBub3QgYmUgZGVzdHJveWVkXG4gICAgICAgICAgICAvLyBieSB0aGUgY2hhbmdlLlxuICAgICAgICAgICAgaWYgKCBhcHBlbmRUb0JvZHkgKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uIGNsb3NlVG9vbHRpcE9uTG9jYXRpb25DaGFuZ2VTdWNjZXNzICgpIHtcbiAgICAgICAgICAgICAgaWYgKCB0dFNjb3BlLmlzT3BlbiApIHtcbiAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdG9vbHRpcCBpcyBkZXN0cm95ZWQgYW5kIHJlbW92ZWQuXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gb25EZXN0cm95VG9vbHRpcCgpIHtcbiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKCB0cmFuc2l0aW9uVGltZW91dCApO1xuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoIHBvcHVwVGltZW91dCApO1xuICAgICAgICAgICAgICB1bnJlZ2lzdGVyVHJpZ2dlcnMoKTtcbiAgICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcCgpO1xuICAgICAgICAgICAgICB0dFNjb3BlID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgfV07XG59KVxuXG4vLyBUaGlzIGlzIG1vc3RseSBuZ0luY2x1ZGUgY29kZSBidXQgd2l0aCBhIGN1c3RvbSBzY29wZVxuLmRpcmVjdGl2ZSggJ3Rvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGUnLCBbXG4gICAgICAgICAnJGFuaW1hdGUnLCAnJHNjZScsICckY29tcGlsZScsICckdGVtcGxhdGVSZXF1ZXN0JyxcbmZ1bmN0aW9uICgkYW5pbWF0ZSAsICAkc2NlICwgICRjb21waWxlICwgICR0ZW1wbGF0ZVJlcXVlc3QpIHtcbiAgcmV0dXJuIHtcbiAgICBsaW5rOiBmdW5jdGlvbiAoIHNjb3BlLCBlbGVtLCBhdHRycyApIHtcbiAgICAgIHZhciBvcmlnU2NvcGUgPSBzY29wZS4kZXZhbChhdHRycy50b29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlU2NvcGUpO1xuXG4gICAgICB2YXIgY2hhbmdlQ291bnRlciA9IDAsXG4gICAgICAgIGN1cnJlbnRTY29wZSxcbiAgICAgICAgcHJldmlvdXNFbGVtZW50LFxuICAgICAgICBjdXJyZW50RWxlbWVudDtcblxuICAgICAgdmFyIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHByZXZpb3VzRWxlbWVudCkge1xuICAgICAgICAgIHByZXZpb3VzRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50U2NvcGUpIHtcbiAgICAgICAgICBjdXJyZW50U2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICBjdXJyZW50U2NvcGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50RWxlbWVudCkge1xuICAgICAgICAgICRhbmltYXRlLmxlYXZlKGN1cnJlbnRFbGVtZW50KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBjdXJyZW50RWxlbWVudDtcbiAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLiR3YXRjaCgkc2NlLnBhcnNlQXNSZXNvdXJjZVVybChhdHRycy50b29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlKSwgZnVuY3Rpb24gKHNyYykge1xuICAgICAgICB2YXIgdGhpc0NoYW5nZUlkID0gKytjaGFuZ2VDb3VudGVyO1xuXG4gICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICAvL3NldCB0aGUgMm5kIHBhcmFtIHRvIHRydWUgdG8gaWdub3JlIHRoZSB0ZW1wbGF0ZSByZXF1ZXN0IGVycm9yIHNvIHRoYXQgdGhlIGlubmVyXG4gICAgICAgICAgLy9jb250ZW50cyBhbmQgc2NvcGUgY2FuIGJlIGNsZWFuZWQgdXAuXG4gICAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChzcmMsIHRydWUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmICh0aGlzQ2hhbmdlSWQgIT09IGNoYW5nZUNvdW50ZXIpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICB2YXIgbmV3U2NvcGUgPSBvcmlnU2NvcGUuJG5ldygpO1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gcmVzcG9uc2U7XG5cbiAgICAgICAgICAgIHZhciBjbG9uZSA9ICRjb21waWxlKHRlbXBsYXRlKShuZXdTY29wZSwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjbG9uZSwgZWxlbSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbmV3U2NvcGU7XG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGNsb25lO1xuXG4gICAgICAgICAgICBjdXJyZW50U2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudExvYWRlZCcsIHNyYyk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpc0NoYW5nZUlkID09PSBjaGFuZ2VDb3VudGVyKSB7XG4gICAgICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcbiAgICAgICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudEVycm9yJywgc3JjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50UmVxdWVzdGVkJywgc3JjKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi8qKlxuICogTm90ZSB0aGF0IGl0J3MgaW50ZW50aW9uYWwgdGhhdCB0aGVzZSBjbGFzc2VzIGFyZSAqbm90KiBhcHBsaWVkIHRocm91Z2ggJGFuaW1hdGUuXG4gKiBUaGV5IG11c3Qgbm90IGJlIGFuaW1hdGVkIGFzIHRoZXkncmUgZXhwZWN0ZWQgdG8gYmUgcHJlc2VudCBvbiB0aGUgdG9vbHRpcCBvblxuICogaW5pdGlhbGl6YXRpb24uXG4gKi9cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBDbGFzc2VzJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgaWYgKHNjb3BlLnBsYWNlbWVudCkge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKHNjb3BlLnBsYWNlbWVudCk7XG4gICAgICB9XG4gICAgICBpZiAoc2NvcGUucG9wdXBDbGFzcykge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKHNjb3BlLnBvcHVwQ2xhc3MpO1xuICAgICAgfVxuICAgICAgaWYgKHNjb3BlLmFuaW1hdGlvbigpKSB7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoYXR0cnMudG9vbHRpcEFuaW1hdGlvbkNsYXNzKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCAndG9vbHRpcFBvcHVwJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgY29udGVudDogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSggJ3Rvb2x0aXAnLCBbICckdG9vbHRpcCcsIGZ1bmN0aW9uICggJHRvb2x0aXAgKSB7XG4gIHJldHVybiAkdG9vbHRpcCggJ3Rvb2x0aXAnLCAndG9vbHRpcCcsICdtb3VzZWVudGVyJyApO1xufV0pXG5cbi5kaXJlY3RpdmUoICd0b29sdGlwVGVtcGxhdGVQb3B1cCcsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IGNvbnRlbnRFeHA6ICcmJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnLFxuICAgICAgb3JpZ2luU2NvcGU6ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCAndG9vbHRpcFRlbXBsYXRlJywgWyAnJHRvb2x0aXAnLCBmdW5jdGlvbiAoICR0b29sdGlwICkge1xuICByZXR1cm4gJHRvb2x0aXAoJ3Rvb2x0aXBUZW1wbGF0ZScsICd0b29sdGlwJywgJ21vdXNlZW50ZXInLCB7XG4gICAgdXNlQ29udGVudEV4cDogdHJ1ZVxuICB9KTtcbn1dKVxuXG4uZGlyZWN0aXZlKCAndG9vbHRpcEh0bWxQb3B1cCcsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IGNvbnRlbnRFeHA6ICcmJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSggJ3Rvb2x0aXBIdG1sJywgWyAnJHRvb2x0aXAnLCBmdW5jdGlvbiAoICR0b29sdGlwICkge1xuICByZXR1cm4gJHRvb2x0aXAoJ3Rvb2x0aXBIdG1sJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicsIHtcbiAgICB1c2VDb250ZW50RXhwOiB0cnVlXG4gIH0pO1xufV0pXG5cbi8qXG5EZXByZWNhdGVkXG4qL1xuLmRpcmVjdGl2ZSggJ3Rvb2x0aXBIdG1sVW5zYWZlUG9wdXAnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyBjb250ZW50OiAnQCcsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWwnXG4gIH07XG59KVxuXG4udmFsdWUoJ3Rvb2x0aXBIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkJywgZmFsc2UpXG4uZGlyZWN0aXZlKCAndG9vbHRpcEh0bWxVbnNhZmUnLCBbXG4gICAgICAgICAgJyR0b29sdGlwJywgJ3Rvb2x0aXBIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkJywgJyRsb2cnLFxuZnVuY3Rpb24gKCAkdG9vbHRpcCAsICB0b29sdGlwSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCAsICAkbG9nKSB7XG4gIGlmICghdG9vbHRpcEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQpIHtcbiAgICAkbG9nLndhcm4oJ3Rvb2x0aXAtaHRtbC11bnNhZmUgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB0b29sdGlwLWh0bWwgb3IgdG9vbHRpcC10ZW1wbGF0ZSBpbnN0ZWFkLicpO1xuICB9XG4gIHJldHVybiAkdG9vbHRpcCggJ3Rvb2x0aXBIdG1sVW5zYWZlJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicgKTtcbn1dKTtcblxuLyoqXG4gKiBUaGUgZm9sbG93aW5nIGZlYXR1cmVzIGFyZSBzdGlsbCBvdXRzdGFuZGluZzogcG9wdXAgZGVsYXksIGFuaW1hdGlvbiBhcyBhXG4gKiBmdW5jdGlvbiwgcGxhY2VtZW50IGFzIGEgZnVuY3Rpb24sIGluc2lkZSwgc3VwcG9ydCBmb3IgbW9yZSB0cmlnZ2VycyB0aGFuXG4gKiBqdXN0IG1vdXNlIGVudGVyL2xlYXZlLCBodG1sIHBvcG92ZXJzLCBhbmQgc2VsZWN0b3IgZGVsZWdhdGF0aW9uLlxuICovXG5hbmd1bGFyLm1vZHVsZSggJ3VpLmJvb3RzdHJhcC5wb3BvdmVyJywgWyAndWkuYm9vdHN0cmFwLnRvb2x0aXAnIF0gKVxuXG4uZGlyZWN0aXZlKCAncG9wb3ZlclRlbXBsYXRlUG9wdXAnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyB0aXRsZTogJ0AnLCBjb250ZW50RXhwOiAnJicsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyxcbiAgICAgIG9yaWdpblNjb3BlOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci10ZW1wbGF0ZS5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSggJ3BvcG92ZXJUZW1wbGF0ZScsIFsgJyR0b29sdGlwJywgZnVuY3Rpb24gKCAkdG9vbHRpcCApIHtcbiAgcmV0dXJuICR0b29sdGlwKCAncG9wb3ZlclRlbXBsYXRlJywgJ3BvcG92ZXInLCAnY2xpY2snLCB7XG4gICAgdXNlQ29udGVudEV4cDogdHJ1ZVxuICB9ICk7XG59XSlcblxuLmRpcmVjdGl2ZSggJ3BvcG92ZXJQb3B1cCcsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IHRpdGxlOiAnQCcsIGNvbnRlbnQ6ICdAJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbCdcbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoICdwb3BvdmVyJywgWyAnJHRvb2x0aXAnLCBmdW5jdGlvbiAoICR0b29sdGlwICkge1xuICByZXR1cm4gJHRvb2x0aXAoICdwb3BvdmVyJywgJ3BvcG92ZXInLCAnY2xpY2snICk7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucHJvZ3Jlc3NiYXInLCBbXSlcblxuLmNvbnN0YW50KCdwcm9ncmVzc0NvbmZpZycsIHtcbiAgYW5pbWF0ZTogdHJ1ZSxcbiAgbWF4OiAxMDBcbn0pXG5cbi5jb250cm9sbGVyKCdQcm9ncmVzc0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAncHJvZ3Jlc3NDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgcHJvZ3Jlc3NDb25maWcpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFuaW1hdGUgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuYW5pbWF0ZSkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuYW5pbWF0ZSkgOiBwcm9ncmVzc0NvbmZpZy5hbmltYXRlO1xuXG4gICAgdGhpcy5iYXJzID0gW107XG4gICAgJHNjb3BlLm1heCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRzY29wZS5tYXgpID8gJHNjb3BlLm1heCA6IHByb2dyZXNzQ29uZmlnLm1heDtcblxuICAgIHRoaXMuYWRkQmFyID0gZnVuY3Rpb24oYmFyLCBlbGVtZW50KSB7XG4gICAgICAgIGlmICggIWFuaW1hdGUgKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNzcyh7J3RyYW5zaXRpb24nOiAnbm9uZSd9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmFycy5wdXNoKGJhcik7XG5cbiAgICAgICAgYmFyLm1heCA9ICRzY29wZS5tYXg7XG5cbiAgICAgICAgYmFyLiR3YXRjaCgndmFsdWUnLCBmdW5jdGlvbiggdmFsdWUgKSB7XG4gICAgICAgICAgICBiYXIucmVjYWxjdWxhdGVQZXJjZW50YWdlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJhci5yZWNhbGN1bGF0ZVBlcmNlbnRhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGJhci5wZXJjZW50ID0gKygxMDAgKiBiYXIudmFsdWUgLyBiYXIubWF4KS50b0ZpeGVkKDIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGJhci4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHNlbGYucmVtb3ZlQmFyKGJhcik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZUJhciA9IGZ1bmN0aW9uKGJhcikge1xuICAgICAgICB0aGlzLmJhcnMuc3BsaWNlKHRoaXMuYmFycy5pbmRleE9mKGJhciksIDEpO1xuICAgIH07XG5cbiAgICAkc2NvcGUuJHdhdGNoKCdtYXgnLCBmdW5jdGlvbihtYXgpIHtcbiAgICAgICAgc2VsZi5iYXJzLmZvckVhY2goZnVuY3Rpb24gKGJhcikge1xuICAgICAgICAgICAgYmFyLm1heCA9ICRzY29wZS5tYXg7XG4gICAgICAgICAgICBiYXIucmVjYWxjdWxhdGVQZXJjZW50YWdlKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufV0pXG5cbi5kaXJlY3RpdmUoJ3Byb2dyZXNzJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdQcm9ncmVzc0NvbnRyb2xsZXInLFxuICAgICAgICByZXF1aXJlOiAncHJvZ3Jlc3MnLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIG1heDogJz0/J1xuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWwnXG4gICAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2JhcicsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgICByZXF1aXJlOiAnXnByb2dyZXNzJyxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIHZhbHVlOiAnPScsXG4gICAgICAgICAgICB0eXBlOiAnQCdcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCcsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgcHJvZ3Jlc3NDdHJsKSB7XG4gICAgICAgICAgICBwcm9ncmVzc0N0cmwuYWRkQmFyKHNjb3BlLCBlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH07XG59KVxuXG4uZGlyZWN0aXZlKCdwcm9ncmVzc2JhcicsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgICBjb250cm9sbGVyOiAnUHJvZ3Jlc3NDb250cm9sbGVyJyxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIHZhbHVlOiAnPScsXG4gICAgICAgICAgICBtYXg6ICc9PycsXG4gICAgICAgICAgICB0eXBlOiAnQCdcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sJyxcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwcm9ncmVzc0N0cmwpIHtcbiAgICAgICAgICAgIHByb2dyZXNzQ3RybC5hZGRCYXIoc2NvcGUsIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50LmNoaWxkcmVuKClbMF0pKTtcbiAgICAgICAgfVxuICAgIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5yYXRpbmcnLCBbXSlcblxuLmNvbnN0YW50KCdyYXRpbmdDb25maWcnLCB7XG4gIG1heDogNSxcbiAgc3RhdGVPbjogbnVsbCxcbiAgc3RhdGVPZmY6IG51bGxcbn0pXG5cbi5jb250cm9sbGVyKCdSYXRpbmdDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJ3JhdGluZ0NvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCByYXRpbmdDb25maWcpIHtcbiAgdmFyIG5nTW9kZWxDdHJsICA9IHsgJHNldFZpZXdWYWx1ZTogYW5ndWxhci5ub29wIH07XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24obmdNb2RlbEN0cmxfKSB7XG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XG4gICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IHRoaXMucmVuZGVyO1xuXG4gICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlIDw8IDAgIT09IHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YXRlT24gPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuc3RhdGVPbikgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc3RhdGVPbikgOiByYXRpbmdDb25maWcuc3RhdGVPbjtcbiAgICB0aGlzLnN0YXRlT2ZmID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnN0YXRlT2ZmKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5zdGF0ZU9mZikgOiByYXRpbmdDb25maWcuc3RhdGVPZmY7XG5cbiAgICB2YXIgcmF0aW5nU3RhdGVzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnJhdGluZ1N0YXRlcykgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMucmF0aW5nU3RhdGVzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgQXJyYXkoIGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tYXgpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1heCkgOiByYXRpbmdDb25maWcubWF4ICk7XG4gICAgJHNjb3BlLnJhbmdlID0gdGhpcy5idWlsZFRlbXBsYXRlT2JqZWN0cyhyYXRpbmdTdGF0ZXMpO1xuICB9O1xuXG4gIHRoaXMuYnVpbGRUZW1wbGF0ZU9iamVjdHMgPSBmdW5jdGlvbihzdGF0ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbiA9IHN0YXRlcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHN0YXRlc1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKHsgaW5kZXg6IGkgfSwgeyBzdGF0ZU9uOiB0aGlzLnN0YXRlT24sIHN0YXRlT2ZmOiB0aGlzLnN0YXRlT2ZmIH0sIHN0YXRlc1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZXM7XG4gIH07XG5cbiAgJHNjb3BlLnJhdGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICggISRzY29wZS5yZWFkb25seSAmJiB2YWx1ZSA+PSAwICYmIHZhbHVlIDw9ICRzY29wZS5yYW5nZS5sZW5ndGggKSB7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgPT09IHZhbHVlID8gMCA6IHZhbHVlKTtcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmVudGVyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoICEkc2NvcGUucmVhZG9ubHkgKSB7XG4gICAgICAkc2NvcGUudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgJHNjb3BlLm9uSG92ZXIoe3ZhbHVlOiB2YWx1ZX0pO1xuICB9O1xuXG4gICRzY29wZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS52YWx1ZSA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7XG4gICAgJHNjb3BlLm9uTGVhdmUoKTtcbiAgfTtcblxuICAkc2NvcGUub25LZXlkb3duID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgaWYgKC8oMzd8Mzh8Mzl8NDApLy50ZXN0KGV2dC53aGljaCkpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgJHNjb3BlLnJhdGUoICRzY29wZS52YWx1ZSArIChldnQud2hpY2ggPT09IDM4IHx8IGV2dC53aGljaCA9PT0gMzkgPyAxIDogLTEpICk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnZhbHVlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdyYXRpbmcnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXF1aXJlOiBbJ3JhdGluZycsICduZ01vZGVsJ10sXG4gICAgc2NvcGU6IHtcbiAgICAgIHJlYWRvbmx5OiAnPT8nLFxuICAgICAgb25Ib3ZlcjogJyYnLFxuICAgICAgb25MZWF2ZTogJyYnXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnUmF0aW5nQ29udHJvbGxlcicsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWwnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIHJhdGluZ0N0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcbiAgICAgIHJhdGluZ0N0cmwuaW5pdCggbmdNb2RlbEN0cmwgKTtcbiAgICB9XG4gIH07XG59KTtcblxuLyoqXG4gKiBAbmdkb2Mgb3ZlcnZpZXdcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBbmd1bGFySlMgdmVyc2lvbiBvZiB0aGUgdGFicyBkaXJlY3RpdmUuXG4gKi9cblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50YWJzJywgW10pXG5cbi5jb250cm9sbGVyKCdUYWJzZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbiBUYWJzZXRDdHJsKCRzY29wZSkge1xuICB2YXIgY3RybCA9IHRoaXMsXG4gICAgICB0YWJzID0gY3RybC50YWJzID0gJHNjb3BlLnRhYnMgPSBbXTtcblxuICBjdHJsLnNlbGVjdCA9IGZ1bmN0aW9uKHNlbGVjdGVkVGFiKSB7XG4gICAgYW5ndWxhci5mb3JFYWNoKHRhYnMsIGZ1bmN0aW9uKHRhYikge1xuICAgICAgaWYgKHRhYi5hY3RpdmUgJiYgdGFiICE9PSBzZWxlY3RlZFRhYikge1xuICAgICAgICB0YWIuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRhYi5vbkRlc2VsZWN0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc2VsZWN0ZWRUYWIuYWN0aXZlID0gdHJ1ZTtcbiAgICBzZWxlY3RlZFRhYi5vblNlbGVjdCgpO1xuICB9O1xuXG4gIGN0cmwuYWRkVGFiID0gZnVuY3Rpb24gYWRkVGFiKHRhYikge1xuICAgIHRhYnMucHVzaCh0YWIpO1xuICAgIC8vIHdlIGNhbid0IHJ1biB0aGUgc2VsZWN0IGZ1bmN0aW9uIG9uIHRoZSBmaXJzdCB0YWJcbiAgICAvLyBzaW5jZSB0aGF0IHdvdWxkIHNlbGVjdCBpdCB0d2ljZVxuICAgIGlmICh0YWJzLmxlbmd0aCA9PT0gMSAmJiB0YWIuYWN0aXZlICE9PSBmYWxzZSkge1xuICAgICAgdGFiLmFjdGl2ZSA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0YWIuYWN0aXZlKSB7XG4gICAgICBjdHJsLnNlbGVjdCh0YWIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRhYi5hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgY3RybC5yZW1vdmVUYWIgPSBmdW5jdGlvbiByZW1vdmVUYWIodGFiKSB7XG4gICAgdmFyIGluZGV4ID0gdGFicy5pbmRleE9mKHRhYik7XG4gICAgLy9TZWxlY3QgYSBuZXcgdGFiIGlmIHRoZSB0YWIgdG8gYmUgcmVtb3ZlZCBpcyBzZWxlY3RlZCBhbmQgbm90IGRlc3Ryb3llZFxuICAgIGlmICh0YWIuYWN0aXZlICYmIHRhYnMubGVuZ3RoID4gMSAmJiAhZGVzdHJveWVkKSB7XG4gICAgICAvL0lmIHRoaXMgaXMgdGhlIGxhc3QgdGFiLCBzZWxlY3QgdGhlIHByZXZpb3VzIHRhYi4gZWxzZSwgdGhlIG5leHQgdGFiLlxuICAgICAgdmFyIG5ld0FjdGl2ZUluZGV4ID0gaW5kZXggPT0gdGFicy5sZW5ndGggLSAxID8gaW5kZXggLSAxIDogaW5kZXggKyAxO1xuICAgICAgY3RybC5zZWxlY3QodGFic1tuZXdBY3RpdmVJbmRleF0pO1xuICAgIH1cbiAgICB0YWJzLnNwbGljZShpbmRleCwgMSk7XG4gIH07XG5cbiAgdmFyIGRlc3Ryb3llZDtcbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICBkZXN0cm95ZWQgPSB0cnVlO1xuICB9KTtcbn1dKVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJzZXRcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGFic2V0IGlzIHRoZSBvdXRlciBjb250YWluZXIgZm9yIHRoZSB0YWJzIGRpcmVjdGl2ZVxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHZlcnRpY2FsIFdoZXRoZXIgb3Igbm90IHRvIHVzZSB2ZXJ0aWNhbCBzdHlsaW5nIGZvciB0aGUgdGFicy5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGp1c3RpZmllZCBXaGV0aGVyIG9yIG5vdCB0byB1c2UganVzdGlmaWVkIHN0eWxpbmcgZm9yIHRoZSB0YWJzLlxuICpcbiAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJ1aS5ib290c3RyYXBcIj5cbiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICA8dGFic2V0PlxuICAgICAgPHRhYiBoZWFkaW5nPVwiVGFiIDFcIj48Yj5GaXJzdDwvYj4gQ29udGVudCE8L3RhYj5cbiAgICAgIDx0YWIgaGVhZGluZz1cIlRhYiAyXCI+PGk+U2Vjb25kPC9pPiBDb250ZW50ITwvdGFiPlxuICAgIDwvdGFic2V0PlxuICAgIDxociAvPlxuICAgIDx0YWJzZXQgdmVydGljYWw9XCJ0cnVlXCI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJWZXJ0aWNhbCBUYWIgMVwiPjxiPkZpcnN0PC9iPiBWZXJ0aWNhbCBDb250ZW50ITwvdGFiPlxuICAgICAgPHRhYiBoZWFkaW5nPVwiVmVydGljYWwgVGFiIDJcIj48aT5TZWNvbmQ8L2k+IFZlcnRpY2FsIENvbnRlbnQhPC90YWI+XG4gICAgPC90YWJzZXQ+XG4gICAgPHRhYnNldCBqdXN0aWZpZWQ9XCJ0cnVlXCI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJKdXN0aWZpZWQgVGFiIDFcIj48Yj5GaXJzdDwvYj4gSnVzdGlmaWVkIENvbnRlbnQhPC90YWI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJKdXN0aWZpZWQgVGFiIDJcIj48aT5TZWNvbmQ8L2k+IEp1c3RpZmllZCBDb250ZW50ITwvdGFiPlxuICAgIDwvdGFic2V0PlxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ3RhYnNldCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZToge1xuICAgICAgdHlwZTogJ0AnXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnVGFic2V0Q29udHJvbGxlcicsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHNjb3BlLnZlcnRpY2FsID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudmVydGljYWwpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy52ZXJ0aWNhbCkgOiBmYWxzZTtcbiAgICAgIHNjb3BlLmp1c3RpZmllZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmp1c3RpZmllZCkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmp1c3RpZmllZCkgOiBmYWxzZTtcbiAgICB9XG4gIH07XG59KVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gaGVhZGluZyBUaGUgdmlzaWJsZSBoZWFkaW5nLCBvciB0aXRsZSwgb2YgdGhlIHRhYi4gU2V0IEhUTUwgaGVhZGluZ3Mgd2l0aCB7QGxpbmsgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYkhlYWRpbmcgdGFiSGVhZGluZ30uXG4gKiBAcGFyYW0ge3N0cmluZz19IHNlbGVjdCBBbiBleHByZXNzaW9uIHRvIGV2YWx1YXRlIHdoZW4gdGhlIHRhYiBpcyBzZWxlY3RlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGFjdGl2ZSBBIGJpbmRpbmcsIHRlbGxpbmcgd2hldGhlciBvciBub3QgdGhpcyB0YWIgaXMgc2VsZWN0ZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBkaXNhYmxlZCBBIGJpbmRpbmcsIHRlbGxpbmcgd2hldGhlciBvciBub3QgdGhpcyB0YWIgaXMgZGlzYWJsZWQuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgdGFiIHdpdGggYSBoZWFkaW5nIGFuZCBjb250ZW50LiBNdXN0IGJlIHBsYWNlZCB3aXRoaW4gYSB7QGxpbmsgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYnNldCB0YWJzZXR9LlxuICpcbiAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJ1aS5ib290c3RyYXBcIj5cbiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJUYWJzRGVtb0N0cmxcIj5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtYWxsXCIgbmctY2xpY2s9XCJpdGVtc1swXS5hY3RpdmUgPSB0cnVlXCI+XG4gICAgICAgIFNlbGVjdCBpdGVtIDEsIHVzaW5nIGFjdGl2ZSBiaW5kaW5nXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtYWxsXCIgbmctY2xpY2s9XCJpdGVtc1sxXS5kaXNhYmxlZCA9ICFpdGVtc1sxXS5kaXNhYmxlZFwiPlxuICAgICAgICBFbmFibGUvZGlzYWJsZSBpdGVtIDIsIHVzaW5nIGRpc2FibGVkIGJpbmRpbmdcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGJyIC8+XG4gICAgICA8dGFic2V0PlxuICAgICAgICA8dGFiIGhlYWRpbmc9XCJUYWIgMVwiPkZpcnN0IFRhYjwvdGFiPlxuICAgICAgICA8dGFiIHNlbGVjdD1cImFsZXJ0TWUoKVwiPlxuICAgICAgICAgIDx0YWItaGVhZGluZz48aSBjbGFzcz1cImljb24tYmVsbFwiPjwvaT4gQWxlcnQgbWUhPC90YWItaGVhZGluZz5cbiAgICAgICAgICBTZWNvbmQgVGFiLCB3aXRoIGFsZXJ0IGNhbGxiYWNrIGFuZCBodG1sIGhlYWRpbmchXG4gICAgICAgIDwvdGFiPlxuICAgICAgICA8dGFiIG5nLXJlcGVhdD1cIml0ZW0gaW4gaXRlbXNcIlxuICAgICAgICAgIGhlYWRpbmc9XCJ7e2l0ZW0udGl0bGV9fVwiXG4gICAgICAgICAgZGlzYWJsZWQ9XCJpdGVtLmRpc2FibGVkXCJcbiAgICAgICAgICBhY3RpdmU9XCJpdGVtLmFjdGl2ZVwiPlxuICAgICAgICAgIHt7aXRlbS5jb250ZW50fX1cbiAgICAgICAgPC90YWI+XG4gICAgICA8L3RhYnNldD5cbiAgICA8L2Rpdj5cbiAgPC9maWxlPlxuICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgZnVuY3Rpb24gVGFic0RlbW9DdHJsKCRzY29wZSkge1xuICAgICAgJHNjb3BlLml0ZW1zID0gW1xuICAgICAgICB7IHRpdGxlOlwiRHluYW1pYyBUaXRsZSAxXCIsIGNvbnRlbnQ6XCJEeW5hbWljIEl0ZW0gMFwiIH0sXG4gICAgICAgIHsgdGl0bGU6XCJEeW5hbWljIFRpdGxlIDJcIiwgY29udGVudDpcIkR5bmFtaWMgSXRlbSAxXCIsIGRpc2FibGVkOiB0cnVlIH1cbiAgICAgIF07XG5cbiAgICAgICRzY29wZS5hbGVydE1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgYWxlcnQoXCJZb3UndmUgc2VsZWN0ZWQgdGhlIGFsZXJ0IHRhYiFcIik7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9O1xuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFiSGVhZGluZ1xuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGFuIEhUTUwgaGVhZGluZyBmb3IgYSB7QGxpbmsgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYiB0YWJ9LiBNdXN0IGJlIHBsYWNlZCBhcyBhIGNoaWxkIG9mIGEgdGFiIGVsZW1lbnQuXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxuICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDx0YWJzZXQ+XG4gICAgICA8dGFiPlxuICAgICAgICA8dGFiLWhlYWRpbmc+PGI+SFRNTDwvYj4gaW4gbXkgdGl0bGVzPyE8L3RhYi1oZWFkaW5nPlxuICAgICAgICBBbmQgc29tZSBjb250ZW50LCB0b28hXG4gICAgICA8L3RhYj5cbiAgICAgIDx0YWI+XG4gICAgICAgIDx0YWItaGVhZGluZz48aSBjbGFzcz1cImljb24taGVhcnRcIj48L2k+IEljb24gaGVhZGluZz8hPzwvdGFiLWhlYWRpbmc+XG4gICAgICAgIFRoYXQncyByaWdodC5cbiAgICAgIDwvdGFiPlxuICAgIDwvdGFic2V0PlxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ3RhYicsIFsnJHBhcnNlJywgJyRsb2cnLCBmdW5jdGlvbigkcGFyc2UsICRsb2cpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnXnRhYnNldCcsXG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3RhYnMvdGFiLmh0bWwnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgc2NvcGU6IHtcbiAgICAgIGFjdGl2ZTogJz0/JyxcbiAgICAgIGhlYWRpbmc6ICdAJyxcbiAgICAgIG9uU2VsZWN0OiAnJnNlbGVjdCcsIC8vVGhpcyBjYWxsYmFjayBpcyBjYWxsZWQgaW4gY29udGVudEhlYWRpbmdUcmFuc2NsdWRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vb25jZSBpdCBpbnNlcnRzIHRoZSB0YWIncyBjb250ZW50IGludG8gdGhlIGRvbVxuICAgICAgb25EZXNlbGVjdDogJyZkZXNlbGVjdCdcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgLy9FbXB0eSBjb250cm9sbGVyIHNvIG90aGVyIGRpcmVjdGl2ZXMgY2FuIHJlcXVpcmUgYmVpbmcgJ3VuZGVyJyBhIHRhYlxuICAgIH0sXG4gICAgY29tcGlsZTogZnVuY3Rpb24oZWxtLCBhdHRycywgdHJhbnNjbHVkZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbG0sIGF0dHJzLCB0YWJzZXRDdHJsKSB7XG4gICAgICAgIHNjb3BlLiR3YXRjaCgnYWN0aXZlJywgZnVuY3Rpb24oYWN0aXZlKSB7XG4gICAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgICAgdGFic2V0Q3RybC5zZWxlY3Qoc2NvcGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2NvcGUuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCBhdHRycy5kaXNhYmxlICkge1xuICAgICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZShhdHRycy5kaXNhYmxlKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHNjb3BlLmRpc2FibGVkID0gISEgdmFsdWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZXByZWNhdGlvbiBzdXBwb3J0IG9mIFwiZGlzYWJsZWRcIiBwYXJhbWV0ZXJcbiAgICAgICAgLy8gZml4KHRhYik6IElFOSBkaXNhYmxlZCBhdHRyIHJlbmRlcnMgZ3JleSB0ZXh0IG9uIGVuYWJsZWQgdGFiICMyNjc3XG4gICAgICAgIC8vIFRoaXMgY29kZSBpcyBkdXBsaWNhdGVkIGZyb20gdGhlIGxpbmVzIGFib3ZlIHRvIG1ha2UgaXQgZWFzeSB0byByZW1vdmUgb25jZVxuICAgICAgICAvLyB0aGUgZmVhdHVyZSBoYXMgYmVlbiBjb21wbGV0ZWx5IGRlcHJlY2F0ZWRcbiAgICAgICAgaWYgKCBhdHRycy5kaXNhYmxlZCApIHtcbiAgICAgICAgICAkbG9nLndhcm4oJ1VzZSBvZiBcImRpc2FibGVkXCIgYXR0cmlidXRlIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgXCJkaXNhYmxlXCInKTtcbiAgICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMuZGlzYWJsZWQpLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgc2NvcGUuZGlzYWJsZWQgPSAhISB2YWx1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICggIXNjb3BlLmRpc2FibGVkICkge1xuICAgICAgICAgICAgc2NvcGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGFic2V0Q3RybC5hZGRUYWIoc2NvcGUpO1xuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGFic2V0Q3RybC5yZW1vdmVUYWIoc2NvcGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvL1dlIG5lZWQgdG8gdHJhbnNjbHVkZSBsYXRlciwgb25jZSB0aGUgY29udGVudCBjb250YWluZXIgaXMgcmVhZHkuXG4gICAgICAgIC8vd2hlbiB0aGlzIGxpbmsgaGFwcGVucywgd2UncmUgaW5zaWRlIGEgdGFiIGhlYWRpbmcuXG4gICAgICAgIHNjb3BlLiR0cmFuc2NsdWRlRm4gPSB0cmFuc2NsdWRlO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgndGFiSGVhZGluZ1RyYW5zY2x1ZGUnLCBbZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnXnRhYicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0cnMsIHRhYkN0cmwpIHtcbiAgICAgIHNjb3BlLiR3YXRjaCgnaGVhZGluZ0VsZW1lbnQnLCBmdW5jdGlvbiB1cGRhdGVIZWFkaW5nRWxlbWVudChoZWFkaW5nKSB7XG4gICAgICAgIGlmIChoZWFkaW5nKSB7XG4gICAgICAgICAgZWxtLmh0bWwoJycpO1xuICAgICAgICAgIGVsbS5hcHBlbmQoaGVhZGluZyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd0YWJDb250ZW50VHJhbnNjbHVkZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJ150YWJzZXQnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHJzKSB7XG4gICAgICB2YXIgdGFiID0gc2NvcGUuJGV2YWwoYXR0cnMudGFiQ29udGVudFRyYW5zY2x1ZGUpO1xuXG4gICAgICAvL05vdyBvdXIgdGFiIGlzIHJlYWR5IHRvIGJlIHRyYW5zY2x1ZGVkOiBib3RoIHRoZSB0YWIgaGVhZGluZyBhcmVhXG4gICAgICAvL2FuZCB0aGUgdGFiIGNvbnRlbnQgYXJlYSBhcmUgbG9hZGVkLiAgVHJhbnNjbHVkZSAnZW0gYm90aC5cbiAgICAgIHRhYi4kdHJhbnNjbHVkZUZuKHRhYi4kcGFyZW50LCBmdW5jdGlvbihjb250ZW50cykge1xuICAgICAgICBhbmd1bGFyLmZvckVhY2goY29udGVudHMsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICBpZiAoaXNUYWJIZWFkaW5nKG5vZGUpKSB7XG4gICAgICAgICAgICAvL0xldCB0YWJIZWFkaW5nVHJhbnNjbHVkZSBrbm93LlxuICAgICAgICAgICAgdGFiLmhlYWRpbmdFbGVtZW50ID0gbm9kZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxtLmFwcGVuZChub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiBpc1RhYkhlYWRpbmcobm9kZSkge1xuICAgIHJldHVybiBub2RlLnRhZ05hbWUgJiYgIChcbiAgICAgIG5vZGUuaGFzQXR0cmlidXRlKCd0YWItaGVhZGluZycpIHx8XG4gICAgICBub2RlLmhhc0F0dHJpYnV0ZSgnZGF0YS10YWItaGVhZGluZycpIHx8XG4gICAgICBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RhYi1oZWFkaW5nJyB8fFxuICAgICAgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdkYXRhLXRhYi1oZWFkaW5nJ1xuICAgICk7XG4gIH1cbn0pXG5cbjtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50aW1lcGlja2VyJywgW10pXG5cbi5jb25zdGFudCgndGltZXBpY2tlckNvbmZpZycsIHtcbiAgaG91clN0ZXA6IDEsXG4gIG1pbnV0ZVN0ZXA6IDEsXG4gIHNob3dNZXJpZGlhbjogdHJ1ZSxcbiAgbWVyaWRpYW5zOiBudWxsLFxuICByZWFkb25seUlucHV0OiBmYWxzZSxcbiAgbW91c2V3aGVlbDogdHJ1ZSxcbiAgYXJyb3drZXlzOiB0cnVlLFxuICBzaG93U3Bpbm5lcnM6IHRydWVcbn0pXG5cbi5jb250cm9sbGVyKCdUaW1lcGlja2VyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCAnJGxvZycsICckbG9jYWxlJywgJ3RpbWVwaWNrZXJDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgJHBhcnNlLCAkbG9nLCAkbG9jYWxlLCB0aW1lcGlja2VyQ29uZmlnKSB7XG4gIHZhciBzZWxlY3RlZCA9IG5ldyBEYXRlKCksXG4gICAgICBuZ01vZGVsQ3RybCA9IHsgJHNldFZpZXdWYWx1ZTogYW5ndWxhci5ub29wIH0sIC8vIG51bGxNb2RlbEN0cmxcbiAgICAgIG1lcmlkaWFucyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tZXJpZGlhbnMpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1lcmlkaWFucykgOiB0aW1lcGlja2VyQ29uZmlnLm1lcmlkaWFucyB8fCAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuQU1QTVM7XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24oIG5nTW9kZWxDdHJsXywgaW5wdXRzICkge1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSB0aGlzLnJlbmRlcjtcblxuICAgIG5nTW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnVuc2hpZnQoZnVuY3Rpb24gKG1vZGVsVmFsdWUpIHtcbiAgICAgIHJldHVybiBtb2RlbFZhbHVlID8gbmV3IERhdGUoIG1vZGVsVmFsdWUgKSA6IG51bGw7XG4gICAgfSk7XG5cbiAgICB2YXIgaG91cnNJbnB1dEVsID0gaW5wdXRzLmVxKDApLFxuICAgICAgICBtaW51dGVzSW5wdXRFbCA9IGlucHV0cy5lcSgxKTtcblxuICAgIHZhciBtb3VzZXdoZWVsID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1vdXNld2hlZWwpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1vdXNld2hlZWwpIDogdGltZXBpY2tlckNvbmZpZy5tb3VzZXdoZWVsO1xuICAgIGlmICggbW91c2V3aGVlbCApIHtcbiAgICAgIHRoaXMuc2V0dXBNb3VzZXdoZWVsRXZlbnRzKCBob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsICk7XG4gICAgfVxuXG4gICAgdmFyIGFycm93a2V5cyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5hcnJvd2tleXMpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmFycm93a2V5cykgOiB0aW1lcGlja2VyQ29uZmlnLmFycm93a2V5cztcbiAgICBpZiAoYXJyb3drZXlzKSB7XG4gICAgICB0aGlzLnNldHVwQXJyb3drZXlFdmVudHMoIGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwgKTtcbiAgICB9XG5cbiAgICAkc2NvcGUucmVhZG9ubHlJbnB1dCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5yZWFkb25seUlucHV0KSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5yZWFkb25seUlucHV0KSA6IHRpbWVwaWNrZXJDb25maWcucmVhZG9ubHlJbnB1dDtcbiAgICB0aGlzLnNldHVwSW5wdXRFdmVudHMoIGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwgKTtcbiAgfTtcblxuICB2YXIgaG91clN0ZXAgPSB0aW1lcGlja2VyQ29uZmlnLmhvdXJTdGVwO1xuICBpZiAoJGF0dHJzLmhvdXJTdGVwKSB7XG4gICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuaG91clN0ZXApLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaG91clN0ZXAgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIG1pbnV0ZVN0ZXAgPSB0aW1lcGlja2VyQ29uZmlnLm1pbnV0ZVN0ZXA7XG4gIGlmICgkYXR0cnMubWludXRlU3RlcCkge1xuICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLm1pbnV0ZVN0ZXApLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgbWludXRlU3RlcCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyAxMkggLyAyNEggbW9kZVxuICAkc2NvcGUuc2hvd01lcmlkaWFuID0gdGltZXBpY2tlckNvbmZpZy5zaG93TWVyaWRpYW47XG4gIGlmICgkYXR0cnMuc2hvd01lcmlkaWFuKSB7XG4gICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuc2hvd01lcmlkaWFuKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICRzY29wZS5zaG93TWVyaWRpYW4gPSAhIXZhbHVlO1xuXG4gICAgICBpZiAoIG5nTW9kZWxDdHJsLiRlcnJvci50aW1lICkge1xuICAgICAgICAvLyBFdmFsdWF0ZSBmcm9tIHRlbXBsYXRlXG4gICAgICAgIHZhciBob3VycyA9IGdldEhvdXJzRnJvbVRlbXBsYXRlKCksIG1pbnV0ZXMgPSBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCk7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCggaG91cnMgKSAmJiBhbmd1bGFyLmlzRGVmaW5lZCggbWludXRlcyApKSB7XG4gICAgICAgICAgc2VsZWN0ZWQuc2V0SG91cnMoIGhvdXJzICk7XG4gICAgICAgICAgcmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVUZW1wbGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gR2V0ICRzY29wZS5ob3VycyBpbiAyNEggbW9kZSBpZiB2YWxpZFxuICBmdW5jdGlvbiBnZXRIb3Vyc0Zyb21UZW1wbGF0ZSAoICkge1xuICAgIHZhciBob3VycyA9IHBhcnNlSW50KCAkc2NvcGUuaG91cnMsIDEwICk7XG4gICAgdmFyIHZhbGlkID0gKCAkc2NvcGUuc2hvd01lcmlkaWFuICkgPyAoaG91cnMgPiAwICYmIGhvdXJzIDwgMTMpIDogKGhvdXJzID49IDAgJiYgaG91cnMgPCAyNCk7XG4gICAgaWYgKCAhdmFsaWQgKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmICggJHNjb3BlLnNob3dNZXJpZGlhbiApIHtcbiAgICAgIGlmICggaG91cnMgPT09IDEyICkge1xuICAgICAgICBob3VycyA9IDA7XG4gICAgICB9XG4gICAgICBpZiAoICRzY29wZS5tZXJpZGlhbiA9PT0gbWVyaWRpYW5zWzFdICkge1xuICAgICAgICBob3VycyA9IGhvdXJzICsgMTI7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBob3VycztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKSB7XG4gICAgdmFyIG1pbnV0ZXMgPSBwYXJzZUludCgkc2NvcGUubWludXRlcywgMTApO1xuICAgIHJldHVybiAoIG1pbnV0ZXMgPj0gMCAmJiBtaW51dGVzIDwgNjAgKSA/IG1pbnV0ZXMgOiB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBwYWQoIHZhbHVlICkge1xuICAgIHJldHVybiAoIGFuZ3VsYXIuaXNEZWZpbmVkKHZhbHVlKSAmJiB2YWx1ZS50b1N0cmluZygpLmxlbmd0aCA8IDIgKSA/ICcwJyArIHZhbHVlIDogdmFsdWUudG9TdHJpbmcoKTtcbiAgfVxuXG4gIC8vIFJlc3BvbmQgb24gbW91c2V3aGVlbCBzcGluXG4gIHRoaXMuc2V0dXBNb3VzZXdoZWVsRXZlbnRzID0gZnVuY3Rpb24oIGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwgKSB7XG4gICAgdmFyIGlzU2Nyb2xsaW5nVXAgPSBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIGUgPSBlLm9yaWdpbmFsRXZlbnQ7XG4gICAgICB9XG4gICAgICAvL3BpY2sgY29ycmVjdCBkZWx0YSB2YXJpYWJsZSBkZXBlbmRpbmcgb24gZXZlbnRcbiAgICAgIHZhciBkZWx0YSA9IChlLndoZWVsRGVsdGEpID8gZS53aGVlbERlbHRhIDogLWUuZGVsdGFZO1xuICAgICAgcmV0dXJuIChlLmRldGFpbCB8fCBkZWx0YSA+IDApO1xuICAgIH07XG5cbiAgICBob3Vyc0lucHV0RWwuYmluZCgnbW91c2V3aGVlbCB3aGVlbCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICRzY29wZS4kYXBwbHkoIChpc1Njcm9sbGluZ1VwKGUpKSA/ICRzY29wZS5pbmNyZW1lbnRIb3VycygpIDogJHNjb3BlLmRlY3JlbWVudEhvdXJzKCkgKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIG1pbnV0ZXNJbnB1dEVsLmJpbmQoJ21vdXNld2hlZWwgd2hlZWwnLCBmdW5jdGlvbihlKSB7XG4gICAgICAkc2NvcGUuJGFwcGx5KCAoaXNTY3JvbGxpbmdVcChlKSkgPyAkc2NvcGUuaW5jcmVtZW50TWludXRlcygpIDogJHNjb3BlLmRlY3JlbWVudE1pbnV0ZXMoKSApO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gIH07XG5cbiAgLy8gUmVzcG9uZCBvbiB1cC9kb3duIGFycm93a2V5c1xuICB0aGlzLnNldHVwQXJyb3drZXlFdmVudHMgPSBmdW5jdGlvbiggaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCApIHtcbiAgICBob3Vyc0lucHV0RWwuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICggZS53aGljaCA9PT0gMzggKSB7IC8vIHVwXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHNjb3BlLmluY3JlbWVudEhvdXJzKCk7XG4gICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCBlLndoaWNoID09PSA0MCApIHsgLy8gZG93blxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICRzY29wZS5kZWNyZW1lbnRIb3VycygpO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBtaW51dGVzSW5wdXRFbC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKCBlLndoaWNoID09PSAzOCApIHsgLy8gdXBcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkc2NvcGUuaW5jcmVtZW50TWludXRlcygpO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICggZS53aGljaCA9PT0gNDAgKSB7IC8vIGRvd25cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkc2NvcGUuZGVjcmVtZW50TWludXRlcygpO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5zZXR1cElucHV0RXZlbnRzID0gZnVuY3Rpb24oIGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwgKSB7XG4gICAgaWYgKCAkc2NvcGUucmVhZG9ubHlJbnB1dCApIHtcbiAgICAgICRzY29wZS51cGRhdGVIb3VycyA9IGFuZ3VsYXIubm9vcDtcbiAgICAgICRzY29wZS51cGRhdGVNaW51dGVzID0gYW5ndWxhci5ub29wO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpbnZhbGlkYXRlID0gZnVuY3Rpb24oaW52YWxpZEhvdXJzLCBpbnZhbGlkTWludXRlcykge1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSggbnVsbCApO1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCd0aW1lJywgZmFsc2UpO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGludmFsaWRIb3VycykpIHtcbiAgICAgICAgJHNjb3BlLmludmFsaWRIb3VycyA9IGludmFsaWRIb3VycztcbiAgICAgIH1cbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkTWludXRlcykpIHtcbiAgICAgICAgJHNjb3BlLmludmFsaWRNaW51dGVzID0gaW52YWxpZE1pbnV0ZXM7XG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS51cGRhdGVIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKTtcblxuICAgICAgaWYgKCBhbmd1bGFyLmlzRGVmaW5lZChob3VycykgKSB7XG4gICAgICAgIHNlbGVjdGVkLnNldEhvdXJzKCBob3VycyApO1xuICAgICAgICByZWZyZXNoKCAnaCcgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludmFsaWRhdGUodHJ1ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGhvdXJzSW5wdXRFbC5iaW5kKCdibHVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKCAhJHNjb3BlLmludmFsaWRIb3VycyAmJiAkc2NvcGUuaG91cnMgPCAxMCkge1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUuaG91cnMgPSBwYWQoICRzY29wZS5ob3VycyApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICRzY29wZS51cGRhdGVNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKTtcblxuICAgICAgaWYgKCBhbmd1bGFyLmlzRGVmaW5lZChtaW51dGVzKSApIHtcbiAgICAgICAgc2VsZWN0ZWQuc2V0TWludXRlcyggbWludXRlcyApO1xuICAgICAgICByZWZyZXNoKCAnbScgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludmFsaWRhdGUodW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbWludXRlc0lucHV0RWwuYmluZCgnYmx1cicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICggISRzY29wZS5pbnZhbGlkTWludXRlcyAmJiAkc2NvcGUubWludXRlcyA8IDEwICkge1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUubWludXRlcyA9IHBhZCggJHNjb3BlLm1pbnV0ZXMgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfTtcblxuICB0aGlzLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcblxuICAgIGlmICggaXNOYU4oZGF0ZSkgKSB7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3RpbWUnLCBmYWxzZSk7XG4gICAgICAkbG9nLmVycm9yKCdUaW1lcGlja2VyIGRpcmVjdGl2ZTogXCJuZy1tb2RlbFwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCBkYXRlICkge1xuICAgICAgICBzZWxlY3RlZCA9IGRhdGU7XG4gICAgICB9XG4gICAgICBtYWtlVmFsaWQoKTtcbiAgICAgIHVwZGF0ZVRlbXBsYXRlKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIENhbGwgaW50ZXJuYWxseSB3aGVuIHdlIGtub3cgdGhhdCBtb2RlbCBpcyB2YWxpZC5cbiAgZnVuY3Rpb24gcmVmcmVzaCgga2V5Ym9hcmRDaGFuZ2UgKSB7XG4gICAgbWFrZVZhbGlkKCk7XG4gICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSggbmV3IERhdGUoc2VsZWN0ZWQpICk7XG4gICAgdXBkYXRlVGVtcGxhdGUoIGtleWJvYXJkQ2hhbmdlICk7XG4gIH1cblxuICBmdW5jdGlvbiBtYWtlVmFsaWQoKSB7XG4gICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCd0aW1lJywgdHJ1ZSk7XG4gICAgJHNjb3BlLmludmFsaWRIb3VycyA9IGZhbHNlO1xuICAgICRzY29wZS5pbnZhbGlkTWludXRlcyA9IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlVGVtcGxhdGUoIGtleWJvYXJkQ2hhbmdlICkge1xuICAgIHZhciBob3VycyA9IHNlbGVjdGVkLmdldEhvdXJzKCksIG1pbnV0ZXMgPSBzZWxlY3RlZC5nZXRNaW51dGVzKCk7XG5cbiAgICBpZiAoICRzY29wZS5zaG93TWVyaWRpYW4gKSB7XG4gICAgICBob3VycyA9ICggaG91cnMgPT09IDAgfHwgaG91cnMgPT09IDEyICkgPyAxMiA6IGhvdXJzICUgMTI7IC8vIENvbnZlcnQgMjQgdG8gMTIgaG91ciBzeXN0ZW1cbiAgICB9XG5cbiAgICAkc2NvcGUuaG91cnMgPSBrZXlib2FyZENoYW5nZSA9PT0gJ2gnID8gaG91cnMgOiBwYWQoaG91cnMpO1xuICAgIGlmIChrZXlib2FyZENoYW5nZSAhPT0gJ20nKSB7XG4gICAgICAkc2NvcGUubWludXRlcyA9IHBhZChtaW51dGVzKTtcbiAgICB9XG4gICAgJHNjb3BlLm1lcmlkaWFuID0gc2VsZWN0ZWQuZ2V0SG91cnMoKSA8IDEyID8gbWVyaWRpYW5zWzBdIDogbWVyaWRpYW5zWzFdO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkTWludXRlcyggbWludXRlcyApIHtcbiAgICB2YXIgZHQgPSBuZXcgRGF0ZSggc2VsZWN0ZWQuZ2V0VGltZSgpICsgbWludXRlcyAqIDYwMDAwICk7XG4gICAgc2VsZWN0ZWQuc2V0SG91cnMoIGR0LmdldEhvdXJzKCksIGR0LmdldE1pbnV0ZXMoKSApO1xuICAgIHJlZnJlc2goKTtcbiAgfVxuICBcbiAgJHNjb3BlLnNob3dTcGlubmVycyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5zaG93U3Bpbm5lcnMpID9cbiAgICAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc2hvd1NwaW5uZXJzKSA6IHRpbWVwaWNrZXJDb25maWcuc2hvd1NwaW5uZXJzO1xuICBcbiAgJHNjb3BlLmluY3JlbWVudEhvdXJzID0gZnVuY3Rpb24oKSB7XG4gICAgYWRkTWludXRlcyggaG91clN0ZXAgKiA2MCApO1xuICB9O1xuICAkc2NvcGUuZGVjcmVtZW50SG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICBhZGRNaW51dGVzKCAtIGhvdXJTdGVwICogNjAgKTtcbiAgfTtcbiAgJHNjb3BlLmluY3JlbWVudE1pbnV0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICBhZGRNaW51dGVzKCBtaW51dGVTdGVwICk7XG4gIH07XG4gICRzY29wZS5kZWNyZW1lbnRNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgYWRkTWludXRlcyggLSBtaW51dGVTdGVwICk7XG4gIH07XG4gICRzY29wZS50b2dnbGVNZXJpZGlhbiA9IGZ1bmN0aW9uKCkge1xuICAgIGFkZE1pbnV0ZXMoIDEyICogNjAgKiAoKCBzZWxlY3RlZC5nZXRIb3VycygpIDwgMTIgKSA/IDEgOiAtMSkgKTtcbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd0aW1lcGlja2VyJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcXVpcmU6IFsndGltZXBpY2tlcicsICc/Xm5nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOidUaW1lcGlja2VyQ29udHJvbGxlcicsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZToge30sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIHRpbWVwaWNrZXJDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGlmICggbmdNb2RlbEN0cmwgKSB7XG4gICAgICAgIHRpbWVwaWNrZXJDdHJsLmluaXQoIG5nTW9kZWxDdHJsLCBlbGVtZW50LmZpbmQoJ2lucHV0JykgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50cmFuc2l0aW9uJywgW10pXG5cbi52YWx1ZSgnJHRyYW5zaXRpb25TdXBwcmVzc0RlcHJlY2F0ZWQnLCBmYWxzZSlcbi8qKlxuICogJHRyYW5zaXRpb24gc2VydmljZSBwcm92aWRlcyBhIGNvbnNpc3RlbnQgaW50ZXJmYWNlIHRvIHRyaWdnZXIgQ1NTIDMgdHJhbnNpdGlvbnMgYW5kIHRvIGJlIGluZm9ybWVkIHdoZW4gdGhleSBjb21wbGV0ZS5cbiAqIEBwYXJhbSAge0RPTUVsZW1lbnR9IGVsZW1lbnQgIFRoZSBET01FbGVtZW50IHRoYXQgd2lsbCBiZSBhbmltYXRlZC5cbiAqIEBwYXJhbSAge3N0cmluZ3xvYmplY3R8ZnVuY3Rpb259IHRyaWdnZXIgIFRoZSB0aGluZyB0aGF0IHdpbGwgY2F1c2UgdGhlIHRyYW5zaXRpb24gdG8gc3RhcnQ6XG4gKiAgIC0gQXMgYSBzdHJpbmcsIGl0IHJlcHJlc2VudHMgdGhlIGNzcyBjbGFzcyB0byBiZSBhZGRlZCB0byB0aGUgZWxlbWVudC5cbiAqICAgLSBBcyBhbiBvYmplY3QsIGl0IHJlcHJlc2VudHMgYSBoYXNoIG9mIHN0eWxlIGF0dHJpYnV0ZXMgdG8gYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAqICAgLSBBcyBhIGZ1bmN0aW9uLCBpdCByZXByZXNlbnRzIGEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHRoYXQgd2lsbCBjYXVzZSB0aGUgdHJhbnNpdGlvbiB0byBvY2N1ci5cbiAqIEByZXR1cm4ge1Byb21pc2V9ICBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSB0cmFuc2l0aW9uIGZpbmlzaGVzLlxuICovXG4uZmFjdG9yeSgnJHRyYW5zaXRpb24nLCBbXG4gICAgICAgICckcScsICckdGltZW91dCcsICckcm9vdFNjb3BlJywgJyRsb2cnLCAnJHRyYW5zaXRpb25TdXBwcmVzc0RlcHJlY2F0ZWQnLFxuZnVuY3Rpb24oJHEgLCAgJHRpbWVvdXQgLCAgJHJvb3RTY29wZSAsICAkbG9nICwgICR0cmFuc2l0aW9uU3VwcHJlc3NEZXByZWNhdGVkKSB7XG5cbiAgaWYgKCEkdHJhbnNpdGlvblN1cHByZXNzRGVwcmVjYXRlZCkge1xuICAgICRsb2cud2FybignJHRyYW5zaXRpb24gaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSAkYW5pbWF0ZSBmcm9tIG5nQW5pbWF0ZSBpbnN0ZWFkLicpO1xuICB9XG5cbiAgdmFyICR0cmFuc2l0aW9uID0gZnVuY3Rpb24oZWxlbWVudCwgdHJpZ2dlciwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgdmFyIGVuZEV2ZW50TmFtZSA9ICR0cmFuc2l0aW9uW29wdGlvbnMuYW5pbWF0aW9uID8gJ2FuaW1hdGlvbkVuZEV2ZW50TmFtZScgOiAndHJhbnNpdGlvbkVuZEV2ZW50TmFtZSddO1xuXG4gICAgdmFyIHRyYW5zaXRpb25FbmRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICBlbGVtZW50LnVuYmluZChlbmRFdmVudE5hbWUsIHRyYW5zaXRpb25FbmRIYW5kbGVyKTtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShlbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBpZiAoZW5kRXZlbnROYW1lKSB7XG4gICAgICBlbGVtZW50LmJpbmQoZW5kRXZlbnROYW1lLCB0cmFuc2l0aW9uRW5kSGFuZGxlcik7XG4gICAgfVxuXG4gICAgLy8gV3JhcCBpbiBhIHRpbWVvdXQgdG8gYWxsb3cgdGhlIGJyb3dzZXIgdGltZSB0byB1cGRhdGUgdGhlIERPTSBiZWZvcmUgdGhlIHRyYW5zaXRpb24gaXMgdG8gb2NjdXJcbiAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmICggYW5ndWxhci5pc1N0cmluZyh0cmlnZ2VyKSApIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyh0cmlnZ2VyKTtcbiAgICAgIH0gZWxzZSBpZiAoIGFuZ3VsYXIuaXNGdW5jdGlvbih0cmlnZ2VyKSApIHtcbiAgICAgICAgdHJpZ2dlcihlbGVtZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoIGFuZ3VsYXIuaXNPYmplY3QodHJpZ2dlcikgKSB7XG4gICAgICAgIGVsZW1lbnQuY3NzKHRyaWdnZXIpO1xuICAgICAgfVxuICAgICAgLy9JZiBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdHJhbnNpdGlvbnMsIGluc3RhbnRseSByZXNvbHZlXG4gICAgICBpZiAoICFlbmRFdmVudE5hbWUgKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgb3VyIGN1c3RvbSBjYW5jZWwgZnVuY3Rpb24gdG8gdGhlIHByb21pc2UgdGhhdCBpcyByZXR1cm5lZFxuICAgIC8vIFdlIGNhbiBjYWxsIHRoaXMgaWYgd2UgYXJlIGFib3V0IHRvIHJ1biBhIG5ldyB0cmFuc2l0aW9uLCB3aGljaCB3ZSBrbm93IHdpbGwgcHJldmVudCB0aGlzIHRyYW5zaXRpb24gZnJvbSBlbmRpbmcsXG4gICAgLy8gaS5lLiBpdCB3aWxsIHRoZXJlZm9yZSBuZXZlciByYWlzZSBhIHRyYW5zaXRpb25FbmQgZXZlbnQgZm9yIHRoYXQgdHJhbnNpdGlvblxuICAgIGRlZmVycmVkLnByb21pc2UuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIGVuZEV2ZW50TmFtZSApIHtcbiAgICAgICAgZWxlbWVudC51bmJpbmQoZW5kRXZlbnROYW1lLCB0cmFuc2l0aW9uRW5kSGFuZGxlcik7XG4gICAgICB9XG4gICAgICBkZWZlcnJlZC5yZWplY3QoJ1RyYW5zaXRpb24gY2FuY2VsbGVkJyk7XG4gICAgfTtcblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9O1xuXG4gIC8vIFdvcmsgb3V0IHRoZSBuYW1lIG9mIHRoZSB0cmFuc2l0aW9uRW5kIGV2ZW50XG4gIHZhciB0cmFuc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cmFucycpO1xuICB2YXIgdHJhbnNpdGlvbkVuZEV2ZW50TmFtZXMgPSB7XG4gICAgJ1dlYmtpdFRyYW5zaXRpb24nOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgJ01velRyYW5zaXRpb24nOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgJ09UcmFuc2l0aW9uJzogJ29UcmFuc2l0aW9uRW5kJyxcbiAgICAndHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJ1xuICB9O1xuICB2YXIgYW5pbWF0aW9uRW5kRXZlbnROYW1lcyA9IHtcbiAgICAnV2Via2l0VHJhbnNpdGlvbic6ICd3ZWJraXRBbmltYXRpb25FbmQnLFxuICAgICdNb3pUcmFuc2l0aW9uJzogJ2FuaW1hdGlvbmVuZCcsXG4gICAgJ09UcmFuc2l0aW9uJzogJ29BbmltYXRpb25FbmQnLFxuICAgICd0cmFuc2l0aW9uJzogJ2FuaW1hdGlvbmVuZCdcbiAgfTtcbiAgZnVuY3Rpb24gZmluZEVuZEV2ZW50TmFtZShlbmRFdmVudE5hbWVzKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiBlbmRFdmVudE5hbWVzKXtcbiAgICAgIGlmICh0cmFuc0VsZW1lbnQuc3R5bGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZW5kRXZlbnROYW1lc1tuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgJHRyYW5zaXRpb24udHJhbnNpdGlvbkVuZEV2ZW50TmFtZSA9IGZpbmRFbmRFdmVudE5hbWUodHJhbnNpdGlvbkVuZEV2ZW50TmFtZXMpO1xuICAkdHJhbnNpdGlvbi5hbmltYXRpb25FbmRFdmVudE5hbWUgPSBmaW5kRW5kRXZlbnROYW1lKGFuaW1hdGlvbkVuZEV2ZW50TmFtZXMpO1xuICByZXR1cm4gJHRyYW5zaXRpb247XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudHlwZWFoZWFkJywgWyd1aS5ib290c3RyYXAucG9zaXRpb24nLCAndWkuYm9vdHN0cmFwLmJpbmRIdG1sJ10pXG5cbi8qKlxuICogQSBoZWxwZXIgc2VydmljZSB0aGF0IGNhbiBwYXJzZSB0eXBlYWhlYWQncyBzeW50YXggKHN0cmluZyBwcm92aWRlZCBieSB1c2VycylcbiAqIEV4dHJhY3RlZCB0byBhIHNlcGFyYXRlIHNlcnZpY2UgZm9yIGVhc2Ugb2YgdW5pdCB0ZXN0aW5nXG4gKi9cbiAgLmZhY3RvcnkoJ3R5cGVhaGVhZFBhcnNlcicsIFsnJHBhcnNlJywgZnVuY3Rpb24gKCRwYXJzZSkge1xuXG4gIC8vICAgICAgICAgICAgICAgICAgICAgIDAwMDAwMTExMDAwMDAwMDAwMDAwMDIyMjAwMDAwMDAwMDAwMDAwMDAzMzMzMzMzMzMzMzMzMzMwMDAwMDAwMDAwMDQ0MDAwXG4gIHZhciBUWVBFQUhFQURfUkVHRVhQID0gL15cXHMqKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/XFxzK2ZvclxccysoPzooW1xcJFxcd11bXFwkXFx3XFxkXSopKVxccytpblxccysoW1xcc1xcU10rPykkLztcblxuICByZXR1cm4ge1xuICAgIHBhcnNlOmZ1bmN0aW9uIChpbnB1dCkge1xuXG4gICAgICB2YXIgbWF0Y2ggPSBpbnB1dC5tYXRjaChUWVBFQUhFQURfUkVHRVhQKTtcbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdFeHBlY3RlZCB0eXBlYWhlYWQgc3BlY2lmaWNhdGlvbiBpbiBmb3JtIG9mIFwiX21vZGVsVmFsdWVfIChhcyBfbGFiZWxfKT8gZm9yIF9pdGVtXyBpbiBfY29sbGVjdGlvbl9cIicgK1xuICAgICAgICAgICAgJyBidXQgZ290IFwiJyArIGlucHV0ICsgJ1wiLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpdGVtTmFtZTptYXRjaFszXSxcbiAgICAgICAgc291cmNlOiRwYXJzZShtYXRjaFs0XSksXG4gICAgICAgIHZpZXdNYXBwZXI6JHBhcnNlKG1hdGNoWzJdIHx8IG1hdGNoWzFdKSxcbiAgICAgICAgbW9kZWxNYXBwZXI6JHBhcnNlKG1hdGNoWzFdKVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XSlcblxuICAuZGlyZWN0aXZlKCd0eXBlYWhlYWQnLCBbJyRjb21waWxlJywgJyRwYXJzZScsICckcScsICckdGltZW91dCcsICckZG9jdW1lbnQnLCAnJHdpbmRvdycsICckcm9vdFNjb3BlJywgJyRwb3NpdGlvbicsICd0eXBlYWhlYWRQYXJzZXInLFxuICAgICAgIGZ1bmN0aW9uICgkY29tcGlsZSwgJHBhcnNlLCAkcSwgJHRpbWVvdXQsICRkb2N1bWVudCwgJHdpbmRvdywgJHJvb3RTY29wZSwgJHBvc2l0aW9uLCB0eXBlYWhlYWRQYXJzZXIpIHtcblxuICB2YXIgSE9UX0tFWVMgPSBbOSwgMTMsIDI3LCAzOCwgNDBdO1xuICB2YXIgZXZlbnREZWJvdW5jZVRpbWUgPSAyMDA7XG5cbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiduZ01vZGVsJyxcbiAgICBsaW5rOmZ1bmN0aW9uIChvcmlnaW5hbFNjb3BlLCBlbGVtZW50LCBhdHRycywgbW9kZWxDdHJsKSB7XG5cbiAgICAgIC8vU1VQUE9SVEVEIEFUVFJJQlVURVMgKE9QVElPTlMpXG5cbiAgICAgIC8vbWluaW1hbCBubyBvZiBjaGFyYWN0ZXJzIHRoYXQgbmVlZHMgdG8gYmUgZW50ZXJlZCBiZWZvcmUgdHlwZWFoZWFkIGtpY2tzLWluXG4gICAgICB2YXIgbWluTGVuZ3RoID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRNaW5MZW5ndGgpO1xuICAgICAgaWYgKCFtaW5MZW5ndGggJiYgbWluTGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIG1pbkxlbmd0aCA9IDE7XG4gICAgICB9XG5cbiAgICAgIC8vbWluaW1hbCB3YWl0IHRpbWUgYWZ0ZXIgbGFzdCBjaGFyYWN0ZXIgdHlwZWQgYmVmb3JlIHR5cGVhaGVhZCBraWNrcy1pblxuICAgICAgdmFyIHdhaXRUaW1lID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRXYWl0TXMpIHx8IDA7XG5cbiAgICAgIC8vc2hvdWxkIGl0IHJlc3RyaWN0IG1vZGVsIHZhbHVlcyB0byB0aGUgb25lcyBzZWxlY3RlZCBmcm9tIHRoZSBwb3B1cCBvbmx5P1xuICAgICAgdmFyIGlzRWRpdGFibGUgPSBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEVkaXRhYmxlKSAhPT0gZmFsc2U7XG5cbiAgICAgIC8vYmluZGluZyB0byBhIHZhcmlhYmxlIHRoYXQgaW5kaWNhdGVzIGlmIG1hdGNoZXMgYXJlIGJlaW5nIHJldHJpZXZlZCBhc3luY2hyb25vdXNseVxuICAgICAgdmFyIGlzTG9hZGluZ1NldHRlciA9ICRwYXJzZShhdHRycy50eXBlYWhlYWRMb2FkaW5nKS5hc3NpZ24gfHwgYW5ndWxhci5ub29wO1xuXG4gICAgICAvL2EgY2FsbGJhY2sgZXhlY3V0ZWQgd2hlbiBhIG1hdGNoIGlzIHNlbGVjdGVkXG4gICAgICB2YXIgb25TZWxlY3RDYWxsYmFjayA9ICRwYXJzZShhdHRycy50eXBlYWhlYWRPblNlbGVjdCk7XG5cbiAgICAgIC8vc2hvdWxkIGl0IHNlbGVjdCBoaWdobGlnaHRlZCBwb3B1cCB2YWx1ZSB3aGVuIGxvc2luZyBmb2N1cz9cbiAgICAgIHZhciBpc1NlbGVjdE9uQmx1ciA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnR5cGVhaGVhZFNlbGVjdE9uQmx1cikgPyBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZFNlbGVjdE9uQmx1cikgOiBmYWxzZTtcblxuICAgICAgdmFyIGlucHV0Rm9ybWF0dGVyID0gYXR0cnMudHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXIgPyAkcGFyc2UoYXR0cnMudHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXIpIDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgYXBwZW5kVG9Cb2R5ID0gIGF0dHJzLnR5cGVhaGVhZEFwcGVuZFRvQm9keSA/IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkQXBwZW5kVG9Cb2R5KSA6IGZhbHNlO1xuXG4gICAgICB2YXIgZm9jdXNGaXJzdCA9IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkRm9jdXNGaXJzdCkgIT09IGZhbHNlO1xuXG4gICAgICAvL0lOVEVSTkFMIFZBUklBQkxFU1xuXG4gICAgICAvL21vZGVsIHNldHRlciBleGVjdXRlZCB1cG9uIG1hdGNoIHNlbGVjdGlvblxuICAgICAgdmFyICRzZXRNb2RlbFZhbHVlID0gJHBhcnNlKGF0dHJzLm5nTW9kZWwpLmFzc2lnbjtcblxuICAgICAgLy9leHByZXNzaW9ucyB1c2VkIGJ5IHR5cGVhaGVhZFxuICAgICAgdmFyIHBhcnNlclJlc3VsdCA9IHR5cGVhaGVhZFBhcnNlci5wYXJzZShhdHRycy50eXBlYWhlYWQpO1xuXG4gICAgICB2YXIgaGFzRm9jdXM7XG5cbiAgICAgIC8vVXNlZCB0byBhdm9pZCBidWcgaW4gaU9TIHdlYnZpZXcgd2hlcmUgaU9TIGtleWJvYXJkIGRvZXMgbm90IGZpcmVcbiAgICAgIC8vbW91c2Vkb3duICYgbW91c2V1cCBldmVudHNcbiAgICAgIC8vSXNzdWUgIzM2OTlcbiAgICAgIHZhciBzZWxlY3RlZDtcblxuICAgICAgLy9jcmVhdGUgYSBjaGlsZCBzY29wZSBmb3IgdGhlIHR5cGVhaGVhZCBkaXJlY3RpdmUgc28gd2UgYXJlIG5vdCBwb2xsdXRpbmcgb3JpZ2luYWwgc2NvcGVcbiAgICAgIC8vd2l0aCB0eXBlYWhlYWQtc3BlY2lmaWMgZGF0YSAobWF0Y2hlcywgcXVlcnkgZXRjLilcbiAgICAgIHZhciBzY29wZSA9IG9yaWdpbmFsU2NvcGUuJG5ldygpO1xuICAgICAgb3JpZ2luYWxTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKXtcbiAgICAgICAgc2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBXQUktQVJJQVxuICAgICAgdmFyIHBvcHVwSWQgPSAndHlwZWFoZWFkLScgKyBzY29wZS4kaWQgKyAnLScgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XG4gICAgICBlbGVtZW50LmF0dHIoe1xuICAgICAgICAnYXJpYS1hdXRvY29tcGxldGUnOiAnbGlzdCcsXG4gICAgICAgICdhcmlhLWV4cGFuZGVkJzogZmFsc2UsXG4gICAgICAgICdhcmlhLW93bnMnOiBwb3B1cElkXG4gICAgICB9KTtcblxuICAgICAgLy9wb3AtdXAgZWxlbWVudCB1c2VkIHRvIGRpc3BsYXkgbWF0Y2hlc1xuICAgICAgdmFyIHBvcFVwRWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgdHlwZWFoZWFkLXBvcHVwPjwvZGl2PicpO1xuICAgICAgcG9wVXBFbC5hdHRyKHtcbiAgICAgICAgaWQ6IHBvcHVwSWQsXG4gICAgICAgIG1hdGNoZXM6ICdtYXRjaGVzJyxcbiAgICAgICAgYWN0aXZlOiAnYWN0aXZlSWR4JyxcbiAgICAgICAgc2VsZWN0OiAnc2VsZWN0KGFjdGl2ZUlkeCknLFxuICAgICAgICAnbW92ZS1pbi1wcm9ncmVzcyc6ICdtb3ZlSW5Qcm9ncmVzcycsXG4gICAgICAgIHF1ZXJ5OiAncXVlcnknLFxuICAgICAgICBwb3NpdGlvbjogJ3Bvc2l0aW9uJ1xuICAgICAgfSk7XG4gICAgICAvL2N1c3RvbSBpdGVtIHRlbXBsYXRlXG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudHlwZWFoZWFkVGVtcGxhdGVVcmwpKSB7XG4gICAgICAgIHBvcFVwRWwuYXR0cigndGVtcGxhdGUtdXJsJywgYXR0cnMudHlwZWFoZWFkVGVtcGxhdGVVcmwpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzZXRNYXRjaGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNjb3BlLm1hdGNoZXMgPSBbXTtcbiAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gLTE7XG4gICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBnZXRNYXRjaElkID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHBvcHVwSWQgKyAnLW9wdGlvbi0nICsgaW5kZXg7XG4gICAgICB9O1xuXG4gICAgICAvLyBJbmRpY2F0ZSB0aGF0IHRoZSBzcGVjaWZpZWQgbWF0Y2ggaXMgdGhlIGFjdGl2ZSAocHJlLXNlbGVjdGVkKSBpdGVtIGluIHRoZSBsaXN0IG93bmVkIGJ5IHRoaXMgdHlwZWFoZWFkLlxuICAgICAgLy8gVGhpcyBhdHRyaWJ1dGUgaXMgYWRkZWQgb3IgcmVtb3ZlZCBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlIGBhY3RpdmVJZHhgIGNoYW5nZXMuXG4gICAgICBzY29wZS4kd2F0Y2goJ2FjdGl2ZUlkeCcsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHIoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1hY3RpdmVkZXNjZW5kYW50JywgZ2V0TWF0Y2hJZChpbmRleCkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdmFyIGdldE1hdGNoZXNBc3luYyA9IGZ1bmN0aW9uKGlucHV0VmFsdWUpIHtcblxuICAgICAgICB2YXIgbG9jYWxzID0geyR2aWV3VmFsdWU6IGlucHV0VmFsdWV9O1xuICAgICAgICBpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwgdHJ1ZSk7XG4gICAgICAgICRxLndoZW4ocGFyc2VyUmVzdWx0LnNvdXJjZShvcmlnaW5hbFNjb3BlLCBsb2NhbHMpKS50aGVuKGZ1bmN0aW9uKG1hdGNoZXMpIHtcblxuICAgICAgICAgIC8vaXQgbWlnaHQgaGFwcGVuIHRoYXQgc2V2ZXJhbCBhc3luYyBxdWVyaWVzIHdlcmUgaW4gcHJvZ3Jlc3MgaWYgYSB1c2VyIHdlcmUgdHlwaW5nIGZhc3RcbiAgICAgICAgICAvL2J1dCB3ZSBhcmUgaW50ZXJlc3RlZCBvbmx5IGluIHJlc3BvbnNlcyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhlIGN1cnJlbnQgdmlldyB2YWx1ZVxuICAgICAgICAgIHZhciBvbkN1cnJlbnRSZXF1ZXN0ID0gKGlucHV0VmFsdWUgPT09IG1vZGVsQ3RybC4kdmlld1ZhbHVlKTtcbiAgICAgICAgICBpZiAob25DdXJyZW50UmVxdWVzdCAmJiBoYXNGb2N1cykge1xuICAgICAgICAgICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gZm9jdXNGaXJzdCA/IDAgOiAtMTtcbiAgICAgICAgICAgICAgc2NvcGUubWF0Y2hlcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICAgIC8vdHJhbnNmb3JtIGxhYmVsc1xuICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaTxtYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSBtYXRjaGVzW2ldO1xuICAgICAgICAgICAgICAgIHNjb3BlLm1hdGNoZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICBpZDogZ2V0TWF0Y2hJZChpKSxcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiBwYXJzZXJSZXN1bHQudmlld01hcHBlcihzY29wZSwgbG9jYWxzKSxcbiAgICAgICAgICAgICAgICAgIG1vZGVsOiBtYXRjaGVzW2ldXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzY29wZS5xdWVyeSA9IGlucHV0VmFsdWU7XG4gICAgICAgICAgICAgIC8vcG9zaXRpb24gcG9wLXVwIHdpdGggbWF0Y2hlcyAtIHdlIG5lZWQgdG8gcmUtY2FsY3VsYXRlIGl0cyBwb3NpdGlvbiBlYWNoIHRpbWUgd2UgYXJlIG9wZW5pbmcgYSB3aW5kb3dcbiAgICAgICAgICAgICAgLy93aXRoIG1hdGNoZXMgYXMgYSBwb3AtdXAgbWlnaHQgYmUgYWJzb2x1dGUtcG9zaXRpb25lZCBhbmQgcG9zaXRpb24gb2YgYW4gaW5wdXQgbWlnaHQgaGF2ZSBjaGFuZ2VkIG9uIGEgcGFnZVxuICAgICAgICAgICAgICAvL2R1ZSB0byBvdGhlciBlbGVtZW50cyBiZWluZyByZW5kZXJlZFxuICAgICAgICAgICAgICByZWNhbGN1bGF0ZVBvc2l0aW9uKCk7XG5cbiAgICAgICAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG9uQ3VycmVudFJlcXVlc3QpIHtcbiAgICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbigpe1xuICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgLy8gYmluZCBldmVudHMgb25seSBpZiBhcHBlbmRUb0JvZHkgcGFyYW1zIGV4aXN0IC0gcGVyZm9ybWFuY2UgZmVhdHVyZVxuICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykuYmluZCgncmVzaXplJywgZmlyZVJlY2FsY3VsYXRpbmcpO1xuICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmJpbmQoJ3Njcm9sbCcsIGZpcmVSZWNhbGN1bGF0aW5nKTtcbiAgICAgIH1cblxuICAgICAgLy8gRGVjbGFyZSB0aGUgdGltZW91dCBwcm9taXNlIHZhciBvdXRzaWRlIHRoZSBmdW5jdGlvbiBzY29wZSBzbyB0aGF0IHN0YWNrZWQgY2FsbHMgY2FuIGJlIGNhbmNlbGxlZCBsYXRlclxuICAgICAgdmFyIHRpbWVvdXRFdmVudFByb21pc2U7XG5cbiAgICAgIC8vIERlZmF1bHQgcHJvZ3Jlc3MgdHlwZVxuICAgICAgc2NvcGUubW92ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblxuICAgICAgZnVuY3Rpb24gZmlyZVJlY2FsY3VsYXRpbmcoKSB7XG4gICAgICAgIGlmKCFzY29wZS5tb3ZlSW5Qcm9ncmVzcyl7XG4gICAgICAgICAgc2NvcGUubW92ZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbmNlbCBwcmV2aW91cyB0aW1lb3V0XG4gICAgICAgIGlmICh0aW1lb3V0RXZlbnRQcm9taXNlKSB7XG4gICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVvdXRFdmVudFByb21pc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVib3VuY2VkIGV4ZWN1dGluZyByZWNhbGN1bGF0ZSBhZnRlciBldmVudHMgZmlyZWRcbiAgICAgICAgdGltZW91dEV2ZW50UHJvbWlzZSA9ICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBpZiBwb3B1cCBpcyB2aXNpYmxlXG4gICAgICAgICAgaWYgKHNjb3BlLm1hdGNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZWNhbGN1bGF0ZVBvc2l0aW9uKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2NvcGUubW92ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgIH0sIGV2ZW50RGVib3VuY2VUaW1lKTtcbiAgICAgIH1cblxuICAgICAgLy8gcmVjYWxjdWxhdGUgYWN0dWFsIHBvc2l0aW9uIGFuZCBzZXQgbmV3IHZhbHVlcyB0byBzY29wZVxuICAgICAgLy8gYWZ0ZXIgZGlnZXN0IGxvb3AgaXMgcG9wdXAgaW4gcmlnaHQgcG9zaXRpb25cbiAgICAgIGZ1bmN0aW9uIHJlY2FsY3VsYXRlUG9zaXRpb24oKSB7XG4gICAgICAgIHNjb3BlLnBvc2l0aW9uID0gYXBwZW5kVG9Cb2R5ID8gJHBvc2l0aW9uLm9mZnNldChlbGVtZW50KSA6ICRwb3NpdGlvbi5wb3NpdGlvbihlbGVtZW50KTtcbiAgICAgICAgc2NvcGUucG9zaXRpb24udG9wICs9IGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7XG4gICAgICB9XG5cbiAgICAgIHJlc2V0TWF0Y2hlcygpO1xuXG4gICAgICAvL3dlIG5lZWQgdG8gcHJvcGFnYXRlIHVzZXIncyBxdWVyeSBzbyB3ZSBjYW4gaGlnbGlnaHQgbWF0Y2hlc1xuICAgICAgc2NvcGUucXVlcnkgPSB1bmRlZmluZWQ7XG5cbiAgICAgIC8vRGVjbGFyZSB0aGUgdGltZW91dCBwcm9taXNlIHZhciBvdXRzaWRlIHRoZSBmdW5jdGlvbiBzY29wZSBzbyB0aGF0IHN0YWNrZWQgY2FsbHMgY2FuIGJlIGNhbmNlbGxlZCBsYXRlclxuICAgICAgdmFyIHRpbWVvdXRQcm9taXNlO1xuXG4gICAgICB2YXIgc2NoZWR1bGVTZWFyY2hXaXRoVGltZW91dCA9IGZ1bmN0aW9uKGlucHV0VmFsdWUpIHtcbiAgICAgICAgdGltZW91dFByb21pc2UgPSAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZ2V0TWF0Y2hlc0FzeW5jKGlucHV0VmFsdWUpO1xuICAgICAgICB9LCB3YWl0VGltZSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgY2FuY2VsUHJldmlvdXNUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aW1lb3V0UHJvbWlzZSkge1xuICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lb3V0UHJvbWlzZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vcGx1ZyBpbnRvICRwYXJzZXJzIHBpcGVsaW5lIHRvIG9wZW4gYSB0eXBlYWhlYWQgb24gdmlldyBjaGFuZ2VzIGluaXRpYXRlZCBmcm9tIERPTVxuICAgICAgLy8kcGFyc2VycyBraWNrLWluIG9uIGFsbCB0aGUgY2hhbmdlcyBjb21pbmcgZnJvbSB0aGUgdmlldyBhcyB3ZWxsIGFzIG1hbnVhbGx5IHRyaWdnZXJlZCBieSAkc2V0Vmlld1ZhbHVlXG4gICAgICBtb2RlbEN0cmwuJHBhcnNlcnMudW5zaGlmdChmdW5jdGlvbiAoaW5wdXRWYWx1ZSkge1xuXG4gICAgICAgIGhhc0ZvY3VzID0gdHJ1ZTtcblxuICAgICAgICBpZiAobWluTGVuZ3RoID09PSAwIHx8IGlucHV0VmFsdWUgJiYgaW5wdXRWYWx1ZS5sZW5ndGggPj0gbWluTGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHdhaXRUaW1lID4gMCkge1xuICAgICAgICAgICAgY2FuY2VsUHJldmlvdXNUaW1lb3V0KCk7XG4gICAgICAgICAgICBzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0KGlucHV0VmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgY2FuY2VsUHJldmlvdXNUaW1lb3V0KCk7XG4gICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNFZGl0YWJsZSkge1xuICAgICAgICAgIHJldHVybiBpbnB1dFZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghaW5wdXRWYWx1ZSkge1xuICAgICAgICAgICAgLy8gUmVzZXQgaW4gY2FzZSB1c2VyIGhhZCB0eXBlZCBzb21ldGhpbmcgcHJldmlvdXNseS5cbiAgICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXRWYWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZWRpdGFibGUnLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIG1vZGVsQ3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uIChtb2RlbFZhbHVlKSB7XG5cbiAgICAgICAgdmFyIGNhbmRpZGF0ZVZpZXdWYWx1ZSwgZW1wdHlWaWV3VmFsdWU7XG4gICAgICAgIHZhciBsb2NhbHMgPSB7fTtcblxuICAgICAgICAvLyBUaGUgdmFsaWRpdHkgbWF5IGJlIHNldCB0byBmYWxzZSB2aWEgJHBhcnNlcnMgKHNlZSBhYm92ZSkgaWZcbiAgICAgICAgLy8gdGhlIG1vZGVsIGlzIHJlc3RyaWN0ZWQgdG8gc2VsZWN0ZWQgdmFsdWVzLiBJZiB0aGUgbW9kZWxcbiAgICAgICAgLy8gaXMgc2V0IG1hbnVhbGx5IGl0IGlzIGNvbnNpZGVyZWQgdG8gYmUgdmFsaWQuXG4gICAgICAgIGlmICghaXNFZGl0YWJsZSkge1xuICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5wdXRGb3JtYXR0ZXIpIHtcblxuICAgICAgICAgIGxvY2Fscy4kbW9kZWwgPSBtb2RlbFZhbHVlO1xuICAgICAgICAgIHJldHVybiBpbnB1dEZvcm1hdHRlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAvL2l0IG1pZ2h0IGhhcHBlbiB0aGF0IHdlIGRvbid0IGhhdmUgZW5vdWdoIGluZm8gdG8gcHJvcGVybHkgcmVuZGVyIGlucHV0IHZhbHVlXG4gICAgICAgICAgLy93ZSBuZWVkIHRvIGNoZWNrIGZvciB0aGlzIHNpdHVhdGlvbiBhbmQgc2ltcGx5IHJldHVybiBtb2RlbCB2YWx1ZSBpZiB3ZSBjYW4ndCBhcHBseSBjdXN0b20gZm9ybWF0dGluZ1xuICAgICAgICAgIGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdID0gbW9kZWxWYWx1ZTtcbiAgICAgICAgICBjYW5kaWRhdGVWaWV3VmFsdWUgPSBwYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgIGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGVtcHR5Vmlld1ZhbHVlID0gcGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKTtcblxuICAgICAgICAgIHJldHVybiBjYW5kaWRhdGVWaWV3VmFsdWUhPT0gZW1wdHlWaWV3VmFsdWUgPyBjYW5kaWRhdGVWaWV3VmFsdWUgOiBtb2RlbFZhbHVlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24gKGFjdGl2ZUlkeCkge1xuICAgICAgICAvL2NhbGxlZCBmcm9tIHdpdGhpbiB0aGUgJGRpZ2VzdCgpIGN5Y2xlXG4gICAgICAgIHZhciBsb2NhbHMgPSB7fTtcbiAgICAgICAgdmFyIG1vZGVsLCBpdGVtO1xuXG4gICAgICAgIHNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSBpdGVtID0gc2NvcGUubWF0Y2hlc1thY3RpdmVJZHhdLm1vZGVsO1xuICAgICAgICBtb2RlbCA9IHBhcnNlclJlc3VsdC5tb2RlbE1hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAkc2V0TW9kZWxWYWx1ZShvcmlnaW5hbFNjb3BlLCBtb2RlbCk7XG4gICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3BhcnNlJywgdHJ1ZSk7XG5cbiAgICAgICAgb25TZWxlY3RDYWxsYmFjayhvcmlnaW5hbFNjb3BlLCB7XG4gICAgICAgICAgJGl0ZW06IGl0ZW0sXG4gICAgICAgICAgJG1vZGVsOiBtb2RlbCxcbiAgICAgICAgICAkbGFiZWw6IHBhcnNlclJlc3VsdC52aWV3TWFwcGVyKG9yaWdpbmFsU2NvcGUsIGxvY2FscylcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG5cbiAgICAgICAgLy9yZXR1cm4gZm9jdXMgdG8gdGhlIGlucHV0IGVsZW1lbnQgaWYgYSBtYXRjaCB3YXMgc2VsZWN0ZWQgdmlhIGEgbW91c2UgY2xpY2sgZXZlbnRcbiAgICAgICAgLy8gdXNlIHRpbWVvdXQgdG8gYXZvaWQgJHJvb3RTY29wZTppbnByb2cgZXJyb3JcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7IGVsZW1lbnRbMF0uZm9jdXMoKTsgfSwgMCwgZmFsc2UpO1xuICAgICAgfTtcblxuICAgICAgLy9iaW5kIGtleWJvYXJkIGV2ZW50czogYXJyb3dzIHVwKDM4KSAvIGRvd24oNDApLCBlbnRlcigxMykgYW5kIHRhYig5KSwgZXNjKDI3KVxuICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2dCkge1xuXG4gICAgICAgIC8vdHlwZWFoZWFkIGlzIG9wZW4gYW5kIGFuIFwiaW50ZXJlc3RpbmdcIiBrZXkgd2FzIHByZXNzZWRcbiAgICAgICAgaWYgKHNjb3BlLm1hdGNoZXMubGVuZ3RoID09PSAwIHx8IEhPVF9LRVlTLmluZGV4T2YoZXZ0LndoaWNoKSA9PT0gLTEpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGVyZSdzIG5vdGhpbmcgc2VsZWN0ZWQgKGkuZS4gZm9jdXNGaXJzdCkgYW5kIGVudGVyIGlzIGhpdCwgZG9uJ3QgZG8gYW55dGhpbmdcbiAgICAgICAgaWYgKHNjb3BlLmFjdGl2ZUlkeCA9PT0gLTEgJiYgZXZ0LndoaWNoID09PSAxMykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZXJlJ3Mgbm90aGluZyBzZWxlY3RlZCAoaS5lLiBmb2N1c0ZpcnN0KSBhbmQgdGFiIGlzIGhpdCwgY2xlYXIgdGhlIHJlc3VsdHNcbiAgICAgICAgaWYgKHNjb3BlLmFjdGl2ZUlkeCA9PT0gLTEgJiYgZXZ0LndoaWNoID09PSA5KSB7XG4gICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmIChldnQud2hpY2ggPT09IDQwKSB7XG4gICAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gKHNjb3BlLmFjdGl2ZUlkeCArIDEpICUgc2NvcGUubWF0Y2hlcy5sZW5ndGg7XG4gICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSAzOCkge1xuICAgICAgICAgIHNjb3BlLmFjdGl2ZUlkeCA9IChzY29wZS5hY3RpdmVJZHggPiAwID8gc2NvcGUuYWN0aXZlSWR4IDogc2NvcGUubWF0Y2hlcy5sZW5ndGgpIC0gMTtcbiAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDEzIHx8IGV2dC53aGljaCA9PT0gOSkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzY29wZS5zZWxlY3Qoc2NvcGUuYWN0aXZlSWR4KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICB9IGVsc2UgaWYgKGV2dC53aGljaCA9PT0gMjcpIHtcbiAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBlbGVtZW50LmJpbmQoJ2JsdXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc1NlbGVjdE9uQmx1ciAmJiBzY29wZS5tYXRjaGVzLmxlbmd0aCAmJiBzY29wZS5hY3RpdmVJZHggIT09IC0xICYmICFzZWxlY3RlZCkge1xuICAgICAgICAgIHNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2NvcGUuc2VsZWN0KHNjb3BlLmFjdGl2ZUlkeCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaGFzRm9jdXMgPSBmYWxzZTtcbiAgICAgICAgc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBLZWVwIHJlZmVyZW5jZSB0byBjbGljayBoYW5kbGVyIHRvIHVuYmluZCBpdC5cbiAgICAgIHZhciBkaXNtaXNzQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAvLyBJc3N1ZSAjMzk3M1xuICAgICAgICAvLyBGaXJlZm94IHRyZWF0cyByaWdodCBjbGljayBhcyBhIGNsaWNrIG9uIGRvY3VtZW50XG4gICAgICAgIGlmIChlbGVtZW50WzBdICE9PSBldnQudGFyZ2V0ICYmIGV2dC53aGljaCAhPT0gMykge1xuICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkZG9jdW1lbnQuYmluZCgnY2xpY2snLCBkaXNtaXNzQ2xpY2tIYW5kbGVyKTtcblxuICAgICAgb3JpZ2luYWxTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKXtcbiAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnY2xpY2snLCBkaXNtaXNzQ2xpY2tIYW5kbGVyKTtcbiAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICAgICRwb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQcmV2ZW50IGpRdWVyeSBjYWNoZSBtZW1vcnkgbGVha1xuICAgICAgICBwb3BVcEVsLnJlbW92ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciAkcG9wdXAgPSAkY29tcGlsZShwb3BVcEVsKShzY29wZSk7XG5cbiAgICAgIGlmIChhcHBlbmRUb0JvZHkpIHtcbiAgICAgICAgJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5hcHBlbmQoJHBvcHVwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuYWZ0ZXIoJHBvcHVwKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbn1dKVxuXG4gIC5kaXJlY3RpdmUoJ3R5cGVhaGVhZFBvcHVwJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDonRUEnLFxuICAgICAgc2NvcGU6e1xuICAgICAgICBtYXRjaGVzOic9JyxcbiAgICAgICAgcXVlcnk6Jz0nLFxuICAgICAgICBhY3RpdmU6Jz0nLFxuICAgICAgICBwb3NpdGlvbjonJicsXG4gICAgICAgIG1vdmVJblByb2dyZXNzOic9JyxcbiAgICAgICAgc2VsZWN0OicmJ1xuICAgICAgfSxcbiAgICAgIHJlcGxhY2U6dHJ1ZSxcbiAgICAgIHRlbXBsYXRlVXJsOid0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWwnLFxuICAgICAgbGluazpmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cbiAgICAgICAgc2NvcGUudGVtcGxhdGVVcmwgPSBhdHRycy50ZW1wbGF0ZVVybDtcblxuICAgICAgICBzY29wZS5pc09wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHNjb3BlLm1hdGNoZXMubGVuZ3RoID4gMDtcbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uIChtYXRjaElkeCkge1xuICAgICAgICAgIHJldHVybiBzY29wZS5hY3RpdmUgPT0gbWF0Y2hJZHg7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuc2VsZWN0QWN0aXZlID0gZnVuY3Rpb24gKG1hdGNoSWR4KSB7XG4gICAgICAgICAgc2NvcGUuYWN0aXZlID0gbWF0Y2hJZHg7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuc2VsZWN0TWF0Y2ggPSBmdW5jdGlvbiAoYWN0aXZlSWR4KSB7XG4gICAgICAgICAgc2NvcGUuc2VsZWN0KHthY3RpdmVJZHg6YWN0aXZlSWR4fSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfSlcblxuICAuZGlyZWN0aXZlKCd0eXBlYWhlYWRNYXRjaCcsIFsnJHRlbXBsYXRlUmVxdWVzdCcsICckY29tcGlsZScsICckcGFyc2UnLCBmdW5jdGlvbiAoJHRlbXBsYXRlUmVxdWVzdCwgJGNvbXBpbGUsICRwYXJzZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDonRUEnLFxuICAgICAgc2NvcGU6e1xuICAgICAgICBpbmRleDonPScsXG4gICAgICAgIG1hdGNoOic9JyxcbiAgICAgICAgcXVlcnk6Jz0nXG4gICAgICB9LFxuICAgICAgbGluazpmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIHZhciB0cGxVcmwgPSAkcGFyc2UoYXR0cnMudGVtcGxhdGVVcmwpKHNjb3BlLiRwYXJlbnQpIHx8ICd0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWwnO1xuICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0KHRwbFVybCkudGhlbihmdW5jdGlvbih0cGxDb250ZW50KSB7XG4gICAgICAgICAgJGNvbXBpbGUodHBsQ29udGVudC50cmltKCkpKHNjb3BlLCBmdW5jdGlvbihjbG9uZWRFbGVtZW50KXtcbiAgICAgICAgICAgIGVsZW1lbnQucmVwbGFjZVdpdGgoY2xvbmVkRWxlbWVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1dKVxuXG4gIC5maWx0ZXIoJ3R5cGVhaGVhZEhpZ2hsaWdodCcsIGZ1bmN0aW9uKCkge1xuXG4gICAgZnVuY3Rpb24gZXNjYXBlUmVnZXhwKHF1ZXJ5VG9Fc2NhcGUpIHtcbiAgICAgIHJldHVybiBxdWVyeVRvRXNjYXBlLnJlcGxhY2UoLyhbLj8qK14kW1xcXVxcXFwoKXt9fC1dKS9nLCAnXFxcXCQxJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG1hdGNoSXRlbSwgcXVlcnkpIHtcbiAgICAgIHJldHVybiBxdWVyeSA/ICgnJyArIG1hdGNoSXRlbSkucmVwbGFjZShuZXcgUmVnRXhwKGVzY2FwZVJlZ2V4cChxdWVyeSksICdnaScpLCAnPHN0cm9uZz4kJjwvc3Ryb25nPicpIDogbWF0Y2hJdGVtO1xuICAgIH07XG4gIH0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicGFuZWwgcGFuZWwtZGVmYXVsdFxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1oZWFkaW5nXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGg0IGNsYXNzPVxcXCJwYW5lbC10aXRsZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGEgaHJlZj1cXFwiI1xcXCIgdGFiaW5kZXg9XFxcIjBcXFwiIGNsYXNzPVxcXCJhY2NvcmRpb24tdG9nZ2xlXFxcIiBuZy1jbGljaz1cXFwiJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IHRvZ2dsZU9wZW4oKVxcXCIgYWNjb3JkaW9uLXRyYW5zY2x1ZGU9XFxcImhlYWRpbmdcXFwiPjxzcGFuIG5nLWNsYXNzPVxcXCJ7J3RleHQtbXV0ZWQnOiBpc0Rpc2FibGVkfVxcXCI+e3toZWFkaW5nfX08L3NwYW4+PC9hPlxcblwiICtcbiAgICBcIiAgICA8L2g0PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1jb2xsYXBzZSBjb2xsYXBzZVxcXCIgY29sbGFwc2U9XFxcIiFpc09wZW5cXFwiPlxcblwiICtcbiAgICBcIlx0ICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicGFuZWwtZ3JvdXBcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJhbGVydFxcXCIgbmctY2xhc3M9XFxcIlsnYWxlcnQtJyArICh0eXBlIHx8ICd3YXJuaW5nJyksIGNsb3NlYWJsZSA/ICdhbGVydC1kaXNtaXNzaWJsZScgOiBudWxsXVxcXCIgcm9sZT1cXFwiYWxlcnRcXFwiPlxcblwiICtcbiAgICBcIiAgICA8YnV0dG9uIG5nLXNob3c9XFxcImNsb3NlYWJsZVxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2xvc2VcXFwiIG5nLWNsaWNrPVxcXCJjbG9zZSgkZXZlbnQpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInNyLW9ubHlcXFwiPkNsb3NlPC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbFwiLFxuICAgIFwiPGRpdiBuZy1tb3VzZWVudGVyPVxcXCJwYXVzZSgpXFxcIiBuZy1tb3VzZWxlYXZlPVxcXCJwbGF5KClcXFwiIGNsYXNzPVxcXCJjYXJvdXNlbFxcXCIgbmctc3dpcGUtcmlnaHQ9XFxcInByZXYoKVxcXCIgbmctc3dpcGUtbGVmdD1cXFwibmV4dCgpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPG9sIGNsYXNzPVxcXCJjYXJvdXNlbC1pbmRpY2F0b3JzXFxcIiBuZy1zaG93PVxcXCJzbGlkZXMubGVuZ3RoID4gMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8bGkgbmctcmVwZWF0PVxcXCJzbGlkZSBpbiBzbGlkZXMgfCBvcmRlckJ5OidpbmRleCcgdHJhY2sgYnkgJGluZGV4XFxcIiBuZy1jbGFzcz1cXFwie2FjdGl2ZTogaXNBY3RpdmUoc2xpZGUpfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChzbGlkZSlcXFwiPjwvbGk+XFxuXCIgK1xuICAgIFwiICAgIDwvb2w+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImNhcm91c2VsLWlubmVyXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8YSBjbGFzcz1cXFwibGVmdCBjYXJvdXNlbC1jb250cm9sXFxcIiBuZy1jbGljaz1cXFwicHJldigpXFxcIiBuZy1zaG93PVxcXCJzbGlkZXMubGVuZ3RoID4gMVxcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XFxcIj48L3NwYW4+PC9hPlxcblwiICtcbiAgICBcIiAgICA8YSBjbGFzcz1cXFwicmlnaHQgY2Fyb3VzZWwtY29udHJvbFxcXCIgbmctY2xpY2s9XFxcIm5leHQoKVxcXCIgbmctc2hvdz1cXFwic2xpZGVzLmxlbmd0aCA+IDFcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvc3Bhbj48L2E+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sXCIsXG4gICAgXCI8ZGl2IG5nLWNsYXNzPVxcXCJ7XFxuXCIgK1xuICAgIFwiICAgICdhY3RpdmUnOiBhY3RpdmVcXG5cIiArXG4gICAgXCIgIH1cXFwiIGNsYXNzPVxcXCJpdGVtIHRleHQtY2VudGVyXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sXCIsXG4gICAgXCI8ZGl2IG5nLXN3aXRjaD1cXFwiZGF0ZXBpY2tlck1vZGVcXFwiIHJvbGU9XFxcImFwcGxpY2F0aW9uXFxcIiBuZy1rZXlkb3duPVxcXCJrZXlkb3duKCRldmVudClcXFwiPlxcblwiICtcbiAgICBcIiAgPGRheXBpY2tlciBuZy1zd2l0Y2gtd2hlbj1cXFwiZGF5XFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC9kYXlwaWNrZXI+XFxuXCIgK1xuICAgIFwiICA8bW9udGhwaWNrZXIgbmctc3dpdGNoLXdoZW49XFxcIm1vbnRoXFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC9tb250aHBpY2tlcj5cXG5cIiArXG4gICAgXCIgIDx5ZWFycGlja2VyIG5nLXN3aXRjaC13aGVuPVxcXCJ5ZWFyXFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC95ZWFycGlja2VyPlxcblwiICtcbiAgICBcIjwvZGl2PlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbFwiLFxuICAgIFwiPHRhYmxlIHJvbGU9XFxcImdyaWRcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD1cXFwie3thY3RpdmVEYXRlSWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICA8dGhlYWQ+XFxuXCIgK1xuICAgIFwiICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoLTEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoIGNvbHNwYW49XFxcInt7Ojo1ICsgc2hvd1dlZWtzfX1cXFwiPjxidXR0b24gaWQ9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiByb2xlPVxcXCJoZWFkaW5nXFxcIiBhcmlhLWxpdmU9XFxcImFzc2VydGl2ZVxcXCIgYXJpYS1hdG9taWM9XFxcInRydWVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ0b2dnbGVNb2RlKClcXFwiIG5nLWRpc2FibGVkPVxcXCJkYXRlcGlja2VyTW9kZSA9PT0gbWF4TW9kZVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiBzdHlsZT1cXFwid2lkdGg6MTAwJTtcXFwiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKDEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoIG5nLWlmPVxcXCJzaG93V2Vla3NcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCI+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGggbmctcmVwZWF0PVxcXCJsYWJlbCBpbiA6OmxhYmVscyB0cmFjayBieSAkaW5kZXhcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCI+PHNtYWxsIGFyaWEtbGFiZWw9XFxcInt7OjpsYWJlbC5mdWxsfX1cXFwiPnt7OjpsYWJlbC5hYmJyfX08L3NtYWxsPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3RoZWFkPlxcblwiICtcbiAgICBcIiAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICA8dHIgbmctcmVwZWF0PVxcXCJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1pZj1cXFwic2hvd1dlZWtzXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXIgaDZcXFwiPjxlbT57eyB3ZWVrTnVtYmVyc1skaW5kZXhdIH19PC9lbT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIHJvbGU9XFxcImdyaWRjZWxsXFxcIiBpZD1cXFwie3s6OmR0LnVpZH19XFxcIiBuZy1jbGFzcz1cXFwiOjpkdC5jdXN0b21DbGFzc1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDoxMDAlO1xcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsYXNzPVxcXCJ7J2J0bi1pbmZvJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChkdC5kYXRlKVxcXCIgbmctZGlzYWJsZWQ9XFxcImR0LmRpc2FibGVkXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxzcGFuIG5nLWNsYXNzPVxcXCI6OnsndGV4dC1tdXRlZCc6IGR0LnNlY29uZGFyeSwgJ3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XFxcIj57ezo6ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90Ym9keT5cXG5cIiArXG4gICAgXCI8L3RhYmxlPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWxcIixcbiAgICBcIjx0YWJsZSByb2xlPVxcXCJncmlkXFxcIiBhcmlhLWxhYmVsbGVkYnk9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XFxcInt7YWN0aXZlRGF0ZUlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgPHRoZWFkPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKC0xKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIGlkPVxcXCJ7ezo6dW5pcXVlSWR9fS10aXRsZVxcXCIgcm9sZT1cXFwiaGVhZGluZ1xcXCIgYXJpYS1saXZlPVxcXCJhc3NlcnRpdmVcXFwiIGFyaWEtYXRvbWljPVxcXCJ0cnVlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTW9kZSgpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZGF0ZXBpY2tlck1vZGUgPT09IG1heE1vZGVcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgc3R5bGU9XFxcIndpZHRoOjEwMCU7XFxcIj48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgxKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGhlYWQ+XFxuXCIgK1xuICAgIFwiICA8dGJvZHk+XFxuXCIgK1xuICAgIFwiICAgIDx0ciBuZy1yZXBlYXQ9XFxcInJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXJlcGVhdD1cXFwiZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGVcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCIgcm9sZT1cXFwiZ3JpZGNlbGxcXFwiIGlkPVxcXCJ7ezo6ZHQudWlkfX1cXFwiIG5nLWNsYXNzPVxcXCI6OmR0LmN1c3RvbUNsYXNzXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOjEwMCU7XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiBuZy1jbGFzcz1cXFwieydidG4taW5mbyc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX1cXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QoZHQuZGF0ZSlcXFwiIG5nLWRpc2FibGVkPVxcXCJkdC5kaXNhYmxlZFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48c3BhbiBuZy1jbGFzcz1cXFwiOjp7J3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XFxcIj57ezo6ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90Ym9keT5cXG5cIiArXG4gICAgXCI8L3RhYmxlPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIixcbiAgICBcIjx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCIgbmctaWY9XFxcImlzT3BlblxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IGJsb2NrXFxcIiBuZy1zdHlsZT1cXFwie3RvcDogcG9zaXRpb24udG9wKydweCcsIGxlZnQ6IHBvc2l0aW9uLmxlZnQrJ3B4J31cXFwiIG5nLWtleWRvd249XFxcImtleWRvd24oJGV2ZW50KVxcXCIgbmctY2xpY2s9XFxcIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVxcXCI+XFxuXCIgK1xuICAgIFwiXHQ8bGkgbmctdHJhbnNjbHVkZT48L2xpPlxcblwiICtcbiAgICBcIlx0PGxpIG5nLWlmPVxcXCJzaG93QnV0dG9uQmFyXFxcIiBzdHlsZT1cXFwicGFkZGluZzoxMHB4IDlweCAycHhcXFwiPlxcblwiICtcbiAgICBcIlx0XHQ8c3BhbiBjbGFzcz1cXFwiYnRuLWdyb3VwIHB1bGwtbGVmdFxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdFx0PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXNtIGJ0bi1pbmZvXFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KCd0b2RheScpXFxcIj57eyBnZXRUZXh0KCdjdXJyZW50JykgfX08L2J1dHRvbj5cXG5cIiArXG4gICAgXCJcdFx0XHQ8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc20gYnRuLWRhbmdlclxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChudWxsKVxcXCI+e3sgZ2V0VGV4dCgnY2xlYXInKSB9fTwvYnV0dG9uPlxcblwiICtcbiAgICBcIlx0XHQ8L3NwYW4+XFxuXCIgK1xuICAgIFwiXHRcdDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zbSBidG4tc3VjY2VzcyBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwiY2xvc2UoKVxcXCI+e3sgZ2V0VGV4dCgnY2xvc2UnKSB9fTwvYnV0dG9uPlxcblwiICtcbiAgICBcIlx0PC9saT5cXG5cIiArXG4gICAgXCI8L3VsPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sXCIsXG4gICAgXCI8dGFibGUgcm9sZT1cXFwiZ3JpZFxcXCIgYXJpYS1sYWJlbGxlZGJ5PVxcXCJ7ezo6dW5pcXVlSWR9fS10aXRsZVxcXCIgYXJpYS1hY3RpdmVkZXNjZW5kYW50PVxcXCJ7e2FjdGl2ZURhdGVJZH19XFxcIj5cXG5cIiArXG4gICAgXCIgIDx0aGVhZD5cXG5cIiArXG4gICAgXCIgICAgPHRyPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgtMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGggY29sc3Bhbj1cXFwiM1xcXCI+PGJ1dHRvbiBpZD1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIHJvbGU9XFxcImhlYWRpbmdcXFwiIGFyaWEtbGl2ZT1cXFwiYXNzZXJ0aXZlXFxcIiBhcmlhLWF0b21pYz1cXFwidHJ1ZVxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInRvZ2dsZU1vZGUoKVxcXCIgbmctZGlzYWJsZWQ9XFxcImRhdGVwaWNrZXJNb2RlID09PSBtYXhNb2RlXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiIHN0eWxlPVxcXCJ3aWR0aDoxMDAlO1xcXCI+PHN0cm9uZz57e3RpdGxlfX08L3N0cm9uZz48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3RoZWFkPlxcblwiICtcbiAgICBcIiAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICA8dHIgbmctcmVwZWF0PVxcXCJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIHJvbGU9XFxcImdyaWRjZWxsXFxcIiBpZD1cXFwie3s6OmR0LnVpZH19XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOjEwMCU7XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiBuZy1jbGFzcz1cXFwieydidG4taW5mbyc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX1cXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QoZHQuZGF0ZSlcXFwiIG5nLWRpc2FibGVkPVxcXCJkdC5kaXNhYmxlZFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48c3BhbiBuZy1jbGFzcz1cXFwiOjp7J3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XFxcIj57ezo6ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90Ym9keT5cXG5cIiArXG4gICAgXCI8L3RhYmxlPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwibW9kYWwtYmFja2Ryb3BcXFwiXFxuXCIgK1xuICAgIFwiICAgICBtb2RhbC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICAgICBtb2RhbC1pbi1jbGFzcz1cXFwiaW5cXFwiXFxuXCIgK1xuICAgIFwiICAgICBuZy1zdHlsZT1cXFwieyd6LWluZGV4JzogMTA0MCArIChpbmRleCAmJiAxIHx8IDApICsgaW5kZXgqMTB9XFxcIlxcblwiICtcbiAgICBcIj48L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbFwiLFxuICAgIFwiPGRpdiBtb2RhbC1yZW5kZXI9XFxcInt7JGlzUmVuZGVyZWR9fVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiByb2xlPVxcXCJkaWFsb2dcXFwiIGNsYXNzPVxcXCJtb2RhbFxcXCJcXG5cIiArXG4gICAgXCIgICAgbW9kYWwtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgICBtb2RhbC1pbi1jbGFzcz1cXFwiaW5cXFwiXFxuXCIgK1xuICAgIFwiXHRuZy1zdHlsZT1cXFwieyd6LWluZGV4JzogMTA1MCArIGluZGV4KjEwLCBkaXNwbGF5OiAnYmxvY2snfVxcXCIgbmctY2xpY2s9XFxcImNsb3NlKCRldmVudClcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1kaWFsb2dcXFwiIG5nLWNsYXNzPVxcXCJzaXplID8gJ21vZGFsLScgKyBzaXplIDogJydcXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiIG1vZGFsLXRyYW5zY2x1ZGU+PC9kaXY+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbFwiLFxuICAgIFwiPHVsIGNsYXNzPVxcXCJwYWdlclxcXCI+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9QcmV2aW91cygpLCBwcmV2aW91czogYWxpZ259XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHBhZ2UgLSAxLCAkZXZlbnQpXFxcIj57ezo6Z2V0VGV4dCgncHJldmlvdXMnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9OZXh0KCksIG5leHQ6IGFsaWdufVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlICsgMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ25leHQnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiPC91bD5cIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbFwiLFxuICAgIFwiPHVsIGNsYXNzPVxcXCJwYWdpbmF0aW9uXFxcIj5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1pZj1cXFwiOjpib3VuZGFyeUxpbmtzXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub1ByZXZpb3VzKCl8fG5nRGlzYWJsZWR9XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKDEsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCdmaXJzdCcpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1pZj1cXFwiOjpkaXJlY3Rpb25MaW5rc1xcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9QcmV2aW91cygpfHxuZ0Rpc2FibGVkfVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlIC0gMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ3ByZXZpb3VzJyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLXJlcGVhdD1cXFwicGFnZSBpbiBwYWdlcyB0cmFjayBieSAkaW5kZXhcXFwiIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBwYWdlLmFjdGl2ZSxkaXNhYmxlZDogbmdEaXNhYmxlZCYmIXBhZ2UuYWN0aXZlfVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlLm51bWJlciwgJGV2ZW50KVxcXCI+e3twYWdlLnRleHR9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWlmPVxcXCI6OmRpcmVjdGlvbkxpbmtzXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub05leHQoKXx8bmdEaXNhYmxlZH1cXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UocGFnZSArIDEsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCduZXh0Jyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWlmPVxcXCI6OmJvdW5kYXJ5TGlua3NcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfHxuZ0Rpc2FibGVkfVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZSh0b3RhbFBhZ2VzLCAkZXZlbnQpXFxcIj57ezo6Z2V0VGV4dCgnbGFzdCcpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCI8L3VsPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtcG9wdXAuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwidG9vbHRpcFxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtaW5uZXJcXFwiIG5nLWJpbmQtaHRtbD1cXFwiY29udGVudEV4cCgpXFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwidG9vbHRpcFxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtaW5uZXJcXFwiIGJpbmQtaHRtbC11bnNhZmU9XFxcImNvbnRlbnRcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWNsYXNzZXNcXG5cIiArXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1pbm5lclxcXCIgbmctYmluZD1cXFwiY29udGVudFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC10ZW1wbGF0ZS1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInRvb2x0aXBcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1hcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWlubmVyXFxcIlxcblwiICtcbiAgICBcIiAgICB0b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGU9XFxcImNvbnRlbnRFeHAoKVxcXCJcXG5cIiArXG4gICAgXCIgICAgdG9vbHRpcC10ZW1wbGF0ZS10cmFuc2NsdWRlLXNjb3BlPVxcXCJvcmlnaW5TY29wZSgpXFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLXRlbXBsYXRlLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItdGVtcGxhdGUuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicG9wb3ZlclxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJhcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWlubmVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aDMgY2xhc3M9XFxcInBvcG92ZXItdGl0bGVcXFwiIG5nLWJpbmQ9XFxcInRpdGxlXFxcIiBuZy1pZj1cXFwidGl0bGVcXFwiPjwvaDM+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1jb250ZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgdG9vbHRpcC10ZW1wbGF0ZS10cmFuc2NsdWRlPVxcXCJjb250ZW50RXhwKClcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICB0b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGUtc2NvcGU9XFxcIm9yaWdpblNjb3BlKClcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBvcG92ZXJcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1pbm5lclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGgzIGNsYXNzPVxcXCJwb3BvdmVyLXRpdGxlXFxcIiBuZy1iaW5kPVxcXCJ0aXRsZVxcXCIgbmctaWY9XFxcInRpdGxlXFxcIj48L2gzPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcInBvcG92ZXItY29udGVudFxcXCIgbmctYmluZD1cXFwiY29udGVudFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3MtYmFyXFxcIiBuZy1jbGFzcz1cXFwidHlwZSAmJiAncHJvZ3Jlc3MtYmFyLScgKyB0eXBlXFxcIiByb2xlPVxcXCJwcm9ncmVzc2JhclxcXCIgYXJpYS12YWx1ZW5vdz1cXFwie3t2YWx1ZX19XFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCJ7e21heH19XFxcIiBuZy1zdHlsZT1cXFwie3dpZHRoOiAocGVyY2VudCA8IDEwMCA/IHBlcmNlbnQgOiAxMDApICsgJyUnfVxcXCIgYXJpYS12YWx1ZXRleHQ9XFxcInt7cGVyY2VudCB8IG51bWJlcjowfX0lXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3NcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwcm9ncmVzc1xcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwcm9ncmVzcy1iYXJcXFwiIG5nLWNsYXNzPVxcXCJ0eXBlICYmICdwcm9ncmVzcy1iYXItJyArIHR5cGVcXFwiIHJvbGU9XFxcInByb2dyZXNzYmFyXFxcIiBhcmlhLXZhbHVlbm93PVxcXCJ7e3ZhbHVlfX1cXFwiIGFyaWEtdmFsdWVtaW49XFxcIjBcXFwiIGFyaWEtdmFsdWVtYXg9XFxcInt7bWF4fX1cXFwiIG5nLXN0eWxlPVxcXCJ7d2lkdGg6IChwZXJjZW50IDwgMTAwID8gcGVyY2VudCA6IDEwMCkgKyAnJSd9XFxcIiBhcmlhLXZhbHVldGV4dD1cXFwie3twZXJjZW50IHwgbnVtYmVyOjB9fSVcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbFwiLFxuICAgIFwiPHNwYW4gbmctbW91c2VsZWF2ZT1cXFwicmVzZXQoKVxcXCIgbmcta2V5ZG93bj1cXFwib25LZXlkb3duKCRldmVudClcXFwiIHRhYmluZGV4PVxcXCIwXFxcIiByb2xlPVxcXCJzbGlkZXJcXFwiIGFyaWEtdmFsdWVtaW49XFxcIjBcXFwiIGFyaWEtdmFsdWVtYXg9XFxcInt7cmFuZ2UubGVuZ3RofX1cXFwiIGFyaWEtdmFsdWVub3c9XFxcInt7dmFsdWV9fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxpIG5nLXJlcGVhdD1cXFwiciBpbiByYW5nZSB0cmFjayBieSAkaW5kZXhcXFwiIG5nLW1vdXNlZW50ZXI9XFxcImVudGVyKCRpbmRleCArIDEpXFxcIiBuZy1jbGljaz1cXFwicmF0ZSgkaW5kZXggKyAxKVxcXCIgY2xhc3M9XFxcImdseXBoaWNvblxcXCIgbmctY2xhc3M9XFxcIiRpbmRleCA8IHZhbHVlICYmIChyLnN0YXRlT24gfHwgJ2dseXBoaWNvbi1zdGFyJykgfHwgKHIuc3RhdGVPZmYgfHwgJ2dseXBoaWNvbi1zdGFyLWVtcHR5JylcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInNyLW9ubHlcXFwiPih7eyAkaW5kZXggPCB2YWx1ZSA/ICcqJyA6ICcgJyB9fSk8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgIDwvaT5cXG5cIiArXG4gICAgXCI8L3NwYW4+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3RhYnMvdGFiLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sXCIsXG4gICAgXCI8bGkgbmctY2xhc3M9XFxcInthY3RpdmU6IGFjdGl2ZSwgZGlzYWJsZWQ6IGRpc2FibGVkfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8YSBocmVmPVxcXCIjXFxcIiBuZy1jbGljaz1cXFwiJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IHNlbGVjdCgpXFxcIiB0YWItaGVhZGluZy10cmFuc2NsdWRlPnt7aGVhZGluZ319PC9hPlxcblwiICtcbiAgICBcIjwvbGk+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sXCIsXG4gICAgXCI8ZGl2PlxcblwiICtcbiAgICBcIiAgPHVsIGNsYXNzPVxcXCJuYXYgbmF2LXt7dHlwZSB8fCAndGFicyd9fVxcXCIgbmctY2xhc3M9XFxcInsnbmF2LXN0YWNrZWQnOiB2ZXJ0aWNhbCwgJ25hdi1qdXN0aWZpZWQnOiBqdXN0aWZpZWR9XFxcIiBuZy10cmFuc2NsdWRlPjwvdWw+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0YWItY29udGVudFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcInRhYi1wYW5lXFxcIiBcXG5cIiArXG4gICAgXCIgICAgICAgICBuZy1yZXBlYXQ9XFxcInRhYiBpbiB0YWJzXFxcIiBcXG5cIiArXG4gICAgXCIgICAgICAgICBuZy1jbGFzcz1cXFwie2FjdGl2ZTogdGFiLmFjdGl2ZX1cXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgdGFiLWNvbnRlbnQtdHJhbnNjbHVkZT1cXFwidGFiXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbFwiLFxuICAgIFwiPHRhYmxlPlxcblwiICtcbiAgICBcIiAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICA8dHIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIiBuZy1zaG93PVxcXCI6OnNob3dTcGlubmVyc1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPjxhIG5nLWNsaWNrPVxcXCJpbmNyZW1lbnRIb3VycygpXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwXFxcIj48L3NwYW4+PC9hPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPiZuYnNwOzwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPjxhIG5nLWNsaWNrPVxcXCJpbmNyZW1lbnRNaW51dGVzKClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXBcXFwiPjwvc3Bhbj48L2E+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctc2hvdz1cXFwic2hvd01lcmlkaWFuXFxcIj48L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiBuZy1jbGFzcz1cXFwieydoYXMtZXJyb3InOiBpbnZhbGlkSG91cnN9XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpbnB1dCBzdHlsZT1cXFwid2lkdGg6NTBweDtcXFwiIHR5cGU9XFxcInRleHRcXFwiIG5nLW1vZGVsPVxcXCJob3Vyc1xcXCIgbmctY2hhbmdlPVxcXCJ1cGRhdGVIb3VycygpXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sIHRleHQtY2VudGVyXFxcIiBuZy1yZWFkb25seT1cXFwiOjpyZWFkb25seUlucHV0XFxcIiBtYXhsZW5ndGg9XFxcIjJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPjo8L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgbmctY2xhc3M9XFxcInsnaGFzLWVycm9yJzogaW52YWxpZE1pbnV0ZXN9XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpbnB1dCBzdHlsZT1cXFwid2lkdGg6NTBweDtcXFwiIHR5cGU9XFxcInRleHRcXFwiIG5nLW1vZGVsPVxcXCJtaW51dGVzXFxcIiBuZy1jaGFuZ2U9XFxcInVwZGF0ZU1pbnV0ZXMoKVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbCB0ZXh0LWNlbnRlclxcXCIgbmctcmVhZG9ubHk9XFxcIjo6cmVhZG9ubHlJbnB1dFxcXCIgbWF4bGVuZ3RoPVxcXCIyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1zaG93PVxcXCJzaG93TWVyaWRpYW5cXFwiPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHRleHQtY2VudGVyXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTWVyaWRpYW4oKVxcXCI+e3ttZXJpZGlhbn19PC9idXR0b24+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgICAgPHRyIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCIgbmctc2hvdz1cXFwiOjpzaG93U3Bpbm5lcnNcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZD48YSBuZy1jbGljaz1cXFwiZGVjcmVtZW50SG91cnMoKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duXFxcIj48L3NwYW4+PC9hPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPiZuYnNwOzwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPjxhIG5nLWNsaWNrPVxcXCJkZWNyZW1lbnRNaW51dGVzKClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93blxcXCI+PC9zcGFuPjwvYT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1zaG93PVxcXCJzaG93TWVyaWRpYW5cXFwiPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3Rib2R5PlxcblwiICtcbiAgICBcIjwvdGFibGU+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbFwiLFxuICAgIFwiPGEgaHJlZj1cXFwiI1xcXCIgbmctY2xpY2s9XFxcIiRldmVudC5wcmV2ZW50RGVmYXVsdCgpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiIGJpbmQtaHRtbC11bnNhZmU9XFxcIm1hdGNoLmxhYmVsIHwgdHlwZWFoZWFkSGlnaGxpZ2h0OnF1ZXJ5XFxcIj48L2E+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbFwiLFxuICAgIFwiPHVsIGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIiBuZy1zaG93PVxcXCJpc09wZW4oKSAmJiAhbW92ZUluUHJvZ3Jlc3NcXFwiIG5nLXN0eWxlPVxcXCJ7dG9wOiBwb3NpdGlvbigpLnRvcCsncHgnLCBsZWZ0OiBwb3NpdGlvbigpLmxlZnQrJ3B4J31cXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBibG9jaztcXFwiIHJvbGU9XFxcImxpc3Rib3hcXFwiIGFyaWEtaGlkZGVuPVxcXCJ7eyFpc09wZW4oKX19XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGxpIG5nLXJlcGVhdD1cXFwibWF0Y2ggaW4gbWF0Y2hlcyB0cmFjayBieSAkaW5kZXhcXFwiIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBpc0FjdGl2ZSgkaW5kZXgpIH1cXFwiIG5nLW1vdXNlZW50ZXI9XFxcInNlbGVjdEFjdGl2ZSgkaW5kZXgpXFxcIiBuZy1jbGljaz1cXFwic2VsZWN0TWF0Y2goJGluZGV4KVxcXCIgcm9sZT1cXFwib3B0aW9uXFxcIiBpZD1cXFwie3s6Om1hdGNoLmlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiB0eXBlYWhlYWQtbWF0Y2ggaW5kZXg9XFxcIiRpbmRleFxcXCIgbWF0Y2g9XFxcIm1hdGNoXFxcIiBxdWVyeT1cXFwicXVlcnlcXFwiIHRlbXBsYXRlLXVybD1cXFwidGVtcGxhdGVVcmxcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2xpPlxcblwiICtcbiAgICBcIjwvdWw+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuIWFuZ3VsYXIuJCRjc3AoKSAmJiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLmZpbmQoJ2hlYWQnKS5wcmVwZW5kKCc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+Lm5nLWFuaW1hdGUuaXRlbTpub3QoLmxlZnQpOm5vdCgucmlnaHQpey13ZWJraXQtdHJhbnNpdGlvbjowcyBlYXNlLWluLW91dCBsZWZ0O3RyYW5zaXRpb246MHMgZWFzZS1pbi1vdXQgbGVmdH08L3N0eWxlPicpO1xuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24ud2lkZ2V0LWJ1dHRvbi10b29sYmFyXCIsIFtcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIl0pXG4gICAgLmRpcmVjdGl2ZShcIndpZGdldEJ1dHRvblRvb2xiYXJcIiwgW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgc2F2ZTogXCImXCIsXG4gICAgICAgICAgY2FuY2VsOiBcIiZcIixcbiAgICAgICAgICBkaXNhYmxlU2F2ZTogXCImXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldChcIl9hbmd1bGFyL3dpZGdldC1idXR0b24tdG9vbGJhci93aWRnZXQtYnV0dG9uLXRvb2xiYXIuaHRtbFwiKVxuICAgICAgfTtcbiAgICB9XSk7XG59KCkpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi53aWRnZXQtYnV0dG9uLXRvb2xiYXJcIik7IH1cbmNhdGNoKGVycikgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi53aWRnZXQtYnV0dG9uLXRvb2xiYXJcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJfYW5ndWxhci93aWRnZXQtYnV0dG9uLXRvb2xiYXIvd2lkZ2V0LWJ1dHRvbi10b29sYmFyLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInB1bGwtcmlnaHRcXFwiPlxcblwiICtcbiAgICBcIiAgPGJ1dHRvbiBpZD1cXFwic2F2ZVxcXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeSBidG4tZml4ZWQtd2lkdGhcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgbmctY2xpY2s9XFxcInNhdmUoKVxcXCIgbmctZGlzYWJsZWQ9XFxcImRpc2FibGVTYXZlKClcXFwiPlxcblwiICtcbiAgICBcIiAgICA8c3Bhbj57e1xcXCJjb21tb24uc2F2ZVxcXCIgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgPGkgY2xhc3M9XFxcImZhIGZhLXdoaXRlIGZhLWNoZWNrIGljb24tcmlnaHRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgPGJ1dHRvbiBpZD1cXFwiY2FuY2VsXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1maXhlZC13aWR0aFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBuZy1jbGljaz1cXFwiY2FuY2VsKClcXFwiPlxcblwiICtcbiAgICBcIiAgICA8c3Bhbj57e1xcXCJjb21tb24uY2FuY2VsXFxcIiB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8aSBjbGFzcz1cXFwiZmEgZmEtd2hpdGUgZmEtdGltZXMgaWNvbi1yaWdodFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udG9vbHRpcFwiLCBbXCJ1aS5ib290c3RyYXBcIl0pXG4gICAgLmRpcmVjdGl2ZShcInJ2VG9vbHRpcFwiLCBbZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiQVwiLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKFwiZmFcIik7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhcImZhLXF1ZXN0aW9uLWNpcmNsZVwiKTtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKFwiZmEtbGdcIik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xufSgpKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udXJsLWZpZWxkXCIsIFtcbiAgICBcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIixcbiAgICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi50b29sdGlwXCJcbiAgXSlcbiAgICAuZGlyZWN0aXZlKFwidXJsRmllbGRcIiwgW1wiJHRlbXBsYXRlQ2FjaGVcIiwgXCIkbG9nXCIsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSwgJGxvZykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiRVwiLFxuICAgICAgICByZXF1aXJlOiBcIj9uZ01vZGVsXCIsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgdXJsOiBcIj1cIixcbiAgICAgICAgICBoaWRlTGFiZWw6IFwiQFwiLFxuICAgICAgICAgIGZpbGVUeXBlOiBcIkBcIlxuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KFwiX2FuZ3VsYXIvdXJsLWZpZWxkL3VybC1maWVsZC5odG1sXCIpLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XG5cbiAgICAgICAgICBmdW5jdGlvbiBoYXNWYWxpZEV4dGVuc2lvbih1cmwsIGZpbGVUeXBlKSB7XG4gICAgICAgICAgICB2YXIgdGVzdFVybCA9IHVybC50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICBleHRlbnNpb25zO1xuXG4gICAgICAgICAgICBzd2l0Y2goZmlsZVR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcImltYWdlXCI6XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucyA9IFtcIi5qcGdcIiwgXCIuanBlZ1wiLCBcIi5wbmdcIiwgXCIuYm1wXCIsIFwiLnN2Z1wiLCBcIi5naWZcIl07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJ2aWRlb1wiOlxuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMgPSBbXCIud2VibVwiLCBcIi5tcDRcIiwgXCIub2d2XCIsIFwiLm9nZ1wiXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBleHRlbnNpb25zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICh0ZXN0VXJsLmluZGV4T2YoZXh0ZW5zaW9uc1tpXSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGhlIFVSTCBwb2ludHMgdG8gYSB2YWxpZCBpbWFnZSBmaWxlLlxuICAgICAgICAgIGZ1bmN0aW9uIHRlc3RJbWFnZSgpIHtcbiAgICAgICAgICAgIGlmICgoc2NvcGUuZmlsZVR5cGUgIT09IFwidW5kZWZpbmVkXCIpICYmIChzY29wZS51cmwgIT09IFwidW5kZWZpbmVkXCIpKSB7XG4gICAgICAgICAgICAgIGlmIChzY29wZS5maWxlVHlwZSA9PT0gXCJpbWFnZVwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBzY29wZS52YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgc2NvcGUuaW52YWxpZFR5cGUgPSBzY29wZS5maWxlVHlwZTtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSBzY29wZS51cmw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiB0ZXN0VXJsKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgdXJsUmVnRXhwLFxuICAgICAgICAgICAgICBpc1ZhbGlkO1xuXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgIERpc2N1c3Npb25cbiAgICAgICAgICAgICBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM3Njg0L2hvdy10by1yZXBsYWNlLXBsYWluLXVybHMtd2l0aC1saW5rcyMyMTkyNTQ5MVxuXG4gICAgICAgICAgICAgVXNpbmdcbiAgICAgICAgICAgICBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9kcGVyaW5pLzcyOTI5NFxuICAgICAgICAgICAgIFJlYXNvbmluZ1xuICAgICAgICAgICAgIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vdXJsLXJlZ2V4ICovXG5cbiAgICAgICAgICAgIHVybFJlZ0V4cCA9IC9eKD86KD86aHR0cHM/fGZ0cCk6XFwvXFwvKSg/OlxcUysoPzo6XFxTKik/QCk/KD86KD8hKD86MTB8MTI3KSg/OlxcLlxcZHsxLDN9KXszfSkoPyEoPzoxNjlcXC4yNTR8MTkyXFwuMTY4KSg/OlxcLlxcZHsxLDN9KXsyfSkoPyExNzJcXC4oPzoxWzYtOV18MlxcZHwzWzAtMV0pKD86XFwuXFxkezEsM30pezJ9KSg/OlsxLTldXFxkP3wxXFxkXFxkfDJbMDFdXFxkfDIyWzAtM10pKD86XFwuKD86MT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkpezJ9KD86XFwuKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNF0pKXwoPzooPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSstPykqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSg/OlxcLig/OlthLXpcXHUwMGExLVxcdWZmZmYwLTldKy0/KSpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSspKig/OlxcLig/OlthLXpcXHUwMGExLVxcdWZmZmZdezIsfSkpKSg/OjpcXGR7Miw1fSk/KD86XFwvW15cXHNdKik/JC9pOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuICAgICAgICAgICAgLy8gQWRkIGh0dHA6Ly8gaWYgbm8gcHJvdG9jb2wgcGFyYW1ldGVyIGV4aXN0c1xuICAgICAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YoXCI6Ly9cIikgPT09IC0xKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gXCJodHRwOi8vXCIgKyB2YWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXNWYWxpZCA9IHVybFJlZ0V4cC50ZXN0KHZhbHVlKTtcblxuICAgICAgICAgICAgaWYgKGlzVmFsaWQgJiYgdHlwZW9mIHNjb3BlLmZpbGVUeXBlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgIGlzVmFsaWQgPSBoYXNWYWxpZEV4dGVuc2lvbih2YWx1ZSwgc2NvcGUuZmlsZVR5cGUpO1xuICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5pbnZhbGlkVHlwZSA9IHNjb3BlLmZpbGVUeXBlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzY29wZS5pbnZhbGlkVHlwZSA9IFwidXJsXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgIHRlc3RJbWFnZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBCeSBkZWZhdWx0IGVuZm9yY2UgdmFsaWRhdGlvblxuICAgICAgICAgIHNjb3BlLmRvVmFsaWRhdGlvbiA9IHRydWU7XG4gICAgICAgICAgLy8gQSBmbGFnIHRvIHNldCBpZiB0aGUgdXNlciB0dXJuZWQgb2ZmIHZhbGlkYXRpb25cbiAgICAgICAgICBzY29wZS5mb3JjZWRWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIC8vIFZhbGlkYXRpb24gc3RhdGVcbiAgICAgICAgICBzY29wZS52YWxpZCA9IHRydWU7XG5cbiAgICAgICAgICBzY29wZS5pbnZhbGlkVHlwZSA9IFwidXJsXCI7XG5cbiAgICAgICAgICBzY29wZS5hbGxvd0luaXRFbXB0eSA9ICh0eXBlb2YgYXR0cnMuaW5pdEVtcHR5ICE9PSBcInVuZGVmaW5lZFwiKTtcblxuICAgICAgICAgIHNjb3BlLmJsdXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNjb3BlLiRlbWl0KFwidXJsRmllbGRCbHVyXCIpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBzY29wZS4kd2F0Y2goXCJ1cmxcIiwgZnVuY3Rpb24gKHVybCkge1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHVybCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB1cmwgIT09IG51bGwpIHtcblxuICAgICAgICAgICAgICBpZiAodXJsICE9PSBcIlwiICYmIHNjb3BlLmFsbG93SW5pdEVtcHR5KSB7XG4gICAgICAgICAgICAgICAgLy8gZW5zdXJlIGFuIGVtcHR5IFwiXCIgdmFsdWUgbm93IGdldHMgdmFsaWRhdGVkXG4gICAgICAgICAgICAgICAgc2NvcGUuYWxsb3dJbml0RW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChzY29wZS5kb1ZhbGlkYXRpb24gJiYgIXNjb3BlLmFsbG93SW5pdEVtcHR5KSB7XG4gICAgICAgICAgICAgICAgc2NvcGUudmFsaWQgPSB0ZXN0VXJsKHNjb3BlLnVybCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHNjb3BlLiR3YXRjaChcInZhbGlkXCIsIGZ1bmN0aW9uICh2YWxpZCkge1xuICAgICAgICAgICAgaWYgKGN0cmwpIHtcbiAgICAgICAgICAgICAgJGxvZy5pbmZvKFwiQ2FsbGluZyAkc2V0VmFsaWRpdHkoKSBvbiBwYXJlbnQgY29udHJvbGxlclwiKTtcbiAgICAgICAgICAgICAgY3RybC4kc2V0VmFsaWRpdHkoXCJ2YWxpZFwiLCB2YWxpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzY29wZS4kd2F0Y2goXCJkb1ZhbGlkYXRpb25cIiwgZnVuY3Rpb24gKGRvVmFsaWRhdGlvbikge1xuICAgICAgICAgICAgaWYodHlwZW9mIHNjb3BlLnVybCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICBpZiAoZG9WYWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZm9yY2VkVmFsaWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmICghc2NvcGUuYWxsb3dJbml0RW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gdGVzdFVybChzY29wZS51cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY29wZS5mb3JjZWRWYWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2NvcGUudmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSk7XG59KCkpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi51cmwtZmllbGRcIik7IH1cbmNhdGNoKGVycikgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi51cmwtZmllbGRcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJfYW5ndWxhci91cmwtZmllbGQvdXJsLWZpZWxkLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiID5cXG5cIiArXG4gICAgXCIgIDxsYWJlbCBuZy1pZj1cXFwiIWhpZGVMYWJlbFxcXCI+e3sgXFxcInVybC5sYWJlbFxcXCIgfCB0cmFuc2xhdGUgfX08L2xhYmVsPlxcblwiICtcbiAgICBcIiAgPGRpdj5cXG5cIiArXG4gICAgXCIgICAgPGlucHV0IG5hbWU9XFxcInVybFxcXCIgdHlwZT1cXFwidGV4dFxcXCIgbmctbW9kZWw9XFxcInVybFxcXCIgbmctYmx1cj1cXFwiYmx1cigpXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBwbGFjZWhvbGRlcj1cXFwiaHR0cDovL1xcXCI+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxwIG5nLWlmPVxcXCIhdmFsaWQgJiYgaW52YWxpZFR5cGUgPT09ICd1cmwnXFxcIiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiPnt7IFxcXCJ1cmwuZXJyb3JzLnVybFxcXCIgfCB0cmFuc2xhdGUgfX08L3A+XFxuXCIgK1xuICAgIFwiICA8cCBuZy1pZj1cXFwiIXZhbGlkICYmIGludmFsaWRUeXBlID09PSAnaW1hZ2UnXFxcIiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiPnt7IFxcXCJ1cmwuZXJyb3JzLmltYWdlXFxcIiB8IHRyYW5zbGF0ZSB9fTwvcD5cXG5cIiArXG4gICAgXCIgIDxwIG5nLWlmPVxcXCIhdmFsaWQgJiYgaW52YWxpZFR5cGUgPT09ICd2aWRlbydcXFwiIGNsYXNzPVxcXCJ0ZXh0LWRhbmdlclxcXCI+e3sgXFxcInVybC5lcnJvcnMudmlkZW9cXFwiIHwgdHJhbnNsYXRlIH19PC9wPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiY2hlY2tib3hcXFwiIG5nLXNob3c9XFxcImZvcmNlZFZhbGlkIHx8ICF2YWxpZFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxsYWJlbD5cXG5cIiArXG4gICAgXCIgICAgICA8aW5wdXQgbmFtZT1cXFwidmFsaWRhdGUtdXJsXFxcIiBuZy1jbGljaz1cXFwiZG9WYWxpZGF0aW9uID0gIWRvVmFsaWRhdGlvblxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgIHZhbHVlPVxcXCJ2YWxpZGF0ZS11cmxcXFwiPiB7e1xcXCJ1cmwudmFsaWRhdGUubGFiZWxcXFwiIHwgdHJhbnNsYXRlfX1cXG5cIiArXG4gICAgXCIgICAgPC9sYWJlbD5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbi8qIGV4cG9ydGVkIGNvbmZpZyAqL1xudmFyIGNvbmZpZyA9IHtcbiAgU1RPUkFHRV9FTlY6IFwicHJvZFwiXG59O1xuXG5pZiAoIHR5cGVvZiBhbmd1bGFyICE9PSBcInVuZGVmaW5lZFwiICkge1xuICBhbmd1bGFyLm1vZHVsZSggXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuLmNvbmZpZ1wiLCBbXSApXG4gICAgLmNvbnN0YW50KCBcIkxPQ0FMRVNfUFJFRklYXCIsIFwibG9jYWxlcy90cmFuc2xhdGlvbl9cIiApXG4gICAgLmNvbnN0YW50KCBcIkxPQ0FMRVNfU1VGSVhcIiwgXCIuanNvblwiICk7XG59XG5cbmFuZ3VsYXIubW9kdWxlKCBcInJpc2V2aXNpb24ud2lkZ2V0LndlYi1wYWdlLnNldHRpbmdzXCIsIFtcbiAgXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLndpZGdldC1idXR0b24tdG9vbGJhclwiLFxuICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi50b29sdGlwXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnVybC1maWVsZFwiXG5dICk7XG5cblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIiwgW10pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuY29udHJvbGxlcihcInNldHRpbmdzQ29udHJvbGxlclwiLCBbXCIkc2NvcGVcIiwgXCJzZXR0aW5nc1NhdmVyXCIsIFwic2V0dGluZ3NHZXR0ZXJcIiwgXCJzZXR0aW5nc0Nsb3NlclwiLFxuICAgIGZ1bmN0aW9uICgkc2NvcGUsIHNldHRpbmdzU2F2ZXIsIHNldHRpbmdzR2V0dGVyLCBzZXR0aW5nc0Nsb3Nlcikge1xuXG4gICAgJHNjb3BlLnNldHRpbmdzID0geyBwYXJhbXM6IHt9LCBhZGRpdGlvbmFsUGFyYW1zOiB7fX07XG4gICAgJHNjb3BlLmFsZXJ0cyA9IFtdO1xuXG4gICAgJHNjb3BlLmdldEFkZGl0aW9uYWxQYXJhbSA9IGZ1bmN0aW9uIChuYW1lLCBkZWZhdWx0VmFsKSB7XG4gICAgICB2YXIgdmFsID0gJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXNbbmFtZV07XG4gICAgICBpZihhbmd1bGFyLmlzVW5kZWZpbmVkKHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWw7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgJHNjb3BlLnNldEFkZGl0aW9uYWxQYXJhbSA9IGZ1bmN0aW9uIChuYW1lLCB2YWwpIHtcbiAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zW25hbWVdID0gdmFsO1xuICAgIH07XG5cbiAgICAkc2NvcGUubG9hZEFkZGl0aW9uYWxQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBzZXR0aW5nc0dldHRlci5nZXRBZGRpdGlvbmFsUGFyYW1zKCkudGhlbihmdW5jdGlvbiAoYWRkaXRpb25hbFBhcmFtcykge1xuICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcyA9IGFkZGl0aW9uYWxQYXJhbXM7XG4gICAgICAgICRzY29wZS4kYnJvYWRjYXN0KFwibG9hZEFkZGl0aW9uYWxQYXJhbXNcIiwgYWRkaXRpb25hbFBhcmFtcyk7XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24gKGVycikge2FsZXJ0IChlcnIpOyB9KTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNldEFkZGl0aW9uYWxQYXJhbXMgPSBmdW5jdGlvbiAobmFtZSwgdmFsKSB7XG4gICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtc1tuYW1lXSA9IHZhbDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNhdmVTZXR0aW5ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vY2xlYXIgb3V0IHByZXZpb3VzIGFsZXJ0cywgaWYgYW55XG4gICAgICAkc2NvcGUuYWxlcnRzID0gW107XG5cbiAgICAgICRzY29wZS4kYnJvYWRjYXN0KFwiY29sbGVjdEFkZGl0aW9uYWxQYXJhbXNcIik7XG5cbiAgICAgIHNldHRpbmdzU2F2ZXIuc2F2ZVNldHRpbmdzKCRzY29wZS5zZXR0aW5ncykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vVE9ETzogcGVyaGFwcyBzaG93IHNvbWUgaW5kaWNhdG9yIGluIFVJP1xuICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAkc2NvcGUuYWxlcnRzID0gZXJyLmFsZXJ0cztcbiAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgICRzY29wZS5jbG9zZVNldHRpbmdzID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZXR0aW5nc0Nsb3Nlci5jbG9zZVNldHRpbmdzKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vVE9ETzpcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgJHNjb3BlLmFsZXJ0cyA9IGVyci5hbGVydHM7XG4gICAgICB9KTtcblxuICAgIH07XG5cbiAgICAkc2NvcGUuc2V0dGluZ3MucGFyYW1zID0gc2V0dGluZ3NHZXR0ZXIuZ2V0UGFyYW1zKCk7XG4gICAgJHNjb3BlLmxvYWRBZGRpdGlvbmFsUGFyYW1zKCk7XG4gIH1dKVxuXG4gIC5kaXJlY3RpdmUoXCJzY3JvbGxPbkFsZXJ0c1wiLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6IFwiQVwiLCAvL3Jlc3RyaWN0cyB0byBhdHRyaWJ1dGVzXG4gICAgICBzY29wZTogZmFsc2UsXG4gICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsICRlbG0pIHtcbiAgICAgICAgJHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oXCJhbGVydHNcIiwgZnVuY3Rpb24gKG5ld0FsZXJ0cywgb2xkQWxlcnRzKSB7XG4gICAgICAgICAgaWYobmV3QWxlcnRzLmxlbmd0aCA+IDAgJiYgb2xkQWxlcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgJChcImJvZHlcIikuYW5pbWF0ZSh7c2Nyb2xsVG9wOiAkZWxtLm9mZnNldCgpLnRvcH0sIFwiZmFzdFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIilcbiAgLmNvbnN0YW50KFwiU1RPUkFHRV9GSUxFX1VSTF9CQVNFXCIsIFwic3RvcmFnZS5nb29nbGVhcGlzLmNvbS9yaXNlbWVkaWFsaWJyYXJ5LVwiKVxuICAuY29uc3RhbnQoXCJTVE9SQUdFX0ZPTERFUl9VUkxfQkFTRVwiLCBcImdvb2dsZWFwaXMuY29tL3N0b3JhZ2UvXCIpXG4gIC5mYWN0b3J5KFwiY29tbW9uU2V0dGluZ3NcIiwgW1wiJGxvZ1wiLCBcIlNUT1JBR0VfRklMRV9VUkxfQkFTRVwiLCBcIlNUT1JBR0VfRk9MREVSX1VSTF9CQVNFXCIsXG4gICAgZnVuY3Rpb24gKCRsb2csIFNUT1JBR0VfRklMRV9VUkxfQkFTRSwgU1RPUkFHRV9GT0xERVJfVVJMX0JBU0UpIHtcblxuICAgIHZhciBmYWN0b3J5ID0ge1xuICAgICAgZ2V0U3RvcmFnZVVybERhdGE6IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdmFyIHN0b3JhZ2UgPSB7fSxcbiAgICAgICAgICBzdHIsIGFyciwgcGFyYW1zLCBwYWlyO1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldFN0b3JhZ2VUeXBlKHN0b3JhZ2VVcmwpIHtcbiAgICAgICAgICBpZiAoc3RvcmFnZVVybC5pbmRleE9mKFNUT1JBR0VfRklMRV9VUkxfQkFTRSkgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJmaWxlXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHN0b3JhZ2VVcmwuaW5kZXhPZihTVE9SQUdFX0ZPTERFUl9VUkxfQkFTRSkgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJmb2xkZXJcIjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldENvbXBhbnlJZChzdG9yYWdlVXJsKSB7XG4gICAgICAgICAgdmFyIHAgPSBzdG9yYWdlVXJsLnNwbGl0KFwicmlzZW1lZGlhbGlicmFyeS1cIik7XG5cbiAgICAgICAgICByZXR1cm4gcFsxXS5zbGljZSgwLCBwWzFdLmluZGV4T2YoXCIvXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnZXRTdG9yYWdlVHlwZSh1cmwpID09PSBcImZpbGVcIikge1xuICAgICAgICAgIHN0ciA9IHVybC5zcGxpdChTVE9SQUdFX0ZJTEVfVVJMX0JBU0UpWzFdO1xuICAgICAgICAgIHN0ciA9IGRlY29kZVVSSUNvbXBvbmVudChzdHIuc2xpY2Uoc3RyLmluZGV4T2YoXCIvXCIpICsgMSkpO1xuICAgICAgICAgIGFyciA9IHN0ci5zcGxpdChcIi9cIik7XG5cbiAgICAgICAgICBzdG9yYWdlLmNvbXBhbnlJZCA9IGdldENvbXBhbnlJZCh1cmwpO1xuICAgICAgICAgIHN0b3JhZ2UuZmlsZU5hbWUgPSBhcnIucG9wKCk7XG4gICAgICAgICAgc3RvcmFnZS5mb2xkZXIgPSBhcnIubGVuZ3RoID4gMCA/IGFyci5qb2luKFwiL1wiKSA6IFwiXCI7XG5cbiAgICAgICAgICBpZiAoc3RvcmFnZS5mb2xkZXIgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIC8vIGFkZCBlbmRpbmcgXCIvXCIgdG8gdGhlIGZvbGRlciBwYXRoXG4gICAgICAgICAgICBzdG9yYWdlLmZvbGRlciArPSBcIi9cIjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2V0U3RvcmFnZVR5cGUodXJsKSA9PT0gXCJmb2xkZXJcIikge1xuICAgICAgICAgIHBhcmFtcyA9IHVybC5zcGxpdChcIj9cIik7XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpciA9IHBhcmFtc1tpXS5zcGxpdChcIj1cIik7XG5cbiAgICAgICAgICAgIGlmIChwYWlyWzBdID09PSBcInByZWZpeFwiICYmIHR5cGVvZiBwYWlyWzFdICE9PSBcInVuZGVmaW5lZFwiICYmIHBhaXJbMV0gIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgc3RvcmFnZS5jb21wYW55SWQgPSBnZXRDb21wYW55SWQodXJsKTtcbiAgICAgICAgICAgICAgc3RvcmFnZS5mb2xkZXIgPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICAgICAgICAgIHN0b3JhZ2UuZmlsZU5hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RvcmFnZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGZhY3Rvcnk7XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIilcbiAgLmZhY3RvcnkoXCJnYWRnZXRzQXBpXCIsIFtcIiR3aW5kb3dcIiwgZnVuY3Rpb24gKCR3aW5kb3cpIHtcbiAgICByZXR1cm4gJHdpbmRvdy5nYWRnZXRzO1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5mYWN0b3J5KFwiZ29vZ2xlRm9udExvYWRlclwiLCBbXCIkaHR0cFwiLCBcImFuZ3VsYXJMb2FkXCIsIGZ1bmN0aW9uICgkaHR0cCwgYW5ndWxhckxvYWQpIHtcblxuICAgIHZhciBmYWN0b3J5ID0ge30sXG4gICAgICBhbGxGb250cyA9IFtdO1xuXG4gICAgZmFjdG9yeS5nZXRHb29nbGVGb250cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGFsbEZvbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBHZXQgbGlzdCBvZiBHb29nbGUgZm9udHMgc29ydGVkIGFscGhhYmV0aWNhbGx5LlxuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vd2ViZm9udHMvdjEvd2ViZm9udHM/a2V5PUFJemFTeUJYeFZLX0lPVjdMTlFNdVZWb19sN1p2TjUzZWpOODZ6WSZzb3J0PWFscGhhXCIsIHsgY2FjaGU6IHRydWUgfSlcbiAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChyZXNwLmRhdGEgJiYgcmVzcC5kYXRhLml0ZW1zKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSByZXNwLmRhdGEuaXRlbXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpdGVtID0gcmVzcC5kYXRhLml0ZW1zW2ldO1xuXG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgcmV0dXJuIHRob3NlIGZvbnRzIHRoYXQgaGF2ZSBhIHN1YnNldCBvZiBcImtobWVyXCIuXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uc3Vic2V0cyAmJiAoaXRlbS5zdWJzZXRzLmxlbmd0aCA9PT0gMSkgJiZcbiAgICAgICAgICAgICAgICAgIChpdGVtLnN1YnNldHNbMF0udG9Mb3dlckNhc2UoKSA9PT0gXCJraG1lclwiKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhbGxGb250cy5wdXNoKGl0ZW0uZmFtaWx5KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBsb2FkRm9udHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbG9hZEZvbnRzKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qIEZpbHRlciBsaXN0IG9mIGZvbnRzIHRvIG9ubHkgcmV0dXJuIHRob3NlIHRoYXQgYXJlIEdvb2dsZSBmb250cy4gKi9cbiAgICBmYWN0b3J5LmdldEZvbnRzVXNlZCA9IGZ1bmN0aW9uKGZhbWlseUxpc3QpIHtcbiAgICAgIHZhciBmb250c1VzZWQgPSBbXTtcblxuICAgICAgYW5ndWxhci5mb3JFYWNoKGFsbEZvbnRzLCBmdW5jdGlvbiAoZmFtaWx5KSB7XG4gICAgICAgIGlmIChmYW1pbHlMaXN0LmluZGV4T2YoZmFtaWx5KSAhPT0gLTEpIHtcbiAgICAgICAgICBmb250c1VzZWQucHVzaChmYW1pbHkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGZvbnRzVXNlZDtcbiAgICB9O1xuXG4gICAgLyogTG9hZCB0aGUgR29vZ2xlIGZvbnRzLiAqL1xuICAgIGZ1bmN0aW9uIGxvYWRGb250cygpIHtcbiAgICAgIHZhciBmYW1pbHkgPSBcIlwiLFxuICAgICAgICBmb250cyA9IFwiXCIsXG4gICAgICAgIHVybCA9IFwiXCIsXG4gICAgICAgIHVybHMgPSBbXSxcbiAgICAgICAgc3BhY2VzID0gZmFsc2UsXG4gICAgICAgIGZhbGxiYWNrID0gXCIsc2Fucy1zZXJpZjtcIixcbiAgICAgICAgZm9udEJhc2VVcmwgPSBcIi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1cIixcbiAgICAgICAgZXhjbHVkZSA9IFtcIkJ1ZGFcIiwgXCJDb2RhIENhcHRpb25cIiwgXCJPcGVuIFNhbnMgQ29uZGVuc2VkXCIsIFwiVW5pZnJha3R1ckNvb2tcIiwgXCJNb2xsZVwiXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxGb250cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBmYW1pbHkgPSBhbGxGb250c1tpXTtcblxuICAgICAgICBpZiAoZXhjbHVkZS5pbmRleE9mKGZhbWlseSkgPT09IC0xKSB7XG4gICAgICAgICAgdXJsID0gZm9udEJhc2VVcmwgKyBmYW1pbHk7XG5cbiAgICAgICAgICBhbmd1bGFyTG9hZC5sb2FkQ1NTKHVybCk7XG4gICAgICAgICAgdXJscy5wdXNoKHVybCk7XG5cbiAgICAgICAgICAvLyBjaGVjayBmb3Igc3BhY2VzIGluIGZhbWlseSBuYW1lXG4gICAgICAgICAgaWYgKC9cXHMvLnRlc3QoZmFtaWx5KSkge1xuICAgICAgICAgICAgc3BhY2VzID0gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc3BhY2VzKSB7XG4gICAgICAgICAgICAvLyB3cmFwIGZhbWlseSBuYW1lIGluIHNpbmdsZSBxdW90ZXNcbiAgICAgICAgICAgIGZvbnRzICs9IGZhbWlseSArIFwiPSdcIiArIGZhbWlseSArIFwiJ1wiICsgZmFsbGJhY2s7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9udHMgKz0gZmFtaWx5ICsgXCI9XCIgKyBmYW1pbHkgKyBmYWxsYmFjaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgZm9udHM6IGZvbnRzLCB1cmxzOiB1cmxzIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhY3Rvcnk7XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIilcbiAgLnNlcnZpY2UoXCJpMThuTG9hZGVyXCIsIFtcIiR3aW5kb3dcIiwgXCIkcVwiLCBmdW5jdGlvbiAoJHdpbmRvdywgJHEpIHtcbiAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgJHdpbmRvdy5pMThuLmluaXQoeyBcbiAgICAgIGZhbGxiYWNrTG5nOiBcImVuXCIsXG4gICAgICByZXNHZXRQYXRoOiBcImxvY2FsZXMvX19uc19fX19fbG5nX18uanNvblwiXG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkd2luZG93LmkxOG4pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5mYWN0b3J5KFwiaW1hZ2VWYWxpZGF0b3JcIiwgW1wiJHFcIiwgZnVuY3Rpb24gKCRxKSB7XG4gICAgdmFyIGZhY3RvcnkgPSB7XG4gICAgICAvLyBWZXJpZnkgdGhhdCBVUkwgaXMgYSB2YWxpZCBpbWFnZSBmaWxlLlxuICAgICAgaXNJbWFnZTogZnVuY3Rpb24oc3JjKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCksXG4gICAgICAgICAgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpbWFnZS5zcmMgPSBzcmM7XG5cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmYWN0b3J5O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5zZXJ2aWNlKFwic2V0dGluZ3NTYXZlclwiLCBbXCIkcVwiLCBcIiRsb2dcIiwgXCJnYWRnZXRzQXBpXCIsIFwic2V0dGluZ3NQYXJzZXJcIixcbiAgZnVuY3Rpb24gKCRxLCAkbG9nLCBnYWRnZXRzQXBpLCBzZXR0aW5nc1BhcnNlcikge1xuXG4gICAgdGhpcy5zYXZlU2V0dGluZ3MgPSBmdW5jdGlvbiAoc2V0dGluZ3MsIHZhbGlkYXRvcikge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgIHZhciBhbGVydHMgPSBbXSwgc3RyID0gXCJcIjtcblxuICAgICAgc2V0dGluZ3MgPSBwcm9jZXNzU2V0dGluZ3Moc2V0dGluZ3MpO1xuXG4gICAgICBpZiAodmFsaWRhdG9yKSB7XG4gICAgICAgIGFsZXJ0cyA9IHZhbGlkYXRvcihzZXR0aW5ncyk7XG4gICAgICB9XG5cbiAgICAgIGlmKGFsZXJ0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICRsb2cuZGVidWcoXCJWYWxpZGF0aW9uIGZhaWxlZC5cIiwgYWxlcnRzKTtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KHthbGVydHM6IGFsZXJ0c30pO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2V0dGluZ3MucGFyYW1zLmhhc093blByb3BlcnR5KFwibGF5b3V0VVJMXCIpKSB7XG4gICAgICAgIC8vIGVuc3VyZSB0aGUgdXJsIGlzIHRoZSBzdGFydCBvZiB0aGUgc3RyaW5nXG4gICAgICAgIHN0ciArPSBzZXR0aW5ncy5wYXJhbXMubGF5b3V0VVJMICsgXCI/XCI7XG4gICAgICAgIC8vIGRlbGV0ZSB0aGlzIHByb3BlcnR5IHNvIGl0cyBub3QgaW5jbHVkZWQgYmVsb3cgaW4gZW5jb2RlUGFyYW1zIGNhbGxcbiAgICAgICAgZGVsZXRlIHNldHRpbmdzLnBhcmFtcy5sYXlvdXRVUkw7XG4gICAgICB9XG5cbiAgICAgIHN0ciArPSBzZXR0aW5nc1BhcnNlci5lbmNvZGVQYXJhbXMoc2V0dGluZ3MucGFyYW1zKTtcblxuICAgICAgdmFyIGFkZGl0aW9uYWxQYXJhbXNTdHIgPVxuICAgICAgICBzZXR0aW5nc1BhcnNlci5lbmNvZGVBZGRpdGlvbmFsUGFyYW1zKHNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMpO1xuXG4gICAgICBnYWRnZXRzQXBpLnJwYy5jYWxsKFwiXCIsIFwicnNjbWRfc2F2ZVNldHRpbmdzXCIsIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgJGxvZy5kZWJ1ZyhcImVuY29kZWQgc2V0dGluZ3NcIiwgSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XG4gICAgICAgICRsb2cuZGVidWcoXCJTZXR0aW5ncyBzYXZlZC4gXCIsIHNldHRpbmdzKTtcblxuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICB9LCB7XG4gICAgICAgIHBhcmFtczogc3RyLFxuICAgICAgICBhZGRpdGlvbmFsUGFyYW1zOiBhZGRpdGlvbmFsUGFyYW1zU3RyXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NTZXR0aW5ncyhzZXR0aW5ncykge1xuICAgICAgdmFyIG5ld1NldHRpbmdzID0gYW5ndWxhci5jb3B5KHNldHRpbmdzKTtcblxuICAgICAgZGVsZXRlIG5ld1NldHRpbmdzLnBhcmFtcy5pZDtcbiAgICAgIGRlbGV0ZSBuZXdTZXR0aW5ncy5wYXJhbXMuY29tcGFueUlkO1xuICAgICAgZGVsZXRlIG5ld1NldHRpbmdzLnBhcmFtcy5yc1c7XG4gICAgICBkZWxldGUgbmV3U2V0dGluZ3MucGFyYW1zLnJzSDtcblxuICAgICAgcmV0dXJuIG5ld1NldHRpbmdzO1xuICAgIH1cblxuICB9XSlcblxuICAuc2VydmljZShcInNldHRpbmdzR2V0dGVyXCIsIFtcIiRxXCIsIFwiZ2FkZ2V0c0FwaVwiLCBcIiRsb2dcIiwgXCJzZXR0aW5nc1BhcnNlclwiLCBcIiR3aW5kb3dcIiwgXCJkZWZhdWx0U2V0dGluZ3NcIixcbiAgICBmdW5jdGlvbiAoJHEsIGdhZGdldHNBcGksICRsb2csIHNldHRpbmdzUGFyc2VyLCAkd2luZG93LCBkZWZhdWx0U2V0dGluZ3MpIHtcblxuICAgICAgdGhpcy5nZXRBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICB2YXIgZGVmYXVsdEFkZGl0aW9uYWxQYXJhbXMgPSBkZWZhdWx0U2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcyB8fCB7fTtcblxuICAgICAgICBnYWRnZXRzQXBpLnJwYy5jYWxsKFwiXCIsIFwicnNjbWRfZ2V0QWRkaXRpb25hbFBhcmFtc1wiLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gc2V0dGluZ3NQYXJzZXIucGFyc2VBZGRpdGlvbmFsUGFyYW1zKHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0ge307XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJGxvZy5kZWJ1ZyhcImdldEFkZGl0aW9uYWxQYXJhbXMgcmV0dXJucyBcIiwgcmVzdWx0KTtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCQuZXh0ZW5kKHRydWUsIGRlZmF1bHRBZGRpdGlvbmFsUGFyYW1zLCByZXN1bHQpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmdldFBhcmFtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRQYXJhbXMgPSBkZWZhdWx0U2V0dGluZ3MucGFyYW1zIHx8IHt9O1xuICAgICAgICByZXR1cm4gYW5ndWxhci5leHRlbmQoZGVmYXVsdFBhcmFtcyxcbiAgICAgICAgICBzZXR0aW5nc1BhcnNlci5wYXJzZVBhcmFtcygkd2luZG93LmxvY2F0aW9uLnNlYXJjaCkpO1xuICAgICAgfTtcbiAgfV0pXG5cbiAgLnNlcnZpY2UoXCJzZXR0aW5nc1BhcnNlclwiLCBbZnVuY3Rpb24gKCkge1xuICAgIHRoaXMucGFyc2VBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKGFkZGl0aW9uYWxQYXJhbXNTdHIpIHtcbiAgICAgIGlmKGFkZGl0aW9uYWxQYXJhbXNTdHIpIHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoYWRkaXRpb25hbFBhcmFtc1N0cik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmVuY29kZUFkZGl0aW9uYWxQYXJhbXMgPSBmdW5jdGlvbiAoYWRkaXRpb25hbFBhcmFtcykge1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFkZGl0aW9uYWxQYXJhbXMpO1xuICAgIH07XG5cbiAgICB0aGlzLmVuY29kZVBhcmFtcyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgIHZhciBzdHIgPSBbXTtcbiAgICAgIGZvcih2YXIgcCBpbiBwYXJhbXMpIHtcbiAgICAgICAgaWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtc1twXSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeShwYXJhbXNbcF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gcGFyYW1zW3BdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdHIucHVzaChcInVwX1wiICsgZW5jb2RlVVJJQ29tcG9uZW50KHApICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RyLmpvaW4oXCImXCIpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzdHJpcFByZWZpeChuYW1lKSB7XG4gICAgICBpZihuYW1lLmluZGV4T2YoXCJ1cF9cIikgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5hbWUuc2xpY2UoMyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5wYXJzZVBhcmFtcyA9IGZ1bmN0aW9uIChwYXJhbXNTdHIpIHtcbiAgICAgIC8vZ2V0IHJpZCBvZiBwcmVjZWVkaW5nIFwiP1wiXG4gICAgICBpZihwYXJhbXNTdHJbMF0gPT09IFwiP1wiKSB7XG4gICAgICAgIHBhcmFtc1N0ciA9IHBhcmFtc1N0ci5zbGljZSgxKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIHZhciB2YXJzID0gcGFyYW1zU3RyLnNwbGl0KFwiJlwiKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xuICAgICAgICB2YXIgbmFtZSA9IHN0cmlwUHJlZml4KGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzBdKSk7XG4gICAgICAgIC8vc2F2ZSBzZXR0aW5ncyBvbmx5IGlmIGl0IGhhcyB1cF8gcHJlZml4LiBJZ25vcmUgb3RoZXJ3aXNlXG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdFtuYW1lXSA9IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlc3VsdFtuYW1lXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICB9XSlcblxuICAuc2VydmljZShcInNldHRpbmdzQ2xvc2VyXCIsIFtcIiRxXCIsIFwiJGxvZ1wiLCBcImdhZGdldHNBcGlcIixcbiAgZnVuY3Rpb24gKCRxLCAkbG9nLCBnYWRnZXRzQXBpKSB7XG5cbiAgICB0aGlzLmNsb3NlU2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICBnYWRnZXRzQXBpLnJwYy5jYWxsKFwiXCIsIFwicnNjbWRfY2xvc2VTZXR0aW5nc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICB9XSlcblxuICAudmFsdWUoXCJkZWZhdWx0U2V0dGluZ3NcIiwge30pO1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udmlzdWFsaXphdGlvblwiLCBbXSlcbiAgICAuZmFjdG9yeShcInZpc3VhbGl6YXRpb25BcGlcIiwgW1wiJHFcIiwgXCIkd2luZG93XCIsIGZ1bmN0aW9uICgkcSwgJHdpbmRvdykge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgIHZhciBwcm9taXNlO1xuXG4gICAgICB2YXIgZmFjdG9yeSA9IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKCFwcm9taXNlKSB7XG4gICAgICAgICAgICBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICAgIGlmICghJHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbikge1xuICAgICAgICAgICAgICAkd2luZG93Lmdvb2dsZS5zZXRPbkxvYWRDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkd2luZG93Lmdvb2dsZS52aXN1YWxpemF0aW9uKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkd2luZG93Lmdvb2dsZS52aXN1YWxpemF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXR1cm4gZmFjdG9yeTtcblxuICAgIH1dKTtcblxufSkoYW5ndWxhcik7XG5cbmFuZ3VsYXIubW9kdWxlKCBcInJpc2V2aXNpb24ud2lkZ2V0LndlYi1wYWdlLnNldHRpbmdzXCIgKVxuICAuY29udHJvbGxlciggXCJ3ZWJQYWdlU2V0dGluZ3NDb250cm9sbGVyXCIsIFsgXCIkc2NvcGVcIiwgXCIkbG9nXCIsIFwieGZyYW1lT3B0aW9uc1wiLFxuICAgIGZ1bmN0aW9uKCAkc2NvcGUsICRsb2csIHhmcmFtZU9wdGlvbnMgKSB7XG5cbiAgICAgICRzY29wZS5ub1hGcmFtZU9wdGlvbnMgPSB0cnVlO1xuICAgICAgJHNjb3BlLmlzUHJldmlld1VybCA9IGZhbHNlO1xuICAgICAgJHNjb3BlLnVybElucHV0ID0gZmFsc2U7XG5cbiAgICAgICRzY29wZS52YWxpZGF0ZVhGcmFtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB4ZnJhbWVPcHRpb25zLmhhc09wdGlvbnMoICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnVybCApLnRoZW4oIGZ1bmN0aW9uKCB2YWx1ZSApIHtcbiAgICAgICAgICAkc2NvcGUubm9YRnJhbWVPcHRpb25zID0gIXZhbHVlO1xuICAgICAgICB9ICk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuJG9uKCBcInVybEZpZWxkQmx1clwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCAkc2NvcGUuc2V0dGluZ3NGb3JtLnBhZ2VVcmwuJHZhbGlkICkge1xuICAgICAgICAgICRzY29wZS52YWxpZGF0ZVhGcmFtZSgpO1xuICAgICAgICB9XG4gICAgICB9ICk7XG5cbiAgICAgICRzY29wZS4kd2F0Y2goIFwidXJsSW5wdXRcIiwgZnVuY3Rpb24oIHZhbHVlICkge1xuICAgICAgICBpZiAoIHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3NGb3JtLnBhZ2VVcmwuJHNldFZhbGlkaXR5KCBcInVybElucHV0XCIsIHZhbHVlICk7XG4gICAgICAgIH1cbiAgICAgIH0gKTtcblxuICAgICAgJHNjb3BlLiR3YXRjaCggXCJzZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnVybFwiLCBmdW5jdGlvbiggbmV3VmFsLCBvbGRWYWwgKSB7XG4gICAgICAgICRzY29wZS5pc1ByZXZpZXdVcmwgPSBuZXdWYWwgJiYgbmV3VmFsLmluZGV4T2YoIFwicHJldmlldy5yaXNldmlzaW9uLmNvbVwiICkgPiAwO1xuXG4gICAgICAgIGlmICggdHlwZW9mIG9sZFZhbCA9PT0gXCJ1bmRlZmluZWRcIiAmJiBuZXdWYWwgJiYgbmV3VmFsICE9PSBcIlwiICkge1xuICAgICAgICAgICRzY29wZS51cmxJbnB1dCA9IHRydWU7XG5cbiAgICAgICAgICAvLyBwcmV2aW91c2x5IHNhdmVkIHNldHRpbmdzIGFyZSBiZWluZyBzaG93biwgZW5zdXJlIHRvIGNoZWNrIGlmIHBhZ2UgaGFzIFgtRnJhbWUtT3B0aW9uc1xuICAgICAgICAgICRzY29wZS52YWxpZGF0ZVhGcmFtZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICggdHlwZW9mIG5ld1ZhbCAhPT0gXCJ1bmRlZmluZWRcIiApIHtcbiAgICAgICAgICAgIC8vIGVuc3VyZSB3YXJuaW5nIG1lc3NhZ2UgZG9lc24ndCBnZXQgc2hvd24gd2hpbGUgdXJsIGZpZWxkIGlzIHJlY2VpdmluZyBpbnB1dFxuICAgICAgICAgICAgJHNjb3BlLm5vWEZyYW1lT3B0aW9ucyA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICggbmV3VmFsICE9PSBcIlwiICkge1xuICAgICAgICAgICAgICAkc2NvcGUudXJsSW5wdXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSApO1xuXG4gICAgICAkc2NvcGUuJHdhdGNoKCBcInNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuem9vbVwiLCBmdW5jdGlvbiggdmFsdWUgKSB7XG4gICAgICAgIGlmICggdHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiICkge1xuICAgICAgICAgIGlmICggdmFsdWUgPiAxICkge1xuICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuaW50ZXJhY3Rpdml0eS5zY3JvbGxiYXJzID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9ICk7XG5cbiAgICAgICRzY29wZS4kd2F0Y2goIFwic2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5pbnRlcmFjdGl2aXR5LmludGVyYWN0aXZlXCIsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcbiAgICAgICAgaWYgKCB0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG4gICAgICAgICAgaWYgKCAhdmFsdWUgKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5pbnRlcmFjdGl2aXR5LnNjcm9sbGJhcnMgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gKTtcblxuICAgIH0gXSApXG4gIC52YWx1ZSggXCJkZWZhdWx0U2V0dGluZ3NcIiwge1xuICAgIHBhcmFtczoge30sXG4gICAgYWRkaXRpb25hbFBhcmFtczoge1xuICAgICAgY2FjaGVCdXN0ZXI6IHRydWUsXG4gICAgICBpbnRlcmFjdGl2aXR5OiB7XG4gICAgICAgIGludGVyYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgc2Nyb2xsYmFyczogZmFsc2VcbiAgICAgIH0sXG4gICAgICByZWZyZXNoOiAwLFxuICAgICAgcmVnaW9uOiB7XG4gICAgICAgIHNob3dSZWdpb246IFwicGFnZVwiLFxuICAgICAgICBob3Jpem9udGFsOiAwLFxuICAgICAgICB2ZXJ0aWNhbDogMFxuICAgICAgfSxcbiAgICAgIHVubG9hZDogdHJ1ZSxcbiAgICAgIHVybDogXCJcIixcbiAgICAgIHpvb206IDFcbiAgICB9XG4gIH0gKTtcblxuYW5ndWxhci5tb2R1bGUoIFwicmlzZXZpc2lvbi53aWRnZXQud2ViLXBhZ2Uuc2V0dGluZ3NcIiApXG4gIC5mYWN0b3J5KCBcInhmcmFtZU9wdGlvbnNcIiwgWyBcIiRsb2dcIiwgXCIkaHR0cFwiLCBmdW5jdGlvbiggJGxvZywgJGh0dHAgKSB7XG5cbiAgICB2YXIgZmFjdG9yeSA9IHtcbiAgICAgIGhhc09wdGlvbnM6IGZ1bmN0aW9uKCB1cmwgKSB7XG5cbiAgICAgICAgcmV0dXJuICRodHRwKCB7XG4gICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgIHVybDogXCJodHRwczovL3Byb3h5LnJpc2V2aXNpb24uY29tL1wiICsgdXJsXG4gICAgICAgIH0gKS50aGVuKCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG4gICAgICAgICAgdmFyIHhmcmFtZTtcblxuICAgICAgICAgICRsb2cuZGVidWcoIHJlc3BvbnNlLmhlYWRlcnMoKSApO1xuXG4gICAgICAgICAgaWYgKCByZXNwb25zZSAmJiByZXNwb25zZS5oZWFkZXJzKCkgKSB7XG4gICAgICAgICAgICB4ZnJhbWUgPSByZXNwb25zZS5oZWFkZXJzKCBcIlgtRnJhbWUtT3B0aW9uc1wiICk7XG4gICAgICAgICAgICByZXR1cm4geGZyYW1lICE9PSBudWxsICYmIHhmcmFtZS5pbmRleE9mKCBcIkFMTE9XLUZST01cIiApID09PSAtMTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSwgZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuICAgICAgICAgICRsb2cuZGVidWcoIFwiV2VicGFnZSByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlIFwiICsgcmVzcG9uc2Uuc3RhdHVzICsgXCI6IFwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dCApO1xuICAgICAgICB9ICk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmYWN0b3J5O1xuICB9IF0gKTtcbiJdfQ==
